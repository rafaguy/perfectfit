{"version":3,"sources":["app.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","Main","undefined","_utils","_carousel","_carousel2","_filterProduct","_filterProduct2","_anchorMenu","_anchorMenu2","_thumbnailBox","_thumbnailBox2","_collapsibleBox","_collapsibleBox2","_loadMore","_loadMore2","_popin","_popin2","_productBox","_productBox2","_dailyFeeding","_dailyFeeding2","_offersCarousel","_offersCarousel2","_collapsePhi","_collapsePhi2","_productSliderCarousel","_productSliderCarousel2","_navbarMobile","_navbarMobile2","_slider","_slider2","_uploadImg","_uploadImg2","_popinLogin","_popinLogin2","_coupon","_coupon2","_mbg","_mbg2","_petTypes","_petTypes2","_registrationSubmit","_registrationSubmit2","_petGender","_petGender2","_addAnotherPet","_addAnotherPet2","_formValidation","_formValidation2","_resetPassword","_resetPassword2","_utils3","this","init","$","document","foundation","customizeFooter","addEventListener","../../bower_components/parsleyjs/dist/parsley.js","./components/anchor-menu.js","./components/carousel.js","./components/collapse-phi","./components/collapsible-box.js","./components/coupon","./components/daily-feeding","./components/filter-product.js","./components/form/form-validation","./components/foundation-datepicker","./components/load-more.js","./components/login","./components/mbg/mbg","./components/navbar-mobile","./components/offers-carousel","./components/popin-login","./components/popin.js","./components/product-box.js","./components/product-slider-carousel","./components/profile","./components/registration/add-another-pet","./components/registration/breed","./components/registration/pet-gender","./components/registration/pet-types","./components/registration/registration-submit","./components/reset-password/reset-password","./components/slider","./components/thumbnail-box.js","./components/upload-img","./components/utils","./components/utils.js","./gtm/coupon","./gtm/forms-focus","./gtm/login-create-account","./gtm/sample","./jquery-global.js","./moment-config.js","devbridge-autocomplete","foundation-datepicker/js/foundation-datepicker","foundation-datepicker/js/locales/foundation-datepicker.de","foundation-datepicker/js/locales/foundation-datepicker.fr","foundation-datepicker/js/locales/foundation-datepicker.nl","foundation-datepicker/js/locales/foundation-datepicker.pl","foundation-sites/js/foundation.core","foundation-sites/js/foundation.slider","foundation-sites/js/foundation.util.keyboard","foundation-sites/js/foundation.util.mediaQuery","foundation-sites/js/foundation.util.motion","foundation-sites/js/foundation.util.touch","foundation-sites/js/foundation.util.triggers","magnific-popup","slick-carousel","2","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","AnchorMenu","on","event","scroll","initMobileAnchor","hightLightMenu","element","getAttribute","preventDefault","stop","animate","scrollTop","offset","top","location","href","attr","appendTo","each","text","find","val","$link","pathname","index","indexOf","addClass","Instance","freeze","3","Carousel","config","infinite","touchMove","draggable","arrows","configProductInfo","centerMode","dots","_this","fixBrokenAreaReference","hide","slick","scrollTo","css","show","$slide","parent","4","speed","CollapsePhi","collapse","btnActive","removeClass","toggleClass","switchDescription","elm","btnList","descriptionContentList","elmIndex","hasClass","fadeOut","fadeIn","_index","5","CollapsibleBox","click","mq","window","matchMedia","root","parents","matches","container","collapsed","btn","slideToggle","6","PrintCoupon","printCoupon","isMobileDevice","$a","trigger","test","navigator","userAgent","7","DailyFeeding","dataLayer","push","event_category","event_action","event_label","8","FilterProduct","initMobileFilter","filter","is","category","data","subfilter","9","DateValidation","day","month","year","isNumeric","zeroPad","moment","isValid","isNaN","parseFloat","isFinite","width","z","Array","join","10","_dateValidation","_dateValidation2","_foundationDatepicker","_foundationDatepicker2","FormValidation","initCheckPassword","initFormsValidation","initDateValidation","form","validateDateForm","result","parsley","validate","selectDate","validateDateSelect","errorClass","errorMessage","next","parseInt","isDateValid","validateDate","change","loginForm","resetPasswordForm","resentEmailForm","profileRegistrationForm","validateBirthDate","isFormValid","forms","validatePetForm","checkPassword","component","password","minLength","dataRequirement","showPasswordWarning","removePasswordWarning","match","dataValue","../foundation-datepicker","./date-validation","11","AGE_MIN","FoundationDatePicker","lang","documentElement","fdatepicker","language","format","startDate","endDate","leftArrow","rightArrow","closeButton","inputBirthdate","$errorMsg","$errorMsgParsley","birthDate","temp","replace","split","currendDate","reverse","age","diff","isUserAgeAllowed","querySelector","12","LoadMore","pushLastElementToLeft","printProductBox","lastElement","children","last","newElement","clone","13","Login","registerLogin","closest","model","username","site_id","rememberme","UrlPageReturn","culture","ajax","type","url","JSON","stringify","contentType","success","MessageError","loginGTM","html","error","_error","console","eventLabel","14","MAX_SIZE","FILE_EXTENSIONS","Mbg","initUpload","initValidation","input","files","FileReader","file","nextAll","button","prev","img","fileName","errorMsg","name","isFileExtensionValid","prop","remove","size","createElement","setAttribute","append","reader","onload","readAsDataURL","span","gencodeInput","removeAttr","handleGenCodeValidation","bind","pastedData","originalEvent","clipboardData","getData","validateInput","validateFileFormat","submit","inputFiles","$inputFile","../../components/utils","15","NavbarMobile","switchMenu","initMobileNav","initMobileClick","imgSrc","registerPopinArray","./popin","16","OffersCarousel","17","PopinLogin","magnificPopup","items","src","18","Popin","loupElement","popinArray","activator","popinMobile","popinDesktop","initImgPopin","buttonClickCssManager","open","registerPopin","options","off","logPop","stopPropagation","ajaxTestUserLoggedIn","sendMail","$lform","$rform","$resentForm","reset","callbacks","beforeClose","popinElement","urlLogin","setTimeout","cp","sendGtm","device","urlMobile","_error2","statusText","../gtm/coupon","./popin-login","19","petType","ProductBox","productName","20","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","Symbol","iterator","done","err","isArray","nbElement","SlickSlider","slider","slidesToShow","slidesToScroll","swipe","focusOnSelect","initialSlide","responsive","breakpoint","settings","centerPadding","configOne","configDesktopFive","mobileComponentSelector","desktopComponentSelector","that","_initialize","tabItemsOnClick","categorieItemsOnClick","_sliderRender","desktopOnClickSelector","currentTarget","desktopFiveOnClickSelector","productFilterOnPageLoad","elementID","Number","currentElement","dataColor","slickWrapper","selectedDescription","siblings","_dataColor","_slickWrapper","elementColor","selectedItem","tabItems","tabContentWrapper","selectedTab","selectedContent","categorieItem","DefaultElement","dog","cat","selectedItemCategorieName","SelectedProductsFilter","objectParam","urlParamParser","$category","getParams","query","slice","reduce","params","param","_param$split","_param$split2","decodeURIComponent","21","_breed","_breed2","Profile","checkNumberOfProfilePet","switchPanel","duplicateProfile","submitProfile","initImgFormDelete","initDeletePetProfile","deactivateAccount","initLabelValue","$form","context","submitData","profile","icon","iconClassEditable","iconClassNotEditable","editableStateClass","breed","breedCarousel","initBreedSlider","initSlider","petForms","petForm","sliders","isTriggered","$lastPetProfile","lastIndex","newIndex","lastForm","createUrl","$newPet","destroy","inputs","ind","elem","jElem","id","_id","_id2","ariaControls","resetActiveSlider","_id3","_ariaControls","registrationPet","registrationPetForm","deleteButton","clearFormValue","empty","insertAfter","thumbnail","profileImg","selected","unselected","iindex","Foundation","Slider","breeds","nbrProfilePet","$DataProfile","SavedElement","imgs","petThumbnail","petId","$popupBtn","profileIndex","sectionContainer","forminputs","date","checkedSex","./form/form-validation","./registration/breed","./registration/pet-gender","./registration/registration-submit","22","AddAnotherPet","$addpetbloc","addPet","btnRemove","removePet","$clone","newFormId","../form/form-validation","23","breedsDog","breedsCat","otherBreedId","mixedBreedId","Breed","mobileFirst","breedInstance","componentCarousel","componentInput","componentHiddenInput","componentCategory","componentUrl","componentCulture","componentData","breedNames","Spiecie","createCarouselItem","autocomplete","lookup","onSelect","suggestion","breedFilter","initializeCarouselItemClick","initSearchFilter","initInputValue","breedList","pageId","specie","async","errorThrown","breedPackshot","imagePackshot","itemWrapper","CrmId","Image","sendBreedGtm","currentBreedName","toLowerCase","totalItems","showOtherBreed","24","MALE_INDEX","FEMALE_INDEX","PetGender","formElements","initFormElementLabel","petSpendTime","first","petSpendTimeLabel","formElement","label","25","PetTypes","thumbnails","showFormElements","resetForm","resetSlider","resetProfileImg","initializeBreedForm","petTypeThumbnail","initBreedCarousel","selectFormDate","resetSelectElm","resetGenderLabel","selects","select","previews","labels","handle","./breed","./pet-gender","26","_typeof","constructor","RegistrationSubmit","number","String","isProfileRegistrationValid","chkLang","isChecked","setEnableBtn","validatePetsForm","chkTerms","isChkTermsChecked","isEnable","disabled","URL","METHODE","ENCTYPE","pets","petPhotoUrlList","petIndex","idx","pet","serializeArray","PET_TYPE","item","selector","dates","petBirthDay","leftPad","petBirthMonth","petBirthYear","petBirthDate","now","months","ladderAge","Math","round","petLadderAge","dataPetAttr","petBreedId","hear","pop","hearPerfectFit","hearPerfectFitLang","petsModel","formData","FormData","p","localStorage","setItem","dataType","enctype","processData","resp","status","reload","27","SendMail","onSubmitEmail","email","returnUrl","close","removeData","jqXhR","textStatus","28","isFirstLoad","syncBirthDateInv","sendGTM","isAgeSlider","isHandle","manageTooltip","ageIndex","log","tooltip","syncBirthDate","isSliderActive","regex","subtract","calendar","monthIndex","v","29","ThumbnailBox","slideDown","30","UploadImg","insertBefore","31","interval","setInterval","clearInterval","extensionsLists","inArray","fn","easing","targetOffset","jQuery","32","Coupon","_couponName","couponID","eventAction","isPrintNow","33","onFocusGTM","newId","34","LoginCreateAccount","35","Sample","sendGtmSample","isComplete","36","_jquery","_jquery2","jquery","37","_moment","_moment2","_fr","_fr2","locale","moment/locale/fr","38","global","_toConsumableArray","arr2","from","_slice","factory","define","amd","adapt","parsleyAdaptedCallback","args","arguments","unshift","apply","eventName","lastIndexOf","eventPrefix","substr","InputEvent","_this14","globals","extend","isNativeEvent","evt","isTrusted","fakeInputEvent","misbehaves","behavesOk","install","inputEventPatched","uninstall","globalID","pastWarnings","ParsleyUtils__ParsleyUtils","$element","namespace","attribute","attributes","RegExp","hasOwnProperty","specified","camelize","deserializeValue","checkAttr","_checkAttr","setAttr","dasherize","generateID","num","parseJSON","str","chr","toUpperCase","warn","_window$console","warnOnce","msg","_resetWarnings","trimString","string","namespaceEvents","events","map","difference","array","_","all","promises","when","concat","objectCreate","create","_SubmitSelector","ParsleyUtils__default","ParsleyDefaults","excluded","priorityEnabled","multiple","group","uiEnabled","validationThreshold","focus","triggerAfterFailure","successClass","classHandler","ParsleyField","errorsContainer","errorsWrapper","errorTemplate","ParsleyAbstract","__id__","asyncSupport","_pipeAccordingToValidationResult","pipe","Deferred","validationResult","reject","resolve","promise","actualizeOptions","domOptions","_resetOptions","initOptions","_listeners","queue","subscribe","listenTo","splice","unsubscribe","unsubscribeTo","extraArg","__class__","_resetUI","_trigger","fields","_destroyUI","asyncIsValid","force","whenValid","_findRelated","requirementConverters","_string","integer","reference","boolean","object","regexp","_regexp","flags","convertArrayRequirement","m","values","convertRequirement","requirementType","converter","convertExtraOptionRequirement","requirementSpec","extraOptionReader","main","extra","ParsleyValidator","spec","requirementFirstArg","validateMultiple","validateNumber","validateString","parseRequirements","requirements","isPlainObject","priority","ParsleyValidatorRegistry","validators","catalog","typeRegexes","digits","alphanum","range","decimalPlaces","max","addValidator","Parsley","setLocale","addCatalog","messages","set","addMessage","message","addMessages","nameMessageObject","arg1","arg2","_setValidator","updateValidator","removeValidator","validator","getErrorMessage","constraint","typeMessages","formatMessage","defaultMessage","en","parameters","notblank","required","_ref","_ref$step","step","_ref$base","base","nb","decimals","toInt","pow","","pattern","minlength","requirement","maxlength","min","mincheck","maxcheck","check","equalto","refOrValue","$reference","ParsleyUI","diffResults","newResult","oldResult","deep","added","kept","found","j","assert","removed","Form","_actualizeTriggers","_this2","onSubmitValidate","onSubmitButton","_focusedField","field","noFocus","Field","_reflowUI","_buildUI","_ui","lastValidationResult","_manageStatusClass","_manageErrorsMessages","_failedOnce","getErrorsMessages","_getErrorMessage","addError","_ref2","_ref2$updateClass","updateClass","_addError","_errorClass","updateError","_ref3","_ref3$updateClass","_updateError","removeError","_ref4","_ref4$updateClass","_removeError","hasConstraints","needsValidation","_successClass","_resetClass","errorsMessagesDisabled","_insertErrorWrapper","$errorsWrapper","_ref5","_ref6","customConstraintErrorMessage","$errorClassHandler","_manageClassHandler","errorsWrapperId","validationInformationVisible","$handler","_inputHolder","$errorsContainer","after","_this3","$toBind","_validateIfNeeded","_this4","getValue","debounce","clearTimeout","_debounced","ParsleyForm","ParsleyForm__statusMapping","pending","resolved","rejected","_this5","$submitSource","_$submitSource","whenValidate","state","stopImmediatePropagation","_submit","$synthetic","Event","_arguments","_ParsleyUtils__default$all$done$fail$always","_this6","_ref7","submitEvent","_refreshFields","_withoutReactualizingFormOptions","fail","always","_arguments2","_this7","_ref8","_bindFields","_this8","oldFields","fieldsMappedById","not","fieldInstance","Factory","oldActualizeOptions","ConstraintFactory","parsleyField","isDomConstraint","validatorSpec","_validatorRegistry","_parseRequirements","capitalize","cap","_validator","requirementList","_this9","parsleyFormInstance","constraints","constraintsByName","_bindConstraints","parsley_field__statusMapping","_whenValid$always$done$fail$always","_this10","_ref9","refreshConstraints","_isInGroup","_refreshed","_isRequired","validateIfEmpty","_arguments3","_this11","_ref10","_ref10$force","groupedConstraints","_getGroupedConstraints","_validateConstraint","_this12","_handleWhitespace","addConstraint","removeConstraint","updateConstraint","_bindHtml5Constraints","trimValue","whitespace","sort","b","parsley_field","ParsleyMultiple","addElement","$elements","fieldConstraints","has","_init","ParsleyFactory","savedparsleyFormInstance","__version__","isMultiple","handleMultiple","parsleyMultipleInstance","_this13","$previouslyRelated","get","doNotStore","parsleyInstance","ParsleyExtend","vernums","forEach","version","psly","instances","ParsleyConfig","ParsleyUtils","registry","i18n","method","proxy","_window$Parsley","UI","doNotUpdateClass","autoBind","deprecated","listen","callback","unsubscribeAll","emit","_instance","instanceGiven","asyncValidators","xhr","addAsyncValidator","ajaxOptions","csr","encodeURIComponent","remoteOptions","_remoteCache","handleXhr","then","inputevent","self","39","Autocomplete","el","noop","defaults","ajaxSettings","autoSelectFirst","body","serviceUrl","minChars","maxHeight","deferRequestBy","formatResult","formatGroup","delimiter","zIndex","noCache","onSearchStart","onSearchComplete","onSearchError","preserveInput","containerClass","tabDisabled","currentRequest","triggerSelectOnValidInput","preventBadQueries","lookupFilter","originalQuery","queryLowerCase","paramName","transformResult","response","showNoSuggestionNotice","noSuggestionNotice","orientation","forceFixPosition","suggestions","badQueries","selectedIndex","currentValue","intervalId","cachedResponse","onChangeInterval","onChange","isLocal","suggestionsContainer","noSuggestionsContainer","classes","hint","hintValue","selection","initialize","setOptions","utils","escapeRegExChars","createNode","div","className","style","position","display","keys","ESC","TAB","RETURN","LEFT","UP","RIGHT","DOWN","killerFn","suggestionSelector","killSuggestions","disableKillerFn","activate","fixPositionCapture","visible","fixPosition","onKeyPress","onKeyUp","onBlur","onFocus","onValueChange","enableKillerFn","abortAjax","abort","suppliedOptions","verifySuggestionsFormat","validateOrientation","max-height","z-index","clearCache","clear","disable","enable","$container","containerParent","containerHeight","outerHeight","height","styles","left","viewPortHeight","topOverflow","bottomOverflow","parentOffsetDiff","opacity","offsetParent","outerWidth","stopKillSuggestions","isCursorAtEnd","valLength","selectionStart","createRange","moveStart","which","suggest","onHint","selectHint","moveUp","moveDown","findBestHint","getQuery","onInvalidateSelection","isExactMatch","getSuggestions","parts","trim","getSuggestionsLocal","limit","lookupLimit","grep","q","cacheKey","ignoreParams","isFunction","isBadQuery","processResponse","jqXHR","onHide","signalHint","noSuggestions","groupBy","classSelected","beforeRender","currentCategory","adjustContainerWidth","detach","bestMatch","foundMatch","fallback","activeItem","adjustScroll","offsetTop","upperBound","lowerBound","heightDelta","onSelectCallback","dispose","devbridgeAutocomplete","dataKey","inputElement","40","UTCDate","Date","UTC","Datepicker","autoShow","isRTL","rtl","DPGlobal","parseFormat","formatText","isInline","isInput","hasInput","disableDblClickSelection","onRender","linkField","linkFormat","minuteStep","pickerPosition","initialDate","faCSSprefix","closeIcon","minView","convertViewMode","maxView","modes","startViewMode","startView","viewMode","pickTime","forceParse","picker","template","mousedown","prepend","autoclose","keyboardNavigation","todayBtn","todayHighlight","calendarWeeks","weekStart","weekEnd","Infinity","daysOfWeekDisabled","datesDisabled","setStartDate","setEndDate","setDaysOfWeekDisabled","setDatesDisabled","fillDow","fillMonths","update","showMode","_attachEvents","_events","_detachEvents","keyup","keydown","dblclick","blur","ev","place","setValue","datepicker","getDate","d","getUTCDate","getTime","getTimezoneOffset","setDate","setUTCDate","formatted","getFormattedDate","formatDate","parseDate","updateNavArrows","valueOf","textbox","fullOffsetTop","offsetLeft","fromArgs","currentVal","viewDate","fill","dowCnt","cell","daysMin","monthsShort","getUTCFullYear","getUTCMonth","dayMonth","hours","getUTCHours","minutes","getUTCMinutes","startYear","startMonth","endYear","endMonth","currentDate","today","titleFormat","toggle","prevMonth","getDaysInMonth","getUTCDay","nextMonth","clsName","getDay","getFullYear","calWeek","getMonth","actual","floor","currentYear","end","eq","yearCont","hour","visibility","nodeName","dir","navStep","moveHour","moveDate","moveMonth","moveYear","getHours","getMinutes","getSeconds","_setDate","seconds","getUTCSeconds","setUTCMonth","setUTCFullYear","oldViewMode","new_date","setUTCHours","new_month","mag","abs","dateWithinRange","keyCode","newDate","newViewDate","dateChanged","ctrlKey","shiftKey","newViewMode","option","shift","$this","days","daysShort","navFnc","isLeapYear","validParts","nonpunctuation","separators","part","part_re","exec","Datetimepicker","filtered","parsed","setters_order","setters_map","hh","h","ii","setUTCMinutes","ss","setUTCSeconds","yyyy","yy","cnt","M","MM","toString","substring","dd","mm","seps","headTemplate","contTemplate","footTemplate","41","42","43","44","45","functionName","Function","funcNameRegex","results","parseValue","hyphenate","FOUNDATION_VERSION","_plugins","_uuids","plugin","_plugin","attrName","registerPlugin","pluginName","uuid","GetYoDigits","unregisterPlugin","reInit","plugins","isJQ","fns","plgs","random","reflow","$elem","addBack","$el","opts","opt","er","getFnName","transitionend","transitions","transition","WebkitTransition","MozTransition","OTransition","triggerHandler","util","throttle","func","delay","timer","$meta","$noJS","head","MediaQuery","plugClass","ReferenceError","vendors","requestAnimationFrame","vp","cancelAnimationFrame","lastTime","nextTime","performance","start","oThis","aArgs","fToBind","fNOP","fBound","46","percent","frac","absPosition","$handle","clickPos","baseLog","Keyboard","register","ltr","ARROW_RIGHT","ARROW_UP","ARROW_DOWN","ARROW_LEFT","SHIFT_ARROW_RIGHT","SHIFT_ARROW_UP","SHIFT_ARROW_DOWN","SHIFT_ARROW_LEFT","handles","$input","$fill","vertical","isDbl","disabledClass","add","binding","_setInitAttr","doubleSided","$handle2","$input2","setHandles","_setHandlePos","pctOfBar","positionValueFunction","_logTransform","_powTransform","toFixed","nonLinearBase","$hndl","noInvert","cb","h2Val","h1Val","vert","hOrW","lOrT","handleDim","getBoundingClientRect","elemDim","_pctOfBar","pxToMove","movement","decimal","_setValues","dim","isLeftHndl","handlePct","handlePos","initialStart","one","moveTime","Move","timeout","changedDelay","initVal","initialEnd","role","aria-controls","aria-valuemax","aria-valuemin","aria-valuenow","aria-orientation","tabindex","hasVal","_adjustValue","direction","eventOffset","pageY","pageX","barDim","windowScroll","scrollLeft","elemOffset","clientY","barXY","eventFromBar","offsetPct","_value","firstHndlPos","secndHndlPos","prev_val","next_val","_eventsForHandle","curHandle","_handleEvent","clickSelect","addTouch","$body","newValue","_$handle","oldValue","handleKey","decrease","increase","decrease_fast","increase_fast","handled","invertVertical","47","getKeyCodes","kcs","k","kc","keyCodes","commands","parseKey","fromCharCode","altKey","functions","cmds","command","commandList","returnValue","unhandled","findFocusable","componentName","trapFocus","$focusable","$firstFocusable","$lastFocusable","releaseFocus","48","parseStyleToObject","styleObject","ret","queries","current","namedQueries","extractedStyles","_getCurrentSize","_watcher","atLeast","matched","newSize","currentSize","styleMedia","media","script","getElementsByTagName","info","parentNode","getComputedStyle","currentStyle","matchMedium","styleSheet","cssText","textContent","49","duration","move","ts","prog","anim","isIn","animation","finish","transitionDuration","initClass","activeClass","initClasses","activeClasses","offsetWidth","Motion","animateIn","animateOut","50","onTouchEnd","removeEventListener","onTouchMove","isMoving","spotSwipe","x","touches","dx","startPosX","elapsedTime","startTime","moveThreshold","timeThreshold","onTouchStart","startPosY","enabled","special","setup","handleTouch","simulatedEvent","changedTouches","eventTypes","touchstart","touchmove","touchend","MouseEvent","bubbles","cancelable","screenX","screenY","clientX","createEvent","initMouseEvent","dispatchEvent","51","checkListeners","eventsListener","resizeListener","scrollListener","mutateListener","closemeListener","yetiBoxes","plugNames","listeners","pluginId","$nodes","MutationObserver","nodes","querySelectorAll","listeningElementsMutation","mutationRecordsList","$target","attributeName","pageYOffset","elementObserver","observe","childList","characterData","subtree","attributeFilter","prefixes","triggers","IHearYou","52","w","noGlobal","isArraylike","isWindow","nodeType","winnow","elements","qualifier","risSimple","sibling","cur","createOptions","optionsCache","rnotwhite","flag","completed","ready","Data","cache","expando","dataAttr","rmultiDash","rbrace","data_user","returnTrue","returnFalse","safeActiveElement","activeElement","manipulationTarget","content","firstChild","appendChild","ownerDocument","disableScript","restoreScript","rscriptTypeMasked","removeAttribute","setGlobalEval","elems","refElements","data_priv","cloneCopyEvent","dest","pdataOld","pdataCur","udataOld","udataCur","hasData","access","getAll","tag","merge","fixInput","rcheckableType","checked","defaultValue","actualDisplay","doc","getDefaultComputedStyle","defaultDisplay","elemdisplay","iframe","contentDocument","write","curCSS","computed","minWidth","maxWidth","getStyles","getPropertyValue","contains","rnumnonpx","rmargin","addGetHookIf","conditionFn","hookFn","vendorPropName","capName","origName","cssPrefixes","setPositiveNumber","rnumsplit","augmentWidthOrHeight","isBorderBox","cssExpand","getWidthOrHeight","valueIsBorderBox","offsetHeight","support","boxSizingReliable","showHide","hidden","isHidden","Tween","createFxNow","fxNow","genFx","includeWidth","attrs","createTween","tween","collection","tweeners","defaultPrefilter","hooks","oldfire","checkDisplay","orig","dataShow","_queueHooks","unqueued","fire","overflow","overflowX","overflowY","rfxtypes","isEmptyObject","propFilter","specialEasing","camelCase","cssHooks","expand","Animation","properties","stopped","animationPrefilters","deferred","tick","currentTime","remaining","tweens","run","notifyWith","resolveWith","originalProperties","originalOptions","gotoEnd","rejectWith","fx","progress","complete","addToPrefiltersOrTransports","structure","dataTypeExpression","dataTypes","inspectPrefiltersOrTransports","inspect","inspected","prefilterOrFactory","dataTypeOrTransport","seekingTransport","transports","ajaxExtend","flatOptions","ajaxHandleResponses","responses","ct","finalDataType","firstDataType","contents","mimeType","getResponseHeader","converters","ajaxConvert","isSuccess","conv2","conv","tmp","responseFields","dataFilter","buildParams","prefix","traditional","rbracket","getWindow","defaultView","class2type","hasOwn","rtrim","rmsPrefix","rdashAlpha","fcamelCase","letter","toArray","pushStack","prevObject","len","copy","copyIsArray","isReady","globalEval","indirect","eval","removeChild","makeArray","second","invert","callbackInverse","callbackExpect","arg","guid","Sizzle","seed","groups","old","nid","newContext","newSelector","preferredDoc","setDocument","documentIsHTML","rquickExpr","getElementById","getElementsByClassName","qsa","rbuggyQSA","tokenize","rescape","toSelector","rsibling","testContext","qsaError","createCache","Expr","cacheLength","markFunction","addHandle","handler","attrHandle","siblingCheck","sourceIndex","MAX_NEGATIVE","nextSibling","createInputPseudo","createButtonPseudo","createPositionalPseudo","argument","matchIndexes","strundefined","setFilters","tokens","addCombinator","matcher","combinator","checkNonElements","doneName","xml","oldCache","outerCache","newCache","dirruns","elementMatcher","matchers","multipleContexts","contexts","condense","unmatched","newUnmatched","mapped","setMatcher","preFilter","postFilter","postFinder","postSelector","preMap","postMap","preexisting","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","relative","implicitRelative","matchContext","matchAnyContext","outermostContext","matcherFromGroupMatchers","elementMatchers","setMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","dirrunsUnique","uniqueSort","getText","isXML","compile","sortInput","hasDuplicate","docElem","rbuggyMatches","classCache","tokenCache","compilerCache","sortOrder","push_native","booleans","characterEncoding","identifier","pseudos","rcomma","rcombinators","rattributeQuotes","rpseudo","ridentifier","matchExpr","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","rinputs","rheader","rnative","runescape","funescape","escaped","escapedWhitespace","high","childNodes","els","node","hasCompare","attachEvent","createComment","innerHTML","getById","getElementsByName","attrId","getAttributeNode","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","adown","bup","compare","sortDetached","aup","ap","bp","expr","duplicates","detectDuplicates","sortStable","nodeValue","selectors","createPseudo",">"," ","+","~","excess","unquoted","nodeNameSelector","operator","what","simple","forward","ofType","nodeIndex","useCache","lastChild","pseudo","innerText","elemLang","hash","hasFocus","tabIndex","header","even","odd","lt","gt","radio","checkbox","image","filters","parseOnly","soFar","preFilters","cached","token","compiled","div1","unique","isXMLDoc","rneedsContext","rsingleTag","rootjQuery","parseHTML","rparentsprev","guaranteedUnique","until","truncate","targets","pos","prevAll","parentsUntil","nextUntil","prevUntil","Callbacks","memory","fired","firing","firingStart","firingLength","firingIndex","list","stack","once","stopOnFalse","lock","locked","fireWith","tuples","newDefer","tuple","returned","notify","stateString","subordinate","progressValues","progressContexts","resolveContexts","resolveValues","updateFunc","readyList","readyWait","holdReady","hold","wait","readyState","chainable","emptyGet","raw","bulk","acceptData","owner","uid","accepts","unlock","stored","camel","discard","_data","_removeData","camelKey","dequeue","startLength","setter","clearQueue","count","defer","pnum","source","fragment","createDocumentFragment","checkClone","cloneNode","noCloneChecked","focusinBubbles","rkeyEvent","rmouseEvent","rfocusMorph","rtypenamespace","types","handleObjIn","eventHandle","handleObj","handlers","namespaces","origType","elemData","triggered","dispatch","delegateType","bindType","delegateCount","mappedTypes","origCount","teardown","removeEvent","onlyHandlers","bubbleType","ontype","eventPath","isTrigger","namespace_re","noBubble","parentWindow","isPropagationStopped","isDefaultPrevented","_default","fix","handlerQueue","delegateTarget","preDispatch","isImmediatePropagationStopped","postDispatch","sel","fixHooks","keyHooks","original","charCode","mouseHooks","eventDoc","clientLeft","clientTop","fixHook","load","beforeunload","simulate","bubble","isSimulated","defaultPrevented","timeStamp","mouseenter","mouseleave","pointerenter","pointerleave","related","relatedTarget","attaches","origFn","rxhtmlTag","rtagName","rhtml","rnoInnerhtml","rchecked","rscriptType","rcleanScript","wrapMap","thead","col","tr","td","optgroup","tbody","tfoot","colgroup","caption","th","dataAndEvents","deepDataAndEvents","srcElements","destElements","inPage","buildFragment","scripts","wrap","createTextNode","cleanData","domManip","before","keepData","replaceWith","replaceChild","hasScripts","iNoClone","_evalUrl","prependTo","replaceAll","insert","computePixelPositionAndBoxSizingReliable","divStyle","pixelPositionVal","boxSizingReliableVal","backgroundClip","clearCloneStyle","pixelPosition","reliableMarginRight","marginDiv","marginRight","swap","rdisplayswap","rrelNum","cssShow","cssNormalTransform","letterSpacing","fontWeight","cssNumber","columnCount","fillOpacity","flexGrow","flexShrink","lineHeight","order","orphans","widows","zoom","cssProps","float","margin","padding","border","suffix","expanded","unit","propHooks","eased","linear","swing","cos","PI","timerId","rfxnum","rrun","*","scale","maxIterations","tweener","prefilter","speeds","fadeTo","to","optall","doAnimation","stopQueue","timers","cssFn","slideUp","fadeToggle","slow","fast","time","checkOn","optSelected","optDisabled","radioValue","nodeHook","boolHook","nType","attrHooks","propName","attrNames","propFix","getter","rfocusable","removeProp","for","class","notxml","hasAttribute","rclass","clazz","finalValue","proceed","stateVal","classNames","rreturn","valHooks","optionSet","hover","fnOver","fnOut","unbind","delegate","undelegate","nonce","rquery","parse","parseXML","DOMParser","parseFromString","ajaxLocParts","ajaxLocation","rhash","rts","rheaders","rlocalProtocol","rnoContent","rprotocol","rurl","prefilters","allTypes","active","lastModified","etag","json","* text","text html","text json","text xml","ajaxSetup","ajaxPrefilter","ajaxTransport","nativeStatusText","headers","modified","timeoutTimer","transport","responseHeadersString","ifModified","cacheURL","callbackContext","statusCode","fireGlobals","globalEventContext","completeDeferred","responseHeaders","requestHeaders","requestHeadersNames","strAbort","getAllResponseHeaders","setRequestHeader","lname","overrideMimeType","finalText","crossDomain","hasContent","beforeSend","send","getJSON","getScript","throws","wrapAll","firstElementChild","wrapInner","unwrap","r20","rCRLF","rsubmitterTypes","rsubmittable","serialize","XMLHttpRequest","xhrId","xhrCallbacks","xhrSuccessStatus","0","1223","xhrSupported","ActiveXObject","cors","xhrFields","onerror","responseText","text script","charset","scriptCharset","oldCallbacks","rjsonp","jsonp","jsonpCallback","originalSettings","callbackName","overwritten","responseContainer","jsonProp","keepScripts","_load","animated","setOffset","curPosition","curLeft","curCSSTop","curTop","curOffset","curCSSLeft","calculatePosition","curElem","using","win","box","pageXOffset","parentOffset","Height","Width","defaultExtra","funcName","andSelf","_jQuery","_$","noConflict","53","Zepto","mfp","_prevStatus","_document","_prevContentType","_wrapClasses","_currPopupType","CLOSE_EVENT","BEFORE_CLOSE_EVENT","AFTER_CLOSE_EVENT","BEFORE_APPEND_EVENT","MARKUP_PARSE_EVENT","OPEN_EVENT","CHANGE_EVENT","NS","EVENT_NS","READY_CLASS","REMOVING_CLASS","PREVENT_CLOSE_CLASS","MagnificPopup","_isJQ","_window","_mfpOn","_getEl","_mfpTrigger","st","charAt","_getCloseBtn","currTemplate","closeBtn","closeMarkup","tClose","_checkInstance","supportsTransitions","appVersion","isLowIE","isIE8","isAndroid","isIOS","supportsTransition","probablyMobile","popupsCache","isObj","isOpen","updateItemHTML","mainEl","fixedContentPos","modal","closeOnContentClick","closeOnBgClick","showCloseBtn","enableEscapeKey","bgOverlay","_checkIfClose","contentContainer","preloader","tLoading","modules","closeBtnInside","close_replaceWith","alignTop","fixedBgPos","updateSize","windowHeight","wH","windowStyles","_hasScrollBar","_getScrollbarSize","isIE7","classesToadd","mainClass","_addClassToMFP","_lastFocusedEl","_setFocus","_onFocusIn","removalDelay","_close","classesToRemove","_removeClassFromMFP","currItem","autoFocusLast","prevHeight","winHeight","zoomLevel","clientWidth","innerWidth","innerHeight","parseEl","markup","newContent","appendContent","preloaded","tagName","addGroup","eHandler","mfpEl","_openClick","eName","midClick","metaKey","disableOn","updateStatus","closeOnContent","closeOnBg","cName","scrollHeight","_parseMarkup","scrollbarSize","scrollDiv","proto","registerModule","jqEl","itemOpts","_hiddenClass","_inlinePlaceholder","_lastInlineElement","INLINE_NS","_putInlineElementsBack","hiddenClass","tNotFound","initInline","getInline","inlineSt","inline","inlineElement","_ajaxCur","AJAX_NS","_removeAjaxCursor","_destroyAjaxRequest","req","cursor","tError","initAjax","getAjax","finished","loadError","_imgInterval","_getTitle","title","titleSrc","verticalFit","initImage","imgSt","ns","resizeImage","decr","_onImageHasSize","hasSize","isCheckingImgSize","imgHidden","findImageSize","counter","mfpSetInterval","naturalWidth","getImage","guard","onLoadComplete","loaded","onLoadError","alt","img_replaceWith","loading","hasMozTransform","getHasMozTransform","MozTransform","opener","initZoom","zoomSt","openTimeout","animatedImg","getElToAnimate","newImg","cssObj","-webkit-backface-visibility","showMainContent","_allowZoom","_getItemToZoom","_getOffset","isLarge","paddingTop","paddingBottom","IFRAME_NS","_emptyPage","_fixIframeBugs","isShowing","srcAction","patterns","youtube","vimeo","gmaps","initIframe","prevType","newType","getIframe","embedSrc","iframeSt","dataObj","_getLoopedId","numSlides","_replaceCurrTotal","curr","total","arrowMarkup","preload","navigateByImgClick","tPrev","tNext","tCounter","initGallery","gSt","gallery","arrowLeft","arrowRight","_preloadTimeout","preloadNearbyImages","goTo","preloadBefore","preloadAfter","_preloadItem","RETINA_NS","replaceSrc","ratio","initRetina","devicePixelRatio","retina","max-width","54","fr","defineLocale","monthsParseExact","weekdays","weekdaysShort","weekdaysMin","weekdaysParseExact","longDateFormat","LT","LTS","L","LL","LLL","LLLL","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","relativeTime","future","past","y","ordinalParse","ordinal","week","dow","doy","../moment","55","hookCallback","setHookCallback","isObject","isObjectEmpty","isNumber","isDate","res","hasOwnProp","createUTC","strict","createLocalOrUTC","utc","defaultParsingFlags","unusedTokens","unusedInput","charsLeftOver","nullInput","invalidMonth","invalidFormat","userInvalidated","iso","parsedDateParts","meridiem","getParsingFlags","_pf","_isValid","parsedParts","some$1","isNowValid","invalidWeekday","_strict","bigHour","isFrozen","createInvalid","NaN","isUndefined","copyConfig","_isAMomentObject","_f","_l","_tzm","_isUTC","_offset","_locale","momentProperties","Moment","updateInProgress","updateOffset","isMoment","absFloor","ceil","argumentForCoercion","coercedNumber","compareArrays","array1","array2","dontConvert","lengthDiff","diffs","suppressDeprecationWarnings","deprecate","firstTime","deprecationHandler","deprecateSimple","deprecations","_config","_ordinalParseLenient","_ordinalParse","mergeConfigs","parentConfig","childConfig","Locale","mom","output","_calendar","_longDateFormat","formatUpper","invalidDate","_invalidDate","_ordinal","withoutSuffix","isFuture","_relativeTime","pastFuture","addUnitAlias","shorthand","lowerCase","aliases","normalizeUnits","units","normalizeObjectUnits","inputObject","normalizedProp","normalizedInput","addUnitPriority","priorities","getPrioritizedUnits","unitsObj","makeGetSet","keepTime","set$1","stringGet","stringSet","prioritized","zeroFill","targetLength","forceSign","absNumber","zerosToFill","sign","addFormatToken","padded","formatTokenFunctions","localeData","removeFormattingTokens","makeFormatFunction","formattingTokens","formatMoment","expandFormat","formatFunctions","replaceLongDateFormatTokens","localFormattingTokens","addRegexToken","strictRegex","regexes","isStrict","getParseRegexForToken","unescapeFormat","regexEscape","p1","p2","p3","p4","addParseToken","addWeekParseToken","_w","addTimeToArrayFromToken","_a","daysInMonth","localeMonths","_months","isFormat","MONTHS_IN_FORMAT","localeMonthsShort","_monthsShort","handleStrictParse","monthName","llc","toLocaleLowerCase","_monthsParse","_longMonthsParse","_shortMonthsParse","indexOf$1","localeMonthsParse","_monthsParseExact","setMonth","dayOfMonth","monthsParse","getSetMonth","monthsShortRegex","computeMonthsParse","_monthsShortStrictRegex","_monthsShortRegex","defaultMonthsShortRegex","monthsRegex","_monthsStrictRegex","_monthsRegex","defaultMonthsRegex","cmpLenRev","shortPieces","longPieces","mixedPieces","daysInYear","getIsLeapYear","createDate","ms","setFullYear","createUTCDate","firstWeekOffset","fwd","fwdlw","dayOfYearFromWeeks","weekday","resYear","resDayOfYear","localWeekday","weekOffset","dayOfYear","weekOfYear","resWeek","weeksInYear","weekOffsetNext","localeWeek","_week","localeFirstDayOfWeek","localeFirstDayOfYear","getSetWeek","getSetISOWeek","parseWeekday","weekdaysParse","parseIsoWeekday","localeWeekdays","_weekdays","localeWeekdaysShort","_weekdaysShort","localeWeekdaysMin","_weekdaysMin","handleStrictParse$1","weekdayName","_weekdaysParse","_shortWeekdaysParse","_minWeekdaysParse","localeWeekdaysParse","_weekdaysParseExact","_fullWeekdaysParse","getSetDayOfWeek","getSetLocaleDayOfWeek","getSetISODayOfWeek","weekdaysRegex","computeWeekdaysParse","_weekdaysStrictRegex","_weekdaysRegex","defaultWeekdaysRegex","weekdaysShortRegex","_weekdaysShortStrictRegex","_weekdaysShortRegex","defaultWeekdaysShortRegex","weekdaysMinRegex","_weekdaysMinStrictRegex","_weekdaysMinRegex","defaultWeekdaysMinRegex","minp","shortp","longp","minPieces","hFormat","kFormat","lowercase","matchMeridiem","_meridiemParse","localeIsPM","localeMeridiem","isLower","normalizeLocale","chooseLocale","names","loadLocale","oldLocale","locales","globalLocale","_abbr","getSetGlobalLocale","getLocale","baseConfig","abbr","parentLocale","localeFamilies","updateLocale","listLocales","keys$1","checkOverflow","MONTH","DATE","YEAR","HOUR","MINUTE","SECOND","MILLISECOND","_overflowDayOfYear","_overflowWeeks","WEEK","_overflowWeekday","WEEKDAY","configFromISO","allowTime","dateFormat","timeFormat","tzFormat","extendedIsoRegex","basicIsoRegex","isoDates","isoTimes","tzRegex","configFromStringAndFormat","configFromString","aspNetJsonRegex","createFromInputFallback","c","currentDateArray","nowValue","_useUTC","configFromArray","yearToUse","dayOfYearFromWeekInfo","_dayOfYear","_nextDay","weekYear","weekdayOverflow","GG","W","E","createLocal","curWeek","gg","ISO_8601","parsedInput","skipped","stringLength","totalParsedInputLength","_meridiem","meridiemFixWrap","isPm","meridiemHour","isPM","configFromStringAndArray","tempConfig","bestMoment","scoreToBeat","currentScore","score","configFromObject","minute","millisecond","createFromConfig","prepareConfig","preparse","configFromInput","isUTC","pickBy","moments","Duration","years","quarters","quarter","weeks","milliseconds","_milliseconds","_days","_bubble","isDuration","absRound","separator","utcOffset","offsetFromString","chunk","chunkOffset","cloneWithOffset","setTime","local","getDateOffset","getSetOffset","keepLocalTime","localAdjust","matchShortOffset","_changeInProgress","addSubtract","createDuration","getSetZone","setOffsetToUTC","setOffsetToLocal","setOffsetToParsedOffset","tZone","matchOffset","hasAlignedHourOffset","isDaylightSavingTime","isDaylightSavingTimeShifted","_isDSTShifted","other","isUtcOffset","isUtc","diffRes","aspNetRegex","isoRegex","parseIso","momentsDifference","inp","positiveMomentsDifference","isAfter","isBefore","createAdder","period","dur","isAdding","getCalendarFormat","myMoment","calendar$1","formats","sod","startOf","calendarFormat","localInput","endOf","isBetween","inclusivity","isSame","inputMs","isSameOrAfter","isSameOrBefore","asFloat","zoneDelta","delta","monthDiff","anchor2","adjust","wholeMonthDiff","anchor","toISOString","toDate","zone","datetime","inputString","defaultFormatUtc","defaultFormat","postformat","humanize","fromNow","toNow","newLocaleData","isoWeekday","unix","toObject","toJSON","isValid$1","parsingFlags","invalidAt","creationData","addWeekYearFormatToken","getSetWeekYear","getSetWeekYearHelper","getSetISOWeekYear","isoWeek","getISOWeeksInYear","getWeeksInYear","weekInfo","weeksTarget","setWeekAll","dayOfYearData","getSetQuarter","getSetDayOfYear","parseMs","getZoneAbbr","getZoneName","createUnix","createInZone","parseZone","preParsePostFormat","get$1","listMonthsImpl","out","listWeekdaysImpl","localeSorted","listMonths","listMonthsShort","listWeekdays","listWeekdaysShort","listWeekdaysMin","mathAbs","addSubtract$1","add$1","subtract$1","absCeil","monthsFromDays","monthsToDays","daysToMonths","as","valueOf$1","makeAs","alias","get$2","makeGetter","substituteTimeAgo","relativeTime$1","posNegDuration","thresholds","getSetRelativeTimeRounding","roundingFunction","getSetRelativeTimeThreshold","threshold","withSuffix","toISOString$1","abs$1","Y","D","asSeconds","some","fun","defaultCalendar","defaultLongDateFormat","defaultInvalidDate","defaultOrdinal","defaultOrdinalParse","defaultRelativeTime","match1","match2","match3","match4","match6","match1to2","match3to4","match5to6","match1to3","match1to4","match1to6","matchUnsigned","matchSigned","matchTimestamp","matchWord","defaultLocaleMonths","defaultLocaleMonthsShort","parseTwoDigitYear","getSetYear","defaultLocaleWeek","defaultLocaleWeekdays","defaultLocaleWeekdaysShort","defaultLocaleWeekdaysMin","_isPm","pos1","pos2","defaultLocaleMeridiemParse","getSetHour","meridiemParse","prototypeMin","prototypeMax","isoWeekYear","getSetDayOfMonth","getSetMinute","getSetSecond","getSetMillisecond","isoWeeks","isoWeeksInYear","isDST","zoneAbbr","zoneName","isDSTShifted","proto$1","firstDayOfYear","firstDayOfWeek","langData","asMilliseconds","asMinutes","asHours","asDays","asWeeks","asMonths","asYears","proto$2","toIsoString","invalid","relativeTimeRounding","relativeTimeThreshold","56","Slick","dataSettings","accessibility","adaptiveHeight","appendArrows","appendDots","asNavFor","prevArrow","nextArrow","autoplay","autoplaySpeed","cssEase","customPaging","dotsClass","edgeFriction","fade","lazyLoad","pauseOnHover","pauseOnFocus","pauseOnDotsHover","respondTo","rows","slide","slidesPerRow","swipeToSlide","touchThreshold","useCSS","useTransform","variableWidth","verticalSwiping","waitForAnimate","initials","animating","dragging","autoPlayTimer","currentDirection","currentLeft","currentSlide","$dots","listWidth","listHeight","loadIndex","$nextArrow","$prevArrow","slideCount","slideWidth","$slideTrack","$slides","sliding","slideOffset","swipeLeft","$list","touchObject","transformsEnabled","unslicked","activeBreakpoint","animType","animProp","breakpoints","breakpointSettings","cssTransitions","focussed","interrupted","paused","positionProp","rowCount","shouldClick","$slider","$slidesCache","transformType","transitionType","visibilityChange","windowWidth","windowTimer","mozHidden","webkitHidden","autoPlay","autoPlayClear","autoPlayIterator","changeSlide","clickHandler","selectHandler","setPosition","swipeHandler","dragHandler","keyHandler","instanceUid","htmlExpr","registerBreakpoints","activateADA","aria-hidden","addSlide","slickAdd","addBefore","unload","reinit","animateHeight","targetHeight","animateSlide","targetLeft","animProps","animStart","applyTransition","disableTransition","getNavTarget","slideHandler","slideTo","buildArrows","aria-disabled","buildDots","dot","getDotCount","buildOut","setupInfinite","updateDots","setSlideClasses","buildRows","newSlides","numOfSlides","originalSlides","slidesPerSection","row","checkResponsive","initial","forceUpdate","targetBreakpoint","respondToWidth","triggerBreakpoint","sliderWidth","unslick","refresh","dontAnimate","indexOffset","unevenOffset","checkNavigable","navigables","prevNavigable","getNavigableIndexes","cleanUpEvents","interrupt","cleanUpSlideEvents","orientationChange","resize","cleanUpRows","fadeSlide","slideIndex","fadeSlideOut","filterSlides","slickFilter","focusHandler","$sf","getCurrent","slickCurrentSlide","breakPoint","pagerQty","getLeft","verticalHeight","targetSlide","verticalOffset","getOption","slickGetOption","indexes","getSlick","getSlideCount","slidesTraversed","swipedSlide","centerOffset","slickGoTo","creation","setProps","startLoad","loadSlider","initializeEvents","updateArrows","initADA","aria-describedby","aria-selected","initArrowEvents","initDotEvents","initSlideEvents","action","initUI","loadImages","imagesScope","imageSource","imageToLoad","loadRange","cloneRange","rangeStart","rangeEnd","progressiveLazyLoad","slickNext","pause","slickPause","play","slickPlay","postSlide","slickPrev","tryCount","$imgsToLoad","initializing","lastVisibleIndex","currentBreakpoint","responsiveSettings","windowDelay","removeSlide","slickRemove","removeBefore","removeAll","setCSS","positionProps","setDimensions","setFade","right","setHeight","setOption","slickSetOption","bodyStyle","msTransition","OTransform","perspectiveProperty","webkitPerspective","MozPerspective","webkitTransform","msTransform","transform","allSlides","remainder","infiniteCount","targetElement","sync","animSlide","oldSlide","slideLeft","navTarget","swipeDirection","xDist","yDist","swipeAngle","startX","curX","startY","curY","atan2","swipeEnd","swipeLength","edgeHit","minSwipe","fingerCount","swipeStart","swipeMove","positionOffset","sqrt","unfilterSlides","slickUnfilter","fromBreakpoint"],"mappings":"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","file":"app.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Main = undefined;\n\nrequire('./jquery-global.js');\n\nrequire('./moment-config.js');\n\nrequire('slick-carousel');\n\nrequire('magnific-popup');\n\nrequire('../../bower_components/parsleyjs/dist/parsley.js');\n\nrequire('devbridge-autocomplete');\n\nrequire('foundation-sites/js/foundation.core');\n\nrequire('foundation-sites/js/foundation.util.mediaQuery');\n\nrequire('foundation-sites/js/foundation.slider');\n\nrequire('foundation-sites/js/foundation.util.motion');\n\nrequire('foundation-sites/js/foundation.util.triggers');\n\nrequire('foundation-sites/js/foundation.util.keyboard');\n\nrequire('foundation-sites/js/foundation.util.touch');\n\nrequire('foundation-datepicker/js/foundation-datepicker');\n\nrequire('foundation-datepicker/js/locales/foundation-datepicker.de');\n\nrequire('foundation-datepicker/js/locales/foundation-datepicker.fr');\n\nrequire('foundation-datepicker/js/locales/foundation-datepicker.nl');\n\nrequire('foundation-datepicker/js/locales/foundation-datepicker.pl');\n\nrequire('./components/foundation-datepicker');\n\nvar _utils = require('./components/utils.js');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _carousel = require('./components/carousel.js');\n\nvar _carousel2 = _interopRequireDefault(_carousel);\n\nvar _filterProduct = require('./components/filter-product.js');\n\nvar _filterProduct2 = _interopRequireDefault(_filterProduct);\n\nvar _anchorMenu = require('./components/anchor-menu.js');\n\nvar _anchorMenu2 = _interopRequireDefault(_anchorMenu);\n\nvar _thumbnailBox = require('./components/thumbnail-box.js');\n\nvar _thumbnailBox2 = _interopRequireDefault(_thumbnailBox);\n\nvar _collapsibleBox = require('./components/collapsible-box.js');\n\nvar _collapsibleBox2 = _interopRequireDefault(_collapsibleBox);\n\nvar _loadMore = require('./components/load-more.js');\n\nvar _loadMore2 = _interopRequireDefault(_loadMore);\n\nvar _popin = require('./components/popin.js');\n\nvar _popin2 = _interopRequireDefault(_popin);\n\nvar _productBox = require('./components/product-box.js');\n\nvar _productBox2 = _interopRequireDefault(_productBox);\n\nvar _dailyFeeding = require('./components/daily-feeding');\n\nvar _dailyFeeding2 = _interopRequireDefault(_dailyFeeding);\n\nvar _offersCarousel = require('./components/offers-carousel');\n\nvar _offersCarousel2 = _interopRequireDefault(_offersCarousel);\n\nvar _collapsePhi = require('./components/collapse-phi');\n\nvar _collapsePhi2 = _interopRequireDefault(_collapsePhi);\n\nvar _productSliderCarousel = require('./components/product-slider-carousel');\n\nvar _productSliderCarousel2 = _interopRequireDefault(_productSliderCarousel);\n\nvar _navbarMobile = require('./components/navbar-mobile');\n\nvar _navbarMobile2 = _interopRequireDefault(_navbarMobile);\n\nrequire('./components/profile');\n\nvar _slider = require('./components/slider');\n\nvar _slider2 = _interopRequireDefault(_slider);\n\nvar _uploadImg = require('./components/upload-img');\n\nvar _uploadImg2 = _interopRequireDefault(_uploadImg);\n\nvar _popinLogin = require('./components/popin-login');\n\nvar _popinLogin2 = _interopRequireDefault(_popinLogin);\n\nrequire('./components/login');\n\nvar _coupon = require('./components/coupon');\n\nvar _coupon2 = _interopRequireDefault(_coupon);\n\nvar _mbg = require('./components/mbg/mbg');\n\nvar _mbg2 = _interopRequireDefault(_mbg);\n\nvar _petTypes = require('./components/registration/pet-types');\n\nvar _petTypes2 = _interopRequireDefault(_petTypes);\n\nvar _registrationSubmit = require('./components/registration/registration-submit');\n\nvar _registrationSubmit2 = _interopRequireDefault(_registrationSubmit);\n\nvar _petGender = require('./components/registration/pet-gender');\n\nvar _petGender2 = _interopRequireDefault(_petGender);\n\nvar _addAnotherPet = require('./components/registration/add-another-pet');\n\nvar _addAnotherPet2 = _interopRequireDefault(_addAnotherPet);\n\nrequire('./components/registration/breed');\n\nvar _formValidation = require('./components/form/form-validation');\n\nvar _formValidation2 = _interopRequireDefault(_formValidation);\n\nvar _resetPassword = require('./components/reset-password/reset-password');\n\nvar _resetPassword2 = _interopRequireDefault(_resetPassword);\n\nvar _utils3 = require('./components/utils');\n\nrequire('./gtm/coupon');\n\nrequire('./gtm/sample');\n\nrequire('./gtm/login-create-account');\n\nrequire('./gtm/forms-focus');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// import vendors\n\n\n// import parsley js\n\n\n// import autocomplete jquery\n\n\n// import Foundation JS utilities\n\n// Foundation base plugins\n\n\n// Foundation foundation-datepicker\n\n\n// Foundation foundation-datepicker lang\n\n\n// Foundation foundation-datepicker impl\n\n\n// import js App components\n\n\n// Registration Scripts\n\n\n// Form validation\n\n\n// import Function from utils\n\n\n// GTM\n\n\nvar Main = exports.Main = function Main() {\n  _classCallCheck(this, Main);\n\n  _popinLogin2.default.init();\n  _popin2.default.init();\n  _carousel2.default.init();\n  _offersCarousel2.default.init();\n  _filterProduct2.default.init();\n  _anchorMenu2.default.init();\n  _thumbnailBox2.default.init();\n  _collapsibleBox2.default.init();\n  _loadMore2.default.init();\n  _productBox2.default.init();\n  _dailyFeeding2.default.init();\n  _collapsePhi2.default.init();\n  _productSliderCarousel2.default.init();\n  _navbarMobile2.default.init();\n  _petTypes2.default.init();\n  _petGender2.default.init();\n  _registrationSubmit2.default.init();\n  _addAnotherPet2.default.init();\n  _slider2.default.init();\n  _uploadImg2.default.init();\n  _formValidation2.default.init();\n  _resetPassword2.default.init();\n  _coupon2.default.init();\n  _mbg2.default.init();\n  $(document).foundation();\n  (0, _utils3.customizeFooter)();\n};\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  new Main();\n});\n\n},{\"../../bower_components/parsleyjs/dist/parsley.js\":38,\"./components/anchor-menu.js\":2,\"./components/carousel.js\":3,\"./components/collapse-phi\":4,\"./components/collapsible-box.js\":5,\"./components/coupon\":6,\"./components/daily-feeding\":7,\"./components/filter-product.js\":8,\"./components/form/form-validation\":10,\"./components/foundation-datepicker\":11,\"./components/load-more.js\":12,\"./components/login\":13,\"./components/mbg/mbg\":14,\"./components/navbar-mobile\":15,\"./components/offers-carousel\":16,\"./components/popin-login\":17,\"./components/popin.js\":18,\"./components/product-box.js\":19,\"./components/product-slider-carousel\":20,\"./components/profile\":21,\"./components/registration/add-another-pet\":22,\"./components/registration/breed\":23,\"./components/registration/pet-gender\":24,\"./components/registration/pet-types\":25,\"./components/registration/registration-submit\":26,\"./components/reset-password/reset-password\":27,\"./components/slider\":28,\"./components/thumbnail-box.js\":29,\"./components/upload-img\":30,\"./components/utils\":31,\"./components/utils.js\":31,\"./gtm/coupon\":32,\"./gtm/forms-focus\":33,\"./gtm/login-create-account\":34,\"./gtm/sample\":35,\"./jquery-global.js\":36,\"./moment-config.js\":37,\"devbridge-autocomplete\":39,\"foundation-datepicker/js/foundation-datepicker\":40,\"foundation-datepicker/js/locales/foundation-datepicker.de\":41,\"foundation-datepicker/js/locales/foundation-datepicker.fr\":42,\"foundation-datepicker/js/locales/foundation-datepicker.nl\":43,\"foundation-datepicker/js/locales/foundation-datepicker.pl\":44,\"foundation-sites/js/foundation.core\":45,\"foundation-sites/js/foundation.slider\":46,\"foundation-sites/js/foundation.util.keyboard\":47,\"foundation-sites/js/foundation.util.mediaQuery\":48,\"foundation-sites/js/foundation.util.motion\":49,\"foundation-sites/js/foundation.util.touch\":50,\"foundation-sites/js/foundation.util.triggers\":51,\"magnific-popup\":53,\"slick-carousel\":56}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\n\nvar AnchorMenu = function () {\n  function AnchorMenu() {\n    _classCallCheck(this, AnchorMenu);\n\n    if (!instance) {\n      instance = this;\n    }\n    return instance;\n  }\n\n  _createClass(AnchorMenu, [{\n    key: 'init',\n    value: function init() {\n      $('.js-anchor').on('click', function (event) {\n        instance.scroll(this, event);\n      });\n      instance.initMobileAnchor();\n      instance.hightLightMenu();\n    }\n  }, {\n    key: 'scroll',\n    value: function scroll(element, event) {\n      var target = $(element.getAttribute('href'));\n\n      if (target.length) {\n        event.preventDefault();\n        $('html, body').stop().animate({\n          scrollTop: target.offset().top\n        }, 500);\n        location.href = $(element).attr('href');\n        // location.href = target;\n      }\n    }\n\n    // Function That init the mobile anchor\n\n  }, {\n    key: 'initMobileAnchor',\n    value: function initMobileAnchor() {\n      // Create the dropdown base for the mobile nav\n      $('<select/>').appendTo('.js-nav-anchor');\n      // Each category in the nav will be added to this dropdown\n      $('.js-anchor').each(function () {\n        var element = $(this);\n\n        $('<option />', {\n          'value': element.attr('href'),\n          'text': element.text()\n        }).appendTo('.js-nav-anchor select');\n      });\n      // Event on select change\n      $('.js-nav-anchor select').on('change', function () {\n        // Go to the link of the selected item\n        location.href = $(this).find('option:selected').val();\n      });\n    }\n\n    // Function that enables states of nav at document Load\n\n  }, {\n    key: 'hightLightMenu',\n    value: function hightLightMenu() {\n      var $link = $('.inline-list__link');\n      var pathname = location.pathname;\n      $.each($link, function (index, e) {\n        var href = $(e).attr('href');\n        if (pathname.indexOf(href) >= 0) {\n          $(e).addClass('inline-list__link--selected');\n        }\n      });\n    }\n  }]);\n\n  return AnchorMenu;\n}();\n\nvar Instance = new AnchorMenu();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\n\nvar Carousel = exports.Carousel = function () {\n  function Carousel() {\n    _classCallCheck(this, Carousel);\n\n    if (!instance) {\n      instance = this;\n    }\n\n    // configuration for the slider inside the totalfive block\n    this.config = {\n      infinite: true,\n      touchMove: true,\n      draggable: true,\n      arrows: true\n    };\n\n    // configuration for the slider inside the product info block\n    this.configProductInfo = {\n      infinite: true,\n      centerMode: false,\n      arrows: false,\n      touchMove: true,\n      draggable: true,\n      dots: true\n    };\n\n    return instance;\n  }\n\n  _createClass(Carousel, [{\n    key: 'init',\n    value: function init() {\n      var _this = this;\n\n      this.fixBrokenAreaReference();\n\n      // hide the carousel when user click on the .carousel__exit element\n      $('.carousel__exit').on('click', function () {\n        $('.total-five__carousel').hide(600);\n        $('.carousel').slick('unslick');\n        $('.total-five__overview').scrollTo(600);\n        $('.js-totalfive').css('visibility', 'visible');\n      });\n\n      // show the carousel when user click on the button inside the totalfive block\n      $('.js-totalfive').on('click', function () {\n        $('.js-totalfive').css('visibility', 'hidden');\n        $('.total-five__carousel').show();\n        $('.carousel').slick(_this.config);\n        $('.carousel__exit .icon-close').scrollTo(600);\n        _this.fixBrokenAreaReference();\n      });\n\n      // slick slider initialization for the product info block;\n      // here we check if the current page has the product info block;\n      if ($('.product-info__carousel').length) {\n        $('.product-info__carousel').slick(this.configProductInfo);\n      }\n    }\n  }, {\n    key: 'fixBrokenAreaReference',\n    value: function fixBrokenAreaReference() {\n      // fix the broken aria reference test.\n      $('.slick-wrapper').each(function () {\n        var $slide = $(this).parent();\n\n        if ($slide.attr('aria-describedby')) {\n          // ignore extra/cloned slides\n          $(this).attr('id', $slide.attr('aria-describedby'));\n        }\n      });\n    }\n  }]);\n\n  return Carousel;\n}();\n\nvar Instance = new Carousel();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\nvar speed = 500;\n\nvar CollapsePhi = function () {\n  function CollapsePhi() {\n    _classCallCheck(this, CollapsePhi);\n\n    if (!instance) {\n      instance = this;\n    }\n    return instance;\n  }\n\n  _createClass(CollapsePhi, [{\n    key: 'init',\n    value: function init() {\n      $('.box__btn').on('click', function () {\n        instance.collapse(this);\n      });\n    }\n  }, {\n    key: 'collapse',\n    value: function collapse(element) {\n      var btnActive = $('.philosophy-items').find('.box__btn--active');\n\n      if (btnActive.length > 0 && element !== btnActive[0]) {\n        $('.box__btn--active').removeClass('box__btn--active');\n        $('.philosophy-descriptions .philosophy-description').hide();\n      }\n\n      $(element).toggleClass('box__btn--active');\n      this.switchDescription(element);\n    }\n  }, {\n    key: 'switchDescription',\n    value: function switchDescription(elm) {\n      var element = $(elm);\n      var btnList = $('.philosophy-items').find('.box__btn');\n      var descriptionContentList = '.philosophy-descriptions .philosophy-description';\n      var elmIndex = $('.philosophy-items .box__btn').index(element);\n\n      if (element.hasClass('active') === true) {\n        element.removeClass('active');\n        $(descriptionContentList + ':eq(' + elmIndex + ')').fadeOut(speed);\n      } else if (btnList.hasClass('active') === false) {\n        element.addClass('active');\n        $(descriptionContentList + ':eq(' + elmIndex + ')').fadeIn(speed);\n      } else {\n        for (var i = 0; i < btnList.length; i = i + 1) {\n          if ($(btnList[i]).hasClass('active')) {\n            var _index = $('.philosophy-items .box__btn').index($(btnList[i]));\n\n            $(btnList[i]).removeClass('active');\n            $(descriptionContentList + ':eq(' + _index + ')').fadeOut(speed);\n            break;\n          }\n        }\n\n        element.addClass('active');\n        var index = $('.philosophy-items .box__btn').index(element);\n\n        $(descriptionContentList + ':eq(' + index + ')').fadeIn(speed);\n      }\n    }\n  }]);\n\n  return CollapsePhi;\n}();\n\nvar Instance = new CollapsePhi();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\nvar speed = 300;\n\nvar CollapsibleBox = exports.CollapsibleBox = function () {\n  function CollapsibleBox() {\n    _classCallCheck(this, CollapsibleBox);\n\n    if (!instance) {\n      instance = this;\n    }\n    return instance;\n  }\n\n  _createClass(CollapsibleBox, [{\n    key: 'init',\n    value: function init() {\n\n      $('.js-collapsible-box').click(function (event) {\n        var mq = window.matchMedia('(min-width: 1024px)');\n        var root = $(event.target).parents('.collapsible-box--collapsed');\n\n        if (!mq.matches && !root.length) {\n          var container = $(this).parents('.section-collapsible');\n          var collapsed = container.find('.collapsible-box--collapsed');\n          var btn = container.find('.js-close-collapsibleBox');\n\n          $(btn).toggleClass('collapsible-box__close');\n          $(this).scrollTo(speed);\n          collapsed.slideToggle(speed);\n        }\n      });\n    }\n  }]);\n\n  return CollapsibleBox;\n}();\n\nvar Instance = new CollapsibleBox();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\n\nvar PrintCoupon = exports.PrintCoupon = function () {\n  function PrintCoupon() {\n    _classCallCheck(this, PrintCoupon);\n\n    if (!instance) {\n      instance = this;\n    }\n    return instance;\n  }\n\n  _createClass(PrintCoupon, [{\n    key: 'init',\n    value: function init() {\n      var mobile = this.isMobileDevice() ? '&device=mobile' : '';\n      var printCoupon = $('.js-data-print-coupon').attr('data-print-coupon');\n      if (printCoupon) {\n        var $a = $('#coupon-' + printCoupon + ' .js-print-coupon');\n        $a.trigger('click');\n      }\n    }\n\n    /**\r\n     * Method: check if we are on mobile device or desktop computer\r\n     * @return {Boolean} Return true if we are on mobile device and false otherwise.\r\n     */\n\n  }, {\n    key: 'isMobileDevice',\n    value: function isMobileDevice() {\n      if (/Mobi/.test(navigator.userAgent)) {\n        return true;\n      }\n      return false;\n    }\n  }]);\n\n  return PrintCoupon;\n}();\n\nvar Instance = new PrintCoupon();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\n\nvar DailyFeeding = exports.DailyFeeding = function () {\n  function DailyFeeding() {\n    _classCallCheck(this, DailyFeeding);\n\n    if (!instance) {\n      instance = this;\n    }\n    return instance;\n  }\n\n  _createClass(DailyFeeding, [{\n    key: 'init',\n    value: function init() {\n      $('.js-see-our-adult-product').click(function () {\n        dataLayer.push({\n          event: 'event_user_navigation',\n          event_category: 'event_product_actions',\n          event_action: 'event_click_daily_feeding',\n          event_label: 'See our adult products'\n        });\n      });\n\n      $('.js-select-box').on('change', function () {\n        dataLayer.push({\n          event: 'event_user_navigation',\n          event_category: 'event_product_actions',\n          event_action: 'event_click_daily_feeding',\n          event_label: 'Daily feeding recommendation result'\n        });\n      });\n    }\n  }]);\n\n  return DailyFeeding;\n}();\n\nvar Instance = new DailyFeeding();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{}],8:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\n\nvar FilterProduct = function () {\n  function FilterProduct() {\n    _classCallCheck(this, FilterProduct);\n\n    if (!instance) {\n      instance = this;\n    }\n    return instance;\n  }\n\n  _createClass(FilterProduct, [{\n    key: 'init',\n    value: function init() {\n      // init the mobile filter on Page Load\n      instance.initMobileFilter();\n      // Invoke the filter function on category or subcategory item click\n      $('.js-category, .js-subcategory').on('click', function (event) {\n        instance.filter(this, event);\n      });\n    }\n\n    // Function that enables the nav functionality\n\n  }, {\n    key: 'filter',\n    value: function filter(element, event) {\n      event.preventDefault();\n      // check the type of this element ( Subcategory or Category )\n      if ($(element).is('.js-category')) {\n        // Store the category of the clicked element\n        var category = $(element).data('category');\n        // Looking for the subfilter block that have the same category as the clicked element\n        var subfilter = $('.nav--subcategory[data-category=\"' + category + '\"]');\n\n        // Check if filter is already open -> close it\n        if ($(element).hasClass('inline-list__link--active') && subfilter.length && subfilter.hasClass('nav--subcategory-open')) {\n          subfilter.removeClass('nav--subcategory-open');\n          return;\n        }\n\n        // Remove all active element\n        $('.inline-list__link--active').removeClass('inline-list__link--active');\n        // Hide all subcategory block that are opened\n        $('.nav--subcategory').removeClass('nav--subcategory-open');\n        // Add the state Active to the clicked element\n        $(element).addClass('inline-list__link--active');\n        // If the clicked element has subcategories, then we show the block containing them\n        if (subfilter.length) {\n          // opening the subfilter of the category\n          subfilter.addClass('nav--subcategory-open');\n        } else {\n          // Go to the link of the clicked Category/Subcategory\n          location.href = $(element).attr('href');\n        }\n      }\n    }\n\n    // Function That init the mobile filter\n\n  }, {\n    key: 'initMobileFilter',\n    value: function initMobileFilter() {\n      // Create the dropdown base for the mobile nav\n      $('<select/>').appendTo('.js-nav-category');\n      // Each category in the filter will be added to this dropdown\n      $('.js-category').each(function () {\n        var element = $(this);\n\n        $('<option />', {\n          'value': element.attr('href'),\n          'text': element.text()\n        }).appendTo('.js-nav-category select');\n      });\n      // Event on select change\n      $('.js-nav-category select').on('change', function () {\n        // Go to the link of the selected item\n        location.href = $(this).find('option:selected').val();\n      });\n    }\n    // Function that enables states of filter at document Load\n\n  }]);\n\n  return FilterProduct;\n}();\n\nvar Instance = new FilterProduct();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{}],9:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\n\nvar DateValidation = function () {\n  function DateValidation() {\n    _classCallCheck(this, DateValidation);\n\n    if (!instance) {\n      instance = this;\n    }\n    return instance;\n  }\n\n  _createClass(DateValidation, [{\n    key: 'validateDate',\n    value: function validateDate(day, month, year) {\n      if (!this.isNumeric(month) || !this.isNumeric(year)) {\n        return false;\n      }\n      if (!this.isNumeric(day)) {\n        day = 1;\n      }\n      day = this.zeroPad(day, 2);\n      month = this.zeroPad(month, 2);\n      year = this.zeroPad(year, 4);\n      return moment(year + '-' + month + '-' + day, 'YYYY-MM-DD').isValid();\n    }\n  }, {\n    key: 'isNumeric',\n    value: function isNumeric(n) {\n      return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n  }, {\n    key: 'zeroPad',\n    value: function zeroPad(n, width, z) {\n      z = z || '0';\n      n = n + '';\n      return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;\n    }\n  }]);\n\n  return DateValidation;\n}();\n\nvar Instance = new DateValidation();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{}],10:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dateValidation = require('./date-validation');\n\nvar _dateValidation2 = _interopRequireDefault(_dateValidation);\n\nvar _foundationDatepicker = require('../foundation-datepicker');\n\nvar _foundationDatepicker2 = _interopRequireDefault(_foundationDatepicker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\n\nvar FormValidation = function () {\n  function FormValidation() {\n    _classCallCheck(this, FormValidation);\n\n    if (!instance) {\n      instance = this;\n    }\n    return instance;\n  }\n\n  _createClass(FormValidation, [{\n    key: 'init',\n    value: function init() {\n      this.initCheckPassword();\n      this.initFormsValidation();\n      this.initDateValidation();\n    }\n\n    // validate a pet Form, returns true only if form is valid\n\n  }, {\n    key: 'validatePetForm',\n    value: function validatePetForm(form) {\n      if (form.length > 0) {\n        this.validateDateForm(form);\n        // const category = form.find('.pet-type__thumbnail--selected');\n        var category = form.find('input[name=\"petType\"]:checked').val();\n        if (category && category.length > 0) {\n          var result = form.parsley().validate(category + '-form');\n          return result && this.validateDateForm(form);\n        }\n      }\n      return false;\n    }\n  }, {\n    key: 'validateDateForm',\n    value: function validateDateForm(form) {\n      // const category = form.find('.pet-type__thumbnail--selected');\n      var category = form.find('input[name=\"petType\"]:checked').val();\n      var selectDate = form.find('.select-date__wrapper[data-category=\\'' + category + '\\']');\n      return this.validateDateSelect(selectDate);\n    }\n  }, {\n    key: 'validateDateSelect',\n    value: function validateDateSelect(selectDate) {\n      var errorClass = 'select-date-error';\n      var errorMessage = selectDate.next('.select-date__error-message');\n      var day = selectDate.find('.js-date-day').val();\n      var month = selectDate.find('.js-date-month').val();\n      month = parseInt(month, 10) + 1;\n      var year = selectDate.find('.js-date-year').val();\n      var isDateValid = _dateValidation2.default.validateDate(day, month, year);\n\n      if (!isDateValid) {\n        selectDate.addClass(errorClass);\n        errorMessage.show();\n\n        if (selectDate.offset()) {\n          $('html, body').animate({\n            scrollTop: selectDate.offset().top - 300\n          }, 500);\n        }\n      } else {\n        selectDate.removeClass(errorClass);\n        errorMessage.hide();\n      }\n      return isDateValid;\n    }\n  }, {\n    key: 'initDateValidation',\n    value: function initDateValidation() {\n      $('.select-date__wrapper').change(function () {\n        instance.validateDateSelect($(this));\n      });\n    }\n\n    // Function that inits forms validation on the page\n\n  }, {\n    key: 'initFormsValidation',\n    value: function initFormsValidation() {\n      var loginForm = $('.login-form');\n      var resetPasswordForm = $('.reset-password-form');\n      var resentEmailForm = $('.resent-email-form');\n      if (loginForm.length > 0) {\n        $(loginForm).parsley();\n      }\n      if (resetPasswordForm.length > 0) {\n        $(resetPasswordForm).parsley();\n      }\n      if (resentEmailForm.length > 0) {\n        $(resentEmailForm).parsley();\n      }\n    }\n\n    // Allow to validate the user birth date > 13 years\n\n  }, {\n    key: 'isProfileRegistrationValid',\n    value: function isProfileRegistrationValid() {\n      var profileRegistrationForm = $('.profile-registration-form');\n\n      if (profileRegistrationForm.length > 0) {\n        var isDateValid = _foundationDatepicker2.default.validateBirthDate();\n        var isFormValid = profileRegistrationForm.parsley().validate();\n        return isFormValid && isDateValid;\n      }\n      return false;\n    }\n\n    // Function that validates a group of pet registration form\n\n  }, {\n    key: 'validatePetsForm',\n    value: function validatePetsForm() {\n      var forms = $('.pet-registration-form');\n      if (forms.length > 0) {\n        for (var i = 0; i < forms.length; i++) {\n          if (!instance.validatePetForm($(forms[i]))) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: 'initCheckPassword',\n    value: function initCheckPassword() {\n      $('.js-check-password[type=password]').on('keyup', function () {\n        instance.checkPassword($(this));\n      });\n      $('.js-check-password[type=password]').on('focus', function () {\n        $('.field-requirements').show();\n      });\n      $('.js-check-password[type=password]').on('blur', function () {\n        $('.field-requirements').hide();\n      });\n    }\n  }, {\n    key: 'checkPassword',\n    value: function checkPassword(component) {\n      var password = $(component).val();\n      var minLength = $(component).data('parsley-minlength');\n      var dataRequirement = ['length-rule', 'uppercase-rule', 'lowercase-rule', 'number-rule', 'special-character-rule'];\n\n      for (var i = 0; i < dataRequirement.length; i++) {\n        this.showPasswordWarning(dataRequirement[i]);\n      }\n      if (password.length >= minLength) {\n        this.removePasswordWarning('length-rule');\n      }\n      if (password.match(/[A-Z]/)) {\n        this.removePasswordWarning('uppercase-rule');\n      }\n      if (password.match(/[a-z]/)) {\n        this.removePasswordWarning('lowercase-rule');\n      }\n      if (password.match(/\\d/)) {\n        this.removePasswordWarning('number-rule');\n      }\n      if (password.match(/[$@$!%*#?&]/)) {\n        this.removePasswordWarning('special-character-rule');\n      }\n    }\n  }, {\n    key: 'removePasswordWarning',\n    value: function removePasswordWarning(dataValue) {\n      $('li[data-requirement=\"' + dataValue + '\"]').css('opacity', 0.5);\n    }\n  }, {\n    key: 'showPasswordWarning',\n    value: function showPasswordWarning(dataValue) {\n      $('li[data-requirement=\"' + dataValue + '\"]').css('opacity', 1);\n    }\n  }]);\n\n  return FormValidation;\n}();\n\nvar Instance = new FormValidation();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{\"../foundation-datepicker\":11,\"./date-validation\":9}],11:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\nvar AGE_MIN = 156; // unit: month == 13 years * 12 months\n\nvar FoundationDatePicker = exports.FoundationDatePicker = function () {\n  function FoundationDatePicker() {\n    _classCallCheck(this, FoundationDatePicker);\n\n    if (!instance) {\n      instance = this;\n    }\n    this.init();\n    return instance;\n  }\n\n  _createClass(FoundationDatePicker, [{\n    key: 'init',\n    value: function init() {\n      // Lang: nl de fr en pl\n      var lang = document.documentElement.lang || 'en';\n\n      $('#profile-birthdate').fdatepicker({\n        language: lang,\n        format: 'dd/mm/yyyy',\n        // initialDate: '01/01/2000',\n        startDate: '01/01/1920',\n        endDate: '31/12/2003',\n        leftArrow: '<i class=\"icon-slide-prev\"></i>',\n        rightArrow: '<i class=\"icon-slide-next\"></i>',\n        closeButton: false\n      }).on('changeDate', function (event) {\n        instance.validateBirthDate();\n        // event.date.valueOf()\n      });\n    }\n\n    // Validation date\n\n  }, {\n    key: 'validateBirthDate',\n    value: function validateBirthDate() {\n      var inputBirthdate = $('#profile-birthdate');\n      var $errorMsg = $('.select-date__error-message');\n      var $errorMsgParsley = inputBirthdate.next();\n      var birthDate = inputBirthdate.val();\n      var temp = birthDate.replace(/\\//g, '-').split('-');\n      temp[1] = parseInt(temp[1], 10) - 1;\n      var currendDate = moment(temp.reverse());\n      var age = moment().diff(currendDate, 'months');\n      var isUserAgeAllowed = age >= AGE_MIN;\n\n      if (isUserAgeAllowed) {\n        $errorMsgParsley.hide();\n        $errorMsg.hide();\n        inputBirthdate.removeClass('parsley-error');\n      } else {\n        $errorMsg.show();\n      }\n\n      return isUserAgeAllowed;\n    }\n\n    // Updates the date picker's value\n\n  }, {\n    key: 'updateBirthDate',\n    value: function updateBirthDate(value) {\n      var find = document.querySelector('#profile-birthdate');\n\n      if (find.length) {\n        $('#profile-birthdate').fdatepicker('update', value);\n      }\n    }\n  }]);\n\n  return FoundationDatePicker;\n}();\n\nvar Instance = new FoundationDatePicker();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{}],12:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\n\nvar LoadMore = function () {\n  function LoadMore() {\n    _classCallCheck(this, LoadMore);\n\n    if (!instance) {\n      instance = this;\n    }\n    return instance;\n  }\n\n  _createClass(LoadMore, [{\n    key: 'init',\n    value: function init() {\n      var _this = this;\n\n      this.pushLastElementToLeft();\n\n      $('.js-loadmore').click(function () {\n        // TO-DO Implment le mcanisme de chargement 2*3 etc ...\n        _this.printProductBox();\n      });\n    }\n  }, {\n    key: 'printProductBox',\n    value: function printProductBox() {\n      var lastElement = $('.product-list-container > .row').children().last();\n      var newElement = lastElement.clone(true);\n      var container = $('.product-list-container > .row');\n\n      lastElement.toggleClass('end');\n      newElement.appendTo(container);\n      newElement.scrollTo(600);\n    }\n  }, {\n    key: 'pushLastElementToLeft',\n    value: function pushLastElementToLeft() {\n      $('.product-list-container > .row').children().last().toggleClass('end');\n    }\n  }]);\n\n  return LoadMore;\n}();\n\nvar Instance = new LoadMore();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{}],13:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\n\nvar Login = function () {\n  function Login() {\n    _classCallCheck(this, Login);\n\n    if (!instance) {\n      instance = this;\n    }\n    instance.init();\n    return instance;\n  }\n\n  _createClass(Login, [{\n    key: 'init',\n    value: function init() {\n      this.registerLogin();\n    }\n  }, {\n    key: 'registerLogin',\n    value: function registerLogin() {\n      $('header .login-form').on('submit', function (event) {\n        var _this = this;\n\n        event.preventDefault();\n        var form = $(this).closest('.login-form');\n        if (form.length === 0) {\n          return;\n        }\n        var isValid = $(form).parsley().validate();\n        $('.login-form .message').hide();\n        if (isValid) {\n          var model = {\n            password: $(\"#login-form-password\").val(),\n            username: $('#login-form-email').val(),\n            site_id: $('body').attr('data-page-id'),\n            rememberme: $('#keep-me-signed').is(':checked'),\n            UrlPageReturn: $('#UrlPageReturn').val()\n          };\n          var culture = $('html').attr('lang');\n          $('.js-sign-in').addClass('btn--white disabled');\n          $('.loader img').show();\n          var returnUrl = \"\";\n          $.ajax({\n            type: 'POST',\n            url: '/umbraco/Surface/Login/ValidationLogin/',\n            data: JSON.stringify({\n              model: model,\n              culture: culture\n            }),\n            contentType: 'application/json',\n            success: function success(data) {\n              $('.js-sign-in').removeClass('btn--white disabled');\n              $('.loader').hide();\n              if (!data.MessageError && data) {\n                instance.loginGTM(_this);\n                window.location.href = data.url;\n              } else {\n                $('.login-form .message').html(data.MessageError);\n                $('.login-form .message').show();\n              }\n            },\n            error: function error(_error) {\n              $('.js-sign-in').removeClass('btn--white disabled');\n              $('.loader').hide();\n              console.error(_error);\n              $('.login-form .message').html(_error);\n              $('.login-form .message').show();\n            }\n          });\n        }\n      });\n    }\n  }, {\n    key: 'loginGTM',\n    value: function loginGTM(elm) {\n      var container = $(elm).parents('.login-popin');\n      var eventLabel = 'login_';\n\n      if (container.length) {\n        // Popin\n        eventLabel = eventLabel + 'pop-in';\n      } else {\n        // Login page\n        eventLabel = eventLabel + 'page';\n      }\n\n      dataLayer.push({\n        event: 'event_crm_actions',\n        event_category: 'event_crm_actions',\n        event_action: 'event_login_complete',\n        event_label: eventLabel\n      });\n    }\n  }]);\n\n  return Login;\n}();\n\nvar Instance = new Login();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{}],14:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = require('../../components/utils');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\nvar MAX_SIZE = 4194304;\n\nvar FILE_EXTENSIONS = ['jpeg', 'jpg', 'png', 'pdf'];\n\nvar Mbg = function () {\n  function Mbg() {\n    _classCallCheck(this, Mbg);\n\n    if (!instance) {\n      instance = this;\n    }\n    return instance;\n  }\n\n  _createClass(Mbg, [{\n    key: 'init',\n    value: function init() {\n      this.initUpload();\n      this.initValidation();\n    }\n  }, {\n    key: 'initUpload',\n    value: function initUpload() {\n      $('.js-mbg-upload').on('click', function (event) {\n        var input = $(this).next('input[type=\"file\"]');\n        $(input).click();\n      });\n      $('.js-mbg-input-file').on('change', function (event) {\n        if (this.files && this.files[0]) {\n          if (!window.FileReader) {\n            return;\n          }\n          var file = this.files[0];\n          var container = $(this).nextAll('.mbg__img-preview:first');\n          var button = $(this).prev('.js-mbg-upload');\n          var img = container.find('img');\n          var fileName = container.find('.file-name');\n          var errorMsg = container.find('.error-message');\n          $(fileName).text(file.name);\n\n          if (!(0, _utils.isFileExtensionValid)(file.name, FILE_EXTENSIONS)) {\n            $(errorMsg).show();\n            $(fileName).show();\n            $('#gencode').prop('required', true);\n            if (img.length) {\n              $(img).remove();\n            }\n            return;\n          }\n\n          if (file.size > MAX_SIZE) {\n            $(errorMsg).show();\n            if (img.length) {\n              $(img).remove();\n            }\n            return;\n          }\n          $(errorMsg).hide();\n          if (!img.length) {\n            img = document.createElement('img');\n            img.setAttribute('alt', 'Preview Image');\n            img.setAttribute('class', 'img--responsive');\n            $(container).append($(img));\n          }\n          var reader = new FileReader();\n\n          reader.onload = function (e) {\n            if (file.type !== 'application/pdf') {\n              $(img).show();\n              $(img).attr('src', e.target.result);\n              $(fileName).text('');\n              $(fileName).hide();\n            } else {\n              $(img).hide();\n              $(img).attr('src', '');\n              $(fileName).text(file.name);\n              $(fileName).show();\n            }\n          };\n          reader.readAsDataURL(file);\n\n          // change button text\n          if (button.length) {\n            var span = $(button).find('span');\n            $(span).text($(button).attr('data-reload-text'));\n          }\n          var gencodeInput = $('#gencode');\n\n          // validate gencode\n          $(this).removeAttr('required');\n          if ($(gencodeInput).val().length === 0 && $(this).attr('id') === 'gencode-photo') {\n            $(gencodeInput).removeAttr('required');\n          }\n          $('#gencode').parsley().validate();\n        }\n      });\n    }\n  }, {\n    key: 'initValidation',\n    value: function initValidation() {\n      $('.mbg__form').parsley();\n      $('#gencode').on('keyup', function () {\n        instance.handleGenCodeValidation($(this).val());\n      });\n      $('#gencode').bind('paste', function (event) {\n        var pastedData = event.originalEvent.clipboardData.getData('text');\n        instance.handleGenCodeValidation(pastedData);\n      });\n      $('.js-validate-mbg').on('click', function (event) {\n        event.preventDefault();\n        var form = $('.mbg__form');\n        var isValid = form.parsley().validate();\n        var validateInput = instance.validateFileFormat();\n        if (validateInput && isValid) {\n          form.submit();\n        }\n      });\n    }\n  }, {\n    key: 'validateFileFormat',\n    value: function validateFileFormat() {\n      var inputFiles = $('.js-mbg-input-file');\n      //const file = $(inputFile).files[0];\n      for (var i = 0; i < inputFiles.length; i++) {\n        var $inputFile = $(inputFiles[i]);\n        var files = $inputFile.prop('files');\n        if (files.length > 0) {\n          var file = files[0];\n          if (!(0, _utils.isFileExtensionValid)(file.name, FILE_EXTENSIONS)) {\n            $('html, body').animate({\n              scrollTop: $inputFile.offset().top - 300\n            }, 500);\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n  }, {\n    key: 'handleGenCodeValidation',\n    value: function handleGenCodeValidation(value) {\n      if (value.length > 0) {\n        $('#gencode-photo').removeAttr('required');\n      } else {\n        $('#gencode-photo').attr('required', 'required');\n      }\n    }\n  }]);\n\n  return Mbg;\n}();\n\nvar Instance = new Mbg();\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{\"../../components/utils\":31}],15:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _popin = require('./popin');\n\nvar _popin2 = _interopRequireDefault(_popin);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\n\nvar NavbarMobile = function () {\n  function NavbarMobile() {\n    _classCallCheck(this, NavbarMobile);\n\n    if (!instance) {\n      instance = this;\n    }\n    return instance;\n  }\n\n  _createClass(NavbarMobile, [{\n    key: 'init',\n    value: function init() {\n      $('.js-menu-toggle').on('click', function () {\n        instance.switchMenu(this);\n      });\n      instance.initMobileNav();\n      instance.initMobileClick();\n    }\n  }, {\n    key: 'switchMenu',\n    value: function switchMenu(element) {\n      if ($(element).hasClass('menu-active')) {\n        $('.nav-mobile').hide();\n        $(element).toggleClass('menu-active');\n        $(element).find('i').removeClass('icon-close').addClass('icon-hamburger');\n      } else {\n        $('.nav-mobile').show();\n        $(element).toggleClass('menu-active');\n        $(element).find('i').removeClass('icon-hamburger').addClass('icon-close');\n      }\n    }\n    // Function That init the mobile anchor\n\n  }, {\n    key: 'initMobileNav',\n    value: function initMobileNav() {\n      $('.navbar').find('ul').each(function () {\n        $(this).clone().appendTo('.nav-mobile');\n      });\n      $('.nav-mobile ul').removeClass();\n      $('.nav-mobile li').removeClass();\n\n      var imgSrc = $('.nav-mobile').find('img').attr('data-img-mobile');\n      if (imgSrc && imgSrc.length !== 0) {\n        $('.nav-mobile').find('img').attr('src', imgSrc);\n      }\n      _popin2.default.registerPopinArray();\n    }\n  }, {\n    key: 'initMobileClick',\n    value: function initMobileClick() {\n      $('.nav-mobile a').on('click', function () {\n        $('.js-menu-toggle').click();\n      });\n    }\n  }]);\n\n  return NavbarMobile;\n}();\n\nvar Instance = new NavbarMobile();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{\"./popin\":18}],16:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\n\nvar OffersCarousel = exports.OffersCarousel = function () {\n  function OffersCarousel() {\n    _classCallCheck(this, OffersCarousel);\n\n    if (!instance) {\n      instance = this;\n    }\n    return instance;\n  }\n\n  _createClass(OffersCarousel, [{\n    key: 'init',\n    value: function init() {\n      $('.offers-list').slick({\n        // enterMode: true,\n        dots: true,\n        arrows: true\n      });\n    }\n  }]);\n\n  return OffersCarousel;\n}();\n\nvar Instance = new OffersCarousel();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{}],17:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\n\nvar PopinLogin = function () {\n  function PopinLogin() {\n    _classCallCheck(this, PopinLogin);\n\n    if (!instance) {\n      instance = this;\n    }\n    return instance;\n  }\n\n  _createClass(PopinLogin, [{\n    key: 'init',\n    value: function init() {\n      $('.js-login').on('click', function (event) {\n        event.preventDefault();\n        $('.js-login').magnificPopup({\n          items: {\n            src: $('.login-popin'),\n            type: 'inline'\n          }\n        }).magnificPopup('open');\n        instance.loginGTM();\n      });\n    }\n  }, {\n    key: 'loginGTM',\n    value: function loginGTM() {\n      dataLayer.push({\n        event: 'event_crm_actions',\n        event_category: 'event_crm_actions',\n        event_action: 'event_login_view_form',\n        event_label: 'login_pop-in'\n      });\n    }\n  }]);\n\n  return PopinLogin;\n}();\n\nvar Instance = new PopinLogin();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{}],18:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _popinLogin = require('./popin-login');\n\nvar _popinLogin2 = _interopRequireDefault(_popinLogin);\n\nvar _coupon = require('../gtm/coupon');\n\nvar _coupon2 = _interopRequireDefault(_coupon);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\nvar ajaxCounter = 0;\n\nvar Popin = function () {\n  function Popin() {\n    _classCallCheck(this, Popin);\n\n    this.loupElement = '<span class=\"icon-wrapper\"><i class=\"icon-zoom  product-info__zoom\"\\n             id=\"js-product-info-zoom\"></i></span>';\n    this.popinArray = [{\n      activator: '.js-print-coupon',\n      popinMobile: '.coupon--prevent-print',\n      popinDesktop: '.coupon-popin--one'\n    }, {\n      activator: '.js-forgot-password',\n      popinDesktop: '.rest-password-step-1'\n    }, {\n      activator: '.log-in-link',\n      popinDesktop: '.login-popin'\n    }, {\n      activator: '.js-resent-email',\n      popinDesktop: '.resent-email'\n    }, {\n      activator: '.js-totalfive-benefits',\n      popinDesktop: '.total-five-benefits-popin'\n    }];\n    if (!instance) {\n      instance = this;\n    }\n    return instance;\n  }\n\n  _createClass(Popin, [{\n    key: 'init',\n    value: function init() {\n      this.registerPopinArray();\n      if ($('.slick-initialized').length) {\n        $('.product-info__carousel').append(this.loupElement);\n      }\n      $('#js-product-info-zoom').on('click', function () {\n        instance.initImgPopin(this, $('.product-info__carousel .slick-current img').attr('src'), 'image');\n      });\n\n      // popup for product slider carousel packshot\n      $('.product-info__packshot').on('click', function () {\n        instance.initImgPopin(this, $(this).find('img').attr('src'), 'image');\n      });\n      this.buttonClickCssManager();\n\n      // $('.js-print-coupon-now').on('click', function(e) {\n      //   e.stopPropagation();\n      //   e.preventDefault();\n      //   location.href = window.location.pathname;\n      //   $('.mfp-close').trigger('click');\n      //   window.open($(this).attr('href'), '_blank');\n      // });\n    }\n  }, {\n    key: 'initImgPopin',\n    value: function initImgPopin(element, src, type) {\n      $.magnificPopup.open({\n        items: {\n          src: src,\n          type: type\n        }\n      });\n    }\n  }, {\n    key: 'registerPopinArray',\n    value: function registerPopinArray() {\n      for (var i = 0; i < this.popinArray.length; i++) {\n        this.registerPopin(this.popinArray[i]);\n      }\n    }\n  }, {\n    key: 'registerPopin',\n    value: function registerPopin(options) {\n      var activator = options.activator || null;\n      var popinMobile = options.popinMobile || null;\n      var popinDesktop = options.popinDesktop || null;\n      var href = null;\n      if (!(activator && popinDesktop)) {\n        return false;\n      }\n      $(activator).off('click').on('click', function (event) {\n        var logPop = $(this).hasClass('log-in-link');\n        if (logPop) {\n          _popinLogin2.default.loginGTM();\n        }\n        event.preventDefault();\n        event.stopPropagation();\n        if ($(this).hasClass('disabled')) {\n          return false;\n        }\n        if ($(this).hasClass('print-coupon') && !instance.isMobileDevice()) {\n          href = $(this).attr('href');\n          $(popinDesktop + ' .js-print-coupon-now').attr('href', href);\n          instance.ajaxTestUserLoggedIn(href, popinDesktop, this);\n          return false;\n        } else if (instance.isMobileDevice() && popinMobile) {\n          href = $(this).attr('href');\n          var printCoupon = $('.js-data-print-coupon').attr('data-print-coupon');\n          href = href + '&device=mobile' + '&printLogin=print=' + printCoupon;\n          instance.sendMail(href, activator, this);\n        } else {\n          var $lform = $('header .login-form');\n          var $rform = $('header .reset-password-form');\n          var $resentForm = $('header .resent-email-form');\n          if ($resentForm.length) {\n            $resentForm[0].reset();\n            $resentForm.parsley().reset();\n          }\n          if ($lform.length) {\n            $lform[0].reset();\n            $lform.parsley().reset();\n          }\n          if ($rform.length) {\n            $rform[0].reset();\n            $rform.parsley().reset();\n          }\n\n          if ($(this).hasClass('js-forgot-password')) {\n            dataLayer.push({\n              event: 'event_crm_actions',\n              event_category: 'event_crm_actions',\n              event_action: 'event_reset_password',\n              event_label: 'reset_password_pop-in'\n            });\n          }\n          $(this).magnificPopup({\n            items: {\n              src: $(popinDesktop),\n              type: 'inline'\n            },\n            callbacks: {\n              beforeClose: function beforeClose() {\n                var $lform = $('header .login-form');\n                var $rform = $('header .reset-password-form');\n                var $resentForm = $('header .resent-email-form');\n                if ($resentForm.length) {\n                  $resentForm[0].reset();\n                  $resentForm.parsley().reset();\n                }\n                if ($lform.length) {\n                  $lform[0].reset();\n                  $lform.parsley().reset();\n                }\n                if ($rform.length) {\n                  $rform[0].reset();\n                  $rform.parsley().reset();\n                }\n                $('.message').html('');\n                $('.message').hide();\n              }\n            }\n          }).magnificPopup('open');\n        }\n        return false;\n      });\n      return false;\n    }\n  }, {\n    key: 'ajaxTestUserLoggedIn',\n    value: function ajaxTestUserLoggedIn(url, popinElement, elm) {\n      var cp = $(elm).hasClass('js-print-coupon');\n      // TO-DO: Deprecated with FIX 13099\n      /* if (cp) {\r\n        Coupon.sendGtm(elm);\r\n      }*/\n\n      $.ajax({\n        type: 'POST',\n        url: url,\n        success: function success(data) {\n          // if user is not logged in\n          if (data.urlLogin) {\n            window.location.href = data.urlLogin + '?returnUrl=' + data.url;\n          } else {\n            if (data.url) {\n              $(popinElement + ' .js-print-coupon-now').attr('href', data.url);\n            }\n            $('.js-print-coupon').magnificPopup({\n              items: {\n                src: $(popinElement),\n                type: 'inline'\n              }\n            }).magnificPopup('open');\n          }\n        },\n        error: function error(_error) {}\n      });\n    }\n\n    /**\r\n     * Method: check if we are on mobile device or desktop computer\r\n     * @return {Boolean} Return true if we are on mobile device and false otherwise.\r\n     */\n\n  }, {\n    key: 'isMobileDevice',\n    value: function isMobileDevice() {\n      if (/Mobi/.test(navigator.userAgent)) {\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: 'buttonClickCssManager',\n    value: function buttonClickCssManager() {\n      if (this.isMobileDevice()) {\n        $('.btn--form').on('touchstart', function () {\n          $('.btn--form').addClass('btn--has-hover');\n        });\n        $('.btn--form').on('touchend', function () {\n          setTimeout(function () {\n            $('.btn--form').removeClass('btn--has-hover');\n          }, 300);\n        });\n      }\n    }\n  }, {\n    key: 'sendMail',\n    value: function sendMail(url, popinElement, elm) {\n      var cp = $(elm).hasClass('js-print-coupon');\n      if (cp) {\n        _coupon2.default.sendGtm(elm);\n      }\n\n      $.ajax({\n        type: 'POST',\n        url: url,\n        data: JSON.stringify({\n          device: this.isMobileDevice() ? 'mobile' : 'desktop'\n        }),\n        contentType: 'application/json',\n        success: function success(data) {\n          // if user is not logged in\n          if (data.urlMobile) {\n            window.location.href = data.urlMobile + '?returnUrl=' + data.url;\n          } else {\n            if (data.MessageError) {\n              $('.coupon--prevent-print .coupon-popin__element p').html(data.MessageError);\n            }\n            $('.js-print-coupon').magnificPopup({\n              items: {\n                src: $('.coupon--prevent-print'),\n                type: 'inline'\n              }\n            }).magnificPopup('open');\n          }\n        },\n        error: function error(_error2) {\n          // $('.reset-password-form .message').html(error);\n          // $('.reset-password-form .message').show();\n          $('.coupon--prevent-print .coupon-popin__element p').html(_error2.statusText);\n          $('.js-print-coupon').magnificPopup({\n            items: {\n              src: $('.coupon--prevent-print'),\n              type: 'inline'\n            }\n          }).magnificPopup('open');\n        }\n      });\n    }\n  }]);\n\n  return Popin;\n}();\n\nvar Instance = new Popin();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{\"../gtm/coupon\":32,\"./popin-login\":17}],19:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\n/* petType filter not yet implemented*/\nvar petType = 'cat';\n\nvar ProductBox = exports.ProductBox = function () {\n  function ProductBox() {\n    _classCallCheck(this, ProductBox);\n\n    if (!instance) {\n      instance = this;\n    }\n    return instance;\n  }\n\n  _createClass(ProductBox, [{\n    key: 'init',\n    value: function init() {\n\n      $('.js-view-product').click(function () {\n        var productName = void 0;\n\n        if (petType === 'cat') {\n          productName = '';\n        } else if (petType === 'dog') {\n          productName = '';\n        }\n\n        dataLayer.push({\n          event: 'event_user_navigation',\n          event_category: 'event_product_actions',\n          event_action: 'event_consultation_dog_product', // 'event_consultation_cat_product',\n          event_label: productName\n        });\n      });\n    }\n  }]);\n\n  return ProductBox;\n}();\n\nvar Instance = new ProductBox();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{}],20:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\nvar nbElement = 0;\n\n/**\r\n * Class SlickSlider\r\n */\n\nvar SlickSlider = function () {\n  function SlickSlider() {\n    _classCallCheck(this, SlickSlider);\n\n    this.slider = '.activated';\n    this.lang = $('html').attr('lang');\n    this.nbElement = 0;\n    if (!instance) {\n      instance = this;\n    }\n\n    // general configuration of the slick slider.\n    this.config = {\n      infinite: true,\n      slidesToShow: 5,\n      slidesToScroll: 1,\n      swipe: true,\n      touchMove: true,\n      arrows: true,\n      speed: 100,\n      centerMode: false,\n      focusOnSelect: false,\n      initialSlide: 0,\n      responsive: [{\n        breakpoint: 1024,\n        settings: {\n          slidesToShow: 1,\n          slidesToScroll: 1,\n          arrows: false,\n          centerMode: true,\n          centerPadding: '160px',\n          initialSlide: 0\n        }\n      }, {\n        breakpoint: 480,\n        settings: {\n          slidesToShow: 1,\n          slidesToScroll: 1,\n          arrows: false,\n          centerMode: true,\n          centerPadding: '80px',\n          initialSlide: 0\n        }\n      }]\n    };\n\n    // configuration of the slick slider if there is only one element inside the slider.\n    this.configOne = {\n      infinite: true,\n      slidesToShow: 5,\n      slidesToScroll: 1,\n      swipe: true,\n      touchMove: true,\n      arrows: false,\n      speed: 150,\n      centerMode: true,\n      initialSlide: 0,\n      responsive: [{\n        breakpoint: 1024,\n        settings: {\n          slidesToShow: 1,\n          slidesToScroll: 1,\n          arrows: false,\n          centerMode: false,\n          centerPadding: '60px',\n          initialSlide: 0\n        }\n      }]\n    };\n\n    // configuration of the slick slider if the number of element\n    // inside the slider is less than or equal to 5.\n    this.configDesktopFive = {\n      infinite: true,\n      slidesToShow: 5,\n      slidesToScroll: 1,\n      swipe: true,\n      touchMove: true,\n      arrows: false,\n      speed: 150,\n      centerMode: true,\n      focusOnSelect: true,\n      initialSlide: 0,\n      responsive: [{\n        breakpoint: 1024,\n        settings: {\n          slidesToShow: 1,\n          slidesToScroll: 1,\n          arrows: false,\n          centerMode: true,\n          centerPadding: '60px',\n          initialSlide: 0\n        }\n      }]\n    };\n  }\n\n  /**\r\n   * Method: check if we are on mobile device or desktop computer\r\n   * @return {Boolean} Return true if we are on mobile device and false otherwise.\r\n   */\n\n\n  _createClass(SlickSlider, [{\n    key: 'isMobileDevice',\n    value: function isMobileDevice() {\n      if ($(window).width() > 1023) {\n        return false;\n      }\n      return true;\n    }\n\n    /**\r\n     * Method: initialization of the slider.\r\n     * @return {void}\r\n     */\n\n  }, {\n    key: '_initialize',\n    value: function _initialize() {\n      nbElement = $('.activated').children('.product-slider__box');\n      nbElement = nbElement.length;\n\n      if (this.isMobileDevice()) {\n        $('.activated').slick(this.config);\n        $('.activated').slick('slickGoTo', 1, true);\n        this.mobileComponentSelector();\n      } else {\n        if (nbElement < 6) {\n          //if (nbElement === 5) {\n          this.configDesktopFive.centerMode = false;\n          //}\n          $('.activated').slick(this.configDesktopFive);\n          $('[data-id=\"a2\"]').css('left', '2px');\n        } else {\n          $('.activated').slick(this.config);\n        }\n\n        this.desktopComponentSelector();\n      }\n      if ($('.product-slider').hasClass('slick-initialized')) {\n        $('.products-slider-container').addClass('products-slider-container--initialised');\n        $('.product-information').addClass('product-information--initialised');\n      }\n    }\n\n    /**\r\n     *\r\n     * @return {void}\r\n     */\n\n  }, {\n    key: 'init',\n    value: function init() {\n      var _this = this;\n\n      var that = this;\n      this._initialize();\n      this.tabItemsOnClick();\n      this.categorieItemsOnClick();\n      // fix the broken aria reference test.\n      $('.product-slider__item').each(function () {\n        var $slide = $(this).parent();\n        if ($slide.attr('aria-describedby')) {\n          // ignore extra/cloned slides\n          $(this).attr('id', $slide.attr('aria-describedby'));\n        }\n      });\n\n      $('.product-slider').on('afterChange', function () {\n        if (_this.isMobileDevice()) {\n          that.mobileComponentSelector();\n        } else {\n          that.desktopComponentSelector();\n        }\n      });\n      $('.product-slider').on('breakpoint', function (e) {\n        $('.activated').slick('unslick');\n        $('.activated').show();\n        _this._sliderRender();\n      });\n      $('.product-slider__box').on('click', function (event) {\n        if (!_this.isMobileDevice() && nbElement > 5) {\n          that.desktopOnClickSelector(event.currentTarget);\n        } else if (!_this.isMobileDevice() && nbElement < 6) {\n          that.desktopFiveOnClickSelector(event.currentTarget);\n        }\n      });\n      this.productFilterOnPageLoad();\n    }\n\n    /**\r\n     * Method: render the slider according to the device we are on.\r\n     * @return {void}\r\n     */\n\n  }, {\n    key: '_sliderRender',\n    value: function _sliderRender() {\n      // here we test if we are on mobile device or not\n      nbElement = $('.activated').children('.product-slider__box');\n      nbElement = nbElement.length;\n      // mobile device behavior, with one element inside the slider.\n      if (this.isMobileDevice() && nbElement === 1) {\n        $('.activated').slick(this.configOne);\n        this.mobileComponentSelector();\n      }\n      // mobile device behavior, with multiple element in the slider.\n      else if (this.isMobileDevice()) {\n          $('.activated').slick(this.config);\n          this.mobileComponentSelector();\n        }\n        // desktop behavior, with one element in the slider.\n        else if (nbElement === 1) {\n            $('.activated').slick(this.configOne);\n            $('.activated').hide();\n            // this.desktopComponentSelector();\n          }\n          // desktop behavior, with number of elements less than 6.\n          else if (nbElement < 6) {\n              //if (nbElement === 5) {\n              this.configDesktopFive.centerMode = false;\n              //}\n              $('.activated').slick(this.configDesktopFive);\n              this.desktopComponentSelector();\n            }\n            // desktop behavior, with number of elements more than 5.\n            else {\n                $('.activated').slick(this.config);\n                this.desktopComponentSelector();\n              }\n    }\n\n    /**\r\n     * Method: Change the focus on the slider to the clicked element.\r\n     * Here we are on desktop computer.\r\n     * @param {HTMLObjectElement} element - Element that was clicked.\r\n     * @return {void}\r\n     */\n\n  }, {\n    key: 'desktopOnClickSelector',\n    value: function desktopOnClickSelector(element) {\n      var elementID = null;\n      elementID = Number($(element).attr('data-slick-index'));\n      $('.activated').slick('slickGoTo', elementID - 1, false);\n    }\n\n    /**\r\n     * Method: Change the focus on the slider to the clicked element.\r\n     * Here we are on desktop computer and the number of element\r\n     * inside the slider is less than 6.\r\n     * @param {HTMLObjectElement} element - Element that was clicked.\r\n     * @return {void}\r\n     */\n\n  }, {\n    key: 'desktopFiveOnClickSelector',\n    value: function desktopFiveOnClickSelector(element) {\n      // let currentElement = $('.product-slider .slick-current');\n      var currentElement = $(element);\n      var elementID = currentElement.attr('data-id');\n      if (elementID) {\n        var dataColor = currentElement.attr('data-color');\n        var slickWrapper = currentElement.children('.product-slider__item');\n        $('.product-slider__item').attr('data-color', '#FFF');\n        slickWrapper.attr('data-color', dataColor);\n        $('.triangle-down').removeClass('triangle-down--selected');\n        slickWrapper.children('.triangle-down').addClass('triangle-down--selected');\n        var selectedDescription = $('.product-list__item.' + elementID);\n        selectedDescription.addClass('selected').siblings('li').removeClass('selected');\n      }\n    }\n\n    /**\r\n     * Method: Select the element to focus on slider load.\r\n     * Here we are on desktop.\r\n     * @return {void}\r\n     */\n\n  }, {\n    key: 'desktopComponentSelector',\n    value: function desktopComponentSelector() {\n      // here we select the right item\n      if (nbElement < 5) {\n        $('.activated').addClass('slick--centered');\n      }\n      var elementID = null;\n      if (!this.isMobileDevice()) {\n        var currentElement = $('.product-slider .slick-current');\n        elementID = currentElement.next().attr('data-id');\n        if (elementID) {\n          var dataColor = $('.product-slider .slick-current').next().attr('data-color');\n          elementID = $('.product-slider .slick-current').next().attr('data-id');\n          $('.product-slider__item').attr('data-color', '#FFF');\n          var slickWrapper = $('.product-slider .slick-current').next().children('.product-slider__item');\n          slickWrapper.attr('data-color', dataColor);\n          $('.triangle-down').removeClass('triangle-down--selected');\n          slickWrapper.children('.triangle-down').addClass('triangle-down--selected');\n        } else {\n          var _dataColor = $('.product-slider .slick-current').attr('data-color');\n          elementID = $('.product-slider .slick-current').attr('data-id');\n          // $('.product-slider .slick-current').children('.product-slider__item').attr(\"data-color\", dataColor);\n          var _slickWrapper = $('.product-slider .slick-current').children('.product-slider__item');\n          _slickWrapper.attr('data-color', _dataColor);\n          $('.triangle-down').removeClass('triangle-down--selected');\n          _slickWrapper.children('.triangle-down').addClass('triangle-down--selected');\n        }\n        var selectedDescription = $('.product-list__item.' + elementID);\n        selectedDescription.addClass('selected').siblings('li').removeClass('selected');\n      }\n    }\n\n    /**\r\n     * Method: Select element to focus on page load.\r\n     * Here we are on mobile device.\r\n     * @return {void}\r\n     */\n\n  }, {\n    key: 'mobileComponentSelector',\n    value: function mobileComponentSelector() {\n      var elementID = $('.product-slider .slick-current').attr('data-id');\n      var elementColor = $('.product-slider .slick-current').attr('data-color');\n      $('.product-slider__item').attr('data-color', elementColor);\n      var slickWrapper = $('.product-slider .slick-current').children('.product-slider__item');\n      $('.triangle-down').removeClass('triangle-down--selected');\n      slickWrapper.children('.triangle-down').addClass('triangle-down--selected');\n      var selectedDescription = $('.product-list__item.' + elementID);\n      selectedDescription.addClass('selected').siblings('li').removeClass('selected');\n    }\n\n    /**\r\n     * Method: Track the tab item clicked: \"junior\", \"adult\" or \"senior\"\r\n     * and reload the slider accordingly.\r\n     * @return {void}\r\n     */\n\n  }, {\n    key: 'tabItemsOnClick',\n    value: function tabItemsOnClick() {\n      var selectedItem = '';\n      var tabItems = $('.js-subcategory a');\n      var tabContentWrapper = $('.js-product-carousel');\n      var that = this;\n      // Click on tab element\n      tabItems.on('click', function (e) {\n        e.preventDefault();\n\n        selectedItem = $(this);\n\n        // Check if the tab element has selected class\n        if (!selectedItem.hasClass('inline-list__link--selected')) {\n\n          var selectedTab = selectedItem.data('content');\n          var selectedContent = tabContentWrapper.find('li[data-content=\"' + selectedTab + '\"]');\n\n          tabItems.removeClass('inline-list__link--selected');\n          selectedItem.addClass('inline-list__link--selected');\n          selectedContent.addClass('selected').siblings('li').removeClass('selected');\n\n          // Grab the ul related to the tab clicked\n          var selectedDescription = $('.product-information').find('ul[data-product=\"' + selectedTab + '\"]');\n          // var selectedDescription = $('.product__description').children('[data-product=\"'+selectedTab+'\"]');\n\n          // Show the product description container link to the tab\n          $('.product-list').removeClass('selected');\n          selectedDescription.addClass('selected');\n\n          // here we tell slickJS to unslick the previous activated slider\n          $('.activated').slick('unslick');\n          $('.activated').removeClass('activated');\n          selectedContent.children('.product-slider').addClass('activated');\n          that._sliderRender();\n        }\n      });\n      return this;\n    }\n\n    /**\r\n     * @return {void}\r\n     */\n\n  }, {\n    key: 'categorieItemsOnClick',\n    value: function categorieItemsOnClick() {\n      var selectedItem = '';\n      var categorieItem = $('.products-filter--category a');\n      var DefaultElement = {\n        'dog': 'mll',\n        'cat': 'adult'\n      };\n\n      categorieItem.on('click', function (e) {\n        e.preventDefault();\n        selectedItem = $(this);\n        if (!selectedItem.hasClass('inline-list__link--selected')) {\n          var selectedItemCategorieName = selectedItem.data('content');\n          var SelectedProductsFilter = $('.products-filter[data-category=\"' + selectedItemCategorieName + '\"]');\n          categorieItem.removeClass('inline-list__link--selected');\n          selectedItem.addClass('inline-list__link--selected');\n          $('.products-filter').removeClass('selected');\n          SelectedProductsFilter.addClass('selected');\n          var element = $('a[data-content=\"' + DefaultElement[selectedItemCategorieName] + '\"]');\n          element.removeClass('inline-list__link--selected');\n          element.trigger('click');\n        }\n      });\n    }\n  }, {\n    key: 'productFilterOnPageLoad',\n    value: function productFilterOnPageLoad() {\n      var objectParam = this.urlParamParser();\n      if (objectParam.category) {\n        var $category = $('.inline-list__link[data-content=\"' + objectParam.category + '\"]');\n        $category.trigger('click');\n        $('#products').scrollTo();\n      }\n    }\n  }, {\n    key: 'urlParamParser',\n    value: function urlParamParser() {\n      var getParams = function getParams(query) {\n        if (!query) {\n          return {};\n        }\n        return (/^[?#]/.test(query) ? query.slice(1) : query).split('&').reduce(function (params, param) {\n          var _param$split = param.split('='),\n              _param$split2 = _slicedToArray(_param$split, 2),\n              key = _param$split2[0],\n              value = _param$split2[1];\n\n          params[key] = value ? decodeURIComponent(value.replace(/\\+/g, ' ')) : '';\n          return params;\n        }, {});\n      };\n      return getParams(window.location.href);\n    }\n  }]);\n\n  return SlickSlider;\n}();\n\nvar Instance = new SlickSlider();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{}],21:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _formValidation = require('./form/form-validation');\n\nvar _formValidation2 = _interopRequireDefault(_formValidation);\n\nvar _registrationSubmit = require('./registration/registration-submit');\n\nvar _registrationSubmit2 = _interopRequireDefault(_registrationSubmit);\n\nvar _breed = require('./registration/breed');\n\nvar _breed2 = _interopRequireDefault(_breed);\n\nvar _petGender = require('./registration/pet-gender');\n\nvar _petGender2 = _interopRequireDefault(_petGender);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\n\nvar Profile = function () {\n  function Profile() {\n    _classCallCheck(this, Profile);\n\n    if (!instance) {\n      instance = this;\n    }\n    return instance;\n  }\n\n  _createClass(Profile, [{\n    key: 'init',\n    value: function init() {\n      this.checkNumberOfProfilePet();\n      this.switchPanel();\n      this.duplicateProfile();\n      this.submitProfile();\n      this.initImgFormDelete();\n      this.initDeletePetProfile();\n      this.deactivateAccount();\n      this.initLabelValue();\n    }\n  }, {\n    key: 'submitProfile',\n    value: function submitProfile() {\n      $('.js-new-pet').on('click', function () {\n        var $form = $($(this).context.form);\n        var isValid = _formValidation2.default.validatePetForm($form);\n        if (isValid) {\n          _registrationSubmit2.default.submitData($(this));\n        }\n      });\n    }\n  }, {\n    key: 'switchPanel',\n    value: function switchPanel() {\n      $('.js-switch-profile-panels').on('click', function () {\n        var button = this;\n        var profile = $(button).next('.profile');\n        var form = profile.find('.pet-registration-form');\n\n        var icon = $(button).find('i');\n        var iconClassEditable = 'icon-close';\n        var iconClassNotEditable = 'icon-edit';\n        var editableStateClass = 'profile--editable';\n\n        if (profile) {\n          $(icon).removeClass();\n          $(profile).toggleClass(editableStateClass);\n          if ($(profile).hasClass(editableStateClass)) {\n            $(icon).addClass(iconClassEditable);\n            if (profile.length !== 0) {\n              var category = form.find('input[name=\"petType\"]:checked').val();\n              var breed = profile.find('.breed[data-category=\"' + category + '\"]');\n              var breedCarousel = breed.find('.breed__carousel');\n              if (breedCarousel.length !== 0 && !breedCarousel.hasClass('slick-initialized')) {\n                setTimeout(function () {\n                  _breed2.default.initBreedSlider(breed);\n                }, 50);\n              }\n              instance.initSlider(form, category);\n            }\n          } else {\n            $(icon).addClass(iconClassNotEditable);\n          }\n        }\n      });\n    }\n  }, {\n    key: 'initSlider',\n    value: function initSlider(form, category) {\n      var petForms = form.find('.pet-form-group');\n      var index = void 0;\n\n      if (category === 'cat') {\n        index = 0;\n      } else {\n        index = 1;\n      }\n\n      var petForm = petForms[index];\n      var sliders = $(petForm).find('.slider');\n\n      sliders.each(function (i, slider) {\n        var input = $(slider).find('input');\n        var val = $(input).val();\n\n        if (!isNaN(val) && val > 0) {\n          $(input).val(val);\n          $(input).trigger('change', {\n            isTriggered: false\n          });\n        }\n      });\n    }\n  }, {\n    key: 'duplicateProfile',\n    value: function duplicateProfile() {\n      $('.js-add-another-pet-profile').on('click', function () {\n        var $lastPetProfile = $($('.pet-profile')[$('.pet-profile').length - 1]);\n        var lastIndex = parseInt($lastPetProfile.attr('data-profile-index'), 10);\n        var newIndex = lastIndex + 1;\n        var lastForm = $lastPetProfile.find('form');\n        var createUrl = lastForm.data('new-pet-url');\n        var $newPet = $lastPetProfile.clone(true, true);\n\n        lastForm.parsley().destroy();\n        $newPet.attr('data-profile-index', newIndex);\n\n        var inputs = $newPet.find('input, label, select , div, span, form');\n\n        $.each(inputs, function (ind, elem) {\n          var jElem = $(elem);\n          if (jElem.is('form')) {\n            var id = jElem.prop('id');\n            if (id) {\n              id = id.replace(/\\d+/g, '');\n              id = id + newIndex;\n              jElem.prop('id', id);\n            }\n          } else if (jElem.is('select')) {\n            var _id = jElem.prop('id');\n            if (_id) {\n              _id = _id.replace(/\\d+/g, '');\n              _id = _id + newIndex;\n              jElem.prop('id', _id);\n            }\n          } else if (jElem.is('label')) {\n            var _id2 = jElem.prop('for');\n\n            if (_id2) {\n              _id2 = _id2.replace(/\\d+/g, '');\n              _id2 = _id2 + newIndex;\n              jElem.prop('for', _id2);\n            }\n          } else if (jElem.is('span')) {\n            var ariaControls = jElem.attr('aria-controls');\n\n            instance.resetActiveSlider(jElem);\n\n            if (ariaControls) {\n              ariaControls = ariaControls.replace(/\\d+/g, '');\n              ariaControls = ariaControls + newIndex;\n              jElem.attr('aria-controls', ariaControls);\n            }\n          } else {\n            var _id3 = jElem.prop('id');\n            var _ariaControls = jElem.attr('aria-controls');\n\n            if (_id3) {\n              _id3 = _id3.replace(/\\d+/g, '');\n              _id3 = _id3 + newIndex;\n              jElem.prop('id', _id3);\n            }\n\n            if (_ariaControls) {\n              _ariaControls = _ariaControls.replace(/\\d+/g, '');\n              _ariaControls = _ariaControls + newIndex;\n              jElem.attr('aria-controls', _ariaControls);\n            }\n          }\n        });\n        var registrationPet = $newPet.find('.registration-pet').clone(true, true);\n        var registrationPetForm = registrationPet.find('form');\n        var deleteButton = registrationPetForm.find('.js-delete-pet');\n\n        registrationPetForm.parsley().destroy();\n        $(registrationPetForm)[0].reset();\n        instance.clearFormValue(registrationPetForm);\n        registrationPetForm.attr('action', createUrl);\n        registrationPetForm.removeAttr('data-pet-id');\n        registrationPet.addClass('section-content');\n        registrationPet.css('padding-top', '15px');\n        if (deleteButton.length > 0) {\n          $(deleteButton).attr('data-type', 'create');\n        }\n\n        $newPet.empty();\n        $newPet.append(registrationPet);\n        $newPet.insertAfter($lastPetProfile);\n\n        // Remove img profile from the DOM\n        var thumbnail = $newPet.find('.pet-type__thumbnail');\n        var profileImg = thumbnail.find('img');\n\n        profileImg.remove();\n\n        var selected = $newPet.find('.pet-type__thumbnail--unselected');\n        selected.removeClass('pet-type__thumbnail--unselected');\n\n        var unselected = $newPet.find('.pet-type__thumbnail--selected');\n        unselected.removeClass('pet-type__thumbnail--selected');\n\n        $newPet.scrollTo(600);\n\n        var sliders = $newPet.find('.slider');\n        sliders.each(function (iindex, slider) {\n          setTimeout(function () {\n            new Foundation.Slider($(slider));\n          }, 500);\n        });\n\n        var breeds = $newPet.find('.breed');\n\n        $.each(breeds, function (iindex, element) {\n          var breedCarousel = $(element).find('.breed__carousel');\n          $(breedCarousel).removeClass('slick-initialized');\n          $(breedCarousel).empty();\n        });\n        instance.checkNumberOfProfilePet();\n      });\n    }\n\n    // Remove active class for slider\n\n  }, {\n    key: 'resetActiveSlider',\n    value: function resetActiveSlider(elm) {\n      if ($(elm).hasClass('slider-handle')) {\n        $(elm).removeClass('active');\n      }\n    }\n  }, {\n    key: 'checkNumberOfProfilePet',\n    value: function checkNumberOfProfilePet() {\n\n      $('.profile-pet__max-pets').hide();\n      $('.js-add-another-pet-profile').show();\n      $('.remove-pet').css('visibility', 'visible');\n      var nbrProfilePet = $('.pet-profile').length;\n      if (nbrProfilePet >= 5) {\n        $('.profile-pet__max-pets').show();\n        $('.js-add-another-pet-profile').hide();\n      }\n      if (nbrProfilePet === 1) {\n        $('.remove-pet').css('visibility', 'hidden');\n      }\n      var $DataProfile = $('.pet-profile');\n      for (var i = 0; i < $DataProfile.length; i++) {\n        var SavedElement = $('.pet-profile[data-profile-index=\"' + i + '\"] .profile');\n        if (SavedElement.length > 0) {\n          continue;\n        }\n        $('.pet-profile[data-profile-index=\"0\"] .remove-pet').css('visibility', 'hidden');\n        break;\n      }\n    }\n  }, {\n    key: 'initImgFormDelete',\n    value: function initImgFormDelete() {\n      $('.js-pet-profile-remove-pic').on('click', function () {\n        var container = $(this).parents('form');\n        var imgs = container.find('.pet-type__thumbnail img');\n        var petThumbnail = $(this).parents('.pet-type__thumbnail');\n        petThumbnail.removeClass('pet-type__placeholder--preview');\n        // Remove img profile from the DOM\n        imgs.remove();\n      });\n    }\n  }, {\n    key: 'initDeletePetProfile',\n    value: function initDeletePetProfile() {\n      $('.js-delete-pet').on('click', function (event) {\n        event.preventDefault();\n        var type = $(this).data('type');\n        var petId = $(this).parents('.pet-profile').attr('data-profile-index');\n        var href = $(this).attr('href');\n\n        var $popupBtn = $('.popin-confirmation .js-delete-pet-confirm');\n        $popupBtn.attr('href', href);\n        $popupBtn.attr('data-type', type);\n        $popupBtn.attr('data-profile-index', petId);\n\n        $(this).magnificPopup({\n          items: {\n            src: $('.popin-confirmation'),\n            type: 'inline'\n          }\n        }).magnificPopup('open');\n      });\n\n      $('.js-delete-pet-confirm').on('click', function (event) {\n        event.preventDefault();\n        var type = $(this).attr('data-type');\n        if (type === 'edit') {\n          location.href = $(this).attr('href');\n        } else {\n          var profileIndex = $(this).attr('data-profile-index');\n          var sectionContainer = $('.pet-profile[data-profile-index=\"' + profileIndex + '\"]');\n          $('.mfp-close').trigger('click');\n          sectionContainer.remove();\n          instance.checkNumberOfProfilePet();\n        }\n      });\n      $('.js-delete-pet-cancel').on('click', function (e) {\n        e.preventDefault();\n        $('.mfp-close').trigger('click');\n      });\n    }\n  }, {\n    key: 'deactivateAccount',\n    value: function deactivateAccount() {\n      $('.js-deactivate-account__link').on('click', function (event) {\n        event.preventDefault();\n        var href = $(this).attr('href');\n\n        var $popupBtn = $('.popin-deactivate-account-confirmation .js-deactivate-account-confirm');\n        $popupBtn.attr('href', href);\n\n        $(this).magnificPopup({\n          items: {\n            src: $('.popin-deactivate-account-confirmation'),\n            type: 'inline'\n          }\n        }).magnificPopup('open');\n      });\n\n      $('.js-deactivate-account-confirm').on('click', function (event) {\n        event.preventDefault();\n        location.href = $(this).attr('href');\n      });\n      $('.js-deactivate-account-cancel').on('click', function (e) {\n        e.preventDefault();\n        $('.mfp-close').trigger('click');\n      });\n    }\n  }, {\n    key: 'clearFormValue',\n    value: function clearFormValue(registrationPetForm) {\n      $(registrationPetForm).find('input:radio').removeAttr('checked');\n      var forminputs = $(registrationPetForm).find('input:text');\n      $.each(forminputs, function (index, element) {\n        $(element).removeAttr('value');\n      });\n      var date = $(registrationPetForm).find('.js-date-day');\n      var month = $(registrationPetForm).find('.js-date-month');\n      var year = $(registrationPetForm).find('.js-date-year');\n      $(date).find('option:first-child').attr('selected', true);\n      $(month).find('option:first-child').attr('selected', true);\n      $(year).find('option:first-child').attr('selected', true);\n    }\n  }, {\n    key: 'initLabelValue',\n    value: function initLabelValue() {\n      var petForms = $(document).find('.pet-form-group');\n      $.each(petForms, function (index, petForm) {\n        var checkedSex = $(petForm).find(\"input[name*='petGender']:checked\").val();\n        _petGender2.default.initLabelValue($(petForm), checkedSex);\n      });\n    }\n  }]);\n\n  return Profile;\n}();\n\nvar Instance = new Profile();\nInstance.init();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{\"./form/form-validation\":10,\"./registration/breed\":23,\"./registration/pet-gender\":24,\"./registration/registration-submit\":26}],22:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _formValidation = require('../form/form-validation');\n\nvar _formValidation2 = _interopRequireDefault(_formValidation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\nvar index = null;\n\nvar AddAnotherPet = function () {\n  function AddAnotherPet() {\n    _classCallCheck(this, AddAnotherPet);\n\n    if (!instance) {\n      instance = this;\n    }\n    return instance;\n  }\n\n  _createClass(AddAnotherPet, [{\n    key: 'init',\n    value: function init() {\n      $('.js-add-another-pet').on('click', function () {\n        var sectionContainer = $(this).parents('.registration-pet__add-another-pet');\n\n        if (!sectionContainer.find('form').length) {\n          var lastForm = $('.pet-registration-form').last();\n          var isValid = _formValidation2.default.validatePetForm(lastForm);\n          if (isValid) {\n            var parent = sectionContainer.find('.registration-pet__another-form');\n            var $addpetbloc = sectionContainer.clone(true, true);\n            parent.addClass('section-content');\n            instance.addPet(parent);\n            var btnRemove = parent.find('.registration-pet__remove-pet');\n            btnRemove.css('display', 'flex');\n            var container = $(this).parents('.registration-pet');\n            var form = container.find('.section-content form');\n\n            $addpetbloc.insertAfter(sectionContainer);\n            if (form.length >= 3) {\n              $addpetbloc.hide();\n              $('.registration-pet__max-pets').show();\n            }\n          }\n        }\n      });\n\n      $('.js-remove-pet').on('click', function () {\n        instance.removePet(this);\n      });\n    }\n  }, {\n    key: 'addPet',\n    value: function addPet(parent) {\n      var $form = index ? $('#register-pet-form-index-' + index) : $('#register-pet-form-index-0');\n      $form.parsley().destroy();\n      index = parseInt($form.prop('id').match(/\\d+/g), 10) + 1;\n\n      var $clone = $form.clone(true, true).prop('id', 'register-pet-form-index-' + index);\n\n      $(parent).append($clone);\n\n      var inputs = $clone.find('input, label, div, span');\n\n      $.each(inputs, function (ind, elem) {\n        var jElem = $(elem);\n\n        if (jElem.is('label')) {\n          var id = jElem.prop('for');\n\n          if (id) {\n            id = id.replace(/\\d+/g, '');\n            id = id + index;\n            jElem.prop('for', id);\n          }\n        } else if (jElem.is('span')) {\n          var ariaControls = jElem.attr('aria-controls');\n\n          instance.resetActiveSlider(jElem);\n\n          if (ariaControls) {\n            ariaControls = ariaControls.replace(/\\d+/g, '');\n            ariaControls = ariaControls + index;\n            jElem.attr('aria-controls', ariaControls);\n          }\n        } else {\n          var _id = jElem.prop('id');\n          var _ariaControls = jElem.attr('aria-controls');\n\n          if (_id) {\n            _id = _id.replace(/\\d+/g, '');\n            _id = _id + index;\n            jElem.prop('id', _id);\n          }\n\n          if (_ariaControls) {\n            _ariaControls = _ariaControls.replace(/\\d+/g, '');\n            _ariaControls = _ariaControls + index;\n            jElem.attr('aria-controls', _ariaControls);\n          }\n        }\n      });\n\n      // Remove img profile from the DOM\n      var thumbnail = $clone.find('.pet-type__thumbnail');\n      var profileImg = thumbnail.find('img');\n\n      profileImg.remove();\n\n      var selected = $clone.find('.pet-type__thumbnail--unselected');\n      selected.removeClass('pet-type__thumbnail--unselected');\n\n      var unselected = $clone.find('.pet-type__thumbnail--selected');\n      unselected.removeClass('pet-type__thumbnail--selected');\n\n      var newFormId = '#register-pet-form-index-' + index;\n      $(newFormId)[0].reset();\n      // $(newFormId).parsley().reset();\n      $clone.scrollTo(600);\n\n      var sliders = parent.find('.slider');\n      sliders.each(function (ind, slider) {\n        setTimeout(function () {\n          new Foundation.Slider($(slider));\n        }, 500);\n      });\n\n      var breeds = $clone.find('.breed');\n\n      $.each(breeds, function (ind, element) {\n        var breedCarousel = $(element).find('.breed__carousel');\n        $(breedCarousel).removeClass('slick-initialized');\n        $(breedCarousel).empty();\n      });\n    }\n  }, {\n    key: 'removePet',\n    value: function removePet(elm) {\n      var container = $(elm).parents('.registration-pet__add-another-pet');\n\n      container.remove();\n      index = index - 1;\n      $('.registration-pet__max-pets').hide();\n      $('.registration-pet__add-another-pet').last().show();\n    }\n\n    // Remove active class for slider\n\n  }, {\n    key: 'resetActiveSlider',\n    value: function resetActiveSlider(elm) {\n      if ($(elm).hasClass('slider-handle')) {\n        $(elm).removeClass('active');\n      }\n    }\n  }]);\n\n  return AddAnotherPet;\n}();\n\nvar Instance = new AddAnotherPet();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{\"../form/form-validation\":10}],23:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\nvar breedsDog = [];\nvar breedsCat = [];\nvar otherBreedId = 4259;\nvar mixedBreedId = 4138;\n\nvar Breed = exports.Breed = function () {\n  function Breed() {\n    _classCallCheck(this, Breed);\n\n    if (!instance) {\n      instance = this;\n    }\n\n    // general configuration of the breed slider.\n\n    this.config = {\n      arrows: false,\n      infinite: true,\n      slidesToShow: 2,\n      slidesToScroll: 1,\n      swipe: true,\n      touchMove: true,\n      speed: 100,\n      centerMode: true,\n      focusOnSelect: true,\n      mobileFirst: true,\n      initialSlide: 1,\n      responsive: [{\n        breakpoint: 1023,\n        settings: {\n          slidesToShow: 4,\n          slidesToScroll: 1,\n          arrows: true,\n          centerMode: false,\n          infinite: false,\n          initialSlide: 0\n        }\n      }]\n    };\n    return instance;\n  }\n\n  _createClass(Breed, [{\n    key: 'init',\n    value: function init() {\n\n      // Initialisation\n      // const breedComponents = $(document).find('.breed');\n      // if (breedComponents.length > 0) {\n      //   for (let i = 0; i < breedComponents.length; i++) {\n      //     instance.initBreedSlider(breedComponents[i]);\n      //   }\n      // }\n    }\n  }, {\n    key: 'initBreedSlider',\n    value: function initBreedSlider(component) {\n      var breedInstance = this;\n      var componentCarousel = $(component).find('.breed__carousel');\n      var componentInput = $(component).find('.breed__search');\n      var componentHiddenInput = $(component).find('input[type=\"hidden\"]');\n      var componentCategory = $(component).data('category');\n      var componentUrl = $(component).data('url');\n      var componentCulture = $('body').data('page-id');\n      var componentData = breedInstance.getData(componentUrl, componentCulture, componentCategory);\n      var breedNames = [];\n\n      // iterate through the list and add every Item on the carousel\n      for (var i = 0; i < componentData.length; i++) {\n        breedNames.push(componentData[i].Spiecie);\n        breedInstance.createCarouselItem(componentCarousel, componentData[i]);\n      }\n\n      $(componentInput).autocomplete({\n        lookup: breedNames,\n        onSelect: function onSelect(suggestion) {\n          breedInstance.breedFilter(componentCarousel, $(componentInput).val());\n        }\n      });\n      // init the carousel\n      $(componentCarousel).slick(this.config);\n      // init the event on click for carousel item\n      breedInstance.initializeCarouselItemClick(componentCarousel, componentInput, componentHiddenInput);\n      // init the filter for the component\n      breedInstance.initSearchFilter(componentCarousel, componentInput);\n      breedInstance.initInputValue(componentCarousel, componentInput, componentHiddenInput);\n    }\n  }, {\n    key: 'getData',\n    value: function getData(componentUrl, componentCulture, componentCategory) {\n      if (componentCategory === 'cat' && breedsCat.length !== 0) {\n        return breedsCat;\n      }\n      if (componentCategory === 'dog' && breedsDog.length !== 0) {\n        return breedsDog;\n      }\n      var breedList = [];\n      $.ajax({\n        type: 'get',\n        url: componentUrl,\n        data: {\n          pageId: componentCulture,\n          specie: componentCategory\n        },\n        contentType: 'application/json',\n        async: false,\n        success: function success(data) {\n          if (componentCategory === 'cat') {\n            breedsCat = data.slice();\n          } else if (componentCategory === 'dog') {\n            breedsDog = data.slice();\n          }\n          breedList = data.slice();\n        },\n        error: function error(errorThrown) {\n          // handle error code here\n        }\n      });\n      return breedList;\n    }\n\n    // Create an element of the carousel\n\n  }, {\n    key: 'createCarouselItem',\n    value: function createCarouselItem(componentCarousel, componentData) {\n      var breedPackshot = $('<div class=\\'breed__item\\'></div>');\n      var imagePackshot = $('<img/>');\n      var itemWrapper = $('<div></div>');\n\n      $(itemWrapper).addClass('breed-item-wrapper');\n\n      $(breedPackshot).append($(itemWrapper));\n      $(breedPackshot).attr('data-name', componentData.Spiecie);\n      $(breedPackshot).attr('data-crm-id', componentData.CrmId);\n\n      $(imagePackshot).attr('src', componentData.Image);\n      $(imagePackshot).attr('alt', componentData.Spiecie);\n      $(imagePackshot).addClass('img--responsive');\n      $(itemWrapper).append($(imagePackshot));\n\n      if (parseInt(componentData.CrmId) !== otherBreedId && parseInt(componentData.CrmId) !== mixedBreedId) {\n        $(itemWrapper).append('<span class=\\'breed-name\\'>' + componentData.Spiecie + '</span>');\n      } else {\n        if (parseInt(componentData.CrmId) === otherBreedId) {\n          $(breedPackshot).attr('data-other', true);\n        }\n        $(itemWrapper).append('<div>' + componentData.Spiecie + '</div>');\n      }\n      $(componentCarousel).append($(breedPackshot));\n    }\n\n    // Carousel item click\n\n  }, {\n    key: 'initializeCarouselItemClick',\n    value: function initializeCarouselItemClick(componentCarousel, componentInput, componentHiddenInput) {\n      var breedPackshot = $(componentCarousel).find('.breed__item');\n\n      $(breedPackshot).on('click', function () {\n        $(breedPackshot).removeClass('breed__item--selected');\n        $(this).toggleClass('breed__item--selected');\n        $(componentInput).val($(this).data('name'));\n        $(componentHiddenInput).val($(this).data('crm-id'));\n\n        instance.sendBreedGtm(componentCarousel);\n      });\n    }\n\n    // Add GTM when click element carousel\n\n  }, {\n    key: 'sendBreedGtm',\n    value: function sendBreedGtm(elm) {\n      var container = $(elm).parents('.breed');\n      var id = $(container).attr('id');\n\n      dataLayer.push({\n        event: 'event_user_navigation',\n        event_category: 'event_user_navigation',\n        event_action: 'event_click_form_field',\n        event_label: id\n      });\n    }\n  }, {\n    key: 'initSearchFilter',\n    value: function initSearchFilter(componentCarousel, componentInput) {\n      $(componentInput).on('keyup', function () {\n        instance.breedFilter(componentCarousel, $(componentInput).val());\n      });\n    }\n  }, {\n    key: 'breedFilter',\n    value: function breedFilter(componentCarousel, value) {\n\n      $(componentCarousel).slick('slickUnfilter');\n      $(componentCarousel).slick('slickFilter', function (index) {\n        var currentBreedName = $(this).data('name').toLowerCase();\n        if (currentBreedName.match(value.toLowerCase())) {\n          return true;\n        }\n        return false;\n      });\n      var totalItems = $(componentCarousel).find('.slick-slide').length;\n      if (totalItems === 0) {\n        instance.showOtherBreed(componentCarousel);\n      }\n    }\n  }, {\n    key: 'showOtherBreed',\n    value: function showOtherBreed(componentCarousel) {\n      $(componentCarousel).slick('slickUnfilter');\n      $(componentCarousel).slick('slickFilter', function (index) {\n        if ($(this).data('other')) {\n          return true;\n        }\n        return false;\n      });\n    }\n  }, {\n    key: 'initInputValue',\n    value: function initInputValue(componentCarousel, componentInput, componentHiddenInput) {\n      var value = $(componentHiddenInput).val();\n      var breed = $(componentCarousel).find('.breed__item[data-crm-id=\"' + value + '\"]');\n\n      if (value.length > 0 && breed.length === 1) {\n        instance.breedFilter(componentCarousel, breed.data('name'));\n        $(componentInput).val(breed.data('name'));\n        $(breed).addClass('breed__item--selected');\n      }\n    }\n  }]);\n\n  return Breed;\n}();\n\nvar Instance = new Breed();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{}],24:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\nvar MALE_INDEX = 2;\nvar FEMALE_INDEX = 1;\n\nvar PetGender = function () {\n  function PetGender() {\n    _classCallCheck(this, PetGender);\n\n    if (!instance) {\n      instance = this;\n    }\n    return instance;\n  }\n\n  _createClass(PetGender, [{\n    key: 'init',\n    value: function init() {\n      $(\"input[name*='petGender']\").on('change', function () {\n        var petForm = $(this).parents('.pet-form-group');\n        instance.initLabelValue(petForm, this.value);\n      });\n    }\n  }, {\n    key: 'initLabelValue',\n    value: function initLabelValue(petForm, value) {\n      var formElements = ['isPetSterilized', 'petWeigh', 'petActive', 'petAloneSitter', 'isProductTriedBefore'];\n      instance.initFormElementLabel(petForm, value, formElements);\n      // init select\n      var petSpendTime = $(petForm).find(\"select[name*='petSpendTime']\").first();\n      if (petSpendTime && petSpendTime.length > 0) {\n        var petSpendTimeLabel = $(petSpendTime).prev('label');\n        if (parseInt(value) === MALE_INDEX) {\n          $(petSpendTimeLabel).text($(petSpendTime).attr('data-question-male'));\n        } else if (parseInt(value) === FEMALE_INDEX) {\n          $(petSpendTimeLabel).text($(petSpendTime).attr('data-question-female'));\n        } else {\n          $(petSpendTimeLabel).text($(petSpendTime).attr('data-question'));\n        }\n      }\n    }\n  }, {\n    key: 'initFormElementLabel',\n    value: function initFormElementLabel(petForm, value, formElements) {\n      for (var i = 0; i < formElements.length; i++) {\n        var formElement = $(petForm).find(\"input[name*='\" + formElements[i] + \"']\").first();\n        if (formElement && formElement.length > 0) {\n          var label = $(formElement).prev('.label');\n          if (label && label.length === 0) {\n            label = $(formElement).parents('.slider__wrapper').prev('.label');\n          }\n\n          if (parseInt(value) === MALE_INDEX) {\n            $(label).text($(label).attr('data-question-male'));\n          } else if (parseInt(value) === FEMALE_INDEX) {\n            $(label).text($(label).attr('data-question-female'));\n          } else {\n            $(label).text($(label).attr('data-question'));\n          }\n        }\n      }\n    }\n  }]);\n\n  return PetGender;\n}();\n\nvar Instance = new PetGender();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{}],25:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _breed = require('./breed');\n\nvar _breed2 = _interopRequireDefault(_breed);\n\nvar _petGender = require('./pet-gender');\n\nvar _petGender2 = _interopRequireDefault(_petGender);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\n\nvar PetTypes = function () {\n  function PetTypes() {\n    _classCallCheck(this, PetTypes);\n\n    if (!instance) {\n      instance = this;\n    }\n    return instance;\n  }\n\n  _createClass(PetTypes, [{\n    key: 'init',\n    value: function init() {\n      $('.pet-types__container .pet-type__thumbnail').on('click', function () {\n        if ($(this).hasClass('pet-type__thumbnail--selected')) {\n          return;\n        }\n\n        var container = $(this).parents('.pet-types__container');\n        var thumbnails = container.find('.pet-type__thumbnail');\n\n        thumbnails.addClass('pet-type__thumbnail--unselected');\n        thumbnails.removeClass('pet-type__thumbnail--selected');\n        $(this).removeClass('pet-type__thumbnail--unselected');\n        $(this).addClass('pet-type__thumbnail--selected');\n        container.next().removeClass('pet-types__collapsed');\n        instance.showFormElements();\n        instance.resetForm(this);\n        instance.resetSlider(this);\n        instance.resetProfileImg(this);\n        instance.initializeBreedForm(this);\n      });\n    }\n  }, {\n    key: 'showFormElements',\n    value: function showFormElements() {\n      if ($('.registration-pet__add-another-pet').length < 3) {\n        $('.registration-pet__add-another-pet').show();\n      }\n      $('.registration-pet__validation').show();\n      $('.js-label-pet-choice').hide();\n    }\n  }, {\n    key: 'initializeBreedForm',\n    value: function initializeBreedForm(petTypeThumbnail) {\n      // Breed.initFormDy();\n      var sectionContainer = $(petTypeThumbnail).parents('.section-container');\n      var form = sectionContainer.find('form');\n      var breed = $(form).find('.breed[data-category=\"' + $(petTypeThumbnail).data('category') + '\"]');\n      instance.initBreedCarousel(breed);\n    }\n  }, {\n    key: 'initBreedCarousel',\n    value: function initBreedCarousel(breed) {\n      var breedCarousel = $(breed).find('.breed__carousel');\n      if ($(breedCarousel).hasClass('slick-initialized')) {\n        $(breedCarousel).slick('unslick');\n        $(breedCarousel).empty();\n      }\n      setTimeout(function () {\n        _breed2.default.initBreedSlider($(breed));\n      }, 50);\n    }\n  }, {\n    key: 'resetForm',\n    value: function resetForm(elm) {\n      var sectionContainer = $(elm).parents('.section-container');\n      var form = sectionContainer.find('form');\n      $(form)[0].reset();\n      $(form).find('input[name$=\"petBreedId\"]').val('');\n      $(form).parsley().destroy();\n      var selectFormDate = form.find('.select-date__wrapper');\n      selectFormDate.removeClass('select-date-error');\n      selectFormDate.next('.select-date__error-message').hide();\n\n      // Reset all select element\n      instance.resetSelectElm(form);\n      instance.resetGenderLabel(form);\n    }\n  }, {\n    key: 'resetSelectElm',\n    value: function resetSelectElm(form) {\n      var selects = $(form).find('select');\n\n      selects.each(function (index, select) {\n        $(select).prop('selectedIndex', 0);\n      });\n    }\n  }, {\n    key: 'resetGenderLabel',\n    value: function resetGenderLabel(form) {\n      var petForm = form.find('.pet-form-group');\n      $.each(petForm, function (index, element) {\n        _petGender2.default.initLabelValue(element, null);\n      });\n    }\n  }, {\n    key: 'resetProfileImg',\n    value: function resetProfileImg(elm) {\n      var container = $(elm).parents('form');\n      var previews = $(container).find('.pet-type__placeholder--preview');\n      var imgs = container.find('img');\n      previews.removeClass('pet-type__placeholder--preview');\n      // Remove img profile from the DOM\n      imgs.remove();\n    }\n  }, {\n    key: 'resetSlider',\n    value: function resetSlider(elm) {\n      var form = $(elm).parents('form');\n      var container = form.find('.pet-types__container');\n      var petForms = form.find('.pet-form-group');\n\n      var labels = container.find('label');\n      var index = labels.index(elm);\n      var petForm = petForms[index];\n      var sliders = $(petForm).find('.slider');\n\n      sliders.each(function (i, slider) {\n        var input = $(slider).find('input');\n        var val = $(input).val();\n\n        if (val) {\n          $(input).val(0);\n          $(input).trigger('change', {\n            isTriggered: false\n          });\n        }\n\n        var handle = $(slider).find('.slider-handle');\n        instance.resetActiveSlider(handle);\n      });\n    }\n\n    // Remove active class for slider\n\n  }, {\n    key: 'resetActiveSlider',\n    value: function resetActiveSlider(elm) {\n      if ($(elm).hasClass('active')) {\n        $(elm).removeClass('active');\n      }\n    }\n  }]);\n\n  return PetTypes;\n}();\n\nvar Instance = new PetTypes();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{\"./breed\":23,\"./pet-gender\":24}],26:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _formValidation = require('../form/form-validation');\n\nvar _formValidation2 = _interopRequireDefault(_formValidation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\n\nvar RegistrationSubmit = function () {\n  function RegistrationSubmit() {\n    _classCallCheck(this, RegistrationSubmit);\n\n    if (!instance) {\n      instance = this;\n    }\n    return instance;\n  }\n\n  // Place zero 0 on left of number padLeft(23,5)=> 00023\n\n\n  _createClass(RegistrationSubmit, [{\n    key: 'leftPad',\n    value: function leftPad(number, size) {\n      return Array(size - String(number).length + 1).join('0') + number;\n    }\n  }, {\n    key: 'init',\n    value: function init() {\n      // Click Next button in registration profile page\n      $('.js-submit-registration-profile').on('click', function () {\n        var isValid = _formValidation2.default.isProfileRegistrationValid();\n\n        // Check only for NL\n        var chkLang = $('#checkbox-opt-in-mars-lang');\n        if (chkLang.length) {\n          var isChecked = chkLang.parsley().validate();\n          if (isChecked !== true) {\n            return;\n          }\n        }\n\n        if (isValid) {\n          instance.setEnableBtn(this, false);\n          var form = $(this).parents('.profile-registration-form');\n          $(form).submit();\n        }\n      });\n\n      $('.js-registration-pet').on('click', function () {\n        // Check if form is valid\n        var isValid = _formValidation2.default.validatePetsForm();\n\n        var chkTerms = $('#checkbox-opt-in-mars-term-of-use');\n        var isChkTermsChecked = chkTerms.parsley().validate();\n        if (isChkTermsChecked !== true) {\n          return;\n        }\n\n        // Check only for NL\n        var chkLang = $('#checkbox-opt-in-mars-lang');\n        if (chkLang.length) {\n          var isChecked = chkLang.parsley().validate();\n          if (isChecked !== true) {\n            return;\n          }\n        }\n\n        $('.pet-type__max-size-msg').hide();\n        if (!isValid) {\n          return;\n        }\n\n        instance.submitData(this);\n      });\n    }\n  }, {\n    key: 'setEnableBtn',\n    value: function setEnableBtn(btn, isEnable) {\n      var icon = $(btn).find('i');\n\n      btn.disabled = isEnable;\n      if (isEnable) {\n        $(btn).removeAttr('disabled');\n        $(btn).removeClass('disabled');\n        icon.removeClass('visible');\n      } else {\n        $(btn).addClass('disabled');\n        icon.addClass('visible');\n      }\n    }\n  }, {\n    key: 'submitData',\n    value: function submitData(button) {\n      // Deactivate register-btn\n      instance.setEnableBtn(button, false);\n\n      var container = $(button).parents('.registration-pet');\n      var forms = container.find('form');\n      var URL = $(forms[0]).attr('action');\n      var METHODE = $(forms[0]).attr('method');\n      var ENCTYPE = $(forms[0]).attr('enctype');\n\n      var pets = [];\n      var petPhotoUrlList = {};\n      var petIndex = 0;\n\n      forms.each(function (idx, form) {\n        var pet = {};\n        var arr = $(form).serializeArray();\n\n        // Set index of pet to link with photoUrl\n        pet.petIndex = petIndex;\n\n        // Get petType cat or dog\n        var PET_TYPE = arr.reduce(function (type, item) {\n          if (item.name.match('petType')) {\n            type = type + item.value;\n          }\n          return type;\n        }, '');\n        pet.petType = PET_TYPE;\n\n        // Filter dataform by pet type\n        arr.reduce(function (obj, item) {\n          if (item.name.match(PET_TYPE)) {\n            var temp = item.name.replace(pet.petType, '');\n            pet[temp] = item.value;\n\n            // Check if user realy choice in slider else return -1\n            var selector = 'input[name=' + item.name + ']';\n            var input = $(form).find(selector);\n\n            if (input.length) {\n              var handle = input.parents('.slider-handle');\n\n              if (handle.length && !handle.hasClass('active')) {\n                pet[temp] = 0;\n              }\n            }\n          }\n          return obj;\n        }, {});\n\n        // Format birthDate\n        var dates = [];\n\n        dates.push(isNaN(pet.petBirthDay) ? 1 : instance.leftPad(parseInt(pet.petBirthDay, 10), 2));\n        dates.push(isNaN(pet.petBirthMonth) ? 0 : instance.leftPad(parseInt(pet.petBirthMonth, 10), 2));\n        dates.push(isNaN(pet.petBirthYear) ? 0 : parseInt(pet.petBirthYear, 10));\n\n        var currendDate = moment(dates.reverse());\n\n        pet.petBirthDate = currendDate.format('L');\n\n        // Calcul du ladderAge\n        var now = moment();\n        var months = now.diff(currendDate, 'months');\n        var ladderAge = months;\n\n        if (months >= 11) {\n          ladderAge = Math.round(months / 12);\n          ladderAge = ladderAge + 'yr';\n        } else {\n          ladderAge = ladderAge + 1;\n          ladderAge = ladderAge + 'mth';\n        }\n\n        pet.petLadderAge = ladderAge;\n\n        // Get profile photo of current active pet\n        var files = $(form).find('input[type=\"file\"]');\n\n        for (var i = 0; i < files.length; i = i + 1) {\n          var name = files[i].name;\n          if (name.match(PET_TYPE)) {\n            var temp = name.replace(pet.petType, '');\n            var file = files[i].files[0];\n            if (file) {\n              // Save all profile photo\n              petPhotoUrlList[temp + petIndex] = file;\n              break;\n            }\n          }\n        }\n\n        // add pet id in case of an update\n        var dataPetAttr = $(form).attr('data-pet-id');\n        if ((typeof dataPetAttr === 'undefined' ? 'undefined' : _typeof(dataPetAttr)) !== (typeof undefined === 'undefined' ? 'undefined' : _typeof(undefined)) && dataPetAttr !== false) {\n          pet.petId = dataPetAttr;\n        }\n        if (!pet.petBreedId) {\n          pet.petBreedId = 0;\n        }\n\n        // Record all pet form\n        pets.push(pet);\n        petIndex = petIndex + 1;\n      });\n\n      // Get data hearPerfectFit\n      var data = {};\n      if (forms.length !== 1) {\n        var hear = pets.pop();\n        if (hear.hearPerfectFit) {\n          data.hearPerfectFit = true;\n        } else {\n          data.hearPerfectFit = false;\n        }\n        if (hear.hearPerfectFitLang) {\n          data.hearPerfectFitLang = true;\n        } else {\n          data.hearPerfectFitLang = false;\n        }\n      }\n      data.petsModel = pets;\n\n      // Prepare data do send to the backend\n      var formData = new FormData();\n\n      formData.append('data', JSON.stringify({\n        data: data\n      }));\n\n      for (var p in petPhotoUrlList) {\n        formData.append(p, petPhotoUrlList[p]);\n      }\n\n      // SAVE FormData\n      if (localStorage) {\n        localStorage.setItem('formData', JSON.stringify(data));\n      }\n\n      $.ajax({\n        url: URL,\n        type: METHODE,\n        data: formData,\n        dataType: 'json',\n        enctype: ENCTYPE,\n        processData: false,\n        contentType: false,\n        success: function success(resp) {\n          // Activate register-btn\n          instance.setEnableBtn(button, true);\n          if (resp.url) {\n            window.location.href = resp.url;\n          }\n          if (resp.status && resp.status === 'updated') {\n            location.reload();\n          }\n        },\n        error: function error(_error) {\n          // Activate register-btn\n          instance.setEnableBtn(button, true);\n          console.error(_error);\n        }\n      });\n    }\n  }]);\n\n  return RegistrationSubmit;\n}();\n\nvar Instance = new RegistrationSubmit();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{\"../form/form-validation\":10}],27:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\n\nvar SendMail = function () {\n  function SendMail() {\n    _classCallCheck(this, SendMail);\n\n    if (!instance) {\n      instance = this;\n    }\n    return instance;\n  }\n\n  _createClass(SendMail, [{\n    key: 'init',\n    value: function init() {\n      this.onSubmitEmail();\n    }\n  }, {\n    key: 'onSubmitEmail',\n    value: function onSubmitEmail() {\n      $('.js-reset-success').on('click', function (event) {\n        $('.mfp-close').trigger('click');\n      });\n\n      // $('.js-email-forgot').on('click', (event) => {\n      //   event.preventDefault();\n      //   $('header .reset-password-form').submit();\n      // });\n\n      $('header .reset-password-form').on('submit', function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        var $form = $('form.reset-password-form');\n        if (!$form.length) {\n          return;\n        }\n        var isValid = $form.parsley().validate();\n        if (isValid) {\n          var model = {\n            email: $('#reset-password-form-email').val()\n          };\n          // TODO: add pageID into form: value = \"#pageId#\"\n          var pageId = $('body').attr('data-page-id');\n          var culture = $('html').attr('lang');\n          var returnUrl = \"\";\n          $('.js-email-forgot').addClass('btn--white disabled');\n          $('.loader img').show();\n          $('.reset-password-form .message').hide();\n          $.ajax({\n            type: 'POST',\n            url: '/umbraco/Surface/Account/ForgotPassword/',\n            data: JSON.stringify({\n              model: model,\n              returnUrl: returnUrl,\n              pageId: pageId,\n              culture: culture\n            }),\n            contentType: 'application/json',\n            success: function success(data) {\n              $('.js-email-forgot').removeClass('btn--white disabled');\n              $('.loader img').hide();\n              if (!data.MessageError) {\n                var $lform = $('header .login-form');\n                var $rform = $('header .reset-password-form');\n                var $resentForm = $('header .resent-email-form');\n                if ($resentForm.length) {\n                  $resentForm[0].reset();\n                  $resentForm.parsley().reset();\n                }\n                if ($lform.length) {\n                  $lform[0].reset();\n                  $lform.parsley().reset();\n                }\n                if ($rform.length) {\n                  $rform[0].reset();\n                  $rform.parsley().reset();\n                }\n                $('.message').html('');\n                $('.message').hide();\n                $.magnificPopup.close();\n                $('.js-email-forgot').magnificPopup({\n                  items: {\n                    src: $('.rest-password-step-3'),\n                    type: 'inline'\n                  },\n                  callbacks: {\n                    beforeClose: function beforeClose() {\n                      $('.js-email-forgot').off('click');\n                      $('.js-email-forgot').removeData('magnificPopup');\n                    }\n                  }\n                }).magnificPopup('open');\n              } else {\n                $('.reset-password-form .message').html(data.MessageError);\n                $('.reset-password-form .message').show();\n              }\n            },\n            error: function error(jqXhR, textStatus, errorThrown) {\n              $('.js-email-forgot').removeClass('btn--white disabled');\n              $('.loader img').hide();\n              $('.reset-password-form .message').html(errorThrown);\n              $('.reset-password-form .message').show();\n            }\n          });\n        }\n      });\n\n      // TODO: remove error message when closing the popin\n\n      $('header .resent-email-form').on('submit', function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        var $form = $('form.resent-email-form');\n        if (!$form.length) {\n          return;\n        }\n        var isValid = $form.parsley().validate();\n        if (isValid) {\n          var model = {\n            email: $('#resent-email-form-email').val()\n          };\n          // TODO: add pageID into form: value = \"#pageId#\"\n          var pageId = $('body').attr('data-page-id');\n          var culture = $('html').attr('lang');\n          var returnUrl = \"\";\n          $('.resent-email-form .btn').addClass('btn--white disabled');\n          $('.loader img').show();\n          $('.message').html('');\n          $('.message').hide();\n          $.ajax({\n            type: 'POST',\n            url: '/umbraco/Surface/Account/ResendEmail/',\n            data: JSON.stringify({\n              model: model,\n              returnUrl: returnUrl,\n              pageId: pageId,\n              culture: culture\n            }),\n            contentType: 'application/json',\n            success: function success(data) {\n              $('.resent-email-form .btn').removeClass('btn--white disabled');\n              $('.loader img').hide();\n              if (!data.MessageError) {\n                var $lform = $('header .login-form');\n                var $rform = $('header .reset-password-form');\n                var $resentForm = $('header .resent-email-form');\n                if ($resentForm.length) {\n                  $resentForm[0].reset();\n                  $resentForm.parsley().reset();\n                }\n                if ($lform.length) {\n                  $lform[0].reset();\n                  $lform.parsley().reset();\n                }\n                if ($rform.length) {\n                  $rform[0].reset();\n                  $rform.parsley().reset();\n                }\n                $('.message').html('');\n                $('.message').hide();\n                $.magnificPopup.close();\n                $('.resent-email-form .btn').magnificPopup({\n                  items: {\n                    src: $('.rest-password-step-3'),\n                    type: 'inline'\n                  },\n                  callbacks: {\n                    beforeClose: function beforeClose() {\n                      $('.resent-email-form .btn').off('click');\n                      $('.resent-email-form .btn').removeData('magnificPopup');\n                    },\n                    change: function change() {\n                      $('.message').html('');\n                      $('.message').hide();\n                    }\n                  }\n                }).magnificPopup('open');\n              } else {\n                $('.resent-email-form .message').html(data.MessageError);\n                $('.resent-email-form .message').show();\n              }\n            },\n            error: function error(jqXhR, textStatus, errorThrown) {\n              $('.resent-email-form .btn').removeClass('btn--white disabled');\n              $('.loader img').hide();\n              $('.resent-email-form .message').html(errorThrown);\n              $('.resent-email-form .message').show();\n            }\n          });\n        }\n      });\n    }\n  }]);\n\n  return SendMail;\n}();\n\nvar Instance = new SendMail();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{}],28:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\nvar isTriggered = true;\nvar isFirstLoad = $('.pet-form-group').length;\n\nvar Slider = exports.Slider = function () {\n  function Slider() {\n    _classCallCheck(this, Slider);\n\n    if (!instance) {\n      instance = this;\n    }\n    return instance;\n  }\n\n  _createClass(Slider, [{\n    key: 'init',\n    value: function init() {\n      // This event is fired when the user select the birthDate throught the selectDate\n      $('.select-date select').on('change', function () {\n        var container = $(this).parents('.select-date');\n\n        isTriggered = false;\n\n        // Do sync inverse only if the selectDate is selected\n        if (container.length) {\n          instance.syncBirthDateInv(container);\n        }\n      });\n\n      // This event is fired when the slider value is updated via event.trigger()\n      $('.slider input').on('change', function (event, data) {\n        if (!data.isTriggered) {\n          isTriggered = false;\n        }\n      });\n\n      // Activate or deactivate the select value of the slider\n      $('.slider').on('mousedown.zf.slider', function (event) {\n        var handle = $(this).find('.slider-handle');\n        instance.sendGTM(this);\n\n        // Because the age is mandatory, it's not necessary to reset the slider value\n        if (instance.isAgeSlider(this)) {\n          handle.addClass('active');\n          return;\n        }\n\n        // Toggle activate / deactivate slider value when blue circle is clicked.\n        var isHandle = $(event.target).hasClass('slider-handle');\n\n        if (isHandle) {\n          handle.toggleClass('active');\n        } else {\n          handle.addClass('active');\n        }\n      });\n\n      // This event is triggered when the slider slide hahaha\n      $('.slider').on('moved.zf.slider', function () {\n        instance.manageTooltip(this);\n      });\n\n      // The event is fired when the user click on the slider blue circle :)\n      $('.slider-handle').on('click', function () {\n        // Because the age is mandatory, it's not necessary to reset the slider value\n        if (instance.isAgeSlider(this)) {\n          return;\n        }\n\n        // Reset the slider value\n        var input = $(this).find('input');\n\n        $(input).val(0);\n        $(input).trigger('change', {\n          isTriggered: true\n        });\n      });\n\n      // Touchscreen management\n      this.buttonClickCssManager();\n    }\n\n    // Synchro Inverse of birthDate: select date TO slider\n\n  }, {\n    key: 'syncBirthDateInv',\n    value: function syncBirthDateInv(container) {\n      var dates = [];\n      var selects = container.find('select');\n\n      // Get all value in the selects element: DD/MM/YYYY\n      selects.each(function (index, select) {\n        dates.push($(select).val());\n      });\n\n      // Calcul the value to set in the slider\n      // Get the difference between currentTime AND the selected birthDate expressed in MONTH\n      // The algo is the inverse of manageTooltip method :)\n      var currendDate = moment(dates.reverse());\n      var now = moment();\n      var months = now.diff(currendDate, 'months');\n      var ageIndex = months > 6 ? months : 0;\n\n      if (months >= 12) {\n        // Arrondissement du rsultat:\n        // eg: 2ans et 6mois ~= 3ans AND 2ans et 5mois ~= 1ans\n        ageIndex = Math.round(months / 12) + 5;\n      } else {\n        // Month age[-6m 11m] <=> index[0 5]\n        ageIndex = months - 6;\n      }\n\n      if (ageIndex) {\n        var handle = container.find('.slider-handle');\n        handle.addClass('active');\n      }\n\n      console.log(ageIndex);\n\n      // Update the slider value from the valid birthDate selected\n      var slider = container.find('.slider');\n      var input = slider.find('input');\n\n      $(input).val(Number(ageIndex));\n      $(input).trigger('change', {\n        isTriggered: false\n      });\n    }\n\n    // Check if the current slider is for AGE selection\n\n  }, {\n    key: 'isAgeSlider',\n    value: function isAgeSlider(elm) {\n      var container = $(elm).parents('.select-date');\n      return container.length;\n    }\n\n    /* -----------------------------------------\r\n    Manage the tooltip of the ladder age slider:\r\n    NB: The slider age varies from -6 months to 14 years.\r\n    So, we use these value to describe this variations:\r\n    0 to 19\r\n    6 == index 0 AND +14year == index 19\r\n     0  1  2  3  4   5   6   7   8   9   10  11  12  13  14  15   16   17   18    19\r\n    -6m 7m 8m 9m 10m 11m 1yr 2yr 3yr 4yr 5yr 6yr 7yr 8yr 9yr 10yr 11yr 12yr 13yr +14yr\r\n      Algo:\r\n    If index == 0 OR index == 19\r\n      We don't show the tooltip!\r\n    If index < 6: (ie, for month value: -6m to 11m)\r\n      age (tooltip) = index + 6 (in months)\r\n      eg: index = 3 --> age = 9m\r\n      Check the table above to verify: index 3 == 9m :)\r\n    If index >= 6: (ie, for year value: 1yer to +14yr)\r\n      age = index - 5 (in years)\r\n      eg: index = 10 --> age = 5yr\r\n    --------------------------------------------*/\n\n  }, {\n    key: 'manageTooltip',\n    value: function manageTooltip(elm) {\n      var input = $(elm).find('input');\n      var tooltip = $(input).next();\n      var value = parseInt($(input).val(), 10);\n\n      // Find the tooltip only if it exist\n      if ($(tooltip).length) {\n        if (value === 0 || isNaN(value)) {\n          $(tooltip).empty();\n          instance.syncBirthDate(elm, '6m');\n        } else if (value === 19) {\n          $(tooltip).empty();\n          instance.syncBirthDate(elm, '14');\n        } else if (value < 6) {\n          $(tooltip).text(value + 6 + 'm');\n          instance.syncBirthDate(elm, $(tooltip).text());\n        } else {\n          $(tooltip).text(value - 5);\n          instance.syncBirthDate(elm, $(tooltip).text());\n        }\n      }\n    }\n\n    // Synchronize slider with select date\n\n  }, {\n    key: 'syncBirthDate',\n    value: function syncBirthDate(element, value) {\n      // To avoid ladder age slider fired on page load\n      if (isFirstLoad > 0) {\n        isFirstLoad = isFirstLoad - 1;\n        return;\n      }\n\n      // Synchro is only fired for active slider and explicit triggered\n      var handle = $(element).find('.slider-handle');\n      var isSliderActive = handle.hasClass('active');\n\n      if (!isTriggered || !isSliderActive) {\n        isTriggered = true;\n        return;\n      }\n\n      // Calcul du birthDate par rapport au date du jour et celle slctionner depuis le slider\n      var date = void 0;\n      var regex = /(\\d+)([a-z])/g;\n\n      // Check if the value provided by slider is year or month\n      if (value.match(regex) === null) {\n        // Value is year\n        date = moment().subtract(value, 'year').calendar();\n      } else {\n        // Value is month\n        var val = value.replace(/[a-z]/g, '');\n        date = moment().subtract(val, 'month').calendar();\n      }\n\n      var arr = date.split('/');\n      var monthIndex = parseInt(arr[1], 10);\n\n      // Substract one unity of the month index because the start index of the plugin moment js is 0\n      // So, January has index 0 and December has 11\n      if (monthIndex) {\n        arr[1] = monthIndex - 1;\n      }\n\n      // Find all select for date in the current form (cat or dog)\n      var container = $(element).parents('.select-date');\n      var selectDate = container.find('.select-date__wrapper');\n      var selects = selectDate.find('select');\n\n      if (arr) {\n        // Init only the month and the year from slider age value\n        selects.each(function (index, select) {\n          if (index > 0) {\n            var v = parseInt(arr[index], 10);\n            $(select).val(v);\n          }\n        });\n\n        // Remove date error msg\n        var errorMsg = selectDate.next('.select-date__error-message');\n        if (errorMsg) {\n          errorMsg.hide();\n        }\n        selectDate.removeClass('select-date-error');\n      }\n    }\n\n    // send GTM when all slider is fired\n\n  }, {\n    key: 'sendGTM',\n    value: function sendGTM(elm) {\n      var input = $(elm).find('input');\n      var eventLabel = $(input).attr('id');\n\n      dataLayer.push({\n        event: 'event_user_navigation',\n        event_category: 'event_user_navigation',\n        event_action: 'event_click_form_field',\n        event_label: eventLabel\n      });\n    }\n  }, {\n    key: 'isMobileDevice',\n    value: function isMobileDevice() {\n      if (/Mobi/.test(navigator.userAgent)) {\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: 'buttonClickCssManager',\n    value: function buttonClickCssManager() {\n      if (instance.isMobileDevice()) {\n        $('.slider-handle').on('touchend', function () {\n          $(this).toggleClass('active');\n        });\n      }\n    }\n  }]);\n\n  return Slider;\n}();\n\nvar Instance = new Slider();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{}],29:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\nvar speed = 250;\n/* petType filter not yet implemented*/\nvar petType = 'cat';\n\nvar ThumbnailBox = function () {\n  function ThumbnailBox() {\n    _classCallCheck(this, ThumbnailBox);\n\n    if (!instance) {\n      instance = this;\n    }\n    return instance;\n  }\n\n  _createClass(ThumbnailBox, [{\n    key: 'init',\n    value: function init() {\n\n      $('.js-btn-learnmore-benefits').click(function () {\n        var container = $(this).parents('.thumbnail-box__wrapper');\n        var collapsed = container.find('.thumbnail-box__collapsed-wrapper');\n        var offset = 50;\n\n        collapsed.slideToggle(speed);\n        $(this).slideDown(speed).hide(offset);\n      });\n\n      $('.js-close-benefits').click(function () {\n        var container = $(this).parents('.thumbnail-box__wrapper');\n        var collapsed = container.find('.thumbnail-box__collapsed-wrapper');\n        var btn = container.find('.js-btn-learnmore-benefits');\n\n        collapsed.slideToggle(speed, function () {\n          btn.fadeIn(speed);\n        });\n      });\n    }\n  }, {\n    key: 'fimmGTM',\n    value: function fimmGTM() {\n      if (petType === 'cat') {\n        dataLayer.push({\n          event: 'event_product_actions',\n          event_category: 'event_click_learn_more_benefits',\n          event_action: 'event_consultation_dog_product',\n\n          event_label: '$product_name - healthy growth'\n        });\n      } else if (petType === 'dog') {\n        dataLayer.push({\n          event: 'event_product_actions',\n          event_category: 'event_click_learn_more_benefits',\n          event_action: 'event_consultation_dog_product',\n          event_label: '$product_name - healthy growth'\n        });\n      }\n    }\n  }]);\n\n  return ThumbnailBox;\n}();\n\nvar Instance = new ThumbnailBox();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{}],30:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\nvar MAX_SIZE = 5242880;\n\nvar UploadImg = function () {\n  function UploadImg() {\n    _classCallCheck(this, UploadImg);\n\n    if (!instance) {\n      instance = this;\n    }\n    return instance;\n  }\n\n  _createClass(UploadImg, [{\n    key: 'init',\n    value: function init() {\n      $('.js-camera-pet').on('change', function () {\n        var container = $(this).parents('.pet-type__thumbnail');\n        container.removeClass('pet-type__placeholder--preview');\n        if (this.files && this.files[0]) {\n          if (!window.FileReader) {\n            return;\n          }\n\n          var file = this.files[0];\n          var img = container.find('img');\n          var errorMsg = container.next('.pet-type__max-size-msg');\n\n          $(errorMsg).hide();\n          if (file.size > MAX_SIZE) {\n            $(errorMsg).show();\n            return;\n          }\n\n          if (!img.length) {\n            img = document.createElement('img');\n            img.setAttribute('alt', 'Profile image');\n            $(img).insertBefore($(this));\n          }\n\n          var reader = new FileReader();\n\n          reader.onload = function (e) {\n            $(img).attr('src', e.target.result);\n          };\n          reader.readAsDataURL(file);\n          container.addClass('pet-type__placeholder--preview');\n        }\n      });\n\n      $('.js-camera-pet').on('click', function () {\n        var id = $(this).attr('id');\n\n        dataLayer.push({\n          event: 'event_user_navigation',\n          event_category: 'event_user_navigation',\n          event_action: 'event_click_form_field',\n          event_label: id\n        });\n      });\n    }\n  }]);\n\n  return UploadImg;\n}();\n\nvar Instance = new UploadImg();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{}],31:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n(function ($) {\n\n  $.fn.scrollTo = function (speed, easing) {\n    return this.each(function () {\n      var targetOffset = $(this).offset().top;\n      $('html,body').animate({\n        scrollTop: targetOffset\n      }, speed, easing);\n    });\n  };\n})(jQuery);\n\nfunction customizeFooter() {\n  $(\"#mars-footer-panel\").addClass('custom-mars-footer');\n  var interval = setInterval(function () {\n    if ($('#mars-footer-panel').length) {\n      clearInterval(interval);\n      $('.footer--row').show();\n    }\n  }, 100);\n}\n\nfunction isFileExtensionValid(fileName, extensionsLists) {\n  if ($.inArray(fileName.split('.').pop().toLowerCase(), extensionsLists) == -1) {\n    return false;\n  }\n  return true;\n}\nexports.customizeFooter = customizeFooter;\nexports.isFileExtensionValid = isFileExtensionValid;\n\n},{}],32:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\n\nvar Coupon = exports.Coupon = function () {\n  function Coupon() {\n    _classCallCheck(this, Coupon);\n\n    if (!instance) {\n      instance = this;\n    }\n    instance.init();\n    return instance;\n  }\n\n  _createClass(Coupon, [{\n    key: 'init',\n    value: function init() {\n      $('.js-print-coupon-now').on('click', function () {\n        instance.sendGtm(this);\n      });\n    }\n\n    // TO-DO: FIX 13099\n\n  }, {\n    key: 'sendGtm',\n    value: function sendGtm(elem) {\n      var container = $(elem).parents('.offers__container--single');\n\n      if (!container.length) {\n        container = $('.offers__container--single');\n      }\n\n      var id = container.attr('id');\n      var _couponName = '';\n\n      var regex = /(dog)/g;\n\n      if (id.match(regex) === null) {\n        // CAT\n        _couponName = 'cat_coupon_';\n      } else {\n        // DOG\n        _couponName = 'dog_coupon_';\n      }\n\n      var couponID = container.attr('data-coupon-id');\n\n      if (couponID) {\n        _couponName = _couponName + couponID;\n\n        var eventAction = '';\n        var isPrintNow = $(elem).hasClass('js-print-coupon-now');\n\n        if (isPrintNow) {\n          eventAction = 'event_coupon_print';\n        } else {\n          eventAction = 'event_coupon_request_from_mobile';\n        }\n\n        dataLayer.push({\n          event: 'event_coupon_actions',\n          event_category: 'event_coupon_actions',\n          event_action: eventAction,\n          event_label: _couponName\n        });\n      }\n    }\n  }]);\n\n  return Coupon;\n}();\n\nvar Instance = new Coupon();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{}],33:[function(require,module,exports){\n'use strict';\n\njQuery(function ($) {\n  $.fn.onFocusGTM = function () {\n    var forms = this;\n    /* const datas = {};\r\n    datas.href = window.location.href;*/\n\n    forms.find('input[type=text], input[type=email], input[type=password]').on('focus', function () {\n      dataLayer.push({\n        event: 'event_user_navigation',\n        event_category: 'event_user_navigation',\n        event_action: 'event_click_form_field',\n        event_label: $(this).attr('id')\n      });\n    });\n\n    forms.find('select').on('focus', function () {\n      var id = $(this).attr('id');\n\n      if (id.match('registration-pet-tab')) {\n        return;\n      }\n\n      var arr = id.split('-');\n      var newId = [];\n      for (var i in arr) {\n        if (arr[i] !== 'day' && arr[i] !== 'month' && arr[i] !== 'year') {\n          newId.push(arr[i]);\n        }\n      }\n\n      dataLayer.push({\n        event: 'event_user_navigation',\n        event_category: 'event_user_navigation',\n        event_action: 'event_click_form_field',\n        event_label: newId.join('-')\n      });\n    });\n\n    forms.find('input[type=radio], input[type=checkbox]').on('change', function (e) {\n      var id = $(this).attr('id');\n\n      if (id.match('registration-pet-tab')) {\n        return;\n      }\n\n      var arr = id.split('-');\n      var newId = [];\n      for (var i in arr) {\n        if (arr[i] !== 'yes' && arr[i] !== 'no' && arr[i] !== 'male' && arr[i] !== 'female') {\n          newId.push(arr[i]);\n        }\n      }\n\n      dataLayer.push({\n        event: 'event_user_navigation',\n        event_category: 'event_user_navigation',\n        event_action: 'event_click_form_field',\n        event_label: newId.join('-')\n      });\n    });\n  };\n\n  $('.pet-registration-form, .profile-registration-form, .registration-pet__terms-form').onFocusGTM();\n});\n\n},{}],34:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\n\nvar LoginCreateAccount = exports.LoginCreateAccount = function () {\n  function LoginCreateAccount() {\n    _classCallCheck(this, LoginCreateAccount);\n\n    if (!instance) {\n      instance = this;\n    }\n    instance.init();\n    return instance;\n  }\n\n  _createClass(LoginCreateAccount, [{\n    key: 'init',\n    value: function init() {\n      $('.js-create-account').on('click', function (event) {\n        event.preventDefault();\n        instance.loginGTM(this);\n        location.href = $(this).attr('href');\n      });\n    }\n  }, {\n    key: 'loginGTM',\n    value: function loginGTM(elm) {\n      var container = $(elm).parents('.login-popin');\n      var eventLabel = 'login_';\n\n      if (container.length) {\n        // Popin\n        eventLabel = eventLabel + 'pop-in';\n      } else {\n        // Login page\n        eventLabel = eventLabel + 'page';\n      }\n\n      dataLayer.push({\n        event: 'event_crm_actions',\n        event_category: 'event_crm_actions',\n        event_action: 'event_login_go_to_registration',\n        event_label: eventLabel\n      });\n    }\n  }]);\n\n  return LoginCreateAccount;\n}();\n\nvar Instance = new LoginCreateAccount();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{}],35:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = null;\n\nvar Sample = exports.Sample = function () {\n  function Sample() {\n    _classCallCheck(this, Sample);\n\n    if (!instance) {\n      instance = this;\n    }\n    instance.init();\n    return instance;\n  }\n\n  _createClass(Sample, [{\n    key: 'init',\n    value: function init() {\n      $('.js-register-sample').on('click', function (event) {\n        var _this = this;\n\n        event.preventDefault();\n        $.ajax({\n          type: 'POST',\n          url: '/umbraco/Surface/Account/IsUserLogged',\n          contentType: 'application/json',\n          success: function success(data) {\n            if (data.status) {\n              instance.sendGtmSample(true);\n            } else {\n              instance.sendGtmSample(false);\n            }\n            location.href = $(_this).attr('href');\n          }\n        });\n      });\n\n      $('.js-get-sample').on('click', function (event) {\n        event.preventDefault();\n        instance.sendGtmSample(true);\n        location.href = $(this).attr('href');\n      });\n    }\n  }, {\n    key: 'sendGtmSample',\n    value: function sendGtmSample(isComplete) {\n      var eventAction = void 0;\n      var eventLabel = void 0;\n\n      if (isComplete) {\n        eventAction = 'event_sample_request';\n        eventLabel = 'sample_request_logged';\n      } else {\n        eventAction = 'event_sample_request';\n        eventLabel = 'sample_request_anonymous';\n      }\n\n      dataLayer.push({\n        event: 'event_crm_actions',\n        event_category: 'event_sample_actions',\n        event_action: eventAction,\n        event_label: eventLabel\n      });\n    }\n  }]);\n\n  return Sample;\n}();\n\nvar Instance = new Sample();\n\nObject.freeze(Instance);\n\nexports.default = Instance;\n\n},{}],36:[function(require,module,exports){\n'use strict';\n\nvar _jquery = require('jquery');\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nwindow.jQuery = _jquery2.default;\nwindow.$ = _jquery2.default;\n\n},{\"jquery\":52}],37:[function(require,module,exports){\n'use strict';\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _fr = require('moment/locale/fr');\n\nvar _fr2 = _interopRequireDefault(_fr);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_moment2.default.locale('fr', _fr2.default);\nwindow.moment = _moment2.default;\n\n},{\"moment\":55,\"moment/locale/fr\":54}],38:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/*!\n* Parsley.js\n* Version 2.6.2 - built Wed, Jan 4th 2017, 8:58 am\n* http://parsleyjs.org\n* Guillaume Potier - <guillaume@wisembly.com>\n* Marc-Andre Lafortune - <petroselinum@marc-andre.ca>\n* MIT Licensed\n*/\n\n// The source code below is generated by babel as\n// Parsley is written in ECMAScript 6\n//\nvar _slice = Array.prototype.slice;\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\n(function (global, factory) {\n  (typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('jquery')) : typeof define === 'function' && define.amd ? define(['jquery'], factory) : global.parsley = factory(global.jQuery);\n})(undefined, function ($) {\n  'use strict';\n\n  var globalID = 1;\n  var pastWarnings = {};\n\n  var ParsleyUtils__ParsleyUtils = {\n    // Parsley DOM-API\n    // returns object from dom attributes and values\n    attr: function attr($element, namespace, obj) {\n      var i;\n      var attribute;\n      var attributes;\n      var regex = new RegExp('^' + namespace, 'i');\n\n      if ('undefined' === typeof obj) obj = {};else {\n        // Clear all own properties. This won't affect prototype's values\n        for (i in obj) {\n          if (obj.hasOwnProperty(i)) delete obj[i];\n        }\n      }\n\n      if ('undefined' === typeof $element || 'undefined' === typeof $element[0]) return obj;\n\n      attributes = $element[0].attributes;\n      for (i = attributes.length; i--;) {\n        attribute = attributes[i];\n\n        if (attribute && attribute.specified && regex.test(attribute.name)) {\n          obj[this.camelize(attribute.name.slice(namespace.length))] = this.deserializeValue(attribute.value);\n        }\n      }\n\n      return obj;\n    },\n\n    checkAttr: function checkAttr($element, namespace, _checkAttr) {\n      return $element.is('[' + namespace + _checkAttr + ']');\n    },\n\n    setAttr: function setAttr($element, namespace, attr, value) {\n      $element[0].setAttribute(this.dasherize(namespace + attr), String(value));\n    },\n\n    generateID: function generateID() {\n      return '' + globalID++;\n    },\n\n    /** Third party functions **/\n    // Zepto deserialize function\n    deserializeValue: function deserializeValue(value) {\n      var num;\n\n      try {\n        return value ? value == \"true\" || (value == \"false\" ? false : value == \"null\" ? null : !isNaN(num = Number(value)) ? num : /^[\\[\\{]/.test(value) ? $.parseJSON(value) : value) : value;\n      } catch (e) {\n        return value;\n      }\n    },\n\n    // Zepto camelize function\n    camelize: function camelize(str) {\n      return str.replace(/-+(.)?/g, function (match, chr) {\n        return chr ? chr.toUpperCase() : '';\n      });\n    },\n\n    // Zepto dasherize function\n    dasherize: function dasherize(str) {\n      return str.replace(/::/g, '/').replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2').replace(/([a-z\\d])([A-Z])/g, '$1_$2').replace(/_/g, '-').toLowerCase();\n    },\n\n    warn: function warn() {\n      var _window$console;\n\n      if (window.console && 'function' === typeof window.console.warn) (_window$console = window.console).warn.apply(_window$console, arguments);\n    },\n\n    warnOnce: function warnOnce(msg) {\n      if (!pastWarnings[msg]) {\n        pastWarnings[msg] = true;\n        this.warn.apply(this, arguments);\n      }\n    },\n\n    _resetWarnings: function _resetWarnings() {\n      pastWarnings = {};\n    },\n\n    trimString: function trimString(string) {\n      return string.replace(/^\\s+|\\s+$/g, '');\n    },\n\n    namespaceEvents: function namespaceEvents(events, namespace) {\n      events = this.trimString(events || '').split(/\\s+/);\n      if (!events[0]) return '';\n      return $.map(events, function (evt) {\n        return evt + '.' + namespace;\n      }).join(' ');\n    },\n\n    difference: function difference(array, remove) {\n      // This is O(N^2), should be optimized\n      var result = [];\n      $.each(array, function (_, elem) {\n        if (remove.indexOf(elem) == -1) result.push(elem);\n      });\n      return result;\n    },\n\n    // Alter-ego to native Promise.all, but for jQuery\n    all: function all(promises) {\n      // jQuery treats $.when() and $.when(singlePromise) differently; let's avoid that and add spurious elements\n      return $.when.apply($, _toConsumableArray(promises).concat([42, 42]));\n    },\n\n    // Object.create polyfill, see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create#Polyfill\n    objectCreate: Object.create || function () {\n      var Object = function Object() {};\n      return function (prototype) {\n        if (arguments.length > 1) {\n          throw Error('Second argument not supported');\n        }\n        if ((typeof prototype === 'undefined' ? 'undefined' : _typeof(prototype)) != 'object') {\n          throw TypeError('Argument must be an object');\n        }\n        Object.prototype = prototype;\n        var result = new Object();\n        Object.prototype = null;\n        return result;\n      };\n    }(),\n\n    _SubmitSelector: 'input[type=\"submit\"], button:submit'\n  };\n\n  var ParsleyUtils__default = ParsleyUtils__ParsleyUtils;\n\n  // All these options could be overriden and specified directly in DOM using\n  // `data-parsley-` default DOM-API\n  // eg: `inputs` can be set in DOM using `data-parsley-inputs=\"input, textarea\"`\n  // eg: `data-parsley-stop-on-first-failing-constraint=\"false\"`\n\n  var ParsleyDefaults = {\n    // ### General\n\n    // Default data-namespace for DOM API\n    namespace: 'data-parsley-',\n\n    // Supported inputs by default\n    inputs: 'input, textarea, select',\n\n    // Excluded inputs by default\n    excluded: 'input[type=button], input[type=submit], input[type=reset], input[type=hidden]',\n\n    // Stop validating field on highest priority failing constraint\n    priorityEnabled: true,\n\n    // ### Field only\n\n    // identifier used to group together inputs (e.g. radio buttons...)\n    multiple: null,\n\n    // identifier (or array of identifiers) used to validate only a select group of inputs\n    group: null,\n\n    // ### UI\n    // Enable\\Disable error messages\n    uiEnabled: true,\n\n    // Key events threshold before validation\n    validationThreshold: 3,\n\n    // Focused field on form validation error. 'first'|'last'|'none'\n    focus: 'first',\n\n    // event(s) that will trigger validation before first failure. eg: `input`...\n    trigger: false,\n\n    // event(s) that will trigger validation after first failure.\n    triggerAfterFailure: 'input',\n\n    // Class that would be added on every failing validation Parsley field\n    errorClass: 'parsley-error',\n\n    // Same for success validation\n    successClass: 'parsley-success',\n\n    // Return the `$element` that will receive these above success or error classes\n    // Could also be (and given directly from DOM) a valid selector like `'#div'`\n    classHandler: function classHandler(ParsleyField) {},\n\n    // Return the `$element` where errors will be appended\n    // Could also be (and given directly from DOM) a valid selector like `'#div'`\n    errorsContainer: function errorsContainer(ParsleyField) {},\n\n    // ul elem that would receive errors' list\n    errorsWrapper: '<ul class=\"parsley-errors-list\"></ul>',\n\n    // li elem that would receive error message\n    errorTemplate: '<li></li>'\n  };\n\n  var ParsleyAbstract = function ParsleyAbstract() {\n    this.__id__ = ParsleyUtils__default.generateID();\n  };\n\n  ParsleyAbstract.prototype = {\n    asyncSupport: true, // Deprecated\n\n    _pipeAccordingToValidationResult: function _pipeAccordingToValidationResult() {\n      var _this = this;\n\n      var pipe = function pipe() {\n        var r = $.Deferred();\n        if (true !== _this.validationResult) r.reject();\n        return r.resolve().promise();\n      };\n      return [pipe, pipe];\n    },\n\n    actualizeOptions: function actualizeOptions() {\n      ParsleyUtils__default.attr(this.$element, this.options.namespace, this.domOptions);\n      if (this.parent && this.parent.actualizeOptions) this.parent.actualizeOptions();\n      return this;\n    },\n\n    _resetOptions: function _resetOptions(initOptions) {\n      this.domOptions = ParsleyUtils__default.objectCreate(this.parent.options);\n      this.options = ParsleyUtils__default.objectCreate(this.domOptions);\n      // Shallow copy of ownProperties of initOptions:\n      for (var i in initOptions) {\n        if (initOptions.hasOwnProperty(i)) this.options[i] = initOptions[i];\n      }\n      this.actualizeOptions();\n    },\n\n    _listeners: null,\n\n    // Register a callback for the given event name\n    // Callback is called with context as the first argument and the `this`\n    // The context is the current parsley instance, or window.Parsley if global\n    // A return value of `false` will interrupt the calls\n    on: function on(name, fn) {\n      this._listeners = this._listeners || {};\n      var queue = this._listeners[name] = this._listeners[name] || [];\n      queue.push(fn);\n\n      return this;\n    },\n\n    // Deprecated. Use `on` instead\n    subscribe: function subscribe(name, fn) {\n      $.listenTo(this, name.toLowerCase(), fn);\n    },\n\n    // Unregister a callback (or all if none is given) for the given event name\n    off: function off(name, fn) {\n      var queue = this._listeners && this._listeners[name];\n      if (queue) {\n        if (!fn) {\n          delete this._listeners[name];\n        } else {\n          for (var i = queue.length; i--;) {\n            if (queue[i] === fn) queue.splice(i, 1);\n          }\n        }\n      }\n      return this;\n    },\n\n    // Deprecated. Use `off`\n    unsubscribe: function unsubscribe(name, fn) {\n      $.unsubscribeTo(this, name.toLowerCase());\n    },\n\n    // Trigger an event of the given name\n    // A return value of `false` interrupts the callback chain\n    // Returns false if execution was interrupted\n    trigger: function trigger(name, target, extraArg) {\n      target = target || this;\n      var queue = this._listeners && this._listeners[name];\n      var result;\n      var parentResult;\n      if (queue) {\n        for (var i = queue.length; i--;) {\n          result = queue[i].call(target, target, extraArg);\n          if (result === false) return result;\n        }\n      }\n      if (this.parent) {\n        return this.parent.trigger(name, target, extraArg);\n      }\n      return true;\n    },\n\n    // Reset UI\n    reset: function reset() {\n      // Field case: just emit a reset event for UI\n      if ('ParsleyForm' !== this.__class__) {\n        this._resetUI();\n        return this._trigger('reset');\n      }\n\n      // Form case: emit a reset event for each field\n      for (var i = 0; i < this.fields.length; i++) {\n        this.fields[i].reset();\n      }this._trigger('reset');\n    },\n\n    // Destroy Parsley instance (+ UI)\n    destroy: function destroy() {\n      // Field case: emit destroy event to clean UI and then destroy stored instance\n      this._destroyUI();\n      if ('ParsleyForm' !== this.__class__) {\n        this.$element.removeData('Parsley');\n        this.$element.removeData('ParsleyFieldMultiple');\n        this._trigger('destroy');\n\n        return;\n      }\n\n      // Form case: destroy all its fields and then destroy stored instance\n      for (var i = 0; i < this.fields.length; i++) {\n        this.fields[i].destroy();\n      }this.$element.removeData('Parsley');\n      this._trigger('destroy');\n    },\n\n    asyncIsValid: function asyncIsValid(group, force) {\n      ParsleyUtils__default.warnOnce(\"asyncIsValid is deprecated; please use whenValid instead\");\n      return this.whenValid({ group: group, force: force });\n    },\n\n    _findRelated: function _findRelated() {\n      return this.options.multiple ? this.parent.$element.find('[' + this.options.namespace + 'multiple=\"' + this.options.multiple + '\"]') : this.$element;\n    }\n  };\n\n  var requirementConverters = {\n    string: function string(_string) {\n      return _string;\n    },\n    integer: function integer(string) {\n      if (isNaN(string)) throw 'Requirement is not an integer: \"' + string + '\"';\n      return parseInt(string, 10);\n    },\n    number: function number(string) {\n      if (isNaN(string)) throw 'Requirement is not a number: \"' + string + '\"';\n      return parseFloat(string);\n    },\n    reference: function reference(string) {\n      // Unused for now\n      var result = $(string);\n      if (result.length === 0) throw 'No such reference: \"' + string + '\"';\n      return result;\n    },\n    boolean: function boolean(string) {\n      return string !== 'false';\n    },\n    object: function object(string) {\n      return ParsleyUtils__default.deserializeValue(string);\n    },\n    regexp: function regexp(_regexp) {\n      var flags = '';\n\n      // Test if RegExp is literal, if not, nothing to be done, otherwise, we need to isolate flags and pattern\n      if (/^\\/.*\\/(?:[gimy]*)$/.test(_regexp)) {\n        // Replace the regexp literal string with the first match group: ([gimy]*)\n        // If no flag is present, this will be a blank string\n        flags = _regexp.replace(/.*\\/([gimy]*)$/, '$1');\n        // Again, replace the regexp literal string with the first match group:\n        // everything excluding the opening and closing slashes and the flags\n        _regexp = _regexp.replace(new RegExp('^/(.*?)/' + flags + '$'), '$1');\n      } else {\n        // Anchor regexp:\n        _regexp = '^' + _regexp + '$';\n      }\n      return new RegExp(_regexp, flags);\n    }\n  };\n\n  var convertArrayRequirement = function convertArrayRequirement(string, length) {\n    var m = string.match(/^\\s*\\[(.*)\\]\\s*$/);\n    if (!m) throw 'Requirement is not an array: \"' + string + '\"';\n    var values = m[1].split(',').map(ParsleyUtils__default.trimString);\n    if (values.length !== length) throw 'Requirement has ' + values.length + ' values when ' + length + ' are needed';\n    return values;\n  };\n\n  var convertRequirement = function convertRequirement(requirementType, string) {\n    var converter = requirementConverters[requirementType || 'string'];\n    if (!converter) throw 'Unknown requirement specification: \"' + requirementType + '\"';\n    return converter(string);\n  };\n\n  var convertExtraOptionRequirement = function convertExtraOptionRequirement(requirementSpec, string, extraOptionReader) {\n    var main = null;\n    var extra = {};\n    for (var key in requirementSpec) {\n      if (key) {\n        var value = extraOptionReader(key);\n        if ('string' === typeof value) value = convertRequirement(requirementSpec[key], value);\n        extra[key] = value;\n      } else {\n        main = convertRequirement(requirementSpec[key], string);\n      }\n    }\n    return [main, extra];\n  };\n\n  // A Validator needs to implement the methods `validate` and `parseRequirements`\n\n  var ParsleyValidator = function ParsleyValidator(spec) {\n    $.extend(true, this, spec);\n  };\n\n  ParsleyValidator.prototype = {\n    // Returns `true` iff the given `value` is valid according the given requirements.\n    validate: function validate(value, requirementFirstArg) {\n      if (this.fn) {\n        // Legacy style validator\n\n        if (arguments.length > 3) // If more args then value, requirement, instance...\n          requirementFirstArg = [].slice.call(arguments, 1, -1); // Skip first arg (value) and last (instance), combining the rest\n        return this.fn.call(this, value, requirementFirstArg);\n      }\n\n      if ($.isArray(value)) {\n        if (!this.validateMultiple) throw 'Validator `' + this.name + '` does not handle multiple values';\n        return this.validateMultiple.apply(this, arguments);\n      } else {\n        if (this.validateNumber) {\n          if (isNaN(value)) return false;\n          arguments[0] = parseFloat(arguments[0]);\n          return this.validateNumber.apply(this, arguments);\n        }\n        if (this.validateString) {\n          return this.validateString.apply(this, arguments);\n        }\n        throw 'Validator `' + this.name + '` only handles multiple values';\n      }\n    },\n\n    // Parses `requirements` into an array of arguments,\n    // according to `this.requirementType`\n    parseRequirements: function parseRequirements(requirements, extraOptionReader) {\n      if ('string' !== typeof requirements) {\n        // Assume requirement already parsed\n        // but make sure we return an array\n        return $.isArray(requirements) ? requirements : [requirements];\n      }\n      var type = this.requirementType;\n      if ($.isArray(type)) {\n        var values = convertArrayRequirement(requirements, type.length);\n        for (var i = 0; i < values.length; i++) {\n          values[i] = convertRequirement(type[i], values[i]);\n        }return values;\n      } else if ($.isPlainObject(type)) {\n        return convertExtraOptionRequirement(type, requirements, extraOptionReader);\n      } else {\n        return [convertRequirement(type, requirements)];\n      }\n    },\n    // Defaults:\n    requirementType: 'string',\n\n    priority: 2\n\n  };\n\n  var ParsleyValidatorRegistry = function ParsleyValidatorRegistry(validators, catalog) {\n    this.__class__ = 'ParsleyValidatorRegistry';\n\n    // Default Parsley locale is en\n    this.locale = 'en';\n\n    this.init(validators || {}, catalog || {});\n  };\n\n  var typeRegexes = {\n    email: /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i,\n\n    // Follow https://www.w3.org/TR/html5/infrastructure.html#floating-point-numbers\n    number: /^-?(\\d*\\.)?\\d+(e[-+]?\\d+)?$/i,\n\n    integer: /^-?\\d+$/,\n\n    digits: /^\\d+$/,\n\n    alphanum: /^\\w+$/i,\n\n    url: new RegExp(\"^\" +\n    // protocol identifier\n    \"(?:(?:https?|ftp)://)?\" + // ** mod: make scheme optional\n    // user:pass authentication\n    \"(?:\\\\S+(?::\\\\S*)?@)?\" + \"(?:\" +\n    // IP address exclusion\n    // private & local networks\n    // \"(?!(?:10|127)(?:\\\\.\\\\d{1,3}){3})\" +   // ** mod: allow local networks\n    // \"(?!(?:169\\\\.254|192\\\\.168)(?:\\\\.\\\\d{1,3}){2})\" +  // ** mod: allow local networks\n    // \"(?!172\\\\.(?:1[6-9]|2\\\\d|3[0-1])(?:\\\\.\\\\d{1,3}){2})\" +  // ** mod: allow local networks\n    // IP address dotted notation octets\n    // excludes loopback network 0.0.0.0\n    // excludes reserved space >= 224.0.0.0\n    // excludes network & broacast addresses\n    // (first & last IP address of each class)\n    \"(?:[1-9]\\\\d?|1\\\\d\\\\d|2[01]\\\\d|22[0-3])\" + \"(?:\\\\.(?:1?\\\\d{1,2}|2[0-4]\\\\d|25[0-5])){2}\" + \"(?:\\\\.(?:[1-9]\\\\d?|1\\\\d\\\\d|2[0-4]\\\\d|25[0-4]))\" + \"|\" +\n    // host name\n    '(?:(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)' +\n    // domain name\n    '(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)*' +\n    // TLD identifier\n    '(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,}))' + \")\" +\n    // port number\n    \"(?::\\\\d{2,5})?\" +\n    // resource path\n    \"(?:/\\\\S*)?\" + \"$\", 'i')\n  };\n  typeRegexes.range = typeRegexes.number;\n\n  // See http://stackoverflow.com/a/10454560/8279\n  var decimalPlaces = function decimalPlaces(num) {\n    var match = ('' + num).match(/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/);\n    if (!match) {\n      return 0;\n    }\n    return Math.max(0,\n    // Number of digits right of decimal point.\n    (match[1] ? match[1].length : 0) - (\n    // Adjust for scientific notation.\n    match[2] ? +match[2] : 0));\n  };\n\n  ParsleyValidatorRegistry.prototype = {\n    init: function init(validators, catalog) {\n      this.catalog = catalog;\n      // Copy prototype's validators:\n      this.validators = $.extend({}, this.validators);\n\n      for (var name in validators) {\n        this.addValidator(name, validators[name].fn, validators[name].priority);\n      }window.Parsley.trigger('parsley:validator:init');\n    },\n\n    // Set new messages locale if we have dictionary loaded in ParsleyConfig.i18n\n    setLocale: function setLocale(locale) {\n      if ('undefined' === typeof this.catalog[locale]) throw new Error(locale + ' is not available in the catalog');\n\n      this.locale = locale;\n\n      return this;\n    },\n\n    // Add a new messages catalog for a given locale. Set locale for this catalog if set === `true`\n    addCatalog: function addCatalog(locale, messages, set) {\n      if ('object' === (typeof messages === 'undefined' ? 'undefined' : _typeof(messages))) this.catalog[locale] = messages;\n\n      if (true === set) return this.setLocale(locale);\n\n      return this;\n    },\n\n    // Add a specific message for a given constraint in a given locale\n    addMessage: function addMessage(locale, name, message) {\n      if ('undefined' === typeof this.catalog[locale]) this.catalog[locale] = {};\n\n      this.catalog[locale][name] = message;\n\n      return this;\n    },\n\n    // Add messages for a given locale\n    addMessages: function addMessages(locale, nameMessageObject) {\n      for (var name in nameMessageObject) {\n        this.addMessage(locale, name, nameMessageObject[name]);\n      }return this;\n    },\n\n    // Add a new validator\n    //\n    //    addValidator('custom', {\n    //        requirementType: ['integer', 'integer'],\n    //        validateString: function(value, from, to) {},\n    //        priority: 22,\n    //        messages: {\n    //          en: \"Hey, that's no good\",\n    //          fr: \"Aye aye, pas bon du tout\",\n    //        }\n    //    })\n    //\n    // Old API was addValidator(name, function, priority)\n    //\n    addValidator: function addValidator(name, arg1, arg2) {\n      if (this.validators[name]) ParsleyUtils__default.warn('Validator \"' + name + '\" is already defined.');else if (ParsleyDefaults.hasOwnProperty(name)) {\n        ParsleyUtils__default.warn('\"' + name + '\" is a restricted keyword and is not a valid validator name.');\n        return;\n      }\n      return this._setValidator.apply(this, arguments);\n    },\n\n    updateValidator: function updateValidator(name, arg1, arg2) {\n      if (!this.validators[name]) {\n        ParsleyUtils__default.warn('Validator \"' + name + '\" is not already defined.');\n        return this.addValidator.apply(this, arguments);\n      }\n      return this._setValidator.apply(this, arguments);\n    },\n\n    removeValidator: function removeValidator(name) {\n      if (!this.validators[name]) ParsleyUtils__default.warn('Validator \"' + name + '\" is not defined.');\n\n      delete this.validators[name];\n\n      return this;\n    },\n\n    _setValidator: function _setValidator(name, validator, priority) {\n      if ('object' !== (typeof validator === 'undefined' ? 'undefined' : _typeof(validator))) {\n        // Old style validator, with `fn` and `priority`\n        validator = {\n          fn: validator,\n          priority: priority\n        };\n      }\n      if (!validator.validate) {\n        validator = new ParsleyValidator(validator);\n      }\n      this.validators[name] = validator;\n\n      for (var locale in validator.messages || {}) {\n        this.addMessage(locale, name, validator.messages[locale]);\n      }return this;\n    },\n\n    getErrorMessage: function getErrorMessage(constraint) {\n      var message;\n\n      // Type constraints are a bit different, we have to match their requirements too to find right error message\n      if ('type' === constraint.name) {\n        var typeMessages = this.catalog[this.locale][constraint.name] || {};\n        message = typeMessages[constraint.requirements];\n      } else message = this.formatMessage(this.catalog[this.locale][constraint.name], constraint.requirements);\n\n      return message || this.catalog[this.locale].defaultMessage || this.catalog.en.defaultMessage;\n    },\n\n    // Kind of light `sprintf()` implementation\n    formatMessage: function formatMessage(string, parameters) {\n      if ('object' === (typeof parameters === 'undefined' ? 'undefined' : _typeof(parameters))) {\n        for (var i in parameters) {\n          string = this.formatMessage(string, parameters[i]);\n        }return string;\n      }\n\n      return 'string' === typeof string ? string.replace(/%s/i, parameters) : '';\n    },\n\n    // Here is the Parsley default validators list.\n    // A validator is an object with the following key values:\n    //  - priority: an integer\n    //  - requirement: 'string' (default), 'integer', 'number', 'regexp' or an Array of these\n    //  - validateString, validateMultiple, validateNumber: functions returning `true`, `false` or a promise\n    // Alternatively, a validator can be a function that returns such an object\n    //\n    validators: {\n      notblank: {\n        validateString: function validateString(value) {\n          return (/\\S/.test(value)\n          );\n        },\n        priority: 2\n      },\n      required: {\n        validateMultiple: function validateMultiple(values) {\n          return values.length > 0;\n        },\n        validateString: function validateString(value) {\n          return (/\\S/.test(value)\n          );\n        },\n        priority: 512\n      },\n      type: {\n        validateString: function validateString(value, type) {\n          var _ref = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n          var _ref$step = _ref.step;\n          var step = _ref$step === undefined ? 'any' : _ref$step;\n          var _ref$base = _ref.base;\n          var base = _ref$base === undefined ? 0 : _ref$base;\n\n          var regex = typeRegexes[type];\n          if (!regex) {\n            throw new Error('validator type `' + type + '` is not supported');\n          }\n          if (!regex.test(value)) return false;\n          if ('number' === type) {\n            if (!/^any$/i.test(step || '')) {\n              var nb = Number(value);\n              var decimals = Math.max(decimalPlaces(step), decimalPlaces(base));\n              if (decimalPlaces(nb) > decimals) // Value can't have too many decimals\n                return false;\n              // Be careful of rounding errors by using integers.\n              var toInt = function toInt(f) {\n                return Math.round(f * Math.pow(10, decimals));\n              };\n              if ((toInt(nb) - toInt(base)) % toInt(step) != 0) return false;\n            }\n          }\n          return true;\n        },\n        requirementType: {\n          '': 'string',\n          step: 'string',\n          base: 'number'\n        },\n        priority: 256\n      },\n      pattern: {\n        validateString: function validateString(value, regexp) {\n          return regexp.test(value);\n        },\n        requirementType: 'regexp',\n        priority: 64\n      },\n      minlength: {\n        validateString: function validateString(value, requirement) {\n          return value.length >= requirement;\n        },\n        requirementType: 'integer',\n        priority: 30\n      },\n      maxlength: {\n        validateString: function validateString(value, requirement) {\n          return value.length <= requirement;\n        },\n        requirementType: 'integer',\n        priority: 30\n      },\n      length: {\n        validateString: function validateString(value, min, max) {\n          return value.length >= min && value.length <= max;\n        },\n        requirementType: ['integer', 'integer'],\n        priority: 30\n      },\n      mincheck: {\n        validateMultiple: function validateMultiple(values, requirement) {\n          return values.length >= requirement;\n        },\n        requirementType: 'integer',\n        priority: 30\n      },\n      maxcheck: {\n        validateMultiple: function validateMultiple(values, requirement) {\n          return values.length <= requirement;\n        },\n        requirementType: 'integer',\n        priority: 30\n      },\n      check: {\n        validateMultiple: function validateMultiple(values, min, max) {\n          return values.length >= min && values.length <= max;\n        },\n        requirementType: ['integer', 'integer'],\n        priority: 30\n      },\n      min: {\n        validateNumber: function validateNumber(value, requirement) {\n          return value >= requirement;\n        },\n        requirementType: 'number',\n        priority: 30\n      },\n      max: {\n        validateNumber: function validateNumber(value, requirement) {\n          return value <= requirement;\n        },\n        requirementType: 'number',\n        priority: 30\n      },\n      range: {\n        validateNumber: function validateNumber(value, min, max) {\n          return value >= min && value <= max;\n        },\n        requirementType: ['number', 'number'],\n        priority: 30\n      },\n      equalto: {\n        validateString: function validateString(value, refOrValue) {\n          var $reference = $(refOrValue);\n          if ($reference.length) return value === $reference.val();else return value === refOrValue;\n        },\n        priority: 256\n      }\n    }\n  };\n\n  var ParsleyUI = {};\n\n  var diffResults = function diffResults(newResult, oldResult, deep) {\n    var added = [];\n    var kept = [];\n\n    for (var i = 0; i < newResult.length; i++) {\n      var found = false;\n\n      for (var j = 0; j < oldResult.length; j++) {\n        if (newResult[i].assert.name === oldResult[j].assert.name) {\n          found = true;\n          break;\n        }\n      }if (found) kept.push(newResult[i]);else added.push(newResult[i]);\n    }\n\n    return {\n      kept: kept,\n      added: added,\n      removed: !deep ? diffResults(oldResult, newResult, true).added : []\n    };\n  };\n\n  ParsleyUI.Form = {\n\n    _actualizeTriggers: function _actualizeTriggers() {\n      var _this2 = this;\n\n      this.$element.on('submit.Parsley', function (evt) {\n        _this2.onSubmitValidate(evt);\n      });\n      this.$element.on('click.Parsley', ParsleyUtils__default._SubmitSelector, function (evt) {\n        _this2.onSubmitButton(evt);\n      });\n\n      // UI could be disabled\n      if (false === this.options.uiEnabled) return;\n\n      this.$element.attr('novalidate', '');\n    },\n\n    focus: function focus() {\n      this._focusedField = null;\n\n      if (true === this.validationResult || 'none' === this.options.focus) return null;\n\n      for (var i = 0; i < this.fields.length; i++) {\n        var field = this.fields[i];\n        if (true !== field.validationResult && field.validationResult.length > 0 && 'undefined' === typeof field.options.noFocus) {\n          this._focusedField = field.$element;\n          if ('first' === this.options.focus) break;\n        }\n      }\n\n      if (null === this._focusedField) return null;\n\n      return this._focusedField.focus();\n    },\n\n    _destroyUI: function _destroyUI() {\n      // Reset all event listeners\n      this.$element.off('.Parsley');\n    }\n\n  };\n\n  ParsleyUI.Field = {\n\n    _reflowUI: function _reflowUI() {\n      this._buildUI();\n\n      // If this field doesn't have an active UI don't bother doing something\n      if (!this._ui) return;\n\n      // Diff between two validation results\n      var diff = diffResults(this.validationResult, this._ui.lastValidationResult);\n\n      // Then store current validation result for next reflow\n      this._ui.lastValidationResult = this.validationResult;\n\n      // Handle valid / invalid / none field class\n      this._manageStatusClass();\n\n      // Add, remove, updated errors messages\n      this._manageErrorsMessages(diff);\n\n      // Triggers impl\n      this._actualizeTriggers();\n\n      // If field is not valid for the first time, bind keyup trigger to ease UX and quickly inform user\n      if ((diff.kept.length || diff.added.length) && !this._failedOnce) {\n        this._failedOnce = true;\n        this._actualizeTriggers();\n      }\n    },\n\n    // Returns an array of field's error message(s)\n    getErrorsMessages: function getErrorsMessages() {\n      // No error message, field is valid\n      if (true === this.validationResult) return [];\n\n      var messages = [];\n\n      for (var i = 0; i < this.validationResult.length; i++) {\n        messages.push(this.validationResult[i].errorMessage || this._getErrorMessage(this.validationResult[i].assert));\n      }return messages;\n    },\n\n    // It's a goal of Parsley that this method is no longer required [#1073]\n    addError: function addError(name) {\n      var _ref2 = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      var message = _ref2.message;\n      var assert = _ref2.assert;\n      var _ref2$updateClass = _ref2.updateClass;\n      var updateClass = _ref2$updateClass === undefined ? true : _ref2$updateClass;\n\n      this._buildUI();\n      this._addError(name, { message: message, assert: assert });\n\n      if (updateClass) this._errorClass();\n    },\n\n    // It's a goal of Parsley that this method is no longer required [#1073]\n    updateError: function updateError(name) {\n      var _ref3 = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      var message = _ref3.message;\n      var assert = _ref3.assert;\n      var _ref3$updateClass = _ref3.updateClass;\n      var updateClass = _ref3$updateClass === undefined ? true : _ref3$updateClass;\n\n      this._buildUI();\n      this._updateError(name, { message: message, assert: assert });\n\n      if (updateClass) this._errorClass();\n    },\n\n    // It's a goal of Parsley that this method is no longer required [#1073]\n    removeError: function removeError(name) {\n      var _ref4 = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      var _ref4$updateClass = _ref4.updateClass;\n      var updateClass = _ref4$updateClass === undefined ? true : _ref4$updateClass;\n\n      this._buildUI();\n      this._removeError(name);\n\n      // edge case possible here: remove a standard Parsley error that is still failing in this.validationResult\n      // but highly improbable cuz' manually removing a well Parsley handled error makes no sense.\n      if (updateClass) this._manageStatusClass();\n    },\n\n    _manageStatusClass: function _manageStatusClass() {\n      if (this.hasConstraints() && this.needsValidation() && true === this.validationResult) this._successClass();else if (this.validationResult.length > 0) this._errorClass();else this._resetClass();\n    },\n\n    _manageErrorsMessages: function _manageErrorsMessages(diff) {\n      if ('undefined' !== typeof this.options.errorsMessagesDisabled) return;\n\n      // Case where we have errorMessage option that configure an unique field error message, regardless failing validators\n      if ('undefined' !== typeof this.options.errorMessage) {\n        if (diff.added.length || diff.kept.length) {\n          this._insertErrorWrapper();\n\n          if (0 === this._ui.$errorsWrapper.find('.parsley-custom-error-message').length) this._ui.$errorsWrapper.append($(this.options.errorTemplate).addClass('parsley-custom-error-message'));\n\n          return this._ui.$errorsWrapper.addClass('filled').find('.parsley-custom-error-message').html(this.options.errorMessage);\n        }\n\n        return this._ui.$errorsWrapper.removeClass('filled').find('.parsley-custom-error-message').remove();\n      }\n\n      // Show, hide, update failing constraints messages\n      for (var i = 0; i < diff.removed.length; i++) {\n        this._removeError(diff.removed[i].assert.name);\n      }for (i = 0; i < diff.added.length; i++) {\n        this._addError(diff.added[i].assert.name, { message: diff.added[i].errorMessage, assert: diff.added[i].assert });\n      }for (i = 0; i < diff.kept.length; i++) {\n        this._updateError(diff.kept[i].assert.name, { message: diff.kept[i].errorMessage, assert: diff.kept[i].assert });\n      }\n    },\n\n    _addError: function _addError(name, _ref5) {\n      var message = _ref5.message;\n      var assert = _ref5.assert;\n\n      this._insertErrorWrapper();\n      this._ui.$errorsWrapper.addClass('filled').append($(this.options.errorTemplate).addClass('parsley-' + name).html(message || this._getErrorMessage(assert)));\n    },\n\n    _updateError: function _updateError(name, _ref6) {\n      var message = _ref6.message;\n      var assert = _ref6.assert;\n\n      this._ui.$errorsWrapper.addClass('filled').find('.parsley-' + name).html(message || this._getErrorMessage(assert));\n    },\n\n    _removeError: function _removeError(name) {\n      this._ui.$errorsWrapper.removeClass('filled').find('.parsley-' + name).remove();\n    },\n\n    _getErrorMessage: function _getErrorMessage(constraint) {\n      var customConstraintErrorMessage = constraint.name + 'Message';\n\n      if ('undefined' !== typeof this.options[customConstraintErrorMessage]) return window.Parsley.formatMessage(this.options[customConstraintErrorMessage], constraint.requirements);\n\n      return window.Parsley.getErrorMessage(constraint);\n    },\n\n    _buildUI: function _buildUI() {\n      // UI could be already built or disabled\n      if (this._ui || false === this.options.uiEnabled) return;\n\n      var _ui = {};\n\n      // Give field its Parsley id in DOM\n      this.$element.attr(this.options.namespace + 'id', this.__id__);\n\n      /** Generate important UI elements and store them in this **/\n      // $errorClassHandler is the $element that woul have parsley-error and parsley-success classes\n      _ui.$errorClassHandler = this._manageClassHandler();\n\n      // $errorsWrapper is a div that would contain the various field errors, it will be appended into $errorsContainer\n      _ui.errorsWrapperId = 'parsley-id-' + (this.options.multiple ? 'multiple-' + this.options.multiple : this.__id__);\n      _ui.$errorsWrapper = $(this.options.errorsWrapper).attr('id', _ui.errorsWrapperId);\n\n      // ValidationResult UI storage to detect what have changed bwt two validations, and update DOM accordingly\n      _ui.lastValidationResult = [];\n      _ui.validationInformationVisible = false;\n\n      // Store it in this for later\n      this._ui = _ui;\n    },\n\n    // Determine which element will have `parsley-error` and `parsley-success` classes\n    _manageClassHandler: function _manageClassHandler() {\n      // An element selector could be passed through DOM with `data-parsley-class-handler=#foo`\n      if ('string' === typeof this.options.classHandler && $(this.options.classHandler).length) return $(this.options.classHandler);\n\n      // Class handled could also be determined by function given in Parsley options\n      var $handler = this.options.classHandler.call(this, this);\n\n      // If this function returned a valid existing DOM element, go for it\n      if ('undefined' !== typeof $handler && $handler.length) return $handler;\n\n      return this._inputHolder();\n    },\n\n    _inputHolder: function _inputHolder() {\n      // if simple element (input, texatrea, select...) it will perfectly host the classes and precede the error container\n      if (!this.options.multiple || this.$element.is('select')) return this.$element;\n\n      // But if multiple element (radio, checkbox), that would be their parent\n      return this.$element.parent();\n    },\n\n    _insertErrorWrapper: function _insertErrorWrapper() {\n      var $errorsContainer;\n\n      // Nothing to do if already inserted\n      if (0 !== this._ui.$errorsWrapper.parent().length) return this._ui.$errorsWrapper.parent();\n\n      if ('string' === typeof this.options.errorsContainer) {\n        if ($(this.options.errorsContainer).length) return $(this.options.errorsContainer).append(this._ui.$errorsWrapper);else ParsleyUtils__default.warn('The errors container `' + this.options.errorsContainer + '` does not exist in DOM');\n      } else if ('function' === typeof this.options.errorsContainer) $errorsContainer = this.options.errorsContainer.call(this, this);\n\n      if ('undefined' !== typeof $errorsContainer && $errorsContainer.length) return $errorsContainer.append(this._ui.$errorsWrapper);\n\n      return this._inputHolder().after(this._ui.$errorsWrapper);\n    },\n\n    _actualizeTriggers: function _actualizeTriggers() {\n      var _this3 = this;\n\n      var $toBind = this._findRelated();\n      var trigger;\n\n      // Remove Parsley events already bound on this field\n      $toBind.off('.Parsley');\n      if (this._failedOnce) $toBind.on(ParsleyUtils__default.namespaceEvents(this.options.triggerAfterFailure, 'Parsley'), function () {\n        _this3._validateIfNeeded();\n      });else if (trigger = ParsleyUtils__default.namespaceEvents(this.options.trigger, 'Parsley')) {\n        $toBind.on(trigger, function (event) {\n          _this3._validateIfNeeded(event);\n        });\n      }\n    },\n\n    _validateIfNeeded: function _validateIfNeeded(event) {\n      var _this4 = this;\n\n      // For keyup, keypress, keydown, input... events that could be a little bit obstrusive\n      // do not validate if val length < min threshold on first validation. Once field have been validated once and info\n      // about success or failure have been displayed, always validate with this trigger to reflect every yalidation change.\n      if (event && /key|input/.test(event.type)) if (!(this._ui && this._ui.validationInformationVisible) && this.getValue().length <= this.options.validationThreshold) return;\n\n      if (this.options.debounce) {\n        window.clearTimeout(this._debounced);\n        this._debounced = window.setTimeout(function () {\n          return _this4.validate();\n        }, this.options.debounce);\n      } else this.validate();\n    },\n\n    _resetUI: function _resetUI() {\n      // Reset all event listeners\n      this._failedOnce = false;\n      this._actualizeTriggers();\n\n      // Nothing to do if UI never initialized for this field\n      if ('undefined' === typeof this._ui) return;\n\n      // Reset all errors' li\n      this._ui.$errorsWrapper.removeClass('filled').children().remove();\n\n      // Reset validation class\n      this._resetClass();\n\n      // Reset validation flags and last validation result\n      this._ui.lastValidationResult = [];\n      this._ui.validationInformationVisible = false;\n    },\n\n    _destroyUI: function _destroyUI() {\n      this._resetUI();\n\n      if ('undefined' !== typeof this._ui) this._ui.$errorsWrapper.remove();\n\n      delete this._ui;\n    },\n\n    _successClass: function _successClass() {\n      this._ui.validationInformationVisible = true;\n      this._ui.$errorClassHandler.removeClass(this.options.errorClass).addClass(this.options.successClass);\n    },\n    _errorClass: function _errorClass() {\n      this._ui.validationInformationVisible = true;\n      this._ui.$errorClassHandler.removeClass(this.options.successClass).addClass(this.options.errorClass);\n    },\n    _resetClass: function _resetClass() {\n      this._ui.$errorClassHandler.removeClass(this.options.successClass).removeClass(this.options.errorClass);\n    }\n  };\n\n  var ParsleyForm = function ParsleyForm(element, domOptions, options) {\n    this.__class__ = 'ParsleyForm';\n\n    this.$element = $(element);\n    this.domOptions = domOptions;\n    this.options = options;\n    this.parent = window.Parsley;\n\n    this.fields = [];\n    this.validationResult = null;\n  };\n\n  var ParsleyForm__statusMapping = { pending: null, resolved: true, rejected: false };\n\n  ParsleyForm.prototype = {\n    onSubmitValidate: function onSubmitValidate(event) {\n      var _this5 = this;\n\n      // This is a Parsley generated submit event, do not validate, do not prevent, simply exit and keep normal behavior\n      if (true === event.parsley) return;\n\n      // If we didn't come here through a submit button, use the first one in the form\n      var $submitSource = this._$submitSource || this.$element.find(ParsleyUtils__default._SubmitSelector).first();\n      this._$submitSource = null;\n      this.$element.find('.parsley-synthetic-submit-button').prop('disabled', true);\n      if ($submitSource.is('[formnovalidate]')) return;\n\n      var promise = this.whenValidate({ event: event });\n\n      if ('resolved' === promise.state() && false !== this._trigger('submit')) {\n        // All good, let event go through. We make this distinction because browsers\n        // differ in their handling of `submit` being called from inside a submit event [#1047]\n      } else {\n        // Rejected or pending: cancel this submit\n        event.stopImmediatePropagation();\n        event.preventDefault();\n        if ('pending' === promise.state()) promise.done(function () {\n          _this5._submit($submitSource);\n        });\n      }\n    },\n\n    onSubmitButton: function onSubmitButton(event) {\n      this._$submitSource = $(event.currentTarget);\n    },\n    // internal\n    // _submit submits the form, this time without going through the validations.\n    // Care must be taken to \"fake\" the actual submit button being clicked.\n    _submit: function _submit($submitSource) {\n      if (false === this._trigger('submit')) return;\n      // Add submit button's data\n      if ($submitSource) {\n        var $synthetic = this.$element.find('.parsley-synthetic-submit-button').prop('disabled', false);\n        if (0 === $synthetic.length) $synthetic = $('<input class=\"parsley-synthetic-submit-button\" type=\"hidden\">').appendTo(this.$element);\n        $synthetic.attr({\n          name: $submitSource.attr('name'),\n          value: $submitSource.attr('value')\n        });\n      }\n\n      this.$element.trigger($.extend($.Event('submit'), { parsley: true }));\n    },\n\n    // Performs validation on fields while triggering events.\n    // @returns `true` if all validations succeeds, `false`\n    // if a failure is immediately detected, or `null`\n    // if dependant on a promise.\n    // Consider using `whenValidate` instead.\n    validate: function validate(options) {\n      if (arguments.length >= 1 && !$.isPlainObject(options)) {\n        ParsleyUtils__default.warnOnce('Calling validate on a parsley form without passing arguments as an object is deprecated.');\n\n        var _arguments = _slice.call(arguments);\n\n        var group = _arguments[0];\n        var force = _arguments[1];\n        var event = _arguments[2];\n\n        options = { group: group, force: force, event: event };\n      }\n      return ParsleyForm__statusMapping[this.whenValidate(options).state()];\n    },\n\n    whenValidate: function whenValidate() {\n      var _ParsleyUtils__default$all$done$fail$always,\n          _this6 = this;\n\n      var _ref7 = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n      var group = _ref7.group;\n      var force = _ref7.force;\n      var event = _ref7.event;\n\n      this.submitEvent = event;\n      if (event) {\n        this.submitEvent = $.extend({}, event, { preventDefault: function preventDefault() {\n            ParsleyUtils__default.warnOnce(\"Using `this.submitEvent.preventDefault()` is deprecated; instead, call `this.validationResult = false`\");\n            _this6.validationResult = false;\n          } });\n      }\n      this.validationResult = true;\n\n      // fire validate event to eventually modify things before every validation\n      this._trigger('validate');\n\n      // Refresh form DOM options and form's fields that could have changed\n      this._refreshFields();\n\n      var promises = this._withoutReactualizingFormOptions(function () {\n        return $.map(_this6.fields, function (field) {\n          return field.whenValidate({ force: force, group: group });\n        });\n      });\n\n      return (_ParsleyUtils__default$all$done$fail$always = ParsleyUtils__default.all(promises).done(function () {\n        _this6._trigger('success');\n      }).fail(function () {\n        _this6.validationResult = false;\n        _this6.focus();\n        _this6._trigger('error');\n      }).always(function () {\n        _this6._trigger('validated');\n      })).pipe.apply(_ParsleyUtils__default$all$done$fail$always, _toConsumableArray(this._pipeAccordingToValidationResult()));\n    },\n\n    // Iterate over refreshed fields, and stop on first failure.\n    // Returns `true` if all fields are valid, `false` if a failure is detected\n    // or `null` if the result depends on an unresolved promise.\n    // Prefer using `whenValid` instead.\n    isValid: function isValid(options) {\n      if (arguments.length >= 1 && !$.isPlainObject(options)) {\n        ParsleyUtils__default.warnOnce('Calling isValid on a parsley form without passing arguments as an object is deprecated.');\n\n        var _arguments2 = _slice.call(arguments);\n\n        var group = _arguments2[0];\n        var force = _arguments2[1];\n\n        options = { group: group, force: force };\n      }\n      return ParsleyForm__statusMapping[this.whenValid(options).state()];\n    },\n\n    // Iterate over refreshed fields and validate them.\n    // Returns a promise.\n    // A validation that immediately fails will interrupt the validations.\n    whenValid: function whenValid() {\n      var _this7 = this;\n\n      var _ref8 = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n      var group = _ref8.group;\n      var force = _ref8.force;\n\n      this._refreshFields();\n\n      var promises = this._withoutReactualizingFormOptions(function () {\n        return $.map(_this7.fields, function (field) {\n          return field.whenValid({ group: group, force: force });\n        });\n      });\n      return ParsleyUtils__default.all(promises);\n    },\n\n    _refreshFields: function _refreshFields() {\n      return this.actualizeOptions()._bindFields();\n    },\n\n    _bindFields: function _bindFields() {\n      var _this8 = this;\n\n      var oldFields = this.fields;\n\n      this.fields = [];\n      this.fieldsMappedById = {};\n\n      this._withoutReactualizingFormOptions(function () {\n        _this8.$element.find(_this8.options.inputs).not(_this8.options.excluded).each(function (_, element) {\n          var fieldInstance = new window.Parsley.Factory(element, {}, _this8);\n\n          // Only add valid and not excluded `ParsleyField` and `ParsleyFieldMultiple` children\n          if (('ParsleyField' === fieldInstance.__class__ || 'ParsleyFieldMultiple' === fieldInstance.__class__) && true !== fieldInstance.options.excluded) if ('undefined' === typeof _this8.fieldsMappedById[fieldInstance.__class__ + '-' + fieldInstance.__id__]) {\n            _this8.fieldsMappedById[fieldInstance.__class__ + '-' + fieldInstance.__id__] = fieldInstance;\n            _this8.fields.push(fieldInstance);\n          }\n        });\n\n        $.each(ParsleyUtils__default.difference(oldFields, _this8.fields), function (_, field) {\n          field._trigger('reset');\n        });\n      });\n      return this;\n    },\n\n    // Internal only.\n    // Looping on a form's fields to do validation or similar\n    // will trigger reactualizing options on all of them, which\n    // in turn will reactualize the form's options.\n    // To avoid calling actualizeOptions so many times on the form\n    // for nothing, _withoutReactualizingFormOptions temporarily disables\n    // the method actualizeOptions on this form while `fn` is called.\n    _withoutReactualizingFormOptions: function _withoutReactualizingFormOptions(fn) {\n      var oldActualizeOptions = this.actualizeOptions;\n      this.actualizeOptions = function () {\n        return this;\n      };\n      var result = fn();\n      this.actualizeOptions = oldActualizeOptions;\n      return result;\n    },\n\n    // Internal only.\n    // Shortcut to trigger an event\n    // Returns true iff event is not interrupted and default not prevented.\n    _trigger: function _trigger(eventName) {\n      return this.trigger('form:' + eventName);\n    }\n\n  };\n\n  var ConstraintFactory = function ConstraintFactory(parsleyField, name, requirements, priority, isDomConstraint) {\n    if (!/ParsleyField/.test(parsleyField.__class__)) throw new Error('ParsleyField or ParsleyFieldMultiple instance expected');\n\n    var validatorSpec = window.Parsley._validatorRegistry.validators[name];\n    var validator = new ParsleyValidator(validatorSpec);\n\n    $.extend(this, {\n      validator: validator,\n      name: name,\n      requirements: requirements,\n      priority: priority || parsleyField.options[name + 'Priority'] || validator.priority,\n      isDomConstraint: true === isDomConstraint\n    });\n    this._parseRequirements(parsleyField.options);\n  };\n\n  var capitalize = function capitalize(str) {\n    var cap = str[0].toUpperCase();\n    return cap + str.slice(1);\n  };\n\n  ConstraintFactory.prototype = {\n    validate: function validate(value, instance) {\n      var _validator;\n\n      return (_validator = this.validator).validate.apply(_validator, [value].concat(_toConsumableArray(this.requirementList), [instance]));\n    },\n\n    _parseRequirements: function _parseRequirements(options) {\n      var _this9 = this;\n\n      this.requirementList = this.validator.parseRequirements(this.requirements, function (key) {\n        return options[_this9.name + capitalize(key)];\n      });\n    }\n  };\n\n  var ParsleyField = function ParsleyField(field, domOptions, options, parsleyFormInstance) {\n    this.__class__ = 'ParsleyField';\n\n    this.$element = $(field);\n\n    // Set parent if we have one\n    if ('undefined' !== typeof parsleyFormInstance) {\n      this.parent = parsleyFormInstance;\n    }\n\n    this.options = options;\n    this.domOptions = domOptions;\n\n    // Initialize some properties\n    this.constraints = [];\n    this.constraintsByName = {};\n    this.validationResult = true;\n\n    // Bind constraints\n    this._bindConstraints();\n  };\n\n  var parsley_field__statusMapping = { pending: null, resolved: true, rejected: false };\n\n  ParsleyField.prototype = {\n    // # Public API\n    // Validate field and trigger some events for mainly `ParsleyUI`\n    // @returns `true`, an array of the validators that failed, or\n    // `null` if validation is not finished. Prefer using whenValidate\n    validate: function validate(options) {\n      if (arguments.length >= 1 && !$.isPlainObject(options)) {\n        ParsleyUtils__default.warnOnce('Calling validate on a parsley field without passing arguments as an object is deprecated.');\n        options = { options: options };\n      }\n      var promise = this.whenValidate(options);\n      if (!promise) // If excluded with `group` option\n        return true;\n      switch (promise.state()) {\n        case 'pending':\n          return null;\n        case 'resolved':\n          return true;\n        case 'rejected':\n          return this.validationResult;\n      }\n    },\n\n    // Validate field and trigger some events for mainly `ParsleyUI`\n    // @returns a promise that succeeds only when all validations do\n    // or `undefined` if field is not in the given `group`.\n    whenValidate: function whenValidate() {\n      var _whenValid$always$done$fail$always,\n          _this10 = this;\n\n      var _ref9 = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n      var force = _ref9.force;\n      var group = _ref9.group;\n\n      // do not validate a field if not the same as given validation group\n      this.refreshConstraints();\n      if (group && !this._isInGroup(group)) return;\n\n      this.value = this.getValue();\n\n      // Field Validate event. `this.value` could be altered for custom needs\n      this._trigger('validate');\n\n      return (_whenValid$always$done$fail$always = this.whenValid({ force: force, value: this.value, _refreshed: true }).always(function () {\n        _this10._reflowUI();\n      }).done(function () {\n        _this10._trigger('success');\n      }).fail(function () {\n        _this10._trigger('error');\n      }).always(function () {\n        _this10._trigger('validated');\n      })).pipe.apply(_whenValid$always$done$fail$always, _toConsumableArray(this._pipeAccordingToValidationResult()));\n    },\n\n    hasConstraints: function hasConstraints() {\n      return 0 !== this.constraints.length;\n    },\n\n    // An empty optional field does not need validation\n    needsValidation: function needsValidation(value) {\n      if ('undefined' === typeof value) value = this.getValue();\n\n      // If a field is empty and not required, it is valid\n      // Except if `data-parsley-validate-if-empty` explicitely added, useful for some custom validators\n      if (!value.length && !this._isRequired() && 'undefined' === typeof this.options.validateIfEmpty) return false;\n\n      return true;\n    },\n\n    _isInGroup: function _isInGroup(group) {\n      if ($.isArray(this.options.group)) return -1 !== $.inArray(group, this.options.group);\n      return this.options.group === group;\n    },\n\n    // Just validate field. Do not trigger any event.\n    // Returns `true` iff all constraints pass, `false` if there are failures,\n    // or `null` if the result can not be determined yet (depends on a promise)\n    // See also `whenValid`.\n    isValid: function isValid(options) {\n      if (arguments.length >= 1 && !$.isPlainObject(options)) {\n        ParsleyUtils__default.warnOnce('Calling isValid on a parsley field without passing arguments as an object is deprecated.');\n\n        var _arguments3 = _slice.call(arguments);\n\n        var force = _arguments3[0];\n        var value = _arguments3[1];\n\n        options = { force: force, value: value };\n      }\n      var promise = this.whenValid(options);\n      if (!promise) // Excluded via `group`\n        return true;\n      return parsley_field__statusMapping[promise.state()];\n    },\n\n    // Just validate field. Do not trigger any event.\n    // @returns a promise that succeeds only when all validations do\n    // or `undefined` if the field is not in the given `group`.\n    // The argument `force` will force validation of empty fields.\n    // If a `value` is given, it will be validated instead of the value of the input.\n    whenValid: function whenValid() {\n      var _this11 = this;\n\n      var _ref10 = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n      var _ref10$force = _ref10.force;\n      var force = _ref10$force === undefined ? false : _ref10$force;\n      var value = _ref10.value;\n      var group = _ref10.group;\n      var _refreshed = _ref10._refreshed;\n\n      // Recompute options and rebind constraints to have latest changes\n      if (!_refreshed) this.refreshConstraints();\n      // do not validate a field if not the same as given validation group\n      if (group && !this._isInGroup(group)) return;\n\n      this.validationResult = true;\n\n      // A field without constraint is valid\n      if (!this.hasConstraints()) return $.when();\n\n      // Value could be passed as argument, needed to add more power to 'field:validate'\n      if ('undefined' === typeof value || null === value) value = this.getValue();\n\n      if (!this.needsValidation(value) && true !== force) return $.when();\n\n      var groupedConstraints = this._getGroupedConstraints();\n      var promises = [];\n      $.each(groupedConstraints, function (_, constraints) {\n        // Process one group of constraints at a time, we validate the constraints\n        // and combine the promises together.\n        var promise = ParsleyUtils__default.all($.map(constraints, function (constraint) {\n          return _this11._validateConstraint(value, constraint);\n        }));\n        promises.push(promise);\n        if (promise.state() === 'rejected') return false; // Interrupt processing if a group has already failed\n      });\n      return ParsleyUtils__default.all(promises);\n    },\n\n    // @returns a promise\n    _validateConstraint: function _validateConstraint(value, constraint) {\n      var _this12 = this;\n\n      var result = constraint.validate(value, this);\n      // Map false to a failed promise\n      if (false === result) result = $.Deferred().reject();\n      // Make sure we return a promise and that we record failures\n      return ParsleyUtils__default.all([result]).fail(function (errorMessage) {\n        if (!(_this12.validationResult instanceof Array)) _this12.validationResult = [];\n        _this12.validationResult.push({\n          assert: constraint,\n          errorMessage: 'string' === typeof errorMessage && errorMessage\n        });\n      });\n    },\n\n    // @returns Parsley field computed value that could be overrided or configured in DOM\n    getValue: function getValue() {\n      var value;\n\n      // Value could be overriden in DOM or with explicit options\n      if ('function' === typeof this.options.value) value = this.options.value(this);else if ('undefined' !== typeof this.options.value) value = this.options.value;else value = this.$element.val();\n\n      // Handle wrong DOM or configurations\n      if ('undefined' === typeof value || null === value) return '';\n\n      return this._handleWhitespace(value);\n    },\n\n    // Actualize options that could have change since previous validation\n    // Re-bind accordingly constraints (could be some new, removed or updated)\n    refreshConstraints: function refreshConstraints() {\n      return this.actualizeOptions()._bindConstraints();\n    },\n\n    /**\n    * Add a new constraint to a field\n    *\n    * @param {String}   name\n    * @param {Mixed}    requirements      optional\n    * @param {Number}   priority          optional\n    * @param {Boolean}  isDomConstraint   optional\n    */\n    addConstraint: function addConstraint(name, requirements, priority, isDomConstraint) {\n\n      if (window.Parsley._validatorRegistry.validators[name]) {\n        var constraint = new ConstraintFactory(this, name, requirements, priority, isDomConstraint);\n\n        // if constraint already exist, delete it and push new version\n        if ('undefined' !== this.constraintsByName[constraint.name]) this.removeConstraint(constraint.name);\n\n        this.constraints.push(constraint);\n        this.constraintsByName[constraint.name] = constraint;\n      }\n\n      return this;\n    },\n\n    // Remove a constraint\n    removeConstraint: function removeConstraint(name) {\n      for (var i = 0; i < this.constraints.length; i++) {\n        if (name === this.constraints[i].name) {\n          this.constraints.splice(i, 1);\n          break;\n        }\n      }delete this.constraintsByName[name];\n      return this;\n    },\n\n    // Update a constraint (Remove + re-add)\n    updateConstraint: function updateConstraint(name, parameters, priority) {\n      return this.removeConstraint(name).addConstraint(name, parameters, priority);\n    },\n\n    // # Internals\n\n    // Internal only.\n    // Bind constraints from config + options + DOM\n    _bindConstraints: function _bindConstraints() {\n      var constraints = [];\n      var constraintsByName = {};\n\n      // clean all existing DOM constraints to only keep javascript user constraints\n      for (var i = 0; i < this.constraints.length; i++) {\n        if (false === this.constraints[i].isDomConstraint) {\n          constraints.push(this.constraints[i]);\n          constraintsByName[this.constraints[i].name] = this.constraints[i];\n        }\n      }this.constraints = constraints;\n      this.constraintsByName = constraintsByName;\n\n      // then re-add Parsley DOM-API constraints\n      for (var name in this.options) {\n        this.addConstraint(name, this.options[name], undefined, true);\n      } // finally, bind special HTML5 constraints\n      return this._bindHtml5Constraints();\n    },\n\n    // Internal only.\n    // Bind specific HTML5 constraints to be HTML5 compliant\n    _bindHtml5Constraints: function _bindHtml5Constraints() {\n      // html5 required\n      if (this.$element.attr('required')) this.addConstraint('required', true, undefined, true);\n\n      // html5 pattern\n      if ('string' === typeof this.$element.attr('pattern')) this.addConstraint('pattern', this.$element.attr('pattern'), undefined, true);\n\n      // range\n      if (this.$element.attr('type') !== 'date' && 'undefined' !== typeof this.$element.attr('min') && 'undefined' !== typeof this.$element.attr('max')) this.addConstraint('range', [this.$element.attr('min'), this.$element.attr('max')], undefined, true);\n\n      // HTML5 min\n      else if (this.$element.attr('type') !== 'date' && 'undefined' !== typeof this.$element.attr('min')) this.addConstraint('min', this.$element.attr('min'), undefined, true);\n\n        // HTML5 max\n        else if (this.$element.attr('type') !== 'date' && 'undefined' !== typeof this.$element.attr('max')) this.addConstraint('max', this.$element.attr('max'), undefined, true);\n\n      // length\n      if ('undefined' !== typeof this.$element.attr('minlength') && 'undefined' !== typeof this.$element.attr('maxlength')) this.addConstraint('length', [this.$element.attr('minlength'), this.$element.attr('maxlength')], undefined, true);\n\n      // HTML5 minlength\n      else if ('undefined' !== typeof this.$element.attr('minlength')) this.addConstraint('minlength', this.$element.attr('minlength'), undefined, true);\n\n        // HTML5 maxlength\n        else if ('undefined' !== typeof this.$element.attr('maxlength')) this.addConstraint('maxlength', this.$element.attr('maxlength'), undefined, true);\n\n      // html5 types\n      var type = this.$element.attr('type');\n\n      if ('undefined' === typeof type) return this;\n\n      // Small special case here for HTML5 number: integer validator if step attribute is undefined or an integer value, number otherwise\n      if ('number' === type) {\n        return this.addConstraint('type', ['number', {\n          step: this.$element.attr('step') || '1',\n          base: this.$element.attr('min') || this.$element.attr('value')\n        }], undefined, true);\n        // Regular other HTML5 supported types\n      } else if (/^(email|url|range)$/i.test(type)) {\n        return this.addConstraint('type', type, undefined, true);\n      }\n      return this;\n    },\n\n    // Internal only.\n    // Field is required if have required constraint without `false` value\n    _isRequired: function _isRequired() {\n      if ('undefined' === typeof this.constraintsByName.required) return false;\n\n      return false !== this.constraintsByName.required.requirements;\n    },\n\n    // Internal only.\n    // Shortcut to trigger an event\n    _trigger: function _trigger(eventName) {\n      return this.trigger('field:' + eventName);\n    },\n\n    // Internal only\n    // Handles whitespace in a value\n    // Use `data-parsley-whitespace=\"squish\"` to auto squish input value\n    // Use `data-parsley-whitespace=\"trim\"` to auto trim input value\n    _handleWhitespace: function _handleWhitespace(value) {\n      if (true === this.options.trimValue) ParsleyUtils__default.warnOnce('data-parsley-trim-value=\"true\" is deprecated, please use data-parsley-whitespace=\"trim\"');\n\n      if ('squish' === this.options.whitespace) value = value.replace(/\\s{2,}/g, ' ');\n\n      if ('trim' === this.options.whitespace || 'squish' === this.options.whitespace || true === this.options.trimValue) value = ParsleyUtils__default.trimString(value);\n\n      return value;\n    },\n\n    // Internal only.\n    // Returns the constraints, grouped by descending priority.\n    // The result is thus an array of arrays of constraints.\n    _getGroupedConstraints: function _getGroupedConstraints() {\n      if (false === this.options.priorityEnabled) return [this.constraints];\n\n      var groupedConstraints = [];\n      var index = {};\n\n      // Create array unique of priorities\n      for (var i = 0; i < this.constraints.length; i++) {\n        var p = this.constraints[i].priority;\n        if (!index[p]) groupedConstraints.push(index[p] = []);\n        index[p].push(this.constraints[i]);\n      }\n      // Sort them by priority DESC\n      groupedConstraints.sort(function (a, b) {\n        return b[0].priority - a[0].priority;\n      });\n\n      return groupedConstraints;\n    }\n\n  };\n\n  var parsley_field = ParsleyField;\n\n  var ParsleyMultiple = function ParsleyMultiple() {\n    this.__class__ = 'ParsleyFieldMultiple';\n  };\n\n  ParsleyMultiple.prototype = {\n    // Add new `$element` sibling for multiple field\n    addElement: function addElement($element) {\n      this.$elements.push($element);\n\n      return this;\n    },\n\n    // See `ParsleyField.refreshConstraints()`\n    refreshConstraints: function refreshConstraints() {\n      var fieldConstraints;\n\n      this.constraints = [];\n\n      // Select multiple special treatment\n      if (this.$element.is('select')) {\n        this.actualizeOptions()._bindConstraints();\n\n        return this;\n      }\n\n      // Gather all constraints for each input in the multiple group\n      for (var i = 0; i < this.$elements.length; i++) {\n\n        // Check if element have not been dynamically removed since last binding\n        if (!$('html').has(this.$elements[i]).length) {\n          this.$elements.splice(i, 1);\n          continue;\n        }\n\n        fieldConstraints = this.$elements[i].data('ParsleyFieldMultiple').refreshConstraints().constraints;\n\n        for (var j = 0; j < fieldConstraints.length; j++) {\n          this.addConstraint(fieldConstraints[j].name, fieldConstraints[j].requirements, fieldConstraints[j].priority, fieldConstraints[j].isDomConstraint);\n        }\n      }\n\n      return this;\n    },\n\n    // See `ParsleyField.getValue()`\n    getValue: function getValue() {\n      // Value could be overriden in DOM\n      if ('function' === typeof this.options.value) return this.options.value(this);else if ('undefined' !== typeof this.options.value) return this.options.value;\n\n      // Radio input case\n      if (this.$element.is('input[type=radio]')) return this._findRelated().filter(':checked').val() || '';\n\n      // checkbox input case\n      if (this.$element.is('input[type=checkbox]')) {\n        var values = [];\n\n        this._findRelated().filter(':checked').each(function () {\n          values.push($(this).val());\n        });\n\n        return values;\n      }\n\n      // Select multiple case\n      if (this.$element.is('select') && null === this.$element.val()) return [];\n\n      // Default case that should never happen\n      return this.$element.val();\n    },\n\n    _init: function _init() {\n      this.$elements = [this.$element];\n\n      return this;\n    }\n  };\n\n  var ParsleyFactory = function ParsleyFactory(element, options, parsleyFormInstance) {\n    this.$element = $(element);\n\n    // If the element has already been bound, returns its saved Parsley instance\n    var savedparsleyFormInstance = this.$element.data('Parsley');\n    if (savedparsleyFormInstance) {\n\n      // If the saved instance has been bound without a ParsleyForm parent and there is one given in this call, add it\n      if ('undefined' !== typeof parsleyFormInstance && savedparsleyFormInstance.parent === window.Parsley) {\n        savedparsleyFormInstance.parent = parsleyFormInstance;\n        savedparsleyFormInstance._resetOptions(savedparsleyFormInstance.options);\n      }\n\n      if ('object' === (typeof options === 'undefined' ? 'undefined' : _typeof(options))) {\n        $.extend(savedparsleyFormInstance.options, options);\n      }\n\n      return savedparsleyFormInstance;\n    }\n\n    // Parsley must be instantiated with a DOM element or jQuery $element\n    if (!this.$element.length) throw new Error('You must bind Parsley on an existing element.');\n\n    if ('undefined' !== typeof parsleyFormInstance && 'ParsleyForm' !== parsleyFormInstance.__class__) throw new Error('Parent instance must be a ParsleyForm instance');\n\n    this.parent = parsleyFormInstance || window.Parsley;\n    return this.init(options);\n  };\n\n  ParsleyFactory.prototype = {\n    init: function init(options) {\n      this.__class__ = 'Parsley';\n      this.__version__ = '2.6.2';\n      this.__id__ = ParsleyUtils__default.generateID();\n\n      // Pre-compute options\n      this._resetOptions(options);\n\n      // A ParsleyForm instance is obviously a `<form>` element but also every node that is not an input and has the `data-parsley-validate` attribute\n      if (this.$element.is('form') || ParsleyUtils__default.checkAttr(this.$element, this.options.namespace, 'validate') && !this.$element.is(this.options.inputs)) return this.bind('parsleyForm');\n\n      // Every other element is bound as a `ParsleyField` or `ParsleyFieldMultiple`\n      return this.isMultiple() ? this.handleMultiple() : this.bind('parsleyField');\n    },\n\n    isMultiple: function isMultiple() {\n      return this.$element.is('input[type=radio], input[type=checkbox]') || this.$element.is('select') && 'undefined' !== typeof this.$element.attr('multiple');\n    },\n\n    // Multiples fields are a real nightmare :(\n    // Maybe some refactoring would be appreciated here...\n    handleMultiple: function handleMultiple() {\n      var _this13 = this;\n\n      var name;\n      var multiple;\n      var parsleyMultipleInstance;\n\n      // Handle multiple name\n      if (this.options.multiple) ; // We already have our 'multiple' identifier\n      else if ('undefined' !== typeof this.$element.attr('name') && this.$element.attr('name').length) this.options.multiple = name = this.$element.attr('name');else if ('undefined' !== typeof this.$element.attr('id') && this.$element.attr('id').length) this.options.multiple = this.$element.attr('id');\n\n      // Special select multiple input\n      if (this.$element.is('select') && 'undefined' !== typeof this.$element.attr('multiple')) {\n        this.options.multiple = this.options.multiple || this.__id__;\n        return this.bind('parsleyFieldMultiple');\n\n        // Else for radio / checkboxes, we need a `name` or `data-parsley-multiple` to properly bind it\n      } else if (!this.options.multiple) {\n        ParsleyUtils__default.warn('To be bound by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.', this.$element);\n        return this;\n      }\n\n      // Remove special chars\n      this.options.multiple = this.options.multiple.replace(/(:|\\.|\\[|\\]|\\{|\\}|\\$)/g, '');\n\n      // Add proper `data-parsley-multiple` to siblings if we have a valid multiple name\n      if ('undefined' !== typeof name) {\n        $('input[name=\"' + name + '\"]').each(function (i, input) {\n          if ($(input).is('input[type=radio], input[type=checkbox]')) $(input).attr(_this13.options.namespace + 'multiple', _this13.options.multiple);\n        });\n      }\n\n      // Check here if we don't already have a related multiple instance saved\n      var $previouslyRelated = this._findRelated();\n      for (var i = 0; i < $previouslyRelated.length; i++) {\n        parsleyMultipleInstance = $($previouslyRelated.get(i)).data('Parsley');\n        if ('undefined' !== typeof parsleyMultipleInstance) {\n\n          if (!this.$element.data('ParsleyFieldMultiple')) {\n            parsleyMultipleInstance.addElement(this.$element);\n          }\n\n          break;\n        }\n      }\n\n      // Create a secret ParsleyField instance for every multiple field. It will be stored in `data('ParsleyFieldMultiple')`\n      // And will be useful later to access classic `ParsleyField` stuff while being in a `ParsleyFieldMultiple` instance\n      this.bind('parsleyField', true);\n\n      return parsleyMultipleInstance || this.bind('parsleyFieldMultiple');\n    },\n\n    // Return proper `ParsleyForm`, `ParsleyField` or `ParsleyFieldMultiple`\n    bind: function bind(type, doNotStore) {\n      var parsleyInstance;\n\n      switch (type) {\n        case 'parsleyForm':\n          parsleyInstance = $.extend(new ParsleyForm(this.$element, this.domOptions, this.options), new ParsleyAbstract(), window.ParsleyExtend)._bindFields();\n          break;\n        case 'parsleyField':\n          parsleyInstance = $.extend(new parsley_field(this.$element, this.domOptions, this.options, this.parent), new ParsleyAbstract(), window.ParsleyExtend);\n          break;\n        case 'parsleyFieldMultiple':\n          parsleyInstance = $.extend(new parsley_field(this.$element, this.domOptions, this.options, this.parent), new ParsleyMultiple(), new ParsleyAbstract(), window.ParsleyExtend)._init();\n          break;\n        default:\n          throw new Error(type + 'is not a supported Parsley type');\n      }\n\n      if (this.options.multiple) ParsleyUtils__default.setAttr(this.$element, this.options.namespace, 'multiple', this.options.multiple);\n\n      if ('undefined' !== typeof doNotStore) {\n        this.$element.data('ParsleyFieldMultiple', parsleyInstance);\n\n        return parsleyInstance;\n      }\n\n      // Store the freshly bound instance in a DOM element for later access using jQuery `data()`\n      this.$element.data('Parsley', parsleyInstance);\n\n      // Tell the world we have a new ParsleyForm or ParsleyField instance!\n      parsleyInstance._actualizeTriggers();\n      parsleyInstance._trigger('init');\n\n      return parsleyInstance;\n    }\n  };\n\n  var vernums = $.fn.jquery.split('.');\n  if (parseInt(vernums[0]) <= 1 && parseInt(vernums[1]) < 8) {\n    throw \"The loaded version of jQuery is too old. Please upgrade to 1.8.x or better.\";\n  }\n  if (!vernums.forEach) {\n    ParsleyUtils__default.warn('Parsley requires ES5 to run properly. Please include https://github.com/es-shims/es5-shim');\n  }\n  // Inherit `on`, `off` & `trigger` to Parsley:\n  var Parsley = $.extend(new ParsleyAbstract(), {\n    $element: $(document),\n    actualizeOptions: null,\n    _resetOptions: null,\n    Factory: ParsleyFactory,\n    version: '2.6.2'\n  });\n\n  // Supplement ParsleyField and Form with ParsleyAbstract\n  // This way, the constructors will have access to those methods\n  $.extend(parsley_field.prototype, ParsleyUI.Field, ParsleyAbstract.prototype);\n  $.extend(ParsleyForm.prototype, ParsleyUI.Form, ParsleyAbstract.prototype);\n  // Inherit actualizeOptions and _resetOptions:\n  $.extend(ParsleyFactory.prototype, ParsleyAbstract.prototype);\n\n  // ### jQuery API\n  // `$('.elem').parsley(options)` or `$('.elem').psly(options)`\n  $.fn.parsley = $.fn.psly = function (options) {\n    if (this.length > 1) {\n      var instances = [];\n\n      this.each(function () {\n        instances.push($(this).parsley(options));\n      });\n\n      return instances;\n    }\n\n    // Return undefined if applied to non existing DOM element\n    if (!$(this).length) {\n      ParsleyUtils__default.warn('You must bind Parsley on an existing element.');\n\n      return;\n    }\n\n    return new ParsleyFactory(this, options);\n  };\n\n  // ### ParsleyField and ParsleyForm extension\n  // Ensure the extension is now defined if it wasn't previously\n  if ('undefined' === typeof window.ParsleyExtend) window.ParsleyExtend = {};\n\n  // ### Parsley config\n  // Inherit from ParsleyDefault, and copy over any existing values\n  Parsley.options = $.extend(ParsleyUtils__default.objectCreate(ParsleyDefaults), window.ParsleyConfig);\n  window.ParsleyConfig = Parsley.options; // Old way of accessing global options\n\n  // ### Globals\n  window.Parsley = window.psly = Parsley;\n  window.ParsleyUtils = ParsleyUtils__default;\n\n  // ### Define methods that forward to the registry, and deprecate all access except through window.Parsley\n  var registry = window.Parsley._validatorRegistry = new ParsleyValidatorRegistry(window.ParsleyConfig.validators, window.ParsleyConfig.i18n);\n  window.ParsleyValidator = {};\n  $.each('setLocale addCatalog addMessage addMessages getErrorMessage formatMessage addValidator updateValidator removeValidator'.split(' '), function (i, method) {\n    window.Parsley[method] = $.proxy(registry, method);\n    window.ParsleyValidator[method] = function () {\n      var _window$Parsley;\n\n      ParsleyUtils__default.warnOnce('Accessing the method \\'' + method + '\\' through ParsleyValidator is deprecated. Simply call \\'window.Parsley.' + method + '(...)\\'');\n      return (_window$Parsley = window.Parsley)[method].apply(_window$Parsley, arguments);\n    };\n  });\n\n  // ### ParsleyUI\n  // Deprecated global object\n  window.Parsley.UI = ParsleyUI;\n  window.ParsleyUI = {\n    removeError: function removeError(instance, name, doNotUpdateClass) {\n      var updateClass = true !== doNotUpdateClass;\n      ParsleyUtils__default.warnOnce('Accessing ParsleyUI is deprecated. Call \\'removeError\\' on the instance directly. Please comment in issue 1073 as to your need to call this method.');\n      return instance.removeError(name, { updateClass: updateClass });\n    },\n    getErrorsMessages: function getErrorsMessages(instance) {\n      ParsleyUtils__default.warnOnce('Accessing ParsleyUI is deprecated. Call \\'getErrorsMessages\\' on the instance directly.');\n      return instance.getErrorsMessages();\n    }\n  };\n  $.each('addError updateError'.split(' '), function (i, method) {\n    window.ParsleyUI[method] = function (instance, name, message, assert, doNotUpdateClass) {\n      var updateClass = true !== doNotUpdateClass;\n      ParsleyUtils__default.warnOnce('Accessing ParsleyUI is deprecated. Call \\'' + method + '\\' on the instance directly. Please comment in issue 1073 as to your need to call this method.');\n      return instance[method](name, { message: message, assert: assert, updateClass: updateClass });\n    };\n  });\n\n  // ### PARSLEY auto-binding\n  // Prevent it by setting `ParsleyConfig.autoBind` to `false`\n  if (false !== window.ParsleyConfig.autoBind) {\n    $(function () {\n      // Works only on `data-parsley-validate`.\n      if ($('[data-parsley-validate]').length) $('[data-parsley-validate]').parsley();\n    });\n  }\n\n  var o = $({});\n  var deprecated = function deprecated() {\n    ParsleyUtils__default.warnOnce(\"Parsley's pubsub module is deprecated; use the 'on' and 'off' methods on parsley instances or window.Parsley\");\n  };\n\n  // Returns an event handler that calls `fn` with the arguments it expects\n  function adapt(fn, context) {\n    // Store to allow unbinding\n    if (!fn.parsleyAdaptedCallback) {\n      fn.parsleyAdaptedCallback = function () {\n        var args = Array.prototype.slice.call(arguments, 0);\n        args.unshift(this);\n        fn.apply(context || o, args);\n      };\n    }\n    return fn.parsleyAdaptedCallback;\n  }\n\n  var eventPrefix = 'parsley:';\n  // Converts 'parsley:form:validate' into 'form:validate'\n  function eventName(name) {\n    if (name.lastIndexOf(eventPrefix, 0) === 0) return name.substr(eventPrefix.length);\n    return name;\n  }\n\n  // $.listen is deprecated. Use Parsley.on instead.\n  $.listen = function (name, callback) {\n    var context;\n    deprecated();\n    if ('object' === _typeof(arguments[1]) && 'function' === typeof arguments[2]) {\n      context = arguments[1];\n      callback = arguments[2];\n    }\n\n    if ('function' !== typeof callback) throw new Error('Wrong parameters');\n\n    window.Parsley.on(eventName(name), adapt(callback, context));\n  };\n\n  $.listenTo = function (instance, name, fn) {\n    deprecated();\n    if (!(instance instanceof parsley_field) && !(instance instanceof ParsleyForm)) throw new Error('Must give Parsley instance');\n\n    if ('string' !== typeof name || 'function' !== typeof fn) throw new Error('Wrong parameters');\n\n    instance.on(eventName(name), adapt(fn));\n  };\n\n  $.unsubscribe = function (name, fn) {\n    deprecated();\n    if ('string' !== typeof name || 'function' !== typeof fn) throw new Error('Wrong arguments');\n    window.Parsley.off(eventName(name), fn.parsleyAdaptedCallback);\n  };\n\n  $.unsubscribeTo = function (instance, name) {\n    deprecated();\n    if (!(instance instanceof parsley_field) && !(instance instanceof ParsleyForm)) throw new Error('Must give Parsley instance');\n    instance.off(eventName(name));\n  };\n\n  $.unsubscribeAll = function (name) {\n    deprecated();\n    window.Parsley.off(eventName(name));\n    $('form,input,textarea,select').each(function () {\n      var instance = $(this).data('Parsley');\n      if (instance) {\n        instance.off(eventName(name));\n      }\n    });\n  };\n\n  // $.emit is deprecated. Use jQuery events instead.\n  $.emit = function (name, instance) {\n    var _instance;\n\n    deprecated();\n    var instanceGiven = instance instanceof parsley_field || instance instanceof ParsleyForm;\n    var args = Array.prototype.slice.call(arguments, instanceGiven ? 2 : 1);\n    args.unshift(eventName(name));\n    if (!instanceGiven) {\n      instance = window.Parsley;\n    }\n    (_instance = instance).trigger.apply(_instance, _toConsumableArray(args));\n  };\n\n  var pubsub = {};\n\n  $.extend(true, Parsley, {\n    asyncValidators: {\n      'default': {\n        fn: function fn(xhr) {\n          // By default, only status 2xx are deemed successful.\n          // Note: we use status instead of state() because responses with status 200\n          // but invalid messages (e.g. an empty body for content type set to JSON) will\n          // result in state() === 'rejected'.\n          return xhr.status >= 200 && xhr.status < 300;\n        },\n        url: false\n      },\n      reverse: {\n        fn: function fn(xhr) {\n          // If reverse option is set, a failing ajax request is considered successful\n          return xhr.status < 200 || xhr.status >= 300;\n        },\n        url: false\n      }\n    },\n\n    addAsyncValidator: function addAsyncValidator(name, fn, url, options) {\n      Parsley.asyncValidators[name] = {\n        fn: fn,\n        url: url || false,\n        options: options || {}\n      };\n\n      return this;\n    }\n\n  });\n\n  Parsley.addValidator('remote', {\n    requirementType: {\n      '': 'string',\n      'validator': 'string',\n      'reverse': 'boolean',\n      'options': 'object'\n    },\n\n    validateString: function validateString(value, url, options, instance) {\n      var data = {};\n      var ajaxOptions;\n      var csr;\n      var validator = options.validator || (true === options.reverse ? 'reverse' : 'default');\n\n      if ('undefined' === typeof Parsley.asyncValidators[validator]) throw new Error('Calling an undefined async validator: `' + validator + '`');\n\n      url = Parsley.asyncValidators[validator].url || url;\n\n      // Fill current value\n      if (url.indexOf('{value}') > -1) {\n        url = url.replace('{value}', encodeURIComponent(value));\n      } else {\n        data[instance.$element.attr('name') || instance.$element.attr('id')] = value;\n      }\n\n      // Merge options passed in from the function with the ones in the attribute\n      var remoteOptions = $.extend(true, options.options || {}, Parsley.asyncValidators[validator].options);\n\n      // All `$.ajax(options)` could be overridden or extended directly from DOM in `data-parsley-remote-options`\n      ajaxOptions = $.extend(true, {}, {\n        url: url,\n        data: data,\n        type: 'GET'\n      }, remoteOptions);\n\n      // Generate store key based on ajax options\n      instance.trigger('field:ajaxoptions', instance, ajaxOptions);\n\n      csr = $.param(ajaxOptions);\n\n      // Initialise querry cache\n      if ('undefined' === typeof Parsley._remoteCache) Parsley._remoteCache = {};\n\n      // Try to retrieve stored xhr\n      var xhr = Parsley._remoteCache[csr] = Parsley._remoteCache[csr] || $.ajax(ajaxOptions);\n\n      var handleXhr = function handleXhr() {\n        var result = Parsley.asyncValidators[validator].fn.call(instance, xhr, url, options);\n        if (!result) // Map falsy results to rejected promise\n          result = $.Deferred().reject();\n        return $.when(result);\n      };\n\n      return xhr.then(handleXhr, handleXhr);\n    },\n\n    priority: -1\n  });\n\n  Parsley.on('form:submit', function () {\n    Parsley._remoteCache = {};\n  });\n\n  window.ParsleyExtend.addAsyncValidator = function () {\n    ParsleyUtils.warnOnce('Accessing the method `addAsyncValidator` through an instance is deprecated. Simply call `Parsley.addAsyncValidator(...)`');\n    return Parsley.addAsyncValidator.apply(Parsley, arguments);\n  };\n\n  // This is included with the Parsley library itself,\n  // thus there is no use in adding it to your project.\n  Parsley.addMessages('en', {\n    defaultMessage: \"This value seems to be invalid.\",\n    type: {\n      email: \"This value should be a valid email.\",\n      url: \"This value should be a valid url.\",\n      number: \"This value should be a valid number.\",\n      integer: \"This value should be a valid integer.\",\n      digits: \"This value should be digits.\",\n      alphanum: \"This value should be alphanumeric.\"\n    },\n    notblank: \"This value should not be blank.\",\n    required: \"This value is required.\",\n    pattern: \"This value seems to be invalid.\",\n    min: \"This value should be greater than or equal to %s.\",\n    max: \"This value should be lower than or equal to %s.\",\n    range: \"This value should be between %s and %s.\",\n    minlength: \"This value is too short. It should have %s characters or more.\",\n    maxlength: \"This value is too long. It should have %s characters or fewer.\",\n    length: \"This value length is invalid. It should be between %s and %s characters long.\",\n    mincheck: \"You must select at least %s choices.\",\n    maxcheck: \"You must select %s choices or fewer.\",\n    check: \"You must select between %s and %s choices.\",\n    equalto: \"This value should be the same.\"\n  });\n\n  Parsley.setLocale('en');\n\n  /**\n   * inputevent - Alleviate browser bugs for input events\n   * https://github.com/marcandre/inputevent\n   * @version v0.0.3 - (built Thu, Apr 14th 2016, 5:58 pm)\n   * @author Marc-Andre Lafortune <github@marc-andre.ca>\n   * @license MIT\n   */\n\n  function InputEvent() {\n    var _this14 = this;\n\n    var globals = window || global;\n\n    // Slightly odd way construct our object. This way methods are force bound.\n    // Used to test for duplicate library.\n    $.extend(this, {\n\n      // For browsers that do not support isTrusted, assumes event is native.\n      isNativeEvent: function isNativeEvent(evt) {\n        return evt.originalEvent && evt.originalEvent.isTrusted !== false;\n      },\n\n      fakeInputEvent: function fakeInputEvent(evt) {\n        if (_this14.isNativeEvent(evt)) {\n          $(evt.target).trigger('input');\n        }\n      },\n\n      misbehaves: function misbehaves(evt) {\n        if (_this14.isNativeEvent(evt)) {\n          _this14.behavesOk(evt);\n          $(document).on('change.inputevent', evt.data.selector, _this14.fakeInputEvent);\n          _this14.fakeInputEvent(evt);\n        }\n      },\n\n      behavesOk: function behavesOk(evt) {\n        if (_this14.isNativeEvent(evt)) {\n          $(document) // Simply unbinds the testing handler\n          .off('input.inputevent', evt.data.selector, _this14.behavesOk).off('change.inputevent', evt.data.selector, _this14.misbehaves);\n        }\n      },\n\n      // Bind the testing handlers\n      install: function install() {\n        if (globals.inputEventPatched) {\n          return;\n        }\n        globals.inputEventPatched = '0.0.3';\n        var _arr = ['select', 'input[type=\"checkbox\"]', 'input[type=\"radio\"]', 'input[type=\"file\"]'];\n        for (var _i = 0; _i < _arr.length; _i++) {\n          var selector = _arr[_i];\n          $(document).on('input.inputevent', selector, { selector: selector }, _this14.behavesOk).on('change.inputevent', selector, { selector: selector }, _this14.misbehaves);\n        }\n      },\n\n      uninstall: function uninstall() {\n        delete globals.inputEventPatched;\n        $(document).off('.inputevent');\n      }\n\n    });\n  };\n\n  var inputevent = new InputEvent();\n\n  inputevent.install();\n\n  var parsley = Parsley;\n\n  return parsley;\n});\n\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"jquery\":52}],39:[function(require,module,exports){\n/**\n*  Ajax Autocomplete for jQuery, version 1.3.0\n*  (c) 2017 Tomas Kirda\n*\n*  Ajax Autocomplete for jQuery is freely distributable under the terms of an MIT-style license.\n*  For details, see the web site: https://github.com/devbridge/jQuery-Autocomplete\n*/\n\n/*jslint  browser: true, white: true, single: true, this: true, multivar: true */\n/*global define, window, document, jQuery, exports, require */\n\n// Expose plugin as an AMD module if AMD loader is present:\n(function (factory) {\n    \"use strict\";\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['jquery'], factory);\n    } else if (typeof exports === 'object' && typeof require === 'function') {\n        // Browserify\n        factory(require('jquery'));\n    } else {\n        // Browser globals\n        factory(jQuery);\n    }\n}(function ($) {\n    'use strict';\n\n    var\n        utils = (function () {\n            return {\n                escapeRegExChars: function (value) {\n                    return value.replace(/[|\\\\{}()[\\]^$+*?.]/g, \"\\\\$&\");\n                },\n                createNode: function (containerClass) {\n                    var div = document.createElement('div');\n                    div.className = containerClass;\n                    div.style.position = 'absolute';\n                    div.style.display = 'none';\n                    return div;\n                }\n            };\n        }()),\n\n        keys = {\n            ESC: 27,\n            TAB: 9,\n            RETURN: 13,\n            LEFT: 37,\n            UP: 38,\n            RIGHT: 39,\n            DOWN: 40\n        };\n\n    function Autocomplete(el, options) {\n        var noop = $.noop,\n            that = this,\n            defaults = {\n                ajaxSettings: {},\n                autoSelectFirst: false,\n                appendTo: document.body,\n                serviceUrl: null,\n                lookup: null,\n                onSelect: null,\n                width: 'auto',\n                minChars: 1,\n                maxHeight: 300,\n                deferRequestBy: 0,\n                params: {},\n                formatResult: Autocomplete.formatResult,\n                formatGroup: Autocomplete.formatGroup,\n                delimiter: null,\n                zIndex: 9999,\n                type: 'GET',\n                noCache: false,\n                onSearchStart: noop,\n                onSearchComplete: noop,\n                onSearchError: noop,\n                preserveInput: false,\n                containerClass: 'autocomplete-suggestions',\n                tabDisabled: false,\n                dataType: 'text',\n                currentRequest: null,\n                triggerSelectOnValidInput: true,\n                preventBadQueries: true,\n                lookupFilter: function (suggestion, originalQuery, queryLowerCase) {\n                    return suggestion.value.toLowerCase().indexOf(queryLowerCase) !== -1;\n                },\n                paramName: 'query',\n                transformResult: function (response) {\n                    return typeof response === 'string' ? $.parseJSON(response) : response;\n                },\n                showNoSuggestionNotice: false,\n                noSuggestionNotice: 'No results',\n                orientation: 'bottom',\n                forceFixPosition: false\n            };\n\n        // Shared variables:\n        that.element = el;\n        that.el = $(el);\n        that.suggestions = [];\n        that.badQueries = [];\n        that.selectedIndex = -1;\n        that.currentValue = that.element.value;\n        that.intervalId = 0;\n        that.cachedResponse = {};\n        that.onChangeInterval = null;\n        that.onChange = null;\n        that.isLocal = false;\n        that.suggestionsContainer = null;\n        that.noSuggestionsContainer = null;\n        that.options = $.extend({}, defaults, options);\n        that.classes = {\n            selected: 'autocomplete-selected',\n            suggestion: 'autocomplete-suggestion'\n        };\n        that.hint = null;\n        that.hintValue = '';\n        that.selection = null;\n\n        // Initialize and set options:\n        that.initialize();\n        that.setOptions(options);\n    }\n\n    Autocomplete.utils = utils;\n\n    $.Autocomplete = Autocomplete;\n\n    Autocomplete.formatResult = function (suggestion, currentValue) {\n        // Do not replace anything if there current value is empty\n        if (!currentValue) {\n            return suggestion.value;\n        }\n        \n        var pattern = '(' + utils.escapeRegExChars(currentValue) + ')';\n\n        return suggestion.value\n            .replace(new RegExp(pattern, 'gi'), '<strong>$1<\\/strong>')\n            .replace(/&/g, '&amp;')\n            .replace(/</g, '&lt;')\n            .replace(/>/g, '&gt;')\n            .replace(/\"/g, '&quot;')\n            .replace(/&lt;(\\/?strong)&gt;/g, '<$1>');\n    };\n\n    Autocomplete.formatGroup = function (suggestion, category) {\n        return '<div class=\"autocomplete-group\"><strong>' + category + '</strong></div>';\n    };\n\n    Autocomplete.prototype = {\n\n        killerFn: null,\n\n        initialize: function () {\n            var that = this,\n                suggestionSelector = '.' + that.classes.suggestion,\n                selected = that.classes.selected,\n                options = that.options,\n                container;\n\n            // Remove autocomplete attribute to prevent native suggestions:\n            that.element.setAttribute('autocomplete', 'off');\n\n            that.killerFn = function (e) {\n                if (!$(e.target).closest('.' + that.options.containerClass).length) {\n                    that.killSuggestions();\n                    that.disableKillerFn();\n                }\n            };\n\n            // html() deals with many types: htmlString or Element or Array or jQuery\n            that.noSuggestionsContainer = $('<div class=\"autocomplete-no-suggestion\"></div>')\n                                          .html(this.options.noSuggestionNotice).get(0);\n\n            that.suggestionsContainer = Autocomplete.utils.createNode(options.containerClass);\n\n            container = $(that.suggestionsContainer);\n\n            container.appendTo(options.appendTo);\n\n            // Only set width if it was provided:\n            if (options.width !== 'auto') {\n                container.css('width', options.width);\n            }\n\n            // Listen for mouse over event on suggestions list:\n            container.on('mouseover.autocomplete', suggestionSelector, function () {\n                that.activate($(this).data('index'));\n            });\n\n            // Deselect active element when mouse leaves suggestions container:\n            container.on('mouseout.autocomplete', function () {\n                that.selectedIndex = -1;\n                container.children('.' + selected).removeClass(selected);\n            });\n\n            // Listen for click event on suggestions list:\n            container.on('click.autocomplete', suggestionSelector, function () {\n                that.select($(this).data('index'));\n                return false;\n            });\n\n            that.fixPositionCapture = function () {\n                if (that.visible) {\n                    that.fixPosition();\n                }\n            };\n\n            $(window).on('resize.autocomplete', that.fixPositionCapture);\n\n            that.el.on('keydown.autocomplete', function (e) { that.onKeyPress(e); });\n            that.el.on('keyup.autocomplete', function (e) { that.onKeyUp(e); });\n            that.el.on('blur.autocomplete', function () { that.onBlur(); });\n            that.el.on('focus.autocomplete', function () { that.onFocus(); });\n            that.el.on('change.autocomplete', function (e) { that.onKeyUp(e); });\n            that.el.on('input.autocomplete', function (e) { that.onKeyUp(e); });\n        },\n\n        onFocus: function () {\n            var that = this;\n\n            that.fixPosition();\n\n            if (that.el.val().length >= that.options.minChars) {\n                that.onValueChange();\n            }\n        },\n\n        onBlur: function () {\n            this.enableKillerFn();\n        },\n        \n        abortAjax: function () {\n            var that = this;\n            if (that.currentRequest) {\n                that.currentRequest.abort();\n                that.currentRequest = null;\n            }\n        },\n\n        setOptions: function (suppliedOptions) {\n            var that = this,\n                options = that.options;\n\n            $.extend(options, suppliedOptions);\n\n            that.isLocal = $.isArray(options.lookup);\n\n            if (that.isLocal) {\n                options.lookup = that.verifySuggestionsFormat(options.lookup);\n            }\n\n            options.orientation = that.validateOrientation(options.orientation, 'bottom');\n\n            // Adjust height, width and z-index:\n            $(that.suggestionsContainer).css({\n                'max-height': options.maxHeight + 'px',\n                'width': options.width + 'px',\n                'z-index': options.zIndex\n            });\n        },\n\n\n        clearCache: function () {\n            this.cachedResponse = {};\n            this.badQueries = [];\n        },\n\n        clear: function () {\n            this.clearCache();\n            this.currentValue = '';\n            this.suggestions = [];\n        },\n\n        disable: function () {\n            var that = this;\n            that.disabled = true;\n            clearInterval(that.onChangeInterval);\n            that.abortAjax();\n        },\n\n        enable: function () {\n            this.disabled = false;\n        },\n\n        fixPosition: function () {\n            // Use only when container has already its content\n\n            var that = this,\n                $container = $(that.suggestionsContainer),\n                containerParent = $container.parent().get(0);\n            // Fix position automatically when appended to body.\n            // In other cases force parameter must be given.\n            if (containerParent !== document.body && !that.options.forceFixPosition) {\n                return;\n            }\n\n            // Choose orientation\n            var orientation = that.options.orientation,\n                containerHeight = $container.outerHeight(),\n                height = that.el.outerHeight(),\n                offset = that.el.offset(),\n                styles = { 'top': offset.top, 'left': offset.left };\n\n            if (orientation === 'auto') {\n                var viewPortHeight = $(window).height(),\n                    scrollTop = $(window).scrollTop(),\n                    topOverflow = -scrollTop + offset.top - containerHeight,\n                    bottomOverflow = scrollTop + viewPortHeight - (offset.top + height + containerHeight);\n\n                orientation = (Math.max(topOverflow, bottomOverflow) === topOverflow) ? 'top' : 'bottom';\n            }\n\n            if (orientation === 'top') {\n                styles.top += -containerHeight;\n            } else {\n                styles.top += height;\n            }\n\n            // If container is not positioned to body,\n            // correct its position using offset parent offset\n            if(containerParent !== document.body) {\n                var opacity = $container.css('opacity'),\n                    parentOffsetDiff;\n\n                    if (!that.visible){\n                        $container.css('opacity', 0).show();\n                    }\n\n                parentOffsetDiff = $container.offsetParent().offset();\n                styles.top -= parentOffsetDiff.top;\n                styles.left -= parentOffsetDiff.left;\n\n                if (!that.visible){\n                    $container.css('opacity', opacity).hide();\n                }\n            }\n\n            if (that.options.width === 'auto') {\n                styles.width = that.el.outerWidth() + 'px';\n            }\n\n            $container.css(styles);\n        },\n\n        enableKillerFn: function () {\n            var that = this;\n            $(document).on('click.autocomplete', that.killerFn);\n        },\n\n        disableKillerFn: function () {\n            var that = this;\n            $(document).off('click.autocomplete', that.killerFn);\n        },\n\n        killSuggestions: function () {\n            var that = this;\n            that.stopKillSuggestions();\n            that.intervalId = window.setInterval(function () {\n                if (that.visible) {\n                    // No need to restore value when \n                    // preserveInput === true, \n                    // because we did not change it\n                    if (!that.options.preserveInput) {\n                        that.el.val(that.currentValue);\n                    }\n\n                    that.hide();\n                }\n                \n                that.stopKillSuggestions();\n            }, 50);\n        },\n\n        stopKillSuggestions: function () {\n            window.clearInterval(this.intervalId);\n        },\n\n        isCursorAtEnd: function () {\n            var that = this,\n                valLength = that.el.val().length,\n                selectionStart = that.element.selectionStart,\n                range;\n\n            if (typeof selectionStart === 'number') {\n                return selectionStart === valLength;\n            }\n            if (document.selection) {\n                range = document.selection.createRange();\n                range.moveStart('character', -valLength);\n                return valLength === range.text.length;\n            }\n            return true;\n        },\n\n        onKeyPress: function (e) {\n            var that = this;\n\n            // If suggestions are hidden and user presses arrow down, display suggestions:\n            if (!that.disabled && !that.visible && e.which === keys.DOWN && that.currentValue) {\n                that.suggest();\n                return;\n            }\n\n            if (that.disabled || !that.visible) {\n                return;\n            }\n\n            switch (e.which) {\n                case keys.ESC:\n                    that.el.val(that.currentValue);\n                    that.hide();\n                    break;\n                case keys.RIGHT:\n                    if (that.hint && that.options.onHint && that.isCursorAtEnd()) {\n                        that.selectHint();\n                        break;\n                    }\n                    return;\n                case keys.TAB:\n                    if (that.hint && that.options.onHint) {\n                        that.selectHint();\n                        return;\n                    }\n                    if (that.selectedIndex === -1) {\n                        that.hide();\n                        return;\n                    }\n                    that.select(that.selectedIndex);\n                    if (that.options.tabDisabled === false) {\n                        return;\n                    }\n                    break;\n                case keys.RETURN:\n                    if (that.selectedIndex === -1) {\n                        that.hide();\n                        return;\n                    }\n                    that.select(that.selectedIndex);\n                    break;\n                case keys.UP:\n                    that.moveUp();\n                    break;\n                case keys.DOWN:\n                    that.moveDown();\n                    break;\n                default:\n                    return;\n            }\n\n            // Cancel event if function did not return:\n            e.stopImmediatePropagation();\n            e.preventDefault();\n        },\n\n        onKeyUp: function (e) {\n            var that = this;\n\n            if (that.disabled) {\n                return;\n            }\n\n            switch (e.which) {\n                case keys.UP:\n                case keys.DOWN:\n                    return;\n            }\n\n            clearInterval(that.onChangeInterval);\n\n            if (that.currentValue !== that.el.val()) {\n                that.findBestHint();\n                if (that.options.deferRequestBy > 0) {\n                    // Defer lookup in case when value changes very quickly:\n                    that.onChangeInterval = setInterval(function () {\n                        that.onValueChange();\n                    }, that.options.deferRequestBy);\n                } else {\n                    that.onValueChange();\n                }\n            }\n        },\n\n        onValueChange: function () {\n            var that = this,\n                options = that.options,\n                value = that.el.val(),\n                query = that.getQuery(value);\n\n            if (that.selection && that.currentValue !== query) {\n                that.selection = null;\n                (options.onInvalidateSelection || $.noop).call(that.element);\n            }\n\n            clearInterval(that.onChangeInterval);\n            that.currentValue = value;\n            that.selectedIndex = -1;\n\n            // Check existing suggestion for the match before proceeding:\n            if (options.triggerSelectOnValidInput && that.isExactMatch(query)) {\n                that.select(0);\n                return;\n            }\n\n            if (query.length < options.minChars) {\n                that.hide();\n            } else {\n                that.getSuggestions(query);\n            }\n        },\n\n        isExactMatch: function (query) {\n            var suggestions = this.suggestions;\n\n            return (suggestions.length === 1 && suggestions[0].value.toLowerCase() === query.toLowerCase());\n        },\n\n        getQuery: function (value) {\n            var delimiter = this.options.delimiter,\n                parts;\n\n            if (!delimiter) {\n                return value;\n            }\n            parts = value.split(delimiter);\n            return $.trim(parts[parts.length - 1]);\n        },\n\n        getSuggestionsLocal: function (query) {\n            var that = this,\n                options = that.options,\n                queryLowerCase = query.toLowerCase(),\n                filter = options.lookupFilter,\n                limit = parseInt(options.lookupLimit, 10),\n                data;\n\n            data = {\n                suggestions: $.grep(options.lookup, function (suggestion) {\n                    return filter(suggestion, query, queryLowerCase);\n                })\n            };\n\n            if (limit && data.suggestions.length > limit) {\n                data.suggestions = data.suggestions.slice(0, limit);\n            }\n\n            return data;\n        },\n\n        getSuggestions: function (q) {\n            var response,\n                that = this,\n                options = that.options,\n                serviceUrl = options.serviceUrl,\n                params,\n                cacheKey,\n                ajaxSettings;\n\n            options.params[options.paramName] = q;\n            params = options.ignoreParams ? null : options.params;\n\n            if (options.onSearchStart.call(that.element, options.params) === false) {\n                return;\n            }\n\n            if ($.isFunction(options.lookup)){\n                options.lookup(q, function (data) {\n                    that.suggestions = data.suggestions;\n                    that.suggest();\n                    options.onSearchComplete.call(that.element, q, data.suggestions);\n                });\n                return;\n            }\n\n            if (that.isLocal) {\n                response = that.getSuggestionsLocal(q);\n            } else {\n                if ($.isFunction(serviceUrl)) {\n                    serviceUrl = serviceUrl.call(that.element, q);\n                }\n                cacheKey = serviceUrl + '?' + $.param(params || {});\n                response = that.cachedResponse[cacheKey];\n            }\n\n            if (response && $.isArray(response.suggestions)) {\n                that.suggestions = response.suggestions;\n                that.suggest();\n                options.onSearchComplete.call(that.element, q, response.suggestions);\n            } else if (!that.isBadQuery(q)) {\n                that.abortAjax();\n\n                ajaxSettings = {\n                    url: serviceUrl,\n                    data: params,\n                    type: options.type,\n                    dataType: options.dataType\n                };\n\n                $.extend(ajaxSettings, options.ajaxSettings);\n\n                that.currentRequest = $.ajax(ajaxSettings).done(function (data) {\n                    var result;\n                    that.currentRequest = null;\n                    result = options.transformResult(data, q);\n                    that.processResponse(result, q, cacheKey);\n                    options.onSearchComplete.call(that.element, q, result.suggestions);\n                }).fail(function (jqXHR, textStatus, errorThrown) {\n                    options.onSearchError.call(that.element, q, jqXHR, textStatus, errorThrown);\n                });\n            } else {\n                options.onSearchComplete.call(that.element, q, []);\n            }\n        },\n\n        isBadQuery: function (q) {\n            if (!this.options.preventBadQueries){\n                return false;\n            }\n\n            var badQueries = this.badQueries,\n                i = badQueries.length;\n\n            while (i--) {\n                if (q.indexOf(badQueries[i]) === 0) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        hide: function () {\n            var that = this,\n                container = $(that.suggestionsContainer);\n\n            if ($.isFunction(that.options.onHide) && that.visible) {\n                that.options.onHide.call(that.element, container);\n            }\n\n            that.visible = false;\n            that.selectedIndex = -1;\n            clearInterval(that.onChangeInterval);\n            $(that.suggestionsContainer).hide();\n            that.signalHint(null);\n        },\n\n        suggest: function () {\n            if (!this.suggestions.length) {\n                if (this.options.showNoSuggestionNotice) {\n                    this.noSuggestions();\n                } else {\n                    this.hide();\n                }\n                return;\n            }\n\n            var that = this,\n                options = that.options,\n                groupBy = options.groupBy,\n                formatResult = options.formatResult,\n                value = that.getQuery(that.currentValue),\n                className = that.classes.suggestion,\n                classSelected = that.classes.selected,\n                container = $(that.suggestionsContainer),\n                noSuggestionsContainer = $(that.noSuggestionsContainer),\n                beforeRender = options.beforeRender,\n                html = '',\n                category,\n                formatGroup = function (suggestion, index) {\n                        var currentCategory = suggestion.data[groupBy];\n\n                        if (category === currentCategory){\n                            return '';\n                        }\n\n                        category = currentCategory;\n\n                        return options.formatGroup(suggestion, category);\n                    };\n\n            if (options.triggerSelectOnValidInput && that.isExactMatch(value)) {\n                that.select(0);\n                return;\n            }\n\n            // Build suggestions inner HTML:\n            $.each(that.suggestions, function (i, suggestion) {\n                if (groupBy){\n                    html += formatGroup(suggestion, value, i);\n                }\n\n                html += '<div class=\"' + className + '\" data-index=\"' + i + '\">' + formatResult(suggestion, value, i) + '</div>';\n            });\n\n            this.adjustContainerWidth();\n\n            noSuggestionsContainer.detach();\n            container.html(html);\n\n            if ($.isFunction(beforeRender)) {\n                beforeRender.call(that.element, container, that.suggestions);\n            }\n\n            that.fixPosition();\n            container.show();\n\n            // Select first value by default:\n            if (options.autoSelectFirst) {\n                that.selectedIndex = 0;\n                container.scrollTop(0);\n                container.children('.' + className).first().addClass(classSelected);\n            }\n\n            that.visible = true;\n            that.findBestHint();\n        },\n\n        noSuggestions: function() {\n             var that = this,\n                 container = $(that.suggestionsContainer),\n                 noSuggestionsContainer = $(that.noSuggestionsContainer);\n\n            this.adjustContainerWidth();\n\n            // Some explicit steps. Be careful here as it easy to get\n            // noSuggestionsContainer removed from DOM if not detached properly.\n            noSuggestionsContainer.detach();\n            container.empty(); // clean suggestions if any\n            container.append(noSuggestionsContainer);\n\n            that.fixPosition();\n\n            container.show();\n            that.visible = true;\n        },\n\n        adjustContainerWidth: function() {\n            var that = this,\n                options = that.options,\n                width,\n                container = $(that.suggestionsContainer);\n\n            // If width is auto, adjust width before displaying suggestions,\n            // because if instance was created before input had width, it will be zero.\n            // Also it adjusts if input width has changed.\n            if (options.width === 'auto') {\n                width = that.el.outerWidth();\n                container.css('width', width > 0 ? width : 300);\n            } else if(options.width === 'flex') {\n                // Trust the source! Unset the width property so it will be the max length\n                // the containing elements.\n                container.css('width', '');\n            }\n        },\n\n        findBestHint: function () {\n            var that = this,\n                value = that.el.val().toLowerCase(),\n                bestMatch = null;\n\n            if (!value) {\n                return;\n            }\n\n            $.each(that.suggestions, function (i, suggestion) {\n                var foundMatch = suggestion.value.toLowerCase().indexOf(value) === 0;\n                if (foundMatch) {\n                    bestMatch = suggestion;\n                }\n                return !foundMatch;\n            });\n\n            that.signalHint(bestMatch);\n        },\n\n        signalHint: function (suggestion) {\n            var hintValue = '',\n                that = this;\n            if (suggestion) {\n                hintValue = that.currentValue + suggestion.value.substr(that.currentValue.length);\n            }\n            if (that.hintValue !== hintValue) {\n                that.hintValue = hintValue;\n                that.hint = suggestion;\n                (this.options.onHint || $.noop)(hintValue);\n            }\n        },\n\n        verifySuggestionsFormat: function (suggestions) {\n            // If suggestions is string array, convert them to supported format:\n            if (suggestions.length && typeof suggestions[0] === 'string') {\n                return $.map(suggestions, function (value) {\n                    return { value: value, data: null };\n                });\n            }\n\n            return suggestions;\n        },\n\n        validateOrientation: function(orientation, fallback) {\n            orientation = $.trim(orientation || '').toLowerCase();\n\n            if($.inArray(orientation, ['auto', 'bottom', 'top']) === -1){\n                orientation = fallback;\n            }\n\n            return orientation;\n        },\n\n        processResponse: function (result, originalQuery, cacheKey) {\n            var that = this,\n                options = that.options;\n\n            result.suggestions = that.verifySuggestionsFormat(result.suggestions);\n\n            // Cache results if cache is not disabled:\n            if (!options.noCache) {\n                that.cachedResponse[cacheKey] = result;\n                if (options.preventBadQueries && !result.suggestions.length) {\n                    that.badQueries.push(originalQuery);\n                }\n            }\n\n            // Return if originalQuery is not matching current query:\n            if (originalQuery !== that.getQuery(that.currentValue)) {\n                return;\n            }\n\n            that.suggestions = result.suggestions;\n            that.suggest();\n        },\n\n        activate: function (index) {\n            var that = this,\n                activeItem,\n                selected = that.classes.selected,\n                container = $(that.suggestionsContainer),\n                children = container.find('.' + that.classes.suggestion);\n\n            container.find('.' + selected).removeClass(selected);\n\n            that.selectedIndex = index;\n\n            if (that.selectedIndex !== -1 && children.length > that.selectedIndex) {\n                activeItem = children.get(that.selectedIndex);\n                $(activeItem).addClass(selected);\n                return activeItem;\n            }\n\n            return null;\n        },\n\n        selectHint: function () {\n            var that = this,\n                i = $.inArray(that.hint, that.suggestions);\n\n            that.select(i);\n        },\n\n        select: function (i) {\n            var that = this;\n            that.hide();\n            that.onSelect(i);\n            that.disableKillerFn();\n        },\n\n        moveUp: function () {\n            var that = this;\n\n            if (that.selectedIndex === -1) {\n                return;\n            }\n\n            if (that.selectedIndex === 0) {\n                $(that.suggestionsContainer).children().first().removeClass(that.classes.selected);\n                that.selectedIndex = -1;\n                that.el.val(that.currentValue);\n                that.findBestHint();\n                return;\n            }\n\n            that.adjustScroll(that.selectedIndex - 1);\n        },\n\n        moveDown: function () {\n            var that = this;\n\n            if (that.selectedIndex === (that.suggestions.length - 1)) {\n                return;\n            }\n\n            that.adjustScroll(that.selectedIndex + 1);\n        },\n\n        adjustScroll: function (index) {\n            var that = this,\n                activeItem = that.activate(index);\n\n            if (!activeItem) {\n                return;\n            }\n\n            var offsetTop,\n                upperBound,\n                lowerBound,\n                heightDelta = $(activeItem).outerHeight();\n\n            offsetTop = activeItem.offsetTop;\n            upperBound = $(that.suggestionsContainer).scrollTop();\n            lowerBound = upperBound + that.options.maxHeight - heightDelta;\n\n            if (offsetTop < upperBound) {\n                $(that.suggestionsContainer).scrollTop(offsetTop);\n            } else if (offsetTop > lowerBound) {\n                $(that.suggestionsContainer).scrollTop(offsetTop - that.options.maxHeight + heightDelta);\n            }\n\n            if (!that.options.preserveInput) {\n                that.el.val(that.getValue(that.suggestions[index].value));\n            }\n            that.signalHint(null);\n        },\n\n        onSelect: function (index) {\n            var that = this,\n                onSelectCallback = that.options.onSelect,\n                suggestion = that.suggestions[index];\n\n            that.currentValue = that.getValue(suggestion.value);\n\n            if (that.currentValue !== that.el.val() && !that.options.preserveInput) {\n                that.el.val(that.currentValue);\n            }\n\n            that.signalHint(null);\n            that.suggestions = [];\n            that.selection = suggestion;\n\n            if ($.isFunction(onSelectCallback)) {\n                onSelectCallback.call(that.element, suggestion);\n            }\n        },\n\n        getValue: function (value) {\n            var that = this,\n                delimiter = that.options.delimiter,\n                currentValue,\n                parts;\n\n            if (!delimiter) {\n                return value;\n            }\n\n            currentValue = that.currentValue;\n            parts = currentValue.split(delimiter);\n\n            if (parts.length === 1) {\n                return value;\n            }\n\n            return currentValue.substr(0, currentValue.length - parts[parts.length - 1].length) + value;\n        },\n\n        dispose: function () {\n            var that = this;\n            that.el.off('.autocomplete').removeData('autocomplete');\n            that.disableKillerFn();\n            $(window).off('resize.autocomplete', that.fixPositionCapture);\n            $(that.suggestionsContainer).remove();\n        }\n    };\n\n    // Create chainable jQuery plugin:\n    $.fn.autocomplete = $.fn.devbridgeAutocomplete = function (options, args) {\n        var dataKey = 'autocomplete';\n        // If function invoked without argument return\n        // instance of the first matched element:\n        if (!arguments.length) {\n            return this.first().data(dataKey);\n        }\n\n        return this.each(function () {\n            var inputElement = $(this),\n                instance = inputElement.data(dataKey);\n\n            if (typeof options === 'string') {\n                if (instance && typeof instance[options] === 'function') {\n                    instance[options](args);\n                }\n            } else {\n                // If instance already exists, destroy it:\n                if (instance && instance.dispose) {\n                    instance.dispose();\n                }\n                instance = new Autocomplete(this, options);\n                inputElement.data(dataKey, instance);\n            }\n        });\n    };\n}));\n\n},{\"jquery\":52}],40:[function(require,module,exports){\n/* =========================================================\n * foundation-datepicker.js\n * Copyright 2015 Peter Beno, najlepsiwebdesigner@gmail.com, @benopeter\n * project website http://foundation-datepicker.peterbeno.com\n * ========================================================= */\n! function($) {\n\n    function UTCDate() {\n        return new Date(Date.UTC.apply(Date, arguments));\n    }\n\n    function UTCToday() {\n        var today = new Date();\n        return UTCDate(today.getUTCFullYear(), today.getUTCMonth(), today.getUTCDate());\n    }\n\n    var Datepicker = function(element, options) {\n        var that = this;\n\n        this.element = $(element);\n        this.autoShow = (options.autoShow == undefined ? true : options.autoShow);\n        this.appendTo = options.appendTo || 'body';\n        this.closeButton = options.closeButton;\n        this.language = options.language || this.element.data('date-language') || \"en\";\n        this.language = this.language in dates ? this.language : this.language.split('-')[0]; //Check if \"de-DE\" style date is available, if not language should fallback to 2 letter code eg \"de\"\n        this.language = this.language in dates ? this.language : \"en\";\n        this.isRTL = dates[this.language].rtl || false;\n        this.format = DPGlobal.parseFormat(options.format || this.element.data('date-format') || dates[this.language].format || 'mm/dd/yyyy');\n        this.formatText = options.format || this.element.data('date-format') || dates[this.language].format || 'mm/dd/yyyy';\n        this.isInline = false;\n        this.isInput = this.element.is('input');\n        this.component = this.element.is('.date') ? this.element.find('.prefix, .postfix') : false;\n        this.hasInput = this.component && this.element.find('input').length;\n        this.disableDblClickSelection = options.disableDblClickSelection;\n        this.onRender = options.onRender || function() {};\n        if (this.component && this.component.length === 0) {\n            this.component = false;\n        }\n        this.linkField = options.linkField || this.element.data('link-field') || false;\n        this.linkFormat = DPGlobal.parseFormat(options.linkFormat || this.element.data('link-format') || 'yyyy-mm-dd hh:ii:ss');\n        this.minuteStep = options.minuteStep || this.element.data('minute-step') || 5;\n        this.pickerPosition = options.pickerPosition || this.element.data('picker-position') || 'bottom-right';\n        this.initialDate = options.initialDate || null;\n        this.faCSSprefix = options.faCSSprefix || 'fa';\n        this.leftArrow = options.leftArrow || '<i class=\"' + this.faCSSprefix + ' ' + this.faCSSprefix + '-chevron-left fi-arrow-left\"/>';\n        this.rightArrow = options.rightArrow || '<i class=\"' + this.faCSSprefix + ' ' + this.faCSSprefix + '-chevron-right fi-arrow-right\"/>';\n        this.closeIcon = options.closeIcon || '<i class=\"' + this.faCSSprefix + ' ' + this.faCSSprefix + '-remove ' + this.faCSSprefix + '-times fi-x\"></i>';\n\n        \n\n        this.minView = 0;\n        if ('minView' in options) {\n            this.minView = options.minView;\n        } else if ('minView' in this.element.data()) {\n            this.minView = this.element.data('min-view');\n        }\n        this.minView = DPGlobal.convertViewMode(this.minView);\n\n        this.maxView = DPGlobal.modes.length - 1;\n        if ('maxView' in options) {\n            this.maxView = options.maxView;\n        } else if ('maxView' in this.element.data()) {\n            this.maxView = this.element.data('max-view');\n        }\n        this.maxView = DPGlobal.convertViewMode(this.maxView);\n\n        this.startViewMode = 'month';\n        if ('startView' in options) {\n            this.startViewMode = options.startView;\n        } else if ('startView' in this.element.data()) {\n            this.startViewMode = this.element.data('start-view');\n        }\n        this.startViewMode = DPGlobal.convertViewMode(this.startViewMode);\n        this.viewMode = this.startViewMode;\n\n        if (!('minView' in options) && !('maxView' in options) && !(this.element.data('min-view') && !(this.element.data('max-view')))) {\n            this.pickTime = false;\n            if ('pickTime' in options) {\n                this.pickTime = options.pickTime;\n            }\n            if (this.pickTime == true) {\n                this.minView = 0;\n                this.maxView = 4;\n            } else {\n                this.minView = 2;\n                this.maxView = 4;\n            }\n        }\n\n        this.forceParse = true;\n        if ('forceParse' in options) {\n            this.forceParse = options.forceParse;\n        } else if ('dateForceParse' in this.element.data()) {\n            this.forceParse = this.element.data('date-force-parse');\n        }\n\n\n        this.picker = $(DPGlobal.template(this.leftArrow, this.rightArrow, this.closeIcon))\n            .appendTo(this.isInline ? this.element : this.appendTo)\n            .on({\n                click: $.proxy(this.click, this),\n                mousedown: $.proxy(this.mousedown, this)\n            });\n        if (this.closeButton) {\n            this.picker.find('a.datepicker-close').show();\n        } else {\n            this.picker.find('a.datepicker-close').hide();\n        }\n\n        if (this.isInline) {\n            this.picker.addClass('datepicker-inline');\n        } else {\n            this.picker.addClass('datepicker-dropdown dropdown-menu');\n        }\n        if (this.isRTL) {\n            this.picker.addClass('datepicker-rtl');\n\n            this.picker.find('.date-switch').each(function(){\n              $(this).parent().prepend($(this).siblings('.next'));\n              $(this).parent().append($(this).siblings('.prev'));\n            })\n            this.picker.find('.prev, .next').toggleClass('prev next');\n\n        }\n        $(document).on('mousedown', function(e) {\n            // Clicked outside the datepicker, hide it\n            if ($(e.target).closest('.datepicker.datepicker-inline, .datepicker.datepicker-dropdown').length === 0) {\n                that.hide();\n            }\n        });\n\n        this.autoclose = true;\n        if ('autoclose' in options) {\n            this.autoclose = options.autoclose;\n        } else if ('dateAutoclose' in this.element.data()) {\n            this.autoclose = this.element.data('date-autoclose');\n        }\n\n        this.keyboardNavigation = true;\n        if ('keyboardNavigation' in options) {\n            this.keyboardNavigation = options.keyboardNavigation;\n        } else if ('dateKeyboardNavigation' in this.element.data()) {\n            this.keyboardNavigation = this.element.data('date-keyboard-navigation');\n        }\n\n        this.todayBtn = (options.todayBtn || this.element.data('date-today-btn') || false);\n        this.todayHighlight = (options.todayHighlight || this.element.data('date-today-highlight') || false);\n\n        this.calendarWeeks = false;\n        if ('calendarWeeks' in options) {\n            this.calendarWeeks = options.calendarWeeks;\n        } else if ('dateCalendarWeeks' in this.element.data()) {\n            this.calendarWeeks = this.element.data('date-calendar-weeks');\n        }\n        if (this.calendarWeeks)\n            this.picker.find('tfoot th.today')\n            .attr('colspan', function(i, val) {\n                return parseInt(val) + 1;\n            });\n\n        this.weekStart = ((options.weekStart || this.element.data('date-weekstart') || dates[this.language].weekStart || 0) % 7);\n        this.weekEnd = ((this.weekStart + 6) % 7);\n        this.startDate = -Infinity;\n        this.endDate = Infinity;\n        this.daysOfWeekDisabled = [];\n        this.datesDisabled = [];\n        this.setStartDate(options.startDate || this.element.data('date-startdate'));\n        this.setEndDate(options.endDate || this.element.data('date-enddate'));\n        this.setDaysOfWeekDisabled(options.daysOfWeekDisabled || this.element.data('date-days-of-week-disabled'));\n        this.setDatesDisabled(options.datesDisabled || this.element.data('dates-disabled'));\n\n        this.fillDow();\n        this.fillMonths();\n        this.update();\n\n        this.showMode();\n\n        if (this.isInline) {\n            this.show();\n        }\n\n        this._attachEvents();\n    };\n\n    Datepicker.prototype = {\n        constructor: Datepicker,\n\n        _events: [],\n        _attachEvents: function() {\n            this._detachEvents();\n            if (this.isInput) { // single input\n                if (!this.keyboardNavigation) {\n                    this._events = [\n                        [this.element, {\n                            focus: (this.autoShow) ? $.proxy(this.show, this) : function() {}\n                        }]\n                    ];\n                } else {\n                    this._events = [\n                        [this.element, {\n                            focus: (this.autoShow) ? $.proxy(this.show, this) : function() {},\n                            keyup: $.proxy(this.update, this),\n                            keydown: $.proxy(this.keydown, this),\n                            click: (this.element.attr('readonly')) ? $.proxy(this.show, this) : function() {}\n                        }]\n                    ];\n                } \n            }\n            else if (this.component && this.hasInput) { // component: input + button\n                this._events = [\n                    // For components that are not readonly, allow keyboard nav\n                    [this.element.find('input'), {\n                        focus: (this.autoShow) ? $.proxy(this.show, this) : function() {},\n                        keyup: $.proxy(this.update, this),\n                        keydown: $.proxy(this.keydown, this)\n                    }],\n                    [this.component, {\n                        click: $.proxy(this.show, this)\n                    }]\n                ];\n            } else if (this.element.is('div')) { // inline datepicker\n                this.isInline = true;\n            } else {\n                this._events = [\n                    [this.element, {\n                        click: $.proxy(this.show, this)\n                    }]\n                ];\n            }\n\n            if (this.disableDblClickSelection) {\n                this._events[this._events.length] = [\n                    this.element, {\n                        dblclick: function(e) {\n                            e.preventDefault();\n                            e.stopPropagation();\n                            $(this).blur()\n                        }\n                    }\n                ];\n            }\n\n            for (var i = 0, el, ev; i < this._events.length; i++) {\n                el = this._events[i][0];\n                ev = this._events[i][1];\n                el.on(ev);\n            }\n        },\n        _detachEvents: function() {\n            for (var i = 0, el, ev; i < this._events.length; i++) {\n                el = this._events[i][0];\n                ev = this._events[i][1];\n                el.off(ev);\n            }\n            this._events = [];\n        },\n\n        show: function(e) {\n            this.picker.show();\n            this.height = this.component ? this.component.outerHeight() : this.element.outerHeight();\n            this.update();\n            this.place();\n            $(window).on('resize', $.proxy(this.place, this));\n            if (e) {\n                e.stopPropagation();\n                e.preventDefault();\n            }\n            this.element.trigger({\n                type: 'show',\n                date: this.date\n            });\n        },\n\n        hide: function(e) {\n            if (this.isInline) return;\n            if (!this.picker.is(':visible')) return;\n            this.picker.hide();\n            $(window).off('resize', this.place);\n            this.viewMode = this.startViewMode;\n            this.showMode();\n            if (!this.isInput) {\n                $(document).off('mousedown', this.hide);\n            }\n\n            if (\n                this.forceParse &&\n                (\n                    this.isInput && this.element.val() ||\n                    this.hasInput && this.element.find('input').val()\n                )\n            )\n                this.setValue();\n            this.element.trigger({\n                type: 'hide',\n                date: this.date\n            });\n        },\n\n        remove: function() {\n            this._detachEvents();\n            this.picker.remove();\n            delete this.element.data().datepicker;\n        },\n\n        getDate: function() {\n            var d = this.getUTCDate();\n            return new Date(d.getTime() + (d.getTimezoneOffset() * 60000));\n        },\n\n        getUTCDate: function() {\n            return this.date;\n        },\n\n        setDate: function(d) {\n            this.setUTCDate(new Date(d.getTime() - (d.getTimezoneOffset() * 60000)));\n        },\n\n        setUTCDate: function(d) {\n            this.date = d;\n            this.setValue();\n        },\n\n        setValue: function() {\n            var formatted = this.getFormattedDate();\n            if (!this.isInput) {\n                if (this.component) {\n                    this.element.find('input').val(formatted);\n                }\n                this.element.data('date', formatted);\n            } else {\n                this.element.val(formatted);\n            }\n        },\n\n        getFormattedDate: function(format) {\n            if (format === undefined)\n                format = this.format;\n            return DPGlobal.formatDate(this.date, format, this.language);\n        },\n\n        setStartDate: function(startDate) {\n            this.startDate = startDate || -Infinity;\n            if (this.startDate !== -Infinity) {\n                this.startDate = DPGlobal.parseDate(this.startDate, this.format, this.language);\n            }\n            this.update();\n            this.updateNavArrows();\n        },\n\n        setEndDate: function(endDate) {\n            this.endDate = endDate || Infinity;\n            if (this.endDate !== Infinity) {\n                this.endDate = DPGlobal.parseDate(this.endDate, this.format, this.language);\n            }\n            this.update();\n            this.updateNavArrows();\n        },\n\n        setDaysOfWeekDisabled: function(daysOfWeekDisabled) {\n            this.daysOfWeekDisabled = daysOfWeekDisabled || [];\n            if (!$.isArray(this.daysOfWeekDisabled)) {\n                this.daysOfWeekDisabled = this.daysOfWeekDisabled.split(/,\\s*/);\n            }\n            this.daysOfWeekDisabled = $.map(this.daysOfWeekDisabled, function(d) {\n                return parseInt(d, 10);\n            });\n            this.update();\n            this.updateNavArrows();\n        },\n\n        setDatesDisabled: function(datesDisabled) {\n            this.datesDisabled = datesDisabled || [];\n            if (!$.isArray(this.datesDisabled)) {\n                this.datesDisabled = this.datesDisabled.split(/,\\s*/);\n            }\n            this.datesDisabled = $.map(this.datesDisabled, function(d) {\n                return DPGlobal.parseDate(d, this.format, this.language).valueOf();\n            });\n            this.update();\n            this.updateNavArrows();\n        },\n\n        place: function() {\n            if (this.isInline) return;\n            var zIndex = parseInt(this.element.parents().filter(function() {\n                return $(this).css('z-index') != 'auto';\n            }).first().css('z-index')) + 10;\n            var textbox = this.component ? this.component : this.element;\n            var offset = textbox.offset();\n            var height = textbox.outerHeight() + parseInt(textbox.css('margin-top'));\n            var width = textbox.outerWidth() + parseInt(textbox.css('margin-left'));\n            var fullOffsetTop = offset.top + height;\n            var offsetLeft = offset.left;\n            this.picker.removeClass('datepicker-top datepicker-bottom');\n            // if the datepicker is going to be below the window, show it on top of the input\n            if ((fullOffsetTop + this.picker.outerHeight()) >= $(window).scrollTop() + $(window).height()) {\n                fullOffsetTop = offset.top - this.picker.outerHeight();\n                this.picker.addClass('datepicker-top');\n            }\n            else {\n                this.picker.addClass('datepicker-bottom');\n            }\n\n            // if the datepicker is going to go past the right side of the window, we want\n            // to set the right position so the datepicker lines up with the textbox\n            if (offset.left + this.picker.width() >= $(window).width()) {\n                offsetLeft = (offset.left + width) - this.picker.width();\n            }\n            this.picker.css({\n                top: fullOffsetTop,\n                left: offsetLeft,\n                zIndex: zIndex\n            });\n        },\n\n        update: function() {\n            var date, fromArgs = false;\n            var currentVal = this.isInput ? this.element.val() : this.element.data('date') || this.element.find('input').val();\n            if (arguments && arguments.length && (typeof arguments[0] === 'string' || arguments[0] instanceof Date)) {\n                date = arguments[0];\n                fromArgs = true;\n            } \n            else if (!currentVal && this.initialDate != null) { // If value is not set, set it to the initialDate \n                date = this.initialDate\n            }\n            else {\n                date = this.isInput ? this.element.val() : this.element.data('date') || this.element.find('input').val();\n            }\n    \n            if (date.length > this.formatText.length) {\n                    $(this.picker).addClass('is-invalid')\n                    $(this.element).addClass('is-invalid-input')\n                    return;\n            } else {\n                $(this.picker).removeClass('is-invalid')\n                $(this.element).removeClass('is-invalid-input')\n                  \n            }\n        \n            this.date = DPGlobal.parseDate(date, this.format, this.language);  \n\n            if (fromArgs || this.initialDate != null) this.setValue();\n\n            if (this.date < this.startDate) {\n                this.viewDate = new Date(this.startDate.valueOf());\n            } else if (this.date > this.endDate) {\n                this.viewDate = new Date(this.endDate.valueOf());\n            } else {\n                this.viewDate = new Date(this.date.valueOf());\n            }\n            this.fill();\n        },\n\n        fillDow: function() {\n            var dowCnt = this.weekStart,\n                html = '<tr>';\n            if (this.calendarWeeks) {\n                var cell = '<th class=\"cw\">&nbsp;</th>';\n                html += cell;\n                this.picker.find('.datepicker-days thead tr:first-child').prepend(cell);\n            }\n            while (dowCnt < this.weekStart + 7) {\n                html += '<th class=\"dow\">' + dates[this.language].daysMin[(dowCnt++) % 7] + '</th>';\n            }\n            html += '</tr>';\n            this.picker.find('.datepicker-days thead').append(html);\n        },\n\n        fillMonths: function() {\n            var html = '',\n                i = 0;\n            while (i < 12) {\n                html += '<span class=\"month\">' + dates[this.language].monthsShort[i++] + '</span>';\n            }\n            this.picker.find('.datepicker-months td').html(html);\n        },\n\n        fill: function() {\n            if (this.date == null || this.viewDate == null) {\n                return;\n            }\n\n            var d = new Date(this.viewDate.valueOf()),\n                year = d.getUTCFullYear(),\n                month = d.getUTCMonth(),\n                dayMonth = d.getUTCDate(),\n                hours = d.getUTCHours(),\n                minutes = d.getUTCMinutes(),\n                startYear = this.startDate !== -Infinity ? this.startDate.getUTCFullYear() : -Infinity,\n                startMonth = this.startDate !== -Infinity ? this.startDate.getUTCMonth() : -Infinity,\n                endYear = this.endDate !== Infinity ? this.endDate.getUTCFullYear() : Infinity,\n                endMonth = this.endDate !== Infinity ? this.endDate.getUTCMonth() : Infinity,\n                currentDate = this.date && UTCDate(this.date.getUTCFullYear(), this.date.getUTCMonth(), this.date.getUTCDate()).valueOf(),\n                today = new Date(),\n                titleFormat = dates[this.language].titleFormat || dates['en'].titleFormat;\n            // this.picker.find('.datepicker-days thead th.date-switch')\n            // \t\t\t.text(DPGlobal.formatDate(new UTCDate(year, month), titleFormat, this.language));\n\n            this.picker.find('.datepicker-days thead th:eq(1)')\n                .text(dates[this.language].months[month] + ' ' + year);\n            this.picker.find('.datepicker-hours thead th:eq(1)')\n                .text(dayMonth + ' ' + dates[this.language].months[month] + ' ' + year);\n            this.picker.find('.datepicker-minutes thead th:eq(1)')\n                .text(dayMonth + ' ' + dates[this.language].months[month] + ' ' + year);\n\n\n            this.picker.find('tfoot th.today')\n                .text(dates[this.language].today)\n                .toggle(this.todayBtn !== false);\n            this.updateNavArrows();\n            this.fillMonths();\n            var prevMonth = UTCDate(year, month - 1, 28, 0, 0, 0, 0),\n                day = DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(), prevMonth.getUTCMonth());\n            prevMonth.setUTCDate(day);\n            prevMonth.setUTCDate(day - (prevMonth.getUTCDay() - this.weekStart + 7) % 7);\n            var nextMonth = new Date(prevMonth.valueOf());\n            nextMonth.setUTCDate(nextMonth.getUTCDate() + 42);\n            nextMonth = nextMonth.valueOf();\n            var html = [];\n            var clsName;\n            while (prevMonth.valueOf() < nextMonth) {\n                if (prevMonth.getUTCDay() == this.weekStart) {\n                    html.push('<tr>');\n                    if (this.calendarWeeks) {\n                        // adapted from https://github.com/timrwood/moment/blob/master/moment.js#L128\n                        var a = new Date(prevMonth.getUTCFullYear(), prevMonth.getUTCMonth(), prevMonth.getUTCDate() - prevMonth.getDay() + 10 - (this.weekStart && this.weekStart % 7 < 5 && 7)),\n                            b = new Date(a.getFullYear(), 0, 4),\n                            calWeek = ~~((a - b) / 864e5 / 7 + 1.5);\n                        html.push('<td class=\"cw\">' + calWeek + '</td>');\n                    }\n                }\n                clsName = ' ' + this.onRender(prevMonth) + ' ';\n                if (prevMonth.getUTCFullYear() < year || (prevMonth.getUTCFullYear() == year && prevMonth.getUTCMonth() < month)) {\n                    clsName += ' old';\n                } else if (prevMonth.getUTCFullYear() > year || (prevMonth.getUTCFullYear() == year && prevMonth.getUTCMonth() > month)) {\n                    clsName += ' new';\n                }\n                // Compare internal UTC date with local today, not UTC today\n                if (this.todayHighlight &&\n                    prevMonth.getUTCFullYear() == today.getFullYear() &&\n                    prevMonth.getUTCMonth() == today.getMonth() &&\n                    prevMonth.getUTCDate() == today.getDate()) {\n                    clsName += ' today';\n                }\n                if (currentDate && prevMonth.valueOf() == currentDate) {\n                    clsName += ' active';\n                }\n                if (prevMonth.valueOf() < this.startDate || prevMonth.valueOf() > this.endDate ||\n                    $.inArray(prevMonth.getUTCDay(), this.daysOfWeekDisabled) !== -1 ||\n                    $.inArray(prevMonth.valueOf(), this.datesDisabled) !== -1) {\n                    clsName += ' disabled';\n                }\n                html.push('<td class=\"day' + clsName + '\">' + prevMonth.getUTCDate() + '</td>');\n                if (prevMonth.getUTCDay() == this.weekEnd) {\n                    html.push('</tr>');\n                }\n                prevMonth.setUTCDate(prevMonth.getUTCDate() + 1);\n            }\n            this.picker.find('.datepicker-days tbody').empty().append(html.join(''));\n\n            html = [];\n            for (var i = 0; i < 24; i++) {\n                var actual = UTCDate(year, month, dayMonth, i);\n                clsName = '';\n                // We want the previous hour for the startDate\n                if ((actual.valueOf() + 3600000) < this.startDate || actual.valueOf() > this.endDate) {\n                    clsName += ' disabled';\n                } else if (hours == i) {\n                    clsName += ' active';\n                }\n                html.push('<span class=\"hour' + clsName + '\">' + i + ':00</span>');\n            }\n            this.picker.find('.datepicker-hours td').html(html.join(''));\n\n            html = [];\n            for (var i = 0; i < 60; i += this.minuteStep) {\n                var actual = UTCDate(year, month, dayMonth, hours, i);\n                clsName = '';\n                if (actual.valueOf() < this.startDate || actual.valueOf() > this.endDate) {\n                    clsName += ' disabled';\n                } else if (Math.floor(minutes / this.minuteStep) == Math.floor(i / this.minuteStep)) {\n                    clsName += ' active';\n                }\n                html.push('<span class=\"minute' + clsName + '\">' + hours + ':' + (i < 10 ? '0' + i : i) + '</span>');\n            }\n            this.picker.find('.datepicker-minutes td').html(html.join(''));\n\n\n            var currentYear = this.date && this.date.getUTCFullYear();\n            var months = this.picker.find('.datepicker-months')\n                .find('th:eq(1)')\n                .text(year)\n                .end()\n                .find('span').removeClass('active');\n            if (currentYear && currentYear == year) {\n                months.eq(this.date.getUTCMonth()).addClass('active');\n            }\n            if (year < startYear || year > endYear) {\n                months.addClass('disabled');\n            }\n            if (year == startYear) {\n                months.slice(0, startMonth).addClass('disabled');\n            }\n            if (year == endYear) {\n                months.slice(endMonth + 1).addClass('disabled');\n            }\n\n            html = '';\n            year = parseInt(year / 10, 10) * 10;\n            var yearCont = this.picker.find('.datepicker-years')\n                .find('th:eq(1)')\n                .text(year + '-' + (year + 9))\n                .end()\n                .find('td');\n            year -= 1;\n            for (var i = -1; i < 11; i++) {\n                html += '<span class=\"year' + (i == -1 || i == 10 ? ' old' : '') + (currentYear == year ? ' active' : '') + (year < startYear || year > endYear ? ' disabled' : '') + '\">' + year + '</span>';\n                year += 1;\n            }\n            yearCont.html(html);\n        },\n\n        updateNavArrows: function() {\n            var d = new Date(this.viewDate),\n                year = d.getUTCFullYear(),\n                month = d.getUTCMonth(),\n                day = d.getUTCDate(),\n                hour = d.getUTCHours();\n            switch (this.viewMode) {\n                case 0:\n                    if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear() && month <= this.startDate.getUTCMonth() && day <= this.startDate.getUTCDate() && hour <= this.startDate.getUTCHours()) {\n                        this.picker.find('.prev').css({\n                            visibility: 'hidden'\n                        });\n                    } else {\n                        this.picker.find('.prev').css({\n                            visibility: 'visible'\n                        });\n                    }\n                    if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear() && month >= this.endDate.getUTCMonth() && day >= this.endDate.getUTCDate() && hour >= this.endDate.getUTCHours()) {\n                        this.picker.find('.next').css({\n                            visibility: 'hidden'\n                        });\n                    } else {\n                        this.picker.find('.next').css({\n                            visibility: 'visible'\n                        });\n                    }\n                    break;\n                case 1:\n                    if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear() && month <= this.startDate.getUTCMonth() && day <= this.startDate.getUTCDate()) {\n                        this.picker.find('.prev').css({\n                            visibility: 'hidden'\n                        });\n                    } else {\n                        this.picker.find('.prev').css({\n                            visibility: 'visible'\n                        });\n                    }\n                    if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear() && month >= this.endDate.getUTCMonth() && day >= this.endDate.getUTCDate()) {\n                        this.picker.find('.next').css({\n                            visibility: 'hidden'\n                        });\n                    } else {\n                        this.picker.find('.next').css({\n                            visibility: 'visible'\n                        });\n                    }\n                    break;\n                case 2:\n                    if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear() && month <= this.startDate.getUTCMonth()) {\n                        this.picker.find('.prev').css({\n                            visibility: 'hidden'\n                        });\n                    } else {\n                        this.picker.find('.prev').css({\n                            visibility: 'visible'\n                        });\n                    }\n                    if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear() && month >= this.endDate.getUTCMonth()) {\n                        this.picker.find('.next').css({\n                            visibility: 'hidden'\n                        });\n                    } else {\n                        this.picker.find('.next').css({\n                            visibility: 'visible'\n                        });\n                    }\n                    break;\n                case 3:\n                case 4:\n                    if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear()) {\n                        this.picker.find('.prev').css({\n                            visibility: 'hidden'\n                        });\n                    } else {\n                        this.picker.find('.prev').css({\n                            visibility: 'visible'\n                        });\n                    }\n                    if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear()) {\n                        this.picker.find('.next').css({\n                            visibility: 'hidden'\n                        });\n                    } else {\n                        this.picker.find('.next').css({\n                            visibility: 'visible'\n                        });\n                    }\n                    break;\n            }\n        },\n\n        click: function(e) {\n            e.stopPropagation();\n            e.preventDefault();\n\n            if ($(e.target).hasClass('datepicker-close') || $(e.target).parent().hasClass('datepicker-close')) {\n                this.hide();\n            }\n\n            var target = $(e.target).closest('span, td, th');\n            if (target.length == 1) {\n                if (target.is('.disabled')) {\n                    this.element.trigger({\n                        type: 'outOfRange',\n                        date: this.viewDate,\n                        startDate: this.startDate,\n                        endDate: this.endDate\n                    });\n                    return;\n                }\n\n                switch (target[0].nodeName.toLowerCase()) {\n                    case 'th':\n                        switch (target[0].className) {\n                            case 'date-switch':\n                                this.showMode(1);\n                                break;\n                            case 'prev':\n                            case 'next':\n                                var dir = DPGlobal.modes[this.viewMode].navStep * (target[0].className == 'prev' ? -1 : 1);\n                                switch (this.viewMode) {\n                                    case 0:\n                                        this.viewDate = this.moveHour(this.viewDate, dir);\n                                        break;\n                                    case 1:\n                                        this.viewDate = this.moveDate(this.viewDate, dir);\n                                        break;\n                                    case 2:\n                                        this.viewDate = this.moveMonth(this.viewDate, dir);\n                                        break;\n                                    case 3:\n                                    case 4:\n                                        this.viewDate = this.moveYear(this.viewDate, dir);\n                                        break;\n                                }\n                                this.fill();\n                                break;\n                            case 'today':\n                                var date = new Date();\n                                date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds());\n\n                                this.viewMode = this.startViewMode;\n                                this.showMode(0);\n                                this._setDate(date);\n                                break;\n                        }\n                        break;\n                    case 'span':\n                        if (!target.is('.disabled')) {\n                            if (target.is('.month')) {\n                              if (this.minView === 3) {\n                                var month = target.parent().find('span').index(target) || 0;\n                                var year = this.viewDate.getUTCFullYear(),\n                                    day = 1,\n                                    hours = this.viewDate.getUTCHours(),\n                                    minutes = this.viewDate.getUTCMinutes(),\n                                    seconds = this.viewDate.getUTCSeconds();\n                                this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n                              } else {\n                                this.viewDate.setUTCDate(1);\n                                var month = target.parent().find('span').index(target);\n                                this.viewDate.setUTCMonth(month);\n                                this.element.trigger({\n                                    type: 'changeMonth',\n                                    date: this.viewDate\n                                });\n                              }\n                            } else if (target.is('.year')) {\n                              if (this.minView === 4) {\n                                var year = parseInt(target.text(), 10) || 0;\n                                var month = 0,\n                                    day = 1,\n                                    hours = this.viewDate.getUTCHours(),\n                                    minutes = this.viewDate.getUTCMinutes(),\n                                    seconds = this.viewDate.getUTCSeconds();\n                                this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n                              } else {\n                                this.viewDate.setUTCDate(1);\n                                var year = parseInt(target.text(), 10) || 0;\n                                this.viewDate.setUTCFullYear(year);\n                                this.element.trigger({\n                                    type: 'changeYear',\n                                    date: this.viewDate\n                                });\n                              }\n                            } else if (target.is('.hour')) {\n                                var hours = parseInt(target.text(), 10) || 0;\n                                var year = this.viewDate.getUTCFullYear(),\n                                    month = this.viewDate.getUTCMonth(),\n                                    day = this.viewDate.getUTCDate(),\n                                    minutes = this.viewDate.getUTCMinutes(),\n                                    seconds = this.viewDate.getUTCSeconds();\n                                this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n                            } else if (target.is('.minute')) {\n                                var minutes = parseInt(target.text().substr(target.text().indexOf(':') + 1), 10) || 0;\n                                var year = this.viewDate.getUTCFullYear(),\n                                    month = this.viewDate.getUTCMonth(),\n                                    day = this.viewDate.getUTCDate(),\n                                    hours = this.viewDate.getUTCHours(),\n                                    seconds = this.viewDate.getUTCSeconds();\n                                this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n                            }\n\n\n\n                            if (this.viewMode != 0) {\n\n\n\n                                var oldViewMode = this.viewMode;\n                                this.showMode(-1);\n                                this.fill();\n                                if (oldViewMode == this.viewMode && this.autoclose) {\n                                    this.hide();\n                                }\n                            } else {\n                                this.fill();\n                                if (this.autoclose) {\n                                    this.hide();\n                                }\n                            }\n                        }\n                        break;\n                    case 'td':\n\n\n\n                        if (target.is('.day') && !target.is('.disabled')) {\n                            var day = parseInt(target.text(), 10) || 1;\n                            var year = this.viewDate.getUTCFullYear(),\n                                month = this.viewDate.getUTCMonth(),\n                                hours = this.viewDate.getUTCHours(),\n                                minutes = this.viewDate.getUTCMinutes(),\n                                seconds = this.viewDate.getUTCSeconds();\n                            if (target.is('.old')) {\n                                if (month === 0) {\n                                    month = 11;\n                                    year -= 1;\n                                } else {\n                                    month -= 1;\n                                }\n                            } else if (target.is('.new')) {\n                                if (month == 11) {\n                                    month = 0;\n                                    year += 1;\n                                } else {\n                                    month += 1;\n                                }\n                            }\n                            this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n                        }\n\n\n\n                        var oldViewMode = this.viewMode;\n\n\n                        this.showMode(-1);\n\n\n                        this.fill();\n                        if (oldViewMode == this.viewMode && this.autoclose) {\n                            this.hide();\n                        }\n                        break;\n                }\n            }\n        },\n\n        _setDate: function(date, which) {\n\n            if (!which || which == 'date')\n                this.date = date;\n            if (!which || which == 'view')\n                this.viewDate = date;\n            this.fill();\n            this.setValue();\n            this.element.trigger({\n                type: 'changeDate',\n                date: this.date\n            });\n            var element;\n            if (this.isInput) {\n                element = this.element;\n            } else if (this.component) {\n                element = this.element.find('input');\n            }\n            if (element) {\n                element.change();\n                if (this.autoclose && (!which || which == 'date')) {\n                    // this.hide();\n                }\n            }\n        },\n\n        moveHour: function(date, dir) {\n            if (!dir) return date;\n            var new_date = new Date(date.valueOf());\n            dir = dir > 0 ? 1 : -1;\n            new_date.setUTCHours(new_date.getUTCHours() + dir);\n            return new_date;\n        },\n\n        moveDate: function(date, dir) {\n            if (!dir) return date;\n            var new_date = new Date(date.valueOf());\n            dir = dir > 0 ? 1 : -1;\n            new_date.setUTCDate(new_date.getUTCDate() + dir);\n            return new_date;\n        },\n\n        moveMonth: function(date, dir) {\n            if (!dir) return date;\n            var new_date = new Date(date.valueOf()),\n                day = new_date.getUTCDate(),\n                month = new_date.getUTCMonth(),\n                mag = Math.abs(dir),\n                new_month, test;\n            dir = dir > 0 ? 1 : -1;\n            if (mag == 1) {\n                test = dir == -1\n                    // If going back one month, make sure month is not current month\n                    // (eg, Mar 31 -> Feb 31 == Feb 28, not Mar 02)\n                    ? function() {\n                        return new_date.getUTCMonth() == month;\n                    }\n                    // If going forward one month, make sure month is as expected\n                    // (eg, Jan 31 -> Feb 31 == Feb 28, not Mar 02)\n                    : function() {\n                        return new_date.getUTCMonth() != new_month;\n                    };\n                new_month = month + dir;\n                new_date.setUTCMonth(new_month);\n                // Dec -> Jan (12) or Jan -> Dec (-1) -- limit expected date to 0-11\n                if (new_month < 0 || new_month > 11)\n                    new_month = (new_month + 12) % 12;\n            } else {\n                // For magnitudes >1, move one month at a time...\n                for (var i = 0; i < mag; i++)\n                // ...which might decrease the day (eg, Jan 31 to Feb 28, etc)...\n                    new_date = this.moveMonth(new_date, dir);\n                // ...then reset the day, keeping it in the new month\n                new_month = new_date.getUTCMonth();\n                new_date.setUTCDate(day);\n                test = function() {\n                    return new_month != new_date.getUTCMonth();\n                };\n            }\n            // Common date-resetting loop -- if date is beyond end of month, make it\n            // end of month\n            while (test()) {\n                new_date.setUTCDate(--day);\n                new_date.setUTCMonth(new_month);\n            }\n            return new_date;\n        },\n\n        moveYear: function(date, dir) {\n            return this.moveMonth(date, dir * 12);\n        },\n\n        dateWithinRange: function(date) {\n            return date >= this.startDate && date <= this.endDate;\n        },\n\n        keydown: function(e) {\n            if (!this.keyboardNavigation) {\n                return true;\n            }\n            if (this.picker.is(':not(:visible)')) {\n                if (e.keyCode == 27) // allow escape to hide and re-show picker\n                    this.show();\n                return;\n            }\n            var dateChanged = false,\n                dir, day, month,\n                newDate, newViewDate;\n            switch (e.keyCode) {\n                case 27: // escape\n                    this.hide();\n                    e.preventDefault();\n                    break;\n                case 37: // left\n                case 39: // right\n                    if (!this.keyboardNavigation) break;\n                    dir = e.keyCode == 37 ? -1 : 1;\n                    if (e.ctrlKey) {\n                        newDate = this.moveYear(this.date, dir);\n                        newViewDate = this.moveYear(this.viewDate, dir);\n                    } else if (e.shiftKey) {\n                        newDate = this.moveMonth(this.date, dir);\n                        newViewDate = this.moveMonth(this.viewDate, dir);\n                    } else {\n                        newDate = new Date(this.date.valueOf());\n                        newDate.setUTCDate(this.date.getUTCDate() + dir);\n                        newViewDate = new Date(this.viewDate.valueOf());\n                        newViewDate.setUTCDate(this.viewDate.getUTCDate() + dir);\n                    }\n                    if (this.dateWithinRange(newDate)) {\n                        this.date = newDate;\n                        this.viewDate = newViewDate;\n                        this.setValue();\n                        this.update();\n                        e.preventDefault();\n                        dateChanged = true;\n                    }\n                    break;\n                case 38: // up\n                case 40: // down\n                    if (!this.keyboardNavigation) break;\n                    dir = e.keyCode == 38 ? -1 : 1;\n                    if (e.ctrlKey) {\n                        newDate = this.moveYear(this.date, dir);\n                        newViewDate = this.moveYear(this.viewDate, dir);\n                    } else if (e.shiftKey) {\n                        newDate = this.moveMonth(this.date, dir);\n                        newViewDate = this.moveMonth(this.viewDate, dir);\n                    } else {\n                        newDate = new Date(this.date.valueOf());\n                        newDate.setUTCDate(this.date.getUTCDate() + dir * 7);\n                        newViewDate = new Date(this.viewDate.valueOf());\n                        newViewDate.setUTCDate(this.viewDate.getUTCDate() + dir * 7);\n                    }\n                    if (this.dateWithinRange(newDate)) {\n                        this.date = newDate;\n                        this.viewDate = newViewDate;\n                        this.setValue();\n                        this.update();\n                        e.preventDefault();\n                        dateChanged = true;\n                    }\n                    break;\n                case 13: // enter\n                    this.hide();\n                    e.preventDefault();\n                    break;\n                case 9: // tab\n                    this.hide();\n                    break;\n            }\n            if (dateChanged) {\n                this.element.trigger({\n                    type: 'changeDate',\n                    date: this.date\n                });\n                var element;\n                if (this.isInput) {\n                    element = this.element;\n                } else if (this.component) {\n                    element = this.element.find('input');\n                }\n                if (element) {\n                    element.change();\n                }\n            }\n        },\n\n        showMode: function(dir) {\n\n            if (dir) {\n                var newViewMode = Math.max(0, Math.min(DPGlobal.modes.length - 1, this.viewMode + dir));\n                if (newViewMode >= this.minView && newViewMode <= this.maxView) {\n                    this.viewMode = newViewMode;\n                }\n            }\n            /*\n            \tvitalets: fixing bug of very special conditions:\n            \tjquery 1.7.1 + webkit + show inline datepicker in bootstrap popover.\n            \tMethod show() does not set display css correctly and datepicker is not shown.\n            \tChanged to .css('display', 'block') solve the problem.\n            \tSee https://github.com/vitalets/x-editable/issues/37\n\n            \tIn jquery 1.7.2+ everything works fine.\n            */\n            //this.picker.find('>div').hide().filter('.datepicker-'+DPGlobal.modes[this.viewMode].clsName).show();\n            this.picker.find('>div').hide().filter('.datepicker-' + DPGlobal.modes[this.viewMode].clsName).css('display', 'block');\n            this.updateNavArrows();\n        },\n        reset: function(e) {\n            this._setDate(null, 'date');\n        }\n    };\n\n    $.fn.fdatepicker = function(option) {\n        var args = Array.apply(null, arguments);\n        args.shift();\n        return this.each(function() {\n            var $this = $(this),\n                data = $this.data('datepicker'),\n                options = typeof option == 'object' && option;\n            if (!data) {\n                $this.data('datepicker', (data = new Datepicker(this, $.extend({}, $.fn.fdatepicker.defaults, options))));\n            }\n            if (typeof option == 'string' && typeof data[option] == 'function') {\n                data[option].apply(data, args);\n            }\n        });\n    };\n\n    $.fn.fdatepicker.defaults = {\n        onRender: function(date) {\n            return '';\n        }\n    };\n    $.fn.fdatepicker.Constructor = Datepicker;\n    var dates = $.fn.fdatepicker.dates = {\n        'en': {\n            days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"],\n            daysShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"],\n            daysMin: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\", \"Su\"],\n            months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n            monthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n            today: \"Today\",\n            titleFormat: \"MM yyyy\"\n        }\n    };\n\n    var DPGlobal = {\n        modes: [{\n            clsName: 'minutes',\n            navFnc: 'Hours',\n            navStep: 1\n        }, {\n            clsName: 'hours',\n            navFnc: 'Date',\n            navStep: 1\n        }, {\n            clsName: 'days',\n            navFnc: 'Month',\n            navStep: 1\n        }, {\n            clsName: 'months',\n            navFnc: 'FullYear',\n            navStep: 1\n        }, {\n            clsName: 'years',\n            navFnc: 'FullYear',\n            navStep: 10\n        }],\n        isLeapYear: function(year) {\n            return (((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0));\n        },\n        getDaysInMonth: function(year, month) {\n            return [31, (DPGlobal.isLeapYear(year) ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n        },\n        validParts: /hh?|ii?|ss?|dd?|mm?|MM?|yy(?:yy)?/g,\n        nonpunctuation: /[^ -\\/:-@\\[\\u3400-\\u9fff-`{-~\\t\\n\\r]+/g,\n        parseFormat: function(format) {\n            // IE treats \\0 as a string end in inputs (truncating the value),\n            // so it's a bad format delimiter, anyway\n            var separators = format.replace(this.validParts, '\\0').split('\\0'),\n                parts = format.match(this.validParts);\n            if (!separators || !separators.length || !parts || parts.length === 0) {\n                throw new Error(\"Invalid date format.\");\n            }\n            this.formatText = format;\n            return {\n                separators: separators,\n                parts: parts\n            };\n        },\n        parseDate: function(date, format, language) {\n            if (date instanceof Date) return new Date(date.valueOf() - date.getTimezoneOffset() * 60000);\n            if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}$/.test(date)) {\n                format = this.parseFormat('yyyy-mm-dd');\n            }\n            if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}[T ]\\d{1,2}\\:\\d{1,2}$/.test(date)) {\n                format = this.parseFormat('yyyy-mm-dd hh:ii');\n            }\n            if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}[T ]\\d{1,2}\\:\\d{1,2}\\:\\d{1,2}[Z]{0,1}$/.test(date)) {\n                format = this.parseFormat('yyyy-mm-dd hh:ii:ss');\n            }\n            if (/^[-+]\\d+[dmwy]([\\s,]+[-+]\\d+[dmwy])*$/.test(date)) {\n                var part_re = /([-+]\\d+)([dmwy])/,\n                    parts = date.match(/([-+]\\d+)([dmwy])/g),\n                    part, dir;\n                date = new Date();\n                for (var i = 0; i < parts.length; i++) {\n                    part = part_re.exec(parts[i]);\n                    dir = parseInt(part[1]);\n                    switch (part[2]) {\n                        case 'd':\n                            date.setUTCDate(date.getUTCDate() + dir);\n                            break;\n                        case 'm':\n                            date = Datetimepicker.prototype.moveMonth.call(Datetimepicker.prototype, date, dir);\n                            break;\n                        case 'w':\n                            date.setUTCDate(date.getUTCDate() + dir * 7);\n                            break;\n                        case 'y':\n                            date = Datetimepicker.prototype.moveYear.call(Datetimepicker.prototype, date, dir);\n                            break;\n                    }\n                }\n                return UTCDate(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds());\n            }\n            var parts = date && date.match(this.nonpunctuation) || [],\n                date = new Date(),\n                parsed = {},\n                setters_order = ['hh', 'h', 'ii', 'i', 'ss', 's', 'yyyy', 'yy', 'M', 'MM', 'm', 'mm', 'd', 'dd'],\n                setters_map = {\n                    hh: function(d, v) {\n                        return d.setUTCHours(v);\n                    },\n                    h: function(d, v) {\n                        return d.setUTCHours(v);\n                    },\n                    ii: function(d, v) {\n                        return d.setUTCMinutes(v);\n                    },\n                    i: function(d, v) {\n                        return d.setUTCMinutes(v);\n                    },\n                    ss: function(d, v) {\n                        return d.setUTCSeconds(v);\n                    },\n                    s: function(d, v) {\n                        return d.setUTCSeconds(v);\n                    },\n                    yyyy: function(d, v) {\n                        return d.setUTCFullYear(v);\n                    },\n                    yy: function(d, v) {\n                        return d.setUTCFullYear(2000 + v);\n                    },\n                    m: function(d, v) {\n                        v -= 1;\n                        while (v < 0) v += 12;\n                        v %= 12;\n                        d.setUTCMonth(v);\n                        while (d.getUTCMonth() != v)\n                            d.setUTCDate(d.getUTCDate() - 1);\n                        return d;\n                    },\n                    d: function(d, v) {\n                        return d.setUTCDate(v);\n                    }\n                },\n                val, filtered, part;\n            setters_map['M'] = setters_map['MM'] = setters_map['mm'] = setters_map['m'];\n            setters_map['dd'] = setters_map['d'];\n            date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0); //date.getHours(), date.getMinutes(), date.getSeconds());\n            if (parts.length == format.parts.length) {\n                for (var i = 0, cnt = format.parts.length; i < cnt; i++) {\n                    val = parseInt(parts[i], 10);\n                    part = format.parts[i];\n                    if (isNaN(val)) {\n                        switch (part) {\n                            case 'MM':\n                                filtered = $(dates[language].months).filter(function() {\n                                    var m = this.slice(0, parts[i].length),\n                                        p = parts[i].slice(0, m.length);\n                                    return m == p;\n                                });\n                                val = $.inArray(filtered[0], dates[language].months) + 1;\n                                break;\n                            case 'M':\n                                filtered = $(dates[language].monthsShort).filter(function() {\n                                    var m = this.slice(0, parts[i].length),\n                                        p = parts[i].slice(0, m.length);\n                                    return m == p;\n                                });\n                                val = $.inArray(filtered[0], dates[language].monthsShort) + 1;\n                                break;\n                        }\n                    }\n                    parsed[part] = val;\n                }\n                for (var i = 0, s; i < setters_order.length; i++) {\n                    s = setters_order[i];\n                    if (s in parsed && !isNaN(parsed[s]))\n                        setters_map[s](date, parsed[s])\n                }\n            }\n            return date;\n        },\n        formatDate: function(date, format, language) {\n            if (date == null) {\n                return '';\n            }\n            var val = {\n                h: date.getUTCHours(),\n                i: date.getUTCMinutes(),\n                s: date.getUTCSeconds(),\n                d: date.getUTCDate(),\n                m: date.getUTCMonth() + 1,\n                M: dates[language].monthsShort[date.getUTCMonth()],\n                MM: dates[language].months[date.getUTCMonth()],\n                yy: date.getUTCFullYear().toString().substring(2),\n                yyyy: date.getUTCFullYear()\n            };\n            val.hh = (val.h < 10 ? '0' : '') + val.h;\n            val.ii = (val.i < 10 ? '0' : '') + val.i;\n            val.ss = (val.s < 10 ? '0' : '') + val.s;\n            val.dd = (val.d < 10 ? '0' : '') + val.d;\n            val.mm = (val.m < 10 ? '0' : '') + val.m;\n            var date = [],\n                seps = $.extend([], format.separators);\n            for (var i = 0, cnt = format.parts.length; i < cnt; i++) {\n                if (seps.length)\n                    date.push(seps.shift())\n                date.push(val[format.parts[i]]);\n            }\n            return date.join('');\n        },\n        convertViewMode: function(viewMode) {\n            switch (viewMode) {\n                case 4:\n                case 'decade':\n                    viewMode = 4;\n                    break;\n                case 3:\n                case 'year':\n                    viewMode = 3;\n                    break;\n                case 2:\n                case 'month':\n                    viewMode = 2;\n                    break;\n                case 1:\n                case 'day':\n                    viewMode = 1;\n                    break;\n                case 0:\n                case 'hour':\n                    viewMode = 0;\n                    break;\n            }\n\n            return viewMode;\n        },\n        headTemplate: function(leftArrow, rightArrow) {return('<thead>' +\n            '<tr>' +\n            '<th class=\"prev\">' + leftArrow + '</th>' +\n            '<th colspan=\"5\" class=\"date-switch\"></th>' +\n            '<th class=\"next\">' + rightArrow + '</th>' +\n            '</tr>' +\n            '</thead>')},\n        contTemplate: '<tbody><tr><td colspan=\"7\"></td></tr></tbody>',\n        footTemplate: '<tfoot><tr><th colspan=\"7\" class=\"today\"></th></tr></tfoot>'\n    };\n    DPGlobal.template = function(leftArrow, rightArrow, closeIcon) {return( '<div class=\"datepicker\">' +\n        '<div class=\"datepicker-minutes\">' +\n        '<table class=\" table-condensed\">' +\n        DPGlobal.headTemplate(leftArrow, rightArrow) +\n        DPGlobal.contTemplate +\n        DPGlobal.footTemplate +\n        '</table>' +\n        '</div>' +\n        '<div class=\"datepicker-hours\">' +\n        '<table class=\" table-condensed\">' +\n        DPGlobal.headTemplate(leftArrow, rightArrow) +\n        DPGlobal.contTemplate +\n        DPGlobal.footTemplate +\n        '</table>' +\n        '</div>' +\n        '<div class=\"datepicker-days\">' +\n        '<table class=\" table-condensed\">' +\n        DPGlobal.headTemplate(leftArrow, rightArrow) +\n        '<tbody></tbody>' +\n        DPGlobal.footTemplate +\n        '</table>' +\n        '</div>' +\n        '<div class=\"datepicker-months\">' +\n        '<table class=\"table-condensed\">' +\n        DPGlobal.headTemplate(leftArrow, rightArrow) +\n        DPGlobal.contTemplate +\n        DPGlobal.footTemplate +\n        '</table>' +\n        '</div>' +\n        '<div class=\"datepicker-years\">' +\n        '<table class=\"table-condensed\">' +\n        DPGlobal.headTemplate(leftArrow, rightArrow) +\n        DPGlobal.contTemplate +\n        DPGlobal.footTemplate +\n        '</table>' +\n        '</div>' +\n        '<a class=\"button datepicker-close tiny alert right\" style=\"width:auto;\">' + closeIcon + '</a>' +\n        '</div>')};\n\n    $.fn.fdatepicker.DPGlobal = DPGlobal;\n\n}(window.jQuery);\n\n},{}],41:[function(require,module,exports){\n/**\n * German translation for foundation-datepicker\n * Sam Zurcher <sam@orelias.ch>\n */\n;(function($){\n\t$.fn.fdatepicker.dates['de'] = {\n\t\tdays: [\"Sonntag\", \"Montag\", \"Dienstag\", \"Mittwoch\", \"Donnerstag\", \"Freitag\", \"Samstag\", \"Sonntag\"],\n\t\tdaysShort: [\"Son\", \"Mon\", \"Die\", \"Mit\", \"Don\", \"Fre\", \"Sam\", \"Son\"],\n\t\tdaysMin: [\"So\", \"Mo\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\", \"So\"],\n\t\tmonths: [\"Januar\", \"Februar\", \"Mrz\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Dezember\"],\n\t\tmonthsShort: [\"Jan\", \"Feb\", \"Mr\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dez\"],\n\t\ttoday: \"Heute\"\n\t};\n}(jQuery));\n\n},{}],42:[function(require,module,exports){\n/**\n * French translation for foundation-datepicker\n * Nico Mollet <nico.mollet@gmail.com>\n */\n;(function($){\n\t$.fn.fdatepicker.dates['fr'] = {\n\t\tdays: [\"Dimanche\", \"Lundi\", \"Mardi\", \"Mercredi\", \"Jeudi\", \"Vendredi\", \"Samedi\", \"Dimanche\"],\n\t\tdaysShort: [\"Dim\", \"Lun\", \"Mar\", \"Mer\", \"Jeu\", \"Ven\", \"Sam\", \"Dim\"],\n\t\tdaysMin: [\"D\", \"L\", \"Ma\", \"Me\", \"J\", \"V\", \"S\", \"D\"],\n\t\tmonths: [\"Janvier\", \"Fvrier\", \"Mars\", \"Avril\", \"Mai\", \"Juin\", \"Juillet\", \"Aot\", \"Septembre\", \"Octobre\", \"Novembre\", \"Dcembre\"],\n\t\tmonthsShort: [\"Jan\", \"Fev\", \"Mar\", \"Avr\", \"Mai\", \"Jui\", \"Jul\", \"Aou\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n\t\ttoday: \"Aujourd'hui\"\n\t};\n}(jQuery));\n\n},{}],43:[function(require,module,exports){\n/**\n * Dutch translation for foundation-datepicker\n * Reinier Goltstein <mrgoltstein@gmail.com>\n */\n;(function($){\n\t$.fn.fdatepicker.dates['nl'] = {\n\t\tdays: [\"Zondag\", \"Maandag\", \"Dinsdag\", \"Woensdag\", \"Donderdag\", \"Vrijdag\", \"Zaterdag\", \"Zondag\"],\n\t\tdaysShort: [\"Zo\", \"Ma\", \"Di\", \"Wo\", \"Do\", \"Vr\", \"Za\", \"Zo\"],\n\t\tdaysMin: [\"Zo\", \"Ma\", \"Di\", \"Wo\", \"Do\", \"Vr\", \"Za\", \"Zo\"],\n\t\tmonths: [\"Januari\", \"Februari\", \"Maart\", \"April\", \"Mei\", \"Juni\", \"Juli\", \"Augustus\", \"September\", \"Oktober\", \"November\", \"December\"],\n\t\tmonthsShort: [\"Jan\", \"Feb\", \"Mrt\", \"Apr\", \"Mei\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dec\"],\n\t\ttoday: \"Vandaag\"\n\t};\n}(jQuery));\n\n},{}],44:[function(require,module,exports){\n/**\n * Polish translation for foundation-datepicker\n * Robert <rtpm@gazeta.pl>\n */\n;(function($){\n        $.fn.fdatepicker.dates['pl'] = {\n                days: [\"Niedziela\", \"Poniedziaek\", \"Wtorek\", \"roda\", \"Czwartek\", \"Pitek\", \"Sobota\", \"Niedziela\"],\n                daysShort: [\"Nie\", \"Pn\", \"Wt\", \"r\", \"Czw\", \"Pt\", \"So\", \"Nie\"],\n                daysMin: [\"N\", \"Pn\", \"Wt\", \"r\", \"Cz\", \"Pt\", \"So\", \"N\"],\n                months: [\"Stycze\", \"Luty\", \"Marzec\", \"Kwiecie\", \"Maj\", \"Czerwiec\", \"Lipiec\", \"Sierpie\", \"Wrzesie\", \"Padziernik\", \"Listopad\", \"Grudzie\"],\n                monthsShort: [\"Sty\", \"Lu\", \"Mar\", \"Kw\", \"Maj\", \"Cze\", \"Lip\", \"Sie\", \"Wrz\", \"Pa\", \"Lis\", \"Gru\"],\n                today: \"Dzisiaj\",\n                weekStart: 1\n        };\n}(jQuery));\n\n},{}],45:[function(require,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n!function ($) {\n\n  \"use strict\";\n\n  var FOUNDATION_VERSION = '6.3.0';\n\n  // Global Foundation object\n  // This is attached to the window, or used as a module for AMD/Browserify\n  var Foundation = {\n    version: FOUNDATION_VERSION,\n\n    /**\n     * Stores initialized plugins.\n     */\n    _plugins: {},\n\n    /**\n     * Stores generated unique ids for plugin instances\n     */\n    _uuids: [],\n\n    /**\n     * Returns a boolean for RTL support\n     */\n    rtl: function rtl() {\n      return $('html').attr('dir') === 'rtl';\n    },\n    /**\n     * Defines a Foundation plugin, adding it to the `Foundation` namespace and the list of plugins to initialize when reflowing.\n     * @param {Object} plugin - The constructor of the plugin.\n     */\n    plugin: function plugin(_plugin, name) {\n      // Object key to use when adding to global Foundation object\n      // Examples: Foundation.Reveal, Foundation.OffCanvas\n      var className = name || functionName(_plugin);\n      // Object key to use when storing the plugin, also used to create the identifying data attribute for the plugin\n      // Examples: data-reveal, data-off-canvas\n      var attrName = hyphenate(className);\n\n      // Add to the Foundation object and the plugins list (for reflowing)\n      this._plugins[attrName] = this[className] = _plugin;\n    },\n    /**\n     * @function\n     * Populates the _uuids array with pointers to each individual plugin instance.\n     * Adds the `zfPlugin` data-attribute to programmatically created plugins to allow use of $(selector).foundation(method) calls.\n     * Also fires the initialization event for each plugin, consolidating repetitive code.\n     * @param {Object} plugin - an instance of a plugin, usually `this` in context.\n     * @param {String} name - the name of the plugin, passed as a camelCased string.\n     * @fires Plugin#init\n     */\n    registerPlugin: function registerPlugin(plugin, name) {\n      var pluginName = name ? hyphenate(name) : functionName(plugin.constructor).toLowerCase();\n      plugin.uuid = this.GetYoDigits(6, pluginName);\n\n      if (!plugin.$element.attr('data-' + pluginName)) {\n        plugin.$element.attr('data-' + pluginName, plugin.uuid);\n      }\n      if (!plugin.$element.data('zfPlugin')) {\n        plugin.$element.data('zfPlugin', plugin);\n      }\n      /**\n       * Fires when the plugin has initialized.\n       * @event Plugin#init\n       */\n      plugin.$element.trigger('init.zf.' + pluginName);\n\n      this._uuids.push(plugin.uuid);\n\n      return;\n    },\n    /**\n     * @function\n     * Removes the plugins uuid from the _uuids array.\n     * Removes the zfPlugin data attribute, as well as the data-plugin-name attribute.\n     * Also fires the destroyed event for the plugin, consolidating repetitive code.\n     * @param {Object} plugin - an instance of a plugin, usually `this` in context.\n     * @fires Plugin#destroyed\n     */\n    unregisterPlugin: function unregisterPlugin(plugin) {\n      var pluginName = hyphenate(functionName(plugin.$element.data('zfPlugin').constructor));\n\n      this._uuids.splice(this._uuids.indexOf(plugin.uuid), 1);\n      plugin.$element.removeAttr('data-' + pluginName).removeData('zfPlugin')\n      /**\n       * Fires when the plugin has been destroyed.\n       * @event Plugin#destroyed\n       */\n      .trigger('destroyed.zf.' + pluginName);\n      for (var prop in plugin) {\n        plugin[prop] = null; //clean up script to prep for garbage collection.\n      }\n      return;\n    },\n\n    /**\n     * @function\n     * Causes one or more active plugins to re-initialize, resetting event listeners, recalculating positions, etc.\n     * @param {String} plugins - optional string of an individual plugin key, attained by calling `$(element).data('pluginName')`, or string of a plugin class i.e. `'dropdown'`\n     * @default If no argument is passed, reflow all currently active plugins.\n     */\n    reInit: function reInit(plugins) {\n      var isJQ = plugins instanceof $;\n      try {\n        if (isJQ) {\n          plugins.each(function () {\n            $(this).data('zfPlugin')._init();\n          });\n        } else {\n          var type = typeof plugins === 'undefined' ? 'undefined' : _typeof(plugins),\n              _this = this,\n              fns = {\n            'object': function object(plgs) {\n              plgs.forEach(function (p) {\n                p = hyphenate(p);\n                $('[data-' + p + ']').foundation('_init');\n              });\n            },\n            'string': function string() {\n              plugins = hyphenate(plugins);\n              $('[data-' + plugins + ']').foundation('_init');\n            },\n            'undefined': function undefined() {\n              this['object'](Object.keys(_this._plugins));\n            }\n          };\n          fns[type](plugins);\n        }\n      } catch (err) {\n        console.error(err);\n      } finally {\n        return plugins;\n      }\n    },\n\n    /**\n     * returns a random base-36 uid with namespacing\n     * @function\n     * @param {Number} length - number of random base-36 digits desired. Increase for more random strings.\n     * @param {String} namespace - name of plugin to be incorporated in uid, optional.\n     * @default {String} '' - if no plugin name is provided, nothing is appended to the uid.\n     * @returns {String} - unique id\n     */\n    GetYoDigits: function GetYoDigits(length, namespace) {\n      length = length || 6;\n      return Math.round(Math.pow(36, length + 1) - Math.random() * Math.pow(36, length)).toString(36).slice(1) + (namespace ? '-' + namespace : '');\n    },\n    /**\n     * Initialize plugins on any elements within `elem` (and `elem` itself) that aren't already initialized.\n     * @param {Object} elem - jQuery object containing the element to check inside. Also checks the element itself, unless it's the `document` object.\n     * @param {String|Array} plugins - A list of plugins to initialize. Leave this out to initialize everything.\n     */\n    reflow: function reflow(elem, plugins) {\n\n      // If plugins is undefined, just grab everything\n      if (typeof plugins === 'undefined') {\n        plugins = Object.keys(this._plugins);\n      }\n      // If plugins is a string, convert it to an array with one item\n      else if (typeof plugins === 'string') {\n          plugins = [plugins];\n        }\n\n      var _this = this;\n\n      // Iterate through each plugin\n      $.each(plugins, function (i, name) {\n        // Get the current plugin\n        var plugin = _this._plugins[name];\n\n        // Localize the search to all elements inside elem, as well as elem itself, unless elem === document\n        var $elem = $(elem).find('[data-' + name + ']').addBack('[data-' + name + ']');\n\n        // For each plugin found, initialize it\n        $elem.each(function () {\n          var $el = $(this),\n              opts = {};\n          // Don't double-dip on plugins\n          if ($el.data('zfPlugin')) {\n            console.warn(\"Tried to initialize \" + name + \" on an element that already has a Foundation plugin.\");\n            return;\n          }\n\n          if ($el.attr('data-options')) {\n            var thing = $el.attr('data-options').split(';').forEach(function (e, i) {\n              var opt = e.split(':').map(function (el) {\n                return el.trim();\n              });\n              if (opt[0]) opts[opt[0]] = parseValue(opt[1]);\n            });\n          }\n          try {\n            $el.data('zfPlugin', new plugin($(this), opts));\n          } catch (er) {\n            console.error(er);\n          } finally {\n            return;\n          }\n        });\n      });\n    },\n    getFnName: functionName,\n    transitionend: function transitionend($elem) {\n      var transitions = {\n        'transition': 'transitionend',\n        'WebkitTransition': 'webkitTransitionEnd',\n        'MozTransition': 'transitionend',\n        'OTransition': 'otransitionend'\n      };\n      var elem = document.createElement('div'),\n          end;\n\n      for (var t in transitions) {\n        if (typeof elem.style[t] !== 'undefined') {\n          end = transitions[t];\n        }\n      }\n      if (end) {\n        return end;\n      } else {\n        end = setTimeout(function () {\n          $elem.triggerHandler('transitionend', [$elem]);\n        }, 1);\n        return 'transitionend';\n      }\n    }\n  };\n\n  Foundation.util = {\n    /**\n     * Function for applying a debounce effect to a function call.\n     * @function\n     * @param {Function} func - Function to be called at end of timeout.\n     * @param {Number} delay - Time in ms to delay the call of `func`.\n     * @returns function\n     */\n    throttle: function throttle(func, delay) {\n      var timer = null;\n\n      return function () {\n        var context = this,\n            args = arguments;\n\n        if (timer === null) {\n          timer = setTimeout(function () {\n            func.apply(context, args);\n            timer = null;\n          }, delay);\n        }\n      };\n    }\n  };\n\n  // TODO: consider not making this a jQuery function\n  // TODO: need way to reflow vs. re-initialize\n  /**\n   * The Foundation jQuery method.\n   * @param {String|Array} method - An action to perform on the current jQuery object.\n   */\n  var foundation = function foundation(method) {\n    var type = typeof method === 'undefined' ? 'undefined' : _typeof(method),\n        $meta = $('meta.foundation-mq'),\n        $noJS = $('.no-js');\n\n    if (!$meta.length) {\n      $('<meta class=\"foundation-mq\">').appendTo(document.head);\n    }\n    if ($noJS.length) {\n      $noJS.removeClass('no-js');\n    }\n\n    if (type === 'undefined') {\n      //needs to initialize the Foundation object, or an individual plugin.\n      Foundation.MediaQuery._init();\n      Foundation.reflow(this);\n    } else if (type === 'string') {\n      //an individual method to invoke on a plugin or group of plugins\n      var args = Array.prototype.slice.call(arguments, 1); //collect all the arguments, if necessary\n      var plugClass = this.data('zfPlugin'); //determine the class of plugin\n\n      if (plugClass !== undefined && plugClass[method] !== undefined) {\n        //make sure both the class and method exist\n        if (this.length === 1) {\n          //if there's only one, call it directly.\n          plugClass[method].apply(plugClass, args);\n        } else {\n          this.each(function (i, el) {\n            //otherwise loop through the jQuery collection and invoke the method on each\n            plugClass[method].apply($(el).data('zfPlugin'), args);\n          });\n        }\n      } else {\n        //error for no class or no method\n        throw new ReferenceError(\"We're sorry, '\" + method + \"' is not an available method for \" + (plugClass ? functionName(plugClass) : 'this element') + '.');\n      }\n    } else {\n      //error for invalid argument type\n      throw new TypeError('We\\'re sorry, ' + type + ' is not a valid parameter. You must use a string representing the method you wish to invoke.');\n    }\n    return this;\n  };\n\n  window.Foundation = Foundation;\n  $.fn.foundation = foundation;\n\n  // Polyfill for requestAnimationFrame\n  (function () {\n    if (!Date.now || !window.Date.now) window.Date.now = Date.now = function () {\n      return new Date().getTime();\n    };\n\n    var vendors = ['webkit', 'moz'];\n    for (var i = 0; i < vendors.length && !window.requestAnimationFrame; ++i) {\n      var vp = vendors[i];\n      window.requestAnimationFrame = window[vp + 'RequestAnimationFrame'];\n      window.cancelAnimationFrame = window[vp + 'CancelAnimationFrame'] || window[vp + 'CancelRequestAnimationFrame'];\n    }\n    if (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent) || !window.requestAnimationFrame || !window.cancelAnimationFrame) {\n      var lastTime = 0;\n      window.requestAnimationFrame = function (callback) {\n        var now = Date.now();\n        var nextTime = Math.max(lastTime + 16, now);\n        return setTimeout(function () {\n          callback(lastTime = nextTime);\n        }, nextTime - now);\n      };\n      window.cancelAnimationFrame = clearTimeout;\n    }\n    /**\n     * Polyfill for performance.now, required by rAF\n     */\n    if (!window.performance || !window.performance.now) {\n      window.performance = {\n        start: Date.now(),\n        now: function now() {\n          return Date.now() - this.start;\n        }\n      };\n    }\n  })();\n  if (!Function.prototype.bind) {\n    Function.prototype.bind = function (oThis) {\n      if (typeof this !== 'function') {\n        // closest thing possible to the ECMAScript 5\n        // internal IsCallable function\n        throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n      }\n\n      var aArgs = Array.prototype.slice.call(arguments, 1),\n          fToBind = this,\n          fNOP = function fNOP() {},\n          fBound = function fBound() {\n        return fToBind.apply(this instanceof fNOP ? this : oThis, aArgs.concat(Array.prototype.slice.call(arguments)));\n      };\n\n      if (this.prototype) {\n        // native functions don't have a prototype\n        fNOP.prototype = this.prototype;\n      }\n      fBound.prototype = new fNOP();\n\n      return fBound;\n    };\n  }\n  // Polyfill to get the name of a function in IE9\n  function functionName(fn) {\n    if (Function.prototype.name === undefined) {\n      var funcNameRegex = /function\\s([^(]{1,})\\(/;\n      var results = funcNameRegex.exec(fn.toString());\n      return results && results.length > 1 ? results[1].trim() : \"\";\n    } else if (fn.prototype === undefined) {\n      return fn.constructor.name;\n    } else {\n      return fn.prototype.constructor.name;\n    }\n  }\n  function parseValue(str) {\n    if ('true' === str) return true;else if ('false' === str) return false;else if (!isNaN(str * 1)) return parseFloat(str);\n    return str;\n  }\n  // Convert PascalCase to kebab-case\n  // Thank you: http://stackoverflow.com/a/8955580\n  function hyphenate(str) {\n    return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n  }\n}(jQuery);\n\n},{}],46:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * Slider module.\n   * @module foundation.slider\n   * @requires foundation.util.motion\n   * @requires foundation.util.triggers\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.touch\n   */\n\n  var Slider = function () {\n    /**\n     * Creates a new instance of a slider control.\n     * @class\n     * @param {jQuery} element - jQuery object to make into a slider control.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n    function Slider(element, options) {\n      _classCallCheck(this, Slider);\n\n      this.$element = element;\n      this.options = $.extend({}, Slider.defaults, this.$element.data(), options);\n\n      this._init();\n\n      Foundation.registerPlugin(this, 'Slider');\n      Foundation.Keyboard.register('Slider', {\n        'ltr': {\n          'ARROW_RIGHT': 'increase',\n          'ARROW_UP': 'increase',\n          'ARROW_DOWN': 'decrease',\n          'ARROW_LEFT': 'decrease',\n          'SHIFT_ARROW_RIGHT': 'increase_fast',\n          'SHIFT_ARROW_UP': 'increase_fast',\n          'SHIFT_ARROW_DOWN': 'decrease_fast',\n          'SHIFT_ARROW_LEFT': 'decrease_fast'\n        },\n        'rtl': {\n          'ARROW_LEFT': 'increase',\n          'ARROW_RIGHT': 'decrease',\n          'SHIFT_ARROW_LEFT': 'increase_fast',\n          'SHIFT_ARROW_RIGHT': 'decrease_fast'\n        }\n      });\n    }\n\n    /**\n     * Initilizes the plugin by reading/setting attributes, creating collections and setting the initial position of the handle(s).\n     * @function\n     * @private\n     */\n\n\n    _createClass(Slider, [{\n      key: '_init',\n      value: function _init() {\n        this.inputs = this.$element.find('input');\n        this.handles = this.$element.find('[data-slider-handle]');\n\n        this.$handle = this.handles.eq(0);\n        this.$input = this.inputs.length ? this.inputs.eq(0) : $('#' + this.$handle.attr('aria-controls'));\n        this.$fill = this.$element.find('[data-slider-fill]').css(this.options.vertical ? 'height' : 'width', 0);\n\n        var isDbl = false,\n            _this = this;\n        if (this.options.disabled || this.$element.hasClass(this.options.disabledClass)) {\n          this.options.disabled = true;\n          this.$element.addClass(this.options.disabledClass);\n        }\n        if (!this.inputs.length) {\n          this.inputs = $().add(this.$input);\n          this.options.binding = true;\n        }\n\n        this._setInitAttr(0);\n\n        if (this.handles[1]) {\n          this.options.doubleSided = true;\n          this.$handle2 = this.handles.eq(1);\n          this.$input2 = this.inputs.length > 1 ? this.inputs.eq(1) : $('#' + this.$handle2.attr('aria-controls'));\n\n          if (!this.inputs[1]) {\n            this.inputs = this.inputs.add(this.$input2);\n          }\n          isDbl = true;\n\n          // this.$handle.triggerHandler('click.zf.slider');\n          this._setInitAttr(1);\n        }\n\n        // Set handle positions\n        this.setHandles();\n\n        this._events();\n      }\n    }, {\n      key: 'setHandles',\n      value: function setHandles() {\n        var _this2 = this;\n\n        if (this.handles[1]) {\n          this._setHandlePos(this.$handle, this.inputs.eq(0).val(), true, function () {\n            _this2._setHandlePos(_this2.$handle2, _this2.inputs.eq(1).val(), true);\n          });\n        } else {\n          this._setHandlePos(this.$handle, this.inputs.eq(0).val(), true);\n        }\n      }\n    }, {\n      key: '_reflow',\n      value: function _reflow() {\n        this.setHandles();\n      }\n      /**\n      * @function\n      * @private\n      * @param {Number} value - floating point (the value) to be transformed using to a relative position on the slider (the inverse of _value)\n      */\n\n    }, {\n      key: '_pctOfBar',\n      value: function _pctOfBar(value) {\n        var pctOfBar = percent(value - this.options.start, this.options.end - this.options.start);\n\n        switch (this.options.positionValueFunction) {\n          case \"pow\":\n            pctOfBar = this._logTransform(pctOfBar);\n            break;\n          case \"log\":\n            pctOfBar = this._powTransform(pctOfBar);\n            break;\n        }\n\n        return pctOfBar.toFixed(2);\n      }\n\n      /**\n      * @function\n      * @private\n      * @param {Number} pctOfBar - floating point, the relative position of the slider (typically between 0-1) to be transformed to a value\n      */\n\n    }, {\n      key: '_value',\n      value: function _value(pctOfBar) {\n        switch (this.options.positionValueFunction) {\n          case \"pow\":\n            pctOfBar = this._powTransform(pctOfBar);\n            break;\n          case \"log\":\n            pctOfBar = this._logTransform(pctOfBar);\n            break;\n        }\n        var value = (this.options.end - this.options.start) * pctOfBar + this.options.start;\n\n        return value;\n      }\n\n      /**\n      * @function\n      * @private\n      * @param {Number} value - floating point (typically between 0-1) to be transformed using the log function\n      */\n\n    }, {\n      key: '_logTransform',\n      value: function _logTransform(value) {\n        return baseLog(this.options.nonLinearBase, value * (this.options.nonLinearBase - 1) + 1);\n      }\n\n      /**\n      * @function\n      * @private\n      * @param {Number} value - floating point (typically between 0-1) to be transformed using the power function\n      */\n\n    }, {\n      key: '_powTransform',\n      value: function _powTransform(value) {\n        return (Math.pow(this.options.nonLinearBase, value) - 1) / (this.options.nonLinearBase - 1);\n      }\n\n      /**\n       * Sets the position of the selected handle and fill bar.\n       * @function\n       * @private\n       * @param {jQuery} $hndl - the selected handle to move.\n       * @param {Number} location - floating point between the start and end values of the slider bar.\n       * @param {Function} cb - callback function to fire on completion.\n       * @fires Slider#moved\n       * @fires Slider#changed\n       */\n\n    }, {\n      key: '_setHandlePos',\n      value: function _setHandlePos($hndl, location, noInvert, cb) {\n        // don't move if the slider has been disabled since its initialization\n        if (this.$element.hasClass(this.options.disabledClass)) {\n          return;\n        }\n        //might need to alter that slightly for bars that will have odd number selections.\n        location = parseFloat(location); //on input change events, convert string to number...grumble.\n\n        // prevent slider from running out of bounds, if value exceeds the limits set through options, override the value to min/max\n        if (location < this.options.start) {\n          location = this.options.start;\n        } else if (location > this.options.end) {\n          location = this.options.end;\n        }\n\n        var isDbl = this.options.doubleSided;\n\n        if (isDbl) {\n          //this block is to prevent 2 handles from crossing eachother. Could/should be improved.\n          if (this.handles.index($hndl) === 0) {\n            var h2Val = parseFloat(this.$handle2.attr('aria-valuenow'));\n            location = location >= h2Val ? h2Val - this.options.step : location;\n          } else {\n            var h1Val = parseFloat(this.$handle.attr('aria-valuenow'));\n            location = location <= h1Val ? h1Val + this.options.step : location;\n          }\n        }\n\n        //this is for single-handled vertical sliders, it adjusts the value to account for the slider being \"upside-down\"\n        //for click and drag events, it's weird due to the scale(-1, 1) css property\n        if (this.options.vertical && !noInvert) {\n          location = this.options.end - location;\n        }\n\n        var _this = this,\n            vert = this.options.vertical,\n            hOrW = vert ? 'height' : 'width',\n            lOrT = vert ? 'top' : 'left',\n            handleDim = $hndl[0].getBoundingClientRect()[hOrW],\n            elemDim = this.$element[0].getBoundingClientRect()[hOrW],\n\n        //percentage of bar min/max value based on click or drag point\n        pctOfBar = this._pctOfBar(location),\n\n        //number of actual pixels to shift the handle, based on the percentage obtained above\n        pxToMove = (elemDim - handleDim) * pctOfBar,\n\n        //percentage of bar to shift the handle\n        movement = (percent(pxToMove, elemDim) * 100).toFixed(this.options.decimal);\n        //fixing the decimal value for the location number, is passed to other methods as a fixed floating-point value\n        location = parseFloat(location.toFixed(this.options.decimal));\n        // declare empty object for css adjustments, only used with 2 handled-sliders\n        var css = {};\n\n        this._setValues($hndl, location);\n\n        // TODO update to calculate based on values set to respective inputs??\n        if (isDbl) {\n          var isLeftHndl = this.handles.index($hndl) === 0,\n\n          //empty variable, will be used for min-height/width for fill bar\n          dim,\n\n          //percentage w/h of the handle compared to the slider bar\n          handlePct = ~~(percent(handleDim, elemDim) * 100);\n          //if left handle, the math is slightly different than if it's the right handle, and the left/top property needs to be changed for the fill bar\n          if (isLeftHndl) {\n            //left or top percentage value to apply to the fill bar.\n            css[lOrT] = movement + '%';\n            //calculate the new min-height/width for the fill bar.\n            dim = parseFloat(this.$handle2[0].style[lOrT]) - movement + handlePct;\n            //this callback is necessary to prevent errors and allow the proper placement and initialization of a 2-handled slider\n            //plus, it means we don't care if 'dim' isNaN on init, it won't be in the future.\n            if (cb && typeof cb === 'function') {\n              cb();\n            } //this is only needed for the initialization of 2 handled sliders\n          } else {\n            //just caching the value of the left/bottom handle's left/top property\n            var handlePos = parseFloat(this.$handle[0].style[lOrT]);\n            //calculate the new min-height/width for the fill bar. Use isNaN to prevent false positives for numbers <= 0\n            //based on the percentage of movement of the handle being manipulated, less the opposing handle's left/top position, plus the percentage w/h of the handle itself\n            dim = movement - (isNaN(handlePos) ? (this.options.initialStart - this.options.start) / ((this.options.end - this.options.start) / 100) : handlePos) + handlePct;\n          }\n          // assign the min-height/width to our css object\n          css['min-' + hOrW] = dim + '%';\n        }\n\n        this.$element.one('finished.zf.animate', function () {\n          /**\n           * Fires when the handle is done moving.\n           * @event Slider#moved\n           */\n          _this.$element.trigger('moved.zf.slider', [$hndl]);\n        });\n\n        //because we don't know exactly how the handle will be moved, check the amount of time it should take to move.\n        var moveTime = this.$element.data('dragging') ? 1000 / 60 : this.options.moveTime;\n\n        Foundation.Move(moveTime, $hndl, function () {\n          // adjusting the left/top property of the handle, based on the percentage calculated above\n          // if movement isNaN, that is because the slider is hidden and we cannot determine handle width,\n          // fall back to next best guess.\n          if (isNaN(movement)) {\n            $hndl.css(lOrT, pctOfBar * 100 + '%');\n          } else {\n            $hndl.css(lOrT, movement + '%');\n          }\n\n          if (!_this.options.doubleSided) {\n            //if single-handled, a simple method to expand the fill bar\n            _this.$fill.css(hOrW, pctOfBar * 100 + '%');\n          } else {\n            //otherwise, use the css object we created above\n            _this.$fill.css(css);\n          }\n        });\n\n        /**\n         * Fires when the value has not been change for a given time.\n         * @event Slider#changed\n         */\n        clearTimeout(_this.timeout);\n        _this.timeout = setTimeout(function () {\n          _this.$element.trigger('changed.zf.slider', [$hndl]);\n        }, _this.options.changedDelay);\n      }\n\n      /**\n       * Sets the initial attribute for the slider element.\n       * @function\n       * @private\n       * @param {Number} idx - index of the current handle/input to use.\n       */\n\n    }, {\n      key: '_setInitAttr',\n      value: function _setInitAttr(idx) {\n        var initVal = idx === 0 ? this.options.initialStart : this.options.initialEnd;\n        var id = this.inputs.eq(idx).attr('id') || Foundation.GetYoDigits(6, 'slider');\n        this.inputs.eq(idx).attr({\n          'id': id,\n          'max': this.options.end,\n          'min': this.options.start,\n          'step': this.options.step\n        });\n        this.inputs.eq(idx).val(initVal);\n        this.handles.eq(idx).attr({\n          'role': 'slider',\n          'aria-controls': id,\n          'aria-valuemax': this.options.end,\n          'aria-valuemin': this.options.start,\n          'aria-valuenow': initVal,\n          'aria-orientation': this.options.vertical ? 'vertical' : 'horizontal',\n          'tabindex': 0\n        });\n      }\n\n      /**\n       * Sets the input and `aria-valuenow` values for the slider element.\n       * @function\n       * @private\n       * @param {jQuery} $handle - the currently selected handle.\n       * @param {Number} val - floating point of the new value.\n       */\n\n    }, {\n      key: '_setValues',\n      value: function _setValues($handle, val) {\n        var idx = this.options.doubleSided ? this.handles.index($handle) : 0;\n        this.inputs.eq(idx).val(val);\n        $handle.attr('aria-valuenow', val);\n      }\n\n      /**\n       * Handles events on the slider element.\n       * Calculates the new location of the current handle.\n       * If there are two handles and the bar was clicked, it determines which handle to move.\n       * @function\n       * @private\n       * @param {Object} e - the `event` object passed from the listener.\n       * @param {jQuery} $handle - the current handle to calculate for, if selected.\n       * @param {Number} val - floating point number for the new value of the slider.\n       * TODO clean this up, there's a lot of repeated code between this and the _setHandlePos fn.\n       */\n\n    }, {\n      key: '_handleEvent',\n      value: function _handleEvent(e, $handle, val) {\n        var value, hasVal;\n        if (!val) {\n          //click or drag events\n          e.preventDefault();\n          var _this = this,\n              vertical = this.options.vertical,\n              param = vertical ? 'height' : 'width',\n              direction = vertical ? 'top' : 'left',\n              eventOffset = vertical ? e.pageY : e.pageX,\n              halfOfHandle = this.$handle[0].getBoundingClientRect()[param] / 2,\n              barDim = this.$element[0].getBoundingClientRect()[param],\n              windowScroll = vertical ? $(window).scrollTop() : $(window).scrollLeft();\n\n          var elemOffset = this.$element.offset()[direction];\n\n          // touch events emulated by the touch util give position relative to screen, add window.scroll to event coordinates...\n          // best way to guess this is simulated is if clientY == pageY\n          if (e.clientY === e.pageY) {\n            eventOffset = eventOffset + windowScroll;\n          }\n          var eventFromBar = eventOffset - elemOffset;\n          var barXY;\n          if (eventFromBar < 0) {\n            barXY = 0;\n          } else if (eventFromBar > barDim) {\n            barXY = barDim;\n          } else {\n            barXY = eventFromBar;\n          }\n          var offsetPct = percent(barXY, barDim);\n\n          value = this._value(offsetPct);\n\n          // turn everything around for RTL, yay math!\n          if (Foundation.rtl() && !this.options.vertical) {\n            value = this.options.end - value;\n          }\n\n          value = _this._adjustValue(null, value);\n          //boolean flag for the setHandlePos fn, specifically for vertical sliders\n          hasVal = false;\n\n          if (!$handle) {\n            //figure out which handle it is, pass it to the next function.\n            var firstHndlPos = absPosition(this.$handle, direction, barXY, param),\n                secndHndlPos = absPosition(this.$handle2, direction, barXY, param);\n            $handle = firstHndlPos <= secndHndlPos ? this.$handle : this.$handle2;\n          }\n        } else {\n          //change event on input\n          value = this._adjustValue(null, val);\n          hasVal = true;\n        }\n\n        this._setHandlePos($handle, value, hasVal);\n      }\n\n      /**\n       * Adjustes value for handle in regard to step value. returns adjusted value\n       * @function\n       * @private\n       * @param {jQuery} $handle - the selected handle.\n       * @param {Number} value - value to adjust. used if $handle is falsy\n       */\n\n    }, {\n      key: '_adjustValue',\n      value: function _adjustValue($handle, value) {\n        var val,\n            step = this.options.step,\n            div = parseFloat(step / 2),\n            left,\n            prev_val,\n            next_val;\n        if (!!$handle) {\n          val = parseFloat($handle.attr('aria-valuenow'));\n        } else {\n          val = value;\n        }\n        left = val % step;\n        prev_val = val - left;\n        next_val = prev_val + step;\n        if (left === 0) {\n          return val;\n        }\n        val = val >= prev_val + div ? next_val : prev_val;\n        return val;\n      }\n\n      /**\n       * Adds event listeners to the slider elements.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function _events() {\n        this._eventsForHandle(this.$handle);\n        if (this.handles[1]) {\n          this._eventsForHandle(this.$handle2);\n        }\n      }\n\n      /**\n       * Adds event listeners a particular handle\n       * @function\n       * @private\n       * @param {jQuery} $handle - the current handle to apply listeners to.\n       */\n\n    }, {\n      key: '_eventsForHandle',\n      value: function _eventsForHandle($handle) {\n        var _this = this,\n            curHandle,\n            timer;\n\n        this.inputs.off('change.zf.slider').on('change.zf.slider', function (e) {\n          var idx = _this.inputs.index($(this));\n          _this._handleEvent(e, _this.handles.eq(idx), $(this).val());\n        });\n\n        if (this.options.clickSelect) {\n          this.$element.off('click.zf.slider').on('click.zf.slider', function (e) {\n            if (_this.$element.data('dragging')) {\n              return false;\n            }\n\n            if (!$(e.target).is('[data-slider-handle]')) {\n              if (_this.options.doubleSided) {\n                _this._handleEvent(e);\n              } else {\n                _this._handleEvent(e, _this.$handle);\n              }\n            }\n          });\n        }\n\n        if (this.options.draggable) {\n          this.handles.addTouch();\n\n          var $body = $('body');\n          $handle.off('mousedown.zf.slider').on('mousedown.zf.slider', function (e) {\n            $handle.addClass('is-dragging');\n            _this.$fill.addClass('is-dragging'); //\n            _this.$element.data('dragging', true);\n\n            curHandle = $(e.currentTarget);\n\n            $body.on('mousemove.zf.slider', function (e) {\n              e.preventDefault();\n              _this._handleEvent(e, curHandle);\n            }).on('mouseup.zf.slider', function (e) {\n              _this._handleEvent(e, curHandle);\n\n              $handle.removeClass('is-dragging');\n              _this.$fill.removeClass('is-dragging');\n              _this.$element.data('dragging', false);\n\n              $body.off('mousemove.zf.slider mouseup.zf.slider');\n            });\n          })\n          // prevent events triggered by touch\n          .on('selectstart.zf.slider touchmove.zf.slider', function (e) {\n            e.preventDefault();\n          });\n        }\n\n        $handle.off('keydown.zf.slider').on('keydown.zf.slider', function (e) {\n          var _$handle = $(this),\n              idx = _this.options.doubleSided ? _this.handles.index(_$handle) : 0,\n              oldValue = parseFloat(_this.inputs.eq(idx).val()),\n              newValue;\n\n          // handle keyboard event with keyboard util\n          Foundation.Keyboard.handleKey(e, 'Slider', {\n            decrease: function decrease() {\n              newValue = oldValue - _this.options.step;\n            },\n            increase: function increase() {\n              newValue = oldValue + _this.options.step;\n            },\n            decrease_fast: function decrease_fast() {\n              newValue = oldValue - _this.options.step * 10;\n            },\n            increase_fast: function increase_fast() {\n              newValue = oldValue + _this.options.step * 10;\n            },\n            handled: function handled() {\n              // only set handle pos when event was handled specially\n              e.preventDefault();\n              _this._setHandlePos(_$handle, newValue, true);\n            }\n          });\n          /*if (newValue) { // if pressed key has special function, update value\n            e.preventDefault();\n            _this._setHandlePos(_$handle, newValue);\n          }*/\n        });\n      }\n\n      /**\n       * Destroys the slider plugin.\n       */\n\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this.handles.off('.zf.slider');\n        this.inputs.off('.zf.slider');\n        this.$element.off('.zf.slider');\n\n        clearTimeout(this.timeout);\n\n        Foundation.unregisterPlugin(this);\n      }\n    }]);\n\n    return Slider;\n  }();\n\n  Slider.defaults = {\n    /**\n     * Minimum value for the slider scale.\n     * @option\n     * @example 0\n     */\n    start: 0,\n    /**\n     * Maximum value for the slider scale.\n     * @option\n     * @example 100\n     */\n    end: 100,\n    /**\n     * Minimum value change per change event.\n     * @option\n     * @example 1\n     */\n    step: 1,\n    /**\n     * Value at which the handle/input *(left handle/first input)* should be set to on initialization.\n     * @option\n     * @example 0\n     */\n    initialStart: 0,\n    /**\n     * Value at which the right handle/second input should be set to on initialization.\n     * @option\n     * @example 100\n     */\n    initialEnd: 100,\n    /**\n     * Allows the input to be located outside the container and visible. Set to by the JS\n     * @option\n     * @example false\n     */\n    binding: false,\n    /**\n     * Allows the user to click/tap on the slider bar to select a value.\n     * @option\n     * @example true\n     */\n    clickSelect: true,\n    /**\n     * Set to true and use the `vertical` class to change alignment to vertical.\n     * @option\n     * @example false\n     */\n    vertical: false,\n    /**\n     * Allows the user to drag the slider handle(s) to select a value.\n     * @option\n     * @example true\n     */\n    draggable: true,\n    /**\n     * Disables the slider and prevents event listeners from being applied. Double checked by JS with `disabledClass`.\n     * @option\n     * @example false\n     */\n    disabled: false,\n    /**\n     * Allows the use of two handles. Double checked by the JS. Changes some logic handling.\n     * @option\n     * @example false\n     */\n    doubleSided: false,\n    /**\n     * Potential future feature.\n     */\n    // steps: 100,\n    /**\n     * Number of decimal places the plugin should go to for floating point precision.\n     * @option\n     * @example 2\n     */\n    decimal: 2,\n    /**\n     * Time delay for dragged elements.\n     */\n    // dragDelay: 0,\n    /**\n     * Time, in ms, to animate the movement of a slider handle if user clicks/taps on the bar. Needs to be manually set if updating the transition time in the Sass settings.\n     * @option\n     * @example 200\n     */\n    moveTime: 200, //update this if changing the transition time in the sass\n    /**\n     * Class applied to disabled sliders.\n     * @option\n     * @example 'disabled'\n     */\n    disabledClass: 'disabled',\n    /**\n     * Will invert the default layout for a vertical<span data-tooltip title=\"who would do this???\"> </span>slider.\n     * @option\n     * @example false\n     */\n    invertVertical: false,\n    /**\n     * Milliseconds before the `changed.zf-slider` event is triggered after value change.\n     * @option\n     * @example 500\n     */\n    changedDelay: 500,\n    /**\n    * Basevalue for non-linear sliders\n    * @option\n    * @example 5\n    */\n    nonLinearBase: 5,\n    /**\n    * Basevalue for non-linear sliders, possible values are: 'linear', 'pow' & 'log'. Pow and Log use the nonLinearBase setting.\n    * @option\n    * @example 'linear'\n    */\n    positionValueFunction: 'linear'\n  };\n\n  function percent(frac, num) {\n    return frac / num;\n  }\n  function absPosition($handle, dir, clickPos, param) {\n    return Math.abs($handle.position()[dir] + $handle[param]() / 2 - clickPos);\n  }\n  function baseLog(base, value) {\n    return Math.log(value) / Math.log(base);\n  }\n\n  // Window exports\n  Foundation.plugin(Slider, 'Slider');\n}(jQuery);\n\n},{}],47:[function(require,module,exports){\n/*******************************************\n *                                         *\n * This util was created by Marius Olbertz *\n * Please thank Marius on GitHub /owlbertz *\n * or the web http://www.mariusolbertz.de/ *\n *                                         *\n ******************************************/\n\n'use strict';\n\n!function ($) {\n\n  var keyCodes = {\n    9: 'TAB',\n    13: 'ENTER',\n    27: 'ESCAPE',\n    32: 'SPACE',\n    37: 'ARROW_LEFT',\n    38: 'ARROW_UP',\n    39: 'ARROW_RIGHT',\n    40: 'ARROW_DOWN'\n  };\n\n  var commands = {};\n\n  var Keyboard = {\n    keys: getKeyCodes(keyCodes),\n\n    /**\n     * Parses the (keyboard) event and returns a String that represents its key\n     * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n     * @param {Event} event - the event generated by the event handler\n     * @return String key - String that represents the key pressed\n     */\n    parseKey: function parseKey(event) {\n      var key = keyCodes[event.which || event.keyCode] || String.fromCharCode(event.which).toUpperCase();\n\n      // Remove un-printable characters, e.g. for `fromCharCode` calls for CTRL only events\n      key = key.replace(/\\W+/, '');\n\n      if (event.shiftKey) key = 'SHIFT_' + key;\n      if (event.ctrlKey) key = 'CTRL_' + key;\n      if (event.altKey) key = 'ALT_' + key;\n\n      // Remove trailing underscore, in case only modifiers were used (e.g. only `CTRL_ALT`)\n      key = key.replace(/_$/, '');\n\n      return key;\n    },\n\n\n    /**\n     * Handles the given (keyboard) event\n     * @param {Event} event - the event generated by the event handler\n     * @param {String} component - Foundation component's name, e.g. Slider or Reveal\n     * @param {Objects} functions - collection of functions that are to be executed\n     */\n    handleKey: function handleKey(event, component, functions) {\n      var commandList = commands[component],\n          keyCode = this.parseKey(event),\n          cmds,\n          command,\n          fn;\n\n      if (!commandList) return console.warn('Component not defined!');\n\n      if (typeof commandList.ltr === 'undefined') {\n        // this component does not differentiate between ltr and rtl\n        cmds = commandList; // use plain list\n      } else {\n        // merge ltr and rtl: if document is rtl, rtl overwrites ltr and vice versa\n        if (Foundation.rtl()) cmds = $.extend({}, commandList.ltr, commandList.rtl);else cmds = $.extend({}, commandList.rtl, commandList.ltr);\n      }\n      command = cmds[keyCode];\n\n      fn = functions[command];\n      if (fn && typeof fn === 'function') {\n        // execute function  if exists\n        var returnValue = fn.apply();\n        if (functions.handled || typeof functions.handled === 'function') {\n          // execute function when event was handled\n          functions.handled(returnValue);\n        }\n      } else {\n        if (functions.unhandled || typeof functions.unhandled === 'function') {\n          // execute function when event was not handled\n          functions.unhandled();\n        }\n      }\n    },\n\n\n    /**\n     * Finds all focusable elements within the given `$element`\n     * @param {jQuery} $element - jQuery object to search within\n     * @return {jQuery} $focusable - all focusable elements within `$element`\n     */\n    findFocusable: function findFocusable($element) {\n      if (!$element) {\n        return false;\n      }\n      return $element.find('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]').filter(function () {\n        if (!$(this).is(':visible') || $(this).attr('tabindex') < 0) {\n          return false;\n        } //only have visible elements and those that have a tabindex greater or equal 0\n        return true;\n      });\n    },\n\n\n    /**\n     * Returns the component name name\n     * @param {Object} component - Foundation component, e.g. Slider or Reveal\n     * @return String componentName\n     */\n\n    register: function register(componentName, cmds) {\n      commands[componentName] = cmds;\n    },\n\n\n    /**\n     * Traps the focus in the given element.\n     * @param  {jQuery} $element  jQuery object to trap the foucs into.\n     */\n    trapFocus: function trapFocus($element) {\n      var $focusable = Foundation.Keyboard.findFocusable($element),\n          $firstFocusable = $focusable.eq(0),\n          $lastFocusable = $focusable.eq(-1);\n\n      $element.on('keydown.zf.trapfocus', function (event) {\n        if (event.target === $lastFocusable[0] && Foundation.Keyboard.parseKey(event) === 'TAB') {\n          event.preventDefault();\n          $firstFocusable.focus();\n        } else if (event.target === $firstFocusable[0] && Foundation.Keyboard.parseKey(event) === 'SHIFT_TAB') {\n          event.preventDefault();\n          $lastFocusable.focus();\n        }\n      });\n    },\n\n    /**\n     * Releases the trapped focus from the given element.\n     * @param  {jQuery} $element  jQuery object to release the focus for.\n     */\n    releaseFocus: function releaseFocus($element) {\n      $element.off('keydown.zf.trapfocus');\n    }\n  };\n\n  /*\n   * Constants for easier comparing.\n   * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n   */\n  function getKeyCodes(kcs) {\n    var k = {};\n    for (var kc in kcs) {\n      k[kcs[kc]] = kcs[kc];\n    }return k;\n  }\n\n  Foundation.Keyboard = Keyboard;\n}(jQuery);\n\n},{}],48:[function(require,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n!function ($) {\n\n  // Default set of media queries\n  var defaultQueries = {\n    'default': 'only screen',\n    landscape: 'only screen and (orientation: landscape)',\n    portrait: 'only screen and (orientation: portrait)',\n    retina: 'only screen and (-webkit-min-device-pixel-ratio: 2),' + 'only screen and (min--moz-device-pixel-ratio: 2),' + 'only screen and (-o-min-device-pixel-ratio: 2/1),' + 'only screen and (min-device-pixel-ratio: 2),' + 'only screen and (min-resolution: 192dpi),' + 'only screen and (min-resolution: 2dppx)'\n  };\n\n  var MediaQuery = {\n    queries: [],\n\n    current: '',\n\n    /**\n     * Initializes the media query helper, by extracting the breakpoint list from the CSS and activating the breakpoint watcher.\n     * @function\n     * @private\n     */\n    _init: function _init() {\n      var self = this;\n      var extractedStyles = $('.foundation-mq').css('font-family');\n      var namedQueries;\n\n      namedQueries = parseStyleToObject(extractedStyles);\n\n      for (var key in namedQueries) {\n        if (namedQueries.hasOwnProperty(key)) {\n          self.queries.push({\n            name: key,\n            value: 'only screen and (min-width: ' + namedQueries[key] + ')'\n          });\n        }\n      }\n\n      this.current = this._getCurrentSize();\n\n      this._watcher();\n    },\n\n\n    /**\n     * Checks if the screen is at least as wide as a breakpoint.\n     * @function\n     * @param {String} size - Name of the breakpoint to check.\n     * @returns {Boolean} `true` if the breakpoint matches, `false` if it's smaller.\n     */\n    atLeast: function atLeast(size) {\n      var query = this.get(size);\n\n      if (query) {\n        return window.matchMedia(query).matches;\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Checks if the screen matches to a breakpoint.\n     * @function\n     * @param {String} size - Name of the breakpoint to check, either 'small only' or 'small'. Omitting 'only' falls back to using atLeast() method.\n     * @returns {Boolean} `true` if the breakpoint matches, `false` if it does not.\n     */\n    is: function is(size) {\n      size = size.trim().split(' ');\n      if (size.length > 1 && size[1] === 'only') {\n        if (size[0] === this._getCurrentSize()) return true;\n      } else {\n        return this.atLeast(size[0]);\n      }\n      return false;\n    },\n\n\n    /**\n     * Gets the media query of a breakpoint.\n     * @function\n     * @param {String} size - Name of the breakpoint to get.\n     * @returns {String|null} - The media query of the breakpoint, or `null` if the breakpoint doesn't exist.\n     */\n    get: function get(size) {\n      for (var i in this.queries) {\n        if (this.queries.hasOwnProperty(i)) {\n          var query = this.queries[i];\n          if (size === query.name) return query.value;\n        }\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Gets the current breakpoint name by testing every breakpoint and returning the last one to match (the biggest one).\n     * @function\n     * @private\n     * @returns {String} Name of the current breakpoint.\n     */\n    _getCurrentSize: function _getCurrentSize() {\n      var matched;\n\n      for (var i = 0; i < this.queries.length; i++) {\n        var query = this.queries[i];\n\n        if (window.matchMedia(query.value).matches) {\n          matched = query;\n        }\n      }\n\n      if ((typeof matched === 'undefined' ? 'undefined' : _typeof(matched)) === 'object') {\n        return matched.name;\n      } else {\n        return matched;\n      }\n    },\n\n\n    /**\n     * Activates the breakpoint watcher, which fires an event on the window whenever the breakpoint changes.\n     * @function\n     * @private\n     */\n    _watcher: function _watcher() {\n      var _this = this;\n\n      $(window).on('resize.zf.mediaquery', function () {\n        var newSize = _this._getCurrentSize(),\n            currentSize = _this.current;\n\n        if (newSize !== currentSize) {\n          // Change the current media query\n          _this.current = newSize;\n\n          // Broadcast the media query change on the window\n          $(window).trigger('changed.zf.mediaquery', [newSize, currentSize]);\n        }\n      });\n    }\n  };\n\n  Foundation.MediaQuery = MediaQuery;\n\n  // matchMedia() polyfill - Test a CSS media type/query in JS.\n  // Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license\n  window.matchMedia || (window.matchMedia = function () {\n    'use strict';\n\n    // For browsers that support matchMedium api such as IE 9 and webkit\n\n    var styleMedia = window.styleMedia || window.media;\n\n    // For those that don't support matchMedium\n    if (!styleMedia) {\n      var style = document.createElement('style'),\n          script = document.getElementsByTagName('script')[0],\n          info = null;\n\n      style.type = 'text/css';\n      style.id = 'matchmediajs-test';\n\n      script && script.parentNode && script.parentNode.insertBefore(style, script);\n\n      // 'style.currentStyle' is used by IE <= 8 and 'window.getComputedStyle' for all other browsers\n      info = 'getComputedStyle' in window && window.getComputedStyle(style, null) || style.currentStyle;\n\n      styleMedia = {\n        matchMedium: function matchMedium(media) {\n          var text = '@media ' + media + '{ #matchmediajs-test { width: 1px; } }';\n\n          // 'style.styleSheet' is used by IE <= 8 and 'style.textContent' for all other browsers\n          if (style.styleSheet) {\n            style.styleSheet.cssText = text;\n          } else {\n            style.textContent = text;\n          }\n\n          // Test if media query is true or false\n          return info.width === '1px';\n        }\n      };\n    }\n\n    return function (media) {\n      return {\n        matches: styleMedia.matchMedium(media || 'all'),\n        media: media || 'all'\n      };\n    };\n  }());\n\n  // Thank you: https://github.com/sindresorhus/query-string\n  function parseStyleToObject(str) {\n    var styleObject = {};\n\n    if (typeof str !== 'string') {\n      return styleObject;\n    }\n\n    str = str.trim().slice(1, -1); // browsers re-quote string style values\n\n    if (!str) {\n      return styleObject;\n    }\n\n    styleObject = str.split('&').reduce(function (ret, param) {\n      var parts = param.replace(/\\+/g, ' ').split('=');\n      var key = parts[0];\n      var val = parts[1];\n      key = decodeURIComponent(key);\n\n      // missing `=` should be `null`:\n      // http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n      val = val === undefined ? null : decodeURIComponent(val);\n\n      if (!ret.hasOwnProperty(key)) {\n        ret[key] = val;\n      } else if (Array.isArray(ret[key])) {\n        ret[key].push(val);\n      } else {\n        ret[key] = [ret[key], val];\n      }\n      return ret;\n    }, {});\n\n    return styleObject;\n  }\n\n  Foundation.MediaQuery = MediaQuery;\n}(jQuery);\n\n},{}],49:[function(require,module,exports){\n'use strict';\n\n!function ($) {\n\n  /**\n   * Motion module.\n   * @module foundation.motion\n   */\n\n  var initClasses = ['mui-enter', 'mui-leave'];\n  var activeClasses = ['mui-enter-active', 'mui-leave-active'];\n\n  var Motion = {\n    animateIn: function animateIn(element, animation, cb) {\n      animate(true, element, animation, cb);\n    },\n\n    animateOut: function animateOut(element, animation, cb) {\n      animate(false, element, animation, cb);\n    }\n  };\n\n  function Move(duration, elem, fn) {\n    var anim,\n        prog,\n        start = null;\n    // console.log('called');\n\n    if (duration === 0) {\n      fn.apply(elem);\n      elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);\n      return;\n    }\n\n    function move(ts) {\n      if (!start) start = ts;\n      // console.log(start, ts);\n      prog = ts - start;\n      fn.apply(elem);\n\n      if (prog < duration) {\n        anim = window.requestAnimationFrame(move, elem);\n      } else {\n        window.cancelAnimationFrame(anim);\n        elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);\n      }\n    }\n    anim = window.requestAnimationFrame(move);\n  }\n\n  /**\n   * Animates an element in or out using a CSS transition class.\n   * @function\n   * @private\n   * @param {Boolean} isIn - Defines if the animation is in or out.\n   * @param {Object} element - jQuery or HTML object to animate.\n   * @param {String} animation - CSS class to use.\n   * @param {Function} cb - Callback to run when animation is finished.\n   */\n  function animate(isIn, element, animation, cb) {\n    element = $(element).eq(0);\n\n    if (!element.length) return;\n\n    var initClass = isIn ? initClasses[0] : initClasses[1];\n    var activeClass = isIn ? activeClasses[0] : activeClasses[1];\n\n    // Set up the animation\n    reset();\n\n    element.addClass(animation).css('transition', 'none');\n\n    requestAnimationFrame(function () {\n      element.addClass(initClass);\n      if (isIn) element.show();\n    });\n\n    // Start the animation\n    requestAnimationFrame(function () {\n      element[0].offsetWidth;\n      element.css('transition', '').addClass(activeClass);\n    });\n\n    // Clean up the animation when it finishes\n    element.one(Foundation.transitionend(element), finish);\n\n    // Hides the element (for out animations), resets the element, and runs a callback\n    function finish() {\n      if (!isIn) element.hide();\n      reset();\n      if (cb) cb.apply(element);\n    }\n\n    // Resets transitions and removes motion-specific classes\n    function reset() {\n      element[0].style.transitionDuration = 0;\n      element.removeClass(initClass + ' ' + activeClass + ' ' + animation);\n    }\n  }\n\n  Foundation.Move = Move;\n  Foundation.Motion = Motion;\n}(jQuery);\n\n},{}],50:[function(require,module,exports){\n'use strict';\n\n//**************************************************\n//**Work inspired by multiple jquery swipe plugins**\n//**Done by Yohai Ararat ***************************\n//**************************************************\n(function ($) {\n\n\t$.spotSwipe = {\n\t\tversion: '1.0.0',\n\t\tenabled: 'ontouchstart' in document.documentElement,\n\t\tpreventDefault: false,\n\t\tmoveThreshold: 75,\n\t\ttimeThreshold: 200\n\t};\n\n\tvar startPosX,\n\t    startPosY,\n\t    startTime,\n\t    elapsedTime,\n\t    isMoving = false;\n\n\tfunction onTouchEnd() {\n\t\t//  alert(this);\n\t\tthis.removeEventListener('touchmove', onTouchMove);\n\t\tthis.removeEventListener('touchend', onTouchEnd);\n\t\tisMoving = false;\n\t}\n\n\tfunction onTouchMove(e) {\n\t\tif ($.spotSwipe.preventDefault) {\n\t\t\te.preventDefault();\n\t\t}\n\t\tif (isMoving) {\n\t\t\tvar x = e.touches[0].pageX;\n\t\t\tvar y = e.touches[0].pageY;\n\t\t\tvar dx = startPosX - x;\n\t\t\tvar dy = startPosY - y;\n\t\t\tvar dir;\n\t\t\telapsedTime = new Date().getTime() - startTime;\n\t\t\tif (Math.abs(dx) >= $.spotSwipe.moveThreshold && elapsedTime <= $.spotSwipe.timeThreshold) {\n\t\t\t\tdir = dx > 0 ? 'left' : 'right';\n\t\t\t}\n\t\t\t// else if(Math.abs(dy) >= $.spotSwipe.moveThreshold && elapsedTime <= $.spotSwipe.timeThreshold) {\n\t\t\t//   dir = dy > 0 ? 'down' : 'up';\n\t\t\t// }\n\t\t\tif (dir) {\n\t\t\t\te.preventDefault();\n\t\t\t\tonTouchEnd.call(this);\n\t\t\t\t$(this).trigger('swipe', dir).trigger('swipe' + dir);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction onTouchStart(e) {\n\t\tif (e.touches.length == 1) {\n\t\t\tstartPosX = e.touches[0].pageX;\n\t\t\tstartPosY = e.touches[0].pageY;\n\t\t\tisMoving = true;\n\t\t\tstartTime = new Date().getTime();\n\t\t\tthis.addEventListener('touchmove', onTouchMove, false);\n\t\t\tthis.addEventListener('touchend', onTouchEnd, false);\n\t\t}\n\t}\n\n\tfunction init() {\n\t\tthis.addEventListener && this.addEventListener('touchstart', onTouchStart, false);\n\t}\n\n\tfunction teardown() {\n\t\tthis.removeEventListener('touchstart', onTouchStart);\n\t}\n\n\t$.event.special.swipe = { setup: init };\n\n\t$.each(['left', 'up', 'down', 'right'], function () {\n\t\t$.event.special['swipe' + this] = { setup: function setup() {\n\t\t\t\t$(this).on('swipe', $.noop);\n\t\t\t} };\n\t});\n})(jQuery);\n/****************************************************\n * Method for adding psuedo drag events to elements *\n ***************************************************/\n!function ($) {\n\t$.fn.addTouch = function () {\n\t\tthis.each(function (i, el) {\n\t\t\t$(el).bind('touchstart touchmove touchend touchcancel', function () {\n\t\t\t\t//we pass the original event object because the jQuery event\n\t\t\t\t//object is normalized to w3c specs and does not provide the TouchList\n\t\t\t\thandleTouch(event);\n\t\t\t});\n\t\t});\n\n\t\tvar handleTouch = function handleTouch(event) {\n\t\t\tvar touches = event.changedTouches,\n\t\t\t    first = touches[0],\n\t\t\t    eventTypes = {\n\t\t\t\ttouchstart: 'mousedown',\n\t\t\t\ttouchmove: 'mousemove',\n\t\t\t\ttouchend: 'mouseup'\n\t\t\t},\n\t\t\t    type = eventTypes[event.type],\n\t\t\t    simulatedEvent;\n\n\t\t\tif ('MouseEvent' in window && typeof window.MouseEvent === 'function') {\n\t\t\t\tsimulatedEvent = new window.MouseEvent(type, {\n\t\t\t\t\t'bubbles': true,\n\t\t\t\t\t'cancelable': true,\n\t\t\t\t\t'screenX': first.screenX,\n\t\t\t\t\t'screenY': first.screenY,\n\t\t\t\t\t'clientX': first.clientX,\n\t\t\t\t\t'clientY': first.clientY\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsimulatedEvent = document.createEvent('MouseEvent');\n\t\t\t\tsimulatedEvent.initMouseEvent(type, true, true, window, 1, first.screenX, first.screenY, first.clientX, first.clientY, false, false, false, false, 0 /*left*/, null);\n\t\t\t}\n\t\t\tfirst.target.dispatchEvent(simulatedEvent);\n\t\t};\n\t};\n}(jQuery);\n\n//**********************************\n//**From the jQuery Mobile Library**\n//**need to recreate functionality**\n//**and try to improve if possible**\n//**********************************\n\n/* Removing the jQuery function ****\n************************************\n\n(function( $, window, undefined ) {\n\n\tvar $document = $( document ),\n\t\t// supportTouch = $.mobile.support.touch,\n\t\ttouchStartEvent = 'touchstart'//supportTouch ? \"touchstart\" : \"mousedown\",\n\t\ttouchStopEvent = 'touchend'//supportTouch ? \"touchend\" : \"mouseup\",\n\t\ttouchMoveEvent = 'touchmove'//supportTouch ? \"touchmove\" : \"mousemove\";\n\n\t// setup new event shortcuts\n\t$.each( ( \"touchstart touchmove touchend \" +\n\t\t\"swipe swipeleft swiperight\" ).split( \" \" ), function( i, name ) {\n\n\t\t$.fn[ name ] = function( fn ) {\n\t\t\treturn fn ? this.bind( name, fn ) : this.trigger( name );\n\t\t};\n\n\t\t// jQuery < 1.8\n\t\tif ( $.attrFn ) {\n\t\t\t$.attrFn[ name ] = true;\n\t\t}\n\t});\n\n\tfunction triggerCustomEvent( obj, eventType, event, bubble ) {\n\t\tvar originalType = event.type;\n\t\tevent.type = eventType;\n\t\tif ( bubble ) {\n\t\t\t$.event.trigger( event, undefined, obj );\n\t\t} else {\n\t\t\t$.event.dispatch.call( obj, event );\n\t\t}\n\t\tevent.type = originalType;\n\t}\n\n\t// also handles taphold\n\n\t// Also handles swipeleft, swiperight\n\t$.event.special.swipe = {\n\n\t\t// More than this horizontal displacement, and we will suppress scrolling.\n\t\tscrollSupressionThreshold: 30,\n\n\t\t// More time than this, and it isn't a swipe.\n\t\tdurationThreshold: 1000,\n\n\t\t// Swipe horizontal displacement must be more than this.\n\t\thorizontalDistanceThreshold: window.devicePixelRatio >= 2 ? 15 : 30,\n\n\t\t// Swipe vertical displacement must be less than this.\n\t\tverticalDistanceThreshold: window.devicePixelRatio >= 2 ? 15 : 30,\n\n\t\tgetLocation: function ( event ) {\n\t\t\tvar winPageX = window.pageXOffset,\n\t\t\t\twinPageY = window.pageYOffset,\n\t\t\t\tx = event.clientX,\n\t\t\t\ty = event.clientY;\n\n\t\t\tif ( event.pageY === 0 && Math.floor( y ) > Math.floor( event.pageY ) ||\n\t\t\t\tevent.pageX === 0 && Math.floor( x ) > Math.floor( event.pageX ) ) {\n\n\t\t\t\t// iOS4 clientX/clientY have the value that should have been\n\t\t\t\t// in pageX/pageY. While pageX/page/ have the value 0\n\t\t\t\tx = x - winPageX;\n\t\t\t\ty = y - winPageY;\n\t\t\t} else if ( y < ( event.pageY - winPageY) || x < ( event.pageX - winPageX ) ) {\n\n\t\t\t\t// Some Android browsers have totally bogus values for clientX/Y\n\t\t\t\t// when scrolling/zooming a page. Detectable since clientX/clientY\n\t\t\t\t// should never be smaller than pageX/pageY minus page scroll\n\t\t\t\tx = event.pageX - winPageX;\n\t\t\t\ty = event.pageY - winPageY;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t};\n\t\t},\n\n\t\tstart: function( event ) {\n\t\t\tvar data = event.originalEvent.touches ?\n\t\t\t\t\tevent.originalEvent.touches[ 0 ] : event,\n\t\t\t\tlocation = $.event.special.swipe.getLocation( data );\n\t\t\treturn {\n\t\t\t\t\t\ttime: ( new Date() ).getTime(),\n\t\t\t\t\t\tcoords: [ location.x, location.y ],\n\t\t\t\t\t\torigin: $( event.target )\n\t\t\t\t\t};\n\t\t},\n\n\t\tstop: function( event ) {\n\t\t\tvar data = event.originalEvent.touches ?\n\t\t\t\t\tevent.originalEvent.touches[ 0 ] : event,\n\t\t\t\tlocation = $.event.special.swipe.getLocation( data );\n\t\t\treturn {\n\t\t\t\t\t\ttime: ( new Date() ).getTime(),\n\t\t\t\t\t\tcoords: [ location.x, location.y ]\n\t\t\t\t\t};\n\t\t},\n\n\t\thandleSwipe: function( start, stop, thisObject, origTarget ) {\n\t\t\tif ( stop.time - start.time < $.event.special.swipe.durationThreshold &&\n\t\t\t\tMath.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.horizontalDistanceThreshold &&\n\t\t\t\tMath.abs( start.coords[ 1 ] - stop.coords[ 1 ] ) < $.event.special.swipe.verticalDistanceThreshold ) {\n\t\t\t\tvar direction = start.coords[0] > stop.coords[ 0 ] ? \"swipeleft\" : \"swiperight\";\n\n\t\t\t\ttriggerCustomEvent( thisObject, \"swipe\", $.Event( \"swipe\", { target: origTarget, swipestart: start, swipestop: stop }), true );\n\t\t\t\ttriggerCustomEvent( thisObject, direction,$.Event( direction, { target: origTarget, swipestart: start, swipestop: stop } ), true );\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\n\t\t},\n\n\t\t// This serves as a flag to ensure that at most one swipe event event is\n\t\t// in work at any given time\n\t\teventInProgress: false,\n\n\t\tsetup: function() {\n\t\t\tvar events,\n\t\t\t\tthisObject = this,\n\t\t\t\t$this = $( thisObject ),\n\t\t\t\tcontext = {};\n\n\t\t\t// Retrieve the events data for this element and add the swipe context\n\t\t\tevents = $.data( this, \"mobile-events\" );\n\t\t\tif ( !events ) {\n\t\t\t\tevents = { length: 0 };\n\t\t\t\t$.data( this, \"mobile-events\", events );\n\t\t\t}\n\t\t\tevents.length++;\n\t\t\tevents.swipe = context;\n\n\t\t\tcontext.start = function( event ) {\n\n\t\t\t\t// Bail if we're already working on a swipe event\n\t\t\t\tif ( $.event.special.swipe.eventInProgress ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$.event.special.swipe.eventInProgress = true;\n\n\t\t\t\tvar stop,\n\t\t\t\t\tstart = $.event.special.swipe.start( event ),\n\t\t\t\t\torigTarget = event.target,\n\t\t\t\t\temitted = false;\n\n\t\t\t\tcontext.move = function( event ) {\n\t\t\t\t\tif ( !start || event.isDefaultPrevented() ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tstop = $.event.special.swipe.stop( event );\n\t\t\t\t\tif ( !emitted ) {\n\t\t\t\t\t\temitted = $.event.special.swipe.handleSwipe( start, stop, thisObject, origTarget );\n\t\t\t\t\t\tif ( emitted ) {\n\n\t\t\t\t\t\t\t// Reset the context to make way for the next swipe event\n\t\t\t\t\t\t\t$.event.special.swipe.eventInProgress = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// prevent scrolling\n\t\t\t\t\tif ( Math.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.scrollSupressionThreshold ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tcontext.stop = function() {\n\t\t\t\t\t\temitted = true;\n\n\t\t\t\t\t\t// Reset the context to make way for the next swipe event\n\t\t\t\t\t\t$.event.special.swipe.eventInProgress = false;\n\t\t\t\t\t\t$document.off( touchMoveEvent, context.move );\n\t\t\t\t\t\tcontext.move = null;\n\t\t\t\t};\n\n\t\t\t\t$document.on( touchMoveEvent, context.move )\n\t\t\t\t\t.one( touchStopEvent, context.stop );\n\t\t\t};\n\t\t\t$this.on( touchStartEvent, context.start );\n\t\t},\n\n\t\tteardown: function() {\n\t\t\tvar events, context;\n\n\t\t\tevents = $.data( this, \"mobile-events\" );\n\t\t\tif ( events ) {\n\t\t\t\tcontext = events.swipe;\n\t\t\t\tdelete events.swipe;\n\t\t\t\tevents.length--;\n\t\t\t\tif ( events.length === 0 ) {\n\t\t\t\t\t$.removeData( this, \"mobile-events\" );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( context ) {\n\t\t\t\tif ( context.start ) {\n\t\t\t\t\t$( this ).off( touchStartEvent, context.start );\n\t\t\t\t}\n\t\t\t\tif ( context.move ) {\n\t\t\t\t\t$document.off( touchMoveEvent, context.move );\n\t\t\t\t}\n\t\t\t\tif ( context.stop ) {\n\t\t\t\t\t$document.off( touchStopEvent, context.stop );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t$.each({\n\t\tswipeleft: \"swipe.left\",\n\t\tswiperight: \"swipe.right\"\n\t}, function( event, sourceEvent ) {\n\n\t\t$.event.special[ event ] = {\n\t\t\tsetup: function() {\n\t\t\t\t$( this ).bind( sourceEvent, $.noop );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\t$( this ).unbind( sourceEvent );\n\t\t\t}\n\t\t};\n\t});\n})( jQuery, this );\n*/\n\n},{}],51:[function(require,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n!function ($) {\n\n  var MutationObserver = function () {\n    var prefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];\n    for (var i = 0; i < prefixes.length; i++) {\n      if (prefixes[i] + 'MutationObserver' in window) {\n        return window[prefixes[i] + 'MutationObserver'];\n      }\n    }\n    return false;\n  }();\n\n  var triggers = function triggers(el, type) {\n    el.data(type).split(' ').forEach(function (id) {\n      $('#' + id)[type === 'close' ? 'trigger' : 'triggerHandler'](type + '.zf.trigger', [el]);\n    });\n  };\n  // Elements with [data-open] will reveal a plugin that supports it when clicked.\n  $(document).on('click.zf.trigger', '[data-open]', function () {\n    triggers($(this), 'open');\n  });\n\n  // Elements with [data-close] will close a plugin that supports it when clicked.\n  // If used without a value on [data-close], the event will bubble, allowing it to close a parent component.\n  $(document).on('click.zf.trigger', '[data-close]', function () {\n    var id = $(this).data('close');\n    if (id) {\n      triggers($(this), 'close');\n    } else {\n      $(this).trigger('close.zf.trigger');\n    }\n  });\n\n  // Elements with [data-toggle] will toggle a plugin that supports it when clicked.\n  $(document).on('click.zf.trigger', '[data-toggle]', function () {\n    var id = $(this).data('toggle');\n    if (id) {\n      triggers($(this), 'toggle');\n    } else {\n      $(this).trigger('toggle.zf.trigger');\n    }\n  });\n\n  // Elements with [data-closable] will respond to close.zf.trigger events.\n  $(document).on('close.zf.trigger', '[data-closable]', function (e) {\n    e.stopPropagation();\n    var animation = $(this).data('closable');\n\n    if (animation !== '') {\n      Foundation.Motion.animateOut($(this), animation, function () {\n        $(this).trigger('closed.zf');\n      });\n    } else {\n      $(this).fadeOut().trigger('closed.zf');\n    }\n  });\n\n  $(document).on('focus.zf.trigger blur.zf.trigger', '[data-toggle-focus]', function () {\n    var id = $(this).data('toggle-focus');\n    $('#' + id).triggerHandler('toggle.zf.trigger', [$(this)]);\n  });\n\n  /**\n  * Fires once after all other scripts have loaded\n  * @function\n  * @private\n  */\n  $(window).on('load', function () {\n    checkListeners();\n  });\n\n  function checkListeners() {\n    eventsListener();\n    resizeListener();\n    scrollListener();\n    mutateListener();\n    closemeListener();\n  }\n\n  //******** only fires this function once on load, if there's something to watch ********\n  function closemeListener(pluginName) {\n    var yetiBoxes = $('[data-yeti-box]'),\n        plugNames = ['dropdown', 'tooltip', 'reveal'];\n\n    if (pluginName) {\n      if (typeof pluginName === 'string') {\n        plugNames.push(pluginName);\n      } else if ((typeof pluginName === 'undefined' ? 'undefined' : _typeof(pluginName)) === 'object' && typeof pluginName[0] === 'string') {\n        plugNames.concat(pluginName);\n      } else {\n        console.error('Plugin names must be strings');\n      }\n    }\n    if (yetiBoxes.length) {\n      var listeners = plugNames.map(function (name) {\n        return 'closeme.zf.' + name;\n      }).join(' ');\n\n      $(window).off(listeners).on(listeners, function (e, pluginId) {\n        var plugin = e.namespace.split('.')[0];\n        var plugins = $('[data-' + plugin + ']').not('[data-yeti-box=\"' + pluginId + '\"]');\n\n        plugins.each(function () {\n          var _this = $(this);\n\n          _this.triggerHandler('close.zf.trigger', [_this]);\n        });\n      });\n    }\n  }\n\n  function resizeListener(debounce) {\n    var timer = void 0,\n        $nodes = $('[data-resize]');\n    if ($nodes.length) {\n      $(window).off('resize.zf.trigger').on('resize.zf.trigger', function (e) {\n        if (timer) {\n          clearTimeout(timer);\n        }\n\n        timer = setTimeout(function () {\n\n          if (!MutationObserver) {\n            //fallback for IE 9\n            $nodes.each(function () {\n              $(this).triggerHandler('resizeme.zf.trigger');\n            });\n          }\n          //trigger all listening elements and signal a resize event\n          $nodes.attr('data-events', \"resize\");\n        }, debounce || 10); //default time to emit resize event\n      });\n    }\n  }\n\n  function scrollListener(debounce) {\n    var timer = void 0,\n        $nodes = $('[data-scroll]');\n    if ($nodes.length) {\n      $(window).off('scroll.zf.trigger').on('scroll.zf.trigger', function (e) {\n        if (timer) {\n          clearTimeout(timer);\n        }\n\n        timer = setTimeout(function () {\n\n          if (!MutationObserver) {\n            //fallback for IE 9\n            $nodes.each(function () {\n              $(this).triggerHandler('scrollme.zf.trigger');\n            });\n          }\n          //trigger all listening elements and signal a scroll event\n          $nodes.attr('data-events', \"scroll\");\n        }, debounce || 10); //default time to emit scroll event\n      });\n    }\n  }\n\n  function mutateListener(debounce) {\n    var $nodes = $('[data-mutate]');\n    if ($nodes.length && MutationObserver) {\n      //trigger all listening elements and signal a mutate event\n      //no IE 9 or 10\n      $nodes.each(function () {\n        $(this).triggerHandler('mutateme.zf.trigger');\n      });\n    }\n  }\n\n  function eventsListener() {\n    if (!MutationObserver) {\n      return false;\n    }\n    var nodes = document.querySelectorAll('[data-resize], [data-scroll], [data-mutate]');\n\n    //element callback\n    var listeningElementsMutation = function listeningElementsMutation(mutationRecordsList) {\n      var $target = $(mutationRecordsList[0].target);\n\n      //trigger the event handler for the element depending on type\n      switch (mutationRecordsList[0].type) {\n\n        case \"attributes\":\n          if ($target.attr(\"data-events\") === \"scroll\" && mutationRecordsList[0].attributeName === \"data-events\") {\n            $target.triggerHandler('scrollme.zf.trigger', [$target, window.pageYOffset]);\n          }\n          if ($target.attr(\"data-events\") === \"resize\" && mutationRecordsList[0].attributeName === \"data-events\") {\n            $target.triggerHandler('resizeme.zf.trigger', [$target]);\n          }\n          if (mutationRecordsList[0].attributeName === \"style\") {\n            $target.closest(\"[data-mutate]\").attr(\"data-events\", \"mutate\");\n            $target.closest(\"[data-mutate]\").triggerHandler('mutateme.zf.trigger', [$target.closest(\"[data-mutate]\")]);\n          }\n          break;\n\n        case \"childList\":\n          $target.closest(\"[data-mutate]\").attr(\"data-events\", \"mutate\");\n          $target.closest(\"[data-mutate]\").triggerHandler('mutateme.zf.trigger', [$target.closest(\"[data-mutate]\")]);\n          break;\n\n        default:\n          return false;\n        //nothing\n      }\n    };\n\n    if (nodes.length) {\n      //for each element that needs to listen for resizing, scrolling, or mutation add a single observer\n      for (var i = 0; i <= nodes.length - 1; i++) {\n        var elementObserver = new MutationObserver(listeningElementsMutation);\n        elementObserver.observe(nodes[i], { attributes: true, childList: true, characterData: false, subtree: true, attributeFilter: [\"data-events\", \"style\"] });\n      }\n    }\n  }\n\n  // ------------------------------------\n\n  // [PH]\n  // Foundation.CheckWatchers = checkWatchers;\n  Foundation.IHearYou = checkListeners;\n  // Foundation.ISeeYou = scrollListener;\n  // Foundation.IFeelYou = closemeListener;\n}(jQuery);\n\n// function domMutationObserver(debounce) {\n//   // !!! This is coming soon and needs more work; not active  !!! //\n//   var timer,\n//   nodes = document.querySelectorAll('[data-mutate]');\n//   //\n//   if (nodes.length) {\n//     // var MutationObserver = (function () {\n//     //   var prefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];\n//     //   for (var i=0; i < prefixes.length; i++) {\n//     //     if (prefixes[i] + 'MutationObserver' in window) {\n//     //       return window[prefixes[i] + 'MutationObserver'];\n//     //     }\n//     //   }\n//     //   return false;\n//     // }());\n//\n//\n//     //for the body, we need to listen for all changes effecting the style and class attributes\n//     var bodyObserver = new MutationObserver(bodyMutation);\n//     bodyObserver.observe(document.body, { attributes: true, childList: true, characterData: false, subtree:true, attributeFilter:[\"style\", \"class\"]});\n//\n//\n//     //body callback\n//     function bodyMutation(mutate) {\n//       //trigger all listening elements and signal a mutation event\n//       if (timer) { clearTimeout(timer); }\n//\n//       timer = setTimeout(function() {\n//         bodyObserver.disconnect();\n//         $('[data-mutate]').attr('data-events',\"mutate\");\n//       }, debounce || 150);\n//     }\n//   }\n// }\n\n},{}],52:[function(require,module,exports){\n/*!\n * jQuery JavaScript Library v2.1.1\n * http://jquery.com/\n *\n * Includes Sizzle.js\n * http://sizzlejs.com/\n *\n * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2014-05-01T17:11Z\n */\n\n(function( global, factory ) {\n\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\t\t// For CommonJS and CommonJS-like environments where a proper window is present,\n\t\t// execute the factory and get jQuery\n\t\t// For environments that do not inherently posses a window with a document\n\t\t// (such as Node.js), expose a jQuery-making factory as module.exports\n\t\t// This accentuates the need for the creation of a real window\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\n\t\t// See ticket #14549 for more info\n\t\tmodule.exports = global.document ?\n\t\t\tfactory( global, true ) :\n\t\t\tfunction( w ) {\n\t\t\t\tif ( !w.document ) {\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\n\t\t\t\t}\n\t\t\t\treturn factory( w );\n\t\t\t};\n\t} else {\n\t\tfactory( global );\n\t}\n\n// Pass this if window is not defined yet\n}(typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\n\n// Can't do this because several apps including ASP.NET trace\n// the stack via arguments.caller.callee and Firefox dies if\n// you try to trace through \"use strict\" call chains. (#13335)\n// Support: Firefox 18+\n//\n\nvar arr = [];\n\nvar slice = arr.slice;\n\nvar concat = arr.concat;\n\nvar push = arr.push;\n\nvar indexOf = arr.indexOf;\n\nvar class2type = {};\n\nvar toString = class2type.toString;\n\nvar hasOwn = class2type.hasOwnProperty;\n\nvar support = {};\n\n\n\nvar\n\t// Use the correct document accordingly with window argument (sandbox)\n\tdocument = window.document,\n\n\tversion = \"2.1.1\",\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\n\t\treturn new jQuery.fn.init( selector, context );\n\t},\n\n\t// Support: Android<4.1\n\t// Make sure we trim BOM and NBSP\n\trtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\n\n\t// Matches dashed string for camelizing\n\trmsPrefix = /^-ms-/,\n\trdashAlpha = /-([\\da-z])/gi,\n\n\t// Used by jQuery.camelCase as callback to replace()\n\tfcamelCase = function( all, letter ) {\n\t\treturn letter.toUpperCase();\n\t};\n\njQuery.fn = jQuery.prototype = {\n\t// The current version of jQuery being used\n\tjquery: version,\n\n\tconstructor: jQuery,\n\n\t// Start with an empty selector\n\tselector: \"\",\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\ttoArray: function() {\n\t\treturn slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\t\treturn num != null ?\n\n\t\t\t// Return just the one element from the set\n\t\t\t( num < 0 ? this[ num + this.length ] : this[ num ] ) :\n\n\t\t\t// Return all the elements in a clean array\n\t\t\tslice.call( this );\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\t\tret.context = this.context;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\t// (You can seed the arguments with an array of args, but this is\n\t// only used internally.)\n\teach: function( callback, args ) {\n\t\treturn jQuery.each( this, callback, args );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map(this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t}));\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[j] ] : [] );\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor(null);\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: push,\n\tsort: arr.sort,\n\tsplice: arr.splice\n};\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[0] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\n\t\t// skip the boolean and the target\n\t\ttarget = arguments[ i ] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !jQuery.isFunction(target) ) {\n\t\ttarget = {};\n\t}\n\n\t// extend jQuery itself if only one argument is passed\n\tif ( i === length ) {\n\t\ttarget = this;\n\t\ti--;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\t\t// Only deal with non-null/undefined values\n\t\tif ( (options = arguments[ i ]) != null ) {\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tsrc = target[ name ];\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)) ) ) {\n\t\t\t\t\tif ( copyIsArray ) {\n\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\tclone = src && jQuery.isArray(src) ? src : [];\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src && jQuery.isPlainObject(src) ? src : {};\n\t\t\t\t\t}\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend({\n\t// Unique for each copy of jQuery on the page\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// Assume jQuery is ready without the ready module\n\tisReady: true,\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\tnoop: function() {},\n\n\t// See test/unit/core.js for details concerning isFunction.\n\t// Since version 1.3, DOM methods and functions like alert\n\t// aren't supported. They return false on IE (#2968).\n\tisFunction: function( obj ) {\n\t\treturn jQuery.type(obj) === \"function\";\n\t},\n\n\tisArray: Array.isArray,\n\n\tisWindow: function( obj ) {\n\t\treturn obj != null && obj === obj.window;\n\t},\n\n\tisNumeric: function( obj ) {\n\t\t// parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\n\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t// subtraction forces infinities to NaN\n\t\treturn !jQuery.isArray( obj ) && obj - parseFloat( obj ) >= 0;\n\t},\n\n\tisPlainObject: function( obj ) {\n\t\t// Not plain objects:\n\t\t// - Any object or value whose internal [[Class]] property is not \"[object Object]\"\n\t\t// - DOM nodes\n\t\t// - window\n\t\tif ( jQuery.type( obj ) !== \"object\" || obj.nodeType || jQuery.isWindow( obj ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( obj.constructor &&\n\t\t\t\t!hasOwn.call( obj.constructor.prototype, \"isPrototypeOf\" ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// If the function hasn't returned already, we're confident that\n\t\t// |obj| is a plain object, created by {} or constructed with new Object\n\t\treturn true;\n\t},\n\n\tisEmptyObject: function( obj ) {\n\t\tvar name;\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\ttype: function( obj ) {\n\t\tif ( obj == null ) {\n\t\t\treturn obj + \"\";\n\t\t}\n\t\t// Support: Android < 4.0, iOS < 6 (functionish RegExp)\n\t\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\t\tclass2type[ toString.call(obj) ] || \"object\" :\n\t\t\ttypeof obj;\n\t},\n\n\t// Evaluates a script in a global context\n\tglobalEval: function( code ) {\n\t\tvar script,\n\t\t\tindirect = eval;\n\n\t\tcode = jQuery.trim( code );\n\n\t\tif ( code ) {\n\t\t\t// If the code includes a valid, prologue position\n\t\t\t// strict mode pragma, execute code by injecting a\n\t\t\t// script tag into the document.\n\t\t\tif ( code.indexOf(\"use strict\") === 1 ) {\n\t\t\t\tscript = document.createElement(\"script\");\n\t\t\t\tscript.text = code;\n\t\t\t\tdocument.head.appendChild( script ).parentNode.removeChild( script );\n\t\t\t} else {\n\t\t\t// Otherwise, avoid the DOM node creation, insertion\n\t\t\t// and removal by using an indirect global eval\n\t\t\t\tindirect( code );\n\t\t\t}\n\t\t}\n\t},\n\n\t// Convert dashed to camelCase; used by the css and data modules\n\t// Microsoft forgot to hump their vendor prefix (#9572)\n\tcamelCase: function( string ) {\n\t\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n\t},\n\n\tnodeName: function( elem, name ) {\n\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\t},\n\n\t// args is for internal usage only\n\teach: function( obj, callback, args ) {\n\t\tvar value,\n\t\t\ti = 0,\n\t\t\tlength = obj.length,\n\t\t\tisArray = isArraylike( obj );\n\n\t\tif ( args ) {\n\t\t\tif ( isArray ) {\n\t\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\t\tvalue = callback.apply( obj[ i ], args );\n\n\t\t\t\t\tif ( value === false ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( i in obj ) {\n\t\t\t\t\tvalue = callback.apply( obj[ i ], args );\n\n\t\t\t\t\tif ( value === false ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// A special, fast, case for the most common use of each\n\t\t} else {\n\t\t\tif ( isArray ) {\n\t\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\t\tvalue = callback.call( obj[ i ], i, obj[ i ] );\n\n\t\t\t\t\tif ( value === false ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( i in obj ) {\n\t\t\t\t\tvalue = callback.call( obj[ i ], i, obj[ i ] );\n\n\t\t\t\t\tif ( value === false ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t// Support: Android<4.1\n\ttrim: function( text ) {\n\t\treturn text == null ?\n\t\t\t\"\" :\n\t\t\t( text + \"\" ).replace( rtrim, \"\" );\n\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArraylike( Object(arr) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpush.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\n\t},\n\n\tmerge: function( first, second ) {\n\t\tvar len = +second.length,\n\t\t\tj = 0,\n\t\t\ti = first.length;\n\n\t\tfor ( ; j < len; j++ ) {\n\t\t\tfirst[ i++ ] = second[ j ];\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, invert ) {\n\t\tvar callbackInverse,\n\t\t\tmatches = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tcallbackExpect = !invert;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\n\t\t\tif ( callbackInverse !== callbackExpect ) {\n\t\t\t\tmatches.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar value,\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tisArray = isArraylike( elems ),\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their new values\n\t\tif ( isArray ) {\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn concat.apply( [], ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// Bind a function to a context, optionally partially applying any\n\t// arguments.\n\tproxy: function( fn, context ) {\n\t\tvar tmp, args, proxy;\n\n\t\tif ( typeof context === \"string\" ) {\n\t\t\ttmp = fn[ context ];\n\t\t\tcontext = fn;\n\t\t\tfn = tmp;\n\t\t}\n\n\t\t// Quick check to determine if target is callable, in the spec\n\t\t// this throws a TypeError, but we will just return undefined.\n\t\tif ( !jQuery.isFunction( fn ) ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Simulated bind\n\t\targs = slice.call( arguments, 2 );\n\t\tproxy = function() {\n\t\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\n\t\t};\n\n\t\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\t\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\t\treturn proxy;\n\t},\n\n\tnow: Date.now,\n\n\t// jQuery.support is not used in Core but other projects attach their\n\t// properties to it so it needs to exist.\n\tsupport: support\n});\n\n// Populate the class2type map\njQuery.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function(i, name) {\n\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n});\n\nfunction isArraylike( obj ) {\n\tvar length = obj.length,\n\t\ttype = jQuery.type( obj );\n\n\tif ( type === \"function\" || jQuery.isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\tif ( obj.nodeType === 1 && length ) {\n\t\treturn true;\n\t}\n\n\treturn type === \"array\" || length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\n}\nvar Sizzle =\n/*!\n * Sizzle CSS Selector Engine v1.10.19\n * http://sizzlejs.com/\n *\n * Copyright 2013 jQuery Foundation, Inc. and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2014-04-18\n */\n(function( window ) {\n\nvar i,\n\tsupport,\n\tExpr,\n\tgetText,\n\tisXML,\n\ttokenize,\n\tcompile,\n\tselect,\n\toutermostContext,\n\tsortInput,\n\thasDuplicate,\n\n\t// Local document vars\n\tsetDocument,\n\tdocument,\n\tdocElem,\n\tdocumentIsHTML,\n\trbuggyQSA,\n\trbuggyMatches,\n\tmatches,\n\tcontains,\n\n\t// Instance-specific data\n\texpando = \"sizzle\" + -(new Date()),\n\tpreferredDoc = window.document,\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\tsortOrder = function( a, b ) {\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn 0;\n\t},\n\n\t// General-purpose constants\n\tstrundefined = typeof undefined,\n\tMAX_NEGATIVE = 1 << 31,\n\n\t// Instance methods\n\thasOwn = ({}).hasOwnProperty,\n\tarr = [],\n\tpop = arr.pop,\n\tpush_native = arr.push,\n\tpush = arr.push,\n\tslice = arr.slice,\n\t// Use a stripped-down indexOf if we can't use a native one\n\tindexOf = arr.indexOf || function( elem ) {\n\t\tvar i = 0,\n\t\t\tlen = this.length;\n\t\tfor ( ; i < len; i++ ) {\n\t\t\tif ( this[i] === elem ) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t},\n\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",\n\n\t// Regular expressions\n\n\t// Whitespace characters http://www.w3.org/TR/css3-selectors/#whitespace\n\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n\t// http://www.w3.org/TR/css3-syntax/#characters\n\tcharacterEncoding = \"(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+\",\n\n\t// Loosely modeled on CSS identifier characters\n\t// An unquoted value should be a CSS identifier http://www.w3.org/TR/css3-selectors/#attribute-selectors\n\t// Proper syntax: http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier\n\tidentifier = characterEncoding.replace( \"w\", \"w#\" ),\n\n\t// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + characterEncoding + \")(?:\" + whitespace +\n\t\t// Operator (capture 2)\n\t\t\"*([*^$|!~]?=)\" + whitespace +\n\t\t// \"Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]\"\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" + whitespace +\n\t\t\"*\\\\]\",\n\n\tpseudos = \":(\" + characterEncoding + \")(?:\\\\((\" +\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n\t\t// 2. simple (capture 6)\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n\t\t// 3. anything else (capture 2)\n\t\t\".*\" +\n\t\t\")\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trcombinators = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" + whitespace + \"*\" ),\n\n\trattributeQuotes = new RegExp( \"=\" + whitespace + \"*([^\\\\]'\\\"]*?)\" + whitespace + \"*\\\\]\", \"g\" ),\n\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\t\"ID\": new RegExp( \"^#(\" + characterEncoding + \")\" ),\n\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + characterEncoding + \")\" ),\n\t\t\"TAG\": new RegExp( \"^(\" + characterEncoding.replace( \"w\", \"w*\" ) + \")\" ),\n\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\n\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\n\t\t\"CHILD\": new RegExp( \"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" + whitespace +\n\t\t\t\"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" + whitespace +\n\t\t\t\"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\t\"bool\": new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\t\"needsContext\": new RegExp( \"^\" + whitespace + \"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" +\n\t\t\twhitespace + \"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\trnative = /^[^{]+\\{\\s*\\[native \\w/,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trsibling = /[+~]/,\n\trescape = /'|\\\\/g,\n\n\t// CSS escapes http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = new RegExp( \"\\\\\\\\([\\\\da-f]{1,6}\" + whitespace + \"?|(\" + whitespace + \")|.)\", \"ig\" ),\n\tfunescape = function( _, escaped, escapedWhitespace ) {\n\t\tvar high = \"0x\" + escaped - 0x10000;\n\t\t// NaN means non-codepoint\n\t\t// Support: Firefox<24\n\t\t// Workaround erroneous numeric interpretation of +\"0x\"\n\t\treturn high !== high || escapedWhitespace ?\n\t\t\tescaped :\n\t\t\thigh < 0 ?\n\t\t\t\t// BMP codepoint\n\t\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\t\t// Supplemental Plane codepoint (surrogate pair)\n\t\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t};\n\n// Optimize for push.apply( _, NodeList )\ntry {\n\tpush.apply(\n\t\t(arr = slice.call( preferredDoc.childNodes )),\n\t\tpreferredDoc.childNodes\n\t);\n\t// Support: Android<4.0\n\t// Detect silently failing push.apply\n\tarr[ preferredDoc.childNodes.length ].nodeType;\n} catch ( e ) {\n\tpush = { apply: arr.length ?\n\n\t\t// Leverage slice if possible\n\t\tfunction( target, els ) {\n\t\t\tpush_native.apply( target, slice.call(els) );\n\t\t} :\n\n\t\t// Support: IE<9\n\t\t// Otherwise append directly\n\t\tfunction( target, els ) {\n\t\t\tvar j = target.length,\n\t\t\t\ti = 0;\n\t\t\t// Can't trust NodeList.length\n\t\t\twhile ( (target[j++] = els[i++]) ) {}\n\t\t\ttarget.length = j - 1;\n\t\t}\n\t};\n}\n\nfunction Sizzle( selector, context, results, seed ) {\n\tvar match, elem, m, nodeType,\n\t\t// QSA vars\n\t\ti, groups, old, nid, newContext, newSelector;\n\n\tif ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {\n\t\tsetDocument( context );\n\t}\n\n\tcontext = context || document;\n\tresults = results || [];\n\n\tif ( !selector || typeof selector !== \"string\" ) {\n\t\treturn results;\n\t}\n\n\tif ( (nodeType = context.nodeType) !== 1 && nodeType !== 9 ) {\n\t\treturn [];\n\t}\n\n\tif ( documentIsHTML && !seed ) {\n\n\t\t// Shortcuts\n\t\tif ( (match = rquickExpr.exec( selector )) ) {\n\t\t\t// Speed-up: Sizzle(\"#ID\")\n\t\t\tif ( (m = match[1]) ) {\n\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\telem = context.getElementById( m );\n\t\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\n\t\t\t\t\t// nodes that are no longer in the document (jQuery #6963)\n\t\t\t\t\tif ( elem && elem.parentNode ) {\n\t\t\t\t\t\t// Handle the case where IE, Opera, and Webkit return items\n\t\t\t\t\t\t// by name instead of ID\n\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Context is not a document\n\t\t\t\t\tif ( context.ownerDocument && (elem = context.ownerDocument.getElementById( m )) &&\n\t\t\t\t\t\tcontains( context, elem ) && elem.id === m ) {\n\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Speed-up: Sizzle(\"TAG\")\n\t\t\t} else if ( match[2] ) {\n\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\n\t\t\t\treturn results;\n\n\t\t\t// Speed-up: Sizzle(\".CLASS\")\n\t\t\t} else if ( (m = match[3]) && support.getElementsByClassName && context.getElementsByClassName ) {\n\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\n\t\t\t\treturn results;\n\t\t\t}\n\t\t}\n\n\t\t// QSA path\n\t\tif ( support.qsa && (!rbuggyQSA || !rbuggyQSA.test( selector )) ) {\n\t\t\tnid = old = expando;\n\t\t\tnewContext = context;\n\t\t\tnewSelector = nodeType === 9 && selector;\n\n\t\t\t// qSA works strangely on Element-rooted queries\n\t\t\t// We can work around this by specifying an extra ID on the root\n\t\t\t// and working up from there (Thanks to Andrew Dupont for the technique)\n\t\t\t// IE 8 doesn't work on object elements\n\t\t\tif ( nodeType === 1 && context.nodeName.toLowerCase() !== \"object\" ) {\n\t\t\t\tgroups = tokenize( selector );\n\n\t\t\t\tif ( (old = context.getAttribute(\"id\")) ) {\n\t\t\t\t\tnid = old.replace( rescape, \"\\\\$&\" );\n\t\t\t\t} else {\n\t\t\t\t\tcontext.setAttribute( \"id\", nid );\n\t\t\t\t}\n\t\t\t\tnid = \"[id='\" + nid + \"'] \";\n\n\t\t\t\ti = groups.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tgroups[i] = nid + toSelector( groups[i] );\n\t\t\t\t}\n\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) || context;\n\t\t\t\tnewSelector = groups.join(\",\");\n\t\t\t}\n\n\t\t\tif ( newSelector ) {\n\t\t\t\ttry {\n\t\t\t\t\tpush.apply( results,\n\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\n\t\t\t\t\t);\n\t\t\t\t\treturn results;\n\t\t\t\t} catch(qsaError) {\n\t\t\t\t} finally {\n\t\t\t\t\tif ( !old ) {\n\t\t\t\t\t\tcontext.removeAttribute(\"id\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrim, \"$1\" ), context, results, seed );\n}\n\n/**\n * Create key-value caches of limited size\n * @returns {Function(string, Object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar keys = [];\n\n\tfunction cache( key, value ) {\n\t\t// Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn (cache[ key + \" \" ] = value);\n\t}\n\treturn cache;\n}\n\n/**\n * Mark a function for special use by Sizzle\n * @param {Function} fn The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param {Function} fn Passed the created div and expects a boolean result\n */\nfunction assert( fn ) {\n\tvar div = document.createElement(\"div\");\n\n\ttry {\n\t\treturn !!fn( div );\n\t} catch (e) {\n\t\treturn false;\n\t} finally {\n\t\t// Remove from its parent by default\n\t\tif ( div.parentNode ) {\n\t\t\tdiv.parentNode.removeChild( div );\n\t\t}\n\t\t// release memory in IE\n\t\tdiv = null;\n\t}\n}\n\n/**\n * Adds the same handler for all of the specified attrs\n * @param {String} attrs Pipe-separated list of attributes\n * @param {Function} handler The method that will be applied\n */\nfunction addHandle( attrs, handler ) {\n\tvar arr = attrs.split(\"|\"),\n\t\ti = attrs.length;\n\n\twhile ( i-- ) {\n\t\tExpr.attrHandle[ arr[i] ] = handler;\n\t}\n}\n\n/**\n * Checks document order of two siblings\n * @param {Element} a\n * @param {Element} b\n * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\n */\nfunction siblingCheck( a, b ) {\n\tvar cur = b && a,\n\t\tdiff = cur && a.nodeType === 1 && b.nodeType === 1 &&\n\t\t\t( ~b.sourceIndex || MAX_NEGATIVE ) -\n\t\t\t( ~a.sourceIndex || MAX_NEGATIVE );\n\n\t// Use IE sourceIndex if available on both nodes\n\tif ( diff ) {\n\t\treturn diff;\n\t}\n\n\t// Check if b follows a\n\tif ( cur ) {\n\t\twhile ( (cur = cur.nextSibling) ) {\n\t\t\tif ( cur === b ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a ? 1 : -1;\n}\n\n/**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn name === \"input\" && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn (name === \"input\" || name === \"button\") && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction(function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction(function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ (j = matchIndexes[i]) ] ) {\n\t\t\t\t\tseed[j] = !(matches[j] = seed[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Checks a node for validity as a Sizzle context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\nfunction testContext( context ) {\n\treturn context && typeof context.getElementsByTagName !== strundefined && context;\n}\n\n// Expose support vars for convenience\nsupport = Sizzle.support = {};\n\n/**\n * Detects XML nodes\n * @param {Element|Object} elem An element or a document\n * @returns {Boolean} True iff elem is a non-HTML XML node\n */\nisXML = Sizzle.isXML = function( elem ) {\n\t// documentElement is verified for cases where it doesn't yet exist\n\t// (such as loading iframes in IE - #4833)\n\tvar documentElement = elem && (elem.ownerDocument || elem).documentElement;\n\treturn documentElement ? documentElement.nodeName !== \"HTML\" : false;\n};\n\n/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [doc] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\nsetDocument = Sizzle.setDocument = function( node ) {\n\tvar hasCompare,\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc,\n\t\tparent = doc.defaultView;\n\n\t// If no document and documentElement is available, return\n\tif ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Set our document\n\tdocument = doc;\n\tdocElem = doc.documentElement;\n\n\t// Support tests\n\tdocumentIsHTML = !isXML( doc );\n\n\t// Support: IE>8\n\t// If iframe document is assigned to \"document\" variable and if iframe has been reloaded,\n\t// IE will throw \"permission denied\" error when accessing \"document\" variable, see jQuery #13936\n\t// IE6-8 do not support the defaultView property so parent will be undefined\n\tif ( parent && parent !== parent.top ) {\n\t\t// IE11 does not have attachEvent, so all must suffer\n\t\tif ( parent.addEventListener ) {\n\t\t\tparent.addEventListener( \"unload\", function() {\n\t\t\t\tsetDocument();\n\t\t\t}, false );\n\t\t} else if ( parent.attachEvent ) {\n\t\t\tparent.attachEvent( \"onunload\", function() {\n\t\t\t\tsetDocument();\n\t\t\t});\n\t\t}\n\t}\n\n\t/* Attributes\n\t---------------------------------------------------------------------- */\n\n\t// Support: IE<8\n\t// Verify that getAttribute really returns attributes and not properties (excepting IE8 booleans)\n\tsupport.attributes = assert(function( div ) {\n\t\tdiv.className = \"i\";\n\t\treturn !div.getAttribute(\"className\");\n\t});\n\n\t/* getElement(s)By*\n\t---------------------------------------------------------------------- */\n\n\t// Check if getElementsByTagName(\"*\") returns only elements\n\tsupport.getElementsByTagName = assert(function( div ) {\n\t\tdiv.appendChild( doc.createComment(\"\") );\n\t\treturn !div.getElementsByTagName(\"*\").length;\n\t});\n\n\t// Check if getElementsByClassName can be trusted\n\tsupport.getElementsByClassName = rnative.test( doc.getElementsByClassName ) && assert(function( div ) {\n\t\tdiv.innerHTML = \"<div class='a'></div><div class='a i'></div>\";\n\n\t\t// Support: Safari<4\n\t\t// Catch class over-caching\n\t\tdiv.firstChild.className = \"i\";\n\t\t// Support: Opera<10\n\t\t// Catch gEBCN failure to find non-leading classes\n\t\treturn div.getElementsByClassName(\"i\").length === 2;\n\t});\n\n\t// Support: IE<10\n\t// Check if getElementById returns elements by name\n\t// The broken getElementById methods don't pick up programatically-set names,\n\t// so use a roundabout getElementsByName test\n\tsupport.getById = assert(function( div ) {\n\t\tdocElem.appendChild( div ).id = expando;\n\t\treturn !doc.getElementsByName || !doc.getElementsByName( expando ).length;\n\t});\n\n\t// ID find and filter\n\tif ( support.getById ) {\n\t\tExpr.find[\"ID\"] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== strundefined && documentIsHTML ) {\n\t\t\t\tvar m = context.getElementById( id );\n\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\n\t\t\t\t// nodes that are no longer in the document #6963\n\t\t\t\treturn m && m.parentNode ? [ m ] : [];\n\t\t\t}\n\t\t};\n\t\tExpr.filter[\"ID\"] = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute(\"id\") === attrId;\n\t\t\t};\n\t\t};\n\t} else {\n\t\t// Support: IE6/7\n\t\t// getElementById is not reliable as a find shortcut\n\t\tdelete Expr.find[\"ID\"];\n\n\t\tExpr.filter[\"ID\"] =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== strundefined && elem.getAttributeNode(\"id\");\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find[\"TAG\"] = support.getElementsByTagName ?\n\t\tfunction( tag, context ) {\n\t\t\tif ( typeof context.getElementsByTagName !== strundefined ) {\n\t\t\t\treturn context.getElementsByTagName( tag );\n\t\t\t}\n\t\t} :\n\t\tfunction( tag, context ) {\n\t\t\tvar elem,\n\t\t\t\ttmp = [],\n\t\t\t\ti = 0,\n\t\t\t\tresults = context.getElementsByTagName( tag );\n\n\t\t\t// Filter out possible comments\n\t\t\tif ( tag === \"*\" ) {\n\t\t\t\twhile ( (elem = results[i++]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\ttmp.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn tmp;\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t// Class\n\tExpr.find[\"CLASS\"] = support.getElementsByClassName && function( className, context ) {\n\t\tif ( typeof context.getElementsByClassName !== strundefined && documentIsHTML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n\t// QSA and matchesSelector support\n\n\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\n\trbuggyMatches = [];\n\n\t// qSa(:focus) reports false when true (Chrome 21)\n\t// We allow this because of a bug in IE8/9 that throws an error\n\t// whenever `document.activeElement` is accessed on an iframe\n\t// So, we allow :focus to pass through QSA all the time to avoid the IE error\n\t// See http://bugs.jquery.com/ticket/13378\n\trbuggyQSA = [];\n\n\tif ( (support.qsa = rnative.test( doc.querySelectorAll )) ) {\n\t\t// Build QSA regex\n\t\t// Regex strategy adopted from Diego Perini\n\t\tassert(function( div ) {\n\t\t\t// Select is set to empty string on purpose\n\t\t\t// This is to test IE's treatment of not explicitly\n\t\t\t// setting a boolean content attribute,\n\t\t\t// since its presence should be enough\n\t\t\t// http://bugs.jquery.com/ticket/12359\n\t\t\tdiv.innerHTML = \"<select msallowclip=''><option selected=''></option></select>\";\n\n\t\t\t// Support: IE8, Opera 11-12.16\n\t\t\t// Nothing should be selected when empty strings follow ^= or $= or *=\n\t\t\t// The test attribute must be unknown in Opera but \"safe\" for WinRT\n\t\t\t// http://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\n\t\t\tif ( div.querySelectorAll(\"[msallowclip^='']\").length ) {\n\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Support: IE8\n\t\t\t// Boolean attributes and \"value\" are not treated correctly\n\t\t\tif ( !div.querySelectorAll(\"[selected]\").length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\n\t\t\t}\n\n\t\t\t// Webkit/Opera - :checked should return selected option elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !div.querySelectorAll(\":checked\").length ) {\n\t\t\t\trbuggyQSA.push(\":checked\");\n\t\t\t}\n\t\t});\n\n\t\tassert(function( div ) {\n\t\t\t// Support: Windows 8 Native Apps\n\t\t\t// The type and name attributes are restricted during .innerHTML assignment\n\t\t\tvar input = doc.createElement(\"input\");\n\t\t\tinput.setAttribute( \"type\", \"hidden\" );\n\t\t\tdiv.appendChild( input ).setAttribute( \"name\", \"D\" );\n\n\t\t\t// Support: IE8\n\t\t\t// Enforce case-sensitivity of name attribute\n\t\t\tif ( div.querySelectorAll(\"[name=d]\").length ) {\n\t\t\t\trbuggyQSA.push( \"name\" + whitespace + \"*[*^$|!~]?=\" );\n\t\t\t}\n\n\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !div.querySelectorAll(\":enabled\").length ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Opera 10-11 does not throw on post-comma invalid pseudos\n\t\t\tdiv.querySelectorAll(\"*,:x\");\n\t\t\trbuggyQSA.push(\",.*:\");\n\t\t});\n\t}\n\n\tif ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||\n\t\tdocElem.webkitMatchesSelector ||\n\t\tdocElem.mozMatchesSelector ||\n\t\tdocElem.oMatchesSelector ||\n\t\tdocElem.msMatchesSelector) )) ) {\n\n\t\tassert(function( div ) {\n\t\t\t// Check to see if it's possible to do matchesSelector\n\t\t\t// on a disconnected node (IE 9)\n\t\t\tsupport.disconnectedMatch = matches.call( div, \"div\" );\n\n\t\t\t// This should fail with an exception\n\t\t\t// Gecko does not error, returns false instead\n\t\t\tmatches.call( div, \"[s!='']:x\" );\n\t\t\trbuggyMatches.push( \"!=\", pseudos );\n\t\t});\n\t}\n\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join(\"|\") );\n\trbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join(\"|\") );\n\n\t/* Contains\n\t---------------------------------------------------------------------- */\n\thasCompare = rnative.test( docElem.compareDocumentPosition );\n\n\t// Element contains another\n\t// Purposefully does not implement inclusive descendent\n\t// As in, an element does not contain itself\n\tcontains = hasCompare || rnative.test( docElem.contains ) ?\n\t\tfunction( a, b ) {\n\t\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\n\t\t\t\tbup = b && b.parentNode;\n\t\t\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\t\t\t\tadown.contains ?\n\t\t\t\t\tadown.contains( bup ) :\n\t\t\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t\t\t));\n\t\t} :\n\t\tfunction( a, b ) {\n\t\t\tif ( b ) {\n\t\t\t\twhile ( (b = b.parentNode) ) {\n\t\t\t\t\tif ( b === a ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t/* Sorting\n\t---------------------------------------------------------------------- */\n\n\t// Document order sorting\n\tsortOrder = hasCompare ?\n\tfunction( a, b ) {\n\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Sort on method existence if only one input has compareDocumentPosition\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\t\tif ( compare ) {\n\t\t\treturn compare;\n\t\t}\n\n\t\t// Calculate position if both inputs belong to the same document\n\t\tcompare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?\n\t\t\ta.compareDocumentPosition( b ) :\n\n\t\t\t// Otherwise we know they are disconnected\n\t\t\t1;\n\n\t\t// Disconnected nodes\n\t\tif ( compare & 1 ||\n\t\t\t(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {\n\n\t\t\t// Choose the first element that is related to our preferred document\n\t\t\tif ( a === doc || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif ( b === doc || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Maintain original order\n\t\t\treturn sortInput ?\n\t\t\t\t( indexOf.call( sortInput, a ) - indexOf.call( sortInput, b ) ) :\n\t\t\t\t0;\n\t\t}\n\n\t\treturn compare & 4 ? -1 : 1;\n\t} :\n\tfunction( a, b ) {\n\t\t// Exit early if the nodes are identical\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\taup = a.parentNode,\n\t\t\tbup = b.parentNode,\n\t\t\tap = [ a ],\n\t\t\tbp = [ b ];\n\n\t\t// Parentless nodes are either documents or disconnected\n\t\tif ( !aup || !bup ) {\n\t\t\treturn a === doc ? -1 :\n\t\t\t\tb === doc ? 1 :\n\t\t\t\taup ? -1 :\n\t\t\t\tbup ? 1 :\n\t\t\t\tsortInput ?\n\t\t\t\t( indexOf.call( sortInput, a ) - indexOf.call( sortInput, b ) ) :\n\t\t\t\t0;\n\n\t\t// If the nodes are siblings, we can do a quick check\n\t\t} else if ( aup === bup ) {\n\t\t\treturn siblingCheck( a, b );\n\t\t}\n\n\t\t// Otherwise we need full lists of their ancestors for comparison\n\t\tcur = a;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tap.unshift( cur );\n\t\t}\n\t\tcur = b;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tbp.unshift( cur );\n\t\t}\n\n\t\t// Walk down the tree looking for a discrepancy\n\t\twhile ( ap[i] === bp[i] ) {\n\t\t\ti++;\n\t\t}\n\n\t\treturn i ?\n\t\t\t// Do a sibling check if the nodes have a common ancestor\n\t\t\tsiblingCheck( ap[i], bp[i] ) :\n\n\t\t\t// Otherwise nodes in our document sort first\n\t\t\tap[i] === preferredDoc ? -1 :\n\t\t\tbp[i] === preferredDoc ? 1 :\n\t\t\t0;\n\t};\n\n\treturn doc;\n};\n\nSizzle.matches = function( expr, elements ) {\n\treturn Sizzle( expr, null, null, elements );\n};\n\nSizzle.matchesSelector = function( elem, expr ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\t// Make sure that attribute selectors are quoted\n\texpr = expr.replace( rattributeQuotes, \"='$1']\" );\n\n\tif ( support.matchesSelector && documentIsHTML &&\n\t\t( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&\n\t\t( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {\n\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\t\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t\t// fragment in IE 9\n\t\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch(e) {}\n\t}\n\n\treturn Sizzle( expr, document, null, [ elem ] ).length > 0;\n};\n\nSizzle.contains = function( context, elem ) {\n\t// Set document vars if needed\n\tif ( ( context.ownerDocument || context ) !== document ) {\n\t\tsetDocument( context );\n\t}\n\treturn contains( context, elem );\n};\n\nSizzle.attr = function( elem, name ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\n\t\t// Don't get fooled by Object.prototype properties (jQuery #13807)\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\n\t\t\tfn( elem, name, !documentIsHTML ) :\n\t\t\tundefined;\n\n\treturn val !== undefined ?\n\t\tval :\n\t\tsupport.attributes || !documentIsHTML ?\n\t\t\telem.getAttribute( name ) :\n\t\t\t(val = elem.getAttributeNode(name)) && val.specified ?\n\t\t\t\tval.value :\n\t\t\t\tnull;\n};\n\nSizzle.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n/**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\nSizzle.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\tj = 0,\n\t\ti = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\thasDuplicate = !support.detectDuplicates;\n\tsortInput = !support.sortStable && results.slice( 0 );\n\tresults.sort( sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\twhile ( (elem = results[i++]) ) {\n\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tresults.splice( duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\t// Clear input after sorting to release objects\n\t// See https://github.com/jquery/sizzle/pull/225\n\tsortInput = null;\n\n\treturn results;\n};\n\n/**\n * Utility function for retrieving the text value of an array of DOM nodes\n * @param {Array|Element} elem\n */\ngetText = Sizzle.getText = function( elem ) {\n\tvar node,\n\t\tret = \"\",\n\t\ti = 0,\n\t\tnodeType = elem.nodeType;\n\n\tif ( !nodeType ) {\n\t\t// If no nodeType, this is expected to be an array\n\t\twhile ( (node = elem[i++]) ) {\n\t\t\t// Do not traverse comment nodes\n\t\t\tret += getText( node );\n\t\t}\n\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\n\t\t// Use textContent for elements\n\t\t// innerText usage removed for consistency of new lines (jQuery #11153)\n\t\tif ( typeof elem.textContent === \"string\" ) {\n\t\t\treturn elem.textContent;\n\t\t} else {\n\t\t\t// Traverse its children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tret += getText( elem );\n\t\t\t}\n\t\t}\n\t} else if ( nodeType === 3 || nodeType === 4 ) {\n\t\treturn elem.nodeValue;\n\t}\n\t// Do not include comment or processing instruction nodes\n\n\treturn ret;\n};\n\nExpr = Sizzle.selectors = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tattrHandle: {},\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\t\"ATTR\": function( match ) {\n\t\t\tmatch[1] = match[1].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[3] = ( match[3] || match[4] || match[5] || \"\" ).replace( runescape, funescape );\n\n\t\t\tif ( match[2] === \"~=\" ) {\n\t\t\t\tmatch[3] = \" \" + match[3] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\t\"CHILD\": function( match ) {\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[1] = match[1].toLowerCase();\n\n\t\t\tif ( match[1].slice( 0, 3 ) === \"nth\" ) {\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[3] ) {\n\t\t\t\t\tSizzle.error( match[0] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === \"even\" || match[3] === \"odd\" ) );\n\t\t\t\tmatch[5] = +( ( match[7] + match[8] ) || match[3] === \"odd\" );\n\n\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[3] ) {\n\t\t\t\tSizzle.error( match[0] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\t\"PSEUDO\": function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[6] && match[2];\n\n\t\t\tif ( matchExpr[\"CHILD\"].test( match[0] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[3] ) {\n\t\t\t\tmatch[2] = match[4] || match[5] || \"\";\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t(excess = tokenize( unquoted, true )) &&\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t(excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[0] = match[0].slice( 0, excess );\n\t\t\t\tmatch[2] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\t\"TAG\": function( nodeNameSelector ) {\n\t\t\tvar nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn nodeNameSelector === \"*\" ?\n\t\t\t\tfunction() { return true; } :\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n\t\t\t\t};\n\t\t},\n\n\t\t\"CLASS\": function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t(pattern = new RegExp( \"(^|\" + whitespace + \")\" + className + \"(\" + whitespace + \"|$)\" )) &&\n\t\t\t\tclassCache( className, function( elem ) {\n\t\t\t\t\treturn pattern.test( typeof elem.className === \"string\" && elem.className || typeof elem.getAttribute !== strundefined && elem.getAttribute(\"class\") || \"\" );\n\t\t\t\t});\n\t\t},\n\n\t\t\"ATTR\": function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = Sizzle.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\treturn operator === \"=\" ? result === check :\n\t\t\t\t\toperator === \"!=\" ? result !== check :\n\t\t\t\t\toperator === \"^=\" ? check && result.indexOf( check ) === 0 :\n\t\t\t\t\toperator === \"*=\" ? check && result.indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"$=\" ? check && result.slice( -check.length ) === check :\n\t\t\t\t\toperator === \"~=\" ? ( \" \" + result + \" \" ).indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"|=\" ? result === check || result.slice( 0, check.length + 1 ) === check + \"-\" :\n\t\t\t\t\tfalse;\n\t\t\t};\n\t\t},\n\n\t\t\"CHILD\": function( type, what, argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tvar cache, outerCache, node, diff, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( (node = node[ dir ]) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) {\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\t\t\t\t\t\t\touterCache = parent[ expando ] || (parent[ expando ] = {});\n\t\t\t\t\t\t\tcache = outerCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[0] === dirruns && cache[1];\n\t\t\t\t\t\t\tdiff = cache[0] === dirruns && cache[2];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\touterCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t} else if ( useCache && (cache = (elem[ expando ] || (elem[ expando ] = {}))[ type ]) && cache[0] === dirruns ) {\n\t\t\t\t\t\t\tdiff = cache[1];\n\n\t\t\t\t\t\t// xml :nth-child(...) or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\tif ( ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) && ++diff ) {\n\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t(node[ expando ] || (node[ expando ] = {}))[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\t\"PSEUDO\": function( pseudo, argument ) {\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as Sizzle does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction(function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf.call( seed, matched[i] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[i] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\t\t// Potentially complex pseudos\n\t\t\"not\": markFunction(function( selector ) {\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrim, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction(function( seed, matches, context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = unmatched[i]) ) {\n\t\t\t\t\t\t\tseed[i] = !(matches[i] = elem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}) :\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tinput[0] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t}),\n\n\t\t\"has\": markFunction(function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn Sizzle( selector, elem ).length > 0;\n\t\t\t};\n\t\t}),\n\n\t\t\"contains\": markFunction(function( text ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t}),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// http://www.w3.org/TR/selectors/#lang-pseudo\n\t\t\"lang\": markFunction( function( lang ) {\n\t\t\t// lang value must be a valid identifier\n\t\t\tif ( !ridentifier.test(lang || \"\") ) {\n\t\t\t\tSizzle.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( (elemLang = documentIsHTML ?\n\t\t\t\t\t\telem.lang :\n\t\t\t\t\t\telem.getAttribute(\"xml:lang\") || elem.getAttribute(\"lang\")) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( (elem = elem.parentNode) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t}),\n\n\t\t// Miscellaneous\n\t\t\"target\": function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\t\"root\": function( elem ) {\n\t\t\treturn elem === docElem;\n\t\t},\n\n\t\t\"focus\": function( elem ) {\n\t\t\treturn elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\n\t\t},\n\n\t\t// Boolean properties\n\t\t\"enabled\": function( elem ) {\n\t\t\treturn elem.disabled === false;\n\t\t},\n\n\t\t\"disabled\": function( elem ) {\n\t\t\treturn elem.disabled === true;\n\t\t},\n\n\t\t\"checked\": function( elem ) {\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\tvar nodeName = elem.nodeName.toLowerCase();\n\t\t\treturn (nodeName === \"input\" && !!elem.checked) || (nodeName === \"option\" && !!elem.selected);\n\t\t},\n\n\t\t\"selected\": function( elem ) {\n\t\t\t// Accessing this property makes selected-by-default\n\t\t\t// options in Safari work properly\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\t\"empty\": function( elem ) {\n\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeType < 6 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t\"parent\": function( elem ) {\n\t\t\treturn !Expr.pseudos[\"empty\"]( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\t\"header\": function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\t\"input\": function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\t\"button\": function( elem ) {\n\t\t\tvar name = elem.nodeName.toLowerCase();\n\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\n\t\t},\n\n\t\t\"text\": function( elem ) {\n\t\t\tvar attr;\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\n\t\t\t\telem.type === \"text\" &&\n\n\t\t\t\t// Support: IE<8\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\n\t\t\t\t( (attr = elem.getAttribute(\"type\")) == null || attr.toLowerCase() === \"text\" );\n\t\t},\n\n\t\t// Position-in-collection\n\t\t\"first\": createPositionalPseudo(function() {\n\t\t\treturn [ 0 ];\n\t\t}),\n\n\t\t\"last\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t}),\n\n\t\t\"eq\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t}),\n\n\t\t\"even\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"odd\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"lt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"gt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t})\n\t}\n};\n\nExpr.pseudos[\"nth\"] = Expr.pseudos[\"eq\"];\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nsetFilters.prototype = Expr.filters = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\ntokenize = Sizzle.tokenize = function( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || (match = rcomma.exec( soFar )) ) {\n\t\t\tif ( match ) {\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[0].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( (tokens = []) );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( (match = rcombinators.exec( soFar )) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push({\n\t\t\t\tvalue: matched,\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[0].replace( rtrim, \" \" )\n\t\t\t});\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||\n\t\t\t\t(match = preFilters[ type ]( match ))) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push({\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t});\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\treturn parseOnly ?\n\t\tsoFar.length :\n\t\tsoFar ?\n\t\t\tSizzle.error( selector ) :\n\t\t\t// Cache the tokens\n\t\t\ttokenCache( selector, groups ).slice( 0 );\n};\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[i].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tcheckNonElements = base && dir === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar oldCache, outerCache,\n\t\t\t\tnewCache = [ dirruns, doneName ];\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from dir caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || (elem[ expando ] = {});\n\t\t\t\t\t\tif ( (oldCache = outerCache[ dir ]) &&\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\n\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\n\t\t\t\t\t\t\treturn (newCache[ 2 ] = oldCache[ 2 ]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\n\t\t\t\t\t\t\touterCache[ dir ] = newCache;\n\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\n\t\t\t\t\t\t\tif ( (newCache[ 2 ] = matcher( elem, context, xml )) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[i]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[0];\n}\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tSizzle( selector, contexts[i], results );\n\t}\n\treturn results;\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (elem = unmatched[i]) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction(function( seed, results, context, xml ) {\n\t\tvar temp, i, elem,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed || multipleContexts( selector || \"*\", context.nodeType ? [ context ] : context, [] ),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems,\n\n\t\t\tmatcherOut = matcher ?\n\t\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\n\t\t\t\tpostFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t\t[] :\n\n\t\t\t\t\t// ...otherwise use results directly\n\t\t\t\t\tresults :\n\t\t\t\tmatcherIn;\n\n\t\t// Find primary matches\n\t\tif ( matcher ) {\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( (elem = temp[i]) ) {\n\t\t\t\t\tmatcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = matcherOut[i]) ) {\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( (matcherIn[i] = elem) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, (matcherOut = []), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( (elem = matcherOut[i]) &&\n\t\t\t\t\t\t(temp = postFinder ? indexOf.call( seed, elem ) : preMap[i]) > -1 ) {\n\n\t\t\t\t\t\tseed[temp] = !(results[temp] = elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[0].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[\" \"],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf.call( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\t\t\treturn ( !leadingRelative && ( xml || context !== outermostContext ) ) || (\n\t\t\t\t(checkContext = context).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (matcher = Expr.relative[ tokens[i].type ]) ) {\n\t\t\tmatchers = [ addCombinator(elementMatcher( matchers ), matcher) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[j].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector(\n\t\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n\t\t\t\t\t\ttokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" })\n\t\t\t\t\t).replace( rtrim, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( (tokens = tokens.slice( j )) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\tvar bySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\tsetMatched = [],\n\t\t\t\tcontextBackup = outermostContext,\n\t\t\t\t// We must always have either seed elements or outermost context\n\t\t\t\telems = seed || byElement && Expr.find[\"TAG\"]( \"*\", outermost ),\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\n\t\t\t\tdirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),\n\t\t\t\tlen = elems.length;\n\n\t\t\tif ( outermost ) {\n\t\t\t\toutermostContext = context !== document && context;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t// Keep `i` a string if there are no elements so `matchedCount` will be \"00\" below\n\t\t\t// Support: IE<9, Safari\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\n\t\t\tfor ( ; i !== len && (elem = elems[i]) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( (matcher = elementMatchers[j++]) ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( (elem = !matcher && elem) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\tmatchedCount += i;\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( (matcher = setMatchers[j++]) ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !(unmatched[i] || setMatched[i]) ) {\n\t\t\t\t\t\t\t\tsetMatched[i] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tSizzle.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\ncompile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !match ) {\n\t\t\tmatch = tokenize( selector );\n\t\t}\n\t\ti = match.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( match[i] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );\n\n\t\t// Save selector and tokenization\n\t\tcached.selector = selector;\n\t}\n\treturn cached;\n};\n\n/**\n * A low-level selection function that works with Sizzle's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with Sizzle.compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\nselect = Sizzle.select = function( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tcompiled = typeof selector === \"function\" && selector,\n\t\tmatch = !seed && tokenize( (selector = compiled.selector || selector) );\n\n\tresults = results || [];\n\n\t// Try to minimize operations if there is no seed and only one group\n\tif ( match.length === 1 ) {\n\n\t\t// Take a shortcut and set the context if the root selector is an ID\n\t\ttokens = match[0] = match[0].slice( 0 );\n\t\tif ( tokens.length > 2 && (token = tokens[0]).type === \"ID\" &&\n\t\t\t\tsupport.getById && context.nodeType === 9 && documentIsHTML &&\n\t\t\t\tExpr.relative[ tokens[1].type ] ) {\n\n\t\t\tcontext = ( Expr.find[\"ID\"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];\n\t\t\tif ( !context ) {\n\t\t\t\treturn results;\n\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\n\t\t\t} else if ( compiled ) {\n\t\t\t\tcontext = context.parentNode;\n\t\t\t}\n\n\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t}\n\n\t\t// Fetch a seed set for right-to-left matching\n\t\ti = matchExpr[\"needsContext\"].test( selector ) ? 0 : tokens.length;\n\t\twhile ( i-- ) {\n\t\t\ttoken = tokens[i];\n\n\t\t\t// Abort if we hit a combinator\n\t\t\tif ( Expr.relative[ (type = token.type) ] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( (find = Expr.find[ type ]) ) {\n\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\tif ( (seed = find(\n\t\t\t\t\ttoken.matches[0].replace( runescape, funescape ),\n\t\t\t\t\trsibling.test( tokens[0].type ) && testContext( context.parentNode ) || context\n\t\t\t\t)) ) {\n\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\tpush.apply( results, seed );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function if one is not provided\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\t( compiled || compile( selector, match ) )(\n\t\tseed,\n\t\tcontext,\n\t\t!documentIsHTML,\n\t\tresults,\n\t\trsibling.test( selector ) && testContext( context.parentNode ) || context\n\t);\n\treturn results;\n};\n\n// One-time assignments\n\n// Sort stability\nsupport.sortStable = expando.split(\"\").sort( sortOrder ).join(\"\") === expando;\n\n// Support: Chrome<14\n// Always assume duplicates if they aren't passed to the comparison function\nsupport.detectDuplicates = !!hasDuplicate;\n\n// Initialize against the default document\nsetDocument();\n\n// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached = assert(function( div1 ) {\n\t// Should return 1, but returns 4 (following)\n\treturn div1.compareDocumentPosition( document.createElement(\"div\") ) & 1;\n});\n\n// Support: IE<8\n// Prevent attribute/property \"interpolation\"\n// http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\nif ( !assert(function( div ) {\n\tdiv.innerHTML = \"<a href='#'></a>\";\n\treturn div.firstChild.getAttribute(\"href\") === \"#\" ;\n}) ) {\n\taddHandle( \"type|href|height|width\", function( elem, name, isXML ) {\n\t\tif ( !isXML ) {\n\t\t\treturn elem.getAttribute( name, name.toLowerCase() === \"type\" ? 1 : 2 );\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use defaultValue in place of getAttribute(\"value\")\nif ( !support.attributes || !assert(function( div ) {\n\tdiv.innerHTML = \"<input/>\";\n\tdiv.firstChild.setAttribute( \"value\", \"\" );\n\treturn div.firstChild.getAttribute( \"value\" ) === \"\";\n}) ) {\n\taddHandle( \"value\", function( elem, name, isXML ) {\n\t\tif ( !isXML && elem.nodeName.toLowerCase() === \"input\" ) {\n\t\t\treturn elem.defaultValue;\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use getAttributeNode to fetch booleans when getAttribute lies\nif ( !assert(function( div ) {\n\treturn div.getAttribute(\"disabled\") == null;\n}) ) {\n\taddHandle( booleans, function( elem, name, isXML ) {\n\t\tvar val;\n\t\tif ( !isXML ) {\n\t\t\treturn elem[ name ] === true ? name.toLowerCase() :\n\t\t\t\t\t(val = elem.getAttributeNode( name )) && val.specified ?\n\t\t\t\t\tval.value :\n\t\t\t\tnull;\n\t\t}\n\t});\n}\n\nreturn Sizzle;\n\n})( window );\n\n\n\njQuery.find = Sizzle;\njQuery.expr = Sizzle.selectors;\njQuery.expr[\":\"] = jQuery.expr.pseudos;\njQuery.unique = Sizzle.uniqueSort;\njQuery.text = Sizzle.getText;\njQuery.isXMLDoc = Sizzle.isXML;\njQuery.contains = Sizzle.contains;\n\n\n\nvar rneedsContext = jQuery.expr.match.needsContext;\n\nvar rsingleTag = (/^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/);\n\n\n\nvar risSimple = /^.[^:#\\[\\.,]*$/;\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, not ) {\n\tif ( jQuery.isFunction( qualifier ) ) {\n\t\treturn jQuery.grep( elements, function( elem, i ) {\n\t\t\t/* jshint -W018 */\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\n\t\t});\n\n\t}\n\n\tif ( qualifier.nodeType ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) !== not;\n\t\t});\n\n\t}\n\n\tif ( typeof qualifier === \"string\" ) {\n\t\tif ( risSimple.test( qualifier ) ) {\n\t\t\treturn jQuery.filter( qualifier, elements, not );\n\t\t}\n\n\t\tqualifier = jQuery.filter( qualifier, elements );\n\t}\n\n\treturn jQuery.grep( elements, function( elem ) {\n\t\treturn ( indexOf.call( qualifier, elem ) >= 0 ) !== not;\n\t});\n}\n\njQuery.filter = function( expr, elems, not ) {\n\tvar elem = elems[ 0 ];\n\n\tif ( not ) {\n\t\texpr = \":not(\" + expr + \")\";\n\t}\n\n\treturn elems.length === 1 && elem.nodeType === 1 ?\n\t\tjQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [] :\n\t\tjQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\n\t\t\treturn elem.nodeType === 1;\n\t\t}));\n};\n\njQuery.fn.extend({\n\tfind: function( selector ) {\n\t\tvar i,\n\t\t\tlen = this.length,\n\t\t\tret = [],\n\t\t\tself = this;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn this.pushStack( jQuery( selector ).filter(function() {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}) );\n\t\t}\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tjQuery.find( selector, self[ i ], ret );\n\t\t}\n\n\t\t// Needed because $( selector, context ) becomes $( context ).find( selector )\n\t\tret = this.pushStack( len > 1 ? jQuery.unique( ret ) : ret );\n\t\tret.selector = this.selector ? this.selector + \" \" + selector : selector;\n\t\treturn ret;\n\t},\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow(this, selector || [], false) );\n\t},\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow(this, selector || [], true) );\n\t},\n\tis: function( selector ) {\n\t\treturn !!winnow(\n\t\t\tthis,\n\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\n\t\t\t\tjQuery( selector ) :\n\t\t\t\tselector || [],\n\t\t\tfalse\n\t\t).length;\n\t}\n});\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nvar rootjQuery,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\n\t// Strict HTML recognition (#11290: must start with <)\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,\n\n\tinit = jQuery.fn.init = function( selector, context ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector[0] === \"<\" && selector[ selector.length - 1 ] === \">\" && selector.length >= 3 ) {\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && (match[1] || !context) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[1] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[0] : context;\n\n\t\t\t\t\t// scripts is true for back-compat\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[1],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[1] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( jQuery.isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[2] );\n\n\t\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\n\t\t\t\t\t// nodes that are no longer in the document #6963\n\t\t\t\t\tif ( elem && elem.parentNode ) {\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t\tthis[0] = elem;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.context = document;\n\t\t\t\t\tthis.selector = selector;\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || rootjQuery ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis.context = this[0] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( jQuery.isFunction( selector ) ) {\n\t\t\treturn typeof rootjQuery.ready !== \"undefined\" ?\n\t\t\t\trootjQuery.ready( selector ) :\n\t\t\t\t// Execute immediately if ready is not present\n\t\t\t\tselector( jQuery );\n\t\t}\n\n\t\tif ( selector.selector !== undefined ) {\n\t\t\tthis.selector = selector.selector;\n\t\t\tthis.context = selector.context;\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery( document );\n\n\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\t// methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.extend({\n\tdir: function( elem, dir, until ) {\n\t\tvar matched = [],\n\t\t\ttruncate = until !== undefined;\n\n\t\twhile ( (elem = elem[ dir ]) && elem.nodeType !== 9 ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tmatched.push( elem );\n\t\t\t}\n\t\t}\n\t\treturn matched;\n\t},\n\n\tsibling: function( n, elem ) {\n\t\tvar matched = [];\n\n\t\tfor ( ; n; n = n.nextSibling ) {\n\t\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\t\tmatched.push( n );\n\t\t\t}\n\t\t}\n\n\t\treturn matched;\n\t}\n});\n\njQuery.fn.extend({\n\thas: function( target ) {\n\t\tvar targets = jQuery( target, this ),\n\t\t\tl = targets.length;\n\n\t\treturn this.filter(function() {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[i] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tmatched = [],\n\t\t\tpos = rneedsContext.test( selectors ) || typeof selectors !== \"string\" ?\n\t\t\t\tjQuery( selectors, context || this.context ) :\n\t\t\t\t0;\n\n\t\tfor ( ; i < l; i++ ) {\n\t\t\tfor ( cur = this[i]; cur && cur !== context; cur = cur.parentNode ) {\n\t\t\t\t// Always skip document fragments\n\t\t\t\tif ( cur.nodeType < 11 && (pos ?\n\t\t\t\t\tpos.index(cur) > -1 :\n\n\t\t\t\t\t// Don't pass non-elements to Sizzle\n\t\t\t\t\tcur.nodeType === 1 &&\n\t\t\t\t\t\tjQuery.find.matchesSelector(cur, selectors)) ) {\n\n\t\t\t\t\tmatched.push( cur );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.unique( matched ) : matched );\n\t},\n\n\t// Determine the position of an element within\n\t// the matched set of elements\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn indexOf.call( this,\n\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[ 0 ] : elem\n\t\t);\n\t},\n\n\tadd: function( selector, context ) {\n\t\treturn this.pushStack(\n\t\t\tjQuery.unique(\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\n\t\t\t)\n\t\t);\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter(selector)\n\t\t);\n\t}\n});\n\nfunction sibling( cur, dir ) {\n\twhile ( (cur = cur[dir]) && cur.nodeType !== 1 ) {}\n\treturn cur;\n}\n\njQuery.each({\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn jQuery.dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, i, until ) {\n\t\treturn jQuery.dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn jQuery.dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn jQuery.dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, i, until ) {\n\t\treturn jQuery.dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, i, until ) {\n\t\treturn jQuery.dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn jQuery.sibling( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn jQuery.sibling( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n\t\treturn elem.contentDocument || jQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar matched = jQuery.map( this, fn, until );\n\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tmatched = jQuery.filter( selector, matched );\n\t\t}\n\n\t\tif ( this.length > 1 ) {\n\t\t\t// Remove duplicates\n\t\t\tif ( !guaranteedUnique[ name ] ) {\n\t\t\t\tjQuery.unique( matched );\n\t\t\t}\n\n\t\t\t// Reverse order for parents* and prev-derivatives\n\t\t\tif ( rparentsprev.test( name ) ) {\n\t\t\t\tmatched.reverse();\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched );\n\t};\n});\nvar rnotwhite = (/\\S+/g);\n\n\n\n// String to Object options format cache\nvar optionsCache = {};\n\n// Convert String-formatted options into Object-formatted ones and store in cache\nfunction createOptions( options ) {\n\tvar object = optionsCache[ options ] = {};\n\tjQuery.each( options.match( rnotwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t});\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\t( optionsCache[ options ] || createOptions( options ) ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Last fire value (for non-forgettable lists)\n\t\tmemory,\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\t\t// Flag to know if list is currently firing\n\t\tfiring,\n\t\t// First callback to fire (used internally by add and fireWith)\n\t\tfiringStart,\n\t\t// End of the loop when firing\n\t\tfiringLength,\n\t\t// Index of currently firing callback (modified by remove if needed)\n\t\tfiringIndex,\n\t\t// Actual callback list\n\t\tlist = [],\n\t\t// Stack of fire calls for repeatable lists\n\t\tstack = !options.once && [],\n\t\t// Fire callbacks\n\t\tfire = function( data ) {\n\t\t\tmemory = options.memory && data;\n\t\t\tfired = true;\n\t\t\tfiringIndex = firingStart || 0;\n\t\t\tfiringStart = 0;\n\t\t\tfiringLength = list.length;\n\t\t\tfiring = true;\n\t\t\tfor ( ; list && firingIndex < firingLength; firingIndex++ ) {\n\t\t\t\tif ( list[ firingIndex ].apply( data[ 0 ], data[ 1 ] ) === false && options.stopOnFalse ) {\n\t\t\t\t\tmemory = false; // To prevent further calls using add\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfiring = false;\n\t\t\tif ( list ) {\n\t\t\t\tif ( stack ) {\n\t\t\t\t\tif ( stack.length ) {\n\t\t\t\t\t\tfire( stack.shift() );\n\t\t\t\t\t}\n\t\t\t\t} else if ( memory ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t} else {\n\t\t\t\t\tself.disable();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// Actual Callbacks object\n\t\tself = {\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\t// First, we save the current length\n\t\t\t\t\tvar start = list.length;\n\t\t\t\t\t(function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tvar type = jQuery.type( arg );\n\t\t\t\t\t\t\tif ( type === \"function\" ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && type !== \"string\" ) {\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t})( arguments );\n\t\t\t\t\t// Do we need to add the callbacks to the\n\t\t\t\t\t// current firing batch?\n\t\t\t\t\tif ( firing ) {\n\t\t\t\t\t\tfiringLength = list.length;\n\t\t\t\t\t// With memory, if we're not firing then\n\t\t\t\t\t// we should call right away\n\t\t\t\t\t} else if ( memory ) {\n\t\t\t\t\t\tfiringStart = start;\n\t\t\t\t\t\tfire( memory );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\t\tvar index;\n\t\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\t\tlist.splice( index, 1 );\n\t\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\t\tif ( firing ) {\n\t\t\t\t\t\t\t\tif ( index <= firingLength ) {\n\t\t\t\t\t\t\t\t\tfiringLength--;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Check if a given callback is in the list.\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\n\t\t\thas: function( fn ) {\n\t\t\t\treturn fn ? jQuery.inArray( fn, list ) > -1 : !!( list && list.length );\n\t\t\t},\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tlist = [];\n\t\t\t\tfiringLength = 0;\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Have the list do nothing anymore\n\t\t\tdisable: function() {\n\t\t\t\tlist = stack = memory = undefined;\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Is it disabled?\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\t\t\t// Lock the list in its current state\n\t\t\tlock: function() {\n\t\t\t\tstack = undefined;\n\t\t\t\tif ( !memory ) {\n\t\t\t\t\tself.disable();\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Is it locked?\n\t\t\tlocked: function() {\n\t\t\t\treturn !stack;\n\t\t\t},\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\tif ( list && ( !fired || stack ) ) {\n\t\t\t\t\targs = args || [];\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\t\tif ( firing ) {\n\t\t\t\t\t\tstack.push( args );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfire( args );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n\njQuery.extend({\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\t\t\t\t// action, add listener, listener list, final state\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks(\"once memory\"), \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks(\"once memory\"), \"rejected\" ],\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks(\"memory\") ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\tthen: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\t\t\t\t\treturn jQuery.Deferred(function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\t\t\t\t\tvar fn = jQuery.isFunction( fns[ i ] ) && fns[ i ];\n\t\t\t\t\t\t\t// deferred[ done | fail | progress ] for forwarding actions to newDefer\n\t\t\t\t\t\t\tdeferred[ tuple[1] ](function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && jQuery.isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject )\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ]( this === promise ? newDefer.promise() : this, fn ? [ returned ] : arguments );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t}).promise();\n\t\t\t\t},\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Keep pipe for back-compat\n\t\tpromise.pipe = promise.then;\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 3 ];\n\n\t\t\t// promise[ done | fail | progress ] = list.add\n\t\t\tpromise[ tuple[1] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(function() {\n\t\t\t\t\t// state = [ resolved | rejected ]\n\t\t\t\t\tstate = stateString;\n\n\t\t\t\t// [ reject_list | resolve_list ].disable; progress_list.lock\n\t\t\t\t}, tuples[ i ^ 1 ][ 2 ].disable, tuples[ 2 ][ 2 ].lock );\n\t\t\t}\n\n\t\t\t// deferred[ resolve | reject | notify ]\n\t\t\tdeferred[ tuple[0] ] = function() {\n\t\t\t\tdeferred[ tuple[0] + \"With\" ]( this === deferred ? promise : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\tdeferred[ tuple[0] + \"With\" ] = list.fireWith;\n\t\t});\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( subordinate /* , ..., subordinateN */ ) {\n\t\tvar i = 0,\n\t\t\tresolveValues = slice.call( arguments ),\n\t\t\tlength = resolveValues.length,\n\n\t\t\t// the count of uncompleted subordinates\n\t\t\tremaining = length !== 1 || ( subordinate && jQuery.isFunction( subordinate.promise ) ) ? length : 0,\n\n\t\t\t// the master Deferred. If resolveValues consist of only a single Deferred, just use that.\n\t\t\tdeferred = remaining === 1 ? subordinate : jQuery.Deferred(),\n\n\t\t\t// Update function for both resolve and progress values\n\t\t\tupdateFunc = function( i, contexts, values ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tcontexts[ i ] = this;\n\t\t\t\t\tvalues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( values === progressValues ) {\n\t\t\t\t\t\tdeferred.notifyWith( contexts, values );\n\t\t\t\t\t} else if ( !( --remaining ) ) {\n\t\t\t\t\t\tdeferred.resolveWith( contexts, values );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tprogressValues, progressContexts, resolveContexts;\n\n\t\t// add listeners to Deferred subordinates; treat others as resolved\n\t\tif ( length > 1 ) {\n\t\t\tprogressValues = new Array( length );\n\t\t\tprogressContexts = new Array( length );\n\t\t\tresolveContexts = new Array( length );\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( resolveValues[ i ] && jQuery.isFunction( resolveValues[ i ].promise ) ) {\n\t\t\t\t\tresolveValues[ i ].promise()\n\t\t\t\t\t\t.done( updateFunc( i, resolveContexts, resolveValues ) )\n\t\t\t\t\t\t.fail( deferred.reject )\n\t\t\t\t\t\t.progress( updateFunc( i, progressContexts, progressValues ) );\n\t\t\t\t} else {\n\t\t\t\t\t--remaining;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// if we're not waiting on anything, resolve the master\n\t\tif ( !remaining ) {\n\t\t\tdeferred.resolveWith( resolveContexts, resolveValues );\n\t\t}\n\n\t\treturn deferred.promise();\n\t}\n});\n\n\n// The deferred used on DOM ready\nvar readyList;\n\njQuery.fn.ready = function( fn ) {\n\t// Add the callback\n\tjQuery.ready.promise().done( fn );\n\n\treturn this;\n};\n\njQuery.extend({\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See #6781\n\treadyWait: 1,\n\n\t// Hold (or release) the ready event\n\tholdReady: function( hold ) {\n\t\tif ( hold ) {\n\t\t\tjQuery.readyWait++;\n\t\t} else {\n\t\t\tjQuery.ready( true );\n\t\t}\n\t},\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\n\t\t// Trigger any bound ready events\n\t\tif ( jQuery.fn.triggerHandler ) {\n\t\t\tjQuery( document ).triggerHandler( \"ready\" );\n\t\t\tjQuery( document ).off( \"ready\" );\n\t\t}\n\t}\n});\n\n/**\n * The ready event handler and self cleanup method\n */\nfunction completed() {\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed, false );\n\twindow.removeEventListener( \"load\", completed, false );\n\tjQuery.ready();\n}\n\njQuery.ready.promise = function( obj ) {\n\tif ( !readyList ) {\n\n\t\treadyList = jQuery.Deferred();\n\n\t\t// Catch cases where $(document).ready() is called after the browser event has already occurred.\n\t\t// we once tried to use readyState \"interactive\" here, but it caused issues like the one\n\t\t// discovered by ChrisS here: http://bugs.jquery.com/ticket/12282#comment:15\n\t\tif ( document.readyState === \"complete\" ) {\n\t\t\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\t\t\tsetTimeout( jQuery.ready );\n\n\t\t} else {\n\n\t\t\t// Use the handy event callback\n\t\t\tdocument.addEventListener( \"DOMContentLoaded\", completed, false );\n\n\t\t\t// A fallback to window.onload, that will always work\n\t\t\twindow.addEventListener( \"load\", completed, false );\n\t\t}\n\t}\n\treturn readyList.promise( obj );\n};\n\n// Kick off the DOM ready check even if the user does not\njQuery.ready.promise();\n\n\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = jQuery.access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\tvar i = 0,\n\t\tlen = elems.length,\n\t\tbulk = key == null;\n\n\t// Sets many values\n\tif ( jQuery.type( key ) === \"object\" ) {\n\t\tchainable = true;\n\t\tfor ( i in key ) {\n\t\t\tjQuery.access( elems, fn, i, key[i], true, emptyGet, raw );\n\t\t}\n\n\t// Sets one value\n\t} else if ( value !== undefined ) {\n\t\tchainable = true;\n\n\t\tif ( !jQuery.isFunction( value ) ) {\n\t\t\traw = true;\n\t\t}\n\n\t\tif ( bulk ) {\n\t\t\t// Bulk operations run against the entire set\n\t\t\tif ( raw ) {\n\t\t\t\tfn.call( elems, value );\n\t\t\t\tfn = null;\n\n\t\t\t// ...except when executing function values\n\t\t\t} else {\n\t\t\t\tbulk = fn;\n\t\t\t\tfn = function( elem, key, value ) {\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif ( fn ) {\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\tfn( elems[i], key, raw ? value : value.call( elems[i], i, fn( elems[i], key ) ) );\n\t\t\t}\n\t\t}\n\t}\n\n\treturn chainable ?\n\t\telems :\n\n\t\t// Gets\n\t\tbulk ?\n\t\t\tfn.call( elems ) :\n\t\t\tlen ? fn( elems[0], key ) : emptyGet;\n};\n\n\n/**\n * Determines whether an object can have data\n */\njQuery.acceptData = function( owner ) {\n\t// Accepts only:\n\t//  - Node\n\t//    - Node.ELEMENT_NODE\n\t//    - Node.DOCUMENT_NODE\n\t//  - Object\n\t//    - Any\n\t/* jshint -W018 */\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\n};\n\n\nfunction Data() {\n\t// Support: Android < 4,\n\t// Old WebKit does not have Object.preventExtensions/freeze method,\n\t// return new empty object instead with no [[set]] accessor\n\tObject.defineProperty( this.cache = {}, 0, {\n\t\tget: function() {\n\t\t\treturn {};\n\t\t}\n\t});\n\n\tthis.expando = jQuery.expando + Math.random();\n}\n\nData.uid = 1;\nData.accepts = jQuery.acceptData;\n\nData.prototype = {\n\tkey: function( owner ) {\n\t\t// We can accept data for non-element nodes in modern browsers,\n\t\t// but we should not, see #8335.\n\t\t// Always return the key for a frozen object.\n\t\tif ( !Data.accepts( owner ) ) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar descriptor = {},\n\t\t\t// Check if the owner object already has a cache key\n\t\t\tunlock = owner[ this.expando ];\n\n\t\t// If not, create one\n\t\tif ( !unlock ) {\n\t\t\tunlock = Data.uid++;\n\n\t\t\t// Secure it in a non-enumerable, non-writable property\n\t\t\ttry {\n\t\t\t\tdescriptor[ this.expando ] = { value: unlock };\n\t\t\t\tObject.defineProperties( owner, descriptor );\n\n\t\t\t// Support: Android < 4\n\t\t\t// Fallback to a less secure definition\n\t\t\t} catch ( e ) {\n\t\t\t\tdescriptor[ this.expando ] = unlock;\n\t\t\t\tjQuery.extend( owner, descriptor );\n\t\t\t}\n\t\t}\n\n\t\t// Ensure the cache object\n\t\tif ( !this.cache[ unlock ] ) {\n\t\t\tthis.cache[ unlock ] = {};\n\t\t}\n\n\t\treturn unlock;\n\t},\n\tset: function( owner, data, value ) {\n\t\tvar prop,\n\t\t\t// There may be an unlock assigned to this node,\n\t\t\t// if there is no entry for this \"owner\", create one inline\n\t\t\t// and set the unlock as though an owner entry had always existed\n\t\t\tunlock = this.key( owner ),\n\t\t\tcache = this.cache[ unlock ];\n\n\t\t// Handle: [ owner, key, value ] args\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tcache[ data ] = value;\n\n\t\t// Handle: [ owner, { properties } ] args\n\t\t} else {\n\t\t\t// Fresh assignments by object are shallow copied\n\t\t\tif ( jQuery.isEmptyObject( cache ) ) {\n\t\t\t\tjQuery.extend( this.cache[ unlock ], data );\n\t\t\t// Otherwise, copy the properties one-by-one to the cache object\n\t\t\t} else {\n\t\t\t\tfor ( prop in data ) {\n\t\t\t\t\tcache[ prop ] = data[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn cache;\n\t},\n\tget: function( owner, key ) {\n\t\t// Either a valid cache is found, or will be created.\n\t\t// New caches will be created and the unlock returned,\n\t\t// allowing direct access to the newly created\n\t\t// empty data object. A valid owner object must be provided.\n\t\tvar cache = this.cache[ this.key( owner ) ];\n\n\t\treturn key === undefined ?\n\t\t\tcache : cache[ key ];\n\t},\n\taccess: function( owner, key, value ) {\n\t\tvar stored;\n\t\t// In cases where either:\n\t\t//\n\t\t//   1. No key was specified\n\t\t//   2. A string key was specified, but no value provided\n\t\t//\n\t\t// Take the \"read\" path and allow the get method to determine\n\t\t// which value to return, respectively either:\n\t\t//\n\t\t//   1. The entire cache object\n\t\t//   2. The data stored at the key\n\t\t//\n\t\tif ( key === undefined ||\n\t\t\t\t((key && typeof key === \"string\") && value === undefined) ) {\n\n\t\t\tstored = this.get( owner, key );\n\n\t\t\treturn stored !== undefined ?\n\t\t\t\tstored : this.get( owner, jQuery.camelCase(key) );\n\t\t}\n\n\t\t// [*]When the key is not a string, or both a key and value\n\t\t// are specified, set or extend (existing objects) with either:\n\t\t//\n\t\t//   1. An object of properties\n\t\t//   2. A key and value\n\t\t//\n\t\tthis.set( owner, key, value );\n\n\t\t// Since the \"set\" path can have two possible entry points\n\t\t// return the expected data based on which path was taken[*]\n\t\treturn value !== undefined ? value : key;\n\t},\n\tremove: function( owner, key ) {\n\t\tvar i, name, camel,\n\t\t\tunlock = this.key( owner ),\n\t\t\tcache = this.cache[ unlock ];\n\n\t\tif ( key === undefined ) {\n\t\t\tthis.cache[ unlock ] = {};\n\n\t\t} else {\n\t\t\t// Support array or space separated string of keys\n\t\t\tif ( jQuery.isArray( key ) ) {\n\t\t\t\t// If \"name\" is an array of keys...\n\t\t\t\t// When data is initially created, via (\"key\", \"val\") signature,\n\t\t\t\t// keys will be converted to camelCase.\n\t\t\t\t// Since there is no way to tell _how_ a key was added, remove\n\t\t\t\t// both plain key and camelCase key. #12786\n\t\t\t\t// This will only penalize the array argument path.\n\t\t\t\tname = key.concat( key.map( jQuery.camelCase ) );\n\t\t\t} else {\n\t\t\t\tcamel = jQuery.camelCase( key );\n\t\t\t\t// Try the string as a key before any manipulation\n\t\t\t\tif ( key in cache ) {\n\t\t\t\t\tname = [ key, camel ];\n\t\t\t\t} else {\n\t\t\t\t\t// If a key with the spaces exists, use it.\n\t\t\t\t\t// Otherwise, create an array by matching non-whitespace\n\t\t\t\t\tname = camel;\n\t\t\t\t\tname = name in cache ?\n\t\t\t\t\t\t[ name ] : ( name.match( rnotwhite ) || [] );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ti = name.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tdelete cache[ name[ i ] ];\n\t\t\t}\n\t\t}\n\t},\n\thasData: function( owner ) {\n\t\treturn !jQuery.isEmptyObject(\n\t\t\tthis.cache[ owner[ this.expando ] ] || {}\n\t\t);\n\t},\n\tdiscard: function( owner ) {\n\t\tif ( owner[ this.expando ] ) {\n\t\t\tdelete this.cache[ owner[ this.expando ] ];\n\t\t}\n\t}\n};\nvar data_priv = new Data();\n\nvar data_user = new Data();\n\n\n\n/*\n\tImplementation Summary\n\n\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n\t2. Improve the module's maintainability by reducing the storage\n\t\tpaths to a single mechanism.\n\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n*/\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /([A-Z])/g;\n\nfunction dataAttr( elem, key, data ) {\n\tvar name;\n\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$1\" ).toLowerCase();\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = data === \"true\" ? true :\n\t\t\t\t\tdata === \"false\" ? false :\n\t\t\t\t\tdata === \"null\" ? null :\n\t\t\t\t\t// Only convert to a number if it doesn't change the string\n\t\t\t\t\t+data + \"\" === data ? +data :\n\t\t\t\t\trbrace.test( data ) ? jQuery.parseJSON( data ) :\n\t\t\t\t\tdata;\n\t\t\t} catch( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tdata_user.set( elem, key, data );\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\treturn data;\n}\n\njQuery.extend({\n\thasData: function( elem ) {\n\t\treturn data_user.hasData( elem ) || data_priv.hasData( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn data_user.access( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\tdata_user.remove( elem, name );\n\t},\n\n\t// TODO: Now that all calls to _data and _removeData have been replaced\n\t// with direct calls to data_priv methods, these can be deprecated.\n\t_data: function( elem, name, data ) {\n\t\treturn data_priv.access( elem, name, data );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\tdata_priv.remove( elem, name );\n\t}\n});\n\njQuery.fn.extend({\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[ 0 ],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = data_user.get( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !data_priv.get( elem, \"hasDataAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE11+\n\t\t\t\t\t\t// The attrs elements can be null (#14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = jQuery.camelCase( name.slice(5) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdata_priv.set( elem, \"hasDataAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each(function() {\n\t\t\t\tdata_user.set( this, key );\n\t\t\t});\n\t\t}\n\n\t\treturn access( this, function( value ) {\n\t\t\tvar data,\n\t\t\t\tcamelKey = jQuery.camelCase( key );\n\n\t\t\t// The calling jQuery object (element matches) is not empty\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\n\t\t\t// throw an exception if an attempt to read a data cache is made.\n\t\t\tif ( elem && value === undefined ) {\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// with the key as-is\n\t\t\t\tdata = data_user.get( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// with the key camelized\n\t\t\t\tdata = data_user.get( elem, camelKey );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to \"discover\" the data in\n\t\t\t\t// HTML5 custom data-* attrs\n\t\t\t\tdata = dataAttr( elem, camelKey, undefined );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// We tried really hard, but the data doesn't exist.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the data...\n\t\t\tthis.each(function() {\n\t\t\t\t// First, attempt to store a copy or reference of any\n\t\t\t\t// data that might've been store with a camelCased key.\n\t\t\t\tvar data = data_user.get( this, camelKey );\n\n\t\t\t\t// For HTML5 data-* attribute interop, we have to\n\t\t\t\t// store property names with dashes in a camelCase form.\n\t\t\t\t// This might not apply to all properties...*\n\t\t\t\tdata_user.set( this, camelKey, value );\n\n\t\t\t\t// *... In the case of properties that might _actually_\n\t\t\t\t// have dashes, we need to also store a copy of that\n\t\t\t\t// unchanged property.\n\t\t\t\tif ( key.indexOf(\"-\") !== -1 && data !== undefined ) {\n\t\t\t\t\tdata_user.set( this, key, value );\n\t\t\t\t}\n\t\t\t});\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each(function() {\n\t\t\tdata_user.remove( this, key );\n\t\t});\n\t}\n});\n\n\njQuery.extend({\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = data_priv.get( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || jQuery.isArray( data ) ) {\n\t\t\t\t\tqueue = data_priv.access( elem, type, jQuery.makeArray(data) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// not intended for public consumption - generates a queueHooks object, or returns the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn data_priv.get( elem, key ) || data_priv.access( elem, key, {\n\t\t\tempty: jQuery.Callbacks(\"once memory\").add(function() {\n\t\t\t\tdata_priv.remove( elem, [ type + \"queue\", key ] );\n\t\t\t})\n\t\t});\n\t}\n});\n\njQuery.fn.extend({\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[0], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each(function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[0] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t});\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each(function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t});\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = data_priv.get( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n});\nvar pnum = (/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/).source;\n\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\n\nvar isHidden = function( elem, el ) {\n\t\t// isHidden might be called from jQuery#filter function;\n\t\t// in that case, element will be second argument\n\t\telem = el || elem;\n\t\treturn jQuery.css( elem, \"display\" ) === \"none\" || !jQuery.contains( elem.ownerDocument, elem );\n\t};\n\nvar rcheckableType = (/^(?:checkbox|radio)$/i);\n\n\n\n(function() {\n\tvar fragment = document.createDocumentFragment(),\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\n\t\tinput = document.createElement( \"input\" );\n\n\t// #11217 - WebKit loses check when the name is after the checked attribute\n\t// Support: Windows Web Apps (WWA)\n\t// `name` and `type` need .setAttribute for WWA\n\tinput.setAttribute( \"type\", \"radio\" );\n\tinput.setAttribute( \"checked\", \"checked\" );\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tdiv.appendChild( input );\n\n\t// Support: Safari 5.1, iOS 5.1, Android 4.x, Android 2.3\n\t// old WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\n\t// Support: IE9-IE11+\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\n})();\nvar strundefined = typeof undefined;\n\n\n\nsupport.focusinBubbles = \"onfocusin\" in window;\n\n\nvar\n\trkeyEvent = /^key/,\n\trmouseEvent = /^(?:mouse|pointer|contextmenu)|click/,\n\trfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\n\trtypenamespace = /^([^.]*)(?:\\.(.+)|)$/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\nfunction safeActiveElement() {\n\ttry {\n\t\treturn document.activeElement;\n\t} catch ( err ) { }\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar handleObjIn, eventHandle, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = data_priv.get( elem );\n\n\t\t// Don't attach events to noData or text/comment nodes (but allow plain objects)\n\t\tif ( !elemData ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !(events = elemData.events) ) {\n\t\t\tevents = elemData.events = {};\n\t\t}\n\t\tif ( !(eventHandle = elemData.handle) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== strundefined && jQuery.event.triggered !== e.type ?\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\n\t\t\t};\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\ttypes = ( types || \"\" ).match( rnotwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[t] ) || [];\n\t\t\ttype = origType = tmp[1];\n\t\t\tnamespaces = ( tmp[2] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\n\t\t\tif ( !type ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend({\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join(\".\")\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !(handlers = events[ type ]) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener if the special events handler returns false\n\t\t\t\tif ( !special.setup || special.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle, false );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar j, origCount, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = data_priv.hasData( elem ) && data_priv.get( elem );\n\n\t\tif ( !elemData || !(events = elemData.events) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( rnotwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[t] ) || [];\n\t\t\ttype = origType = tmp[1];\n\t\t\tnamespaces = ( tmp[2] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[2] && new RegExp( \"(^|\\\\.)\" + namespaces.join(\"\\\\.(?:.*\\\\.|)\") + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector || selector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown || special.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdelete elemData.handle;\n\t\t\tdata_priv.remove( elem, \"events\" );\n\t\t}\n\t},\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split(\".\") : [];\n\n\t\tcur = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf(\".\") >= 0 ) {\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split(\".\");\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf(\":\") < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\n\t\tevent.namespace = namespaces.join(\".\");\n\t\tevent.namespace_re = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join(\"\\\\.(?:.*\\\\.|)\") + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (#9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !jQuery.isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === (elem.ownerDocument || document) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( (cur = eventPath[i++]) && !event.isPropagationStopped() ) {\n\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = ( data_priv.get( cur, \"events\" ) || {} )[ event.type ] && data_priv.get( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && handle.apply && jQuery.acceptData( cur ) ) {\n\t\t\t\tevent.result = handle.apply( cur, data );\n\t\t\t\tif ( event.result === false ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( (!special._default || special._default.apply( eventPath.pop(), data ) === false) &&\n\t\t\t\tjQuery.acceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name name as the event.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (#6170)\n\t\t\t\tif ( ontype && jQuery.isFunction( elem[ type ] ) && !jQuery.isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\t\t\t\t\telem[ type ]();\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\tdispatch: function( event ) {\n\n\t\t// Make a writable jQuery.Event from the native event object\n\t\tevent = jQuery.event.fix( event );\n\n\t\tvar i, j, ret, matched, handleObj,\n\t\t\thandlerQueue = [],\n\t\t\targs = slice.call( arguments ),\n\t\t\thandlers = ( data_priv.get( this, \"events\" ) || {} )[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[0] = event;\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( (matched = handlerQueue[ i++ ]) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( (handleObj = matched.handlers[ j++ ]) && !event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// Triggered event must either 1) have no namespace, or\n\t\t\t\t// 2) have namespace(s) a subset or equal to those in the bound event (both can have no namespace).\n\t\t\t\tif ( !event.namespace_re || event.namespace_re.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( (jQuery.event.special[ handleObj.origType ] || {}).handle || handleObj.handler )\n\t\t\t\t\t\t\t.apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( (event.result = ret) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar i, matches, sel, handleObj,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Find delegate handlers\n\t\t// Black-hole SVG <use> instance trees (#13180)\n\t\t// Avoid non-left-click bubbling in Firefox (#3861)\n\t\tif ( delegateCount && cur.nodeType && (!event.button || event.type !== \"click\") ) {\n\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)\n\t\t\t\tif ( cur.disabled !== true || event.type !== \"click\" ) {\n\t\t\t\t\tmatches = [];\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (#13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matches[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatches[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) >= 0 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matches[ sel ] ) {\n\t\t\t\t\t\t\tmatches.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matches.length ) {\n\t\t\t\t\t\thandlerQueue.push({ elem: cur, handlers: matches });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push({ elem: this, handlers: handlers.slice( delegateCount ) });\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\t// Includes some event props shared by KeyEvent and MouseEvent\n\tprops: \"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which\".split(\" \"),\n\n\tfixHooks: {},\n\n\tkeyHooks: {\n\t\tprops: \"char charCode key keyCode\".split(\" \"),\n\t\tfilter: function( event, original ) {\n\n\t\t\t// Add which for key events\n\t\t\tif ( event.which == null ) {\n\t\t\t\tevent.which = original.charCode != null ? original.charCode : original.keyCode;\n\t\t\t}\n\n\t\t\treturn event;\n\t\t}\n\t},\n\n\tmouseHooks: {\n\t\tprops: \"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement\".split(\" \"),\n\t\tfilter: function( event, original ) {\n\t\t\tvar eventDoc, doc, body,\n\t\t\t\tbutton = original.button;\n\n\t\t\t// Calculate pageX/Y if missing and clientX/Y available\n\t\t\tif ( event.pageX == null && original.clientX != null ) {\n\t\t\t\teventDoc = event.target.ownerDocument || document;\n\t\t\t\tdoc = eventDoc.documentElement;\n\t\t\t\tbody = eventDoc.body;\n\n\t\t\t\tevent.pageX = original.clientX + ( doc && doc.scrollLeft || body && body.scrollLeft || 0 ) - ( doc && doc.clientLeft || body && body.clientLeft || 0 );\n\t\t\t\tevent.pageY = original.clientY + ( doc && doc.scrollTop  || body && body.scrollTop  || 0 ) - ( doc && doc.clientTop  || body && body.clientTop  || 0 );\n\t\t\t}\n\n\t\t\t// Add which for click: 1 === left; 2 === middle; 3 === right\n\t\t\t// Note: button is not normalized, so don't use it\n\t\t\tif ( !event.which && button !== undefined ) {\n\t\t\t\tevent.which = ( button & 1 ? 1 : ( button & 2 ? 3 : ( button & 4 ? 2 : 0 ) ) );\n\t\t\t}\n\n\t\t\treturn event;\n\t\t}\n\t},\n\n\tfix: function( event ) {\n\t\tif ( event[ jQuery.expando ] ) {\n\t\t\treturn event;\n\t\t}\n\n\t\t// Create a writable copy of the event object and normalize some properties\n\t\tvar i, prop, copy,\n\t\t\ttype = event.type,\n\t\t\toriginalEvent = event,\n\t\t\tfixHook = this.fixHooks[ type ];\n\n\t\tif ( !fixHook ) {\n\t\t\tthis.fixHooks[ type ] = fixHook =\n\t\t\t\trmouseEvent.test( type ) ? this.mouseHooks :\n\t\t\t\trkeyEvent.test( type ) ? this.keyHooks :\n\t\t\t\t{};\n\t\t}\n\t\tcopy = fixHook.props ? this.props.concat( fixHook.props ) : this.props;\n\n\t\tevent = new jQuery.Event( originalEvent );\n\n\t\ti = copy.length;\n\t\twhile ( i-- ) {\n\t\t\tprop = copy[ i ];\n\t\t\tevent[ prop ] = originalEvent[ prop ];\n\t\t}\n\n\t\t// Support: Cordova 2.5 (WebKit) (#13255)\n\t\t// All events should have a target; Cordova deviceready doesn't\n\t\tif ( !event.target ) {\n\t\t\tevent.target = document;\n\t\t}\n\n\t\t// Support: Safari 6.0+, Chrome < 28\n\t\t// Target should not be a text node (#504, #13143)\n\t\tif ( event.target.nodeType === 3 ) {\n\t\t\tevent.target = event.target.parentNode;\n\t\t}\n\n\t\treturn fixHook.filter ? fixHook.filter( event, originalEvent ) : event;\n\t},\n\n\tspecial: {\n\t\tload: {\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tfocus: {\n\t\t\t// Fire native event if possible so blur/focus sequence is correct\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this !== safeActiveElement() && this.focus ) {\n\t\t\t\t\tthis.focus();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelegateType: \"focusin\"\n\t\t},\n\t\tblur: {\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this === safeActiveElement() && this.blur ) {\n\t\t\t\t\tthis.blur();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelegateType: \"focusout\"\n\t\t},\n\t\tclick: {\n\t\t\t// For checkbox, fire native event so checked state will be right\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this.type === \"checkbox\" && this.click && jQuery.nodeName( this, \"input\" ) ) {\n\t\t\t\t\tthis.click();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// For cross-browser consistency, don't fire native .click() on links\n\t\t\t_default: function( event ) {\n\t\t\t\treturn jQuery.nodeName( event.target, \"a\" );\n\t\t\t}\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Support: Firefox 20+\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tsimulate: function( type, elem, event, bubble ) {\n\t\t// Piggyback on a donor event to simulate a different one.\n\t\t// Fake originalEvent to avoid donor's stopPropagation, but if the\n\t\t// simulated event prevents default then we do the same on the donor.\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tisSimulated: true,\n\t\t\t\toriginalEvent: {}\n\t\t\t}\n\t\t);\n\t\tif ( bubble ) {\n\t\t\tjQuery.event.trigger( e, null, elem );\n\t\t} else {\n\t\t\tjQuery.event.dispatch.call( elem, e );\n\t\t}\n\t\tif ( e.isDefaultPrevented() ) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n};\n\njQuery.removeEvent = function( elem, type, handle ) {\n\tif ( elem.removeEventListener ) {\n\t\telem.removeEventListener( type, handle, false );\n\t}\n};\n\njQuery.Event = function( src, props ) {\n\t// Allow instantiation without the 'new' keyword\n\tif ( !(this instanceof jQuery.Event) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\n\t\t\t\tsrc.defaultPrevented === undefined &&\n\t\t\t\t// Support: Android < 4.0\n\t\t\t\tsrc.returnValue === false ?\n\t\t\treturnTrue :\n\t\t\treturnFalse;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || jQuery.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\n\t\tif ( e && e.preventDefault ) {\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\n\t\tif ( e && e.stopPropagation ) {\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\tstopImmediatePropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\n\t\tif ( e && e.stopImmediatePropagation ) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// Support: Chrome 15+\njQuery.each({\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\",\n\tpointerenter: \"pointerover\",\n\tpointerleave: \"pointerout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mousenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || (related !== target && !jQuery.contains( target, related )) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n});\n\n// Create \"bubbling\" focus and blur events\n// Support: Firefox, Chrome, Safari\nif ( !support.focusinBubbles ) {\n\tjQuery.each({ focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\n\n\t\t// Attach a single capturing handler on the document while someone wants focusin/focusout\n\t\tvar handler = function( event ) {\n\t\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ), true );\n\t\t\t};\n\n\t\tjQuery.event.special[ fix ] = {\n\t\t\tsetup: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = data_priv.access( doc, fix );\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.addEventListener( orig, handler, true );\n\t\t\t\t}\n\t\t\t\tdata_priv.access( doc, fix, ( attaches || 0 ) + 1 );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = data_priv.access( doc, fix ) - 1;\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.removeEventListener( orig, handler, true );\n\t\t\t\t\tdata_priv.remove( doc, fix );\n\n\t\t\t\t} else {\n\t\t\t\t\tdata_priv.access( doc, fix, attaches );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t});\n}\n\njQuery.fn.extend({\n\n\ton: function( types, selector, data, fn, /*INTERNAL*/ one ) {\n\t\tvar origFn, type;\n\n\t\t// Types can be a map of types/handlers\n\t\tif ( typeof types === \"object\" ) {\n\t\t\t// ( types-Object, selector, data )\n\t\t\tif ( typeof selector !== \"string\" ) {\n\t\t\t\t// ( types-Object, data )\n\t\t\t\tdata = data || selector;\n\t\t\t\tselector = undefined;\n\t\t\t}\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.on( type, selector, data, types[ type ], one );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\n\t\tif ( data == null && fn == null ) {\n\t\t\t// ( types, fn )\n\t\t\tfn = selector;\n\t\t\tdata = selector = undefined;\n\t\t} else if ( fn == null ) {\n\t\t\tif ( typeof selector === \"string\" ) {\n\t\t\t\t// ( types, selector, fn )\n\t\t\t\tfn = data;\n\t\t\t\tdata = undefined;\n\t\t\t} else {\n\t\t\t\t// ( types, data, fn )\n\t\t\t\tfn = data;\n\t\t\t\tdata = selector;\n\t\t\t\tselector = undefined;\n\t\t\t}\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t} else if ( !fn ) {\n\t\t\treturn this;\n\t\t}\n\n\t\tif ( one === 1 ) {\n\t\t\torigFn = fn;\n\t\t\tfn = function( event ) {\n\t\t\t\t// Can use an empty set, since event contains the info\n\t\t\t\tjQuery().off( event );\n\t\t\t\treturn origFn.apply( this, arguments );\n\t\t\t};\n\t\t\t// Use same guid so caller can remove using origFn\n\t\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.add( this, types, fn, data, selector );\n\t\t});\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn this.on( types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ? handleObj.origType + \".\" + handleObj.namespace : handleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each(function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t});\n\t},\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each(function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t});\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[0];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t}\n});\n\n\nvar\n\trxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,\n\trtagName = /<([\\w:]+)/,\n\trhtml = /<|&#?\\w+;/,\n\trnoInnerhtml = /<(?:script|style|link)/i,\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\trscriptType = /^$|\\/(?:java|ecma)script/i,\n\trscriptTypeMasked = /^true\\/(.*)/,\n\trcleanScript = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,\n\n\t// We have to close these tags to support XHTML (#13200)\n\twrapMap = {\n\n\t\t// Support: IE 9\n\t\toption: [ 1, \"<select multiple='multiple'>\", \"</select>\" ],\n\n\t\tthead: [ 1, \"<table>\", \"</table>\" ],\n\t\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\n\t\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\t\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t\t_default: [ 0, \"\", \"\" ]\n\t};\n\n// Support: IE 9\nwrapMap.optgroup = wrapMap.option;\n\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n// Support: 1.x compatibility\n// Manipulating tables requires a tbody\nfunction manipulationTarget( elem, content ) {\n\treturn jQuery.nodeName( elem, \"table\" ) &&\n\t\tjQuery.nodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ?\n\n\t\telem.getElementsByTagName(\"tbody\")[0] ||\n\t\t\telem.appendChild( elem.ownerDocument.createElement(\"tbody\") ) :\n\t\telem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\telem.type = (elem.getAttribute(\"type\") !== null) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tvar match = rscriptTypeMasked.exec( elem.type );\n\n\tif ( match ) {\n\t\telem.type = match[ 1 ];\n\t} else {\n\t\telem.removeAttribute(\"type\");\n\t}\n\n\treturn elem;\n}\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar i = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\tdata_priv.set(\n\t\t\telems[ i ], \"globalEval\", !refElements || data_priv.get( refElements[ i ], \"globalEval\" )\n\t\t);\n\t}\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\tvar i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;\n\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\t// 1. Copy private data: events, handlers, etc.\n\tif ( data_priv.hasData( src ) ) {\n\t\tpdataOld = data_priv.access( src );\n\t\tpdataCur = data_priv.set( dest, pdataOld );\n\t\tevents = pdataOld.events;\n\n\t\tif ( events ) {\n\t\t\tdelete pdataCur.handle;\n\t\t\tpdataCur.events = {};\n\n\t\t\tfor ( type in events ) {\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 2. Copy user data\n\tif ( data_user.hasData( src ) ) {\n\t\tudataOld = data_user.access( src );\n\t\tudataCur = jQuery.extend( {}, udataOld );\n\n\t\tdata_user.set( dest, udataCur );\n\t}\n}\n\nfunction getAll( context, tag ) {\n\tvar ret = context.getElementsByTagName ? context.getElementsByTagName( tag || \"*\" ) :\n\t\t\tcontext.querySelectorAll ? context.querySelectorAll( tag || \"*\" ) :\n\t\t\t[];\n\n\treturn tag === undefined || tag && jQuery.nodeName( context, tag ) ?\n\t\tjQuery.merge( [ context ], ret ) :\n\t\tret;\n}\n\n// Support: IE >= 9\nfunction fixInput( src, dest ) {\n\tvar nodeName = dest.nodeName.toLowerCase();\n\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\tdest.checked = src.checked;\n\n\t// Fails to return the selected option to the default selected state when cloning options\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\njQuery.extend({\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar i, l, srcElements, destElements,\n\t\t\tclone = elem.cloneNode( true ),\n\t\t\tinPage = jQuery.contains( elem.ownerDocument, elem );\n\n\t\t// Support: IE >= 9\n\t\t// Fix Cloning issues\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// We eschew Sizzle here for performance reasons: http://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tbuildFragment: function( elems, context, scripts, selection ) {\n\t\tvar elem, tmp, tag, wrap, contains, j,\n\t\t\tfragment = context.createDocumentFragment(),\n\t\t\tnodes = [],\n\t\t\ti = 0,\n\t\t\tl = elems.length;\n\n\t\tfor ( ; i < l; i++ ) {\n\t\t\telem = elems[ i ];\n\n\t\t\tif ( elem || elem === 0 ) {\n\n\t\t\t\t// Add nodes directly\n\t\t\t\tif ( jQuery.type( elem ) === \"object\" ) {\n\t\t\t\t\t// Support: QtWebKit\n\t\t\t\t\t// jQuery.merge because push.apply(_, arraylike) throws\n\t\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t\t// Convert non-html into a text node\n\t\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t\t// Convert html into DOM nodes\n\t\t\t\t} else {\n\t\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement(\"div\") );\n\n\t\t\t\t\t// Deserialize a standard representation\n\t\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\n\t\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\t\ttmp.innerHTML = wrap[ 1 ] + elem.replace( rxhtmlTag, \"<$1></$2>\" ) + wrap[ 2 ];\n\n\t\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\t\tj = wrap[ 0 ];\n\t\t\t\t\twhile ( j-- ) {\n\t\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support: QtWebKit\n\t\t\t\t\t// jQuery.merge because push.apply(_, arraylike) throws\n\t\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t\t// Remember the top-level container\n\t\t\t\t\ttmp = fragment.firstChild;\n\n\t\t\t\t\t// Fixes #12346\n\t\t\t\t\t// Support: Webkit, IE\n\t\t\t\t\ttmp.textContent = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Remove wrapper from fragment\n\t\tfragment.textContent = \"\";\n\n\t\ti = 0;\n\t\twhile ( (elem = nodes[ i++ ]) ) {\n\n\t\t\t// #4087 - If origin and destination elements are the same, and this is\n\t\t\t// that element, do not do anything\n\t\t\tif ( selection && jQuery.inArray( elem, selection ) !== -1 ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tcontains = jQuery.contains( elem.ownerDocument, elem );\n\n\t\t\t// Append to fragment\n\t\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\n\n\t\t\t// Preserve script evaluation history\n\t\t\tif ( contains ) {\n\t\t\t\tsetGlobalEval( tmp );\n\t\t\t}\n\n\t\t\t// Capture executables\n\t\t\tif ( scripts ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( (elem = tmp[ j++ ]) ) {\n\t\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\t\tscripts.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn fragment;\n\t},\n\n\tcleanData: function( elems ) {\n\t\tvar data, elem, type, key,\n\t\t\tspecial = jQuery.event.special,\n\t\t\ti = 0;\n\n\t\tfor ( ; (elem = elems[ i ]) !== undefined; i++ ) {\n\t\t\tif ( jQuery.acceptData( elem ) ) {\n\t\t\t\tkey = elem[ data_priv.expando ];\n\n\t\t\t\tif ( key && (data = data_priv.cache[ key ]) ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( data_priv.cache[ key ] ) {\n\t\t\t\t\t\t// Discard any remaining `private` data\n\t\t\t\t\t\tdelete data_priv.cache[ key ];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Discard any remaining `user` data\n\t\t\tdelete data_user.cache[ elem[ data_user.expando ] ];\n\t\t}\n\t}\n});\n\njQuery.fn.extend({\n\ttext: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().each(function() {\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}, null, value, arguments.length );\n\t},\n\n\tappend: function() {\n\t\treturn this.domManip( arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.appendChild( elem );\n\t\t\t}\n\t\t});\n\t},\n\n\tprepend: function() {\n\t\treturn this.domManip( arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\n\t\t\t}\n\t\t});\n\t},\n\n\tbefore: function() {\n\t\treturn this.domManip( arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t});\n\t},\n\n\tafter: function() {\n\t\treturn this.domManip( arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t});\n\t},\n\n\tremove: function( selector, keepData /* Internal Use Only */ ) {\n\t\tvar elem,\n\t\t\telems = selector ? jQuery.filter( selector, this ) : this,\n\t\t\ti = 0;\n\n\t\tfor ( ; (elem = elems[i]) != null; i++ ) {\n\t\t\tif ( !keepData && elem.nodeType === 1 ) {\n\t\t\t\tjQuery.cleanData( getAll( elem ) );\n\t\t\t}\n\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\tif ( keepData && jQuery.contains( elem.ownerDocument, elem ) ) {\n\t\t\t\t\tsetGlobalEval( getAll( elem, \"script\" ) );\n\t\t\t\t}\n\t\t\t\telem.parentNode.removeChild( elem );\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; (elem = this[i]) != null; i++ ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\n\t\t\t\t// Prevent memory leaks\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\n\t\t\t\t// Remove any remaining nodes\n\t\t\t\telem.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map(function() {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t});\n\t},\n\n\thtml: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\tvar elem = this[ 0 ] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\n\t\t\t\treturn elem.innerHTML;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\n\n\t\t\t\tvalue = value.replace( rxhtmlTag, \"<$1></$2>\" );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\t\telem = this[ i ] || {};\n\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch( e ) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function() {\n\t\tvar arg = arguments[ 0 ];\n\n\t\t// Make the changes, replacing each context element with the new content\n\t\tthis.domManip( arguments, function( elem ) {\n\t\t\targ = this.parentNode;\n\n\t\t\tjQuery.cleanData( getAll( this ) );\n\n\t\t\tif ( arg ) {\n\t\t\t\targ.replaceChild( elem, this );\n\t\t\t}\n\t\t});\n\n\t\t// Force removal if there was no new content (e.g., from empty arguments)\n\t\treturn arg && (arg.length || arg.nodeType) ? this : this.remove();\n\t},\n\n\tdetach: function( selector ) {\n\t\treturn this.remove( selector, true );\n\t},\n\n\tdomManip: function( args, callback ) {\n\n\t\t// Flatten any nested arrays\n\t\targs = concat.apply( [], args );\n\n\t\tvar fragment, first, scripts, hasScripts, node, doc,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tset = this,\n\t\t\tiNoClone = l - 1,\n\t\t\tvalue = args[ 0 ],\n\t\t\tisFunction = jQuery.isFunction( value );\n\n\t\t// We can't cloneNode fragments that contain checked, in WebKit\n\t\tif ( isFunction ||\n\t\t\t\t( l > 1 && typeof value === \"string\" &&\n\t\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\n\t\t\treturn this.each(function( index ) {\n\t\t\t\tvar self = set.eq( index );\n\t\t\t\tif ( isFunction ) {\n\t\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\n\t\t\t\t}\n\t\t\t\tself.domManip( args, callback );\n\t\t\t});\n\t\t}\n\n\t\tif ( l ) {\n\t\t\tfragment = jQuery.buildFragment( args, this[ 0 ].ownerDocument, false, this );\n\t\t\tfirst = fragment.firstChild;\n\n\t\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\t\tfragment = first;\n\t\t\t}\n\n\t\t\tif ( first ) {\n\t\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\t\thasScripts = scripts.length;\n\n\t\t\t\t// Use the original fragment for the last item instead of the first because it can end up\n\t\t\t\t// being emptied incorrectly in certain situations (#8070).\n\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\tnode = fragment;\n\n\t\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\t\tif ( hasScripts ) {\n\t\t\t\t\t\t\t// Support: QtWebKit\n\t\t\t\t\t\t\t// jQuery.merge because push.apply(_, arraylike) throws\n\t\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tcallback.call( this[ i ], node, i );\n\t\t\t\t}\n\n\t\t\t\tif ( hasScripts ) {\n\t\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t\t// Reenable scripts\n\t\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t\t!data_priv.access( node, \"globalEval\" ) && jQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\t\tif ( node.src ) {\n\t\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\n\t\t\t\t\t\t\t\tif ( jQuery._evalUrl ) {\n\t\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.globalEval( node.textContent.replace( rcleanScript, \"\" ) );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t}\n});\n\njQuery.each({\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1,\n\t\t\ti = 0;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone( true );\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\n\n\t\t\t// Support: QtWebKit\n\t\t\t// .get() because push.apply(_, arraylike) throws\n\t\t\tpush.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n});\n\n\nvar iframe,\n\telemdisplay = {};\n\n/**\n * Retrieve the actual display of a element\n * @param {String} name nodeName of the element\n * @param {Object} doc Document object\n */\n// Called only from within defaultDisplay\nfunction actualDisplay( name, doc ) {\n\tvar style,\n\t\telem = jQuery( doc.createElement( name ) ).appendTo( doc.body ),\n\n\t\t// getDefaultComputedStyle might be reliably used only on attached element\n\t\tdisplay = window.getDefaultComputedStyle && ( style = window.getDefaultComputedStyle( elem[ 0 ] ) ) ?\n\n\t\t\t// Use of this method is a temporary fix (more like optmization) until something better comes along,\n\t\t\t// since it was removed from specification and supported only in FF\n\t\t\tstyle.display : jQuery.css( elem[ 0 ], \"display\" );\n\n\t// We don't have any data stored on the element,\n\t// so use \"detach\" method as fast way to get rid of the element\n\telem.detach();\n\n\treturn display;\n}\n\n/**\n * Try to determine the default display value of an element\n * @param {String} nodeName\n */\nfunction defaultDisplay( nodeName ) {\n\tvar doc = document,\n\t\tdisplay = elemdisplay[ nodeName ];\n\n\tif ( !display ) {\n\t\tdisplay = actualDisplay( nodeName, doc );\n\n\t\t// If the simple way fails, read from inside an iframe\n\t\tif ( display === \"none\" || !display ) {\n\n\t\t\t// Use the already-created iframe if possible\n\t\t\tiframe = (iframe || jQuery( \"<iframe frameborder='0' width='0' height='0'/>\" )).appendTo( doc.documentElement );\n\n\t\t\t// Always write a new HTML skeleton so Webkit and Firefox don't choke on reuse\n\t\t\tdoc = iframe[ 0 ].contentDocument;\n\n\t\t\t// Support: IE\n\t\t\tdoc.write();\n\t\t\tdoc.close();\n\n\t\t\tdisplay = actualDisplay( nodeName, doc );\n\t\t\tiframe.detach();\n\t\t}\n\n\t\t// Store the correct default display\n\t\telemdisplay[ nodeName ] = display;\n\t}\n\n\treturn display;\n}\nvar rmargin = (/^margin/);\n\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\n\nvar getStyles = function( elem ) {\n\t\treturn elem.ownerDocument.defaultView.getComputedStyle( elem, null );\n\t};\n\n\n\nfunction curCSS( elem, name, computed ) {\n\tvar width, minWidth, maxWidth, ret,\n\t\tstyle = elem.style;\n\n\tcomputed = computed || getStyles( elem );\n\n\t// Support: IE9\n\t// getPropertyValue is only needed for .css('filter') in IE9, see #12537\n\tif ( computed ) {\n\t\tret = computed.getPropertyValue( name ) || computed[ name ];\n\t}\n\n\tif ( computed ) {\n\n\t\tif ( ret === \"\" && !jQuery.contains( elem.ownerDocument, elem ) ) {\n\t\t\tret = jQuery.style( elem, name );\n\t\t}\n\n\t\t// Support: iOS < 6\n\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t// iOS < 6 (at least) returns percentage for a larger set of values, but width seems to be reliably pixels\n\t\t// this is against the CSSOM draft spec: http://dev.w3.org/csswg/cssom/#resolved-values\n\t\tif ( rnumnonpx.test( ret ) && rmargin.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\twidth = style.width;\n\t\t\tminWidth = style.minWidth;\n\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\tret = computed.width;\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.width = width;\n\t\t\tstyle.minWidth = minWidth;\n\t\t\tstyle.maxWidth = maxWidth;\n\t\t}\n\t}\n\n\treturn ret !== undefined ?\n\t\t// Support: IE\n\t\t// IE returns zIndex value as an integer.\n\t\tret + \"\" :\n\t\tret;\n}\n\n\nfunction addGetHookIf( conditionFn, hookFn ) {\n\t// Define the hook, we'll check on the first run if it's really needed.\n\treturn {\n\t\tget: function() {\n\t\t\tif ( conditionFn() ) {\n\t\t\t\t// Hook not needed (or it's not possible to use it due to missing dependency),\n\t\t\t\t// remove it.\n\t\t\t\t// Since there are no other hooks for marginRight, remove the whole object.\n\t\t\t\tdelete this.get;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\n\n\t\t\treturn (this.get = hookFn).apply( this, arguments );\n\t\t}\n\t};\n}\n\n\n(function() {\n\tvar pixelPositionVal, boxSizingReliableVal,\n\t\tdocElem = document.documentElement,\n\t\tcontainer = document.createElement( \"div\" ),\n\t\tdiv = document.createElement( \"div\" );\n\n\tif ( !div.style ) {\n\t\treturn;\n\t}\n\n\tdiv.style.backgroundClip = \"content-box\";\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\tcontainer.style.cssText = \"border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;\" +\n\t\t\"position:absolute\";\n\tcontainer.appendChild( div );\n\n\t// Executing both pixelPosition & boxSizingReliable tests require only one layout\n\t// so they're executed at the same time to save the second computation.\n\tfunction computePixelPositionAndBoxSizingReliable() {\n\t\tdiv.style.cssText =\n\t\t\t// Support: Firefox<29, Android 2.3\n\t\t\t// Vendor-prefix box-sizing\n\t\t\t\"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;\" +\n\t\t\t\"box-sizing:border-box;display:block;margin-top:1%;top:1%;\" +\n\t\t\t\"border:1px;padding:1px;width:4px;position:absolute\";\n\t\tdiv.innerHTML = \"\";\n\t\tdocElem.appendChild( container );\n\n\t\tvar divStyle = window.getComputedStyle( div, null );\n\t\tpixelPositionVal = divStyle.top !== \"1%\";\n\t\tboxSizingReliableVal = divStyle.width === \"4px\";\n\n\t\tdocElem.removeChild( container );\n\t}\n\n\t// Support: node.js jsdom\n\t// Don't assume that getComputedStyle is a property of the global object\n\tif ( window.getComputedStyle ) {\n\t\tjQuery.extend( support, {\n\t\t\tpixelPosition: function() {\n\t\t\t\t// This test is executed only once but we still do memoizing\n\t\t\t\t// since we can use the boxSizingReliable pre-computing.\n\t\t\t\t// No need to check if the test was already performed, though.\n\t\t\t\tcomputePixelPositionAndBoxSizingReliable();\n\t\t\t\treturn pixelPositionVal;\n\t\t\t},\n\t\t\tboxSizingReliable: function() {\n\t\t\t\tif ( boxSizingReliableVal == null ) {\n\t\t\t\t\tcomputePixelPositionAndBoxSizingReliable();\n\t\t\t\t}\n\t\t\t\treturn boxSizingReliableVal;\n\t\t\t},\n\t\t\treliableMarginRight: function() {\n\t\t\t\t// Support: Android 2.3\n\t\t\t\t// Check if div with explicit width and no margin-right incorrectly\n\t\t\t\t// gets computed margin-right based on width of container. (#3333)\n\t\t\t\t// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right\n\t\t\t\t// This support function is only executed once so no memoizing is needed.\n\t\t\t\tvar ret,\n\t\t\t\t\tmarginDiv = div.appendChild( document.createElement( \"div\" ) );\n\n\t\t\t\t// Reset CSS: box-sizing; display; margin; border; padding\n\t\t\t\tmarginDiv.style.cssText = div.style.cssText =\n\t\t\t\t\t// Support: Firefox<29, Android 2.3\n\t\t\t\t\t// Vendor-prefix box-sizing\n\t\t\t\t\t\"-webkit-box-sizing:content-box;-moz-box-sizing:content-box;\" +\n\t\t\t\t\t\"box-sizing:content-box;display:block;margin:0;border:0;padding:0\";\n\t\t\t\tmarginDiv.style.marginRight = marginDiv.style.width = \"0\";\n\t\t\t\tdiv.style.width = \"1px\";\n\t\t\t\tdocElem.appendChild( container );\n\n\t\t\t\tret = !parseFloat( window.getComputedStyle( marginDiv, null ).marginRight );\n\n\t\t\t\tdocElem.removeChild( container );\n\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t});\n\t}\n})();\n\n\n// A method for quickly swapping in/out CSS properties to get correct calculations.\njQuery.swap = function( elem, options, callback, args ) {\n\tvar ret, name,\n\t\told = {};\n\n\t// Remember the old values, and insert the new ones\n\tfor ( name in options ) {\n\t\told[ name ] = elem.style[ name ];\n\t\telem.style[ name ] = options[ name ];\n\t}\n\n\tret = callback.apply( elem, args || [] );\n\n\t// Revert the old values\n\tfor ( name in options ) {\n\t\telem.style[ name ] = old[ name ];\n\t}\n\n\treturn ret;\n};\n\n\nvar\n\t// swappable if display is none or starts with table except \"table\", \"table-cell\", or \"table-caption\"\n\t// see here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\trnumsplit = new RegExp( \"^(\" + pnum + \")(.*)$\", \"i\" ),\n\trrelNum = new RegExp( \"^([+-])=(\" + pnum + \")\", \"i\" ),\n\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: \"0\",\n\t\tfontWeight: \"400\"\n\t},\n\n\tcssPrefixes = [ \"Webkit\", \"O\", \"Moz\", \"ms\" ];\n\n// return a css property mapped to a potentially vendor prefixed property\nfunction vendorPropName( style, name ) {\n\n\t// shortcut for names that are not vendor prefixed\n\tif ( name in style ) {\n\t\treturn name;\n\t}\n\n\t// check for vendor prefixed names\n\tvar capName = name[0].toUpperCase() + name.slice(1),\n\t\torigName = name,\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in style ) {\n\t\t\treturn name;\n\t\t}\n\t}\n\n\treturn origName;\n}\n\nfunction setPositiveNumber( elem, value, subtract ) {\n\tvar matches = rnumsplit.exec( value );\n\treturn matches ?\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max( 0, matches[ 1 ] - ( subtract || 0 ) ) + ( matches[ 2 ] || \"px\" ) :\n\t\tvalue;\n}\n\nfunction augmentWidthOrHeight( elem, name, extra, isBorderBox, styles ) {\n\tvar i = extra === ( isBorderBox ? \"border\" : \"content\" ) ?\n\t\t// If we already have the right measurement, avoid augmentation\n\t\t4 :\n\t\t// Otherwise initialize for horizontal or vertical properties\n\t\tname === \"width\" ? 1 : 0,\n\n\t\tval = 0;\n\n\tfor ( ; i < 4; i += 2 ) {\n\t\t// both box models exclude margin, so add it if we want it\n\t\tif ( extra === \"margin\" ) {\n\t\t\tval += jQuery.css( elem, extra + cssExpand[ i ], true, styles );\n\t\t}\n\n\t\tif ( isBorderBox ) {\n\t\t\t// border-box includes padding, so remove it if we want content\n\t\t\tif ( extra === \"content\" ) {\n\t\t\t\tval -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\t\t\t}\n\n\t\t\t// at this point, extra isn't border nor margin, so remove border\n\t\t\tif ( extra !== \"margin\" ) {\n\t\t\t\tval -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t} else {\n\t\t\t// at this point, extra isn't content, so add padding\n\t\t\tval += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\n\t\t\t// at this point, extra isn't content nor padding, so add border\n\t\t\tif ( extra !== \"padding\" ) {\n\t\t\t\tval += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t}\n\t}\n\n\treturn val;\n}\n\nfunction getWidthOrHeight( elem, name, extra ) {\n\n\t// Start with offset property, which is equivalent to the border-box value\n\tvar valueIsBorderBox = true,\n\t\tval = name === \"width\" ? elem.offsetWidth : elem.offsetHeight,\n\t\tstyles = getStyles( elem ),\n\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\n\n\t// some non-html elements return undefined for offsetWidth, so check for null/undefined\n\t// svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285\n\t// MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668\n\tif ( val <= 0 || val == null ) {\n\t\t// Fall back to computed then uncomputed css if necessary\n\t\tval = curCSS( elem, name, styles );\n\t\tif ( val < 0 || val == null ) {\n\t\t\tval = elem.style[ name ];\n\t\t}\n\n\t\t// Computed unit is not pixels. Stop here and return.\n\t\tif ( rnumnonpx.test(val) ) {\n\t\t\treturn val;\n\t\t}\n\n\t\t// we need the check for style in case a browser which returns unreliable values\n\t\t// for getComputedStyle silently falls back to the reliable elem.style\n\t\tvalueIsBorderBox = isBorderBox &&\n\t\t\t( support.boxSizingReliable() || val === elem.style[ name ] );\n\n\t\t// Normalize \"\", auto, and prepare for extra\n\t\tval = parseFloat( val ) || 0;\n\t}\n\n\t// use the active box-sizing model to add/subtract irrelevant styles\n\treturn ( val +\n\t\taugmentWidthOrHeight(\n\t\t\telem,\n\t\t\tname,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox,\n\t\t\tstyles\n\t\t)\n\t) + \"px\";\n}\n\nfunction showHide( elements, show ) {\n\tvar display, elem, hidden,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tvalues[ index ] = data_priv.get( elem, \"olddisplay\" );\n\t\tdisplay = elem.style.display;\n\t\tif ( show ) {\n\t\t\t// Reset the inline display of this element to learn if it is\n\t\t\t// being hidden by cascaded rules or not\n\t\t\tif ( !values[ index ] && display === \"none\" ) {\n\t\t\t\telem.style.display = \"\";\n\t\t\t}\n\n\t\t\t// Set elements which have been overridden with display: none\n\t\t\t// in a stylesheet to whatever the default browser style is\n\t\t\t// for such an element\n\t\t\tif ( elem.style.display === \"\" && isHidden( elem ) ) {\n\t\t\t\tvalues[ index ] = data_priv.access( elem, \"olddisplay\", defaultDisplay(elem.nodeName) );\n\t\t\t}\n\t\t} else {\n\t\t\thidden = isHidden( elem );\n\n\t\t\tif ( display !== \"none\" || !hidden ) {\n\t\t\t\tdata_priv.set( elem, \"olddisplay\", hidden ? display : jQuery.css( elem, \"display\" ) );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the display of most of the elements in a second loop\n\t// to avoid the constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\t\tif ( !show || elem.style.display === \"none\" || elem.style.display === \"\" ) {\n\t\t\telem.style.display = show ? values[ index ] || \"\" : \"none\";\n\t\t}\n\t}\n\n\treturn elements;\n}\n\njQuery.extend({\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Don't automatically add \"px\" to these possibly-unitless properties\n\tcssNumber: {\n\t\t\"columnCount\": true,\n\t\t\"fillOpacity\": true,\n\t\t\"flexGrow\": true,\n\t\t\"flexShrink\": true,\n\t\t\"fontWeight\": true,\n\t\t\"lineHeight\": true,\n\t\t\"opacity\": true,\n\t\t\"order\": true,\n\t\t\"orphans\": true,\n\t\t\"widows\": true,\n\t\t\"zIndex\": true,\n\t\t\"zoom\": true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {\n\t\t// normalize float css property\n\t\t\"float\": \"cssFloat\"\n\t},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = jQuery.camelCase( name ),\n\t\t\tstyle = elem.style;\n\n\t\tname = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( style, origName ) );\n\n\t\t// gets hook for the prefixed version\n\t\t// followed by the unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// convert relative number strings (+= or -=) to relative numbers. #7345\n\t\t\tif ( type === \"string\" && (ret = rrelNum.exec( value )) ) {\n\t\t\t\tvalue = ( ret[1] + 1 ) * ret[2] + parseFloat( jQuery.css( elem, name ) );\n\t\t\t\t// Fixes bug #9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that null and NaN values aren't set. See: #7116\n\t\t\tif ( value == null || value !== value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add 'px' to the (except for certain CSS properties)\n\t\t\tif ( type === \"number\" && !jQuery.cssNumber[ origName ] ) {\n\t\t\t\tvalue += \"px\";\n\t\t\t}\n\n\t\t\t// Fixes #8908, it can be done more correctly by specifying setters in cssHooks,\n\t\t\t// but it would mean to define eight (for every problematic property) identical functions\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\n\t\t\t\tstyle[ name ] = \"inherit\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !(\"set\" in hooks) || (value = hooks.set( elem, value, extra )) !== undefined ) {\n\t\t\t\tstyle[ name ] = value;\n\t\t\t}\n\n\t\t} else {\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks && (ret = hooks.get( elem, false, extra )) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, extra, styles ) {\n\t\tvar val, num, hooks,\n\t\t\torigName = jQuery.camelCase( name );\n\n\t\t// Make sure that we're working with the right name\n\t\tname = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( elem.style, origName ) );\n\n\t\t// gets hook for the prefixed version\n\t\t// followed by the unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name, styles );\n\t\t}\n\n\t\t//convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Return, converting to number if forced or a qualifier was provided and val looks numeric\n\t\tif ( extra === \"\" || extra ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn extra === true || jQuery.isNumeric( num ) ? num || 0 : val;\n\t\t}\n\t\treturn val;\n\t}\n});\n\njQuery.each([ \"height\", \"width\" ], function( i, name ) {\n\tjQuery.cssHooks[ name ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\t\t\t\t// certain elements can have dimension info if we invisibly show them\n\t\t\t\t// however, it must have a current display style that would benefit from this\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) && elem.offsetWidth === 0 ?\n\t\t\t\t\tjQuery.swap( elem, cssShow, function() {\n\t\t\t\t\t\treturn getWidthOrHeight( elem, name, extra );\n\t\t\t\t\t}) :\n\t\t\t\t\tgetWidthOrHeight( elem, name, extra );\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\tvar styles = extra && getStyles( elem );\n\t\t\treturn setPositiveNumber( elem, value, extra ?\n\t\t\t\taugmentWidthOrHeight(\n\t\t\t\t\telem,\n\t\t\t\t\tname,\n\t\t\t\t\textra,\n\t\t\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\t\t\t\tstyles\n\t\t\t\t) : 0\n\t\t\t);\n\t\t}\n\t};\n});\n\n// Support: Android 2.3\njQuery.cssHooks.marginRight = addGetHookIf( support.reliableMarginRight,\n\tfunction( elem, computed ) {\n\t\tif ( computed ) {\n\t\t\t// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right\n\t\t\t// Work around by temporarily setting element display to inline-block\n\t\t\treturn jQuery.swap( elem, { \"display\": \"inline-block\" },\n\t\t\t\tcurCSS, [ elem, \"marginRight\" ] );\n\t\t}\n\t}\n);\n\n// These hooks are used by animate to expand properties\njQuery.each({\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i = 0,\n\t\t\t\texpanded = {},\n\n\t\t\t\t// assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split(\" \") : [ value ];\n\n\t\t\tfor ( ; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( !rmargin.test( prefix ) ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n});\n\njQuery.fn.extend({\n\tcss: function( name, value ) {\n\t\treturn access( this, function( elem, name, value ) {\n\t\t\tvar styles, len,\n\t\t\t\tmap = {},\n\t\t\t\ti = 0;\n\n\t\t\tif ( jQuery.isArray( name ) ) {\n\t\t\t\tstyles = getStyles( elem );\n\t\t\t\tlen = name.length;\n\n\t\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}\n\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t},\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state ) {\n\t\tif ( typeof state === \"boolean\" ) {\n\t\t\treturn state ? this.show() : this.hide();\n\t\t}\n\n\t\treturn this.each(function() {\n\t\t\tif ( isHidden( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t});\n\t}\n});\n\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || \"swing\";\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\tif ( tween.elem[ tween.prop ] != null &&\n\t\t\t\t(!tween.elem.style || tween.elem.style[ tween.prop ] == null) ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// passing an empty string as a 3rd parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails\n\t\t\t// so, simple values such as \"10px\" are parsed to Float.\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\t\t\t// use step hook for back compat - use cssHook if its there - use .style if its\n\t\t\t// available and use plain properties where available\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.style && ( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null || jQuery.cssHooks[ tween.prop ] ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Support: IE9\n// Panic based approach to setting things on disconnected nodes\n\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\n\t}\n};\n\njQuery.fx = Tween.prototype.init;\n\n// Back Compat <1.8 extension point\njQuery.fx.step = {};\n\n\n\n\nvar\n\tfxNow, timerId,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trfxnum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" ),\n\trrun = /queueHooks$/,\n\tanimationPrefilters = [ defaultPrefilter ],\n\ttweeners = {\n\t\t\"*\": [ function( prop, value ) {\n\t\t\tvar tween = this.createTween( prop, value ),\n\t\t\t\ttarget = tween.cur(),\n\t\t\t\tparts = rfxnum.exec( value ),\n\t\t\t\tunit = parts && parts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\n\n\t\t\t\t// Starting value computation is required for potential unit mismatches\n\t\t\t\tstart = ( jQuery.cssNumber[ prop ] || unit !== \"px\" && +target ) &&\n\t\t\t\t\trfxnum.exec( jQuery.css( tween.elem, prop ) ),\n\t\t\t\tscale = 1,\n\t\t\t\tmaxIterations = 20;\n\n\t\t\tif ( start && start[ 3 ] !== unit ) {\n\t\t\t\t// Trust units reported by jQuery.css\n\t\t\t\tunit = unit || start[ 3 ];\n\n\t\t\t\t// Make sure we update the tween properties later on\n\t\t\t\tparts = parts || [];\n\n\t\t\t\t// Iteratively approximate from a nonzero starting point\n\t\t\t\tstart = +target || 1;\n\n\t\t\t\tdo {\n\t\t\t\t\t// If previous iteration zeroed out, double until we get *something*\n\t\t\t\t\t// Use a string for doubling factor so we don't accidentally see scale as unchanged below\n\t\t\t\t\tscale = scale || \".5\";\n\n\t\t\t\t\t// Adjust and apply\n\t\t\t\t\tstart = start / scale;\n\t\t\t\t\tjQuery.style( tween.elem, prop, start + unit );\n\n\t\t\t\t// Update scale, tolerating zero or NaN from tween.cur()\n\t\t\t\t// And breaking the loop if scale is unchanged or perfect, or if we've just had enough\n\t\t\t\t} while ( scale !== (scale = tween.cur() / target) && scale !== 1 && --maxIterations );\n\t\t\t}\n\n\t\t\t// Update tween properties\n\t\t\tif ( parts ) {\n\t\t\t\tstart = tween.start = +start || +target || 0;\n\t\t\t\ttween.unit = unit;\n\t\t\t\t// If a +=/-= token was provided, we're doing a relative animation\n\t\t\t\ttween.end = parts[ 1 ] ?\n\t\t\t\t\tstart + ( parts[ 1 ] + 1 ) * parts[ 2 ] :\n\t\t\t\t\t+parts[ 2 ];\n\t\t\t}\n\n\t\t\treturn tween;\n\t\t} ]\n\t};\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\tsetTimeout(function() {\n\t\tfxNow = undefined;\n\t});\n\treturn ( fxNow = jQuery.now() );\n}\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\ti = 0,\n\t\tattrs = { height: type };\n\n\t// if we include width, step value is 1 to do all cssExpand values,\n\t// if we don't include width, step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth ? 1 : 0;\n\tfor ( ; i < 4 ; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\nfunction createTween( value, prop, animation ) {\n\tvar tween,\n\t\tcollection = ( tweeners[ prop ] || [] ).concat( tweeners[ \"*\" ] ),\n\t\tindex = 0,\n\t\tlength = collection.length;\n\tfor ( ; index < length; index++ ) {\n\t\tif ( (tween = collection[ index ].call( animation, prop, value )) ) {\n\n\t\t\t// we're done with this property\n\t\t\treturn tween;\n\t\t}\n\t}\n}\n\nfunction defaultPrefilter( elem, props, opts ) {\n\t/* jshint validthis: true */\n\tvar prop, value, toggle, tween, hooks, oldfire, display, checkDisplay,\n\t\tanim = this,\n\t\torig = {},\n\t\tstyle = elem.style,\n\t\thidden = elem.nodeType && isHidden( elem ),\n\t\tdataShow = data_priv.get( elem, \"fxshow\" );\n\n\t// handle queue: false promises\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always(function() {\n\t\t\t// doing this makes sure that the complete handler will be called\n\t\t\t// before this completes\n\t\t\tanim.always(function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t// height/width overflow pass\n\tif ( elem.nodeType === 1 && ( \"height\" in props || \"width\" in props ) ) {\n\t\t// Make sure that nothing sneaks out\n\t\t// Record all 3 overflow attributes because IE9-10 do not\n\t\t// change the overflow attribute when overflowX and\n\t\t// overflowY are set to the same value\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Set display property to inline-block for height/width\n\t\t// animations on inline elements that are having width/height animated\n\t\tdisplay = jQuery.css( elem, \"display\" );\n\n\t\t// Test default display if display is currently \"none\"\n\t\tcheckDisplay = display === \"none\" ?\n\t\t\tdata_priv.get( elem, \"olddisplay\" ) || defaultDisplay( elem.nodeName ) : display;\n\n\t\tif ( checkDisplay === \"inline\" && jQuery.css( elem, \"float\" ) === \"none\" ) {\n\t\t\tstyle.display = \"inline-block\";\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tanim.always(function() {\n\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t});\n\t}\n\n\t// show/hide pass\n\tfor ( prop in props ) {\n\t\tvalue = props[ prop ];\n\t\tif ( rfxtypes.exec( value ) ) {\n\t\t\tdelete props[ prop ];\n\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\n\t\t\t\t// If there is dataShow left over from a stopped hide or show and we are going to proceed with show, we should pretend to be hidden\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\n\t\t\t\t\thidden = true;\n\t\t\t\t} else {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\n\n\t\t// Any non-fx value stops us from restoring the original display value\n\t\t} else {\n\t\t\tdisplay = undefined;\n\t\t}\n\t}\n\n\tif ( !jQuery.isEmptyObject( orig ) ) {\n\t\tif ( dataShow ) {\n\t\t\tif ( \"hidden\" in dataShow ) {\n\t\t\t\thidden = dataShow.hidden;\n\t\t\t}\n\t\t} else {\n\t\t\tdataShow = data_priv.access( elem, \"fxshow\", {} );\n\t\t}\n\n\t\t// store state if its toggle - enables .stop().toggle() to \"reverse\"\n\t\tif ( toggle ) {\n\t\t\tdataShow.hidden = !hidden;\n\t\t}\n\t\tif ( hidden ) {\n\t\t\tjQuery( elem ).show();\n\t\t} else {\n\t\t\tanim.done(function() {\n\t\t\t\tjQuery( elem ).hide();\n\t\t\t});\n\t\t}\n\t\tanim.done(function() {\n\t\t\tvar prop;\n\n\t\t\tdata_priv.remove( elem, \"fxshow\" );\n\t\t\tfor ( prop in orig ) {\n\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t}\n\t\t});\n\t\tfor ( prop in orig ) {\n\t\t\ttween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\n\n\t\t\tif ( !( prop in dataShow ) ) {\n\t\t\t\tdataShow[ prop ] = tween.start;\n\t\t\t\tif ( hidden ) {\n\t\t\t\t\ttween.end = tween.start;\n\t\t\t\t\ttween.start = prop === \"width\" || prop === \"height\" ? 1 : 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t// If this is a noop like .hide().hide(), restore an overwritten display value\n\t} else if ( (display === \"none\" ? defaultDisplay( elem.nodeName ) : display) === \"inline\" ) {\n\t\tstyle.display = display;\n\t}\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = jQuery.camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( jQuery.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// not quite $.extend, this wont overwrite keys already present.\n\t\t\t// also - reusing 'index' from above because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tstopped,\n\t\tindex = 0,\n\t\tlength = animationPrefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\t\t\t// don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t}),\n\t\ttick = function() {\n\t\t\tif ( stopped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\t\t\t\t// archaic crash bug won't allow us to use 1 - ( 0.5 || 0 ) (#12497)\n\t\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t\tpercent = 1 - temp,\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length ; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ]);\n\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t} else {\n\t\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tanimation = deferred.promise({\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, { specialEasing: {} }, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\t\t\t\t\t// if we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif ( stopped ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor ( ; index < length ; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// resolve when we played the last frame\n\t\t\t\t// otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length ; index++ ) {\n\t\tresult = animationPrefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tjQuery.map( props, createTween, animation );\n\n\tif ( jQuery.isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t})\n\t);\n\n\t// attach callbacks from options\n\treturn animation.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\n\ttweener: function( props, callback ) {\n\t\tif ( jQuery.isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.split(\" \");\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length ; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\ttweeners[ prop ] = tweeners[ prop ] || [];\n\t\t\ttweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tanimationPrefilters.unshift( callback );\n\t\t} else {\n\t\t\tanimationPrefilters.push( callback );\n\t\t}\n\t}\n});\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tjQuery.isFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !jQuery.isFunction( easing ) && easing\n\t};\n\n\topt.duration = jQuery.fx.off ? 0 : typeof opt.duration === \"number\" ? opt.duration :\n\t\topt.duration in jQuery.fx.speeds ? jQuery.fx.speeds[ opt.duration ] : jQuery.fx.speeds._default;\n\n\t// normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( jQuery.isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.fn.extend({\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHidden ).css( \"opacity\", 0 ).show()\n\n\t\t\t// animate to the value specified\n\t\t\t.end().animate({ opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif ( empty || data_priv.get( this, \"finish\" ) ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\t\t\tdoAnimation.finish = doAnimation;\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue && type !== false ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each(function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = data_priv.get( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && (type == null || timers[ index ].queue === type) ) {\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// start the next in the queue if the last step wasn't forced\n\t\t\t// timers currently will call their complete callbacks, which will dequeue\n\t\t\t// but only if they were gotoEnd\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t});\n\t},\n\tfinish: function( type ) {\n\t\tif ( type !== false ) {\n\t\t\ttype = type || \"fx\";\n\t\t}\n\t\treturn this.each(function() {\n\t\t\tvar index,\n\t\t\t\tdata = data_priv.get( this ),\n\t\t\t\tqueue = data[ type + \"queue\" ],\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tlength = queue ? queue.length : 0;\n\n\t\t\t// enable finishing flag on private data\n\t\t\tdata.finish = true;\n\n\t\t\t// empty the queue first\n\t\t\tjQuery.queue( this, type, [] );\n\n\t\t\tif ( hooks && hooks.stop ) {\n\t\t\t\thooks.stop.call( this, true );\n\t\t\t}\n\n\t\t\t// look for any active animations, and finish them\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\n\t\t\t\t\ttimers[ index ].anim.stop( true );\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// look for any animations in the old queue and finish them\n\t\t\tfor ( index = 0; index < length; index++ ) {\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\n\t\t\t\t\tqueue[ index ].finish.call( this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// turn off finishing flag\n\t\t\tdelete data.finish;\n\t\t});\n\t}\n});\n\njQuery.each([ \"toggle\", \"show\", \"hide\" ], function( i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n});\n\n// Generate shortcuts for custom animations\njQuery.each({\n\tslideDown: genFx(\"show\"),\n\tslideUp: genFx(\"hide\"),\n\tslideToggle: genFx(\"toggle\"),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n});\n\njQuery.timers = [];\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ti = 0,\n\t\ttimers = jQuery.timers;\n\n\tfxNow = jQuery.now();\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\t\t// Checks the timer has not already been removed\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n\tfxNow = undefined;\n};\n\njQuery.fx.timer = function( timer ) {\n\tjQuery.timers.push( timer );\n\tif ( timer() ) {\n\t\tjQuery.fx.start();\n\t} else {\n\t\tjQuery.timers.pop();\n\t}\n};\n\njQuery.fx.interval = 13;\n\njQuery.fx.start = function() {\n\tif ( !timerId ) {\n\t\ttimerId = setInterval( jQuery.fx.tick, jQuery.fx.interval );\n\t}\n};\n\njQuery.fx.stop = function() {\n\tclearInterval( timerId );\n\ttimerId = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\t// Default speed\n\t_default: 400\n};\n\n\n// Based off of the plugin by Clint Helfers, with permission.\n// http://blindsignals.com/index.php/2009/07/jquery-delay/\njQuery.fn.delay = function( time, type ) {\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\ttype = type || \"fx\";\n\n\treturn this.queue( type, function( next, hooks ) {\n\t\tvar timeout = setTimeout( next, time );\n\t\thooks.stop = function() {\n\t\t\tclearTimeout( timeout );\n\t\t};\n\t});\n};\n\n\n(function() {\n\tvar input = document.createElement( \"input\" ),\n\t\tselect = document.createElement( \"select\" ),\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\n\n\tinput.type = \"checkbox\";\n\n\t// Support: iOS 5.1, Android 4.x, Android 2.3\n\t// Check the default checkbox/radio value (\"\" on old WebKit; \"on\" elsewhere)\n\tsupport.checkOn = input.value !== \"\";\n\n\t// Must access the parent to make an option select properly\n\t// Support: IE9, IE10\n\tsupport.optSelected = opt.selected;\n\n\t// Make sure that the options inside disabled selects aren't marked as disabled\n\t// (WebKit marks them as disabled)\n\tselect.disabled = true;\n\tsupport.optDisabled = !opt.disabled;\n\n\t// Check if an input maintains its value after becoming a radio\n\t// Support: IE9, IE10\n\tinput = document.createElement( \"input\" );\n\tinput.value = \"t\";\n\tinput.type = \"radio\";\n\tsupport.radioValue = input.value === \"t\";\n})();\n\n\nvar nodeHook, boolHook,\n\tattrHandle = jQuery.expr.attrHandle;\n\njQuery.fn.extend({\n\tattr: function( name, value ) {\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each(function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t});\n\t}\n});\n\njQuery.extend({\n\tattr: function( elem, name, value ) {\n\t\tvar hooks, ret,\n\t\t\tnType = elem.nodeType;\n\n\t\t// don't get/set attributes on text, comment and attribute nodes\n\t\tif ( !elem || nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === strundefined ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\t// All attributes are lowercase\n\t\t// Grab necessary hook if one is defined\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\t\t\tname = name.toLowerCase();\n\t\t\thooks = jQuery.attrHooks[ name ] ||\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : nodeHook );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\n\t\t\t} else if ( hooks && \"set\" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ) {\n\t\t\t\treturn ret;\n\n\t\t\t} else {\n\t\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t} else if ( hooks && \"get\" in hooks && (ret = hooks.get( elem, name )) !== null ) {\n\t\t\treturn ret;\n\n\t\t} else {\n\t\t\tret = jQuery.find.attr( elem, name );\n\n\t\t\t// Non-existent attributes return null, we normalize to undefined\n\t\t\treturn ret == null ?\n\t\t\t\tundefined :\n\t\t\t\tret;\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name, propName,\n\t\t\ti = 0,\n\t\t\tattrNames = value && value.match( rnotwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( (name = attrNames[i++]) ) {\n\t\t\t\tpropName = jQuery.propFix[ name ] || name;\n\n\t\t\t\t// Boolean attributes get special treatment (#10870)\n\t\t\t\tif ( jQuery.expr.match.bool.test( name ) ) {\n\t\t\t\t\t// Set corresponding property to false\n\t\t\t\t\telem[ propName ] = false;\n\t\t\t\t}\n\n\t\t\t\telem.removeAttribute( name );\n\t\t\t}\n\t\t}\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\n\t\t\t\t\tjQuery.nodeName( elem, \"input\" ) ) {\n\t\t\t\t\t// Setting the type on a radio button after the value resets the value in IE6-9\n\t\t\t\t\t// Reset value to default in case type is set after value during creation\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});\n\n// Hooks for boolean attributes\nboolHook = {\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else {\n\t\t\telem.setAttribute( name, name );\n\t\t}\n\t\treturn name;\n\t}\n};\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( i, name ) {\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\n\n\tattrHandle[ name ] = function( elem, name, isXML ) {\n\t\tvar ret, handle;\n\t\tif ( !isXML ) {\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\n\t\t\thandle = attrHandle[ name ];\n\t\t\tattrHandle[ name ] = ret;\n\t\t\tret = getter( elem, name, isXML ) != null ?\n\t\t\t\tname.toLowerCase() :\n\t\t\t\tnull;\n\t\t\tattrHandle[ name ] = handle;\n\t\t}\n\t\treturn ret;\n\t};\n});\n\n\n\n\nvar rfocusable = /^(?:input|select|textarea|button)$/i;\n\njQuery.fn.extend({\n\tprop: function( name, value ) {\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\treturn this.each(function() {\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\n\t\t});\n\t}\n});\n\njQuery.extend({\n\tpropFix: {\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\"\n\t},\n\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks, notxml,\n\t\t\tnType = elem.nodeType;\n\n\t\t// don't get/set properties on text, comment and attribute nodes\n\t\tif ( !elem || nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tnotxml = nType !== 1 || !jQuery.isXMLDoc( elem );\n\n\t\tif ( notxml ) {\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\treturn hooks && \"set\" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ?\n\t\t\t\tret :\n\t\t\t\t( elem[ name ] = value );\n\n\t\t} else {\n\t\t\treturn hooks && \"get\" in hooks && (ret = hooks.get( elem, name )) !== null ?\n\t\t\t\tret :\n\t\t\t\telem[ name ];\n\t\t}\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\t\t\t\treturn elem.hasAttribute( \"tabindex\" ) || rfocusable.test( elem.nodeName ) || elem.href ?\n\t\t\t\t\telem.tabIndex :\n\t\t\t\t\t-1;\n\t\t\t}\n\t\t}\n\t}\n});\n\n// Support: IE9+\n// Selectedness for an option in an optgroup can be inaccurate\nif ( !support.optSelected ) {\n\tjQuery.propHooks.selected = {\n\t\tget: function( elem ) {\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent && parent.parentNode ) {\n\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t};\n}\n\njQuery.each([\n\t\"tabIndex\",\n\t\"readOnly\",\n\t\"maxLength\",\n\t\"cellSpacing\",\n\t\"cellPadding\",\n\t\"rowSpan\",\n\t\"colSpan\",\n\t\"useMap\",\n\t\"frameBorder\",\n\t\"contentEditable\"\n], function() {\n\tjQuery.propFix[ this.toLowerCase() ] = this;\n});\n\n\n\n\nvar rclass = /[\\t\\r\\n\\f]/g;\n\njQuery.fn.extend({\n\taddClass: function( value ) {\n\t\tvar classes, elem, cur, clazz, j, finalValue,\n\t\t\tproceed = typeof value === \"string\" && value,\n\t\t\ti = 0,\n\t\t\tlen = this.length;\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each(function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, this.className ) );\n\t\t\t});\n\t\t}\n\n\t\tif ( proceed ) {\n\t\t\t// The disjunction here is for better compressibility (see removeClass)\n\t\t\tclasses = ( value || \"\" ).match( rnotwhite ) || [];\n\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\telem = this[ i ];\n\t\t\t\tcur = elem.nodeType === 1 && ( elem.className ?\n\t\t\t\t\t( \" \" + elem.className + \" \" ).replace( rclass, \" \" ) :\n\t\t\t\t\t\" \"\n\t\t\t\t);\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( (clazz = classes[j++]) ) {\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + clazz + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += clazz + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = jQuery.trim( cur );\n\t\t\t\t\tif ( elem.className !== finalValue ) {\n\t\t\t\t\t\telem.className = finalValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classes, elem, cur, clazz, j, finalValue,\n\t\t\tproceed = arguments.length === 0 || typeof value === \"string\" && value,\n\t\t\ti = 0,\n\t\t\tlen = this.length;\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each(function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, this.className ) );\n\t\t\t});\n\t\t}\n\t\tif ( proceed ) {\n\t\t\tclasses = ( value || \"\" ).match( rnotwhite ) || [];\n\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\telem = this[ i ];\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = elem.nodeType === 1 && ( elem.className ?\n\t\t\t\t\t( \" \" + elem.className + \" \" ).replace( rclass, \" \" ) :\n\t\t\t\t\t\"\"\n\t\t\t\t);\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( (clazz = classes[j++]) ) {\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + clazz + \" \" ) >= 0 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + clazz + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = value ? jQuery.trim( cur ) : \"\";\n\t\t\t\t\tif ( elem.className !== finalValue ) {\n\t\t\t\t\t\telem.className = finalValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar type = typeof value;\n\n\t\tif ( typeof stateVal === \"boolean\" && type === \"string\" ) {\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\n\t\t}\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each(function( i ) {\n\t\t\t\tjQuery( this ).toggleClass( value.call(this, i, this.className, stateVal), stateVal );\n\t\t\t});\n\t\t}\n\n\t\treturn this.each(function() {\n\t\t\tif ( type === \"string\" ) {\n\t\t\t\t// toggle individual class names\n\t\t\t\tvar className,\n\t\t\t\t\ti = 0,\n\t\t\t\t\tself = jQuery( this ),\n\t\t\t\t\tclassNames = value.match( rnotwhite ) || [];\n\n\t\t\t\twhile ( (className = classNames[ i++ ]) ) {\n\t\t\t\t\t// check each className given, space separated list\n\t\t\t\t\tif ( self.hasClass( className ) ) {\n\t\t\t\t\t\tself.removeClass( className );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.addClass( className );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( type === strundefined || type === \"boolean\" ) {\n\t\t\t\tif ( this.className ) {\n\t\t\t\t\t// store className if set\n\t\t\t\t\tdata_priv.set( this, \"__className__\", this.className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed \"false\",\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tthis.className = this.className || value === false ? \"\" : data_priv.get( this, \"__className__\" ) || \"\";\n\t\t\t}\n\t\t});\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className = \" \" + selector + \" \",\n\t\t\ti = 0,\n\t\t\tl = this.length;\n\t\tfor ( ; i < l; i++ ) {\n\t\t\tif ( this[i].nodeType === 1 && (\" \" + this[i].className + \" \").replace(rclass, \" \").indexOf( className ) >= 0 ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n});\n\n\n\n\nvar rreturn = /\\r/g;\n\njQuery.fn.extend({\n\tval: function( value ) {\n\t\tvar hooks, ret, isFunction,\n\t\t\telem = this[0];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] || jQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks && \"get\" in hooks && (ret = hooks.get( elem, \"value\" )) !== undefined ) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\treturn typeof ret === \"string\" ?\n\t\t\t\t\t// handle most common string cases\n\t\t\t\t\tret.replace(rreturn, \"\") :\n\t\t\t\t\t// handle cases where value is null/undef or number\n\t\t\t\t\tret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tisFunction = jQuery.isFunction( value );\n\n\t\treturn this.each(function( i ) {\n\t\t\tvar val;\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( isFunction ) {\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\n\t\t\t} else if ( jQuery.isArray( val ) ) {\n\t\t\t\tval = jQuery.map( val, function( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t});\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !(\"set\" in hooks) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t});\n\t}\n});\n\njQuery.extend({\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\n\t\t\t\treturn val != null ?\n\t\t\t\t\tval :\n\t\t\t\t\t// Support: IE10-11+\n\t\t\t\t\t// option.text throws exceptions (#14686, #14858)\n\t\t\t\t\tjQuery.trim( jQuery.text( elem ) );\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\" || index < 0,\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length,\n\t\t\t\t\ti = index < 0 ?\n\t\t\t\t\t\tmax :\n\t\t\t\t\t\tone ? index : 0;\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// IE6-9 doesn't update selected after form reset (#2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t( support.optDisabled ? !option.disabled : option.getAttribute( \"disabled\" ) === null ) &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled || !jQuery.nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar optionSet, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\n\t\t\t\t\ti = options.length;\n\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\toption = options[ i ];\n\t\t\t\t\tif ( (option.selected = jQuery.inArray( option.value, values ) >= 0) ) {\n\t\t\t\t\t\toptionSet = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// force browsers to behave consistently when non-matching value is set\n\t\t\t\tif ( !optionSet ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t}\n});\n\n// Radios and checkboxes getter/setter\njQuery.each([ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = {\n\t\tset: function( elem, value ) {\n\t\t\tif ( jQuery.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery(elem).val(), value ) >= 0 );\n\t\t\t}\n\t\t}\n\t};\n\tif ( !support.checkOn ) {\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\n\t\t\t// Support: Webkit\n\t\t\t// \"\" is returned instead of \"on\" if a value isn't specified\n\t\t\treturn elem.getAttribute(\"value\") === null ? \"on\" : elem.value;\n\t\t};\n\t}\n});\n\n\n\n\n// Return jQuery for attributes-only inclusion\n\n\njQuery.each( (\"blur focus focusin focusout load resize scroll unload click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup error contextmenu\").split(\" \"), function( i, name ) {\n\n\t// Handle event binding\n\tjQuery.fn[ name ] = function( data, fn ) {\n\t\treturn arguments.length > 0 ?\n\t\t\tthis.on( name, null, data, fn ) :\n\t\t\tthis.trigger( name );\n\t};\n});\n\njQuery.fn.extend({\n\thover: function( fnOver, fnOut ) {\n\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\n\t},\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ? this.off( selector, \"**\" ) : this.off( types, selector || \"**\", fn );\n\t}\n});\n\n\nvar nonce = jQuery.now();\n\nvar rquery = (/\\?/);\n\n\n\n// Support: Android 2.3\n// Workaround failure to string-cast null input\njQuery.parseJSON = function( data ) {\n\treturn JSON.parse( data + \"\" );\n};\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function( data ) {\n\tvar xml, tmp;\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\n\t// Support: IE9\n\ttry {\n\t\ttmp = new DOMParser();\n\t\txml = tmp.parseFromString( data, \"text/xml\" );\n\t} catch ( e ) {\n\t\txml = undefined;\n\t}\n\n\tif ( !xml || xml.getElementsByTagName( \"parsererror\" ).length ) {\n\t\tjQuery.error( \"Invalid XML: \" + data );\n\t}\n\treturn xml;\n};\n\n\nvar\n\t// Document location\n\tajaxLocParts,\n\tajaxLocation,\n\n\trhash = /#.*$/,\n\trts = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\n\t// #7653, #8125, #8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\trurl = /^([\\w.+-]+:)(?:\\/\\/(?:[^\\/?#]*@|)([^\\/?#:]*)(?::(\\d+)|)|)/,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat(\"*\");\n\n// #8138, IE may throw an exception when accessing\n// a field from window.location if document.domain has been set\ntry {\n\tajaxLocation = location.href;\n} catch( e ) {\n\t// Use the href attribute of an A element\n\t// since IE will modify it given document.location\n\tajaxLocation = document.createElement( \"a\" );\n\tajaxLocation.href = \"\";\n\tajaxLocation = ajaxLocation.href;\n}\n\n// Segment location into parts\najaxLocParts = rurl.exec( ajaxLocation.toLowerCase() ) || [];\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnotwhite ) || [];\n\n\t\tif ( jQuery.isFunction( func ) ) {\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( (dataType = dataTypes[i++]) ) {\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType[0] === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t(structure[ dataType ] = structure[ dataType ] || []).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t(structure[ dataType ] = structure[ dataType ] || []).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" && !seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t});\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes #9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || (deep = {}) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes;\n\n\t// Remove auto dataType and get content-type in the process\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader(\"Content-Type\");\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[0] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\n\tvar conv2, current, conv, tmp, prev,\n\t\tconverters = {},\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice();\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\tcurrent = dataTypes.shift();\n\n\t// Convert to each sequential dataType\n\twhile ( current ) {\n\n\t\tif ( s.responseFields[ current ] ) {\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\n\t\t}\n\n\t\t// Apply the dataFilter if provided\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\n\t\t\tresponse = s.dataFilter( response, s.dataType );\n\t\t}\n\n\t\tprev = current;\n\t\tcurrent = dataTypes.shift();\n\n\t\tif ( current ) {\n\n\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif ( current === \"*\" ) {\n\n\t\t\t\tcurrent = prev;\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s[ \"throws\" ] ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn { state: \"parsererror\", error: conv ? e : \"No conversion from \" + prev + \" to \" + current };\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n\njQuery.extend({\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: ajaxLocation,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( ajaxLocParts[ 1 ] ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /xml/,\n\t\t\thtml: /html/,\n\t\t\tjson: /json/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\",\n\t\t\tjson: \"responseJSON\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": jQuery.parseJSON,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar transport,\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\t\t\t// Cross-domain detection vars\n\t\t\tparts,\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\t\t\t// Loop variable\n\t\t\ti,\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context && ( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\tjQuery.event,\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks(\"once memory\"),\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\t\t\t// The jqXHR state\n\t\t\tstate = 0,\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( state === 2 ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( (match = rheaders.exec( responseHeadersString )) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[1].toLowerCase() ] = match[ 2 ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match;\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn state === 2 ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tvar lname = name.toLowerCase();\n\t\t\t\t\tif ( !state ) {\n\t\t\t\t\t\tname = requestHeadersNames[ lname ] = requestHeadersNames[ lname ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( !state ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( state < 2 ) {\n\t\t\t\t\t\t\tfor ( code in map ) {\n\t\t\t\t\t\t\t\t// Lazy-add the new callback in a way that preserves old ones\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR ).complete = completeDeferred.add;\n\t\tjqXHR.success = jqXHR.done;\n\t\tjqXHR.error = jqXHR.fail;\n\n\t\t// Remove hash character (#7531: and string promotion)\n\t\t// Add protocol if not provided (prefilters might expect it)\n\t\t// Handle falsy url in the settings object (#10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || ajaxLocation ) + \"\" ).replace( rhash, \"\" )\n\t\t\t.replace( rprotocol, ajaxLocParts[ 1 ] + \"//\" );\n\n\t\t// Alias method option to type as per ticket #12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = jQuery.trim( s.dataType || \"*\" ).toLowerCase().match( rnotwhite ) || [ \"\" ];\n\n\t\t// A cross-domain request is in order when we have a protocol:host:port mismatch\n\t\tif ( s.crossDomain == null ) {\n\t\t\tparts = rurl.exec( s.url.toLowerCase() );\n\t\t\ts.crossDomain = !!( parts &&\n\t\t\t\t( parts[ 1 ] !== ajaxLocParts[ 1 ] || parts[ 2 ] !== ajaxLocParts[ 2 ] ||\n\t\t\t\t\t( parts[ 3 ] || ( parts[ 1 ] === \"http:\" ? \"80\" : \"443\" ) ) !==\n\t\t\t\t\t\t( ajaxLocParts[ 3 ] || ( ajaxLocParts[ 1 ] === \"http:\" ? \"80\" : \"443\" ) ) )\n\t\t\t);\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( state === 2 ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\tfireGlobals = s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger(\"ajaxStart\");\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\tcacheURL = s.url;\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// If data is available, append data to url\n\t\t\tif ( s.data ) {\n\t\t\t\tcacheURL = ( s.url += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data );\n\t\t\t\t// #9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add anti-cache in url if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\ts.url = rts.test( cacheURL ) ?\n\n\t\t\t\t\t// If there is already a '_' parameter, set its value\n\t\t\t\t\tcacheURL.replace( rts, \"$1_=\" + nonce++ ) :\n\n\t\t\t\t\t// Otherwise add one to the end\n\t\t\t\t\tcacheURL + ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + nonce++;\n\t\t\t}\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[0] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[0] ] + ( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend && ( s.beforeSend.call( callbackContext, jqXHR, s ) === false || state === 2 ) ) {\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tfor ( i in { success: 1, error: 1, complete: 1 } ) {\n\t\t\tjqXHR[ i ]( s[ i ] );\n\t\t}\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = setTimeout(function() {\n\t\t\t\t\tjqXHR.abort(\"timeout\");\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tstate = 1;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\t\t\t\t// Propagate exception as error if not done\n\t\t\t\tif ( state < 2 ) {\n\t\t\t\t\tdone( -1, e );\n\t\t\t\t// Simply rethrow otherwise\n\t\t\t\t} else {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Called once\n\t\t\tif ( state === 2 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// State is \"done\" now\n\t\t\tstate = 2;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\tclearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Determine if successful\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( isSuccess ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader(\"Last-Modified\");\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader(\"etag\");\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if no content\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\n\t\t\t\t\tstatusText = \"nocontent\";\n\n\t\t\t\t// if not modified\n\t\t\t\t} else if ( status === 304 ) {\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data, let's convert it\n\t\t\t\t} else {\n\t\t\t\t\tstatusText = response.state;\n\t\t\t\t\tsuccess = response.data;\n\t\t\t\t\terror = response.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// We extract error from statusText\n\t\t\t\t// then normalize statusText and status for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger(\"ajaxStop\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t}\n});\n\njQuery.each( [ \"get\", \"post\" ], function( i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\t\t// shift arguments if data argument was omitted\n\t\tif ( jQuery.isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\treturn jQuery.ajax({\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t});\n\t};\n});\n\n// Attach a bunch of functions for handling common AJAX events\njQuery.each( [ \"ajaxStart\", \"ajaxStop\", \"ajaxComplete\", \"ajaxError\", \"ajaxSuccess\", \"ajaxSend\" ], function( i, type ) {\n\tjQuery.fn[ type ] = function( fn ) {\n\t\treturn this.on( type, fn );\n\t};\n});\n\n\njQuery._evalUrl = function( url ) {\n\treturn jQuery.ajax({\n\t\turl: url,\n\t\ttype: \"GET\",\n\t\tdataType: \"script\",\n\t\tasync: false,\n\t\tglobal: false,\n\t\t\"throws\": true\n\t});\n};\n\n\njQuery.fn.extend({\n\twrapAll: function( html ) {\n\t\tvar wrap;\n\n\t\tif ( jQuery.isFunction( html ) ) {\n\t\t\treturn this.each(function( i ) {\n\t\t\t\tjQuery( this ).wrapAll( html.call(this, i) );\n\t\t\t});\n\t\t}\n\n\t\tif ( this[ 0 ] ) {\n\n\t\t\t// The elements to wrap the target around\n\t\t\twrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\n\n\t\t\tif ( this[ 0 ].parentNode ) {\n\t\t\t\twrap.insertBefore( this[ 0 ] );\n\t\t\t}\n\n\t\t\twrap.map(function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstElementChild ) {\n\t\t\t\t\telem = elem.firstElementChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t}).append( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( jQuery.isFunction( html ) ) {\n\t\t\treturn this.each(function( i ) {\n\t\t\t\tjQuery( this ).wrapInner( html.call(this, i) );\n\t\t\t});\n\t\t}\n\n\t\treturn this.each(function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.append( html );\n\t\t\t}\n\t\t});\n\t},\n\n\twrap: function( html ) {\n\t\tvar isFunction = jQuery.isFunction( html );\n\n\t\treturn this.each(function( i ) {\n\t\t\tjQuery( this ).wrapAll( isFunction ? html.call(this, i) : html );\n\t\t});\n\t},\n\n\tunwrap: function() {\n\t\treturn this.parent().each(function() {\n\t\t\tif ( !jQuery.nodeName( this, \"body\" ) ) {\n\t\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t\t}\n\t\t}).end();\n\t}\n});\n\n\njQuery.expr.filters.hidden = function( elem ) {\n\t// Support: Opera <= 12.12\n\t// Opera reports offsetWidths and offsetHeights less than zero on some elements\n\treturn elem.offsetWidth <= 0 && elem.offsetHeight <= 0;\n};\njQuery.expr.filters.visible = function( elem ) {\n\treturn !jQuery.expr.filters.hidden( elem );\n};\n\n\n\n\nvar r20 = /%20/g,\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( jQuery.isArray( obj ) ) {\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams( prefix + \"[\" + ( typeof v === \"object\" ? i : \"\" ) + \"]\", v, traditional, add );\n\t\t\t}\n\t\t});\n\n\t} else if ( !traditional && jQuery.type( obj ) === \"object\" ) {\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, value ) {\n\t\t\t// If value is a function, invoke it and return its value\n\t\t\tvalue = jQuery.isFunction( value ) ? value() : ( value == null ? \"\" : value );\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" + encodeURIComponent( value );\n\t\t};\n\n\t// Set traditional to true for jQuery <= 1.3.2 behavior.\n\tif ( traditional === undefined ) {\n\t\ttraditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional;\n\t}\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( jQuery.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t});\n\n\t} else {\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" ).replace( r20, \"+\" );\n};\n\njQuery.fn.extend({\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map(function() {\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t})\n\t\t.filter(function() {\n\t\t\tvar type = this.type;\n\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\n\t\t})\n\t\t.map(function( i, elem ) {\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\treturn val == null ?\n\t\t\t\tnull :\n\t\t\t\tjQuery.isArray( val ) ?\n\t\t\t\t\tjQuery.map( val, function( val ) {\n\t\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t\t}) :\n\t\t\t\t\t{ name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t}).get();\n\t}\n});\n\n\njQuery.ajaxSettings.xhr = function() {\n\ttry {\n\t\treturn new XMLHttpRequest();\n\t} catch( e ) {}\n};\n\nvar xhrId = 0,\n\txhrCallbacks = {},\n\txhrSuccessStatus = {\n\t\t// file protocol always yields status code 0, assume 200\n\t\t0: 200,\n\t\t// Support: IE9\n\t\t// #1450: sometimes IE returns 1223 when it should be 204\n\t\t1223: 204\n\t},\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\n// Support: IE9\n// Open requests must be manually aborted on unload (#5280)\nif ( window.ActiveXObject ) {\n\tjQuery( window ).on( \"unload\", function() {\n\t\tfor ( var key in xhrCallbacks ) {\n\t\t\txhrCallbacks[ key ]();\n\t\t}\n\t});\n}\n\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nsupport.ajax = xhrSupported = !!xhrSupported;\n\njQuery.ajaxTransport(function( options ) {\n\tvar callback;\n\n\t// Cross domain only allowed if supported through XMLHttpRequest\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\n\t\treturn {\n\t\t\tsend: function( headers, complete ) {\n\t\t\t\tvar i,\n\t\t\t\t\txhr = options.xhr(),\n\t\t\t\t\tid = ++xhrId;\n\n\t\t\t\txhr.open( options.type, options.url, options.async, options.username, options.password );\n\n\t\t\t\t// Apply custom fields if provided\n\t\t\t\tif ( options.xhrFields ) {\n\t\t\t\t\tfor ( i in options.xhrFields ) {\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override mime type if needed\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\n\t\t\t\t}\n\n\t\t\t\t// X-Requested-With header\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\tif ( !options.crossDomain && !headers[\"X-Requested-With\"] ) {\n\t\t\t\t\theaders[\"X-Requested-With\"] = \"XMLHttpRequest\";\n\t\t\t\t}\n\n\t\t\t\t// Set headers\n\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t}\n\n\t\t\t\t// Callback\n\t\t\t\tcallback = function( type ) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\tdelete xhrCallbacks[ id ];\n\t\t\t\t\t\t\tcallback = xhr.onload = xhr.onerror = null;\n\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\n\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\t// file: protocol always yields status 0; see #8605, #14207\n\t\t\t\t\t\t\t\t\txhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText,\n\t\t\t\t\t\t\t\t\t// Support: IE9\n\t\t\t\t\t\t\t\t\t// Accessing binary-data responseText throws an exception\n\t\t\t\t\t\t\t\t\t// (#11426)\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText === \"string\" ? {\n\t\t\t\t\t\t\t\t\t\ttext: xhr.responseText\n\t\t\t\t\t\t\t\t\t} : undefined,\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// Listen to events\n\t\t\t\txhr.onload = callback();\n\t\t\t\txhr.onerror = callback(\"error\");\n\n\t\t\t\t// Create the abort callback\n\t\t\t\tcallback = xhrCallbacks[ id ] = callback(\"abort\");\n\n\t\t\t\ttry {\n\t\t\t\t\t// Do send the request (this may raise an exception)\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\n\t\t\t\t} catch ( e ) {\n\t\t\t\t\t// #14683: Only rethrow if this hasn't been notified as an error yet\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n});\n\n\n\n\n// Install script dataType\njQuery.ajaxSetup({\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /(?:java|ecma)script/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n});\n\n// Handle cache's special case and crossDomain\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t}\n});\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function( s ) {\n\t// This transport only deals with cross domain requests\n\tif ( s.crossDomain ) {\n\t\tvar script, callback;\n\t\treturn {\n\t\t\tsend: function( _, complete ) {\n\t\t\t\tscript = jQuery(\"<script>\").prop({\n\t\t\t\t\tasync: true,\n\t\t\t\t\tcharset: s.scriptCharset,\n\t\t\t\t\tsrc: s.url\n\t\t\t\t}).on(\n\t\t\t\t\t\"load error\",\n\t\t\t\t\tcallback = function( evt ) {\n\t\t\t\t\t\tscript.remove();\n\t\t\t\t\t\tcallback = null;\n\t\t\t\t\t\tif ( evt ) {\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\n\t\t\t},\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n});\n\n\n\n\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup({\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n});\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" && !( s.contentType || \"\" ).indexOf(\"application/x-www-form-urlencoded\") && rjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[\"script json\"] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always(function() {\n\t\t\t// Restore preexisting value\n\t\t\twindow[ callbackName ] = overwritten;\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\t\t\t\t// make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && jQuery.isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t});\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n});\n\n\n\n\n// data: string of html\n// context (optional): If specified, the fragment will be created in this context, defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function( data, context, keepScripts ) {\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\tif ( typeof context === \"boolean\" ) {\n\t\tkeepScripts = context;\n\t\tcontext = false;\n\t}\n\tcontext = context || document;\n\n\tvar parsed = rsingleTag.exec( data ),\n\t\tscripts = !keepScripts && [];\n\n\t// Single tag\n\tif ( parsed ) {\n\t\treturn [ context.createElement( parsed[1] ) ];\n\t}\n\n\tparsed = jQuery.buildFragment( [ data ], context, scripts );\n\n\tif ( scripts && scripts.length ) {\n\t\tjQuery( scripts ).remove();\n\t}\n\n\treturn jQuery.merge( [], parsed.childNodes );\n};\n\n\n// Keep a copy of the old load method\nvar _load = jQuery.fn.load;\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function( url, params, callback ) {\n\tif ( typeof url !== \"string\" && _load ) {\n\t\treturn _load.apply( this, arguments );\n\t}\n\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf(\" \");\n\n\tif ( off >= 0 ) {\n\t\tselector = jQuery.trim( url.slice( off ) );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( jQuery.isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax({\n\t\t\turl: url,\n\n\t\t\t// if \"type\" variable is undefined, then \"GET\" method will be used\n\t\t\ttype: type,\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t}).done(function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery(\"<div>\").append( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t}).complete( callback && function( jqXHR, status ) {\n\t\t\tself.each( callback, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t});\n\t}\n\n\treturn this;\n};\n\n\n\n\njQuery.expr.filters.animated = function( elem ) {\n\treturn jQuery.grep(jQuery.timers, function( fn ) {\n\t\treturn elem === fn.elem;\n\t}).length;\n};\n\n\n\n\nvar docElem = window.document.documentElement;\n\n/**\n * Gets a window from an element\n */\nfunction getWindow( elem ) {\n\treturn jQuery.isWindow( elem ) ? elem : elem.nodeType === 9 && elem.defaultView;\n}\n\njQuery.offset = {\n\tsetOffset: function( elem, options, i ) {\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\n\t\t\tposition = jQuery.css( elem, \"position\" ),\n\t\t\tcurElem = jQuery( elem ),\n\t\t\tprops = {};\n\n\t\t// Set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tcurOffset = curElem.offset();\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\n\t\t\t( curCSSTop + curCSSLeft ).indexOf(\"auto\") > -1;\n\n\t\t// Need to be able to calculate position if either top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( jQuery.isFunction( options ) ) {\n\t\t\toptions = options.call( elem, i, curOffset );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\n\t\t} else {\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\njQuery.fn.extend({\n\toffset: function( options ) {\n\t\tif ( arguments.length ) {\n\t\t\treturn options === undefined ?\n\t\t\t\tthis :\n\t\t\t\tthis.each(function( i ) {\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t\t});\n\t\t}\n\n\t\tvar docElem, win,\n\t\t\telem = this[ 0 ],\n\t\t\tbox = { top: 0, left: 0 },\n\t\t\tdoc = elem && elem.ownerDocument;\n\n\t\tif ( !doc ) {\n\t\t\treturn;\n\t\t}\n\n\t\tdocElem = doc.documentElement;\n\n\t\t// Make sure it's not a disconnected DOM node\n\t\tif ( !jQuery.contains( docElem, elem ) ) {\n\t\t\treturn box;\n\t\t}\n\n\t\t// If we don't have gBCR, just use 0,0 rather than error\n\t\t// BlackBerry 5, iOS 3 (original iPhone)\n\t\tif ( typeof elem.getBoundingClientRect !== strundefined ) {\n\t\t\tbox = elem.getBoundingClientRect();\n\t\t}\n\t\twin = getWindow( doc );\n\t\treturn {\n\t\t\ttop: box.top + win.pageYOffset - docElem.clientTop,\n\t\t\tleft: box.left + win.pageXOffset - docElem.clientLeft\n\t\t};\n\t},\n\n\tposition: function() {\n\t\tif ( !this[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar offsetParent, offset,\n\t\t\telem = this[ 0 ],\n\t\t\tparentOffset = { top: 0, left: 0 };\n\n\t\t// Fixed elements are offset from window (parentOffset = {top:0, left: 0}, because it is its only offset parent\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\n\t\t\t// We assume that getBoundingClientRect is available when computed position is fixed\n\t\t\toffset = elem.getBoundingClientRect();\n\n\t\t} else {\n\t\t\t// Get *real* offsetParent\n\t\t\toffsetParent = this.offsetParent();\n\n\t\t\t// Get correct offsets\n\t\t\toffset = this.offset();\n\t\t\tif ( !jQuery.nodeName( offsetParent[ 0 ], \"html\" ) ) {\n\t\t\t\tparentOffset = offsetParent.offset();\n\t\t\t}\n\n\t\t\t// Add offsetParent borders\n\t\t\tparentOffset.top += jQuery.css( offsetParent[ 0 ], \"borderTopWidth\", true );\n\t\t\tparentOffset.left += jQuery.css( offsetParent[ 0 ], \"borderLeftWidth\", true );\n\t\t}\n\n\t\t// Subtract parent offsets and element margins\n\t\treturn {\n\t\t\ttop: offset.top - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\n\t\t};\n\t},\n\n\toffsetParent: function() {\n\t\treturn this.map(function() {\n\t\t\tvar offsetParent = this.offsetParent || docElem;\n\n\t\t\twhile ( offsetParent && ( !jQuery.nodeName( offsetParent, \"html\" ) && jQuery.css( offsetParent, \"position\" ) === \"static\" ) ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\n\t\t\treturn offsetParent || docElem;\n\t\t});\n\t}\n});\n\n// Create scrollLeft and scrollTop methods\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\n\tvar top = \"pageYOffset\" === prop;\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn access( this, function( elem, method, val ) {\n\t\t\tvar win = getWindow( elem );\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? win[ prop ] : elem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : window.pageXOffset,\n\t\t\t\t\ttop ? val : window.pageYOffset\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length, null );\n\t};\n});\n\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// getComputedStyle returns percent when specified for top/left/bottom/right\n// rather than make the css module depend on the offset module, we just check for it here\njQuery.each( [ \"top\", \"left\" ], function( i, prop ) {\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\n\t\tfunction( elem, computed ) {\n\t\t\tif ( computed ) {\n\t\t\t\tcomputed = curCSS( elem, prop );\n\t\t\t\t// if curCSS returns percentage, fallback to offset\n\t\t\t\treturn rnumnonpx.test( computed ) ?\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\n\t\t\t\t\tcomputed;\n\t\t\t}\n\t\t}\n\t);\n});\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( { padding: \"inner\" + name, content: type, \"\": \"outer\" + name }, function( defaultExtra, funcName ) {\n\t\t// margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( jQuery.isWindow( elem ) ) {\n\t\t\t\t\t// As of 5/8/2012 this will yield incorrect results for Mobile Safari, but there\n\t\t\t\t\t// isn't a whole lot we can do. See pull request at this URL for discussion:\n\t\t\t\t\t// https://github.com/jquery/jquery/pull/764\n\t\t\t\t\treturn elem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n\t\t\t\t\t// whichever is greatest\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable, null );\n\t\t};\n\t});\n});\n\n\n// The number of elements contained in the matched element set\njQuery.fn.size = function() {\n\treturn this.length;\n};\n\njQuery.fn.andSelf = jQuery.fn.addBack;\n\n\n\n\n// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\nif ( typeof define === \"function\" && define.amd ) {\n\tdefine( \"jquery\", [], function() {\n\t\treturn jQuery;\n\t});\n}\n\n\n\n\nvar\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$;\n\njQuery.noConflict = function( deep ) {\n\tif ( window.$ === jQuery ) {\n\t\twindow.$ = _$;\n\t}\n\n\tif ( deep && window.jQuery === jQuery ) {\n\t\twindow.jQuery = _jQuery;\n\t}\n\n\treturn jQuery;\n};\n\n// Expose jQuery and $ identifiers, even in\n// AMD (#7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (#13566)\nif ( typeof noGlobal === strundefined ) {\n\twindow.jQuery = window.$ = jQuery;\n}\n\n\n\n\nreturn jQuery;\n\n}));\n\n},{}],53:[function(require,module,exports){\n/*! Magnific Popup - v1.1.0 - 2016-02-20\n* http://dimsemenov.com/plugins/magnific-popup/\n* Copyright (c) 2016 Dmitry Semenov; */\n;(function (factory) { \nif (typeof define === 'function' && define.amd) { \n // AMD. Register as an anonymous module. \n define(['jquery'], factory); \n } else if (typeof exports === 'object') { \n // Node/CommonJS \n factory(require('jquery')); \n } else { \n // Browser globals \n factory(window.jQuery || window.Zepto); \n } \n }(function($) { \n\n/*>>core*/\n/**\n * \n * Magnific Popup Core JS file\n * \n */\n\n\n/**\n * Private static constants\n */\nvar CLOSE_EVENT = 'Close',\n\tBEFORE_CLOSE_EVENT = 'BeforeClose',\n\tAFTER_CLOSE_EVENT = 'AfterClose',\n\tBEFORE_APPEND_EVENT = 'BeforeAppend',\n\tMARKUP_PARSE_EVENT = 'MarkupParse',\n\tOPEN_EVENT = 'Open',\n\tCHANGE_EVENT = 'Change',\n\tNS = 'mfp',\n\tEVENT_NS = '.' + NS,\n\tREADY_CLASS = 'mfp-ready',\n\tREMOVING_CLASS = 'mfp-removing',\n\tPREVENT_CLOSE_CLASS = 'mfp-prevent-close';\n\n\n/**\n * Private vars \n */\n/*jshint -W079 */\nvar mfp, // As we have only one instance of MagnificPopup object, we define it locally to not to use 'this'\n\tMagnificPopup = function(){},\n\t_isJQ = !!(window.jQuery),\n\t_prevStatus,\n\t_window = $(window),\n\t_document,\n\t_prevContentType,\n\t_wrapClasses,\n\t_currPopupType;\n\n\n/**\n * Private functions\n */\nvar _mfpOn = function(name, f) {\n\t\tmfp.ev.on(NS + name + EVENT_NS, f);\n\t},\n\t_getEl = function(className, appendTo, html, raw) {\n\t\tvar el = document.createElement('div');\n\t\tel.className = 'mfp-'+className;\n\t\tif(html) {\n\t\t\tel.innerHTML = html;\n\t\t}\n\t\tif(!raw) {\n\t\t\tel = $(el);\n\t\t\tif(appendTo) {\n\t\t\t\tel.appendTo(appendTo);\n\t\t\t}\n\t\t} else if(appendTo) {\n\t\t\tappendTo.appendChild(el);\n\t\t}\n\t\treturn el;\n\t},\n\t_mfpTrigger = function(e, data) {\n\t\tmfp.ev.triggerHandler(NS + e, data);\n\n\t\tif(mfp.st.callbacks) {\n\t\t\t// converts \"mfpEventName\" to \"eventName\" callback and triggers it if it's present\n\t\t\te = e.charAt(0).toLowerCase() + e.slice(1);\n\t\t\tif(mfp.st.callbacks[e]) {\n\t\t\t\tmfp.st.callbacks[e].apply(mfp, $.isArray(data) ? data : [data]);\n\t\t\t}\n\t\t}\n\t},\n\t_getCloseBtn = function(type) {\n\t\tif(type !== _currPopupType || !mfp.currTemplate.closeBtn) {\n\t\t\tmfp.currTemplate.closeBtn = $( mfp.st.closeMarkup.replace('%title%', mfp.st.tClose ) );\n\t\t\t_currPopupType = type;\n\t\t}\n\t\treturn mfp.currTemplate.closeBtn;\n\t},\n\t// Initialize Magnific Popup only when called at least once\n\t_checkInstance = function() {\n\t\tif(!$.magnificPopup.instance) {\n\t\t\t/*jshint -W020 */\n\t\t\tmfp = new MagnificPopup();\n\t\t\tmfp.init();\n\t\t\t$.magnificPopup.instance = mfp;\n\t\t}\n\t},\n\t// CSS transition detection, http://stackoverflow.com/questions/7264899/detect-css-transitions-using-javascript-and-without-modernizr\n\tsupportsTransitions = function() {\n\t\tvar s = document.createElement('p').style, // 's' for style. better to create an element if body yet to exist\n\t\t\tv = ['ms','O','Moz','Webkit']; // 'v' for vendor\n\n\t\tif( s['transition'] !== undefined ) {\n\t\t\treturn true; \n\t\t}\n\t\t\t\n\t\twhile( v.length ) {\n\t\t\tif( v.pop() + 'Transition' in s ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\t\t\n\t\treturn false;\n\t};\n\n\n\n/**\n * Public functions\n */\nMagnificPopup.prototype = {\n\n\tconstructor: MagnificPopup,\n\n\t/**\n\t * Initializes Magnific Popup plugin. \n\t * This function is triggered only once when $.fn.magnificPopup or $.magnificPopup is executed\n\t */\n\tinit: function() {\n\t\tvar appVersion = navigator.appVersion;\n\t\tmfp.isLowIE = mfp.isIE8 = document.all && !document.addEventListener;\n\t\tmfp.isAndroid = (/android/gi).test(appVersion);\n\t\tmfp.isIOS = (/iphone|ipad|ipod/gi).test(appVersion);\n\t\tmfp.supportsTransition = supportsTransitions();\n\n\t\t// We disable fixed positioned lightbox on devices that don't handle it nicely.\n\t\t// If you know a better way of detecting this - let me know.\n\t\tmfp.probablyMobile = (mfp.isAndroid || mfp.isIOS || /(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent) );\n\t\t_document = $(document);\n\n\t\tmfp.popupsCache = {};\n\t},\n\n\t/**\n\t * Opens popup\n\t * @param  data [description]\n\t */\n\topen: function(data) {\n\n\t\tvar i;\n\n\t\tif(data.isObj === false) { \n\t\t\t// convert jQuery collection to array to avoid conflicts later\n\t\t\tmfp.items = data.items.toArray();\n\n\t\t\tmfp.index = 0;\n\t\t\tvar items = data.items,\n\t\t\t\titem;\n\t\t\tfor(i = 0; i < items.length; i++) {\n\t\t\t\titem = items[i];\n\t\t\t\tif(item.parsed) {\n\t\t\t\t\titem = item.el[0];\n\t\t\t\t}\n\t\t\t\tif(item === data.el[0]) {\n\t\t\t\t\tmfp.index = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tmfp.items = $.isArray(data.items) ? data.items : [data.items];\n\t\t\tmfp.index = data.index || 0;\n\t\t}\n\n\t\t// if popup is already opened - we just update the content\n\t\tif(mfp.isOpen) {\n\t\t\tmfp.updateItemHTML();\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tmfp.types = []; \n\t\t_wrapClasses = '';\n\t\tif(data.mainEl && data.mainEl.length) {\n\t\t\tmfp.ev = data.mainEl.eq(0);\n\t\t} else {\n\t\t\tmfp.ev = _document;\n\t\t}\n\n\t\tif(data.key) {\n\t\t\tif(!mfp.popupsCache[data.key]) {\n\t\t\t\tmfp.popupsCache[data.key] = {};\n\t\t\t}\n\t\t\tmfp.currTemplate = mfp.popupsCache[data.key];\n\t\t} else {\n\t\t\tmfp.currTemplate = {};\n\t\t}\n\n\n\n\t\tmfp.st = $.extend(true, {}, $.magnificPopup.defaults, data ); \n\t\tmfp.fixedContentPos = mfp.st.fixedContentPos === 'auto' ? !mfp.probablyMobile : mfp.st.fixedContentPos;\n\n\t\tif(mfp.st.modal) {\n\t\t\tmfp.st.closeOnContentClick = false;\n\t\t\tmfp.st.closeOnBgClick = false;\n\t\t\tmfp.st.showCloseBtn = false;\n\t\t\tmfp.st.enableEscapeKey = false;\n\t\t}\n\t\t\n\n\t\t// Building markup\n\t\t// main containers are created only once\n\t\tif(!mfp.bgOverlay) {\n\n\t\t\t// Dark overlay\n\t\t\tmfp.bgOverlay = _getEl('bg').on('click'+EVENT_NS, function() {\n\t\t\t\tmfp.close();\n\t\t\t});\n\n\t\t\tmfp.wrap = _getEl('wrap').attr('tabindex', -1).on('click'+EVENT_NS, function(e) {\n\t\t\t\tif(mfp._checkIfClose(e.target)) {\n\t\t\t\t\tmfp.close();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmfp.container = _getEl('container', mfp.wrap);\n\t\t}\n\n\t\tmfp.contentContainer = _getEl('content');\n\t\tif(mfp.st.preloader) {\n\t\t\tmfp.preloader = _getEl('preloader', mfp.container, mfp.st.tLoading);\n\t\t}\n\n\n\t\t// Initializing modules\n\t\tvar modules = $.magnificPopup.modules;\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar n = modules[i];\n\t\t\tn = n.charAt(0).toUpperCase() + n.slice(1);\n\t\t\tmfp['init'+n].call(mfp);\n\t\t}\n\t\t_mfpTrigger('BeforeOpen');\n\n\n\t\tif(mfp.st.showCloseBtn) {\n\t\t\t// Close button\n\t\t\tif(!mfp.st.closeBtnInside) {\n\t\t\t\tmfp.wrap.append( _getCloseBtn() );\n\t\t\t} else {\n\t\t\t\t_mfpOn(MARKUP_PARSE_EVENT, function(e, template, values, item) {\n\t\t\t\t\tvalues.close_replaceWith = _getCloseBtn(item.type);\n\t\t\t\t});\n\t\t\t\t_wrapClasses += ' mfp-close-btn-in';\n\t\t\t}\n\t\t}\n\n\t\tif(mfp.st.alignTop) {\n\t\t\t_wrapClasses += ' mfp-align-top';\n\t\t}\n\n\t\n\n\t\tif(mfp.fixedContentPos) {\n\t\t\tmfp.wrap.css({\n\t\t\t\toverflow: mfp.st.overflowY,\n\t\t\t\toverflowX: 'hidden',\n\t\t\t\toverflowY: mfp.st.overflowY\n\t\t\t});\n\t\t} else {\n\t\t\tmfp.wrap.css({ \n\t\t\t\ttop: _window.scrollTop(),\n\t\t\t\tposition: 'absolute'\n\t\t\t});\n\t\t}\n\t\tif( mfp.st.fixedBgPos === false || (mfp.st.fixedBgPos === 'auto' && !mfp.fixedContentPos) ) {\n\t\t\tmfp.bgOverlay.css({\n\t\t\t\theight: _document.height(),\n\t\t\t\tposition: 'absolute'\n\t\t\t});\n\t\t}\n\n\t\t\n\n\t\tif(mfp.st.enableEscapeKey) {\n\t\t\t// Close on ESC key\n\t\t\t_document.on('keyup' + EVENT_NS, function(e) {\n\t\t\t\tif(e.keyCode === 27) {\n\t\t\t\t\tmfp.close();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t_window.on('resize' + EVENT_NS, function() {\n\t\t\tmfp.updateSize();\n\t\t});\n\n\n\t\tif(!mfp.st.closeOnContentClick) {\n\t\t\t_wrapClasses += ' mfp-auto-cursor';\n\t\t}\n\t\t\n\t\tif(_wrapClasses)\n\t\t\tmfp.wrap.addClass(_wrapClasses);\n\n\n\t\t// this triggers recalculation of layout, so we get it once to not to trigger twice\n\t\tvar windowHeight = mfp.wH = _window.height();\n\n\t\t\n\t\tvar windowStyles = {};\n\n\t\tif( mfp.fixedContentPos ) {\n            if(mfp._hasScrollBar(windowHeight)){\n                var s = mfp._getScrollbarSize();\n                if(s) {\n                    windowStyles.marginRight = s;\n                }\n            }\n        }\n\n\t\tif(mfp.fixedContentPos) {\n\t\t\tif(!mfp.isIE7) {\n\t\t\t\twindowStyles.overflow = 'hidden';\n\t\t\t} else {\n\t\t\t\t// ie7 double-scroll bug\n\t\t\t\t$('body, html').css('overflow', 'hidden');\n\t\t\t}\n\t\t}\n\n\t\t\n\t\t\n\t\tvar classesToadd = mfp.st.mainClass;\n\t\tif(mfp.isIE7) {\n\t\t\tclassesToadd += ' mfp-ie7';\n\t\t}\n\t\tif(classesToadd) {\n\t\t\tmfp._addClassToMFP( classesToadd );\n\t\t}\n\n\t\t// add content\n\t\tmfp.updateItemHTML();\n\n\t\t_mfpTrigger('BuildControls');\n\n\t\t// remove scrollbar, add margin e.t.c\n\t\t$('html').css(windowStyles);\n\t\t\n\t\t// add everything to DOM\n\t\tmfp.bgOverlay.add(mfp.wrap).prependTo( mfp.st.prependTo || $(document.body) );\n\n\t\t// Save last focused element\n\t\tmfp._lastFocusedEl = document.activeElement;\n\t\t\n\t\t// Wait for next cycle to allow CSS transition\n\t\tsetTimeout(function() {\n\t\t\t\n\t\t\tif(mfp.content) {\n\t\t\t\tmfp._addClassToMFP(READY_CLASS);\n\t\t\t\tmfp._setFocus();\n\t\t\t} else {\n\t\t\t\t// if content is not defined (not loaded e.t.c) we add class only for BG\n\t\t\t\tmfp.bgOverlay.addClass(READY_CLASS);\n\t\t\t}\n\t\t\t\n\t\t\t// Trap the focus in popup\n\t\t\t_document.on('focusin' + EVENT_NS, mfp._onFocusIn);\n\n\t\t}, 16);\n\n\t\tmfp.isOpen = true;\n\t\tmfp.updateSize(windowHeight);\n\t\t_mfpTrigger(OPEN_EVENT);\n\n\t\treturn data;\n\t},\n\n\t/**\n\t * Closes the popup\n\t */\n\tclose: function() {\n\t\tif(!mfp.isOpen) return;\n\t\t_mfpTrigger(BEFORE_CLOSE_EVENT);\n\n\t\tmfp.isOpen = false;\n\t\t// for CSS3 animation\n\t\tif(mfp.st.removalDelay && !mfp.isLowIE && mfp.supportsTransition )  {\n\t\t\tmfp._addClassToMFP(REMOVING_CLASS);\n\t\t\tsetTimeout(function() {\n\t\t\t\tmfp._close();\n\t\t\t}, mfp.st.removalDelay);\n\t\t} else {\n\t\t\tmfp._close();\n\t\t}\n\t},\n\n\t/**\n\t * Helper for close() function\n\t */\n\t_close: function() {\n\t\t_mfpTrigger(CLOSE_EVENT);\n\n\t\tvar classesToRemove = REMOVING_CLASS + ' ' + READY_CLASS + ' ';\n\n\t\tmfp.bgOverlay.detach();\n\t\tmfp.wrap.detach();\n\t\tmfp.container.empty();\n\n\t\tif(mfp.st.mainClass) {\n\t\t\tclassesToRemove += mfp.st.mainClass + ' ';\n\t\t}\n\n\t\tmfp._removeClassFromMFP(classesToRemove);\n\n\t\tif(mfp.fixedContentPos) {\n\t\t\tvar windowStyles = {marginRight: ''};\n\t\t\tif(mfp.isIE7) {\n\t\t\t\t$('body, html').css('overflow', '');\n\t\t\t} else {\n\t\t\t\twindowStyles.overflow = '';\n\t\t\t}\n\t\t\t$('html').css(windowStyles);\n\t\t}\n\t\t\n\t\t_document.off('keyup' + EVENT_NS + ' focusin' + EVENT_NS);\n\t\tmfp.ev.off(EVENT_NS);\n\n\t\t// clean up DOM elements that aren't removed\n\t\tmfp.wrap.attr('class', 'mfp-wrap').removeAttr('style');\n\t\tmfp.bgOverlay.attr('class', 'mfp-bg');\n\t\tmfp.container.attr('class', 'mfp-container');\n\n\t\t// remove close button from target element\n\t\tif(mfp.st.showCloseBtn &&\n\t\t(!mfp.st.closeBtnInside || mfp.currTemplate[mfp.currItem.type] === true)) {\n\t\t\tif(mfp.currTemplate.closeBtn)\n\t\t\t\tmfp.currTemplate.closeBtn.detach();\n\t\t}\n\n\n\t\tif(mfp.st.autoFocusLast && mfp._lastFocusedEl) {\n\t\t\t$(mfp._lastFocusedEl).focus(); // put tab focus back\n\t\t}\n\t\tmfp.currItem = null;\t\n\t\tmfp.content = null;\n\t\tmfp.currTemplate = null;\n\t\tmfp.prevHeight = 0;\n\n\t\t_mfpTrigger(AFTER_CLOSE_EVENT);\n\t},\n\t\n\tupdateSize: function(winHeight) {\n\n\t\tif(mfp.isIOS) {\n\t\t\t// fixes iOS nav bars https://github.com/dimsemenov/Magnific-Popup/issues/2\n\t\t\tvar zoomLevel = document.documentElement.clientWidth / window.innerWidth;\n\t\t\tvar height = window.innerHeight * zoomLevel;\n\t\t\tmfp.wrap.css('height', height);\n\t\t\tmfp.wH = height;\n\t\t} else {\n\t\t\tmfp.wH = winHeight || _window.height();\n\t\t}\n\t\t// Fixes #84: popup incorrectly positioned with position:relative on body\n\t\tif(!mfp.fixedContentPos) {\n\t\t\tmfp.wrap.css('height', mfp.wH);\n\t\t}\n\n\t\t_mfpTrigger('Resize');\n\n\t},\n\n\t/**\n\t * Set content of popup based on current index\n\t */\n\tupdateItemHTML: function() {\n\t\tvar item = mfp.items[mfp.index];\n\n\t\t// Detach and perform modifications\n\t\tmfp.contentContainer.detach();\n\n\t\tif(mfp.content)\n\t\t\tmfp.content.detach();\n\n\t\tif(!item.parsed) {\n\t\t\titem = mfp.parseEl( mfp.index );\n\t\t}\n\n\t\tvar type = item.type;\n\n\t\t_mfpTrigger('BeforeChange', [mfp.currItem ? mfp.currItem.type : '', type]);\n\t\t// BeforeChange event works like so:\n\t\t// _mfpOn('BeforeChange', function(e, prevType, newType) { });\n\n\t\tmfp.currItem = item;\n\n\t\tif(!mfp.currTemplate[type]) {\n\t\t\tvar markup = mfp.st[type] ? mfp.st[type].markup : false;\n\n\t\t\t// allows to modify markup\n\t\t\t_mfpTrigger('FirstMarkupParse', markup);\n\n\t\t\tif(markup) {\n\t\t\t\tmfp.currTemplate[type] = $(markup);\n\t\t\t} else {\n\t\t\t\t// if there is no markup found we just define that template is parsed\n\t\t\t\tmfp.currTemplate[type] = true;\n\t\t\t}\n\t\t}\n\n\t\tif(_prevContentType && _prevContentType !== item.type) {\n\t\t\tmfp.container.removeClass('mfp-'+_prevContentType+'-holder');\n\t\t}\n\n\t\tvar newContent = mfp['get' + type.charAt(0).toUpperCase() + type.slice(1)](item, mfp.currTemplate[type]);\n\t\tmfp.appendContent(newContent, type);\n\n\t\titem.preloaded = true;\n\n\t\t_mfpTrigger(CHANGE_EVENT, item);\n\t\t_prevContentType = item.type;\n\n\t\t// Append container back after its content changed\n\t\tmfp.container.prepend(mfp.contentContainer);\n\n\t\t_mfpTrigger('AfterChange');\n\t},\n\n\n\t/**\n\t * Set HTML content of popup\n\t */\n\tappendContent: function(newContent, type) {\n\t\tmfp.content = newContent;\n\n\t\tif(newContent) {\n\t\t\tif(mfp.st.showCloseBtn && mfp.st.closeBtnInside &&\n\t\t\t\tmfp.currTemplate[type] === true) {\n\t\t\t\t// if there is no markup, we just append close button element inside\n\t\t\t\tif(!mfp.content.find('.mfp-close').length) {\n\t\t\t\t\tmfp.content.append(_getCloseBtn());\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmfp.content = newContent;\n\t\t\t}\n\t\t} else {\n\t\t\tmfp.content = '';\n\t\t}\n\n\t\t_mfpTrigger(BEFORE_APPEND_EVENT);\n\t\tmfp.container.addClass('mfp-'+type+'-holder');\n\n\t\tmfp.contentContainer.append(mfp.content);\n\t},\n\n\n\t/**\n\t * Creates Magnific Popup data object based on given data\n\t * @param  {int} index Index of item to parse\n\t */\n\tparseEl: function(index) {\n\t\tvar item = mfp.items[index],\n\t\t\ttype;\n\n\t\tif(item.tagName) {\n\t\t\titem = { el: $(item) };\n\t\t} else {\n\t\t\ttype = item.type;\n\t\t\titem = { data: item, src: item.src };\n\t\t}\n\n\t\tif(item.el) {\n\t\t\tvar types = mfp.types;\n\n\t\t\t// check for 'mfp-TYPE' class\n\t\t\tfor(var i = 0; i < types.length; i++) {\n\t\t\t\tif( item.el.hasClass('mfp-'+types[i]) ) {\n\t\t\t\t\ttype = types[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\titem.src = item.el.attr('data-mfp-src');\n\t\t\tif(!item.src) {\n\t\t\t\titem.src = item.el.attr('href');\n\t\t\t}\n\t\t}\n\n\t\titem.type = type || mfp.st.type || 'inline';\n\t\titem.index = index;\n\t\titem.parsed = true;\n\t\tmfp.items[index] = item;\n\t\t_mfpTrigger('ElementParse', item);\n\n\t\treturn mfp.items[index];\n\t},\n\n\n\t/**\n\t * Initializes single popup or a group of popups\n\t */\n\taddGroup: function(el, options) {\n\t\tvar eHandler = function(e) {\n\t\t\te.mfpEl = this;\n\t\t\tmfp._openClick(e, el, options);\n\t\t};\n\n\t\tif(!options) {\n\t\t\toptions = {};\n\t\t}\n\n\t\tvar eName = 'click.magnificPopup';\n\t\toptions.mainEl = el;\n\n\t\tif(options.items) {\n\t\t\toptions.isObj = true;\n\t\t\tel.off(eName).on(eName, eHandler);\n\t\t} else {\n\t\t\toptions.isObj = false;\n\t\t\tif(options.delegate) {\n\t\t\t\tel.off(eName).on(eName, options.delegate , eHandler);\n\t\t\t} else {\n\t\t\t\toptions.items = el;\n\t\t\t\tel.off(eName).on(eName, eHandler);\n\t\t\t}\n\t\t}\n\t},\n\t_openClick: function(e, el, options) {\n\t\tvar midClick = options.midClick !== undefined ? options.midClick : $.magnificPopup.defaults.midClick;\n\n\n\t\tif(!midClick && ( e.which === 2 || e.ctrlKey || e.metaKey || e.altKey || e.shiftKey ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar disableOn = options.disableOn !== undefined ? options.disableOn : $.magnificPopup.defaults.disableOn;\n\n\t\tif(disableOn) {\n\t\t\tif($.isFunction(disableOn)) {\n\t\t\t\tif( !disableOn.call(mfp) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else { // else it's number\n\t\t\t\tif( _window.width() < disableOn ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif(e.type) {\n\t\t\te.preventDefault();\n\n\t\t\t// This will prevent popup from closing if element is inside and popup is already opened\n\t\t\tif(mfp.isOpen) {\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t}\n\n\t\toptions.el = $(e.mfpEl);\n\t\tif(options.delegate) {\n\t\t\toptions.items = el.find(options.delegate);\n\t\t}\n\t\tmfp.open(options);\n\t},\n\n\n\t/**\n\t * Updates text on preloader\n\t */\n\tupdateStatus: function(status, text) {\n\n\t\tif(mfp.preloader) {\n\t\t\tif(_prevStatus !== status) {\n\t\t\t\tmfp.container.removeClass('mfp-s-'+_prevStatus);\n\t\t\t}\n\n\t\t\tif(!text && status === 'loading') {\n\t\t\t\ttext = mfp.st.tLoading;\n\t\t\t}\n\n\t\t\tvar data = {\n\t\t\t\tstatus: status,\n\t\t\t\ttext: text\n\t\t\t};\n\t\t\t// allows to modify status\n\t\t\t_mfpTrigger('UpdateStatus', data);\n\n\t\t\tstatus = data.status;\n\t\t\ttext = data.text;\n\n\t\t\tmfp.preloader.html(text);\n\n\t\t\tmfp.preloader.find('a').on('click', function(e) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t});\n\n\t\t\tmfp.container.addClass('mfp-s-'+status);\n\t\t\t_prevStatus = status;\n\t\t}\n\t},\n\n\n\t/*\n\t\t\"Private\" helpers that aren't private at all\n\t */\n\t// Check to close popup or not\n\t// \"target\" is an element that was clicked\n\t_checkIfClose: function(target) {\n\n\t\tif($(target).hasClass(PREVENT_CLOSE_CLASS)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar closeOnContent = mfp.st.closeOnContentClick;\n\t\tvar closeOnBg = mfp.st.closeOnBgClick;\n\n\t\tif(closeOnContent && closeOnBg) {\n\t\t\treturn true;\n\t\t} else {\n\n\t\t\t// We close the popup if click is on close button or on preloader. Or if there is no content.\n\t\t\tif(!mfp.content || $(target).hasClass('mfp-close') || (mfp.preloader && target === mfp.preloader[0]) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// if click is outside the content\n\t\t\tif(  (target !== mfp.content[0] && !$.contains(mfp.content[0], target))  ) {\n\t\t\t\tif(closeOnBg) {\n\t\t\t\t\t// last check, if the clicked element is in DOM, (in case it's removed onclick)\n\t\t\t\t\tif( $.contains(document, target) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if(closeOnContent) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t}\n\t\treturn false;\n\t},\n\t_addClassToMFP: function(cName) {\n\t\tmfp.bgOverlay.addClass(cName);\n\t\tmfp.wrap.addClass(cName);\n\t},\n\t_removeClassFromMFP: function(cName) {\n\t\tthis.bgOverlay.removeClass(cName);\n\t\tmfp.wrap.removeClass(cName);\n\t},\n\t_hasScrollBar: function(winHeight) {\n\t\treturn (  (mfp.isIE7 ? _document.height() : document.body.scrollHeight) > (winHeight || _window.height()) );\n\t},\n\t_setFocus: function() {\n\t\t(mfp.st.focus ? mfp.content.find(mfp.st.focus).eq(0) : mfp.wrap).focus();\n\t},\n\t_onFocusIn: function(e) {\n\t\tif( e.target !== mfp.wrap[0] && !$.contains(mfp.wrap[0], e.target) ) {\n\t\t\tmfp._setFocus();\n\t\t\treturn false;\n\t\t}\n\t},\n\t_parseMarkup: function(template, values, item) {\n\t\tvar arr;\n\t\tif(item.data) {\n\t\t\tvalues = $.extend(item.data, values);\n\t\t}\n\t\t_mfpTrigger(MARKUP_PARSE_EVENT, [template, values, item] );\n\n\t\t$.each(values, function(key, value) {\n\t\t\tif(value === undefined || value === false) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tarr = key.split('_');\n\t\t\tif(arr.length > 1) {\n\t\t\t\tvar el = template.find(EVENT_NS + '-'+arr[0]);\n\n\t\t\t\tif(el.length > 0) {\n\t\t\t\t\tvar attr = arr[1];\n\t\t\t\t\tif(attr === 'replaceWith') {\n\t\t\t\t\t\tif(el[0] !== value[0]) {\n\t\t\t\t\t\t\tel.replaceWith(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if(attr === 'img') {\n\t\t\t\t\t\tif(el.is('img')) {\n\t\t\t\t\t\t\tel.attr('src', value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tel.replaceWith( $('<img>').attr('src', value).attr('class', el.attr('class')) );\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel.attr(arr[1], value);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\ttemplate.find(EVENT_NS + '-'+key).html(value);\n\t\t\t}\n\t\t});\n\t},\n\n\t_getScrollbarSize: function() {\n\t\t// thx David\n\t\tif(mfp.scrollbarSize === undefined) {\n\t\t\tvar scrollDiv = document.createElement(\"div\");\n\t\t\tscrollDiv.style.cssText = 'width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;';\n\t\t\tdocument.body.appendChild(scrollDiv);\n\t\t\tmfp.scrollbarSize = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n\t\t\tdocument.body.removeChild(scrollDiv);\n\t\t}\n\t\treturn mfp.scrollbarSize;\n\t}\n\n}; /* MagnificPopup core prototype end */\n\n\n\n\n/**\n * Public static functions\n */\n$.magnificPopup = {\n\tinstance: null,\n\tproto: MagnificPopup.prototype,\n\tmodules: [],\n\n\topen: function(options, index) {\n\t\t_checkInstance();\n\n\t\tif(!options) {\n\t\t\toptions = {};\n\t\t} else {\n\t\t\toptions = $.extend(true, {}, options);\n\t\t}\n\n\t\toptions.isObj = true;\n\t\toptions.index = index || 0;\n\t\treturn this.instance.open(options);\n\t},\n\n\tclose: function() {\n\t\treturn $.magnificPopup.instance && $.magnificPopup.instance.close();\n\t},\n\n\tregisterModule: function(name, module) {\n\t\tif(module.options) {\n\t\t\t$.magnificPopup.defaults[name] = module.options;\n\t\t}\n\t\t$.extend(this.proto, module.proto);\n\t\tthis.modules.push(name);\n\t},\n\n\tdefaults: {\n\n\t\t// Info about options is in docs:\n\t\t// http://dimsemenov.com/plugins/magnific-popup/documentation.html#options\n\n\t\tdisableOn: 0,\n\n\t\tkey: null,\n\n\t\tmidClick: false,\n\n\t\tmainClass: '',\n\n\t\tpreloader: true,\n\n\t\tfocus: '', // CSS selector of input to focus after popup is opened\n\n\t\tcloseOnContentClick: false,\n\n\t\tcloseOnBgClick: true,\n\n\t\tcloseBtnInside: true,\n\n\t\tshowCloseBtn: true,\n\n\t\tenableEscapeKey: true,\n\n\t\tmodal: false,\n\n\t\talignTop: false,\n\n\t\tremovalDelay: 0,\n\n\t\tprependTo: null,\n\n\t\tfixedContentPos: 'auto',\n\n\t\tfixedBgPos: 'auto',\n\n\t\toverflowY: 'auto',\n\n\t\tcloseMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-close\">&#215;</button>',\n\n\t\ttClose: 'Close (Esc)',\n\n\t\ttLoading: 'Loading...',\n\n\t\tautoFocusLast: true\n\n\t}\n};\n\n\n\n$.fn.magnificPopup = function(options) {\n\t_checkInstance();\n\n\tvar jqEl = $(this);\n\n\t// We call some API method of first param is a string\n\tif (typeof options === \"string\" ) {\n\n\t\tif(options === 'open') {\n\t\t\tvar items,\n\t\t\t\titemOpts = _isJQ ? jqEl.data('magnificPopup') : jqEl[0].magnificPopup,\n\t\t\t\tindex = parseInt(arguments[1], 10) || 0;\n\n\t\t\tif(itemOpts.items) {\n\t\t\t\titems = itemOpts.items[index];\n\t\t\t} else {\n\t\t\t\titems = jqEl;\n\t\t\t\tif(itemOpts.delegate) {\n\t\t\t\t\titems = items.find(itemOpts.delegate);\n\t\t\t\t}\n\t\t\t\titems = items.eq( index );\n\t\t\t}\n\t\t\tmfp._openClick({mfpEl:items}, jqEl, itemOpts);\n\t\t} else {\n\t\t\tif(mfp.isOpen)\n\t\t\t\tmfp[options].apply(mfp, Array.prototype.slice.call(arguments, 1));\n\t\t}\n\n\t} else {\n\t\t// clone options obj\n\t\toptions = $.extend(true, {}, options);\n\n\t\t/*\n\t\t * As Zepto doesn't support .data() method for objects\n\t\t * and it works only in normal browsers\n\t\t * we assign \"options\" object directly to the DOM element. FTW!\n\t\t */\n\t\tif(_isJQ) {\n\t\t\tjqEl.data('magnificPopup', options);\n\t\t} else {\n\t\t\tjqEl[0].magnificPopup = options;\n\t\t}\n\n\t\tmfp.addGroup(jqEl, options);\n\n\t}\n\treturn jqEl;\n};\n\n/*>>core*/\n\n/*>>inline*/\n\nvar INLINE_NS = 'inline',\n\t_hiddenClass,\n\t_inlinePlaceholder,\n\t_lastInlineElement,\n\t_putInlineElementsBack = function() {\n\t\tif(_lastInlineElement) {\n\t\t\t_inlinePlaceholder.after( _lastInlineElement.addClass(_hiddenClass) ).detach();\n\t\t\t_lastInlineElement = null;\n\t\t}\n\t};\n\n$.magnificPopup.registerModule(INLINE_NS, {\n\toptions: {\n\t\thiddenClass: 'hide', // will be appended with `mfp-` prefix\n\t\tmarkup: '',\n\t\ttNotFound: 'Content not found'\n\t},\n\tproto: {\n\n\t\tinitInline: function() {\n\t\t\tmfp.types.push(INLINE_NS);\n\n\t\t\t_mfpOn(CLOSE_EVENT+'.'+INLINE_NS, function() {\n\t\t\t\t_putInlineElementsBack();\n\t\t\t});\n\t\t},\n\n\t\tgetInline: function(item, template) {\n\n\t\t\t_putInlineElementsBack();\n\n\t\t\tif(item.src) {\n\t\t\t\tvar inlineSt = mfp.st.inline,\n\t\t\t\t\tel = $(item.src);\n\n\t\t\t\tif(el.length) {\n\n\t\t\t\t\t// If target element has parent - we replace it with placeholder and put it back after popup is closed\n\t\t\t\t\tvar parent = el[0].parentNode;\n\t\t\t\t\tif(parent && parent.tagName) {\n\t\t\t\t\t\tif(!_inlinePlaceholder) {\n\t\t\t\t\t\t\t_hiddenClass = inlineSt.hiddenClass;\n\t\t\t\t\t\t\t_inlinePlaceholder = _getEl(_hiddenClass);\n\t\t\t\t\t\t\t_hiddenClass = 'mfp-'+_hiddenClass;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// replace target inline element with placeholder\n\t\t\t\t\t\t_lastInlineElement = el.after(_inlinePlaceholder).detach().removeClass(_hiddenClass);\n\t\t\t\t\t}\n\n\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t} else {\n\t\t\t\t\tmfp.updateStatus('error', inlineSt.tNotFound);\n\t\t\t\t\tel = $('<div>');\n\t\t\t\t}\n\n\t\t\t\titem.inlineElement = el;\n\t\t\t\treturn el;\n\t\t\t}\n\n\t\t\tmfp.updateStatus('ready');\n\t\t\tmfp._parseMarkup(template, {}, item);\n\t\t\treturn template;\n\t\t}\n\t}\n});\n\n/*>>inline*/\n\n/*>>ajax*/\nvar AJAX_NS = 'ajax',\n\t_ajaxCur,\n\t_removeAjaxCursor = function() {\n\t\tif(_ajaxCur) {\n\t\t\t$(document.body).removeClass(_ajaxCur);\n\t\t}\n\t},\n\t_destroyAjaxRequest = function() {\n\t\t_removeAjaxCursor();\n\t\tif(mfp.req) {\n\t\t\tmfp.req.abort();\n\t\t}\n\t};\n\n$.magnificPopup.registerModule(AJAX_NS, {\n\n\toptions: {\n\t\tsettings: null,\n\t\tcursor: 'mfp-ajax-cur',\n\t\ttError: '<a href=\"%url%\">The content</a> could not be loaded.'\n\t},\n\n\tproto: {\n\t\tinitAjax: function() {\n\t\t\tmfp.types.push(AJAX_NS);\n\t\t\t_ajaxCur = mfp.st.ajax.cursor;\n\n\t\t\t_mfpOn(CLOSE_EVENT+'.'+AJAX_NS, _destroyAjaxRequest);\n\t\t\t_mfpOn('BeforeChange.' + AJAX_NS, _destroyAjaxRequest);\n\t\t},\n\t\tgetAjax: function(item) {\n\n\t\t\tif(_ajaxCur) {\n\t\t\t\t$(document.body).addClass(_ajaxCur);\n\t\t\t}\n\n\t\t\tmfp.updateStatus('loading');\n\n\t\t\tvar opts = $.extend({\n\t\t\t\turl: item.src,\n\t\t\t\tsuccess: function(data, textStatus, jqXHR) {\n\t\t\t\t\tvar temp = {\n\t\t\t\t\t\tdata:data,\n\t\t\t\t\t\txhr:jqXHR\n\t\t\t\t\t};\n\n\t\t\t\t\t_mfpTrigger('ParseAjax', temp);\n\n\t\t\t\t\tmfp.appendContent( $(temp.data), AJAX_NS );\n\n\t\t\t\t\titem.finished = true;\n\n\t\t\t\t\t_removeAjaxCursor();\n\n\t\t\t\t\tmfp._setFocus();\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tmfp.wrap.addClass(READY_CLASS);\n\t\t\t\t\t}, 16);\n\n\t\t\t\t\tmfp.updateStatus('ready');\n\n\t\t\t\t\t_mfpTrigger('AjaxContentAdded');\n\t\t\t\t},\n\t\t\t\terror: function() {\n\t\t\t\t\t_removeAjaxCursor();\n\t\t\t\t\titem.finished = item.loadError = true;\n\t\t\t\t\tmfp.updateStatus('error', mfp.st.ajax.tError.replace('%url%', item.src));\n\t\t\t\t}\n\t\t\t}, mfp.st.ajax.settings);\n\n\t\t\tmfp.req = $.ajax(opts);\n\n\t\t\treturn '';\n\t\t}\n\t}\n});\n\n/*>>ajax*/\n\n/*>>image*/\nvar _imgInterval,\n\t_getTitle = function(item) {\n\t\tif(item.data && item.data.title !== undefined)\n\t\t\treturn item.data.title;\n\n\t\tvar src = mfp.st.image.titleSrc;\n\n\t\tif(src) {\n\t\t\tif($.isFunction(src)) {\n\t\t\t\treturn src.call(mfp, item);\n\t\t\t} else if(item.el) {\n\t\t\t\treturn item.el.attr(src) || '';\n\t\t\t}\n\t\t}\n\t\treturn '';\n\t};\n\n$.magnificPopup.registerModule('image', {\n\n\toptions: {\n\t\tmarkup: '<div class=\"mfp-figure\">'+\n\t\t\t\t\t'<div class=\"mfp-close\"></div>'+\n\t\t\t\t\t'<figure>'+\n\t\t\t\t\t\t'<div class=\"mfp-img\"></div>'+\n\t\t\t\t\t\t'<figcaption>'+\n\t\t\t\t\t\t\t'<div class=\"mfp-bottom-bar\">'+\n\t\t\t\t\t\t\t\t'<div class=\"mfp-title\"></div>'+\n\t\t\t\t\t\t\t\t'<div class=\"mfp-counter\"></div>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t'</figcaption>'+\n\t\t\t\t\t'</figure>'+\n\t\t\t\t'</div>',\n\t\tcursor: 'mfp-zoom-out-cur',\n\t\ttitleSrc: 'title',\n\t\tverticalFit: true,\n\t\ttError: '<a href=\"%url%\">The image</a> could not be loaded.'\n\t},\n\n\tproto: {\n\t\tinitImage: function() {\n\t\t\tvar imgSt = mfp.st.image,\n\t\t\t\tns = '.image';\n\n\t\t\tmfp.types.push('image');\n\n\t\t\t_mfpOn(OPEN_EVENT+ns, function() {\n\t\t\t\tif(mfp.currItem.type === 'image' && imgSt.cursor) {\n\t\t\t\t\t$(document.body).addClass(imgSt.cursor);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\n\t\t\t\tif(imgSt.cursor) {\n\t\t\t\t\t$(document.body).removeClass(imgSt.cursor);\n\t\t\t\t}\n\t\t\t\t_window.off('resize' + EVENT_NS);\n\t\t\t});\n\n\t\t\t_mfpOn('Resize'+ns, mfp.resizeImage);\n\t\t\tif(mfp.isLowIE) {\n\t\t\t\t_mfpOn('AfterChange', mfp.resizeImage);\n\t\t\t}\n\t\t},\n\t\tresizeImage: function() {\n\t\t\tvar item = mfp.currItem;\n\t\t\tif(!item || !item.img) return;\n\n\t\t\tif(mfp.st.image.verticalFit) {\n\t\t\t\tvar decr = 0;\n\t\t\t\t// fix box-sizing in ie7/8\n\t\t\t\tif(mfp.isLowIE) {\n\t\t\t\t\tdecr = parseInt(item.img.css('padding-top'), 10) + parseInt(item.img.css('padding-bottom'),10);\n\t\t\t\t}\n\t\t\t\titem.img.css('max-height', mfp.wH-decr);\n\t\t\t}\n\t\t},\n\t\t_onImageHasSize: function(item) {\n\t\t\tif(item.img) {\n\n\t\t\t\titem.hasSize = true;\n\n\t\t\t\tif(_imgInterval) {\n\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t}\n\n\t\t\t\titem.isCheckingImgSize = false;\n\n\t\t\t\t_mfpTrigger('ImageHasSize', item);\n\n\t\t\t\tif(item.imgHidden) {\n\t\t\t\t\tif(mfp.content)\n\t\t\t\t\t\tmfp.content.removeClass('mfp-loading');\n\n\t\t\t\t\titem.imgHidden = false;\n\t\t\t\t}\n\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Function that loops until the image has size to display elements that rely on it asap\n\t\t */\n\t\tfindImageSize: function(item) {\n\n\t\t\tvar counter = 0,\n\t\t\t\timg = item.img[0],\n\t\t\t\tmfpSetInterval = function(delay) {\n\n\t\t\t\t\tif(_imgInterval) {\n\t\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t\t}\n\t\t\t\t\t// decelerating interval that checks for size of an image\n\t\t\t\t\t_imgInterval = setInterval(function() {\n\t\t\t\t\t\tif(img.naturalWidth > 0) {\n\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(counter > 200) {\n\t\t\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcounter++;\n\t\t\t\t\t\tif(counter === 3) {\n\t\t\t\t\t\t\tmfpSetInterval(10);\n\t\t\t\t\t\t} else if(counter === 40) {\n\t\t\t\t\t\t\tmfpSetInterval(50);\n\t\t\t\t\t\t} else if(counter === 100) {\n\t\t\t\t\t\t\tmfpSetInterval(500);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, delay);\n\t\t\t\t};\n\n\t\t\tmfpSetInterval(1);\n\t\t},\n\n\t\tgetImage: function(item, template) {\n\n\t\t\tvar guard = 0,\n\n\t\t\t\t// image load complete handler\n\t\t\t\tonLoadComplete = function() {\n\t\t\t\t\tif(item) {\n\t\t\t\t\t\tif (item.img[0].complete) {\n\t\t\t\t\t\t\titem.img.off('.mfploader');\n\n\t\t\t\t\t\t\tif(item === mfp.currItem){\n\t\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\n\t\t\t\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t\t\titem.loaded = true;\n\n\t\t\t\t\t\t\t_mfpTrigger('ImageLoadComplete');\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// if image complete check fails 200 times (20 sec), we assume that there was an error.\n\t\t\t\t\t\t\tguard++;\n\t\t\t\t\t\t\tif(guard < 200) {\n\t\t\t\t\t\t\t\tsetTimeout(onLoadComplete,100);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tonLoadError();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// image error handler\n\t\t\t\tonLoadError = function() {\n\t\t\t\t\tif(item) {\n\t\t\t\t\t\titem.img.off('.mfploader');\n\t\t\t\t\t\tif(item === mfp.currItem){\n\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\t\t\t\t\t\t\tmfp.updateStatus('error', imgSt.tError.replace('%url%', item.src) );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t\titem.loaded = true;\n\t\t\t\t\t\titem.loadError = true;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\timgSt = mfp.st.image;\n\n\n\t\t\tvar el = template.find('.mfp-img');\n\t\t\tif(el.length) {\n\t\t\t\tvar img = document.createElement('img');\n\t\t\t\timg.className = 'mfp-img';\n\t\t\t\tif(item.el && item.el.find('img').length) {\n\t\t\t\t\timg.alt = item.el.find('img').attr('alt');\n\t\t\t\t}\n\t\t\t\titem.img = $(img).on('load.mfploader', onLoadComplete).on('error.mfploader', onLoadError);\n\t\t\t\timg.src = item.src;\n\n\t\t\t\t// without clone() \"error\" event is not firing when IMG is replaced by new IMG\n\t\t\t\t// TODO: find a way to avoid such cloning\n\t\t\t\tif(el.is('img')) {\n\t\t\t\t\titem.img = item.img.clone();\n\t\t\t\t}\n\n\t\t\t\timg = item.img[0];\n\t\t\t\tif(img.naturalWidth > 0) {\n\t\t\t\t\titem.hasSize = true;\n\t\t\t\t} else if(!img.width) {\n\t\t\t\t\titem.hasSize = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tmfp._parseMarkup(template, {\n\t\t\t\ttitle: _getTitle(item),\n\t\t\t\timg_replaceWith: item.img\n\t\t\t}, item);\n\n\t\t\tmfp.resizeImage();\n\n\t\t\tif(item.hasSize) {\n\t\t\t\tif(_imgInterval) clearInterval(_imgInterval);\n\n\t\t\t\tif(item.loadError) {\n\t\t\t\t\ttemplate.addClass('mfp-loading');\n\t\t\t\t\tmfp.updateStatus('error', imgSt.tError.replace('%url%', item.src) );\n\t\t\t\t} else {\n\t\t\t\t\ttemplate.removeClass('mfp-loading');\n\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t}\n\t\t\t\treturn template;\n\t\t\t}\n\n\t\t\tmfp.updateStatus('loading');\n\t\t\titem.loading = true;\n\n\t\t\tif(!item.hasSize) {\n\t\t\t\titem.imgHidden = true;\n\t\t\t\ttemplate.addClass('mfp-loading');\n\t\t\t\tmfp.findImageSize(item);\n\t\t\t}\n\n\t\t\treturn template;\n\t\t}\n\t}\n});\n\n/*>>image*/\n\n/*>>zoom*/\nvar hasMozTransform,\n\tgetHasMozTransform = function() {\n\t\tif(hasMozTransform === undefined) {\n\t\t\thasMozTransform = document.createElement('p').style.MozTransform !== undefined;\n\t\t}\n\t\treturn hasMozTransform;\n\t};\n\n$.magnificPopup.registerModule('zoom', {\n\n\toptions: {\n\t\tenabled: false,\n\t\teasing: 'ease-in-out',\n\t\tduration: 300,\n\t\topener: function(element) {\n\t\t\treturn element.is('img') ? element : element.find('img');\n\t\t}\n\t},\n\n\tproto: {\n\n\t\tinitZoom: function() {\n\t\t\tvar zoomSt = mfp.st.zoom,\n\t\t\t\tns = '.zoom',\n\t\t\t\timage;\n\n\t\t\tif(!zoomSt.enabled || !mfp.supportsTransition) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar duration = zoomSt.duration,\n\t\t\t\tgetElToAnimate = function(image) {\n\t\t\t\t\tvar newImg = image.clone().removeAttr('style').removeAttr('class').addClass('mfp-animated-image'),\n\t\t\t\t\t\ttransition = 'all '+(zoomSt.duration/1000)+'s ' + zoomSt.easing,\n\t\t\t\t\t\tcssObj = {\n\t\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\t\tzIndex: 9999,\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\t'-webkit-backface-visibility': 'hidden'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tt = 'transition';\n\n\t\t\t\t\tcssObj['-webkit-'+t] = cssObj['-moz-'+t] = cssObj['-o-'+t] = cssObj[t] = transition;\n\n\t\t\t\t\tnewImg.css(cssObj);\n\t\t\t\t\treturn newImg;\n\t\t\t\t},\n\t\t\t\tshowMainContent = function() {\n\t\t\t\t\tmfp.content.css('visibility', 'visible');\n\t\t\t\t},\n\t\t\t\topenTimeout,\n\t\t\t\tanimatedImg;\n\n\t\t\t_mfpOn('BuildControls'+ns, function() {\n\t\t\t\tif(mfp._allowZoom()) {\n\n\t\t\t\t\tclearTimeout(openTimeout);\n\t\t\t\t\tmfp.content.css('visibility', 'hidden');\n\n\t\t\t\t\t// Basically, all code below does is clones existing image, puts in on top of the current one and animated it\n\n\t\t\t\t\timage = mfp._getItemToZoom();\n\n\t\t\t\t\tif(!image) {\n\t\t\t\t\t\tshowMainContent();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tanimatedImg = getElToAnimate(image);\n\n\t\t\t\t\tanimatedImg.css( mfp._getOffset() );\n\n\t\t\t\t\tmfp.wrap.append(animatedImg);\n\n\t\t\t\t\topenTimeout = setTimeout(function() {\n\t\t\t\t\t\tanimatedImg.css( mfp._getOffset( true ) );\n\t\t\t\t\t\topenTimeout = setTimeout(function() {\n\n\t\t\t\t\t\t\tshowMainContent();\n\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tanimatedImg.remove();\n\t\t\t\t\t\t\t\timage = animatedImg = null;\n\t\t\t\t\t\t\t\t_mfpTrigger('ZoomAnimationEnded');\n\t\t\t\t\t\t\t}, 16); // avoid blink when switching images\n\n\t\t\t\t\t\t}, duration); // this timeout equals animation duration\n\n\t\t\t\t\t}, 16); // by adding this timeout we avoid short glitch at the beginning of animation\n\n\n\t\t\t\t\t// Lots of timeouts...\n\t\t\t\t}\n\t\t\t});\n\t\t\t_mfpOn(BEFORE_CLOSE_EVENT+ns, function() {\n\t\t\t\tif(mfp._allowZoom()) {\n\n\t\t\t\t\tclearTimeout(openTimeout);\n\n\t\t\t\t\tmfp.st.removalDelay = duration;\n\n\t\t\t\t\tif(!image) {\n\t\t\t\t\t\timage = mfp._getItemToZoom();\n\t\t\t\t\t\tif(!image) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tanimatedImg = getElToAnimate(image);\n\t\t\t\t\t}\n\n\t\t\t\t\tanimatedImg.css( mfp._getOffset(true) );\n\t\t\t\t\tmfp.wrap.append(animatedImg);\n\t\t\t\t\tmfp.content.css('visibility', 'hidden');\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tanimatedImg.css( mfp._getOffset() );\n\t\t\t\t\t}, 16);\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\n\t\t\t\tif(mfp._allowZoom()) {\n\t\t\t\t\tshowMainContent();\n\t\t\t\t\tif(animatedImg) {\n\t\t\t\t\t\tanimatedImg.remove();\n\t\t\t\t\t}\n\t\t\t\t\timage = null;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_allowZoom: function() {\n\t\t\treturn mfp.currItem.type === 'image';\n\t\t},\n\n\t\t_getItemToZoom: function() {\n\t\t\tif(mfp.currItem.hasSize) {\n\t\t\t\treturn mfp.currItem.img;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\t// Get element postion relative to viewport\n\t\t_getOffset: function(isLarge) {\n\t\t\tvar el;\n\t\t\tif(isLarge) {\n\t\t\t\tel = mfp.currItem.img;\n\t\t\t} else {\n\t\t\t\tel = mfp.st.zoom.opener(mfp.currItem.el || mfp.currItem);\n\t\t\t}\n\n\t\t\tvar offset = el.offset();\n\t\t\tvar paddingTop = parseInt(el.css('padding-top'),10);\n\t\t\tvar paddingBottom = parseInt(el.css('padding-bottom'),10);\n\t\t\toffset.top -= ( $(window).scrollTop() - paddingTop );\n\n\n\t\t\t/*\n\n\t\t\tAnimating left + top + width/height looks glitchy in Firefox, but perfect in Chrome. And vice-versa.\n\n\t\t\t */\n\t\t\tvar obj = {\n\t\t\t\twidth: el.width(),\n\t\t\t\t// fix Zepto height+padding issue\n\t\t\t\theight: (_isJQ ? el.innerHeight() : el[0].offsetHeight) - paddingBottom - paddingTop\n\t\t\t};\n\n\t\t\t// I hate to do this, but there is no another option\n\t\t\tif( getHasMozTransform() ) {\n\t\t\t\tobj['-moz-transform'] = obj['transform'] = 'translate(' + offset.left + 'px,' + offset.top + 'px)';\n\t\t\t} else {\n\t\t\t\tobj.left = offset.left;\n\t\t\t\tobj.top = offset.top;\n\t\t\t}\n\t\t\treturn obj;\n\t\t}\n\n\t}\n});\n\n\n\n/*>>zoom*/\n\n/*>>iframe*/\n\nvar IFRAME_NS = 'iframe',\n\t_emptyPage = '//about:blank',\n\n\t_fixIframeBugs = function(isShowing) {\n\t\tif(mfp.currTemplate[IFRAME_NS]) {\n\t\t\tvar el = mfp.currTemplate[IFRAME_NS].find('iframe');\n\t\t\tif(el.length) {\n\t\t\t\t// reset src after the popup is closed to avoid \"video keeps playing after popup is closed\" bug\n\t\t\t\tif(!isShowing) {\n\t\t\t\t\tel[0].src = _emptyPage;\n\t\t\t\t}\n\n\t\t\t\t// IE8 black screen bug fix\n\t\t\t\tif(mfp.isIE8) {\n\t\t\t\t\tel.css('display', isShowing ? 'block' : 'none');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n$.magnificPopup.registerModule(IFRAME_NS, {\n\n\toptions: {\n\t\tmarkup: '<div class=\"mfp-iframe-scaler\">'+\n\t\t\t\t\t'<div class=\"mfp-close\"></div>'+\n\t\t\t\t\t'<iframe class=\"mfp-iframe\" src=\"//about:blank\" frameborder=\"0\" allowfullscreen></iframe>'+\n\t\t\t\t'</div>',\n\n\t\tsrcAction: 'iframe_src',\n\n\t\t// we don't care and support only one default type of URL by default\n\t\tpatterns: {\n\t\t\tyoutube: {\n\t\t\t\tindex: 'youtube.com',\n\t\t\t\tid: 'v=',\n\t\t\t\tsrc: '//www.youtube.com/embed/%id%?autoplay=1'\n\t\t\t},\n\t\t\tvimeo: {\n\t\t\t\tindex: 'vimeo.com/',\n\t\t\t\tid: '/',\n\t\t\t\tsrc: '//player.vimeo.com/video/%id%?autoplay=1'\n\t\t\t},\n\t\t\tgmaps: {\n\t\t\t\tindex: '//maps.google.',\n\t\t\t\tsrc: '%id%&output=embed'\n\t\t\t}\n\t\t}\n\t},\n\n\tproto: {\n\t\tinitIframe: function() {\n\t\t\tmfp.types.push(IFRAME_NS);\n\n\t\t\t_mfpOn('BeforeChange', function(e, prevType, newType) {\n\t\t\t\tif(prevType !== newType) {\n\t\t\t\t\tif(prevType === IFRAME_NS) {\n\t\t\t\t\t\t_fixIframeBugs(); // iframe if removed\n\t\t\t\t\t} else if(newType === IFRAME_NS) {\n\t\t\t\t\t\t_fixIframeBugs(true); // iframe is showing\n\t\t\t\t\t}\n\t\t\t\t}// else {\n\t\t\t\t\t// iframe source is switched, don't do anything\n\t\t\t\t//}\n\t\t\t});\n\n\t\t\t_mfpOn(CLOSE_EVENT + '.' + IFRAME_NS, function() {\n\t\t\t\t_fixIframeBugs();\n\t\t\t});\n\t\t},\n\n\t\tgetIframe: function(item, template) {\n\t\t\tvar embedSrc = item.src;\n\t\t\tvar iframeSt = mfp.st.iframe;\n\n\t\t\t$.each(iframeSt.patterns, function() {\n\t\t\t\tif(embedSrc.indexOf( this.index ) > -1) {\n\t\t\t\t\tif(this.id) {\n\t\t\t\t\t\tif(typeof this.id === 'string') {\n\t\t\t\t\t\t\tembedSrc = embedSrc.substr(embedSrc.lastIndexOf(this.id)+this.id.length, embedSrc.length);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tembedSrc = this.id.call( this, embedSrc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tembedSrc = this.src.replace('%id%', embedSrc );\n\t\t\t\t\treturn false; // break;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar dataObj = {};\n\t\t\tif(iframeSt.srcAction) {\n\t\t\t\tdataObj[iframeSt.srcAction] = embedSrc;\n\t\t\t}\n\t\t\tmfp._parseMarkup(template, dataObj, item);\n\n\t\t\tmfp.updateStatus('ready');\n\n\t\t\treturn template;\n\t\t}\n\t}\n});\n\n\n\n/*>>iframe*/\n\n/*>>gallery*/\n/**\n * Get looped index depending on number of slides\n */\nvar _getLoopedId = function(index) {\n\t\tvar numSlides = mfp.items.length;\n\t\tif(index > numSlides - 1) {\n\t\t\treturn index - numSlides;\n\t\t} else  if(index < 0) {\n\t\t\treturn numSlides + index;\n\t\t}\n\t\treturn index;\n\t},\n\t_replaceCurrTotal = function(text, curr, total) {\n\t\treturn text.replace(/%curr%/gi, curr + 1).replace(/%total%/gi, total);\n\t};\n\n$.magnificPopup.registerModule('gallery', {\n\n\toptions: {\n\t\tenabled: false,\n\t\tarrowMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-arrow mfp-arrow-%dir%\"></button>',\n\t\tpreload: [0,2],\n\t\tnavigateByImgClick: true,\n\t\tarrows: true,\n\n\t\ttPrev: 'Previous (Left arrow key)',\n\t\ttNext: 'Next (Right arrow key)',\n\t\ttCounter: '%curr% of %total%'\n\t},\n\n\tproto: {\n\t\tinitGallery: function() {\n\n\t\t\tvar gSt = mfp.st.gallery,\n\t\t\t\tns = '.mfp-gallery';\n\n\t\t\tmfp.direction = true; // true - next, false - prev\n\n\t\t\tif(!gSt || !gSt.enabled ) return false;\n\n\t\t\t_wrapClasses += ' mfp-gallery';\n\n\t\t\t_mfpOn(OPEN_EVENT+ns, function() {\n\n\t\t\t\tif(gSt.navigateByImgClick) {\n\t\t\t\t\tmfp.wrap.on('click'+ns, '.mfp-img', function() {\n\t\t\t\t\t\tif(mfp.items.length > 1) {\n\t\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t_document.on('keydown'+ns, function(e) {\n\t\t\t\t\tif (e.keyCode === 37) {\n\t\t\t\t\t\tmfp.prev();\n\t\t\t\t\t} else if (e.keyCode === 39) {\n\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t_mfpOn('UpdateStatus'+ns, function(e, data) {\n\t\t\t\tif(data.text) {\n\t\t\t\t\tdata.text = _replaceCurrTotal(data.text, mfp.currItem.index, mfp.items.length);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_mfpOn(MARKUP_PARSE_EVENT+ns, function(e, element, values, item) {\n\t\t\t\tvar l = mfp.items.length;\n\t\t\t\tvalues.counter = l > 1 ? _replaceCurrTotal(gSt.tCounter, item.index, l) : '';\n\t\t\t});\n\n\t\t\t_mfpOn('BuildControls' + ns, function() {\n\t\t\t\tif(mfp.items.length > 1 && gSt.arrows && !mfp.arrowLeft) {\n\t\t\t\t\tvar markup = gSt.arrowMarkup,\n\t\t\t\t\t\tarrowLeft = mfp.arrowLeft = $( markup.replace(/%title%/gi, gSt.tPrev).replace(/%dir%/gi, 'left') ).addClass(PREVENT_CLOSE_CLASS),\n\t\t\t\t\t\tarrowRight = mfp.arrowRight = $( markup.replace(/%title%/gi, gSt.tNext).replace(/%dir%/gi, 'right') ).addClass(PREVENT_CLOSE_CLASS);\n\n\t\t\t\t\tarrowLeft.click(function() {\n\t\t\t\t\t\tmfp.prev();\n\t\t\t\t\t});\n\t\t\t\t\tarrowRight.click(function() {\n\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t});\n\n\t\t\t\t\tmfp.container.append(arrowLeft.add(arrowRight));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_mfpOn(CHANGE_EVENT+ns, function() {\n\t\t\t\tif(mfp._preloadTimeout) clearTimeout(mfp._preloadTimeout);\n\n\t\t\t\tmfp._preloadTimeout = setTimeout(function() {\n\t\t\t\t\tmfp.preloadNearbyImages();\n\t\t\t\t\tmfp._preloadTimeout = null;\n\t\t\t\t}, 16);\n\t\t\t});\n\n\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\n\t\t\t\t_document.off(ns);\n\t\t\t\tmfp.wrap.off('click'+ns);\n\t\t\t\tmfp.arrowRight = mfp.arrowLeft = null;\n\t\t\t});\n\n\t\t},\n\t\tnext: function() {\n\t\t\tmfp.direction = true;\n\t\t\tmfp.index = _getLoopedId(mfp.index + 1);\n\t\t\tmfp.updateItemHTML();\n\t\t},\n\t\tprev: function() {\n\t\t\tmfp.direction = false;\n\t\t\tmfp.index = _getLoopedId(mfp.index - 1);\n\t\t\tmfp.updateItemHTML();\n\t\t},\n\t\tgoTo: function(newIndex) {\n\t\t\tmfp.direction = (newIndex >= mfp.index);\n\t\t\tmfp.index = newIndex;\n\t\t\tmfp.updateItemHTML();\n\t\t},\n\t\tpreloadNearbyImages: function() {\n\t\t\tvar p = mfp.st.gallery.preload,\n\t\t\t\tpreloadBefore = Math.min(p[0], mfp.items.length),\n\t\t\t\tpreloadAfter = Math.min(p[1], mfp.items.length),\n\t\t\t\ti;\n\n\t\t\tfor(i = 1; i <= (mfp.direction ? preloadAfter : preloadBefore); i++) {\n\t\t\t\tmfp._preloadItem(mfp.index+i);\n\t\t\t}\n\t\t\tfor(i = 1; i <= (mfp.direction ? preloadBefore : preloadAfter); i++) {\n\t\t\t\tmfp._preloadItem(mfp.index-i);\n\t\t\t}\n\t\t},\n\t\t_preloadItem: function(index) {\n\t\t\tindex = _getLoopedId(index);\n\n\t\t\tif(mfp.items[index].preloaded) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar item = mfp.items[index];\n\t\t\tif(!item.parsed) {\n\t\t\t\titem = mfp.parseEl( index );\n\t\t\t}\n\n\t\t\t_mfpTrigger('LazyLoad', item);\n\n\t\t\tif(item.type === 'image') {\n\t\t\t\titem.img = $('<img class=\"mfp-img\" />').on('load.mfploader', function() {\n\t\t\t\t\titem.hasSize = true;\n\t\t\t\t}).on('error.mfploader', function() {\n\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\titem.loadError = true;\n\t\t\t\t\t_mfpTrigger('LazyLoadError', item);\n\t\t\t\t}).attr('src', item.src);\n\t\t\t}\n\n\n\t\t\titem.preloaded = true;\n\t\t}\n\t}\n});\n\n/*>>gallery*/\n\n/*>>retina*/\n\nvar RETINA_NS = 'retina';\n\n$.magnificPopup.registerModule(RETINA_NS, {\n\toptions: {\n\t\treplaceSrc: function(item) {\n\t\t\treturn item.src.replace(/\\.\\w+$/, function(m) { return '@2x' + m; });\n\t\t},\n\t\tratio: 1 // Function or number.  Set to 1 to disable.\n\t},\n\tproto: {\n\t\tinitRetina: function() {\n\t\t\tif(window.devicePixelRatio > 1) {\n\n\t\t\t\tvar st = mfp.st.retina,\n\t\t\t\t\tratio = st.ratio;\n\n\t\t\t\tratio = !isNaN(ratio) ? ratio : ratio();\n\n\t\t\t\tif(ratio > 1) {\n\t\t\t\t\t_mfpOn('ImageHasSize' + '.' + RETINA_NS, function(e, item) {\n\t\t\t\t\t\titem.img.css({\n\t\t\t\t\t\t\t'max-width': item.img[0].naturalWidth / ratio,\n\t\t\t\t\t\t\t'width': '100%'\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\t_mfpOn('ElementParse' + '.' + RETINA_NS, function(e, item) {\n\t\t\t\t\t\titem.src = st.replaceSrc(item, ratio);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n});\n\n/*>>retina*/\n _checkInstance(); }));\n},{\"jquery\":52}],54:[function(require,module,exports){\n//! moment.js locale configuration\n//! locale : French [fr]\n//! author : John Fischer : https://github.com/jfroffice\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, (function (moment) { 'use strict';\n\n\nvar fr = moment.defineLocale('fr', {\n    months : 'janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre'.split('_'),\n    monthsShort : 'janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.'.split('_'),\n    monthsParseExact : true,\n    weekdays : 'dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi'.split('_'),\n    weekdaysShort : 'dim._lun._mar._mer._jeu._ven._sam.'.split('_'),\n    weekdaysMin : 'Di_Lu_Ma_Me_Je_Ve_Sa'.split('_'),\n    weekdaysParseExact : true,\n    longDateFormat : {\n        LT : 'HH:mm',\n        LTS : 'HH:mm:ss',\n        L : 'DD/MM/YYYY',\n        LL : 'D MMMM YYYY',\n        LLL : 'D MMMM YYYY HH:mm',\n        LLLL : 'dddd D MMMM YYYY HH:mm'\n    },\n    calendar : {\n        sameDay: '[Aujourd\\'hui ] LT',\n        nextDay: '[Demain ] LT',\n        nextWeek: 'dddd [] LT',\n        lastDay: '[Hier ] LT',\n        lastWeek: 'dddd [dernier ] LT',\n        sameElse: 'L'\n    },\n    relativeTime : {\n        future : 'dans %s',\n        past : 'il y a %s',\n        s : 'quelques secondes',\n        m : 'une minute',\n        mm : '%d minutes',\n        h : 'une heure',\n        hh : '%d heures',\n        d : 'un jour',\n        dd : '%d jours',\n        M : 'un mois',\n        MM : '%d mois',\n        y : 'un an',\n        yy : '%d ans'\n    },\n    ordinalParse: /\\d{1,2}(er|)/,\n    ordinal : function (number) {\n        return number + (number === 1 ? 'er' : '');\n    },\n    week : {\n        dow : 1, // Monday is the first day of the week.\n        doy : 4  // The week that contains Jan 4th is the first week of the year.\n    }\n});\n\nreturn fr;\n\n})));\n\n},{\"../moment\":55}],55:[function(require,module,exports){\n//! moment.js\n//! version : 2.17.1\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    global.moment = factory()\n}(this, (function () { 'use strict';\n\nvar hookCallback;\n\nfunction hooks () {\n    return hookCallback.apply(null, arguments);\n}\n\n// This is done to register the method called with moment()\n// without creating circular dependencies.\nfunction setHookCallback (callback) {\n    hookCallback = callback;\n}\n\nfunction isArray(input) {\n    return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';\n}\n\nfunction isObject(input) {\n    // IE8 will treat undefined and null as object if it wasn't for\n    // input != null\n    return input != null && Object.prototype.toString.call(input) === '[object Object]';\n}\n\nfunction isObjectEmpty(obj) {\n    var k;\n    for (k in obj) {\n        // even if its not own property I'd still call it non-empty\n        return false;\n    }\n    return true;\n}\n\nfunction isNumber(input) {\n    return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';\n}\n\nfunction isDate(input) {\n    return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';\n}\n\nfunction map(arr, fn) {\n    var res = [], i;\n    for (i = 0; i < arr.length; ++i) {\n        res.push(fn(arr[i], i));\n    }\n    return res;\n}\n\nfunction hasOwnProp(a, b) {\n    return Object.prototype.hasOwnProperty.call(a, b);\n}\n\nfunction extend(a, b) {\n    for (var i in b) {\n        if (hasOwnProp(b, i)) {\n            a[i] = b[i];\n        }\n    }\n\n    if (hasOwnProp(b, 'toString')) {\n        a.toString = b.toString;\n    }\n\n    if (hasOwnProp(b, 'valueOf')) {\n        a.valueOf = b.valueOf;\n    }\n\n    return a;\n}\n\nfunction createUTC (input, format, locale, strict) {\n    return createLocalOrUTC(input, format, locale, strict, true).utc();\n}\n\nfunction defaultParsingFlags() {\n    // We need to deep clone this object.\n    return {\n        empty           : false,\n        unusedTokens    : [],\n        unusedInput     : [],\n        overflow        : -2,\n        charsLeftOver   : 0,\n        nullInput       : false,\n        invalidMonth    : null,\n        invalidFormat   : false,\n        userInvalidated : false,\n        iso             : false,\n        parsedDateParts : [],\n        meridiem        : null\n    };\n}\n\nfunction getParsingFlags(m) {\n    if (m._pf == null) {\n        m._pf = defaultParsingFlags();\n    }\n    return m._pf;\n}\n\nvar some;\nif (Array.prototype.some) {\n    some = Array.prototype.some;\n} else {\n    some = function (fun) {\n        var t = Object(this);\n        var len = t.length >>> 0;\n\n        for (var i = 0; i < len; i++) {\n            if (i in t && fun.call(this, t[i], i, t)) {\n                return true;\n            }\n        }\n\n        return false;\n    };\n}\n\nvar some$1 = some;\n\nfunction isValid(m) {\n    if (m._isValid == null) {\n        var flags = getParsingFlags(m);\n        var parsedParts = some$1.call(flags.parsedDateParts, function (i) {\n            return i != null;\n        });\n        var isNowValid = !isNaN(m._d.getTime()) &&\n            flags.overflow < 0 &&\n            !flags.empty &&\n            !flags.invalidMonth &&\n            !flags.invalidWeekday &&\n            !flags.nullInput &&\n            !flags.invalidFormat &&\n            !flags.userInvalidated &&\n            (!flags.meridiem || (flags.meridiem && parsedParts));\n\n        if (m._strict) {\n            isNowValid = isNowValid &&\n                flags.charsLeftOver === 0 &&\n                flags.unusedTokens.length === 0 &&\n                flags.bigHour === undefined;\n        }\n\n        if (Object.isFrozen == null || !Object.isFrozen(m)) {\n            m._isValid = isNowValid;\n        }\n        else {\n            return isNowValid;\n        }\n    }\n    return m._isValid;\n}\n\nfunction createInvalid (flags) {\n    var m = createUTC(NaN);\n    if (flags != null) {\n        extend(getParsingFlags(m), flags);\n    }\n    else {\n        getParsingFlags(m).userInvalidated = true;\n    }\n\n    return m;\n}\n\nfunction isUndefined(input) {\n    return input === void 0;\n}\n\n// Plugins that add properties should also add the key here (null value),\n// so we can properly clone ourselves.\nvar momentProperties = hooks.momentProperties = [];\n\nfunction copyConfig(to, from) {\n    var i, prop, val;\n\n    if (!isUndefined(from._isAMomentObject)) {\n        to._isAMomentObject = from._isAMomentObject;\n    }\n    if (!isUndefined(from._i)) {\n        to._i = from._i;\n    }\n    if (!isUndefined(from._f)) {\n        to._f = from._f;\n    }\n    if (!isUndefined(from._l)) {\n        to._l = from._l;\n    }\n    if (!isUndefined(from._strict)) {\n        to._strict = from._strict;\n    }\n    if (!isUndefined(from._tzm)) {\n        to._tzm = from._tzm;\n    }\n    if (!isUndefined(from._isUTC)) {\n        to._isUTC = from._isUTC;\n    }\n    if (!isUndefined(from._offset)) {\n        to._offset = from._offset;\n    }\n    if (!isUndefined(from._pf)) {\n        to._pf = getParsingFlags(from);\n    }\n    if (!isUndefined(from._locale)) {\n        to._locale = from._locale;\n    }\n\n    if (momentProperties.length > 0) {\n        for (i in momentProperties) {\n            prop = momentProperties[i];\n            val = from[prop];\n            if (!isUndefined(val)) {\n                to[prop] = val;\n            }\n        }\n    }\n\n    return to;\n}\n\nvar updateInProgress = false;\n\n// Moment prototype object\nfunction Moment(config) {\n    copyConfig(this, config);\n    this._d = new Date(config._d != null ? config._d.getTime() : NaN);\n    if (!this.isValid()) {\n        this._d = new Date(NaN);\n    }\n    // Prevent infinite loop in case updateOffset creates new moment\n    // objects.\n    if (updateInProgress === false) {\n        updateInProgress = true;\n        hooks.updateOffset(this);\n        updateInProgress = false;\n    }\n}\n\nfunction isMoment (obj) {\n    return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);\n}\n\nfunction absFloor (number) {\n    if (number < 0) {\n        // -0 -> 0\n        return Math.ceil(number) || 0;\n    } else {\n        return Math.floor(number);\n    }\n}\n\nfunction toInt(argumentForCoercion) {\n    var coercedNumber = +argumentForCoercion,\n        value = 0;\n\n    if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n        value = absFloor(coercedNumber);\n    }\n\n    return value;\n}\n\n// compare two arrays, return the number of differences\nfunction compareArrays(array1, array2, dontConvert) {\n    var len = Math.min(array1.length, array2.length),\n        lengthDiff = Math.abs(array1.length - array2.length),\n        diffs = 0,\n        i;\n    for (i = 0; i < len; i++) {\n        if ((dontConvert && array1[i] !== array2[i]) ||\n            (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {\n            diffs++;\n        }\n    }\n    return diffs + lengthDiff;\n}\n\nfunction warn(msg) {\n    if (hooks.suppressDeprecationWarnings === false &&\n            (typeof console !==  'undefined') && console.warn) {\n        console.warn('Deprecation warning: ' + msg);\n    }\n}\n\nfunction deprecate(msg, fn) {\n    var firstTime = true;\n\n    return extend(function () {\n        if (hooks.deprecationHandler != null) {\n            hooks.deprecationHandler(null, msg);\n        }\n        if (firstTime) {\n            var args = [];\n            var arg;\n            for (var i = 0; i < arguments.length; i++) {\n                arg = '';\n                if (typeof arguments[i] === 'object') {\n                    arg += '\\n[' + i + '] ';\n                    for (var key in arguments[0]) {\n                        arg += key + ': ' + arguments[0][key] + ', ';\n                    }\n                    arg = arg.slice(0, -2); // Remove trailing comma and space\n                } else {\n                    arg = arguments[i];\n                }\n                args.push(arg);\n            }\n            warn(msg + '\\nArguments: ' + Array.prototype.slice.call(args).join('') + '\\n' + (new Error()).stack);\n            firstTime = false;\n        }\n        return fn.apply(this, arguments);\n    }, fn);\n}\n\nvar deprecations = {};\n\nfunction deprecateSimple(name, msg) {\n    if (hooks.deprecationHandler != null) {\n        hooks.deprecationHandler(name, msg);\n    }\n    if (!deprecations[name]) {\n        warn(msg);\n        deprecations[name] = true;\n    }\n}\n\nhooks.suppressDeprecationWarnings = false;\nhooks.deprecationHandler = null;\n\nfunction isFunction(input) {\n    return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';\n}\n\nfunction set (config) {\n    var prop, i;\n    for (i in config) {\n        prop = config[i];\n        if (isFunction(prop)) {\n            this[i] = prop;\n        } else {\n            this['_' + i] = prop;\n        }\n    }\n    this._config = config;\n    // Lenient ordinal parsing accepts just a number in addition to\n    // number + (possibly) stuff coming from _ordinalParseLenient.\n    this._ordinalParseLenient = new RegExp(this._ordinalParse.source + '|' + (/\\d{1,2}/).source);\n}\n\nfunction mergeConfigs(parentConfig, childConfig) {\n    var res = extend({}, parentConfig), prop;\n    for (prop in childConfig) {\n        if (hasOwnProp(childConfig, prop)) {\n            if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {\n                res[prop] = {};\n                extend(res[prop], parentConfig[prop]);\n                extend(res[prop], childConfig[prop]);\n            } else if (childConfig[prop] != null) {\n                res[prop] = childConfig[prop];\n            } else {\n                delete res[prop];\n            }\n        }\n    }\n    for (prop in parentConfig) {\n        if (hasOwnProp(parentConfig, prop) &&\n                !hasOwnProp(childConfig, prop) &&\n                isObject(parentConfig[prop])) {\n            // make sure changes to properties don't modify parent config\n            res[prop] = extend({}, res[prop]);\n        }\n    }\n    return res;\n}\n\nfunction Locale(config) {\n    if (config != null) {\n        this.set(config);\n    }\n}\n\nvar keys;\n\nif (Object.keys) {\n    keys = Object.keys;\n} else {\n    keys = function (obj) {\n        var i, res = [];\n        for (i in obj) {\n            if (hasOwnProp(obj, i)) {\n                res.push(i);\n            }\n        }\n        return res;\n    };\n}\n\nvar keys$1 = keys;\n\nvar defaultCalendar = {\n    sameDay : '[Today at] LT',\n    nextDay : '[Tomorrow at] LT',\n    nextWeek : 'dddd [at] LT',\n    lastDay : '[Yesterday at] LT',\n    lastWeek : '[Last] dddd [at] LT',\n    sameElse : 'L'\n};\n\nfunction calendar (key, mom, now) {\n    var output = this._calendar[key] || this._calendar['sameElse'];\n    return isFunction(output) ? output.call(mom, now) : output;\n}\n\nvar defaultLongDateFormat = {\n    LTS  : 'h:mm:ss A',\n    LT   : 'h:mm A',\n    L    : 'MM/DD/YYYY',\n    LL   : 'MMMM D, YYYY',\n    LLL  : 'MMMM D, YYYY h:mm A',\n    LLLL : 'dddd, MMMM D, YYYY h:mm A'\n};\n\nfunction longDateFormat (key) {\n    var format = this._longDateFormat[key],\n        formatUpper = this._longDateFormat[key.toUpperCase()];\n\n    if (format || !formatUpper) {\n        return format;\n    }\n\n    this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {\n        return val.slice(1);\n    });\n\n    return this._longDateFormat[key];\n}\n\nvar defaultInvalidDate = 'Invalid date';\n\nfunction invalidDate () {\n    return this._invalidDate;\n}\n\nvar defaultOrdinal = '%d';\nvar defaultOrdinalParse = /\\d{1,2}/;\n\nfunction ordinal (number) {\n    return this._ordinal.replace('%d', number);\n}\n\nvar defaultRelativeTime = {\n    future : 'in %s',\n    past   : '%s ago',\n    s  : 'a few seconds',\n    m  : 'a minute',\n    mm : '%d minutes',\n    h  : 'an hour',\n    hh : '%d hours',\n    d  : 'a day',\n    dd : '%d days',\n    M  : 'a month',\n    MM : '%d months',\n    y  : 'a year',\n    yy : '%d years'\n};\n\nfunction relativeTime (number, withoutSuffix, string, isFuture) {\n    var output = this._relativeTime[string];\n    return (isFunction(output)) ?\n        output(number, withoutSuffix, string, isFuture) :\n        output.replace(/%d/i, number);\n}\n\nfunction pastFuture (diff, output) {\n    var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n    return isFunction(format) ? format(output) : format.replace(/%s/i, output);\n}\n\nvar aliases = {};\n\nfunction addUnitAlias (unit, shorthand) {\n    var lowerCase = unit.toLowerCase();\n    aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;\n}\n\nfunction normalizeUnits(units) {\n    return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;\n}\n\nfunction normalizeObjectUnits(inputObject) {\n    var normalizedInput = {},\n        normalizedProp,\n        prop;\n\n    for (prop in inputObject) {\n        if (hasOwnProp(inputObject, prop)) {\n            normalizedProp = normalizeUnits(prop);\n            if (normalizedProp) {\n                normalizedInput[normalizedProp] = inputObject[prop];\n            }\n        }\n    }\n\n    return normalizedInput;\n}\n\nvar priorities = {};\n\nfunction addUnitPriority(unit, priority) {\n    priorities[unit] = priority;\n}\n\nfunction getPrioritizedUnits(unitsObj) {\n    var units = [];\n    for (var u in unitsObj) {\n        units.push({unit: u, priority: priorities[u]});\n    }\n    units.sort(function (a, b) {\n        return a.priority - b.priority;\n    });\n    return units;\n}\n\nfunction makeGetSet (unit, keepTime) {\n    return function (value) {\n        if (value != null) {\n            set$1(this, unit, value);\n            hooks.updateOffset(this, keepTime);\n            return this;\n        } else {\n            return get(this, unit);\n        }\n    };\n}\n\nfunction get (mom, unit) {\n    return mom.isValid() ?\n        mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;\n}\n\nfunction set$1 (mom, unit, value) {\n    if (mom.isValid()) {\n        mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n    }\n}\n\n// MOMENTS\n\nfunction stringGet (units) {\n    units = normalizeUnits(units);\n    if (isFunction(this[units])) {\n        return this[units]();\n    }\n    return this;\n}\n\n\nfunction stringSet (units, value) {\n    if (typeof units === 'object') {\n        units = normalizeObjectUnits(units);\n        var prioritized = getPrioritizedUnits(units);\n        for (var i = 0; i < prioritized.length; i++) {\n            this[prioritized[i].unit](units[prioritized[i].unit]);\n        }\n    } else {\n        units = normalizeUnits(units);\n        if (isFunction(this[units])) {\n            return this[units](value);\n        }\n    }\n    return this;\n}\n\nfunction zeroFill(number, targetLength, forceSign) {\n    var absNumber = '' + Math.abs(number),\n        zerosToFill = targetLength - absNumber.length,\n        sign = number >= 0;\n    return (sign ? (forceSign ? '+' : '') : '-') +\n        Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;\n}\n\nvar formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;\n\nvar localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g;\n\nvar formatFunctions = {};\n\nvar formatTokenFunctions = {};\n\n// token:    'M'\n// padded:   ['MM', 2]\n// ordinal:  'Mo'\n// callback: function () { this.month() + 1 }\nfunction addFormatToken (token, padded, ordinal, callback) {\n    var func = callback;\n    if (typeof callback === 'string') {\n        func = function () {\n            return this[callback]();\n        };\n    }\n    if (token) {\n        formatTokenFunctions[token] = func;\n    }\n    if (padded) {\n        formatTokenFunctions[padded[0]] = function () {\n            return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n        };\n    }\n    if (ordinal) {\n        formatTokenFunctions[ordinal] = function () {\n            return this.localeData().ordinal(func.apply(this, arguments), token);\n        };\n    }\n}\n\nfunction removeFormattingTokens(input) {\n    if (input.match(/\\[[\\s\\S]/)) {\n        return input.replace(/^\\[|\\]$/g, '');\n    }\n    return input.replace(/\\\\/g, '');\n}\n\nfunction makeFormatFunction(format) {\n    var array = format.match(formattingTokens), i, length;\n\n    for (i = 0, length = array.length; i < length; i++) {\n        if (formatTokenFunctions[array[i]]) {\n            array[i] = formatTokenFunctions[array[i]];\n        } else {\n            array[i] = removeFormattingTokens(array[i]);\n        }\n    }\n\n    return function (mom) {\n        var output = '', i;\n        for (i = 0; i < length; i++) {\n            output += array[i] instanceof Function ? array[i].call(mom, format) : array[i];\n        }\n        return output;\n    };\n}\n\n// format date using native date object\nfunction formatMoment(m, format) {\n    if (!m.isValid()) {\n        return m.localeData().invalidDate();\n    }\n\n    format = expandFormat(format, m.localeData());\n    formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);\n\n    return formatFunctions[format](m);\n}\n\nfunction expandFormat(format, locale) {\n    var i = 5;\n\n    function replaceLongDateFormatTokens(input) {\n        return locale.longDateFormat(input) || input;\n    }\n\n    localFormattingTokens.lastIndex = 0;\n    while (i >= 0 && localFormattingTokens.test(format)) {\n        format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\n        localFormattingTokens.lastIndex = 0;\n        i -= 1;\n    }\n\n    return format;\n}\n\nvar match1         = /\\d/;            //       0 - 9\nvar match2         = /\\d\\d/;          //      00 - 99\nvar match3         = /\\d{3}/;         //     000 - 999\nvar match4         = /\\d{4}/;         //    0000 - 9999\nvar match6         = /[+-]?\\d{6}/;    // -999999 - 999999\nvar match1to2      = /\\d\\d?/;         //       0 - 99\nvar match3to4      = /\\d\\d\\d\\d?/;     //     999 - 9999\nvar match5to6      = /\\d\\d\\d\\d\\d\\d?/; //   99999 - 999999\nvar match1to3      = /\\d{1,3}/;       //       0 - 999\nvar match1to4      = /\\d{1,4}/;       //       0 - 9999\nvar match1to6      = /[+-]?\\d{1,6}/;  // -999999 - 999999\n\nvar matchUnsigned  = /\\d+/;           //       0 - inf\nvar matchSigned    = /[+-]?\\d+/;      //    -inf - inf\n\nvar matchOffset    = /Z|[+-]\\d\\d:?\\d\\d/gi; // +00:00 -00:00 +0000 -0000 or Z\nvar matchShortOffset = /Z|[+-]\\d\\d(?::?\\d\\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z\n\nvar matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/; // 123456789 123456789.123\n\n// any word (or two) characters or numbers including two/three word month in arabic.\n// includes scottish gaelic two word and hyphenated months\nvar matchWord = /[0-9]*['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i;\n\n\nvar regexes = {};\n\nfunction addRegexToken (token, regex, strictRegex) {\n    regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {\n        return (isStrict && strictRegex) ? strictRegex : regex;\n    };\n}\n\nfunction getParseRegexForToken (token, config) {\n    if (!hasOwnProp(regexes, token)) {\n        return new RegExp(unescapeFormat(token));\n    }\n\n    return regexes[token](config._strict, config._locale);\n}\n\n// Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\nfunction unescapeFormat(s) {\n    return regexEscape(s.replace('\\\\', '').replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (matched, p1, p2, p3, p4) {\n        return p1 || p2 || p3 || p4;\n    }));\n}\n\nfunction regexEscape(s) {\n    return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n}\n\nvar tokens = {};\n\nfunction addParseToken (token, callback) {\n    var i, func = callback;\n    if (typeof token === 'string') {\n        token = [token];\n    }\n    if (isNumber(callback)) {\n        func = function (input, array) {\n            array[callback] = toInt(input);\n        };\n    }\n    for (i = 0; i < token.length; i++) {\n        tokens[token[i]] = func;\n    }\n}\n\nfunction addWeekParseToken (token, callback) {\n    addParseToken(token, function (input, array, config, token) {\n        config._w = config._w || {};\n        callback(input, config._w, config, token);\n    });\n}\n\nfunction addTimeToArrayFromToken(token, input, config) {\n    if (input != null && hasOwnProp(tokens, token)) {\n        tokens[token](input, config._a, config, token);\n    }\n}\n\nvar YEAR = 0;\nvar MONTH = 1;\nvar DATE = 2;\nvar HOUR = 3;\nvar MINUTE = 4;\nvar SECOND = 5;\nvar MILLISECOND = 6;\nvar WEEK = 7;\nvar WEEKDAY = 8;\n\nvar indexOf;\n\nif (Array.prototype.indexOf) {\n    indexOf = Array.prototype.indexOf;\n} else {\n    indexOf = function (o) {\n        // I know\n        var i;\n        for (i = 0; i < this.length; ++i) {\n            if (this[i] === o) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\n\nvar indexOf$1 = indexOf;\n\nfunction daysInMonth(year, month) {\n    return new Date(Date.UTC(year, month + 1, 0)).getUTCDate();\n}\n\n// FORMATTING\n\naddFormatToken('M', ['MM', 2], 'Mo', function () {\n    return this.month() + 1;\n});\n\naddFormatToken('MMM', 0, 0, function (format) {\n    return this.localeData().monthsShort(this, format);\n});\n\naddFormatToken('MMMM', 0, 0, function (format) {\n    return this.localeData().months(this, format);\n});\n\n// ALIASES\n\naddUnitAlias('month', 'M');\n\n// PRIORITY\n\naddUnitPriority('month', 8);\n\n// PARSING\n\naddRegexToken('M',    match1to2);\naddRegexToken('MM',   match1to2, match2);\naddRegexToken('MMM',  function (isStrict, locale) {\n    return locale.monthsShortRegex(isStrict);\n});\naddRegexToken('MMMM', function (isStrict, locale) {\n    return locale.monthsRegex(isStrict);\n});\n\naddParseToken(['M', 'MM'], function (input, array) {\n    array[MONTH] = toInt(input) - 1;\n});\n\naddParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\n    var month = config._locale.monthsParse(input, token, config._strict);\n    // if we didn't find a month name, mark the date as invalid.\n    if (month != null) {\n        array[MONTH] = month;\n    } else {\n        getParsingFlags(config).invalidMonth = input;\n    }\n});\n\n// LOCALES\n\nvar MONTHS_IN_FORMAT = /D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/;\nvar defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');\nfunction localeMonths (m, format) {\n    if (!m) {\n        return this._months;\n    }\n    return isArray(this._months) ? this._months[m.month()] :\n        this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];\n}\n\nvar defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');\nfunction localeMonthsShort (m, format) {\n    if (!m) {\n        return this._monthsShort;\n    }\n    return isArray(this._monthsShort) ? this._monthsShort[m.month()] :\n        this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];\n}\n\nfunction handleStrictParse(monthName, format, strict) {\n    var i, ii, mom, llc = monthName.toLocaleLowerCase();\n    if (!this._monthsParse) {\n        // this is not used\n        this._monthsParse = [];\n        this._longMonthsParse = [];\n        this._shortMonthsParse = [];\n        for (i = 0; i < 12; ++i) {\n            mom = createUTC([2000, i]);\n            this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();\n            this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();\n        }\n    }\n\n    if (strict) {\n        if (format === 'MMM') {\n            ii = indexOf$1.call(this._shortMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf$1.call(this._longMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    } else {\n        if (format === 'MMM') {\n            ii = indexOf$1.call(this._shortMonthsParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf$1.call(this._longMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf$1.call(this._longMonthsParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf$1.call(this._shortMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    }\n}\n\nfunction localeMonthsParse (monthName, format, strict) {\n    var i, mom, regex;\n\n    if (this._monthsParseExact) {\n        return handleStrictParse.call(this, monthName, format, strict);\n    }\n\n    if (!this._monthsParse) {\n        this._monthsParse = [];\n        this._longMonthsParse = [];\n        this._shortMonthsParse = [];\n    }\n\n    // TODO: add sorting\n    // Sorting makes sure if one month (or abbr) is a prefix of another\n    // see sorting in computeMonthsParse\n    for (i = 0; i < 12; i++) {\n        // make the regex if we don't have it already\n        mom = createUTC([2000, i]);\n        if (strict && !this._longMonthsParse[i]) {\n            this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');\n            this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');\n        }\n        if (!strict && !this._monthsParse[i]) {\n            regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n            this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n        }\n        // test the regex\n        if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {\n            return i;\n        } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {\n            return i;\n        } else if (!strict && this._monthsParse[i].test(monthName)) {\n            return i;\n        }\n    }\n}\n\n// MOMENTS\n\nfunction setMonth (mom, value) {\n    var dayOfMonth;\n\n    if (!mom.isValid()) {\n        // No op\n        return mom;\n    }\n\n    if (typeof value === 'string') {\n        if (/^\\d+$/.test(value)) {\n            value = toInt(value);\n        } else {\n            value = mom.localeData().monthsParse(value);\n            // TODO: Another silent failure?\n            if (!isNumber(value)) {\n                return mom;\n            }\n        }\n    }\n\n    dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\n    mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n    return mom;\n}\n\nfunction getSetMonth (value) {\n    if (value != null) {\n        setMonth(this, value);\n        hooks.updateOffset(this, true);\n        return this;\n    } else {\n        return get(this, 'Month');\n    }\n}\n\nfunction getDaysInMonth () {\n    return daysInMonth(this.year(), this.month());\n}\n\nvar defaultMonthsShortRegex = matchWord;\nfunction monthsShortRegex (isStrict) {\n    if (this._monthsParseExact) {\n        if (!hasOwnProp(this, '_monthsRegex')) {\n            computeMonthsParse.call(this);\n        }\n        if (isStrict) {\n            return this._monthsShortStrictRegex;\n        } else {\n            return this._monthsShortRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_monthsShortRegex')) {\n            this._monthsShortRegex = defaultMonthsShortRegex;\n        }\n        return this._monthsShortStrictRegex && isStrict ?\n            this._monthsShortStrictRegex : this._monthsShortRegex;\n    }\n}\n\nvar defaultMonthsRegex = matchWord;\nfunction monthsRegex (isStrict) {\n    if (this._monthsParseExact) {\n        if (!hasOwnProp(this, '_monthsRegex')) {\n            computeMonthsParse.call(this);\n        }\n        if (isStrict) {\n            return this._monthsStrictRegex;\n        } else {\n            return this._monthsRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_monthsRegex')) {\n            this._monthsRegex = defaultMonthsRegex;\n        }\n        return this._monthsStrictRegex && isStrict ?\n            this._monthsStrictRegex : this._monthsRegex;\n    }\n}\n\nfunction computeMonthsParse () {\n    function cmpLenRev(a, b) {\n        return b.length - a.length;\n    }\n\n    var shortPieces = [], longPieces = [], mixedPieces = [],\n        i, mom;\n    for (i = 0; i < 12; i++) {\n        // make the regex if we don't have it already\n        mom = createUTC([2000, i]);\n        shortPieces.push(this.monthsShort(mom, ''));\n        longPieces.push(this.months(mom, ''));\n        mixedPieces.push(this.months(mom, ''));\n        mixedPieces.push(this.monthsShort(mom, ''));\n    }\n    // Sorting makes sure if one month (or abbr) is a prefix of another it\n    // will match the longer piece.\n    shortPieces.sort(cmpLenRev);\n    longPieces.sort(cmpLenRev);\n    mixedPieces.sort(cmpLenRev);\n    for (i = 0; i < 12; i++) {\n        shortPieces[i] = regexEscape(shortPieces[i]);\n        longPieces[i] = regexEscape(longPieces[i]);\n    }\n    for (i = 0; i < 24; i++) {\n        mixedPieces[i] = regexEscape(mixedPieces[i]);\n    }\n\n    this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n    this._monthsShortRegex = this._monthsRegex;\n    this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n    this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n}\n\n// FORMATTING\n\naddFormatToken('Y', 0, 0, function () {\n    var y = this.year();\n    return y <= 9999 ? '' + y : '+' + y;\n});\n\naddFormatToken(0, ['YY', 2], 0, function () {\n    return this.year() % 100;\n});\n\naddFormatToken(0, ['YYYY',   4],       0, 'year');\naddFormatToken(0, ['YYYYY',  5],       0, 'year');\naddFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\n\n// ALIASES\n\naddUnitAlias('year', 'y');\n\n// PRIORITIES\n\naddUnitPriority('year', 1);\n\n// PARSING\n\naddRegexToken('Y',      matchSigned);\naddRegexToken('YY',     match1to2, match2);\naddRegexToken('YYYY',   match1to4, match4);\naddRegexToken('YYYYY',  match1to6, match6);\naddRegexToken('YYYYYY', match1to6, match6);\n\naddParseToken(['YYYYY', 'YYYYYY'], YEAR);\naddParseToken('YYYY', function (input, array) {\n    array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);\n});\naddParseToken('YY', function (input, array) {\n    array[YEAR] = hooks.parseTwoDigitYear(input);\n});\naddParseToken('Y', function (input, array) {\n    array[YEAR] = parseInt(input, 10);\n});\n\n// HELPERS\n\nfunction daysInYear(year) {\n    return isLeapYear(year) ? 366 : 365;\n}\n\nfunction isLeapYear(year) {\n    return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n}\n\n// HOOKS\n\nhooks.parseTwoDigitYear = function (input) {\n    return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n};\n\n// MOMENTS\n\nvar getSetYear = makeGetSet('FullYear', true);\n\nfunction getIsLeapYear () {\n    return isLeapYear(this.year());\n}\n\nfunction createDate (y, m, d, h, M, s, ms) {\n    //can't just apply() to create a date:\n    //http://stackoverflow.com/questions/181348/instantiating-a-javascript-object-by-calling-prototype-constructor-apply\n    var date = new Date(y, m, d, h, M, s, ms);\n\n    //the date constructor remaps years 0-99 to 1900-1999\n    if (y < 100 && y >= 0 && isFinite(date.getFullYear())) {\n        date.setFullYear(y);\n    }\n    return date;\n}\n\nfunction createUTCDate (y) {\n    var date = new Date(Date.UTC.apply(null, arguments));\n\n    //the Date.UTC function remaps years 0-99 to 1900-1999\n    if (y < 100 && y >= 0 && isFinite(date.getUTCFullYear())) {\n        date.setUTCFullYear(y);\n    }\n    return date;\n}\n\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    var // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n        fwd = 7 + dow - doy,\n        // first-week day local weekday -- which local weekday is fwd\n        fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;\n\n    return -fwdlw + fwd - 1;\n}\n\n//http://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\nfunction dayOfYearFromWeeks(year, week, weekday, dow, doy) {\n    var localWeekday = (7 + weekday - dow) % 7,\n        weekOffset = firstWeekOffset(year, dow, doy),\n        dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,\n        resYear, resDayOfYear;\n\n    if (dayOfYear <= 0) {\n        resYear = year - 1;\n        resDayOfYear = daysInYear(resYear) + dayOfYear;\n    } else if (dayOfYear > daysInYear(year)) {\n        resYear = year + 1;\n        resDayOfYear = dayOfYear - daysInYear(year);\n    } else {\n        resYear = year;\n        resDayOfYear = dayOfYear;\n    }\n\n    return {\n        year: resYear,\n        dayOfYear: resDayOfYear\n    };\n}\n\nfunction weekOfYear(mom, dow, doy) {\n    var weekOffset = firstWeekOffset(mom.year(), dow, doy),\n        week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,\n        resWeek, resYear;\n\n    if (week < 1) {\n        resYear = mom.year() - 1;\n        resWeek = week + weeksInYear(resYear, dow, doy);\n    } else if (week > weeksInYear(mom.year(), dow, doy)) {\n        resWeek = week - weeksInYear(mom.year(), dow, doy);\n        resYear = mom.year() + 1;\n    } else {\n        resYear = mom.year();\n        resWeek = week;\n    }\n\n    return {\n        week: resWeek,\n        year: resYear\n    };\n}\n\nfunction weeksInYear(year, dow, doy) {\n    var weekOffset = firstWeekOffset(year, dow, doy),\n        weekOffsetNext = firstWeekOffset(year + 1, dow, doy);\n    return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;\n}\n\n// FORMATTING\n\naddFormatToken('w', ['ww', 2], 'wo', 'week');\naddFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\n\n// ALIASES\n\naddUnitAlias('week', 'w');\naddUnitAlias('isoWeek', 'W');\n\n// PRIORITIES\n\naddUnitPriority('week', 5);\naddUnitPriority('isoWeek', 5);\n\n// PARSING\n\naddRegexToken('w',  match1to2);\naddRegexToken('ww', match1to2, match2);\naddRegexToken('W',  match1to2);\naddRegexToken('WW', match1to2, match2);\n\naddWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {\n    week[token.substr(0, 1)] = toInt(input);\n});\n\n// HELPERS\n\n// LOCALES\n\nfunction localeWeek (mom) {\n    return weekOfYear(mom, this._week.dow, this._week.doy).week;\n}\n\nvar defaultLocaleWeek = {\n    dow : 0, // Sunday is the first day of the week.\n    doy : 6  // The week that contains Jan 1st is the first week of the year.\n};\n\nfunction localeFirstDayOfWeek () {\n    return this._week.dow;\n}\n\nfunction localeFirstDayOfYear () {\n    return this._week.doy;\n}\n\n// MOMENTS\n\nfunction getSetWeek (input) {\n    var week = this.localeData().week(this);\n    return input == null ? week : this.add((input - week) * 7, 'd');\n}\n\nfunction getSetISOWeek (input) {\n    var week = weekOfYear(this, 1, 4).week;\n    return input == null ? week : this.add((input - week) * 7, 'd');\n}\n\n// FORMATTING\n\naddFormatToken('d', 0, 'do', 'day');\n\naddFormatToken('dd', 0, 0, function (format) {\n    return this.localeData().weekdaysMin(this, format);\n});\n\naddFormatToken('ddd', 0, 0, function (format) {\n    return this.localeData().weekdaysShort(this, format);\n});\n\naddFormatToken('dddd', 0, 0, function (format) {\n    return this.localeData().weekdays(this, format);\n});\n\naddFormatToken('e', 0, 0, 'weekday');\naddFormatToken('E', 0, 0, 'isoWeekday');\n\n// ALIASES\n\naddUnitAlias('day', 'd');\naddUnitAlias('weekday', 'e');\naddUnitAlias('isoWeekday', 'E');\n\n// PRIORITY\naddUnitPriority('day', 11);\naddUnitPriority('weekday', 11);\naddUnitPriority('isoWeekday', 11);\n\n// PARSING\n\naddRegexToken('d',    match1to2);\naddRegexToken('e',    match1to2);\naddRegexToken('E',    match1to2);\naddRegexToken('dd',   function (isStrict, locale) {\n    return locale.weekdaysMinRegex(isStrict);\n});\naddRegexToken('ddd',   function (isStrict, locale) {\n    return locale.weekdaysShortRegex(isStrict);\n});\naddRegexToken('dddd',   function (isStrict, locale) {\n    return locale.weekdaysRegex(isStrict);\n});\n\naddWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {\n    var weekday = config._locale.weekdaysParse(input, token, config._strict);\n    // if we didn't get a weekday name, mark the date as invalid\n    if (weekday != null) {\n        week.d = weekday;\n    } else {\n        getParsingFlags(config).invalidWeekday = input;\n    }\n});\n\naddWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\n    week[token] = toInt(input);\n});\n\n// HELPERS\n\nfunction parseWeekday(input, locale) {\n    if (typeof input !== 'string') {\n        return input;\n    }\n\n    if (!isNaN(input)) {\n        return parseInt(input, 10);\n    }\n\n    input = locale.weekdaysParse(input);\n    if (typeof input === 'number') {\n        return input;\n    }\n\n    return null;\n}\n\nfunction parseIsoWeekday(input, locale) {\n    if (typeof input === 'string') {\n        return locale.weekdaysParse(input) % 7 || 7;\n    }\n    return isNaN(input) ? null : input;\n}\n\n// LOCALES\n\nvar defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');\nfunction localeWeekdays (m, format) {\n    if (!m) {\n        return this._weekdays;\n    }\n    return isArray(this._weekdays) ? this._weekdays[m.day()] :\n        this._weekdays[this._weekdays.isFormat.test(format) ? 'format' : 'standalone'][m.day()];\n}\n\nvar defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');\nfunction localeWeekdaysShort (m) {\n    return (m) ? this._weekdaysShort[m.day()] : this._weekdaysShort;\n}\n\nvar defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');\nfunction localeWeekdaysMin (m) {\n    return (m) ? this._weekdaysMin[m.day()] : this._weekdaysMin;\n}\n\nfunction handleStrictParse$1(weekdayName, format, strict) {\n    var i, ii, mom, llc = weekdayName.toLocaleLowerCase();\n    if (!this._weekdaysParse) {\n        this._weekdaysParse = [];\n        this._shortWeekdaysParse = [];\n        this._minWeekdaysParse = [];\n\n        for (i = 0; i < 7; ++i) {\n            mom = createUTC([2000, 1]).day(i);\n            this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();\n            this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();\n            this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();\n        }\n    }\n\n    if (strict) {\n        if (format === 'dddd') {\n            ii = indexOf$1.call(this._weekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else if (format === 'ddd') {\n            ii = indexOf$1.call(this._shortWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf$1.call(this._minWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    } else {\n        if (format === 'dddd') {\n            ii = indexOf$1.call(this._weekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf$1.call(this._shortWeekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf$1.call(this._minWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else if (format === 'ddd') {\n            ii = indexOf$1.call(this._shortWeekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf$1.call(this._weekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf$1.call(this._minWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf$1.call(this._minWeekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf$1.call(this._weekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf$1.call(this._shortWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    }\n}\n\nfunction localeWeekdaysParse (weekdayName, format, strict) {\n    var i, mom, regex;\n\n    if (this._weekdaysParseExact) {\n        return handleStrictParse$1.call(this, weekdayName, format, strict);\n    }\n\n    if (!this._weekdaysParse) {\n        this._weekdaysParse = [];\n        this._minWeekdaysParse = [];\n        this._shortWeekdaysParse = [];\n        this._fullWeekdaysParse = [];\n    }\n\n    for (i = 0; i < 7; i++) {\n        // make the regex if we don't have it already\n\n        mom = createUTC([2000, 1]).day(i);\n        if (strict && !this._fullWeekdaysParse[i]) {\n            this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\\.?') + '$', 'i');\n            this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\\.?') + '$', 'i');\n            this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\\.?') + '$', 'i');\n        }\n        if (!this._weekdaysParse[i]) {\n            regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');\n            this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n        }\n        // test the regex\n        if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {\n            return i;\n        } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {\n            return i;\n        } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {\n            return i;\n        } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {\n            return i;\n        }\n    }\n}\n\n// MOMENTS\n\nfunction getSetDayOfWeek (input) {\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n    var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n    if (input != null) {\n        input = parseWeekday(input, this.localeData());\n        return this.add(input - day, 'd');\n    } else {\n        return day;\n    }\n}\n\nfunction getSetLocaleDayOfWeek (input) {\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n    var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n    return input == null ? weekday : this.add(input - weekday, 'd');\n}\n\nfunction getSetISODayOfWeek (input) {\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n\n    // behaves the same as moment#day except\n    // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n    // as a setter, sunday should belong to the previous week.\n\n    if (input != null) {\n        var weekday = parseIsoWeekday(input, this.localeData());\n        return this.day(this.day() % 7 ? weekday : weekday - 7);\n    } else {\n        return this.day() || 7;\n    }\n}\n\nvar defaultWeekdaysRegex = matchWord;\nfunction weekdaysRegex (isStrict) {\n    if (this._weekdaysParseExact) {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            computeWeekdaysParse.call(this);\n        }\n        if (isStrict) {\n            return this._weekdaysStrictRegex;\n        } else {\n            return this._weekdaysRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            this._weekdaysRegex = defaultWeekdaysRegex;\n        }\n        return this._weekdaysStrictRegex && isStrict ?\n            this._weekdaysStrictRegex : this._weekdaysRegex;\n    }\n}\n\nvar defaultWeekdaysShortRegex = matchWord;\nfunction weekdaysShortRegex (isStrict) {\n    if (this._weekdaysParseExact) {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            computeWeekdaysParse.call(this);\n        }\n        if (isStrict) {\n            return this._weekdaysShortStrictRegex;\n        } else {\n            return this._weekdaysShortRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_weekdaysShortRegex')) {\n            this._weekdaysShortRegex = defaultWeekdaysShortRegex;\n        }\n        return this._weekdaysShortStrictRegex && isStrict ?\n            this._weekdaysShortStrictRegex : this._weekdaysShortRegex;\n    }\n}\n\nvar defaultWeekdaysMinRegex = matchWord;\nfunction weekdaysMinRegex (isStrict) {\n    if (this._weekdaysParseExact) {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            computeWeekdaysParse.call(this);\n        }\n        if (isStrict) {\n            return this._weekdaysMinStrictRegex;\n        } else {\n            return this._weekdaysMinRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_weekdaysMinRegex')) {\n            this._weekdaysMinRegex = defaultWeekdaysMinRegex;\n        }\n        return this._weekdaysMinStrictRegex && isStrict ?\n            this._weekdaysMinStrictRegex : this._weekdaysMinRegex;\n    }\n}\n\n\nfunction computeWeekdaysParse () {\n    function cmpLenRev(a, b) {\n        return b.length - a.length;\n    }\n\n    var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [],\n        i, mom, minp, shortp, longp;\n    for (i = 0; i < 7; i++) {\n        // make the regex if we don't have it already\n        mom = createUTC([2000, 1]).day(i);\n        minp = this.weekdaysMin(mom, '');\n        shortp = this.weekdaysShort(mom, '');\n        longp = this.weekdays(mom, '');\n        minPieces.push(minp);\n        shortPieces.push(shortp);\n        longPieces.push(longp);\n        mixedPieces.push(minp);\n        mixedPieces.push(shortp);\n        mixedPieces.push(longp);\n    }\n    // Sorting makes sure if one weekday (or abbr) is a prefix of another it\n    // will match the longer piece.\n    minPieces.sort(cmpLenRev);\n    shortPieces.sort(cmpLenRev);\n    longPieces.sort(cmpLenRev);\n    mixedPieces.sort(cmpLenRev);\n    for (i = 0; i < 7; i++) {\n        shortPieces[i] = regexEscape(shortPieces[i]);\n        longPieces[i] = regexEscape(longPieces[i]);\n        mixedPieces[i] = regexEscape(mixedPieces[i]);\n    }\n\n    this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n    this._weekdaysShortRegex = this._weekdaysRegex;\n    this._weekdaysMinRegex = this._weekdaysRegex;\n\n    this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n    this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n    this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');\n}\n\n// FORMATTING\n\nfunction hFormat() {\n    return this.hours() % 12 || 12;\n}\n\nfunction kFormat() {\n    return this.hours() || 24;\n}\n\naddFormatToken('H', ['HH', 2], 0, 'hour');\naddFormatToken('h', ['hh', 2], 0, hFormat);\naddFormatToken('k', ['kk', 2], 0, kFormat);\n\naddFormatToken('hmm', 0, 0, function () {\n    return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);\n});\n\naddFormatToken('hmmss', 0, 0, function () {\n    return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) +\n        zeroFill(this.seconds(), 2);\n});\n\naddFormatToken('Hmm', 0, 0, function () {\n    return '' + this.hours() + zeroFill(this.minutes(), 2);\n});\n\naddFormatToken('Hmmss', 0, 0, function () {\n    return '' + this.hours() + zeroFill(this.minutes(), 2) +\n        zeroFill(this.seconds(), 2);\n});\n\nfunction meridiem (token, lowercase) {\n    addFormatToken(token, 0, 0, function () {\n        return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);\n    });\n}\n\nmeridiem('a', true);\nmeridiem('A', false);\n\n// ALIASES\n\naddUnitAlias('hour', 'h');\n\n// PRIORITY\naddUnitPriority('hour', 13);\n\n// PARSING\n\nfunction matchMeridiem (isStrict, locale) {\n    return locale._meridiemParse;\n}\n\naddRegexToken('a',  matchMeridiem);\naddRegexToken('A',  matchMeridiem);\naddRegexToken('H',  match1to2);\naddRegexToken('h',  match1to2);\naddRegexToken('HH', match1to2, match2);\naddRegexToken('hh', match1to2, match2);\n\naddRegexToken('hmm', match3to4);\naddRegexToken('hmmss', match5to6);\naddRegexToken('Hmm', match3to4);\naddRegexToken('Hmmss', match5to6);\n\naddParseToken(['H', 'HH'], HOUR);\naddParseToken(['a', 'A'], function (input, array, config) {\n    config._isPm = config._locale.isPM(input);\n    config._meridiem = input;\n});\naddParseToken(['h', 'hh'], function (input, array, config) {\n    array[HOUR] = toInt(input);\n    getParsingFlags(config).bigHour = true;\n});\naddParseToken('hmm', function (input, array, config) {\n    var pos = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos));\n    array[MINUTE] = toInt(input.substr(pos));\n    getParsingFlags(config).bigHour = true;\n});\naddParseToken('hmmss', function (input, array, config) {\n    var pos1 = input.length - 4;\n    var pos2 = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos1));\n    array[MINUTE] = toInt(input.substr(pos1, 2));\n    array[SECOND] = toInt(input.substr(pos2));\n    getParsingFlags(config).bigHour = true;\n});\naddParseToken('Hmm', function (input, array, config) {\n    var pos = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos));\n    array[MINUTE] = toInt(input.substr(pos));\n});\naddParseToken('Hmmss', function (input, array, config) {\n    var pos1 = input.length - 4;\n    var pos2 = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos1));\n    array[MINUTE] = toInt(input.substr(pos1, 2));\n    array[SECOND] = toInt(input.substr(pos2));\n});\n\n// LOCALES\n\nfunction localeIsPM (input) {\n    // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n    // Using charAt should be more compatible.\n    return ((input + '').toLowerCase().charAt(0) === 'p');\n}\n\nvar defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i;\nfunction localeMeridiem (hours, minutes, isLower) {\n    if (hours > 11) {\n        return isLower ? 'pm' : 'PM';\n    } else {\n        return isLower ? 'am' : 'AM';\n    }\n}\n\n\n// MOMENTS\n\n// Setting the hour should keep the time, because the user explicitly\n// specified which hour he wants. So trying to maintain the same hour (in\n// a new timezone) makes sense. Adding/subtracting hours does not follow\n// this rule.\nvar getSetHour = makeGetSet('Hours', true);\n\n// months\n// week\n// weekdays\n// meridiem\nvar baseConfig = {\n    calendar: defaultCalendar,\n    longDateFormat: defaultLongDateFormat,\n    invalidDate: defaultInvalidDate,\n    ordinal: defaultOrdinal,\n    ordinalParse: defaultOrdinalParse,\n    relativeTime: defaultRelativeTime,\n\n    months: defaultLocaleMonths,\n    monthsShort: defaultLocaleMonthsShort,\n\n    week: defaultLocaleWeek,\n\n    weekdays: defaultLocaleWeekdays,\n    weekdaysMin: defaultLocaleWeekdaysMin,\n    weekdaysShort: defaultLocaleWeekdaysShort,\n\n    meridiemParse: defaultLocaleMeridiemParse\n};\n\n// internal storage for locale config files\nvar locales = {};\nvar localeFamilies = {};\nvar globalLocale;\n\nfunction normalizeLocale(key) {\n    return key ? key.toLowerCase().replace('_', '-') : key;\n}\n\n// pick the locale from the array\n// try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n// substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\nfunction chooseLocale(names) {\n    var i = 0, j, next, locale, split;\n\n    while (i < names.length) {\n        split = normalizeLocale(names[i]).split('-');\n        j = split.length;\n        next = normalizeLocale(names[i + 1]);\n        next = next ? next.split('-') : null;\n        while (j > 0) {\n            locale = loadLocale(split.slice(0, j).join('-'));\n            if (locale) {\n                return locale;\n            }\n            if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {\n                //the next array item is better than a shallower substring of this one\n                break;\n            }\n            j--;\n        }\n        i++;\n    }\n    return null;\n}\n\nfunction loadLocale(name) {\n    var oldLocale = null;\n    // TODO: Find a better way to register and load all the locales in Node\n    if (!locales[name] && (typeof module !== 'undefined') &&\n            module && module.exports) {\n        try {\n            oldLocale = globalLocale._abbr;\n            require('./locale/' + name);\n            // because defineLocale currently also sets the global locale, we\n            // want to undo that for lazy loaded locales\n            getSetGlobalLocale(oldLocale);\n        } catch (e) { }\n    }\n    return locales[name];\n}\n\n// This function will load locale and then set the global locale.  If\n// no arguments are passed in, it will simply return the current global\n// locale key.\nfunction getSetGlobalLocale (key, values) {\n    var data;\n    if (key) {\n        if (isUndefined(values)) {\n            data = getLocale(key);\n        }\n        else {\n            data = defineLocale(key, values);\n        }\n\n        if (data) {\n            // moment.duration._locale = moment._locale = data;\n            globalLocale = data;\n        }\n    }\n\n    return globalLocale._abbr;\n}\n\nfunction defineLocale (name, config) {\n    if (config !== null) {\n        var parentConfig = baseConfig;\n        config.abbr = name;\n        if (locales[name] != null) {\n            deprecateSimple('defineLocaleOverride',\n                    'use moment.updateLocale(localeName, config) to change ' +\n                    'an existing locale. moment.defineLocale(localeName, ' +\n                    'config) should only be used for creating a new locale ' +\n                    'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');\n            parentConfig = locales[name]._config;\n        } else if (config.parentLocale != null) {\n            if (locales[config.parentLocale] != null) {\n                parentConfig = locales[config.parentLocale]._config;\n            } else {\n                if (!localeFamilies[config.parentLocale]) {\n                    localeFamilies[config.parentLocale] = [];\n                }\n                localeFamilies[config.parentLocale].push({\n                    name: name,\n                    config: config\n                });\n                return null;\n            }\n        }\n        locales[name] = new Locale(mergeConfigs(parentConfig, config));\n\n        if (localeFamilies[name]) {\n            localeFamilies[name].forEach(function (x) {\n                defineLocale(x.name, x.config);\n            });\n        }\n\n        // backwards compat for now: also set the locale\n        // make sure we set the locale AFTER all child locales have been\n        // created, so we won't end up with the child locale set.\n        getSetGlobalLocale(name);\n\n\n        return locales[name];\n    } else {\n        // useful for testing\n        delete locales[name];\n        return null;\n    }\n}\n\nfunction updateLocale(name, config) {\n    if (config != null) {\n        var locale, parentConfig = baseConfig;\n        // MERGE\n        if (locales[name] != null) {\n            parentConfig = locales[name]._config;\n        }\n        config = mergeConfigs(parentConfig, config);\n        locale = new Locale(config);\n        locale.parentLocale = locales[name];\n        locales[name] = locale;\n\n        // backwards compat for now: also set the locale\n        getSetGlobalLocale(name);\n    } else {\n        // pass null for config to unupdate, useful for tests\n        if (locales[name] != null) {\n            if (locales[name].parentLocale != null) {\n                locales[name] = locales[name].parentLocale;\n            } else if (locales[name] != null) {\n                delete locales[name];\n            }\n        }\n    }\n    return locales[name];\n}\n\n// returns locale data\nfunction getLocale (key) {\n    var locale;\n\n    if (key && key._locale && key._locale._abbr) {\n        key = key._locale._abbr;\n    }\n\n    if (!key) {\n        return globalLocale;\n    }\n\n    if (!isArray(key)) {\n        //short-circuit everything else\n        locale = loadLocale(key);\n        if (locale) {\n            return locale;\n        }\n        key = [key];\n    }\n\n    return chooseLocale(key);\n}\n\nfunction listLocales() {\n    return keys$1(locales);\n}\n\nfunction checkOverflow (m) {\n    var overflow;\n    var a = m._a;\n\n    if (a && getParsingFlags(m).overflow === -2) {\n        overflow =\n            a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :\n            a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :\n            a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :\n            a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :\n            a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :\n            a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :\n            -1;\n\n        if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {\n            overflow = DATE;\n        }\n        if (getParsingFlags(m)._overflowWeeks && overflow === -1) {\n            overflow = WEEK;\n        }\n        if (getParsingFlags(m)._overflowWeekday && overflow === -1) {\n            overflow = WEEKDAY;\n        }\n\n        getParsingFlags(m).overflow = overflow;\n    }\n\n    return m;\n}\n\n// iso 8601 regex\n// 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\nvar extendedIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\nvar basicIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n\nvar tzRegex = /Z|[+-]\\d\\d(?::?\\d\\d)?/;\n\nvar isoDates = [\n    ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d\\d-\\d\\d/],\n    ['YYYY-MM-DD', /\\d{4}-\\d\\d-\\d\\d/],\n    ['GGGG-[W]WW-E', /\\d{4}-W\\d\\d-\\d/],\n    ['GGGG-[W]WW', /\\d{4}-W\\d\\d/, false],\n    ['YYYY-DDD', /\\d{4}-\\d{3}/],\n    ['YYYY-MM', /\\d{4}-\\d\\d/, false],\n    ['YYYYYYMMDD', /[+-]\\d{10}/],\n    ['YYYYMMDD', /\\d{8}/],\n    // YYYYMM is NOT allowed by the standard\n    ['GGGG[W]WWE', /\\d{4}W\\d{3}/],\n    ['GGGG[W]WW', /\\d{4}W\\d{2}/, false],\n    ['YYYYDDD', /\\d{7}/]\n];\n\n// iso time formats and regexes\nvar isoTimes = [\n    ['HH:mm:ss.SSSS', /\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n    ['HH:mm:ss,SSSS', /\\d\\d:\\d\\d:\\d\\d,\\d+/],\n    ['HH:mm:ss', /\\d\\d:\\d\\d:\\d\\d/],\n    ['HH:mm', /\\d\\d:\\d\\d/],\n    ['HHmmss.SSSS', /\\d\\d\\d\\d\\d\\d\\.\\d+/],\n    ['HHmmss,SSSS', /\\d\\d\\d\\d\\d\\d,\\d+/],\n    ['HHmmss', /\\d\\d\\d\\d\\d\\d/],\n    ['HHmm', /\\d\\d\\d\\d/],\n    ['HH', /\\d\\d/]\n];\n\nvar aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i;\n\n// date from iso format\nfunction configFromISO(config) {\n    var i, l,\n        string = config._i,\n        match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),\n        allowTime, dateFormat, timeFormat, tzFormat;\n\n    if (match) {\n        getParsingFlags(config).iso = true;\n\n        for (i = 0, l = isoDates.length; i < l; i++) {\n            if (isoDates[i][1].exec(match[1])) {\n                dateFormat = isoDates[i][0];\n                allowTime = isoDates[i][2] !== false;\n                break;\n            }\n        }\n        if (dateFormat == null) {\n            config._isValid = false;\n            return;\n        }\n        if (match[3]) {\n            for (i = 0, l = isoTimes.length; i < l; i++) {\n                if (isoTimes[i][1].exec(match[3])) {\n                    // match[2] should be 'T' or space\n                    timeFormat = (match[2] || ' ') + isoTimes[i][0];\n                    break;\n                }\n            }\n            if (timeFormat == null) {\n                config._isValid = false;\n                return;\n            }\n        }\n        if (!allowTime && timeFormat != null) {\n            config._isValid = false;\n            return;\n        }\n        if (match[4]) {\n            if (tzRegex.exec(match[4])) {\n                tzFormat = 'Z';\n            } else {\n                config._isValid = false;\n                return;\n            }\n        }\n        config._f = dateFormat + (timeFormat || '') + (tzFormat || '');\n        configFromStringAndFormat(config);\n    } else {\n        config._isValid = false;\n    }\n}\n\n// date from iso format or fallback\nfunction configFromString(config) {\n    var matched = aspNetJsonRegex.exec(config._i);\n\n    if (matched !== null) {\n        config._d = new Date(+matched[1]);\n        return;\n    }\n\n    configFromISO(config);\n    if (config._isValid === false) {\n        delete config._isValid;\n        hooks.createFromInputFallback(config);\n    }\n}\n\nhooks.createFromInputFallback = deprecate(\n    'value provided is not in a recognized ISO format. moment construction falls back to js Date(), ' +\n    'which is not reliable across all browsers and versions. Non ISO date formats are ' +\n    'discouraged and will be removed in an upcoming major release. Please refer to ' +\n    'http://momentjs.com/guides/#/warnings/js-date/ for more info.',\n    function (config) {\n        config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\n    }\n);\n\n// Pick the first defined of two or three arguments.\nfunction defaults(a, b, c) {\n    if (a != null) {\n        return a;\n    }\n    if (b != null) {\n        return b;\n    }\n    return c;\n}\n\nfunction currentDateArray(config) {\n    // hooks is actually the exported moment object\n    var nowValue = new Date(hooks.now());\n    if (config._useUTC) {\n        return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];\n    }\n    return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];\n}\n\n// convert an array to a date.\n// the array should mirror the parameters below\n// note: all values past the year are optional and will default to the lowest possible value.\n// [year, month, day , hour, minute, second, millisecond]\nfunction configFromArray (config) {\n    var i, date, input = [], currentDate, yearToUse;\n\n    if (config._d) {\n        return;\n    }\n\n    currentDate = currentDateArray(config);\n\n    //compute day of the year from weeks and weekdays\n    if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n        dayOfYearFromWeekInfo(config);\n    }\n\n    //if the day of the year is set, figure out what it is\n    if (config._dayOfYear) {\n        yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\n        if (config._dayOfYear > daysInYear(yearToUse)) {\n            getParsingFlags(config)._overflowDayOfYear = true;\n        }\n\n        date = createUTCDate(yearToUse, 0, config._dayOfYear);\n        config._a[MONTH] = date.getUTCMonth();\n        config._a[DATE] = date.getUTCDate();\n    }\n\n    // Default to current date.\n    // * if no year, month, day of month are given, default to today\n    // * if day of month is given, default month and year\n    // * if month is given, default only year\n    // * if year is given, don't default anything\n    for (i = 0; i < 3 && config._a[i] == null; ++i) {\n        config._a[i] = input[i] = currentDate[i];\n    }\n\n    // Zero out whatever was not defaulted, including time\n    for (; i < 7; i++) {\n        config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];\n    }\n\n    // Check for 24:00:00.000\n    if (config._a[HOUR] === 24 &&\n            config._a[MINUTE] === 0 &&\n            config._a[SECOND] === 0 &&\n            config._a[MILLISECOND] === 0) {\n        config._nextDay = true;\n        config._a[HOUR] = 0;\n    }\n\n    config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);\n    // Apply timezone offset from input. The actual utcOffset can be changed\n    // with parseZone.\n    if (config._tzm != null) {\n        config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n    }\n\n    if (config._nextDay) {\n        config._a[HOUR] = 24;\n    }\n}\n\nfunction dayOfYearFromWeekInfo(config) {\n    var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;\n\n    w = config._w;\n    if (w.GG != null || w.W != null || w.E != null) {\n        dow = 1;\n        doy = 4;\n\n        // TODO: We need to take the current isoWeekYear, but that depends on\n        // how we interpret now (local, utc, fixed offset). So create\n        // a now version of current config (take local/utc/offset flags, and\n        // create now).\n        weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);\n        week = defaults(w.W, 1);\n        weekday = defaults(w.E, 1);\n        if (weekday < 1 || weekday > 7) {\n            weekdayOverflow = true;\n        }\n    } else {\n        dow = config._locale._week.dow;\n        doy = config._locale._week.doy;\n\n        var curWeek = weekOfYear(createLocal(), dow, doy);\n\n        weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);\n\n        // Default to current week.\n        week = defaults(w.w, curWeek.week);\n\n        if (w.d != null) {\n            // weekday -- low day numbers are considered next week\n            weekday = w.d;\n            if (weekday < 0 || weekday > 6) {\n                weekdayOverflow = true;\n            }\n        } else if (w.e != null) {\n            // local weekday -- counting starts from begining of week\n            weekday = w.e + dow;\n            if (w.e < 0 || w.e > 6) {\n                weekdayOverflow = true;\n            }\n        } else {\n            // default to begining of week\n            weekday = dow;\n        }\n    }\n    if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {\n        getParsingFlags(config)._overflowWeeks = true;\n    } else if (weekdayOverflow != null) {\n        getParsingFlags(config)._overflowWeekday = true;\n    } else {\n        temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);\n        config._a[YEAR] = temp.year;\n        config._dayOfYear = temp.dayOfYear;\n    }\n}\n\n// constant that refers to the ISO standard\nhooks.ISO_8601 = function () {};\n\n// date from string and format string\nfunction configFromStringAndFormat(config) {\n    // TODO: Move this to another part of the creation flow to prevent circular deps\n    if (config._f === hooks.ISO_8601) {\n        configFromISO(config);\n        return;\n    }\n\n    config._a = [];\n    getParsingFlags(config).empty = true;\n\n    // This array is used to make a Date, either with `new Date` or `Date.UTC`\n    var string = '' + config._i,\n        i, parsedInput, tokens, token, skipped,\n        stringLength = string.length,\n        totalParsedInputLength = 0;\n\n    tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];\n\n    for (i = 0; i < tokens.length; i++) {\n        token = tokens[i];\n        parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];\n        // console.log('token', token, 'parsedInput', parsedInput,\n        //         'regex', getParseRegexForToken(token, config));\n        if (parsedInput) {\n            skipped = string.substr(0, string.indexOf(parsedInput));\n            if (skipped.length > 0) {\n                getParsingFlags(config).unusedInput.push(skipped);\n            }\n            string = string.slice(string.indexOf(parsedInput) + parsedInput.length);\n            totalParsedInputLength += parsedInput.length;\n        }\n        // don't parse if it's not a known token\n        if (formatTokenFunctions[token]) {\n            if (parsedInput) {\n                getParsingFlags(config).empty = false;\n            }\n            else {\n                getParsingFlags(config).unusedTokens.push(token);\n            }\n            addTimeToArrayFromToken(token, parsedInput, config);\n        }\n        else if (config._strict && !parsedInput) {\n            getParsingFlags(config).unusedTokens.push(token);\n        }\n    }\n\n    // add remaining unparsed input length to the string\n    getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;\n    if (string.length > 0) {\n        getParsingFlags(config).unusedInput.push(string);\n    }\n\n    // clear _12h flag if hour is <= 12\n    if (config._a[HOUR] <= 12 &&\n        getParsingFlags(config).bigHour === true &&\n        config._a[HOUR] > 0) {\n        getParsingFlags(config).bigHour = undefined;\n    }\n\n    getParsingFlags(config).parsedDateParts = config._a.slice(0);\n    getParsingFlags(config).meridiem = config._meridiem;\n    // handle meridiem\n    config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);\n\n    configFromArray(config);\n    checkOverflow(config);\n}\n\n\nfunction meridiemFixWrap (locale, hour, meridiem) {\n    var isPm;\n\n    if (meridiem == null) {\n        // nothing to do\n        return hour;\n    }\n    if (locale.meridiemHour != null) {\n        return locale.meridiemHour(hour, meridiem);\n    } else if (locale.isPM != null) {\n        // Fallback\n        isPm = locale.isPM(meridiem);\n        if (isPm && hour < 12) {\n            hour += 12;\n        }\n        if (!isPm && hour === 12) {\n            hour = 0;\n        }\n        return hour;\n    } else {\n        // this is not supposed to happen\n        return hour;\n    }\n}\n\n// date from string and array of format strings\nfunction configFromStringAndArray(config) {\n    var tempConfig,\n        bestMoment,\n\n        scoreToBeat,\n        i,\n        currentScore;\n\n    if (config._f.length === 0) {\n        getParsingFlags(config).invalidFormat = true;\n        config._d = new Date(NaN);\n        return;\n    }\n\n    for (i = 0; i < config._f.length; i++) {\n        currentScore = 0;\n        tempConfig = copyConfig({}, config);\n        if (config._useUTC != null) {\n            tempConfig._useUTC = config._useUTC;\n        }\n        tempConfig._f = config._f[i];\n        configFromStringAndFormat(tempConfig);\n\n        if (!isValid(tempConfig)) {\n            continue;\n        }\n\n        // if there is any input that was not parsed add a penalty for that format\n        currentScore += getParsingFlags(tempConfig).charsLeftOver;\n\n        //or tokens\n        currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\n\n        getParsingFlags(tempConfig).score = currentScore;\n\n        if (scoreToBeat == null || currentScore < scoreToBeat) {\n            scoreToBeat = currentScore;\n            bestMoment = tempConfig;\n        }\n    }\n\n    extend(config, bestMoment || tempConfig);\n}\n\nfunction configFromObject(config) {\n    if (config._d) {\n        return;\n    }\n\n    var i = normalizeObjectUnits(config._i);\n    config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {\n        return obj && parseInt(obj, 10);\n    });\n\n    configFromArray(config);\n}\n\nfunction createFromConfig (config) {\n    var res = new Moment(checkOverflow(prepareConfig(config)));\n    if (res._nextDay) {\n        // Adding is smart enough around DST\n        res.add(1, 'd');\n        res._nextDay = undefined;\n    }\n\n    return res;\n}\n\nfunction prepareConfig (config) {\n    var input = config._i,\n        format = config._f;\n\n    config._locale = config._locale || getLocale(config._l);\n\n    if (input === null || (format === undefined && input === '')) {\n        return createInvalid({nullInput: true});\n    }\n\n    if (typeof input === 'string') {\n        config._i = input = config._locale.preparse(input);\n    }\n\n    if (isMoment(input)) {\n        return new Moment(checkOverflow(input));\n    } else if (isDate(input)) {\n        config._d = input;\n    } else if (isArray(format)) {\n        configFromStringAndArray(config);\n    } else if (format) {\n        configFromStringAndFormat(config);\n    }  else {\n        configFromInput(config);\n    }\n\n    if (!isValid(config)) {\n        config._d = null;\n    }\n\n    return config;\n}\n\nfunction configFromInput(config) {\n    var input = config._i;\n    if (input === undefined) {\n        config._d = new Date(hooks.now());\n    } else if (isDate(input)) {\n        config._d = new Date(input.valueOf());\n    } else if (typeof input === 'string') {\n        configFromString(config);\n    } else if (isArray(input)) {\n        config._a = map(input.slice(0), function (obj) {\n            return parseInt(obj, 10);\n        });\n        configFromArray(config);\n    } else if (typeof(input) === 'object') {\n        configFromObject(config);\n    } else if (isNumber(input)) {\n        // from milliseconds\n        config._d = new Date(input);\n    } else {\n        hooks.createFromInputFallback(config);\n    }\n}\n\nfunction createLocalOrUTC (input, format, locale, strict, isUTC) {\n    var c = {};\n\n    if (locale === true || locale === false) {\n        strict = locale;\n        locale = undefined;\n    }\n\n    if ((isObject(input) && isObjectEmpty(input)) ||\n            (isArray(input) && input.length === 0)) {\n        input = undefined;\n    }\n    // object construction must be done this way.\n    // https://github.com/moment/moment/issues/1423\n    c._isAMomentObject = true;\n    c._useUTC = c._isUTC = isUTC;\n    c._l = locale;\n    c._i = input;\n    c._f = format;\n    c._strict = strict;\n\n    return createFromConfig(c);\n}\n\nfunction createLocal (input, format, locale, strict) {\n    return createLocalOrUTC(input, format, locale, strict, false);\n}\n\nvar prototypeMin = deprecate(\n    'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',\n    function () {\n        var other = createLocal.apply(null, arguments);\n        if (this.isValid() && other.isValid()) {\n            return other < this ? this : other;\n        } else {\n            return createInvalid();\n        }\n    }\n);\n\nvar prototypeMax = deprecate(\n    'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',\n    function () {\n        var other = createLocal.apply(null, arguments);\n        if (this.isValid() && other.isValid()) {\n            return other > this ? this : other;\n        } else {\n            return createInvalid();\n        }\n    }\n);\n\n// Pick a moment m from moments so that m[fn](other) is true for all\n// other. This relies on the function fn to be transitive.\n//\n// moments should either be an array of moment objects or an array, whose\n// first element is an array of moment objects.\nfunction pickBy(fn, moments) {\n    var res, i;\n    if (moments.length === 1 && isArray(moments[0])) {\n        moments = moments[0];\n    }\n    if (!moments.length) {\n        return createLocal();\n    }\n    res = moments[0];\n    for (i = 1; i < moments.length; ++i) {\n        if (!moments[i].isValid() || moments[i][fn](res)) {\n            res = moments[i];\n        }\n    }\n    return res;\n}\n\n// TODO: Use [].sort instead?\nfunction min () {\n    var args = [].slice.call(arguments, 0);\n\n    return pickBy('isBefore', args);\n}\n\nfunction max () {\n    var args = [].slice.call(arguments, 0);\n\n    return pickBy('isAfter', args);\n}\n\nvar now = function () {\n    return Date.now ? Date.now() : +(new Date());\n};\n\nfunction Duration (duration) {\n    var normalizedInput = normalizeObjectUnits(duration),\n        years = normalizedInput.year || 0,\n        quarters = normalizedInput.quarter || 0,\n        months = normalizedInput.month || 0,\n        weeks = normalizedInput.week || 0,\n        days = normalizedInput.day || 0,\n        hours = normalizedInput.hour || 0,\n        minutes = normalizedInput.minute || 0,\n        seconds = normalizedInput.second || 0,\n        milliseconds = normalizedInput.millisecond || 0;\n\n    // representation for dateAddRemove\n    this._milliseconds = +milliseconds +\n        seconds * 1e3 + // 1000\n        minutes * 6e4 + // 1000 * 60\n        hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978\n    // Because of dateAddRemove treats 24 hours as different from a\n    // day when working around DST, we need to store them separately\n    this._days = +days +\n        weeks * 7;\n    // It is impossible translate months into days without knowing\n    // which months you are are talking about, so we have to store\n    // it separately.\n    this._months = +months +\n        quarters * 3 +\n        years * 12;\n\n    this._data = {};\n\n    this._locale = getLocale();\n\n    this._bubble();\n}\n\nfunction isDuration (obj) {\n    return obj instanceof Duration;\n}\n\nfunction absRound (number) {\n    if (number < 0) {\n        return Math.round(-1 * number) * -1;\n    } else {\n        return Math.round(number);\n    }\n}\n\n// FORMATTING\n\nfunction offset (token, separator) {\n    addFormatToken(token, 0, 0, function () {\n        var offset = this.utcOffset();\n        var sign = '+';\n        if (offset < 0) {\n            offset = -offset;\n            sign = '-';\n        }\n        return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);\n    });\n}\n\noffset('Z', ':');\noffset('ZZ', '');\n\n// PARSING\n\naddRegexToken('Z',  matchShortOffset);\naddRegexToken('ZZ', matchShortOffset);\naddParseToken(['Z', 'ZZ'], function (input, array, config) {\n    config._useUTC = true;\n    config._tzm = offsetFromString(matchShortOffset, input);\n});\n\n// HELPERS\n\n// timezone chunker\n// '+10:00' > ['10',  '00']\n// '-1530'  > ['-15', '30']\nvar chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\nfunction offsetFromString(matcher, string) {\n    var matches = (string || '').match(matcher);\n\n    if (matches === null) {\n        return null;\n    }\n\n    var chunk   = matches[matches.length - 1] || [];\n    var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];\n    var minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n    return minutes === 0 ?\n      0 :\n      parts[0] === '+' ? minutes : -minutes;\n}\n\n// Return a moment from input, that is local/utc/zone equivalent to model.\nfunction cloneWithOffset(input, model) {\n    var res, diff;\n    if (model._isUTC) {\n        res = model.clone();\n        diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();\n        // Use low-level api, because this fn is low-level api.\n        res._d.setTime(res._d.valueOf() + diff);\n        hooks.updateOffset(res, false);\n        return res;\n    } else {\n        return createLocal(input).local();\n    }\n}\n\nfunction getDateOffset (m) {\n    // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n    // https://github.com/moment/moment/pull/1871\n    return -Math.round(m._d.getTimezoneOffset() / 15) * 15;\n}\n\n// HOOKS\n\n// This function will be called whenever a moment is mutated.\n// It is intended to keep the offset in sync with the timezone.\nhooks.updateOffset = function () {};\n\n// MOMENTS\n\n// keepLocalTime = true means only change the timezone, without\n// affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\n// 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n// +0200, so we adjust the time as needed, to be valid.\n//\n// Keeping the time actually adds/subtracts (one hour)\n// from the actual represented time. That is why we call updateOffset\n// a second time. In case it wants us to change the offset again\n// _changeInProgress == true case, then we have to adjust, because\n// there is no such time in the given timezone.\nfunction getSetOffset (input, keepLocalTime) {\n    var offset = this._offset || 0,\n        localAdjust;\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n    if (input != null) {\n        if (typeof input === 'string') {\n            input = offsetFromString(matchShortOffset, input);\n            if (input === null) {\n                return this;\n            }\n        } else if (Math.abs(input) < 16) {\n            input = input * 60;\n        }\n        if (!this._isUTC && keepLocalTime) {\n            localAdjust = getDateOffset(this);\n        }\n        this._offset = input;\n        this._isUTC = true;\n        if (localAdjust != null) {\n            this.add(localAdjust, 'm');\n        }\n        if (offset !== input) {\n            if (!keepLocalTime || this._changeInProgress) {\n                addSubtract(this, createDuration(input - offset, 'm'), 1, false);\n            } else if (!this._changeInProgress) {\n                this._changeInProgress = true;\n                hooks.updateOffset(this, true);\n                this._changeInProgress = null;\n            }\n        }\n        return this;\n    } else {\n        return this._isUTC ? offset : getDateOffset(this);\n    }\n}\n\nfunction getSetZone (input, keepLocalTime) {\n    if (input != null) {\n        if (typeof input !== 'string') {\n            input = -input;\n        }\n\n        this.utcOffset(input, keepLocalTime);\n\n        return this;\n    } else {\n        return -this.utcOffset();\n    }\n}\n\nfunction setOffsetToUTC (keepLocalTime) {\n    return this.utcOffset(0, keepLocalTime);\n}\n\nfunction setOffsetToLocal (keepLocalTime) {\n    if (this._isUTC) {\n        this.utcOffset(0, keepLocalTime);\n        this._isUTC = false;\n\n        if (keepLocalTime) {\n            this.subtract(getDateOffset(this), 'm');\n        }\n    }\n    return this;\n}\n\nfunction setOffsetToParsedOffset () {\n    if (this._tzm != null) {\n        this.utcOffset(this._tzm);\n    } else if (typeof this._i === 'string') {\n        var tZone = offsetFromString(matchOffset, this._i);\n        if (tZone != null) {\n            this.utcOffset(tZone);\n        }\n        else {\n            this.utcOffset(0, true);\n        }\n    }\n    return this;\n}\n\nfunction hasAlignedHourOffset (input) {\n    if (!this.isValid()) {\n        return false;\n    }\n    input = input ? createLocal(input).utcOffset() : 0;\n\n    return (this.utcOffset() - input) % 60 === 0;\n}\n\nfunction isDaylightSavingTime () {\n    return (\n        this.utcOffset() > this.clone().month(0).utcOffset() ||\n        this.utcOffset() > this.clone().month(5).utcOffset()\n    );\n}\n\nfunction isDaylightSavingTimeShifted () {\n    if (!isUndefined(this._isDSTShifted)) {\n        return this._isDSTShifted;\n    }\n\n    var c = {};\n\n    copyConfig(c, this);\n    c = prepareConfig(c);\n\n    if (c._a) {\n        var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);\n        this._isDSTShifted = this.isValid() &&\n            compareArrays(c._a, other.toArray()) > 0;\n    } else {\n        this._isDSTShifted = false;\n    }\n\n    return this._isDSTShifted;\n}\n\nfunction isLocal () {\n    return this.isValid() ? !this._isUTC : false;\n}\n\nfunction isUtcOffset () {\n    return this.isValid() ? this._isUTC : false;\n}\n\nfunction isUtc () {\n    return this.isValid() ? this._isUTC && this._offset === 0 : false;\n}\n\n// ASP.NET json date format regex\nvar aspNetRegex = /^(\\-)?(?:(\\d*)[. ])?(\\d+)\\:(\\d+)(?:\\:(\\d+)(\\.\\d*)?)?$/;\n\n// from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n// somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n// and further modified to allow for strings containing both week and day\nvar isoRegex = /^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;\n\nfunction createDuration (input, key) {\n    var duration = input,\n        // matching against regexp is expensive, do it on demand\n        match = null,\n        sign,\n        ret,\n        diffRes;\n\n    if (isDuration(input)) {\n        duration = {\n            ms : input._milliseconds,\n            d  : input._days,\n            M  : input._months\n        };\n    } else if (isNumber(input)) {\n        duration = {};\n        if (key) {\n            duration[key] = input;\n        } else {\n            duration.milliseconds = input;\n        }\n    } else if (!!(match = aspNetRegex.exec(input))) {\n        sign = (match[1] === '-') ? -1 : 1;\n        duration = {\n            y  : 0,\n            d  : toInt(match[DATE])                         * sign,\n            h  : toInt(match[HOUR])                         * sign,\n            m  : toInt(match[MINUTE])                       * sign,\n            s  : toInt(match[SECOND])                       * sign,\n            ms : toInt(absRound(match[MILLISECOND] * 1000)) * sign // the millisecond decimal point is included in the match\n        };\n    } else if (!!(match = isoRegex.exec(input))) {\n        sign = (match[1] === '-') ? -1 : 1;\n        duration = {\n            y : parseIso(match[2], sign),\n            M : parseIso(match[3], sign),\n            w : parseIso(match[4], sign),\n            d : parseIso(match[5], sign),\n            h : parseIso(match[6], sign),\n            m : parseIso(match[7], sign),\n            s : parseIso(match[8], sign)\n        };\n    } else if (duration == null) {// checks for null or undefined\n        duration = {};\n    } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {\n        diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));\n\n        duration = {};\n        duration.ms = diffRes.milliseconds;\n        duration.M = diffRes.months;\n    }\n\n    ret = new Duration(duration);\n\n    if (isDuration(input) && hasOwnProp(input, '_locale')) {\n        ret._locale = input._locale;\n    }\n\n    return ret;\n}\n\ncreateDuration.fn = Duration.prototype;\n\nfunction parseIso (inp, sign) {\n    // We'd normally use ~~inp for this, but unfortunately it also\n    // converts floats to ints.\n    // inp may be undefined, so careful calling replace on it.\n    var res = inp && parseFloat(inp.replace(',', '.'));\n    // apply sign while we're at it\n    return (isNaN(res) ? 0 : res) * sign;\n}\n\nfunction positiveMomentsDifference(base, other) {\n    var res = {milliseconds: 0, months: 0};\n\n    res.months = other.month() - base.month() +\n        (other.year() - base.year()) * 12;\n    if (base.clone().add(res.months, 'M').isAfter(other)) {\n        --res.months;\n    }\n\n    res.milliseconds = +other - +(base.clone().add(res.months, 'M'));\n\n    return res;\n}\n\nfunction momentsDifference(base, other) {\n    var res;\n    if (!(base.isValid() && other.isValid())) {\n        return {milliseconds: 0, months: 0};\n    }\n\n    other = cloneWithOffset(other, base);\n    if (base.isBefore(other)) {\n        res = positiveMomentsDifference(base, other);\n    } else {\n        res = positiveMomentsDifference(other, base);\n        res.milliseconds = -res.milliseconds;\n        res.months = -res.months;\n    }\n\n    return res;\n}\n\n// TODO: remove 'name' arg after deprecation is removed\nfunction createAdder(direction, name) {\n    return function (val, period) {\n        var dur, tmp;\n        //invert the arguments, but complain about it\n        if (period !== null && !isNaN(+period)) {\n            deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' +\n            'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');\n            tmp = val; val = period; period = tmp;\n        }\n\n        val = typeof val === 'string' ? +val : val;\n        dur = createDuration(val, period);\n        addSubtract(this, dur, direction);\n        return this;\n    };\n}\n\nfunction addSubtract (mom, duration, isAdding, updateOffset) {\n    var milliseconds = duration._milliseconds,\n        days = absRound(duration._days),\n        months = absRound(duration._months);\n\n    if (!mom.isValid()) {\n        // No op\n        return;\n    }\n\n    updateOffset = updateOffset == null ? true : updateOffset;\n\n    if (milliseconds) {\n        mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);\n    }\n    if (days) {\n        set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);\n    }\n    if (months) {\n        setMonth(mom, get(mom, 'Month') + months * isAdding);\n    }\n    if (updateOffset) {\n        hooks.updateOffset(mom, days || months);\n    }\n}\n\nvar add      = createAdder(1, 'add');\nvar subtract = createAdder(-1, 'subtract');\n\nfunction getCalendarFormat(myMoment, now) {\n    var diff = myMoment.diff(now, 'days', true);\n    return diff < -6 ? 'sameElse' :\n            diff < -1 ? 'lastWeek' :\n            diff < 0 ? 'lastDay' :\n            diff < 1 ? 'sameDay' :\n            diff < 2 ? 'nextDay' :\n            diff < 7 ? 'nextWeek' : 'sameElse';\n}\n\nfunction calendar$1 (time, formats) {\n    // We want to compare the start of today, vs this.\n    // Getting start-of-today depends on whether we're local/utc/offset or not.\n    var now = time || createLocal(),\n        sod = cloneWithOffset(now, this).startOf('day'),\n        format = hooks.calendarFormat(this, sod) || 'sameElse';\n\n    var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);\n\n    return this.format(output || this.localeData().calendar(format, this, createLocal(now)));\n}\n\nfunction clone () {\n    return new Moment(this);\n}\n\nfunction isAfter (input, units) {\n    var localInput = isMoment(input) ? input : createLocal(input);\n    if (!(this.isValid() && localInput.isValid())) {\n        return false;\n    }\n    units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');\n    if (units === 'millisecond') {\n        return this.valueOf() > localInput.valueOf();\n    } else {\n        return localInput.valueOf() < this.clone().startOf(units).valueOf();\n    }\n}\n\nfunction isBefore (input, units) {\n    var localInput = isMoment(input) ? input : createLocal(input);\n    if (!(this.isValid() && localInput.isValid())) {\n        return false;\n    }\n    units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');\n    if (units === 'millisecond') {\n        return this.valueOf() < localInput.valueOf();\n    } else {\n        return this.clone().endOf(units).valueOf() < localInput.valueOf();\n    }\n}\n\nfunction isBetween (from, to, units, inclusivity) {\n    inclusivity = inclusivity || '()';\n    return (inclusivity[0] === '(' ? this.isAfter(from, units) : !this.isBefore(from, units)) &&\n        (inclusivity[1] === ')' ? this.isBefore(to, units) : !this.isAfter(to, units));\n}\n\nfunction isSame (input, units) {\n    var localInput = isMoment(input) ? input : createLocal(input),\n        inputMs;\n    if (!(this.isValid() && localInput.isValid())) {\n        return false;\n    }\n    units = normalizeUnits(units || 'millisecond');\n    if (units === 'millisecond') {\n        return this.valueOf() === localInput.valueOf();\n    } else {\n        inputMs = localInput.valueOf();\n        return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();\n    }\n}\n\nfunction isSameOrAfter (input, units) {\n    return this.isSame(input, units) || this.isAfter(input,units);\n}\n\nfunction isSameOrBefore (input, units) {\n    return this.isSame(input, units) || this.isBefore(input,units);\n}\n\nfunction diff (input, units, asFloat) {\n    var that,\n        zoneDelta,\n        delta, output;\n\n    if (!this.isValid()) {\n        return NaN;\n    }\n\n    that = cloneWithOffset(input, this);\n\n    if (!that.isValid()) {\n        return NaN;\n    }\n\n    zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;\n\n    units = normalizeUnits(units);\n\n    if (units === 'year' || units === 'month' || units === 'quarter') {\n        output = monthDiff(this, that);\n        if (units === 'quarter') {\n            output = output / 3;\n        } else if (units === 'year') {\n            output = output / 12;\n        }\n    } else {\n        delta = this - that;\n        output = units === 'second' ? delta / 1e3 : // 1000\n            units === 'minute' ? delta / 6e4 : // 1000 * 60\n            units === 'hour' ? delta / 36e5 : // 1000 * 60 * 60\n            units === 'day' ? (delta - zoneDelta) / 864e5 : // 1000 * 60 * 60 * 24, negate dst\n            units === 'week' ? (delta - zoneDelta) / 6048e5 : // 1000 * 60 * 60 * 24 * 7, negate dst\n            delta;\n    }\n    return asFloat ? output : absFloor(output);\n}\n\nfunction monthDiff (a, b) {\n    // difference in months\n    var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),\n        // b is in (anchor - 1 month, anchor + 1 month)\n        anchor = a.clone().add(wholeMonthDiff, 'months'),\n        anchor2, adjust;\n\n    if (b - anchor < 0) {\n        anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\n        // linear across the month\n        adjust = (b - anchor) / (anchor - anchor2);\n    } else {\n        anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\n        // linear across the month\n        adjust = (b - anchor) / (anchor2 - anchor);\n    }\n\n    //check for negative zero, return zero if negative zero\n    return -(wholeMonthDiff + adjust) || 0;\n}\n\nhooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\nhooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';\n\nfunction toString () {\n    return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\n}\n\nfunction toISOString () {\n    var m = this.clone().utc();\n    if (0 < m.year() && m.year() <= 9999) {\n        if (isFunction(Date.prototype.toISOString)) {\n            // native implementation is ~50x faster, use it when we can\n            return this.toDate().toISOString();\n        } else {\n            return formatMoment(m, 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n        }\n    } else {\n        return formatMoment(m, 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n    }\n}\n\n/**\n * Return a human readable representation of a moment that can\n * also be evaluated to get a new moment which is the same\n *\n * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects\n */\nfunction inspect () {\n    if (!this.isValid()) {\n        return 'moment.invalid(/* ' + this._i + ' */)';\n    }\n    var func = 'moment';\n    var zone = '';\n    if (!this.isLocal()) {\n        func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';\n        zone = 'Z';\n    }\n    var prefix = '[' + func + '(\"]';\n    var year = (0 < this.year() && this.year() <= 9999) ? 'YYYY' : 'YYYYYY';\n    var datetime = '-MM-DD[T]HH:mm:ss.SSS';\n    var suffix = zone + '[\")]';\n\n    return this.format(prefix + year + datetime + suffix);\n}\n\nfunction format (inputString) {\n    if (!inputString) {\n        inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;\n    }\n    var output = formatMoment(this, inputString);\n    return this.localeData().postformat(output);\n}\n\nfunction from (time, withoutSuffix) {\n    if (this.isValid() &&\n            ((isMoment(time) && time.isValid()) ||\n             createLocal(time).isValid())) {\n        return createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);\n    } else {\n        return this.localeData().invalidDate();\n    }\n}\n\nfunction fromNow (withoutSuffix) {\n    return this.from(createLocal(), withoutSuffix);\n}\n\nfunction to (time, withoutSuffix) {\n    if (this.isValid() &&\n            ((isMoment(time) && time.isValid()) ||\n             createLocal(time).isValid())) {\n        return createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);\n    } else {\n        return this.localeData().invalidDate();\n    }\n}\n\nfunction toNow (withoutSuffix) {\n    return this.to(createLocal(), withoutSuffix);\n}\n\n// If passed a locale key, it will set the locale for this\n// instance.  Otherwise, it will return the locale configuration\n// variables for this instance.\nfunction locale (key) {\n    var newLocaleData;\n\n    if (key === undefined) {\n        return this._locale._abbr;\n    } else {\n        newLocaleData = getLocale(key);\n        if (newLocaleData != null) {\n            this._locale = newLocaleData;\n        }\n        return this;\n    }\n}\n\nvar lang = deprecate(\n    'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',\n    function (key) {\n        if (key === undefined) {\n            return this.localeData();\n        } else {\n            return this.locale(key);\n        }\n    }\n);\n\nfunction localeData () {\n    return this._locale;\n}\n\nfunction startOf (units) {\n    units = normalizeUnits(units);\n    // the following switch intentionally omits break keywords\n    // to utilize falling through the cases.\n    switch (units) {\n        case 'year':\n            this.month(0);\n            /* falls through */\n        case 'quarter':\n        case 'month':\n            this.date(1);\n            /* falls through */\n        case 'week':\n        case 'isoWeek':\n        case 'day':\n        case 'date':\n            this.hours(0);\n            /* falls through */\n        case 'hour':\n            this.minutes(0);\n            /* falls through */\n        case 'minute':\n            this.seconds(0);\n            /* falls through */\n        case 'second':\n            this.milliseconds(0);\n    }\n\n    // weeks are a special case\n    if (units === 'week') {\n        this.weekday(0);\n    }\n    if (units === 'isoWeek') {\n        this.isoWeekday(1);\n    }\n\n    // quarters are also special\n    if (units === 'quarter') {\n        this.month(Math.floor(this.month() / 3) * 3);\n    }\n\n    return this;\n}\n\nfunction endOf (units) {\n    units = normalizeUnits(units);\n    if (units === undefined || units === 'millisecond') {\n        return this;\n    }\n\n    // 'date' is an alias for 'day', so it should be considered as such.\n    if (units === 'date') {\n        units = 'day';\n    }\n\n    return this.startOf(units).add(1, (units === 'isoWeek' ? 'week' : units)).subtract(1, 'ms');\n}\n\nfunction valueOf () {\n    return this._d.valueOf() - ((this._offset || 0) * 60000);\n}\n\nfunction unix () {\n    return Math.floor(this.valueOf() / 1000);\n}\n\nfunction toDate () {\n    return new Date(this.valueOf());\n}\n\nfunction toArray () {\n    var m = this;\n    return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];\n}\n\nfunction toObject () {\n    var m = this;\n    return {\n        years: m.year(),\n        months: m.month(),\n        date: m.date(),\n        hours: m.hours(),\n        minutes: m.minutes(),\n        seconds: m.seconds(),\n        milliseconds: m.milliseconds()\n    };\n}\n\nfunction toJSON () {\n    // new Date(NaN).toJSON() === null\n    return this.isValid() ? this.toISOString() : null;\n}\n\nfunction isValid$1 () {\n    return isValid(this);\n}\n\nfunction parsingFlags () {\n    return extend({}, getParsingFlags(this));\n}\n\nfunction invalidAt () {\n    return getParsingFlags(this).overflow;\n}\n\nfunction creationData() {\n    return {\n        input: this._i,\n        format: this._f,\n        locale: this._locale,\n        isUTC: this._isUTC,\n        strict: this._strict\n    };\n}\n\n// FORMATTING\n\naddFormatToken(0, ['gg', 2], 0, function () {\n    return this.weekYear() % 100;\n});\n\naddFormatToken(0, ['GG', 2], 0, function () {\n    return this.isoWeekYear() % 100;\n});\n\nfunction addWeekYearFormatToken (token, getter) {\n    addFormatToken(0, [token, token.length], 0, getter);\n}\n\naddWeekYearFormatToken('gggg',     'weekYear');\naddWeekYearFormatToken('ggggg',    'weekYear');\naddWeekYearFormatToken('GGGG',  'isoWeekYear');\naddWeekYearFormatToken('GGGGG', 'isoWeekYear');\n\n// ALIASES\n\naddUnitAlias('weekYear', 'gg');\naddUnitAlias('isoWeekYear', 'GG');\n\n// PRIORITY\n\naddUnitPriority('weekYear', 1);\naddUnitPriority('isoWeekYear', 1);\n\n\n// PARSING\n\naddRegexToken('G',      matchSigned);\naddRegexToken('g',      matchSigned);\naddRegexToken('GG',     match1to2, match2);\naddRegexToken('gg',     match1to2, match2);\naddRegexToken('GGGG',   match1to4, match4);\naddRegexToken('gggg',   match1to4, match4);\naddRegexToken('GGGGG',  match1to6, match6);\naddRegexToken('ggggg',  match1to6, match6);\n\naddWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {\n    week[token.substr(0, 2)] = toInt(input);\n});\n\naddWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\n    week[token] = hooks.parseTwoDigitYear(input);\n});\n\n// MOMENTS\n\nfunction getSetWeekYear (input) {\n    return getSetWeekYearHelper.call(this,\n            input,\n            this.week(),\n            this.weekday(),\n            this.localeData()._week.dow,\n            this.localeData()._week.doy);\n}\n\nfunction getSetISOWeekYear (input) {\n    return getSetWeekYearHelper.call(this,\n            input, this.isoWeek(), this.isoWeekday(), 1, 4);\n}\n\nfunction getISOWeeksInYear () {\n    return weeksInYear(this.year(), 1, 4);\n}\n\nfunction getWeeksInYear () {\n    var weekInfo = this.localeData()._week;\n    return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n}\n\nfunction getSetWeekYearHelper(input, week, weekday, dow, doy) {\n    var weeksTarget;\n    if (input == null) {\n        return weekOfYear(this, dow, doy).year;\n    } else {\n        weeksTarget = weeksInYear(input, dow, doy);\n        if (week > weeksTarget) {\n            week = weeksTarget;\n        }\n        return setWeekAll.call(this, input, week, weekday, dow, doy);\n    }\n}\n\nfunction setWeekAll(weekYear, week, weekday, dow, doy) {\n    var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),\n        date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);\n\n    this.year(date.getUTCFullYear());\n    this.month(date.getUTCMonth());\n    this.date(date.getUTCDate());\n    return this;\n}\n\n// FORMATTING\n\naddFormatToken('Q', 0, 'Qo', 'quarter');\n\n// ALIASES\n\naddUnitAlias('quarter', 'Q');\n\n// PRIORITY\n\naddUnitPriority('quarter', 7);\n\n// PARSING\n\naddRegexToken('Q', match1);\naddParseToken('Q', function (input, array) {\n    array[MONTH] = (toInt(input) - 1) * 3;\n});\n\n// MOMENTS\n\nfunction getSetQuarter (input) {\n    return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);\n}\n\n// FORMATTING\n\naddFormatToken('D', ['DD', 2], 'Do', 'date');\n\n// ALIASES\n\naddUnitAlias('date', 'D');\n\n// PRIOROITY\naddUnitPriority('date', 9);\n\n// PARSING\n\naddRegexToken('D',  match1to2);\naddRegexToken('DD', match1to2, match2);\naddRegexToken('Do', function (isStrict, locale) {\n    return isStrict ? locale._ordinalParse : locale._ordinalParseLenient;\n});\n\naddParseToken(['D', 'DD'], DATE);\naddParseToken('Do', function (input, array) {\n    array[DATE] = toInt(input.match(match1to2)[0], 10);\n});\n\n// MOMENTS\n\nvar getSetDayOfMonth = makeGetSet('Date', true);\n\n// FORMATTING\n\naddFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\n\n// ALIASES\n\naddUnitAlias('dayOfYear', 'DDD');\n\n// PRIORITY\naddUnitPriority('dayOfYear', 4);\n\n// PARSING\n\naddRegexToken('DDD',  match1to3);\naddRegexToken('DDDD', match3);\naddParseToken(['DDD', 'DDDD'], function (input, array, config) {\n    config._dayOfYear = toInt(input);\n});\n\n// HELPERS\n\n// MOMENTS\n\nfunction getSetDayOfYear (input) {\n    var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;\n    return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');\n}\n\n// FORMATTING\n\naddFormatToken('m', ['mm', 2], 0, 'minute');\n\n// ALIASES\n\naddUnitAlias('minute', 'm');\n\n// PRIORITY\n\naddUnitPriority('minute', 14);\n\n// PARSING\n\naddRegexToken('m',  match1to2);\naddRegexToken('mm', match1to2, match2);\naddParseToken(['m', 'mm'], MINUTE);\n\n// MOMENTS\n\nvar getSetMinute = makeGetSet('Minutes', false);\n\n// FORMATTING\n\naddFormatToken('s', ['ss', 2], 0, 'second');\n\n// ALIASES\n\naddUnitAlias('second', 's');\n\n// PRIORITY\n\naddUnitPriority('second', 15);\n\n// PARSING\n\naddRegexToken('s',  match1to2);\naddRegexToken('ss', match1to2, match2);\naddParseToken(['s', 'ss'], SECOND);\n\n// MOMENTS\n\nvar getSetSecond = makeGetSet('Seconds', false);\n\n// FORMATTING\n\naddFormatToken('S', 0, 0, function () {\n    return ~~(this.millisecond() / 100);\n});\n\naddFormatToken(0, ['SS', 2], 0, function () {\n    return ~~(this.millisecond() / 10);\n});\n\naddFormatToken(0, ['SSS', 3], 0, 'millisecond');\naddFormatToken(0, ['SSSS', 4], 0, function () {\n    return this.millisecond() * 10;\n});\naddFormatToken(0, ['SSSSS', 5], 0, function () {\n    return this.millisecond() * 100;\n});\naddFormatToken(0, ['SSSSSS', 6], 0, function () {\n    return this.millisecond() * 1000;\n});\naddFormatToken(0, ['SSSSSSS', 7], 0, function () {\n    return this.millisecond() * 10000;\n});\naddFormatToken(0, ['SSSSSSSS', 8], 0, function () {\n    return this.millisecond() * 100000;\n});\naddFormatToken(0, ['SSSSSSSSS', 9], 0, function () {\n    return this.millisecond() * 1000000;\n});\n\n\n// ALIASES\n\naddUnitAlias('millisecond', 'ms');\n\n// PRIORITY\n\naddUnitPriority('millisecond', 16);\n\n// PARSING\n\naddRegexToken('S',    match1to3, match1);\naddRegexToken('SS',   match1to3, match2);\naddRegexToken('SSS',  match1to3, match3);\n\nvar token;\nfor (token = 'SSSS'; token.length <= 9; token += 'S') {\n    addRegexToken(token, matchUnsigned);\n}\n\nfunction parseMs(input, array) {\n    array[MILLISECOND] = toInt(('0.' + input) * 1000);\n}\n\nfor (token = 'S'; token.length <= 9; token += 'S') {\n    addParseToken(token, parseMs);\n}\n// MOMENTS\n\nvar getSetMillisecond = makeGetSet('Milliseconds', false);\n\n// FORMATTING\n\naddFormatToken('z',  0, 0, 'zoneAbbr');\naddFormatToken('zz', 0, 0, 'zoneName');\n\n// MOMENTS\n\nfunction getZoneAbbr () {\n    return this._isUTC ? 'UTC' : '';\n}\n\nfunction getZoneName () {\n    return this._isUTC ? 'Coordinated Universal Time' : '';\n}\n\nvar proto = Moment.prototype;\n\nproto.add               = add;\nproto.calendar          = calendar$1;\nproto.clone             = clone;\nproto.diff              = diff;\nproto.endOf             = endOf;\nproto.format            = format;\nproto.from              = from;\nproto.fromNow           = fromNow;\nproto.to                = to;\nproto.toNow             = toNow;\nproto.get               = stringGet;\nproto.invalidAt         = invalidAt;\nproto.isAfter           = isAfter;\nproto.isBefore          = isBefore;\nproto.isBetween         = isBetween;\nproto.isSame            = isSame;\nproto.isSameOrAfter     = isSameOrAfter;\nproto.isSameOrBefore    = isSameOrBefore;\nproto.isValid           = isValid$1;\nproto.lang              = lang;\nproto.locale            = locale;\nproto.localeData        = localeData;\nproto.max               = prototypeMax;\nproto.min               = prototypeMin;\nproto.parsingFlags      = parsingFlags;\nproto.set               = stringSet;\nproto.startOf           = startOf;\nproto.subtract          = subtract;\nproto.toArray           = toArray;\nproto.toObject          = toObject;\nproto.toDate            = toDate;\nproto.toISOString       = toISOString;\nproto.inspect           = inspect;\nproto.toJSON            = toJSON;\nproto.toString          = toString;\nproto.unix              = unix;\nproto.valueOf           = valueOf;\nproto.creationData      = creationData;\n\n// Year\nproto.year       = getSetYear;\nproto.isLeapYear = getIsLeapYear;\n\n// Week Year\nproto.weekYear    = getSetWeekYear;\nproto.isoWeekYear = getSetISOWeekYear;\n\n// Quarter\nproto.quarter = proto.quarters = getSetQuarter;\n\n// Month\nproto.month       = getSetMonth;\nproto.daysInMonth = getDaysInMonth;\n\n// Week\nproto.week           = proto.weeks        = getSetWeek;\nproto.isoWeek        = proto.isoWeeks     = getSetISOWeek;\nproto.weeksInYear    = getWeeksInYear;\nproto.isoWeeksInYear = getISOWeeksInYear;\n\n// Day\nproto.date       = getSetDayOfMonth;\nproto.day        = proto.days             = getSetDayOfWeek;\nproto.weekday    = getSetLocaleDayOfWeek;\nproto.isoWeekday = getSetISODayOfWeek;\nproto.dayOfYear  = getSetDayOfYear;\n\n// Hour\nproto.hour = proto.hours = getSetHour;\n\n// Minute\nproto.minute = proto.minutes = getSetMinute;\n\n// Second\nproto.second = proto.seconds = getSetSecond;\n\n// Millisecond\nproto.millisecond = proto.milliseconds = getSetMillisecond;\n\n// Offset\nproto.utcOffset            = getSetOffset;\nproto.utc                  = setOffsetToUTC;\nproto.local                = setOffsetToLocal;\nproto.parseZone            = setOffsetToParsedOffset;\nproto.hasAlignedHourOffset = hasAlignedHourOffset;\nproto.isDST                = isDaylightSavingTime;\nproto.isLocal              = isLocal;\nproto.isUtcOffset          = isUtcOffset;\nproto.isUtc                = isUtc;\nproto.isUTC                = isUtc;\n\n// Timezone\nproto.zoneAbbr = getZoneAbbr;\nproto.zoneName = getZoneName;\n\n// Deprecations\nproto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);\nproto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);\nproto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);\nproto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);\nproto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);\n\nfunction createUnix (input) {\n    return createLocal(input * 1000);\n}\n\nfunction createInZone () {\n    return createLocal.apply(null, arguments).parseZone();\n}\n\nfunction preParsePostFormat (string) {\n    return string;\n}\n\nvar proto$1 = Locale.prototype;\n\nproto$1.calendar        = calendar;\nproto$1.longDateFormat  = longDateFormat;\nproto$1.invalidDate     = invalidDate;\nproto$1.ordinal         = ordinal;\nproto$1.preparse        = preParsePostFormat;\nproto$1.postformat      = preParsePostFormat;\nproto$1.relativeTime    = relativeTime;\nproto$1.pastFuture      = pastFuture;\nproto$1.set             = set;\n\n// Month\nproto$1.months            =        localeMonths;\nproto$1.monthsShort       =        localeMonthsShort;\nproto$1.monthsParse       =        localeMonthsParse;\nproto$1.monthsRegex       = monthsRegex;\nproto$1.monthsShortRegex  = monthsShortRegex;\n\n// Week\nproto$1.week = localeWeek;\nproto$1.firstDayOfYear = localeFirstDayOfYear;\nproto$1.firstDayOfWeek = localeFirstDayOfWeek;\n\n// Day of Week\nproto$1.weekdays       =        localeWeekdays;\nproto$1.weekdaysMin    =        localeWeekdaysMin;\nproto$1.weekdaysShort  =        localeWeekdaysShort;\nproto$1.weekdaysParse  =        localeWeekdaysParse;\n\nproto$1.weekdaysRegex       =        weekdaysRegex;\nproto$1.weekdaysShortRegex  =        weekdaysShortRegex;\nproto$1.weekdaysMinRegex    =        weekdaysMinRegex;\n\n// Hours\nproto$1.isPM = localeIsPM;\nproto$1.meridiem = localeMeridiem;\n\nfunction get$1 (format, index, field, setter) {\n    var locale = getLocale();\n    var utc = createUTC().set(setter, index);\n    return locale[field](utc, format);\n}\n\nfunction listMonthsImpl (format, index, field) {\n    if (isNumber(format)) {\n        index = format;\n        format = undefined;\n    }\n\n    format = format || '';\n\n    if (index != null) {\n        return get$1(format, index, field, 'month');\n    }\n\n    var i;\n    var out = [];\n    for (i = 0; i < 12; i++) {\n        out[i] = get$1(format, i, field, 'month');\n    }\n    return out;\n}\n\n// ()\n// (5)\n// (fmt, 5)\n// (fmt)\n// (true)\n// (true, 5)\n// (true, fmt, 5)\n// (true, fmt)\nfunction listWeekdaysImpl (localeSorted, format, index, field) {\n    if (typeof localeSorted === 'boolean') {\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n    } else {\n        format = localeSorted;\n        index = format;\n        localeSorted = false;\n\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n    }\n\n    var locale = getLocale(),\n        shift = localeSorted ? locale._week.dow : 0;\n\n    if (index != null) {\n        return get$1(format, (index + shift) % 7, field, 'day');\n    }\n\n    var i;\n    var out = [];\n    for (i = 0; i < 7; i++) {\n        out[i] = get$1(format, (i + shift) % 7, field, 'day');\n    }\n    return out;\n}\n\nfunction listMonths (format, index) {\n    return listMonthsImpl(format, index, 'months');\n}\n\nfunction listMonthsShort (format, index) {\n    return listMonthsImpl(format, index, 'monthsShort');\n}\n\nfunction listWeekdays (localeSorted, format, index) {\n    return listWeekdaysImpl(localeSorted, format, index, 'weekdays');\n}\n\nfunction listWeekdaysShort (localeSorted, format, index) {\n    return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');\n}\n\nfunction listWeekdaysMin (localeSorted, format, index) {\n    return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');\n}\n\ngetSetGlobalLocale('en', {\n    ordinalParse: /\\d{1,2}(th|st|nd|rd)/,\n    ordinal : function (number) {\n        var b = number % 10,\n            output = (toInt(number % 100 / 10) === 1) ? 'th' :\n            (b === 1) ? 'st' :\n            (b === 2) ? 'nd' :\n            (b === 3) ? 'rd' : 'th';\n        return number + output;\n    }\n});\n\n// Side effect imports\nhooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);\nhooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);\n\nvar mathAbs = Math.abs;\n\nfunction abs () {\n    var data           = this._data;\n\n    this._milliseconds = mathAbs(this._milliseconds);\n    this._days         = mathAbs(this._days);\n    this._months       = mathAbs(this._months);\n\n    data.milliseconds  = mathAbs(data.milliseconds);\n    data.seconds       = mathAbs(data.seconds);\n    data.minutes       = mathAbs(data.minutes);\n    data.hours         = mathAbs(data.hours);\n    data.months        = mathAbs(data.months);\n    data.years         = mathAbs(data.years);\n\n    return this;\n}\n\nfunction addSubtract$1 (duration, input, value, direction) {\n    var other = createDuration(input, value);\n\n    duration._milliseconds += direction * other._milliseconds;\n    duration._days         += direction * other._days;\n    duration._months       += direction * other._months;\n\n    return duration._bubble();\n}\n\n// supports only 2.0-style add(1, 's') or add(duration)\nfunction add$1 (input, value) {\n    return addSubtract$1(this, input, value, 1);\n}\n\n// supports only 2.0-style subtract(1, 's') or subtract(duration)\nfunction subtract$1 (input, value) {\n    return addSubtract$1(this, input, value, -1);\n}\n\nfunction absCeil (number) {\n    if (number < 0) {\n        return Math.floor(number);\n    } else {\n        return Math.ceil(number);\n    }\n}\n\nfunction bubble () {\n    var milliseconds = this._milliseconds;\n    var days         = this._days;\n    var months       = this._months;\n    var data         = this._data;\n    var seconds, minutes, hours, years, monthsFromDays;\n\n    // if we have a mix of positive and negative values, bubble down first\n    // check: https://github.com/moment/moment/issues/2166\n    if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||\n            (milliseconds <= 0 && days <= 0 && months <= 0))) {\n        milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\n        days = 0;\n        months = 0;\n    }\n\n    // The following code bubbles up values, see the tests for\n    // examples of what that means.\n    data.milliseconds = milliseconds % 1000;\n\n    seconds           = absFloor(milliseconds / 1000);\n    data.seconds      = seconds % 60;\n\n    minutes           = absFloor(seconds / 60);\n    data.minutes      = minutes % 60;\n\n    hours             = absFloor(minutes / 60);\n    data.hours        = hours % 24;\n\n    days += absFloor(hours / 24);\n\n    // convert days to months\n    monthsFromDays = absFloor(daysToMonths(days));\n    months += monthsFromDays;\n    days -= absCeil(monthsToDays(monthsFromDays));\n\n    // 12 months -> 1 year\n    years = absFloor(months / 12);\n    months %= 12;\n\n    data.days   = days;\n    data.months = months;\n    data.years  = years;\n\n    return this;\n}\n\nfunction daysToMonths (days) {\n    // 400 years have 146097 days (taking into account leap year rules)\n    // 400 years have 12 months === 4800\n    return days * 4800 / 146097;\n}\n\nfunction monthsToDays (months) {\n    // the reverse of daysToMonths\n    return months * 146097 / 4800;\n}\n\nfunction as (units) {\n    var days;\n    var months;\n    var milliseconds = this._milliseconds;\n\n    units = normalizeUnits(units);\n\n    if (units === 'month' || units === 'year') {\n        days   = this._days   + milliseconds / 864e5;\n        months = this._months + daysToMonths(days);\n        return units === 'month' ? months : months / 12;\n    } else {\n        // handle milliseconds separately because of floating point math errors (issue #1867)\n        days = this._days + Math.round(monthsToDays(this._months));\n        switch (units) {\n            case 'week'   : return days / 7     + milliseconds / 6048e5;\n            case 'day'    : return days         + milliseconds / 864e5;\n            case 'hour'   : return days * 24    + milliseconds / 36e5;\n            case 'minute' : return days * 1440  + milliseconds / 6e4;\n            case 'second' : return days * 86400 + milliseconds / 1000;\n            // Math.floor prevents floating point math errors here\n            case 'millisecond': return Math.floor(days * 864e5) + milliseconds;\n            default: throw new Error('Unknown unit ' + units);\n        }\n    }\n}\n\n// TODO: Use this.as('ms')?\nfunction valueOf$1 () {\n    return (\n        this._milliseconds +\n        this._days * 864e5 +\n        (this._months % 12) * 2592e6 +\n        toInt(this._months / 12) * 31536e6\n    );\n}\n\nfunction makeAs (alias) {\n    return function () {\n        return this.as(alias);\n    };\n}\n\nvar asMilliseconds = makeAs('ms');\nvar asSeconds      = makeAs('s');\nvar asMinutes      = makeAs('m');\nvar asHours        = makeAs('h');\nvar asDays         = makeAs('d');\nvar asWeeks        = makeAs('w');\nvar asMonths       = makeAs('M');\nvar asYears        = makeAs('y');\n\nfunction get$2 (units) {\n    units = normalizeUnits(units);\n    return this[units + 's']();\n}\n\nfunction makeGetter(name) {\n    return function () {\n        return this._data[name];\n    };\n}\n\nvar milliseconds = makeGetter('milliseconds');\nvar seconds      = makeGetter('seconds');\nvar minutes      = makeGetter('minutes');\nvar hours        = makeGetter('hours');\nvar days         = makeGetter('days');\nvar months       = makeGetter('months');\nvar years        = makeGetter('years');\n\nfunction weeks () {\n    return absFloor(this.days() / 7);\n}\n\nvar round = Math.round;\nvar thresholds = {\n    s: 45,  // seconds to minute\n    m: 45,  // minutes to hour\n    h: 22,  // hours to day\n    d: 26,  // days to month\n    M: 11   // months to year\n};\n\n// helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\nfunction substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n    return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n}\n\nfunction relativeTime$1 (posNegDuration, withoutSuffix, locale) {\n    var duration = createDuration(posNegDuration).abs();\n    var seconds  = round(duration.as('s'));\n    var minutes  = round(duration.as('m'));\n    var hours    = round(duration.as('h'));\n    var days     = round(duration.as('d'));\n    var months   = round(duration.as('M'));\n    var years    = round(duration.as('y'));\n\n    var a = seconds < thresholds.s && ['s', seconds]  ||\n            minutes <= 1           && ['m']           ||\n            minutes < thresholds.m && ['mm', minutes] ||\n            hours   <= 1           && ['h']           ||\n            hours   < thresholds.h && ['hh', hours]   ||\n            days    <= 1           && ['d']           ||\n            days    < thresholds.d && ['dd', days]    ||\n            months  <= 1           && ['M']           ||\n            months  < thresholds.M && ['MM', months]  ||\n            years   <= 1           && ['y']           || ['yy', years];\n\n    a[2] = withoutSuffix;\n    a[3] = +posNegDuration > 0;\n    a[4] = locale;\n    return substituteTimeAgo.apply(null, a);\n}\n\n// This function allows you to set the rounding function for relative time strings\nfunction getSetRelativeTimeRounding (roundingFunction) {\n    if (roundingFunction === undefined) {\n        return round;\n    }\n    if (typeof(roundingFunction) === 'function') {\n        round = roundingFunction;\n        return true;\n    }\n    return false;\n}\n\n// This function allows you to set a threshold for relative time strings\nfunction getSetRelativeTimeThreshold (threshold, limit) {\n    if (thresholds[threshold] === undefined) {\n        return false;\n    }\n    if (limit === undefined) {\n        return thresholds[threshold];\n    }\n    thresholds[threshold] = limit;\n    return true;\n}\n\nfunction humanize (withSuffix) {\n    var locale = this.localeData();\n    var output = relativeTime$1(this, !withSuffix, locale);\n\n    if (withSuffix) {\n        output = locale.pastFuture(+this, output);\n    }\n\n    return locale.postformat(output);\n}\n\nvar abs$1 = Math.abs;\n\nfunction toISOString$1() {\n    // for ISO strings we do not use the normal bubbling rules:\n    //  * milliseconds bubble up until they become hours\n    //  * days do not bubble at all\n    //  * months bubble up until they become years\n    // This is because there is no context-free conversion between hours and days\n    // (think of clock changes)\n    // and also not between days and months (28-31 days per month)\n    var seconds = abs$1(this._milliseconds) / 1000;\n    var days         = abs$1(this._days);\n    var months       = abs$1(this._months);\n    var minutes, hours, years;\n\n    // 3600 seconds -> 60 minutes -> 1 hour\n    minutes           = absFloor(seconds / 60);\n    hours             = absFloor(minutes / 60);\n    seconds %= 60;\n    minutes %= 60;\n\n    // 12 months -> 1 year\n    years  = absFloor(months / 12);\n    months %= 12;\n\n\n    // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n    var Y = years;\n    var M = months;\n    var D = days;\n    var h = hours;\n    var m = minutes;\n    var s = seconds;\n    var total = this.asSeconds();\n\n    if (!total) {\n        // this is the same as C#'s (Noda) and python (isodate)...\n        // but not other JS (goog.date)\n        return 'P0D';\n    }\n\n    return (total < 0 ? '-' : '') +\n        'P' +\n        (Y ? Y + 'Y' : '') +\n        (M ? M + 'M' : '') +\n        (D ? D + 'D' : '') +\n        ((h || m || s) ? 'T' : '') +\n        (h ? h + 'H' : '') +\n        (m ? m + 'M' : '') +\n        (s ? s + 'S' : '');\n}\n\nvar proto$2 = Duration.prototype;\n\nproto$2.abs            = abs;\nproto$2.add            = add$1;\nproto$2.subtract       = subtract$1;\nproto$2.as             = as;\nproto$2.asMilliseconds = asMilliseconds;\nproto$2.asSeconds      = asSeconds;\nproto$2.asMinutes      = asMinutes;\nproto$2.asHours        = asHours;\nproto$2.asDays         = asDays;\nproto$2.asWeeks        = asWeeks;\nproto$2.asMonths       = asMonths;\nproto$2.asYears        = asYears;\nproto$2.valueOf        = valueOf$1;\nproto$2._bubble        = bubble;\nproto$2.get            = get$2;\nproto$2.milliseconds   = milliseconds;\nproto$2.seconds        = seconds;\nproto$2.minutes        = minutes;\nproto$2.hours          = hours;\nproto$2.days           = days;\nproto$2.weeks          = weeks;\nproto$2.months         = months;\nproto$2.years          = years;\nproto$2.humanize       = humanize;\nproto$2.toISOString    = toISOString$1;\nproto$2.toString       = toISOString$1;\nproto$2.toJSON         = toISOString$1;\nproto$2.locale         = locale;\nproto$2.localeData     = localeData;\n\n// Deprecations\nproto$2.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString$1);\nproto$2.lang = lang;\n\n// Side effect imports\n\n// FORMATTING\n\naddFormatToken('X', 0, 0, 'unix');\naddFormatToken('x', 0, 0, 'valueOf');\n\n// PARSING\n\naddRegexToken('x', matchSigned);\naddRegexToken('X', matchTimestamp);\naddParseToken('X', function (input, array, config) {\n    config._d = new Date(parseFloat(input, 10) * 1000);\n});\naddParseToken('x', function (input, array, config) {\n    config._d = new Date(toInt(input));\n});\n\n// Side effect imports\n\n\nhooks.version = '2.17.1';\n\nsetHookCallback(createLocal);\n\nhooks.fn                    = proto;\nhooks.min                   = min;\nhooks.max                   = max;\nhooks.now                   = now;\nhooks.utc                   = createUTC;\nhooks.unix                  = createUnix;\nhooks.months                = listMonths;\nhooks.isDate                = isDate;\nhooks.locale                = getSetGlobalLocale;\nhooks.invalid               = createInvalid;\nhooks.duration              = createDuration;\nhooks.isMoment              = isMoment;\nhooks.weekdays              = listWeekdays;\nhooks.parseZone             = createInZone;\nhooks.localeData            = getLocale;\nhooks.isDuration            = isDuration;\nhooks.monthsShort           = listMonthsShort;\nhooks.weekdaysMin           = listWeekdaysMin;\nhooks.defineLocale          = defineLocale;\nhooks.updateLocale          = updateLocale;\nhooks.locales               = listLocales;\nhooks.weekdaysShort         = listWeekdaysShort;\nhooks.normalizeUnits        = normalizeUnits;\nhooks.relativeTimeRounding = getSetRelativeTimeRounding;\nhooks.relativeTimeThreshold = getSetRelativeTimeThreshold;\nhooks.calendarFormat        = getCalendarFormat;\nhooks.prototype             = proto;\n\nreturn hooks;\n\n})));\n\n},{}],56:[function(require,module,exports){\n/*\n     _ _      _       _\n ___| (_) ___| | __  (_)___\n/ __| | |/ __| |/ /  | / __|\n\\__ \\ | | (__|   < _ | \\__ \\\n|___/_|_|\\___|_|\\_(_)/ |___/\n                   |__/\n\n Version: 1.6.0\n  Author: Ken Wheeler\n Website: http://kenwheeler.github.io\n    Docs: http://kenwheeler.github.io/slick\n    Repo: http://github.com/kenwheeler/slick\n  Issues: http://github.com/kenwheeler/slick/issues\n\n */\n/* global window, document, define, jQuery, setInterval, clearInterval */\n(function(factory) {\n    'use strict';\n    if (typeof define === 'function' && define.amd) {\n        define(['jquery'], factory);\n    } else if (typeof exports !== 'undefined') {\n        module.exports = factory(require('jquery'));\n    } else {\n        factory(jQuery);\n    }\n\n}(function($) {\n    'use strict';\n    var Slick = window.Slick || {};\n\n    Slick = (function() {\n\n        var instanceUid = 0;\n\n        function Slick(element, settings) {\n\n            var _ = this, dataSettings;\n\n            _.defaults = {\n                accessibility: true,\n                adaptiveHeight: false,\n                appendArrows: $(element),\n                appendDots: $(element),\n                arrows: true,\n                asNavFor: null,\n                prevArrow: '<button type=\"button\" data-role=\"none\" class=\"slick-prev\" aria-label=\"Previous\" tabindex=\"0\" role=\"button\">Previous</button>',\n                nextArrow: '<button type=\"button\" data-role=\"none\" class=\"slick-next\" aria-label=\"Next\" tabindex=\"0\" role=\"button\">Next</button>',\n                autoplay: false,\n                autoplaySpeed: 3000,\n                centerMode: false,\n                centerPadding: '50px',\n                cssEase: 'ease',\n                customPaging: function(slider, i) {\n                    return $('<button type=\"button\" data-role=\"none\" role=\"button\" tabindex=\"0\" />').text(i + 1);\n                },\n                dots: false,\n                dotsClass: 'slick-dots',\n                draggable: true,\n                easing: 'linear',\n                edgeFriction: 0.35,\n                fade: false,\n                focusOnSelect: false,\n                infinite: true,\n                initialSlide: 0,\n                lazyLoad: 'ondemand',\n                mobileFirst: false,\n                pauseOnHover: true,\n                pauseOnFocus: true,\n                pauseOnDotsHover: false,\n                respondTo: 'window',\n                responsive: null,\n                rows: 1,\n                rtl: false,\n                slide: '',\n                slidesPerRow: 1,\n                slidesToShow: 1,\n                slidesToScroll: 1,\n                speed: 500,\n                swipe: true,\n                swipeToSlide: false,\n                touchMove: true,\n                touchThreshold: 5,\n                useCSS: true,\n                useTransform: true,\n                variableWidth: false,\n                vertical: false,\n                verticalSwiping: false,\n                waitForAnimate: true,\n                zIndex: 1000\n            };\n\n            _.initials = {\n                animating: false,\n                dragging: false,\n                autoPlayTimer: null,\n                currentDirection: 0,\n                currentLeft: null,\n                currentSlide: 0,\n                direction: 1,\n                $dots: null,\n                listWidth: null,\n                listHeight: null,\n                loadIndex: 0,\n                $nextArrow: null,\n                $prevArrow: null,\n                slideCount: null,\n                slideWidth: null,\n                $slideTrack: null,\n                $slides: null,\n                sliding: false,\n                slideOffset: 0,\n                swipeLeft: null,\n                $list: null,\n                touchObject: {},\n                transformsEnabled: false,\n                unslicked: false\n            };\n\n            $.extend(_, _.initials);\n\n            _.activeBreakpoint = null;\n            _.animType = null;\n            _.animProp = null;\n            _.breakpoints = [];\n            _.breakpointSettings = [];\n            _.cssTransitions = false;\n            _.focussed = false;\n            _.interrupted = false;\n            _.hidden = 'hidden';\n            _.paused = true;\n            _.positionProp = null;\n            _.respondTo = null;\n            _.rowCount = 1;\n            _.shouldClick = true;\n            _.$slider = $(element);\n            _.$slidesCache = null;\n            _.transformType = null;\n            _.transitionType = null;\n            _.visibilityChange = 'visibilitychange';\n            _.windowWidth = 0;\n            _.windowTimer = null;\n\n            dataSettings = $(element).data('slick') || {};\n\n            _.options = $.extend({}, _.defaults, settings, dataSettings);\n\n            _.currentSlide = _.options.initialSlide;\n\n            _.originalSettings = _.options;\n\n            if (typeof document.mozHidden !== 'undefined') {\n                _.hidden = 'mozHidden';\n                _.visibilityChange = 'mozvisibilitychange';\n            } else if (typeof document.webkitHidden !== 'undefined') {\n                _.hidden = 'webkitHidden';\n                _.visibilityChange = 'webkitvisibilitychange';\n            }\n\n            _.autoPlay = $.proxy(_.autoPlay, _);\n            _.autoPlayClear = $.proxy(_.autoPlayClear, _);\n            _.autoPlayIterator = $.proxy(_.autoPlayIterator, _);\n            _.changeSlide = $.proxy(_.changeSlide, _);\n            _.clickHandler = $.proxy(_.clickHandler, _);\n            _.selectHandler = $.proxy(_.selectHandler, _);\n            _.setPosition = $.proxy(_.setPosition, _);\n            _.swipeHandler = $.proxy(_.swipeHandler, _);\n            _.dragHandler = $.proxy(_.dragHandler, _);\n            _.keyHandler = $.proxy(_.keyHandler, _);\n\n            _.instanceUid = instanceUid++;\n\n            // A simple way to check for HTML strings\n            // Strict HTML recognition (must start with <)\n            // Extracted from jQuery v1.11 source\n            _.htmlExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*)$/;\n\n\n            _.registerBreakpoints();\n            _.init(true);\n\n        }\n\n        return Slick;\n\n    }());\n\n    Slick.prototype.activateADA = function() {\n        var _ = this;\n\n        _.$slideTrack.find('.slick-active').attr({\n            'aria-hidden': 'false'\n        }).find('a, input, button, select').attr({\n            'tabindex': '0'\n        });\n\n    };\n\n    Slick.prototype.addSlide = Slick.prototype.slickAdd = function(markup, index, addBefore) {\n\n        var _ = this;\n\n        if (typeof(index) === 'boolean') {\n            addBefore = index;\n            index = null;\n        } else if (index < 0 || (index >= _.slideCount)) {\n            return false;\n        }\n\n        _.unload();\n\n        if (typeof(index) === 'number') {\n            if (index === 0 && _.$slides.length === 0) {\n                $(markup).appendTo(_.$slideTrack);\n            } else if (addBefore) {\n                $(markup).insertBefore(_.$slides.eq(index));\n            } else {\n                $(markup).insertAfter(_.$slides.eq(index));\n            }\n        } else {\n            if (addBefore === true) {\n                $(markup).prependTo(_.$slideTrack);\n            } else {\n                $(markup).appendTo(_.$slideTrack);\n            }\n        }\n\n        _.$slides = _.$slideTrack.children(this.options.slide);\n\n        _.$slideTrack.children(this.options.slide).detach();\n\n        _.$slideTrack.append(_.$slides);\n\n        _.$slides.each(function(index, element) {\n            $(element).attr('data-slick-index', index);\n        });\n\n        _.$slidesCache = _.$slides;\n\n        _.reinit();\n\n    };\n\n    Slick.prototype.animateHeight = function() {\n        var _ = this;\n        if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {\n            var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true);\n            _.$list.animate({\n                height: targetHeight\n            }, _.options.speed);\n        }\n    };\n\n    Slick.prototype.animateSlide = function(targetLeft, callback) {\n\n        var animProps = {},\n            _ = this;\n\n        _.animateHeight();\n\n        if (_.options.rtl === true && _.options.vertical === false) {\n            targetLeft = -targetLeft;\n        }\n        if (_.transformsEnabled === false) {\n            if (_.options.vertical === false) {\n                _.$slideTrack.animate({\n                    left: targetLeft\n                }, _.options.speed, _.options.easing, callback);\n            } else {\n                _.$slideTrack.animate({\n                    top: targetLeft\n                }, _.options.speed, _.options.easing, callback);\n            }\n\n        } else {\n\n            if (_.cssTransitions === false) {\n                if (_.options.rtl === true) {\n                    _.currentLeft = -(_.currentLeft);\n                }\n                $({\n                    animStart: _.currentLeft\n                }).animate({\n                    animStart: targetLeft\n                }, {\n                    duration: _.options.speed,\n                    easing: _.options.easing,\n                    step: function(now) {\n                        now = Math.ceil(now);\n                        if (_.options.vertical === false) {\n                            animProps[_.animType] = 'translate(' +\n                                now + 'px, 0px)';\n                            _.$slideTrack.css(animProps);\n                        } else {\n                            animProps[_.animType] = 'translate(0px,' +\n                                now + 'px)';\n                            _.$slideTrack.css(animProps);\n                        }\n                    },\n                    complete: function() {\n                        if (callback) {\n                            callback.call();\n                        }\n                    }\n                });\n\n            } else {\n\n                _.applyTransition();\n                targetLeft = Math.ceil(targetLeft);\n\n                if (_.options.vertical === false) {\n                    animProps[_.animType] = 'translate3d(' + targetLeft + 'px, 0px, 0px)';\n                } else {\n                    animProps[_.animType] = 'translate3d(0px,' + targetLeft + 'px, 0px)';\n                }\n                _.$slideTrack.css(animProps);\n\n                if (callback) {\n                    setTimeout(function() {\n\n                        _.disableTransition();\n\n                        callback.call();\n                    }, _.options.speed);\n                }\n\n            }\n\n        }\n\n    };\n\n    Slick.prototype.getNavTarget = function() {\n\n        var _ = this,\n            asNavFor = _.options.asNavFor;\n\n        if ( asNavFor && asNavFor !== null ) {\n            asNavFor = $(asNavFor).not(_.$slider);\n        }\n\n        return asNavFor;\n\n    };\n\n    Slick.prototype.asNavFor = function(index) {\n\n        var _ = this,\n            asNavFor = _.getNavTarget();\n\n        if ( asNavFor !== null && typeof asNavFor === 'object' ) {\n            asNavFor.each(function() {\n                var target = $(this).slick('getSlick');\n                if(!target.unslicked) {\n                    target.slideHandler(index, true);\n                }\n            });\n        }\n\n    };\n\n    Slick.prototype.applyTransition = function(slide) {\n\n        var _ = this,\n            transition = {};\n\n        if (_.options.fade === false) {\n            transition[_.transitionType] = _.transformType + ' ' + _.options.speed + 'ms ' + _.options.cssEase;\n        } else {\n            transition[_.transitionType] = 'opacity ' + _.options.speed + 'ms ' + _.options.cssEase;\n        }\n\n        if (_.options.fade === false) {\n            _.$slideTrack.css(transition);\n        } else {\n            _.$slides.eq(slide).css(transition);\n        }\n\n    };\n\n    Slick.prototype.autoPlay = function() {\n\n        var _ = this;\n\n        _.autoPlayClear();\n\n        if ( _.slideCount > _.options.slidesToShow ) {\n            _.autoPlayTimer = setInterval( _.autoPlayIterator, _.options.autoplaySpeed );\n        }\n\n    };\n\n    Slick.prototype.autoPlayClear = function() {\n\n        var _ = this;\n\n        if (_.autoPlayTimer) {\n            clearInterval(_.autoPlayTimer);\n        }\n\n    };\n\n    Slick.prototype.autoPlayIterator = function() {\n\n        var _ = this,\n            slideTo = _.currentSlide + _.options.slidesToScroll;\n\n        if ( !_.paused && !_.interrupted && !_.focussed ) {\n\n            if ( _.options.infinite === false ) {\n\n                if ( _.direction === 1 && ( _.currentSlide + 1 ) === ( _.slideCount - 1 )) {\n                    _.direction = 0;\n                }\n\n                else if ( _.direction === 0 ) {\n\n                    slideTo = _.currentSlide - _.options.slidesToScroll;\n\n                    if ( _.currentSlide - 1 === 0 ) {\n                        _.direction = 1;\n                    }\n\n                }\n\n            }\n\n            _.slideHandler( slideTo );\n\n        }\n\n    };\n\n    Slick.prototype.buildArrows = function() {\n\n        var _ = this;\n\n        if (_.options.arrows === true ) {\n\n            _.$prevArrow = $(_.options.prevArrow).addClass('slick-arrow');\n            _.$nextArrow = $(_.options.nextArrow).addClass('slick-arrow');\n\n            if( _.slideCount > _.options.slidesToShow ) {\n\n                _.$prevArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');\n                _.$nextArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');\n\n                if (_.htmlExpr.test(_.options.prevArrow)) {\n                    _.$prevArrow.prependTo(_.options.appendArrows);\n                }\n\n                if (_.htmlExpr.test(_.options.nextArrow)) {\n                    _.$nextArrow.appendTo(_.options.appendArrows);\n                }\n\n                if (_.options.infinite !== true) {\n                    _.$prevArrow\n                        .addClass('slick-disabled')\n                        .attr('aria-disabled', 'true');\n                }\n\n            } else {\n\n                _.$prevArrow.add( _.$nextArrow )\n\n                    .addClass('slick-hidden')\n                    .attr({\n                        'aria-disabled': 'true',\n                        'tabindex': '-1'\n                    });\n\n            }\n\n        }\n\n    };\n\n    Slick.prototype.buildDots = function() {\n\n        var _ = this,\n            i, dot;\n\n        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {\n\n            _.$slider.addClass('slick-dotted');\n\n            dot = $('<ul />').addClass(_.options.dotsClass);\n\n            for (i = 0; i <= _.getDotCount(); i += 1) {\n                dot.append($('<li />').append(_.options.customPaging.call(this, _, i)));\n            }\n\n            _.$dots = dot.appendTo(_.options.appendDots);\n\n            _.$dots.find('li').first().addClass('slick-active').attr('aria-hidden', 'false');\n\n        }\n\n    };\n\n    Slick.prototype.buildOut = function() {\n\n        var _ = this;\n\n        _.$slides =\n            _.$slider\n                .children( _.options.slide + ':not(.slick-cloned)')\n                .addClass('slick-slide');\n\n        _.slideCount = _.$slides.length;\n\n        _.$slides.each(function(index, element) {\n            $(element)\n                .attr('data-slick-index', index)\n                .data('originalStyling', $(element).attr('style') || '');\n        });\n\n        _.$slider.addClass('slick-slider');\n\n        _.$slideTrack = (_.slideCount === 0) ?\n            $('<div class=\"slick-track\"/>').appendTo(_.$slider) :\n            _.$slides.wrapAll('<div class=\"slick-track\"/>').parent();\n\n        _.$list = _.$slideTrack.wrap(\n            '<div aria-live=\"polite\" class=\"slick-list\"/>').parent();\n        _.$slideTrack.css('opacity', 0);\n\n        if (_.options.centerMode === true || _.options.swipeToSlide === true) {\n            _.options.slidesToScroll = 1;\n        }\n\n        $('img[data-lazy]', _.$slider).not('[src]').addClass('slick-loading');\n\n        _.setupInfinite();\n\n        _.buildArrows();\n\n        _.buildDots();\n\n        _.updateDots();\n\n\n        _.setSlideClasses(typeof _.currentSlide === 'number' ? _.currentSlide : 0);\n\n        if (_.options.draggable === true) {\n            _.$list.addClass('draggable');\n        }\n\n    };\n\n    Slick.prototype.buildRows = function() {\n\n        var _ = this, a, b, c, newSlides, numOfSlides, originalSlides,slidesPerSection;\n\n        newSlides = document.createDocumentFragment();\n        originalSlides = _.$slider.children();\n\n        if(_.options.rows > 1) {\n\n            slidesPerSection = _.options.slidesPerRow * _.options.rows;\n            numOfSlides = Math.ceil(\n                originalSlides.length / slidesPerSection\n            );\n\n            for(a = 0; a < numOfSlides; a++){\n                var slide = document.createElement('div');\n                for(b = 0; b < _.options.rows; b++) {\n                    var row = document.createElement('div');\n                    for(c = 0; c < _.options.slidesPerRow; c++) {\n                        var target = (a * slidesPerSection + ((b * _.options.slidesPerRow) + c));\n                        if (originalSlides.get(target)) {\n                            row.appendChild(originalSlides.get(target));\n                        }\n                    }\n                    slide.appendChild(row);\n                }\n                newSlides.appendChild(slide);\n            }\n\n            _.$slider.empty().append(newSlides);\n            _.$slider.children().children().children()\n                .css({\n                    'width':(100 / _.options.slidesPerRow) + '%',\n                    'display': 'inline-block'\n                });\n\n        }\n\n    };\n\n    Slick.prototype.checkResponsive = function(initial, forceUpdate) {\n\n        var _ = this,\n            breakpoint, targetBreakpoint, respondToWidth, triggerBreakpoint = false;\n        var sliderWidth = _.$slider.width();\n        var windowWidth = window.innerWidth || $(window).width();\n\n        if (_.respondTo === 'window') {\n            respondToWidth = windowWidth;\n        } else if (_.respondTo === 'slider') {\n            respondToWidth = sliderWidth;\n        } else if (_.respondTo === 'min') {\n            respondToWidth = Math.min(windowWidth, sliderWidth);\n        }\n\n        if ( _.options.responsive &&\n            _.options.responsive.length &&\n            _.options.responsive !== null) {\n\n            targetBreakpoint = null;\n\n            for (breakpoint in _.breakpoints) {\n                if (_.breakpoints.hasOwnProperty(breakpoint)) {\n                    if (_.originalSettings.mobileFirst === false) {\n                        if (respondToWidth < _.breakpoints[breakpoint]) {\n                            targetBreakpoint = _.breakpoints[breakpoint];\n                        }\n                    } else {\n                        if (respondToWidth > _.breakpoints[breakpoint]) {\n                            targetBreakpoint = _.breakpoints[breakpoint];\n                        }\n                    }\n                }\n            }\n\n            if (targetBreakpoint !== null) {\n                if (_.activeBreakpoint !== null) {\n                    if (targetBreakpoint !== _.activeBreakpoint || forceUpdate) {\n                        _.activeBreakpoint =\n                            targetBreakpoint;\n                        if (_.breakpointSettings[targetBreakpoint] === 'unslick') {\n                            _.unslick(targetBreakpoint);\n                        } else {\n                            _.options = $.extend({}, _.originalSettings,\n                                _.breakpointSettings[\n                                    targetBreakpoint]);\n                            if (initial === true) {\n                                _.currentSlide = _.options.initialSlide;\n                            }\n                            _.refresh(initial);\n                        }\n                        triggerBreakpoint = targetBreakpoint;\n                    }\n                } else {\n                    _.activeBreakpoint = targetBreakpoint;\n                    if (_.breakpointSettings[targetBreakpoint] === 'unslick') {\n                        _.unslick(targetBreakpoint);\n                    } else {\n                        _.options = $.extend({}, _.originalSettings,\n                            _.breakpointSettings[\n                                targetBreakpoint]);\n                        if (initial === true) {\n                            _.currentSlide = _.options.initialSlide;\n                        }\n                        _.refresh(initial);\n                    }\n                    triggerBreakpoint = targetBreakpoint;\n                }\n            } else {\n                if (_.activeBreakpoint !== null) {\n                    _.activeBreakpoint = null;\n                    _.options = _.originalSettings;\n                    if (initial === true) {\n                        _.currentSlide = _.options.initialSlide;\n                    }\n                    _.refresh(initial);\n                    triggerBreakpoint = targetBreakpoint;\n                }\n            }\n\n            // only trigger breakpoints during an actual break. not on initialize.\n            if( !initial && triggerBreakpoint !== false ) {\n                _.$slider.trigger('breakpoint', [_, triggerBreakpoint]);\n            }\n        }\n\n    };\n\n    Slick.prototype.changeSlide = function(event, dontAnimate) {\n\n        var _ = this,\n            $target = $(event.currentTarget),\n            indexOffset, slideOffset, unevenOffset;\n\n        // If target is a link, prevent default action.\n        if($target.is('a')) {\n            event.preventDefault();\n        }\n\n        // If target is not the <li> element (ie: a child), find the <li>.\n        if(!$target.is('li')) {\n            $target = $target.closest('li');\n        }\n\n        unevenOffset = (_.slideCount % _.options.slidesToScroll !== 0);\n        indexOffset = unevenOffset ? 0 : (_.slideCount - _.currentSlide) % _.options.slidesToScroll;\n\n        switch (event.data.message) {\n\n            case 'previous':\n                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : _.options.slidesToShow - indexOffset;\n                if (_.slideCount > _.options.slidesToShow) {\n                    _.slideHandler(_.currentSlide - slideOffset, false, dontAnimate);\n                }\n                break;\n\n            case 'next':\n                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : indexOffset;\n                if (_.slideCount > _.options.slidesToShow) {\n                    _.slideHandler(_.currentSlide + slideOffset, false, dontAnimate);\n                }\n                break;\n\n            case 'index':\n                var index = event.data.index === 0 ? 0 :\n                    event.data.index || $target.index() * _.options.slidesToScroll;\n\n                _.slideHandler(_.checkNavigable(index), false, dontAnimate);\n                $target.children().trigger('focus');\n                break;\n\n            default:\n                return;\n        }\n\n    };\n\n    Slick.prototype.checkNavigable = function(index) {\n\n        var _ = this,\n            navigables, prevNavigable;\n\n        navigables = _.getNavigableIndexes();\n        prevNavigable = 0;\n        if (index > navigables[navigables.length - 1]) {\n            index = navigables[navigables.length - 1];\n        } else {\n            for (var n in navigables) {\n                if (index < navigables[n]) {\n                    index = prevNavigable;\n                    break;\n                }\n                prevNavigable = navigables[n];\n            }\n        }\n\n        return index;\n    };\n\n    Slick.prototype.cleanUpEvents = function() {\n\n        var _ = this;\n\n        if (_.options.dots && _.$dots !== null) {\n\n            $('li', _.$dots)\n                .off('click.slick', _.changeSlide)\n                .off('mouseenter.slick', $.proxy(_.interrupt, _, true))\n                .off('mouseleave.slick', $.proxy(_.interrupt, _, false));\n\n        }\n\n        _.$slider.off('focus.slick blur.slick');\n\n        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {\n            _.$prevArrow && _.$prevArrow.off('click.slick', _.changeSlide);\n            _.$nextArrow && _.$nextArrow.off('click.slick', _.changeSlide);\n        }\n\n        _.$list.off('touchstart.slick mousedown.slick', _.swipeHandler);\n        _.$list.off('touchmove.slick mousemove.slick', _.swipeHandler);\n        _.$list.off('touchend.slick mouseup.slick', _.swipeHandler);\n        _.$list.off('touchcancel.slick mouseleave.slick', _.swipeHandler);\n\n        _.$list.off('click.slick', _.clickHandler);\n\n        $(document).off(_.visibilityChange, _.visibility);\n\n        _.cleanUpSlideEvents();\n\n        if (_.options.accessibility === true) {\n            _.$list.off('keydown.slick', _.keyHandler);\n        }\n\n        if (_.options.focusOnSelect === true) {\n            $(_.$slideTrack).children().off('click.slick', _.selectHandler);\n        }\n\n        $(window).off('orientationchange.slick.slick-' + _.instanceUid, _.orientationChange);\n\n        $(window).off('resize.slick.slick-' + _.instanceUid, _.resize);\n\n        $('[draggable!=true]', _.$slideTrack).off('dragstart', _.preventDefault);\n\n        $(window).off('load.slick.slick-' + _.instanceUid, _.setPosition);\n        $(document).off('ready.slick.slick-' + _.instanceUid, _.setPosition);\n\n    };\n\n    Slick.prototype.cleanUpSlideEvents = function() {\n\n        var _ = this;\n\n        _.$list.off('mouseenter.slick', $.proxy(_.interrupt, _, true));\n        _.$list.off('mouseleave.slick', $.proxy(_.interrupt, _, false));\n\n    };\n\n    Slick.prototype.cleanUpRows = function() {\n\n        var _ = this, originalSlides;\n\n        if(_.options.rows > 1) {\n            originalSlides = _.$slides.children().children();\n            originalSlides.removeAttr('style');\n            _.$slider.empty().append(originalSlides);\n        }\n\n    };\n\n    Slick.prototype.clickHandler = function(event) {\n\n        var _ = this;\n\n        if (_.shouldClick === false) {\n            event.stopImmediatePropagation();\n            event.stopPropagation();\n            event.preventDefault();\n        }\n\n    };\n\n    Slick.prototype.destroy = function(refresh) {\n\n        var _ = this;\n\n        _.autoPlayClear();\n\n        _.touchObject = {};\n\n        _.cleanUpEvents();\n\n        $('.slick-cloned', _.$slider).detach();\n\n        if (_.$dots) {\n            _.$dots.remove();\n        }\n\n\n        if ( _.$prevArrow && _.$prevArrow.length ) {\n\n            _.$prevArrow\n                .removeClass('slick-disabled slick-arrow slick-hidden')\n                .removeAttr('aria-hidden aria-disabled tabindex')\n                .css('display','');\n\n            if ( _.htmlExpr.test( _.options.prevArrow )) {\n                _.$prevArrow.remove();\n            }\n        }\n\n        if ( _.$nextArrow && _.$nextArrow.length ) {\n\n            _.$nextArrow\n                .removeClass('slick-disabled slick-arrow slick-hidden')\n                .removeAttr('aria-hidden aria-disabled tabindex')\n                .css('display','');\n\n            if ( _.htmlExpr.test( _.options.nextArrow )) {\n                _.$nextArrow.remove();\n            }\n\n        }\n\n\n        if (_.$slides) {\n\n            _.$slides\n                .removeClass('slick-slide slick-active slick-center slick-visible slick-current')\n                .removeAttr('aria-hidden')\n                .removeAttr('data-slick-index')\n                .each(function(){\n                    $(this).attr('style', $(this).data('originalStyling'));\n                });\n\n            _.$slideTrack.children(this.options.slide).detach();\n\n            _.$slideTrack.detach();\n\n            _.$list.detach();\n\n            _.$slider.append(_.$slides);\n        }\n\n        _.cleanUpRows();\n\n        _.$slider.removeClass('slick-slider');\n        _.$slider.removeClass('slick-initialized');\n        _.$slider.removeClass('slick-dotted');\n\n        _.unslicked = true;\n\n        if(!refresh) {\n            _.$slider.trigger('destroy', [_]);\n        }\n\n    };\n\n    Slick.prototype.disableTransition = function(slide) {\n\n        var _ = this,\n            transition = {};\n\n        transition[_.transitionType] = '';\n\n        if (_.options.fade === false) {\n            _.$slideTrack.css(transition);\n        } else {\n            _.$slides.eq(slide).css(transition);\n        }\n\n    };\n\n    Slick.prototype.fadeSlide = function(slideIndex, callback) {\n\n        var _ = this;\n\n        if (_.cssTransitions === false) {\n\n            _.$slides.eq(slideIndex).css({\n                zIndex: _.options.zIndex\n            });\n\n            _.$slides.eq(slideIndex).animate({\n                opacity: 1\n            }, _.options.speed, _.options.easing, callback);\n\n        } else {\n\n            _.applyTransition(slideIndex);\n\n            _.$slides.eq(slideIndex).css({\n                opacity: 1,\n                zIndex: _.options.zIndex\n            });\n\n            if (callback) {\n                setTimeout(function() {\n\n                    _.disableTransition(slideIndex);\n\n                    callback.call();\n                }, _.options.speed);\n            }\n\n        }\n\n    };\n\n    Slick.prototype.fadeSlideOut = function(slideIndex) {\n\n        var _ = this;\n\n        if (_.cssTransitions === false) {\n\n            _.$slides.eq(slideIndex).animate({\n                opacity: 0,\n                zIndex: _.options.zIndex - 2\n            }, _.options.speed, _.options.easing);\n\n        } else {\n\n            _.applyTransition(slideIndex);\n\n            _.$slides.eq(slideIndex).css({\n                opacity: 0,\n                zIndex: _.options.zIndex - 2\n            });\n\n        }\n\n    };\n\n    Slick.prototype.filterSlides = Slick.prototype.slickFilter = function(filter) {\n\n        var _ = this;\n\n        if (filter !== null) {\n\n            _.$slidesCache = _.$slides;\n\n            _.unload();\n\n            _.$slideTrack.children(this.options.slide).detach();\n\n            _.$slidesCache.filter(filter).appendTo(_.$slideTrack);\n\n            _.reinit();\n\n        }\n\n    };\n\n    Slick.prototype.focusHandler = function() {\n\n        var _ = this;\n\n        _.$slider\n            .off('focus.slick blur.slick')\n            .on('focus.slick blur.slick',\n                '*:not(.slick-arrow)', function(event) {\n\n            event.stopImmediatePropagation();\n            var $sf = $(this);\n\n            setTimeout(function() {\n\n                if( _.options.pauseOnFocus ) {\n                    _.focussed = $sf.is(':focus');\n                    _.autoPlay();\n                }\n\n            }, 0);\n\n        });\n    };\n\n    Slick.prototype.getCurrent = Slick.prototype.slickCurrentSlide = function() {\n\n        var _ = this;\n        return _.currentSlide;\n\n    };\n\n    Slick.prototype.getDotCount = function() {\n\n        var _ = this;\n\n        var breakPoint = 0;\n        var counter = 0;\n        var pagerQty = 0;\n\n        if (_.options.infinite === true) {\n            while (breakPoint < _.slideCount) {\n                ++pagerQty;\n                breakPoint = counter + _.options.slidesToScroll;\n                counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;\n            }\n        } else if (_.options.centerMode === true) {\n            pagerQty = _.slideCount;\n        } else if(!_.options.asNavFor) {\n            pagerQty = 1 + Math.ceil((_.slideCount - _.options.slidesToShow) / _.options.slidesToScroll);\n        }else {\n            while (breakPoint < _.slideCount) {\n                ++pagerQty;\n                breakPoint = counter + _.options.slidesToScroll;\n                counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;\n            }\n        }\n\n        return pagerQty - 1;\n\n    };\n\n    Slick.prototype.getLeft = function(slideIndex) {\n\n        var _ = this,\n            targetLeft,\n            verticalHeight,\n            verticalOffset = 0,\n            targetSlide;\n\n        _.slideOffset = 0;\n        verticalHeight = _.$slides.first().outerHeight(true);\n\n        if (_.options.infinite === true) {\n            if (_.slideCount > _.options.slidesToShow) {\n                _.slideOffset = (_.slideWidth * _.options.slidesToShow) * -1;\n                verticalOffset = (verticalHeight * _.options.slidesToShow) * -1;\n            }\n            if (_.slideCount % _.options.slidesToScroll !== 0) {\n                if (slideIndex + _.options.slidesToScroll > _.slideCount && _.slideCount > _.options.slidesToShow) {\n                    if (slideIndex > _.slideCount) {\n                        _.slideOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * _.slideWidth) * -1;\n                        verticalOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * verticalHeight) * -1;\n                    } else {\n                        _.slideOffset = ((_.slideCount % _.options.slidesToScroll) * _.slideWidth) * -1;\n                        verticalOffset = ((_.slideCount % _.options.slidesToScroll) * verticalHeight) * -1;\n                    }\n                }\n            }\n        } else {\n            if (slideIndex + _.options.slidesToShow > _.slideCount) {\n                _.slideOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * _.slideWidth;\n                verticalOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * verticalHeight;\n            }\n        }\n\n        if (_.slideCount <= _.options.slidesToShow) {\n            _.slideOffset = 0;\n            verticalOffset = 0;\n        }\n\n        if (_.options.centerMode === true && _.options.infinite === true) {\n            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2) - _.slideWidth;\n        } else if (_.options.centerMode === true) {\n            _.slideOffset = 0;\n            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2);\n        }\n\n        if (_.options.vertical === false) {\n            targetLeft = ((slideIndex * _.slideWidth) * -1) + _.slideOffset;\n        } else {\n            targetLeft = ((slideIndex * verticalHeight) * -1) + verticalOffset;\n        }\n\n        if (_.options.variableWidth === true) {\n\n            if (_.slideCount <= _.options.slidesToShow || _.options.infinite === false) {\n                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);\n            } else {\n                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow);\n            }\n\n            if (_.options.rtl === true) {\n                if (targetSlide[0]) {\n                    targetLeft = (_.$slideTrack.width() - targetSlide[0].offsetLeft - targetSlide.width()) * -1;\n                } else {\n                    targetLeft =  0;\n                }\n            } else {\n                targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;\n            }\n\n            if (_.options.centerMode === true) {\n                if (_.slideCount <= _.options.slidesToShow || _.options.infinite === false) {\n                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);\n                } else {\n                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow + 1);\n                }\n\n                if (_.options.rtl === true) {\n                    if (targetSlide[0]) {\n                        targetLeft = (_.$slideTrack.width() - targetSlide[0].offsetLeft - targetSlide.width()) * -1;\n                    } else {\n                        targetLeft =  0;\n                    }\n                } else {\n                    targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;\n                }\n\n                targetLeft += (_.$list.width() - targetSlide.outerWidth()) / 2;\n            }\n        }\n\n        return targetLeft;\n\n    };\n\n    Slick.prototype.getOption = Slick.prototype.slickGetOption = function(option) {\n\n        var _ = this;\n\n        return _.options[option];\n\n    };\n\n    Slick.prototype.getNavigableIndexes = function() {\n\n        var _ = this,\n            breakPoint = 0,\n            counter = 0,\n            indexes = [],\n            max;\n\n        if (_.options.infinite === false) {\n            max = _.slideCount;\n        } else {\n            breakPoint = _.options.slidesToScroll * -1;\n            counter = _.options.slidesToScroll * -1;\n            max = _.slideCount * 2;\n        }\n\n        while (breakPoint < max) {\n            indexes.push(breakPoint);\n            breakPoint = counter + _.options.slidesToScroll;\n            counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;\n        }\n\n        return indexes;\n\n    };\n\n    Slick.prototype.getSlick = function() {\n\n        return this;\n\n    };\n\n    Slick.prototype.getSlideCount = function() {\n\n        var _ = this,\n            slidesTraversed, swipedSlide, centerOffset;\n\n        centerOffset = _.options.centerMode === true ? _.slideWidth * Math.floor(_.options.slidesToShow / 2) : 0;\n\n        if (_.options.swipeToSlide === true) {\n            _.$slideTrack.find('.slick-slide').each(function(index, slide) {\n                if (slide.offsetLeft - centerOffset + ($(slide).outerWidth() / 2) > (_.swipeLeft * -1)) {\n                    swipedSlide = slide;\n                    return false;\n                }\n            });\n\n            slidesTraversed = Math.abs($(swipedSlide).attr('data-slick-index') - _.currentSlide) || 1;\n\n            return slidesTraversed;\n\n        } else {\n            return _.options.slidesToScroll;\n        }\n\n    };\n\n    Slick.prototype.goTo = Slick.prototype.slickGoTo = function(slide, dontAnimate) {\n\n        var _ = this;\n\n        _.changeSlide({\n            data: {\n                message: 'index',\n                index: parseInt(slide)\n            }\n        }, dontAnimate);\n\n    };\n\n    Slick.prototype.init = function(creation) {\n\n        var _ = this;\n\n        if (!$(_.$slider).hasClass('slick-initialized')) {\n\n            $(_.$slider).addClass('slick-initialized');\n\n            _.buildRows();\n            _.buildOut();\n            _.setProps();\n            _.startLoad();\n            _.loadSlider();\n            _.initializeEvents();\n            _.updateArrows();\n            _.updateDots();\n            _.checkResponsive(true);\n            _.focusHandler();\n\n        }\n\n        if (creation) {\n            _.$slider.trigger('init', [_]);\n        }\n\n        if (_.options.accessibility === true) {\n            _.initADA();\n        }\n\n        if ( _.options.autoplay ) {\n\n            _.paused = false;\n            _.autoPlay();\n\n        }\n\n    };\n\n    Slick.prototype.initADA = function() {\n        var _ = this;\n        _.$slides.add(_.$slideTrack.find('.slick-cloned')).attr({\n            'aria-hidden': 'true',\n            'tabindex': '-1'\n        }).find('a, input, button, select').attr({\n            'tabindex': '-1'\n        });\n\n        _.$slideTrack.attr('role', 'listbox');\n\n        _.$slides.not(_.$slideTrack.find('.slick-cloned')).each(function(i) {\n            $(this).attr({\n                'role': 'option',\n                'aria-describedby': 'slick-slide' + _.instanceUid + i + ''\n            });\n        });\n\n        if (_.$dots !== null) {\n            _.$dots.attr('role', 'tablist').find('li').each(function(i) {\n                $(this).attr({\n                    'role': 'presentation',\n                    'aria-selected': 'false',\n                    'aria-controls': 'navigation' + _.instanceUid + i + '',\n                    'id': 'slick-slide' + _.instanceUid + i + ''\n                });\n            })\n                .first().attr('aria-selected', 'true').end()\n                .find('button').attr('role', 'button').end()\n                .closest('div').attr('role', 'toolbar');\n        }\n        _.activateADA();\n\n    };\n\n    Slick.prototype.initArrowEvents = function() {\n\n        var _ = this;\n\n        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {\n            _.$prevArrow\n               .off('click.slick')\n               .on('click.slick', {\n                    message: 'previous'\n               }, _.changeSlide);\n            _.$nextArrow\n               .off('click.slick')\n               .on('click.slick', {\n                    message: 'next'\n               }, _.changeSlide);\n        }\n\n    };\n\n    Slick.prototype.initDotEvents = function() {\n\n        var _ = this;\n\n        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {\n            $('li', _.$dots).on('click.slick', {\n                message: 'index'\n            }, _.changeSlide);\n        }\n\n        if ( _.options.dots === true && _.options.pauseOnDotsHover === true ) {\n\n            $('li', _.$dots)\n                .on('mouseenter.slick', $.proxy(_.interrupt, _, true))\n                .on('mouseleave.slick', $.proxy(_.interrupt, _, false));\n\n        }\n\n    };\n\n    Slick.prototype.initSlideEvents = function() {\n\n        var _ = this;\n\n        if ( _.options.pauseOnHover ) {\n\n            _.$list.on('mouseenter.slick', $.proxy(_.interrupt, _, true));\n            _.$list.on('mouseleave.slick', $.proxy(_.interrupt, _, false));\n\n        }\n\n    };\n\n    Slick.prototype.initializeEvents = function() {\n\n        var _ = this;\n\n        _.initArrowEvents();\n\n        _.initDotEvents();\n        _.initSlideEvents();\n\n        _.$list.on('touchstart.slick mousedown.slick', {\n            action: 'start'\n        }, _.swipeHandler);\n        _.$list.on('touchmove.slick mousemove.slick', {\n            action: 'move'\n        }, _.swipeHandler);\n        _.$list.on('touchend.slick mouseup.slick', {\n            action: 'end'\n        }, _.swipeHandler);\n        _.$list.on('touchcancel.slick mouseleave.slick', {\n            action: 'end'\n        }, _.swipeHandler);\n\n        _.$list.on('click.slick', _.clickHandler);\n\n        $(document).on(_.visibilityChange, $.proxy(_.visibility, _));\n\n        if (_.options.accessibility === true) {\n            _.$list.on('keydown.slick', _.keyHandler);\n        }\n\n        if (_.options.focusOnSelect === true) {\n            $(_.$slideTrack).children().on('click.slick', _.selectHandler);\n        }\n\n        $(window).on('orientationchange.slick.slick-' + _.instanceUid, $.proxy(_.orientationChange, _));\n\n        $(window).on('resize.slick.slick-' + _.instanceUid, $.proxy(_.resize, _));\n\n        $('[draggable!=true]', _.$slideTrack).on('dragstart', _.preventDefault);\n\n        $(window).on('load.slick.slick-' + _.instanceUid, _.setPosition);\n        $(document).on('ready.slick.slick-' + _.instanceUid, _.setPosition);\n\n    };\n\n    Slick.prototype.initUI = function() {\n\n        var _ = this;\n\n        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {\n\n            _.$prevArrow.show();\n            _.$nextArrow.show();\n\n        }\n\n        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {\n\n            _.$dots.show();\n\n        }\n\n    };\n\n    Slick.prototype.keyHandler = function(event) {\n\n        var _ = this;\n         //Dont slide if the cursor is inside the form fields and arrow keys are pressed\n        if(!event.target.tagName.match('TEXTAREA|INPUT|SELECT')) {\n            if (event.keyCode === 37 && _.options.accessibility === true) {\n                _.changeSlide({\n                    data: {\n                        message: _.options.rtl === true ? 'next' :  'previous'\n                    }\n                });\n            } else if (event.keyCode === 39 && _.options.accessibility === true) {\n                _.changeSlide({\n                    data: {\n                        message: _.options.rtl === true ? 'previous' : 'next'\n                    }\n                });\n            }\n        }\n\n    };\n\n    Slick.prototype.lazyLoad = function() {\n\n        var _ = this,\n            loadRange, cloneRange, rangeStart, rangeEnd;\n\n        function loadImages(imagesScope) {\n\n            $('img[data-lazy]', imagesScope).each(function() {\n\n                var image = $(this),\n                    imageSource = $(this).attr('data-lazy'),\n                    imageToLoad = document.createElement('img');\n\n                imageToLoad.onload = function() {\n\n                    image\n                        .animate({ opacity: 0 }, 100, function() {\n                            image\n                                .attr('src', imageSource)\n                                .animate({ opacity: 1 }, 200, function() {\n                                    image\n                                        .removeAttr('data-lazy')\n                                        .removeClass('slick-loading');\n                                });\n                            _.$slider.trigger('lazyLoaded', [_, image, imageSource]);\n                        });\n\n                };\n\n                imageToLoad.onerror = function() {\n\n                    image\n                        .removeAttr( 'data-lazy' )\n                        .removeClass( 'slick-loading' )\n                        .addClass( 'slick-lazyload-error' );\n\n                    _.$slider.trigger('lazyLoadError', [ _, image, imageSource ]);\n\n                };\n\n                imageToLoad.src = imageSource;\n\n            });\n\n        }\n\n        if (_.options.centerMode === true) {\n            if (_.options.infinite === true) {\n                rangeStart = _.currentSlide + (_.options.slidesToShow / 2 + 1);\n                rangeEnd = rangeStart + _.options.slidesToShow + 2;\n            } else {\n                rangeStart = Math.max(0, _.currentSlide - (_.options.slidesToShow / 2 + 1));\n                rangeEnd = 2 + (_.options.slidesToShow / 2 + 1) + _.currentSlide;\n            }\n        } else {\n            rangeStart = _.options.infinite ? _.options.slidesToShow + _.currentSlide : _.currentSlide;\n            rangeEnd = Math.ceil(rangeStart + _.options.slidesToShow);\n            if (_.options.fade === true) {\n                if (rangeStart > 0) rangeStart--;\n                if (rangeEnd <= _.slideCount) rangeEnd++;\n            }\n        }\n\n        loadRange = _.$slider.find('.slick-slide').slice(rangeStart, rangeEnd);\n        loadImages(loadRange);\n\n        if (_.slideCount <= _.options.slidesToShow) {\n            cloneRange = _.$slider.find('.slick-slide');\n            loadImages(cloneRange);\n        } else\n        if (_.currentSlide >= _.slideCount - _.options.slidesToShow) {\n            cloneRange = _.$slider.find('.slick-cloned').slice(0, _.options.slidesToShow);\n            loadImages(cloneRange);\n        } else if (_.currentSlide === 0) {\n            cloneRange = _.$slider.find('.slick-cloned').slice(_.options.slidesToShow * -1);\n            loadImages(cloneRange);\n        }\n\n    };\n\n    Slick.prototype.loadSlider = function() {\n\n        var _ = this;\n\n        _.setPosition();\n\n        _.$slideTrack.css({\n            opacity: 1\n        });\n\n        _.$slider.removeClass('slick-loading');\n\n        _.initUI();\n\n        if (_.options.lazyLoad === 'progressive') {\n            _.progressiveLazyLoad();\n        }\n\n    };\n\n    Slick.prototype.next = Slick.prototype.slickNext = function() {\n\n        var _ = this;\n\n        _.changeSlide({\n            data: {\n                message: 'next'\n            }\n        });\n\n    };\n\n    Slick.prototype.orientationChange = function() {\n\n        var _ = this;\n\n        _.checkResponsive();\n        _.setPosition();\n\n    };\n\n    Slick.prototype.pause = Slick.prototype.slickPause = function() {\n\n        var _ = this;\n\n        _.autoPlayClear();\n        _.paused = true;\n\n    };\n\n    Slick.prototype.play = Slick.prototype.slickPlay = function() {\n\n        var _ = this;\n\n        _.autoPlay();\n        _.options.autoplay = true;\n        _.paused = false;\n        _.focussed = false;\n        _.interrupted = false;\n\n    };\n\n    Slick.prototype.postSlide = function(index) {\n\n        var _ = this;\n\n        if( !_.unslicked ) {\n\n            _.$slider.trigger('afterChange', [_, index]);\n\n            _.animating = false;\n\n            _.setPosition();\n\n            _.swipeLeft = null;\n\n            if ( _.options.autoplay ) {\n                _.autoPlay();\n            }\n\n            if (_.options.accessibility === true) {\n                _.initADA();\n            }\n\n        }\n\n    };\n\n    Slick.prototype.prev = Slick.prototype.slickPrev = function() {\n\n        var _ = this;\n\n        _.changeSlide({\n            data: {\n                message: 'previous'\n            }\n        });\n\n    };\n\n    Slick.prototype.preventDefault = function(event) {\n\n        event.preventDefault();\n\n    };\n\n    Slick.prototype.progressiveLazyLoad = function( tryCount ) {\n\n        tryCount = tryCount || 1;\n\n        var _ = this,\n            $imgsToLoad = $( 'img[data-lazy]', _.$slider ),\n            image,\n            imageSource,\n            imageToLoad;\n\n        if ( $imgsToLoad.length ) {\n\n            image = $imgsToLoad.first();\n            imageSource = image.attr('data-lazy');\n            imageToLoad = document.createElement('img');\n\n            imageToLoad.onload = function() {\n\n                image\n                    .attr( 'src', imageSource )\n                    .removeAttr('data-lazy')\n                    .removeClass('slick-loading');\n\n                if ( _.options.adaptiveHeight === true ) {\n                    _.setPosition();\n                }\n\n                _.$slider.trigger('lazyLoaded', [ _, image, imageSource ]);\n                _.progressiveLazyLoad();\n\n            };\n\n            imageToLoad.onerror = function() {\n\n                if ( tryCount < 3 ) {\n\n                    /**\n                     * try to load the image 3 times,\n                     * leave a slight delay so we don't get\n                     * servers blocking the request.\n                     */\n                    setTimeout( function() {\n                        _.progressiveLazyLoad( tryCount + 1 );\n                    }, 500 );\n\n                } else {\n\n                    image\n                        .removeAttr( 'data-lazy' )\n                        .removeClass( 'slick-loading' )\n                        .addClass( 'slick-lazyload-error' );\n\n                    _.$slider.trigger('lazyLoadError', [ _, image, imageSource ]);\n\n                    _.progressiveLazyLoad();\n\n                }\n\n            };\n\n            imageToLoad.src = imageSource;\n\n        } else {\n\n            _.$slider.trigger('allImagesLoaded', [ _ ]);\n\n        }\n\n    };\n\n    Slick.prototype.refresh = function( initializing ) {\n\n        var _ = this, currentSlide, lastVisibleIndex;\n\n        lastVisibleIndex = _.slideCount - _.options.slidesToShow;\n\n        // in non-infinite sliders, we don't want to go past the\n        // last visible index.\n        if( !_.options.infinite && ( _.currentSlide > lastVisibleIndex )) {\n            _.currentSlide = lastVisibleIndex;\n        }\n\n        // if less slides than to show, go to start.\n        if ( _.slideCount <= _.options.slidesToShow ) {\n            _.currentSlide = 0;\n\n        }\n\n        currentSlide = _.currentSlide;\n\n        _.destroy(true);\n\n        $.extend(_, _.initials, { currentSlide: currentSlide });\n\n        _.init();\n\n        if( !initializing ) {\n\n            _.changeSlide({\n                data: {\n                    message: 'index',\n                    index: currentSlide\n                }\n            }, false);\n\n        }\n\n    };\n\n    Slick.prototype.registerBreakpoints = function() {\n\n        var _ = this, breakpoint, currentBreakpoint, l,\n            responsiveSettings = _.options.responsive || null;\n\n        if ( $.type(responsiveSettings) === 'array' && responsiveSettings.length ) {\n\n            _.respondTo = _.options.respondTo || 'window';\n\n            for ( breakpoint in responsiveSettings ) {\n\n                l = _.breakpoints.length-1;\n                currentBreakpoint = responsiveSettings[breakpoint].breakpoint;\n\n                if (responsiveSettings.hasOwnProperty(breakpoint)) {\n\n                    // loop through the breakpoints and cut out any existing\n                    // ones with the same breakpoint number, we don't want dupes.\n                    while( l >= 0 ) {\n                        if( _.breakpoints[l] && _.breakpoints[l] === currentBreakpoint ) {\n                            _.breakpoints.splice(l,1);\n                        }\n                        l--;\n                    }\n\n                    _.breakpoints.push(currentBreakpoint);\n                    _.breakpointSettings[currentBreakpoint] = responsiveSettings[breakpoint].settings;\n\n                }\n\n            }\n\n            _.breakpoints.sort(function(a, b) {\n                return ( _.options.mobileFirst ) ? a-b : b-a;\n            });\n\n        }\n\n    };\n\n    Slick.prototype.reinit = function() {\n\n        var _ = this;\n\n        _.$slides =\n            _.$slideTrack\n                .children(_.options.slide)\n                .addClass('slick-slide');\n\n        _.slideCount = _.$slides.length;\n\n        if (_.currentSlide >= _.slideCount && _.currentSlide !== 0) {\n            _.currentSlide = _.currentSlide - _.options.slidesToScroll;\n        }\n\n        if (_.slideCount <= _.options.slidesToShow) {\n            _.currentSlide = 0;\n        }\n\n        _.registerBreakpoints();\n\n        _.setProps();\n        _.setupInfinite();\n        _.buildArrows();\n        _.updateArrows();\n        _.initArrowEvents();\n        _.buildDots();\n        _.updateDots();\n        _.initDotEvents();\n        _.cleanUpSlideEvents();\n        _.initSlideEvents();\n\n        _.checkResponsive(false, true);\n\n        if (_.options.focusOnSelect === true) {\n            $(_.$slideTrack).children().on('click.slick', _.selectHandler);\n        }\n\n        _.setSlideClasses(typeof _.currentSlide === 'number' ? _.currentSlide : 0);\n\n        _.setPosition();\n        _.focusHandler();\n\n        _.paused = !_.options.autoplay;\n        _.autoPlay();\n\n        _.$slider.trigger('reInit', [_]);\n\n    };\n\n    Slick.prototype.resize = function() {\n\n        var _ = this;\n\n        if ($(window).width() !== _.windowWidth) {\n            clearTimeout(_.windowDelay);\n            _.windowDelay = window.setTimeout(function() {\n                _.windowWidth = $(window).width();\n                _.checkResponsive();\n                if( !_.unslicked ) { _.setPosition(); }\n            }, 50);\n        }\n    };\n\n    Slick.prototype.removeSlide = Slick.prototype.slickRemove = function(index, removeBefore, removeAll) {\n\n        var _ = this;\n\n        if (typeof(index) === 'boolean') {\n            removeBefore = index;\n            index = removeBefore === true ? 0 : _.slideCount - 1;\n        } else {\n            index = removeBefore === true ? --index : index;\n        }\n\n        if (_.slideCount < 1 || index < 0 || index > _.slideCount - 1) {\n            return false;\n        }\n\n        _.unload();\n\n        if (removeAll === true) {\n            _.$slideTrack.children().remove();\n        } else {\n            _.$slideTrack.children(this.options.slide).eq(index).remove();\n        }\n\n        _.$slides = _.$slideTrack.children(this.options.slide);\n\n        _.$slideTrack.children(this.options.slide).detach();\n\n        _.$slideTrack.append(_.$slides);\n\n        _.$slidesCache = _.$slides;\n\n        _.reinit();\n\n    };\n\n    Slick.prototype.setCSS = function(position) {\n\n        var _ = this,\n            positionProps = {},\n            x, y;\n\n        if (_.options.rtl === true) {\n            position = -position;\n        }\n        x = _.positionProp == 'left' ? Math.ceil(position) + 'px' : '0px';\n        y = _.positionProp == 'top' ? Math.ceil(position) + 'px' : '0px';\n\n        positionProps[_.positionProp] = position;\n\n        if (_.transformsEnabled === false) {\n            _.$slideTrack.css(positionProps);\n        } else {\n            positionProps = {};\n            if (_.cssTransitions === false) {\n                positionProps[_.animType] = 'translate(' + x + ', ' + y + ')';\n                _.$slideTrack.css(positionProps);\n            } else {\n                positionProps[_.animType] = 'translate3d(' + x + ', ' + y + ', 0px)';\n                _.$slideTrack.css(positionProps);\n            }\n        }\n\n    };\n\n    Slick.prototype.setDimensions = function() {\n\n        var _ = this;\n\n        if (_.options.vertical === false) {\n            if (_.options.centerMode === true) {\n                _.$list.css({\n                    padding: ('0px ' + _.options.centerPadding)\n                });\n            }\n        } else {\n            _.$list.height(_.$slides.first().outerHeight(true) * _.options.slidesToShow);\n            if (_.options.centerMode === true) {\n                _.$list.css({\n                    padding: (_.options.centerPadding + ' 0px')\n                });\n            }\n        }\n\n        _.listWidth = _.$list.width();\n        _.listHeight = _.$list.height();\n\n\n        if (_.options.vertical === false && _.options.variableWidth === false) {\n            _.slideWidth = Math.ceil(_.listWidth / _.options.slidesToShow);\n            _.$slideTrack.width(Math.ceil((_.slideWidth * _.$slideTrack.children('.slick-slide').length)));\n\n        } else if (_.options.variableWidth === true) {\n            _.$slideTrack.width(5000 * _.slideCount);\n        } else {\n            _.slideWidth = Math.ceil(_.listWidth);\n            _.$slideTrack.height(Math.ceil((_.$slides.first().outerHeight(true) * _.$slideTrack.children('.slick-slide').length)));\n        }\n\n        var offset = _.$slides.first().outerWidth(true) - _.$slides.first().width();\n        if (_.options.variableWidth === false) _.$slideTrack.children('.slick-slide').width(_.slideWidth - offset);\n\n    };\n\n    Slick.prototype.setFade = function() {\n\n        var _ = this,\n            targetLeft;\n\n        _.$slides.each(function(index, element) {\n            targetLeft = (_.slideWidth * index) * -1;\n            if (_.options.rtl === true) {\n                $(element).css({\n                    position: 'relative',\n                    right: targetLeft,\n                    top: 0,\n                    zIndex: _.options.zIndex - 2,\n                    opacity: 0\n                });\n            } else {\n                $(element).css({\n                    position: 'relative',\n                    left: targetLeft,\n                    top: 0,\n                    zIndex: _.options.zIndex - 2,\n                    opacity: 0\n                });\n            }\n        });\n\n        _.$slides.eq(_.currentSlide).css({\n            zIndex: _.options.zIndex - 1,\n            opacity: 1\n        });\n\n    };\n\n    Slick.prototype.setHeight = function() {\n\n        var _ = this;\n\n        if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {\n            var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true);\n            _.$list.css('height', targetHeight);\n        }\n\n    };\n\n    Slick.prototype.setOption =\n    Slick.prototype.slickSetOption = function() {\n\n        /**\n         * accepts arguments in format of:\n         *\n         *  - for changing a single option's value:\n         *     .slick(\"setOption\", option, value, refresh )\n         *\n         *  - for changing a set of responsive options:\n         *     .slick(\"setOption\", 'responsive', [{}, ...], refresh )\n         *\n         *  - for updating multiple values at once (not responsive)\n         *     .slick(\"setOption\", { 'option': value, ... }, refresh )\n         */\n\n        var _ = this, l, item, option, value, refresh = false, type;\n\n        if( $.type( arguments[0] ) === 'object' ) {\n\n            option =  arguments[0];\n            refresh = arguments[1];\n            type = 'multiple';\n\n        } else if ( $.type( arguments[0] ) === 'string' ) {\n\n            option =  arguments[0];\n            value = arguments[1];\n            refresh = arguments[2];\n\n            if ( arguments[0] === 'responsive' && $.type( arguments[1] ) === 'array' ) {\n\n                type = 'responsive';\n\n            } else if ( typeof arguments[1] !== 'undefined' ) {\n\n                type = 'single';\n\n            }\n\n        }\n\n        if ( type === 'single' ) {\n\n            _.options[option] = value;\n\n\n        } else if ( type === 'multiple' ) {\n\n            $.each( option , function( opt, val ) {\n\n                _.options[opt] = val;\n\n            });\n\n\n        } else if ( type === 'responsive' ) {\n\n            for ( item in value ) {\n\n                if( $.type( _.options.responsive ) !== 'array' ) {\n\n                    _.options.responsive = [ value[item] ];\n\n                } else {\n\n                    l = _.options.responsive.length-1;\n\n                    // loop through the responsive object and splice out duplicates.\n                    while( l >= 0 ) {\n\n                        if( _.options.responsive[l].breakpoint === value[item].breakpoint ) {\n\n                            _.options.responsive.splice(l,1);\n\n                        }\n\n                        l--;\n\n                    }\n\n                    _.options.responsive.push( value[item] );\n\n                }\n\n            }\n\n        }\n\n        if ( refresh ) {\n\n            _.unload();\n            _.reinit();\n\n        }\n\n    };\n\n    Slick.prototype.setPosition = function() {\n\n        var _ = this;\n\n        _.setDimensions();\n\n        _.setHeight();\n\n        if (_.options.fade === false) {\n            _.setCSS(_.getLeft(_.currentSlide));\n        } else {\n            _.setFade();\n        }\n\n        _.$slider.trigger('setPosition', [_]);\n\n    };\n\n    Slick.prototype.setProps = function() {\n\n        var _ = this,\n            bodyStyle = document.body.style;\n\n        _.positionProp = _.options.vertical === true ? 'top' : 'left';\n\n        if (_.positionProp === 'top') {\n            _.$slider.addClass('slick-vertical');\n        } else {\n            _.$slider.removeClass('slick-vertical');\n        }\n\n        if (bodyStyle.WebkitTransition !== undefined ||\n            bodyStyle.MozTransition !== undefined ||\n            bodyStyle.msTransition !== undefined) {\n            if (_.options.useCSS === true) {\n                _.cssTransitions = true;\n            }\n        }\n\n        if ( _.options.fade ) {\n            if ( typeof _.options.zIndex === 'number' ) {\n                if( _.options.zIndex < 3 ) {\n                    _.options.zIndex = 3;\n                }\n            } else {\n                _.options.zIndex = _.defaults.zIndex;\n            }\n        }\n\n        if (bodyStyle.OTransform !== undefined) {\n            _.animType = 'OTransform';\n            _.transformType = '-o-transform';\n            _.transitionType = 'OTransition';\n            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;\n        }\n        if (bodyStyle.MozTransform !== undefined) {\n            _.animType = 'MozTransform';\n            _.transformType = '-moz-transform';\n            _.transitionType = 'MozTransition';\n            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.MozPerspective === undefined) _.animType = false;\n        }\n        if (bodyStyle.webkitTransform !== undefined) {\n            _.animType = 'webkitTransform';\n            _.transformType = '-webkit-transform';\n            _.transitionType = 'webkitTransition';\n            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;\n        }\n        if (bodyStyle.msTransform !== undefined) {\n            _.animType = 'msTransform';\n            _.transformType = '-ms-transform';\n            _.transitionType = 'msTransition';\n            if (bodyStyle.msTransform === undefined) _.animType = false;\n        }\n        if (bodyStyle.transform !== undefined && _.animType !== false) {\n            _.animType = 'transform';\n            _.transformType = 'transform';\n            _.transitionType = 'transition';\n        }\n        _.transformsEnabled = _.options.useTransform && (_.animType !== null && _.animType !== false);\n    };\n\n\n    Slick.prototype.setSlideClasses = function(index) {\n\n        var _ = this,\n            centerOffset, allSlides, indexOffset, remainder;\n\n        allSlides = _.$slider\n            .find('.slick-slide')\n            .removeClass('slick-active slick-center slick-current')\n            .attr('aria-hidden', 'true');\n\n        _.$slides\n            .eq(index)\n            .addClass('slick-current');\n\n        if (_.options.centerMode === true) {\n\n            centerOffset = Math.floor(_.options.slidesToShow / 2);\n\n            if (_.options.infinite === true) {\n\n                if (index >= centerOffset && index <= (_.slideCount - 1) - centerOffset) {\n\n                    _.$slides\n                        .slice(index - centerOffset, index + centerOffset + 1)\n                        .addClass('slick-active')\n                        .attr('aria-hidden', 'false');\n\n                } else {\n\n                    indexOffset = _.options.slidesToShow + index;\n                    allSlides\n                        .slice(indexOffset - centerOffset + 1, indexOffset + centerOffset + 2)\n                        .addClass('slick-active')\n                        .attr('aria-hidden', 'false');\n\n                }\n\n                if (index === 0) {\n\n                    allSlides\n                        .eq(allSlides.length - 1 - _.options.slidesToShow)\n                        .addClass('slick-center');\n\n                } else if (index === _.slideCount - 1) {\n\n                    allSlides\n                        .eq(_.options.slidesToShow)\n                        .addClass('slick-center');\n\n                }\n\n            }\n\n            _.$slides\n                .eq(index)\n                .addClass('slick-center');\n\n        } else {\n\n            if (index >= 0 && index <= (_.slideCount - _.options.slidesToShow)) {\n\n                _.$slides\n                    .slice(index, index + _.options.slidesToShow)\n                    .addClass('slick-active')\n                    .attr('aria-hidden', 'false');\n\n            } else if (allSlides.length <= _.options.slidesToShow) {\n\n                allSlides\n                    .addClass('slick-active')\n                    .attr('aria-hidden', 'false');\n\n            } else {\n\n                remainder = _.slideCount % _.options.slidesToShow;\n                indexOffset = _.options.infinite === true ? _.options.slidesToShow + index : index;\n\n                if (_.options.slidesToShow == _.options.slidesToScroll && (_.slideCount - index) < _.options.slidesToShow) {\n\n                    allSlides\n                        .slice(indexOffset - (_.options.slidesToShow - remainder), indexOffset + remainder)\n                        .addClass('slick-active')\n                        .attr('aria-hidden', 'false');\n\n                } else {\n\n                    allSlides\n                        .slice(indexOffset, indexOffset + _.options.slidesToShow)\n                        .addClass('slick-active')\n                        .attr('aria-hidden', 'false');\n\n                }\n\n            }\n\n        }\n\n        if (_.options.lazyLoad === 'ondemand') {\n            _.lazyLoad();\n        }\n\n    };\n\n    Slick.prototype.setupInfinite = function() {\n\n        var _ = this,\n            i, slideIndex, infiniteCount;\n\n        if (_.options.fade === true) {\n            _.options.centerMode = false;\n        }\n\n        if (_.options.infinite === true && _.options.fade === false) {\n\n            slideIndex = null;\n\n            if (_.slideCount > _.options.slidesToShow) {\n\n                if (_.options.centerMode === true) {\n                    infiniteCount = _.options.slidesToShow + 1;\n                } else {\n                    infiniteCount = _.options.slidesToShow;\n                }\n\n                for (i = _.slideCount; i > (_.slideCount -\n                        infiniteCount); i -= 1) {\n                    slideIndex = i - 1;\n                    $(_.$slides[slideIndex]).clone(true).attr('id', '')\n                        .attr('data-slick-index', slideIndex - _.slideCount)\n                        .prependTo(_.$slideTrack).addClass('slick-cloned');\n                }\n                for (i = 0; i < infiniteCount; i += 1) {\n                    slideIndex = i;\n                    $(_.$slides[slideIndex]).clone(true).attr('id', '')\n                        .attr('data-slick-index', slideIndex + _.slideCount)\n                        .appendTo(_.$slideTrack).addClass('slick-cloned');\n                }\n                _.$slideTrack.find('.slick-cloned').find('[id]').each(function() {\n                    $(this).attr('id', '');\n                });\n\n            }\n\n        }\n\n    };\n\n    Slick.prototype.interrupt = function( toggle ) {\n\n        var _ = this;\n\n        if( !toggle ) {\n            _.autoPlay();\n        }\n        _.interrupted = toggle;\n\n    };\n\n    Slick.prototype.selectHandler = function(event) {\n\n        var _ = this;\n\n        var targetElement =\n            $(event.target).is('.slick-slide') ?\n                $(event.target) :\n                $(event.target).parents('.slick-slide');\n\n        var index = parseInt(targetElement.attr('data-slick-index'));\n\n        if (!index) index = 0;\n\n        if (_.slideCount <= _.options.slidesToShow) {\n\n            _.setSlideClasses(index);\n            _.asNavFor(index);\n            return;\n\n        }\n\n        _.slideHandler(index);\n\n    };\n\n    Slick.prototype.slideHandler = function(index, sync, dontAnimate) {\n\n        var targetSlide, animSlide, oldSlide, slideLeft, targetLeft = null,\n            _ = this, navTarget;\n\n        sync = sync || false;\n\n        if (_.animating === true && _.options.waitForAnimate === true) {\n            return;\n        }\n\n        if (_.options.fade === true && _.currentSlide === index) {\n            return;\n        }\n\n        if (_.slideCount <= _.options.slidesToShow) {\n            return;\n        }\n\n        if (sync === false) {\n            _.asNavFor(index);\n        }\n\n        targetSlide = index;\n        targetLeft = _.getLeft(targetSlide);\n        slideLeft = _.getLeft(_.currentSlide);\n\n        _.currentLeft = _.swipeLeft === null ? slideLeft : _.swipeLeft;\n\n        if (_.options.infinite === false && _.options.centerMode === false && (index < 0 || index > _.getDotCount() * _.options.slidesToScroll)) {\n            if (_.options.fade === false) {\n                targetSlide = _.currentSlide;\n                if (dontAnimate !== true) {\n                    _.animateSlide(slideLeft, function() {\n                        _.postSlide(targetSlide);\n                    });\n                } else {\n                    _.postSlide(targetSlide);\n                }\n            }\n            return;\n        } else if (_.options.infinite === false && _.options.centerMode === true && (index < 0 || index > (_.slideCount - _.options.slidesToScroll))) {\n            if (_.options.fade === false) {\n                targetSlide = _.currentSlide;\n                if (dontAnimate !== true) {\n                    _.animateSlide(slideLeft, function() {\n                        _.postSlide(targetSlide);\n                    });\n                } else {\n                    _.postSlide(targetSlide);\n                }\n            }\n            return;\n        }\n\n        if ( _.options.autoplay ) {\n            clearInterval(_.autoPlayTimer);\n        }\n\n        if (targetSlide < 0) {\n            if (_.slideCount % _.options.slidesToScroll !== 0) {\n                animSlide = _.slideCount - (_.slideCount % _.options.slidesToScroll);\n            } else {\n                animSlide = _.slideCount + targetSlide;\n            }\n        } else if (targetSlide >= _.slideCount) {\n            if (_.slideCount % _.options.slidesToScroll !== 0) {\n                animSlide = 0;\n            } else {\n                animSlide = targetSlide - _.slideCount;\n            }\n        } else {\n            animSlide = targetSlide;\n        }\n\n        _.animating = true;\n\n        _.$slider.trigger('beforeChange', [_, _.currentSlide, animSlide]);\n\n        oldSlide = _.currentSlide;\n        _.currentSlide = animSlide;\n\n        _.setSlideClasses(_.currentSlide);\n\n        if ( _.options.asNavFor ) {\n\n            navTarget = _.getNavTarget();\n            navTarget = navTarget.slick('getSlick');\n\n            if ( navTarget.slideCount <= navTarget.options.slidesToShow ) {\n                navTarget.setSlideClasses(_.currentSlide);\n            }\n\n        }\n\n        _.updateDots();\n        _.updateArrows();\n\n        if (_.options.fade === true) {\n            if (dontAnimate !== true) {\n\n                _.fadeSlideOut(oldSlide);\n\n                _.fadeSlide(animSlide, function() {\n                    _.postSlide(animSlide);\n                });\n\n            } else {\n                _.postSlide(animSlide);\n            }\n            _.animateHeight();\n            return;\n        }\n\n        if (dontAnimate !== true) {\n            _.animateSlide(targetLeft, function() {\n                _.postSlide(animSlide);\n            });\n        } else {\n            _.postSlide(animSlide);\n        }\n\n    };\n\n    Slick.prototype.startLoad = function() {\n\n        var _ = this;\n\n        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {\n\n            _.$prevArrow.hide();\n            _.$nextArrow.hide();\n\n        }\n\n        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {\n\n            _.$dots.hide();\n\n        }\n\n        _.$slider.addClass('slick-loading');\n\n    };\n\n    Slick.prototype.swipeDirection = function() {\n\n        var xDist, yDist, r, swipeAngle, _ = this;\n\n        xDist = _.touchObject.startX - _.touchObject.curX;\n        yDist = _.touchObject.startY - _.touchObject.curY;\n        r = Math.atan2(yDist, xDist);\n\n        swipeAngle = Math.round(r * 180 / Math.PI);\n        if (swipeAngle < 0) {\n            swipeAngle = 360 - Math.abs(swipeAngle);\n        }\n\n        if ((swipeAngle <= 45) && (swipeAngle >= 0)) {\n            return (_.options.rtl === false ? 'left' : 'right');\n        }\n        if ((swipeAngle <= 360) && (swipeAngle >= 315)) {\n            return (_.options.rtl === false ? 'left' : 'right');\n        }\n        if ((swipeAngle >= 135) && (swipeAngle <= 225)) {\n            return (_.options.rtl === false ? 'right' : 'left');\n        }\n        if (_.options.verticalSwiping === true) {\n            if ((swipeAngle >= 35) && (swipeAngle <= 135)) {\n                return 'down';\n            } else {\n                return 'up';\n            }\n        }\n\n        return 'vertical';\n\n    };\n\n    Slick.prototype.swipeEnd = function(event) {\n\n        var _ = this,\n            slideCount,\n            direction;\n\n        _.dragging = false;\n        _.interrupted = false;\n        _.shouldClick = ( _.touchObject.swipeLength > 10 ) ? false : true;\n\n        if ( _.touchObject.curX === undefined ) {\n            return false;\n        }\n\n        if ( _.touchObject.edgeHit === true ) {\n            _.$slider.trigger('edge', [_, _.swipeDirection() ]);\n        }\n\n        if ( _.touchObject.swipeLength >= _.touchObject.minSwipe ) {\n\n            direction = _.swipeDirection();\n\n            switch ( direction ) {\n\n                case 'left':\n                case 'down':\n\n                    slideCount =\n                        _.options.swipeToSlide ?\n                            _.checkNavigable( _.currentSlide + _.getSlideCount() ) :\n                            _.currentSlide + _.getSlideCount();\n\n                    _.currentDirection = 0;\n\n                    break;\n\n                case 'right':\n                case 'up':\n\n                    slideCount =\n                        _.options.swipeToSlide ?\n                            _.checkNavigable( _.currentSlide - _.getSlideCount() ) :\n                            _.currentSlide - _.getSlideCount();\n\n                    _.currentDirection = 1;\n\n                    break;\n\n                default:\n\n\n            }\n\n            if( direction != 'vertical' ) {\n\n                _.slideHandler( slideCount );\n                _.touchObject = {};\n                _.$slider.trigger('swipe', [_, direction ]);\n\n            }\n\n        } else {\n\n            if ( _.touchObject.startX !== _.touchObject.curX ) {\n\n                _.slideHandler( _.currentSlide );\n                _.touchObject = {};\n\n            }\n\n        }\n\n    };\n\n    Slick.prototype.swipeHandler = function(event) {\n\n        var _ = this;\n\n        if ((_.options.swipe === false) || ('ontouchend' in document && _.options.swipe === false)) {\n            return;\n        } else if (_.options.draggable === false && event.type.indexOf('mouse') !== -1) {\n            return;\n        }\n\n        _.touchObject.fingerCount = event.originalEvent && event.originalEvent.touches !== undefined ?\n            event.originalEvent.touches.length : 1;\n\n        _.touchObject.minSwipe = _.listWidth / _.options\n            .touchThreshold;\n\n        if (_.options.verticalSwiping === true) {\n            _.touchObject.minSwipe = _.listHeight / _.options\n                .touchThreshold;\n        }\n\n        switch (event.data.action) {\n\n            case 'start':\n                _.swipeStart(event);\n                break;\n\n            case 'move':\n                _.swipeMove(event);\n                break;\n\n            case 'end':\n                _.swipeEnd(event);\n                break;\n\n        }\n\n    };\n\n    Slick.prototype.swipeMove = function(event) {\n\n        var _ = this,\n            edgeWasHit = false,\n            curLeft, swipeDirection, swipeLength, positionOffset, touches;\n\n        touches = event.originalEvent !== undefined ? event.originalEvent.touches : null;\n\n        if (!_.dragging || touches && touches.length !== 1) {\n            return false;\n        }\n\n        curLeft = _.getLeft(_.currentSlide);\n\n        _.touchObject.curX = touches !== undefined ? touches[0].pageX : event.clientX;\n        _.touchObject.curY = touches !== undefined ? touches[0].pageY : event.clientY;\n\n        _.touchObject.swipeLength = Math.round(Math.sqrt(\n            Math.pow(_.touchObject.curX - _.touchObject.startX, 2)));\n\n        if (_.options.verticalSwiping === true) {\n            _.touchObject.swipeLength = Math.round(Math.sqrt(\n                Math.pow(_.touchObject.curY - _.touchObject.startY, 2)));\n        }\n\n        swipeDirection = _.swipeDirection();\n\n        if (swipeDirection === 'vertical') {\n            return;\n        }\n\n        if (event.originalEvent !== undefined && _.touchObject.swipeLength > 4) {\n            event.preventDefault();\n        }\n\n        positionOffset = (_.options.rtl === false ? 1 : -1) * (_.touchObject.curX > _.touchObject.startX ? 1 : -1);\n        if (_.options.verticalSwiping === true) {\n            positionOffset = _.touchObject.curY > _.touchObject.startY ? 1 : -1;\n        }\n\n\n        swipeLength = _.touchObject.swipeLength;\n\n        _.touchObject.edgeHit = false;\n\n        if (_.options.infinite === false) {\n            if ((_.currentSlide === 0 && swipeDirection === 'right') || (_.currentSlide >= _.getDotCount() && swipeDirection === 'left')) {\n                swipeLength = _.touchObject.swipeLength * _.options.edgeFriction;\n                _.touchObject.edgeHit = true;\n            }\n        }\n\n        if (_.options.vertical === false) {\n            _.swipeLeft = curLeft + swipeLength * positionOffset;\n        } else {\n            _.swipeLeft = curLeft + (swipeLength * (_.$list.height() / _.listWidth)) * positionOffset;\n        }\n        if (_.options.verticalSwiping === true) {\n            _.swipeLeft = curLeft + swipeLength * positionOffset;\n        }\n\n        if (_.options.fade === true || _.options.touchMove === false) {\n            return false;\n        }\n\n        if (_.animating === true) {\n            _.swipeLeft = null;\n            return false;\n        }\n\n        _.setCSS(_.swipeLeft);\n\n    };\n\n    Slick.prototype.swipeStart = function(event) {\n\n        var _ = this,\n            touches;\n\n        _.interrupted = true;\n\n        if (_.touchObject.fingerCount !== 1 || _.slideCount <= _.options.slidesToShow) {\n            _.touchObject = {};\n            return false;\n        }\n\n        if (event.originalEvent !== undefined && event.originalEvent.touches !== undefined) {\n            touches = event.originalEvent.touches[0];\n        }\n\n        _.touchObject.startX = _.touchObject.curX = touches !== undefined ? touches.pageX : event.clientX;\n        _.touchObject.startY = _.touchObject.curY = touches !== undefined ? touches.pageY : event.clientY;\n\n        _.dragging = true;\n\n    };\n\n    Slick.prototype.unfilterSlides = Slick.prototype.slickUnfilter = function() {\n\n        var _ = this;\n\n        if (_.$slidesCache !== null) {\n\n            _.unload();\n\n            _.$slideTrack.children(this.options.slide).detach();\n\n            _.$slidesCache.appendTo(_.$slideTrack);\n\n            _.reinit();\n\n        }\n\n    };\n\n    Slick.prototype.unload = function() {\n\n        var _ = this;\n\n        $('.slick-cloned', _.$slider).remove();\n\n        if (_.$dots) {\n            _.$dots.remove();\n        }\n\n        if (_.$prevArrow && _.htmlExpr.test(_.options.prevArrow)) {\n            _.$prevArrow.remove();\n        }\n\n        if (_.$nextArrow && _.htmlExpr.test(_.options.nextArrow)) {\n            _.$nextArrow.remove();\n        }\n\n        _.$slides\n            .removeClass('slick-slide slick-active slick-visible slick-current')\n            .attr('aria-hidden', 'true')\n            .css('width', '');\n\n    };\n\n    Slick.prototype.unslick = function(fromBreakpoint) {\n\n        var _ = this;\n        _.$slider.trigger('unslick', [_, fromBreakpoint]);\n        _.destroy();\n\n    };\n\n    Slick.prototype.updateArrows = function() {\n\n        var _ = this,\n            centerOffset;\n\n        centerOffset = Math.floor(_.options.slidesToShow / 2);\n\n        if ( _.options.arrows === true &&\n            _.slideCount > _.options.slidesToShow &&\n            !_.options.infinite ) {\n\n            _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');\n            _.$nextArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');\n\n            if (_.currentSlide === 0) {\n\n                _.$prevArrow.addClass('slick-disabled').attr('aria-disabled', 'true');\n                _.$nextArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');\n\n            } else if (_.currentSlide >= _.slideCount - _.options.slidesToShow && _.options.centerMode === false) {\n\n                _.$nextArrow.addClass('slick-disabled').attr('aria-disabled', 'true');\n                _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');\n\n            } else if (_.currentSlide >= _.slideCount - 1 && _.options.centerMode === true) {\n\n                _.$nextArrow.addClass('slick-disabled').attr('aria-disabled', 'true');\n                _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');\n\n            }\n\n        }\n\n    };\n\n    Slick.prototype.updateDots = function() {\n\n        var _ = this;\n\n        if (_.$dots !== null) {\n\n            _.$dots\n                .find('li')\n                .removeClass('slick-active')\n                .attr('aria-hidden', 'true');\n\n            _.$dots\n                .find('li')\n                .eq(Math.floor(_.currentSlide / _.options.slidesToScroll))\n                .addClass('slick-active')\n                .attr('aria-hidden', 'false');\n\n        }\n\n    };\n\n    Slick.prototype.visibility = function() {\n\n        var _ = this;\n\n        if ( _.options.autoplay ) {\n\n            if ( document[_.hidden] ) {\n\n                _.interrupted = true;\n\n            } else {\n\n                _.interrupted = false;\n\n            }\n\n        }\n\n    };\n\n    $.fn.slick = function() {\n        var _ = this,\n            opt = arguments[0],\n            args = Array.prototype.slice.call(arguments, 1),\n            l = _.length,\n            i,\n            ret;\n        for (i = 0; i < l; i++) {\n            if (typeof opt == 'object' || typeof opt == 'undefined')\n                _[i].slick = new Slick(_[i], opt);\n            else\n                ret = _[i].slick[opt].apply(_[i].slick, args);\n            if (typeof ret != 'undefined') return ret;\n        }\n        return _;\n    };\n\n}));\n\n},{\"jquery\":52}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHBcXHNjcmlwdHNcXGFwcC5qcyIsImFwcFxcc2NyaXB0c1xcY29tcG9uZW50c1xcYW5jaG9yLW1lbnUuanMiLCJhcHBcXHNjcmlwdHNcXGNvbXBvbmVudHNcXGNhcm91c2VsLmpzIiwiYXBwXFxzY3JpcHRzXFxjb21wb25lbnRzXFxjb2xsYXBzZS1waGkuanMiLCJhcHBcXHNjcmlwdHNcXGNvbXBvbmVudHNcXGNvbGxhcHNpYmxlLWJveC5qcyIsImFwcFxcc2NyaXB0c1xcY29tcG9uZW50c1xcY291cG9uLmpzIiwiYXBwXFxzY3JpcHRzXFxjb21wb25lbnRzXFxkYWlseS1mZWVkaW5nLmpzIiwiYXBwXFxzY3JpcHRzXFxjb21wb25lbnRzXFxmaWx0ZXItcHJvZHVjdC5qcyIsImFwcFxcc2NyaXB0c1xcY29tcG9uZW50c1xcZm9ybVxcZGF0ZS12YWxpZGF0aW9uLmpzIiwiYXBwXFxzY3JpcHRzXFxjb21wb25lbnRzXFxmb3JtXFxmb3JtLXZhbGlkYXRpb24uanMiLCJhcHBcXHNjcmlwdHNcXGNvbXBvbmVudHNcXGZvdW5kYXRpb24tZGF0ZXBpY2tlci5qcyIsImFwcFxcc2NyaXB0c1xcY29tcG9uZW50c1xcbG9hZC1tb3JlLmpzIiwiYXBwXFxzY3JpcHRzXFxjb21wb25lbnRzXFxsb2dpbi5qcyIsImFwcFxcc2NyaXB0c1xcY29tcG9uZW50c1xcbWJnXFxtYmcuanMiLCJhcHBcXHNjcmlwdHNcXGNvbXBvbmVudHNcXG5hdmJhci1tb2JpbGUuanMiLCJhcHBcXHNjcmlwdHNcXGNvbXBvbmVudHNcXG9mZmVycy1jYXJvdXNlbC5qcyIsImFwcFxcc2NyaXB0c1xcY29tcG9uZW50c1xccG9waW4tbG9naW4uanMiLCJhcHBcXHNjcmlwdHNcXGNvbXBvbmVudHNcXHBvcGluLmpzIiwiYXBwXFxzY3JpcHRzXFxjb21wb25lbnRzXFxwcm9kdWN0LWJveC5qcyIsImFwcFxcc2NyaXB0c1xcY29tcG9uZW50c1xccHJvZHVjdC1zbGlkZXItY2Fyb3VzZWwuanMiLCJhcHBcXHNjcmlwdHNcXGNvbXBvbmVudHNcXHByb2ZpbGUuanMiLCJhcHBcXHNjcmlwdHNcXGNvbXBvbmVudHNcXHJlZ2lzdHJhdGlvblxcYWRkLWFub3RoZXItcGV0LmpzIiwiYXBwXFxzY3JpcHRzXFxjb21wb25lbnRzXFxyZWdpc3RyYXRpb25cXGJyZWVkLmpzIiwiYXBwXFxzY3JpcHRzXFxjb21wb25lbnRzXFxyZWdpc3RyYXRpb25cXHBldC1nZW5kZXIuanMiLCJhcHBcXHNjcmlwdHNcXGNvbXBvbmVudHNcXHJlZ2lzdHJhdGlvblxccGV0LXR5cGVzLmpzIiwiYXBwXFxzY3JpcHRzXFxjb21wb25lbnRzXFxyZWdpc3RyYXRpb25cXHJlZ2lzdHJhdGlvbi1zdWJtaXQuanMiLCJhcHBcXHNjcmlwdHNcXGNvbXBvbmVudHNcXHJlc2V0LXBhc3N3b3JkXFxyZXNldC1wYXNzd29yZC5qcyIsImFwcFxcc2NyaXB0c1xcY29tcG9uZW50c1xcc2xpZGVyLmpzIiwiYXBwXFxzY3JpcHRzXFxjb21wb25lbnRzXFx0aHVtYm5haWwtYm94LmpzIiwiYXBwXFxzY3JpcHRzXFxjb21wb25lbnRzXFx1cGxvYWQtaW1nLmpzIiwiYXBwXFxzY3JpcHRzXFxjb21wb25lbnRzXFx1dGlscy5qcyIsImFwcFxcc2NyaXB0c1xcZ3RtXFxjb3Vwb24uanMiLCJhcHBcXHNjcmlwdHNcXGd0bVxcZm9ybXMtZm9jdXMuanMiLCJhcHBcXHNjcmlwdHNcXGd0bVxcbG9naW4tY3JlYXRlLWFjY291bnQuanMiLCJhcHBcXHNjcmlwdHNcXGd0bVxcc2FtcGxlLmpzIiwiYXBwXFxzY3JpcHRzXFxqcXVlcnktZ2xvYmFsLmpzIiwiYXBwXFxzY3JpcHRzXFxtb21lbnQtY29uZmlnLmpzIiwiYm93ZXJfY29tcG9uZW50c1xccGFyc2xleWpzXFxkaXN0XFxib3dlcl9jb21wb25lbnRzXFxwYXJzbGV5anNcXGRpc3RcXHBhcnNsZXkuanMiLCJub2RlX21vZHVsZXMvZGV2YnJpZGdlLWF1dG9jb21wbGV0ZS9kaXN0L2pxdWVyeS5hdXRvY29tcGxldGUuanMiLCJub2RlX21vZHVsZXMvZm91bmRhdGlvbi1kYXRlcGlja2VyL2pzL2ZvdW5kYXRpb24tZGF0ZXBpY2tlci5qcyIsIm5vZGVfbW9kdWxlcy9mb3VuZGF0aW9uLWRhdGVwaWNrZXIvanMvbG9jYWxlcy9mb3VuZGF0aW9uLWRhdGVwaWNrZXIuZGUuanMiLCJub2RlX21vZHVsZXMvZm91bmRhdGlvbi1kYXRlcGlja2VyL2pzL2xvY2FsZXMvZm91bmRhdGlvbi1kYXRlcGlja2VyLmZyLmpzIiwibm9kZV9tb2R1bGVzL2ZvdW5kYXRpb24tZGF0ZXBpY2tlci9qcy9sb2NhbGVzL2ZvdW5kYXRpb24tZGF0ZXBpY2tlci5ubC5qcyIsIm5vZGVfbW9kdWxlcy9mb3VuZGF0aW9uLWRhdGVwaWNrZXIvanMvbG9jYWxlcy9mb3VuZGF0aW9uLWRhdGVwaWNrZXIucGwuanMiLCJub2RlX21vZHVsZXNcXGZvdW5kYXRpb24tc2l0ZXNcXGpzXFxmb3VuZGF0aW9uLmNvcmUuanMiLCJub2RlX21vZHVsZXNcXGZvdW5kYXRpb24tc2l0ZXNcXGpzXFxmb3VuZGF0aW9uLnNsaWRlci5qcyIsIm5vZGVfbW9kdWxlc1xcZm91bmRhdGlvbi1zaXRlc1xcanNcXGZvdW5kYXRpb24udXRpbC5rZXlib2FyZC5qcyIsIm5vZGVfbW9kdWxlc1xcZm91bmRhdGlvbi1zaXRlc1xcanNcXGZvdW5kYXRpb24udXRpbC5tZWRpYVF1ZXJ5LmpzIiwibm9kZV9tb2R1bGVzXFxmb3VuZGF0aW9uLXNpdGVzXFxqc1xcZm91bmRhdGlvbi51dGlsLm1vdGlvbi5qcyIsIm5vZGVfbW9kdWxlc1xcZm91bmRhdGlvbi1zaXRlc1xcanNcXGZvdW5kYXRpb24udXRpbC50b3VjaC5qcyIsIm5vZGVfbW9kdWxlc1xcZm91bmRhdGlvbi1zaXRlc1xcanNcXGZvdW5kYXRpb24udXRpbC50cmlnZ2Vycy5qcyIsIm5vZGVfbW9kdWxlcy9qcXVlcnkvZGlzdC9qcXVlcnkuanMiLCJub2RlX21vZHVsZXMvbWFnbmlmaWMtcG9wdXAvZGlzdC9qcXVlcnkubWFnbmlmaWMtcG9wdXAuanMiLCJub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9mci5qcyIsIm5vZGVfbW9kdWxlcy9tb21lbnQvbW9tZW50LmpzIiwibm9kZV9tb2R1bGVzL3NsaWNrLWNhcm91c2VsL3NsaWNrL3NsaWNrLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7OztBQ0FBOztBQUNBOztBQUdBOztBQUNBOztBQUdBOztBQUdBOztBQUdBOztBQUNBOztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUdBOztBQUdBOztBQUNBOztBQUNBOztBQUNBOztBQUdBOztBQUdBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7QUFDQTs7OztBQUNBOzs7O0FBR0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBRUE7Ozs7QUFDQTs7QUFHQTs7OztBQUNBOzs7O0FBSUE7O0FBR0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7OztBQTNFQTs7O0FBSUE7OztBQUdBOzs7QUFHQTs7QUFHQTs7O0FBT0E7OztBQUdBOzs7QUFNQTs7O0FBR0E7OztBQXVCQTs7O0FBUUE7OztBQUtBOzs7QUFHQTs7O0lBT2EsSSxXQUFBLEksR0FFWCxnQkFBYztBQUFBOztBQUNaLHVCQUFXLElBQVg7QUFDQSxrQkFBTSxJQUFOO0FBQ0EscUJBQVMsSUFBVDtBQUNBLDJCQUFlLElBQWY7QUFDQSwwQkFBYyxJQUFkO0FBQ0EsdUJBQVcsSUFBWDtBQUNBLHlCQUFhLElBQWI7QUFDQSwyQkFBZSxJQUFmO0FBQ0EscUJBQVMsSUFBVDtBQUNBLHVCQUFXLElBQVg7QUFDQSx5QkFBYSxJQUFiO0FBQ0Esd0JBQVksSUFBWjtBQUNBLGtDQUFjLElBQWQ7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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3orQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDaFFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdCtSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbjBEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN3NJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgJy4vanF1ZXJ5LWdsb2JhbC5qcyc7XHJcbmltcG9ydCAnLi9tb21lbnQtY29uZmlnLmpzJztcclxuXHJcbi8vIGltcG9ydCB2ZW5kb3JzXHJcbmltcG9ydCAnc2xpY2stY2Fyb3VzZWwnO1xyXG5pbXBvcnQgJ21hZ25pZmljLXBvcHVwJztcclxuXHJcbi8vIGltcG9ydCBwYXJzbGV5IGpzXHJcbmltcG9ydCAnLi4vLi4vYm93ZXJfY29tcG9uZW50cy9wYXJzbGV5anMvZGlzdC9wYXJzbGV5LmpzJztcclxuXHJcbi8vIGltcG9ydCBhdXRvY29tcGxldGUganF1ZXJ5XHJcbmltcG9ydCAnZGV2YnJpZGdlLWF1dG9jb21wbGV0ZSc7XHJcblxyXG4vLyBpbXBvcnQgRm91bmRhdGlvbiBKUyB1dGlsaXRpZXNcclxuaW1wb3J0ICdmb3VuZGF0aW9uLXNpdGVzL2pzL2ZvdW5kYXRpb24uY29yZSc7XHJcbmltcG9ydCAnZm91bmRhdGlvbi1zaXRlcy9qcy9mb3VuZGF0aW9uLnV0aWwubWVkaWFRdWVyeSc7XHJcbi8vIEZvdW5kYXRpb24gYmFzZSBwbHVnaW5zXHJcbmltcG9ydCAnZm91bmRhdGlvbi1zaXRlcy9qcy9mb3VuZGF0aW9uLnNsaWRlcic7XHJcbmltcG9ydCAnZm91bmRhdGlvbi1zaXRlcy9qcy9mb3VuZGF0aW9uLnV0aWwubW90aW9uJztcclxuaW1wb3J0ICdmb3VuZGF0aW9uLXNpdGVzL2pzL2ZvdW5kYXRpb24udXRpbC50cmlnZ2Vycyc7XHJcbmltcG9ydCAnZm91bmRhdGlvbi1zaXRlcy9qcy9mb3VuZGF0aW9uLnV0aWwua2V5Ym9hcmQnO1xyXG5pbXBvcnQgJ2ZvdW5kYXRpb24tc2l0ZXMvanMvZm91bmRhdGlvbi51dGlsLnRvdWNoJztcclxuXHJcbi8vIEZvdW5kYXRpb24gZm91bmRhdGlvbi1kYXRlcGlja2VyXHJcbmltcG9ydCAnZm91bmRhdGlvbi1kYXRlcGlja2VyL2pzL2ZvdW5kYXRpb24tZGF0ZXBpY2tlcic7XHJcblxyXG4vLyBGb3VuZGF0aW9uIGZvdW5kYXRpb24tZGF0ZXBpY2tlciBsYW5nXHJcbmltcG9ydCAnZm91bmRhdGlvbi1kYXRlcGlja2VyL2pzL2xvY2FsZXMvZm91bmRhdGlvbi1kYXRlcGlja2VyLmRlJztcclxuaW1wb3J0ICdmb3VuZGF0aW9uLWRhdGVwaWNrZXIvanMvbG9jYWxlcy9mb3VuZGF0aW9uLWRhdGVwaWNrZXIuZnInO1xyXG5pbXBvcnQgJ2ZvdW5kYXRpb24tZGF0ZXBpY2tlci9qcy9sb2NhbGVzL2ZvdW5kYXRpb24tZGF0ZXBpY2tlci5ubCc7XHJcbmltcG9ydCAnZm91bmRhdGlvbi1kYXRlcGlja2VyL2pzL2xvY2FsZXMvZm91bmRhdGlvbi1kYXRlcGlja2VyLnBsJztcclxuXHJcbi8vIEZvdW5kYXRpb24gZm91bmRhdGlvbi1kYXRlcGlja2VyIGltcGxcclxuaW1wb3J0ICcuL2NvbXBvbmVudHMvZm91bmRhdGlvbi1kYXRlcGlja2VyJztcclxuXHJcbi8vIGltcG9ydCBqcyBBcHAgY29tcG9uZW50c1xyXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi9jb21wb25lbnRzL3V0aWxzLmpzJztcclxuaW1wb3J0IENhcm91c2VsIGZyb20gJy4vY29tcG9uZW50cy9jYXJvdXNlbC5qcyc7XHJcbmltcG9ydCBGaWx0ZXJQcm9kdWN0IGZyb20gJy4vY29tcG9uZW50cy9maWx0ZXItcHJvZHVjdC5qcyc7XHJcbmltcG9ydCBBbmNob3JNZW51IGZyb20gJy4vY29tcG9uZW50cy9hbmNob3ItbWVudS5qcyc7XHJcbmltcG9ydCBUaHVtYm5haWxCb3ggZnJvbSAnLi9jb21wb25lbnRzL3RodW1ibmFpbC1ib3guanMnO1xyXG5pbXBvcnQgQ29sbGFwc2libGVCb3ggZnJvbSAnLi9jb21wb25lbnRzL2NvbGxhcHNpYmxlLWJveC5qcyc7XHJcbmltcG9ydCBMb2FkTW9yZSBmcm9tICcuL2NvbXBvbmVudHMvbG9hZC1tb3JlLmpzJztcclxuaW1wb3J0IFBvcHVwIGZyb20gJy4vY29tcG9uZW50cy9wb3Bpbi5qcyc7XHJcbmltcG9ydCBQcm9kdWN0Qm94IGZyb20gJy4vY29tcG9uZW50cy9wcm9kdWN0LWJveC5qcyc7XHJcbmltcG9ydCBEYWlseUZlZWRpbmcgZnJvbSAnLi9jb21wb25lbnRzL2RhaWx5LWZlZWRpbmcnO1xyXG5pbXBvcnQgT2ZmZXJzQ2Fyb3VzZWwgZnJvbSAnLi9jb21wb25lbnRzL29mZmVycy1jYXJvdXNlbCc7XHJcbmltcG9ydCBDb2xsYXBzZVBoaSBmcm9tICcuL2NvbXBvbmVudHMvY29sbGFwc2UtcGhpJztcclxuaW1wb3J0IFByb2R1Y3RTbGlkZXIgZnJvbSAnLi9jb21wb25lbnRzL3Byb2R1Y3Qtc2xpZGVyLWNhcm91c2VsJztcclxuaW1wb3J0IE5hdmJhck1vYmlsZSBmcm9tICcuL2NvbXBvbmVudHMvbmF2YmFyLW1vYmlsZSc7XHJcbmltcG9ydCAnLi9jb21wb25lbnRzL3Byb2ZpbGUnO1xyXG5pbXBvcnQgU2xpZGVyIGZyb20gJy4vY29tcG9uZW50cy9zbGlkZXInO1xyXG5pbXBvcnQgVXBsb2FkSW1nIGZyb20gJy4vY29tcG9uZW50cy91cGxvYWQtaW1nJztcclxuaW1wb3J0IFBvcGluTG9naW4gZnJvbSAnLi9jb21wb25lbnRzL3BvcGluLWxvZ2luJztcclxuaW1wb3J0ICcuL2NvbXBvbmVudHMvbG9naW4nO1xyXG5pbXBvcnQgUHJpbnRDb3Vwb24gZnJvbSAnLi9jb21wb25lbnRzL2NvdXBvbic7XHJcbmltcG9ydCBNYmcgZnJvbSAnLi9jb21wb25lbnRzL21iZy9tYmcnO1xyXG5cclxuLy8gUmVnaXN0cmF0aW9uIFNjcmlwdHNcclxuaW1wb3J0IFBldFR5cGVzIGZyb20gJy4vY29tcG9uZW50cy9yZWdpc3RyYXRpb24vcGV0LXR5cGVzJztcclxuaW1wb3J0IFJlZ2lzdHJhdGlvblN1Ym1pdCBmcm9tICcuL2NvbXBvbmVudHMvcmVnaXN0cmF0aW9uL3JlZ2lzdHJhdGlvbi1zdWJtaXQnO1xyXG5pbXBvcnQgUGV0R2VuZGVyIGZyb20gJy4vY29tcG9uZW50cy9yZWdpc3RyYXRpb24vcGV0LWdlbmRlcic7XHJcblxyXG5pbXBvcnQgQWRkQW5vdGhlclBldCBmcm9tICcuL2NvbXBvbmVudHMvcmVnaXN0cmF0aW9uL2FkZC1hbm90aGVyLXBldCc7XHJcbmltcG9ydCAnLi9jb21wb25lbnRzL3JlZ2lzdHJhdGlvbi9icmVlZCc7XHJcblxyXG4vLyBGb3JtIHZhbGlkYXRpb25cclxuaW1wb3J0IEZvcm1WYWxpZGF0aW9uIGZyb20gJy4vY29tcG9uZW50cy9mb3JtL2Zvcm0tdmFsaWRhdGlvbic7XHJcbmltcG9ydCBSZXNldFBhc3N3b3JkIGZyb20gJy4vY29tcG9uZW50cy9yZXNldC1wYXNzd29yZC9yZXNldC1wYXNzd29yZCc7XHJcblxyXG5cclxuLy8gaW1wb3J0IEZ1bmN0aW9uIGZyb20gdXRpbHNcclxuaW1wb3J0IHsgY3VzdG9taXplRm9vdGVyIH0gZnJvbSAnLi9jb21wb25lbnRzL3V0aWxzJztcclxuXHJcbi8vIEdUTVxyXG5pbXBvcnQgJy4vZ3RtL2NvdXBvbic7XHJcbmltcG9ydCAnLi9ndG0vc2FtcGxlJztcclxuaW1wb3J0ICcuL2d0bS9sb2dpbi1jcmVhdGUtYWNjb3VudCc7XHJcbmltcG9ydCAnLi9ndG0vZm9ybXMtZm9jdXMnO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBNYWluIHtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBQb3BpbkxvZ2luLmluaXQoKTtcclxuICAgIFBvcHVwLmluaXQoKTtcclxuICAgIENhcm91c2VsLmluaXQoKTtcclxuICAgIE9mZmVyc0Nhcm91c2VsLmluaXQoKTtcclxuICAgIEZpbHRlclByb2R1Y3QuaW5pdCgpO1xyXG4gICAgQW5jaG9yTWVudS5pbml0KCk7XHJcbiAgICBUaHVtYm5haWxCb3guaW5pdCgpO1xyXG4gICAgQ29sbGFwc2libGVCb3guaW5pdCgpO1xyXG4gICAgTG9hZE1vcmUuaW5pdCgpO1xyXG4gICAgUHJvZHVjdEJveC5pbml0KCk7XHJcbiAgICBEYWlseUZlZWRpbmcuaW5pdCgpO1xyXG4gICAgQ29sbGFwc2VQaGkuaW5pdCgpO1xyXG4gICAgUHJvZHVjdFNsaWRlci5pbml0KCk7XHJcbiAgICBOYXZiYXJNb2JpbGUuaW5pdCgpO1xyXG4gICAgUGV0VHlwZXMuaW5pdCgpO1xyXG4gICAgUGV0R2VuZGVyLmluaXQoKTtcclxuICAgIFJlZ2lzdHJhdGlvblN1Ym1pdC5pbml0KCk7XHJcbiAgICBBZGRBbm90aGVyUGV0LmluaXQoKTtcclxuICAgIFNsaWRlci5pbml0KCk7XHJcbiAgICBVcGxvYWRJbWcuaW5pdCgpO1xyXG4gICAgRm9ybVZhbGlkYXRpb24uaW5pdCgpO1xyXG4gICAgUmVzZXRQYXNzd29yZC5pbml0KCk7XHJcbiAgICBQcmludENvdXBvbi5pbml0KCk7XHJcbiAgICBNYmcuaW5pdCgpO1xyXG4gICAgJChkb2N1bWVudCkuZm91bmRhdGlvbigpO1xyXG4gICAgY3VzdG9taXplRm9vdGVyKCk7XHJcbiAgfVxyXG59XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xyXG4gIG5ldyBNYWluKCk7XHJcbn0pO1xyXG4iLCJsZXQgaW5zdGFuY2UgPSBudWxsO1xyXG5cclxuY2xhc3MgQW5jaG9yTWVudSB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgaWYgKCFpbnN0YW5jZSkge1xyXG4gICAgICBpbnN0YW5jZSA9IHRoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgJCgnLmpzLWFuY2hvcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgIGluc3RhbmNlLnNjcm9sbCh0aGlzLCBldmVudCk7XHJcbiAgICB9KTtcclxuICAgIGluc3RhbmNlLmluaXRNb2JpbGVBbmNob3IoKTtcclxuICAgIGluc3RhbmNlLmhpZ2h0TGlnaHRNZW51KCk7XHJcbiAgfVxyXG5cclxuICBzY3JvbGwoZWxlbWVudCwgZXZlbnQpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9ICQoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSk7XHJcblxyXG4gICAgaWYgKHRhcmdldC5sZW5ndGgpIHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgJCgnaHRtbCwgYm9keScpLnN0b3AoKS5hbmltYXRlKHtcclxuICAgICAgICBzY3JvbGxUb3A6IHRhcmdldC5vZmZzZXQoKS50b3BcclxuICAgICAgfSwgNTAwKTtcclxuICAgICAgbG9jYXRpb24uaHJlZiA9ICQoZWxlbWVudCkuYXR0cignaHJlZicpO1xyXG4gICAgICAvLyBsb2NhdGlvbi5ocmVmID0gdGFyZ2V0O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gRnVuY3Rpb24gVGhhdCBpbml0IHRoZSBtb2JpbGUgYW5jaG9yXHJcbiAgaW5pdE1vYmlsZUFuY2hvcigpIHtcclxuICAgIC8vIENyZWF0ZSB0aGUgZHJvcGRvd24gYmFzZSBmb3IgdGhlIG1vYmlsZSBuYXZcclxuICAgICQoJzxzZWxlY3QvPicpLmFwcGVuZFRvKCcuanMtbmF2LWFuY2hvcicpO1xyXG4gICAgLy8gRWFjaCBjYXRlZ29yeSBpbiB0aGUgbmF2IHdpbGwgYmUgYWRkZWQgdG8gdGhpcyBkcm9wZG93blxyXG4gICAgJCgnLmpzLWFuY2hvcicpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSAkKHRoaXMpO1xyXG5cclxuICAgICAgJCgnPG9wdGlvbiAvPicsIHtcclxuICAgICAgICAndmFsdWUnOiBlbGVtZW50LmF0dHIoJ2hyZWYnKSxcclxuICAgICAgICAndGV4dCc6IGVsZW1lbnQudGV4dCgpXHJcbiAgICAgIH0pLmFwcGVuZFRvKCcuanMtbmF2LWFuY2hvciBzZWxlY3QnKTtcclxuICAgIH0pO1xyXG4gICAgLy8gRXZlbnQgb24gc2VsZWN0IGNoYW5nZVxyXG4gICAgJCgnLmpzLW5hdi1hbmNob3Igc2VsZWN0Jykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAvLyBHbyB0byB0aGUgbGluayBvZiB0aGUgc2VsZWN0ZWQgaXRlbVxyXG4gICAgICBsb2NhdGlvbi5ocmVmID0gJCh0aGlzKS5maW5kKCdvcHRpb246c2VsZWN0ZWQnKS52YWwoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gRnVuY3Rpb24gdGhhdCBlbmFibGVzIHN0YXRlcyBvZiBuYXYgYXQgZG9jdW1lbnQgTG9hZFxyXG4gIGhpZ2h0TGlnaHRNZW51KCkge1xyXG4gICAgY29uc3QgJGxpbmsgPSAkKCcuaW5saW5lLWxpc3RfX2xpbmsnKTtcclxuICAgIGNvbnN0IHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWU7XHJcbiAgICAkLmVhY2goJGxpbmssIChpbmRleCwgZSkgPT4ge1xyXG4gICAgICBjb25zdCBocmVmID0gJChlKS5hdHRyKCdocmVmJyk7XHJcbiAgICAgIGlmIChwYXRobmFtZS5pbmRleE9mKGhyZWYpID49IDApIHtcclxuICAgICAgICAkKGUpLmFkZENsYXNzKCdpbmxpbmUtbGlzdF9fbGluay0tc2VsZWN0ZWQnKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBJbnN0YW5jZSA9IG5ldyBBbmNob3JNZW51KCk7XHJcblxyXG5PYmplY3QuZnJlZXplKEluc3RhbmNlKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEluc3RhbmNlO1xyXG4iLCJsZXQgaW5zdGFuY2UgPSBudWxsO1xyXG5cclxuZXhwb3J0IGNsYXNzIENhcm91c2VsIHtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBpZiAoIWluc3RhbmNlKSB7XHJcbiAgICAgIGluc3RhbmNlID0gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvLyBjb25maWd1cmF0aW9uIGZvciB0aGUgc2xpZGVyIGluc2lkZSB0aGUgdG90YWxmaXZlIGJsb2NrXHJcbiAgICB0aGlzLmNvbmZpZyA9IHtcclxuICAgICAgaW5maW5pdGU6IHRydWUsXHJcbiAgICAgIHRvdWNoTW92ZTogdHJ1ZSxcclxuICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxyXG4gICAgICBhcnJvd3M6IHRydWVcclxuICAgIH07XHJcblxyXG4gICAgLy8gY29uZmlndXJhdGlvbiBmb3IgdGhlIHNsaWRlciBpbnNpZGUgdGhlIHByb2R1Y3QgaW5mbyBibG9ja1xyXG4gICAgdGhpcy5jb25maWdQcm9kdWN0SW5mbyA9IHtcclxuICAgICAgaW5maW5pdGU6IHRydWUsXHJcbiAgICAgIGNlbnRlck1vZGU6IGZhbHNlLFxyXG4gICAgICBhcnJvd3M6IGZhbHNlLFxyXG4gICAgICB0b3VjaE1vdmU6IHRydWUsXHJcbiAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcclxuICAgICAgZG90czogdHJ1ZVxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG5cclxuICAgIHRoaXMuZml4QnJva2VuQXJlYVJlZmVyZW5jZSgpO1xyXG5cclxuICAgIC8vIGhpZGUgdGhlIGNhcm91c2VsIHdoZW4gdXNlciBjbGljayBvbiB0aGUgLmNhcm91c2VsX19leGl0IGVsZW1lbnRcclxuICAgICQoJy5jYXJvdXNlbF9fZXhpdCcpLm9uKCdjbGljaycsICgpID0+IHtcclxuICAgICAgJCgnLnRvdGFsLWZpdmVfX2Nhcm91c2VsJykuaGlkZSg2MDApO1xyXG4gICAgICAkKCcuY2Fyb3VzZWwnKS5zbGljaygndW5zbGljaycpO1xyXG4gICAgICAkKCcudG90YWwtZml2ZV9fb3ZlcnZpZXcnKS5zY3JvbGxUbyg2MDApO1xyXG4gICAgICAkKCcuanMtdG90YWxmaXZlJykuY3NzKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHNob3cgdGhlIGNhcm91c2VsIHdoZW4gdXNlciBjbGljayBvbiB0aGUgYnV0dG9uIGluc2lkZSB0aGUgdG90YWxmaXZlIGJsb2NrXHJcbiAgICAkKCcuanMtdG90YWxmaXZlJykub24oJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAkKCcuanMtdG90YWxmaXZlJykuY3NzKCd2aXNpYmlsaXR5JywgJ2hpZGRlbicpO1xyXG4gICAgICAkKCcudG90YWwtZml2ZV9fY2Fyb3VzZWwnKS5zaG93KCk7XHJcbiAgICAgICQoJy5jYXJvdXNlbCcpLnNsaWNrKHRoaXMuY29uZmlnKTtcclxuICAgICAgJCgnLmNhcm91c2VsX19leGl0IC5pY29uLWNsb3NlJykuc2Nyb2xsVG8oNjAwKTtcclxuICAgICAgdGhpcy5maXhCcm9rZW5BcmVhUmVmZXJlbmNlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBzbGljayBzbGlkZXIgaW5pdGlhbGl6YXRpb24gZm9yIHRoZSBwcm9kdWN0IGluZm8gYmxvY2s7XHJcbiAgICAvLyBoZXJlIHdlIGNoZWNrIGlmIHRoZSBjdXJyZW50IHBhZ2UgaGFzIHRoZSBwcm9kdWN0IGluZm8gYmxvY2s7XHJcbiAgICBpZiAoJCgnLnByb2R1Y3QtaW5mb19fY2Fyb3VzZWwnKS5sZW5ndGgpIHtcclxuICAgICAgJCgnLnByb2R1Y3QtaW5mb19fY2Fyb3VzZWwnKS5zbGljayh0aGlzLmNvbmZpZ1Byb2R1Y3RJbmZvKTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxuICBmaXhCcm9rZW5BcmVhUmVmZXJlbmNlKCkge1xyXG4gICAgLy8gZml4IHRoZSBicm9rZW4gYXJpYSByZWZlcmVuY2UgdGVzdC5cclxuICAgICQoJy5zbGljay13cmFwcGVyJykuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgY29uc3QgJHNsaWRlID0gJCh0aGlzKS5wYXJlbnQoKTtcclxuXHJcbiAgICAgIGlmICgkc2xpZGUuYXR0cignYXJpYS1kZXNjcmliZWRieScpKSB7IC8vIGlnbm9yZSBleHRyYS9jbG9uZWQgc2xpZGVzXHJcbiAgICAgICAgJCh0aGlzKS5hdHRyKCdpZCcsICRzbGlkZS5hdHRyKCdhcmlhLWRlc2NyaWJlZGJ5JykpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IEluc3RhbmNlID0gbmV3IENhcm91c2VsKCk7XHJcblxyXG5PYmplY3QuZnJlZXplKEluc3RhbmNlKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEluc3RhbmNlO1xyXG4iLCJsZXQgaW5zdGFuY2UgPSBudWxsO1xyXG5jb25zdCBzcGVlZCA9IDUwMDtcclxuXHJcbmNsYXNzIENvbGxhcHNlUGhpIHtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBpZiAoIWluc3RhbmNlKSB7XHJcbiAgICAgIGluc3RhbmNlID0gdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBpbnN0YW5jZTtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICAkKCcuYm94X19idG4nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgaW5zdGFuY2UuY29sbGFwc2UodGhpcyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNvbGxhcHNlKGVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGJ0bkFjdGl2ZSA9ICQoJy5waGlsb3NvcGh5LWl0ZW1zJykuZmluZCgnLmJveF9fYnRuLS1hY3RpdmUnKTtcclxuXHJcbiAgICBpZiAoYnRuQWN0aXZlLmxlbmd0aCA+IDAgJiYgZWxlbWVudCAhPT0gYnRuQWN0aXZlWzBdKSB7XHJcbiAgICAgICQoJy5ib3hfX2J0bi0tYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2JveF9fYnRuLS1hY3RpdmUnKTtcclxuICAgICAgJCgnLnBoaWxvc29waHktZGVzY3JpcHRpb25zIC5waGlsb3NvcGh5LWRlc2NyaXB0aW9uJykuaGlkZSgpO1xyXG4gICAgfVxyXG5cclxuICAgICQoZWxlbWVudCkudG9nZ2xlQ2xhc3MoJ2JveF9fYnRuLS1hY3RpdmUnKTtcclxuICAgIHRoaXMuc3dpdGNoRGVzY3JpcHRpb24oZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBzd2l0Y2hEZXNjcmlwdGlvbihlbG0pIHtcclxuICAgIGNvbnN0IGVsZW1lbnQgPSAkKGVsbSk7XHJcbiAgICBjb25zdCBidG5MaXN0ID0gJCgnLnBoaWxvc29waHktaXRlbXMnKS5maW5kKCcuYm94X19idG4nKTtcclxuICAgIGNvbnN0IGRlc2NyaXB0aW9uQ29udGVudExpc3QgPSAnLnBoaWxvc29waHktZGVzY3JpcHRpb25zIC5waGlsb3NvcGh5LWRlc2NyaXB0aW9uJztcclxuICAgIGNvbnN0IGVsbUluZGV4ID0gJCgnLnBoaWxvc29waHktaXRlbXMgLmJveF9fYnRuJykuaW5kZXgoZWxlbWVudCk7XHJcblxyXG4gICAgaWYgKGVsZW1lbnQuaGFzQ2xhc3MoJ2FjdGl2ZScpID09PSB0cnVlKSB7XHJcbiAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAkKGRlc2NyaXB0aW9uQ29udGVudExpc3QgKyAnOmVxKCcgKyBlbG1JbmRleCArICcpJykuZmFkZU91dChzcGVlZCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChidG5MaXN0Lmhhc0NsYXNzKCdhY3RpdmUnKSA9PT0gZmFsc2UpIHtcclxuICAgICAgZWxlbWVudC5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICQoZGVzY3JpcHRpb25Db250ZW50TGlzdCArICc6ZXEoJyArIGVsbUluZGV4ICsgJyknKVxyXG4gICAgICAgIC5mYWRlSW4oc3BlZWQpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnRuTGlzdC5sZW5ndGg7IGkgPSBpICsgMSkge1xyXG4gICAgICAgIGlmICgkKGJ0bkxpc3RbaV0pLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG4gICAgICAgICAgY29uc3QgaW5kZXggPSAkKCcucGhpbG9zb3BoeS1pdGVtcyAuYm94X19idG4nKS5pbmRleCgkKGJ0bkxpc3RbaV0pKTtcclxuXHJcbiAgICAgICAgICAkKGJ0bkxpc3RbaV0pLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICQoZGVzY3JpcHRpb25Db250ZW50TGlzdCArICc6ZXEoJyArIGluZGV4ICsgJyknKS5mYWRlT3V0KHNwZWVkKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgZWxlbWVudC5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgIGNvbnN0IGluZGV4ID0gJCgnLnBoaWxvc29waHktaXRlbXMgLmJveF9fYnRuJykuaW5kZXgoZWxlbWVudCk7XHJcblxyXG4gICAgICAkKGRlc2NyaXB0aW9uQ29udGVudExpc3QgKyAnOmVxKCcgKyBpbmRleCArICcpJylcclxuICAgICAgICAuZmFkZUluKHNwZWVkKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IEluc3RhbmNlID0gbmV3IENvbGxhcHNlUGhpKCk7XHJcblxyXG5PYmplY3QuZnJlZXplKEluc3RhbmNlKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEluc3RhbmNlO1xyXG4iLCJsZXQgaW5zdGFuY2UgPSBudWxsO1xyXG5jb25zdCBzcGVlZCA9IDMwMDtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb2xsYXBzaWJsZUJveCB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgaWYgKCFpbnN0YW5jZSkge1xyXG4gICAgICBpbnN0YW5jZSA9IHRoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG5cclxuICAgICQoJy5qcy1jb2xsYXBzaWJsZS1ib3gnKS5jbGljayhmdW5jdGlvbihldmVudCkge1xyXG4gICAgICBjb25zdCBtcSA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpJyk7XHJcbiAgICAgIGNvbnN0IHJvb3QgPSAkKGV2ZW50LnRhcmdldCkucGFyZW50cygnLmNvbGxhcHNpYmxlLWJveC0tY29sbGFwc2VkJyk7XHJcblxyXG4gICAgICBpZiAoIW1xLm1hdGNoZXMgJiYgIXJvb3QubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gJCh0aGlzKS5wYXJlbnRzKCcuc2VjdGlvbi1jb2xsYXBzaWJsZScpO1xyXG4gICAgICAgIGNvbnN0IGNvbGxhcHNlZCA9IGNvbnRhaW5lci5maW5kKCcuY29sbGFwc2libGUtYm94LS1jb2xsYXBzZWQnKTtcclxuICAgICAgICBjb25zdCBidG4gPSBjb250YWluZXIuZmluZCgnLmpzLWNsb3NlLWNvbGxhcHNpYmxlQm94Jyk7XHJcblxyXG4gICAgICAgICQoYnRuKS50b2dnbGVDbGFzcygnY29sbGFwc2libGUtYm94X19jbG9zZScpO1xyXG4gICAgICAgICQodGhpcykuc2Nyb2xsVG8oc3BlZWQpO1xyXG4gICAgICAgIGNvbGxhcHNlZC5zbGlkZVRvZ2dsZShzcGVlZCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IEluc3RhbmNlID0gbmV3IENvbGxhcHNpYmxlQm94KCk7XHJcblxyXG5PYmplY3QuZnJlZXplKEluc3RhbmNlKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEluc3RhbmNlO1xyXG4iLCJsZXQgaW5zdGFuY2UgPSBudWxsO1xyXG5cclxuZXhwb3J0IGNsYXNzIFByaW50Q291cG9uIHtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBpZiAoIWluc3RhbmNlKSB7XHJcbiAgICAgIGluc3RhbmNlID0gdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBpbnN0YW5jZTtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICBjb25zdCBtb2JpbGUgPSB0aGlzLmlzTW9iaWxlRGV2aWNlKCkgPyAnJmRldmljZT1tb2JpbGUnIDogJyc7XHJcbiAgICBjb25zdCBwcmludENvdXBvbiA9ICQoJy5qcy1kYXRhLXByaW50LWNvdXBvbicpLmF0dHIoJ2RhdGEtcHJpbnQtY291cG9uJyk7XHJcbiAgICBpZiAocHJpbnRDb3Vwb24pIHtcclxuICAgICAgY29uc3QgJGEgPSAkKCcjY291cG9uLScgKyBwcmludENvdXBvbiArICcgLmpzLXByaW50LWNvdXBvbicpO1xyXG4gICAgICAkYS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTWV0aG9kOiBjaGVjayBpZiB3ZSBhcmUgb24gbW9iaWxlIGRldmljZSBvciBkZXNrdG9wIGNvbXB1dGVyXHJcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gUmV0dXJuIHRydWUgaWYgd2UgYXJlIG9uIG1vYmlsZSBkZXZpY2UgYW5kIGZhbHNlIG90aGVyd2lzZS5cclxuICAgKi9cclxuICBpc01vYmlsZURldmljZSgpIHtcclxuICAgIGlmICgvTW9iaS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IEluc3RhbmNlID0gbmV3IFByaW50Q291cG9uKCk7XHJcblxyXG5PYmplY3QuZnJlZXplKEluc3RhbmNlKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEluc3RhbmNlO1xyXG4iLCJsZXQgaW5zdGFuY2UgPSBudWxsO1xyXG5cclxuZXhwb3J0IGNsYXNzIERhaWx5RmVlZGluZyB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgaWYgKCFpbnN0YW5jZSkge1xyXG4gICAgICBpbnN0YW5jZSA9IHRoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgJCgnLmpzLXNlZS1vdXItYWR1bHQtcHJvZHVjdCcpLmNsaWNrKCgpID0+IHtcclxuICAgICAgZGF0YUxheWVyLnB1c2goe1xyXG4gICAgICAgIGV2ZW50OiAnZXZlbnRfdXNlcl9uYXZpZ2F0aW9uJyxcclxuICAgICAgICBldmVudF9jYXRlZ29yeTogJ2V2ZW50X3Byb2R1Y3RfYWN0aW9ucycsXHJcbiAgICAgICAgZXZlbnRfYWN0aW9uOiAnZXZlbnRfY2xpY2tfZGFpbHlfZmVlZGluZycsXHJcbiAgICAgICAgZXZlbnRfbGFiZWw6ICdTZWUgb3VyIGFkdWx0IHByb2R1Y3RzJ1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoJy5qcy1zZWxlY3QtYm94Jykub24oJ2NoYW5nZScsICgpID0+IHtcclxuICAgICAgZGF0YUxheWVyLnB1c2goe1xyXG4gICAgICAgIGV2ZW50OiAnZXZlbnRfdXNlcl9uYXZpZ2F0aW9uJyxcclxuICAgICAgICBldmVudF9jYXRlZ29yeTogJ2V2ZW50X3Byb2R1Y3RfYWN0aW9ucycsXHJcbiAgICAgICAgZXZlbnRfYWN0aW9uOiAnZXZlbnRfY2xpY2tfZGFpbHlfZmVlZGluZycsXHJcbiAgICAgICAgZXZlbnRfbGFiZWw6ICdEYWlseSBmZWVkaW5nIHJlY29tbWVuZGF0aW9uIHJlc3VsdCdcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IEluc3RhbmNlID0gbmV3IERhaWx5RmVlZGluZygpO1xyXG5cclxuT2JqZWN0LmZyZWV6ZShJbnN0YW5jZSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBJbnN0YW5jZTtcclxuIiwibGV0IGluc3RhbmNlID0gbnVsbDtcclxuXHJcbmNsYXNzIEZpbHRlclByb2R1Y3Qge1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGluc3RhbmNlO1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIC8vIGluaXQgdGhlIG1vYmlsZSBmaWx0ZXIgb24gUGFnZSBMb2FkXHJcbiAgICBpbnN0YW5jZS5pbml0TW9iaWxlRmlsdGVyKCk7XHJcbiAgICAvLyBJbnZva2UgdGhlIGZpbHRlciBmdW5jdGlvbiBvbiBjYXRlZ29yeSBvciBzdWJjYXRlZ29yeSBpdGVtIGNsaWNrXHJcbiAgICAkKCcuanMtY2F0ZWdvcnksIC5qcy1zdWJjYXRlZ29yeScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgIGluc3RhbmNlLmZpbHRlcih0aGlzLCBldmVudCk7XHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG5cclxuICAvLyBGdW5jdGlvbiB0aGF0IGVuYWJsZXMgdGhlIG5hdiBmdW5jdGlvbmFsaXR5XHJcbiAgZmlsdGVyKGVsZW1lbnQsIGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgLy8gY2hlY2sgdGhlIHR5cGUgb2YgdGhpcyBlbGVtZW50ICggU3ViY2F0ZWdvcnkgb3IgQ2F0ZWdvcnkgKVxyXG4gICAgaWYgKCQoZWxlbWVudCkuaXMoJy5qcy1jYXRlZ29yeScpKSB7XHJcbiAgICAgIC8vIFN0b3JlIHRoZSBjYXRlZ29yeSBvZiB0aGUgY2xpY2tlZCBlbGVtZW50XHJcbiAgICAgIGNvbnN0IGNhdGVnb3J5ID0gJChlbGVtZW50KS5kYXRhKCdjYXRlZ29yeScpO1xyXG4gICAgICAvLyBMb29raW5nIGZvciB0aGUgc3ViZmlsdGVyIGJsb2NrIHRoYXQgaGF2ZSB0aGUgc2FtZSBjYXRlZ29yeSBhcyB0aGUgY2xpY2tlZCBlbGVtZW50XHJcbiAgICAgIGNvbnN0IHN1YmZpbHRlciA9ICQoJy5uYXYtLXN1YmNhdGVnb3J5W2RhdGEtY2F0ZWdvcnk9XCInICsgY2F0ZWdvcnkgKyAnXCJdJyk7XHJcblxyXG4gICAgICAvLyBDaGVjayBpZiBmaWx0ZXIgaXMgYWxyZWFkeSBvcGVuIC0+IGNsb3NlIGl0XHJcbiAgICAgIGlmICgkKGVsZW1lbnQpLmhhc0NsYXNzKCdpbmxpbmUtbGlzdF9fbGluay0tYWN0aXZlJykgJiZcclxuICAgICAgICAgIHN1YmZpbHRlci5sZW5ndGggJiZcclxuICAgICAgICAgIHN1YmZpbHRlci5oYXNDbGFzcygnbmF2LS1zdWJjYXRlZ29yeS1vcGVuJykpIHtcclxuICAgICAgICBzdWJmaWx0ZXIucmVtb3ZlQ2xhc3MoJ25hdi0tc3ViY2F0ZWdvcnktb3BlbicpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUmVtb3ZlIGFsbCBhY3RpdmUgZWxlbWVudFxyXG4gICAgICAkKCcuaW5saW5lLWxpc3RfX2xpbmstLWFjdGl2ZScpLnJlbW92ZUNsYXNzKCdpbmxpbmUtbGlzdF9fbGluay0tYWN0aXZlJyk7XHJcbiAgICAgIC8vIEhpZGUgYWxsIHN1YmNhdGVnb3J5IGJsb2NrIHRoYXQgYXJlIG9wZW5lZFxyXG4gICAgICAkKCcubmF2LS1zdWJjYXRlZ29yeScpLnJlbW92ZUNsYXNzKCduYXYtLXN1YmNhdGVnb3J5LW9wZW4nKTtcclxuICAgICAgLy8gQWRkIHRoZSBzdGF0ZSBBY3RpdmUgdG8gdGhlIGNsaWNrZWQgZWxlbWVudFxyXG4gICAgICAkKGVsZW1lbnQpLmFkZENsYXNzKCdpbmxpbmUtbGlzdF9fbGluay0tYWN0aXZlJyk7XHJcbiAgICAgIC8vIElmIHRoZSBjbGlja2VkIGVsZW1lbnQgaGFzIHN1YmNhdGVnb3JpZXMsIHRoZW4gd2Ugc2hvdyB0aGUgYmxvY2sgY29udGFpbmluZyB0aGVtXHJcbiAgICAgIGlmIChzdWJmaWx0ZXIubGVuZ3RoKSB7XHJcbiAgICAgICAgLy8gb3BlbmluZyB0aGUgc3ViZmlsdGVyIG9mIHRoZSBjYXRlZ29yeVxyXG4gICAgICAgIHN1YmZpbHRlci5hZGRDbGFzcygnbmF2LS1zdWJjYXRlZ29yeS1vcGVuJyk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgLy8gR28gdG8gdGhlIGxpbmsgb2YgdGhlIGNsaWNrZWQgQ2F0ZWdvcnkvU3ViY2F0ZWdvcnlcclxuICAgICAgICBsb2NhdGlvbi5ocmVmID0gJChlbGVtZW50KS5hdHRyKCdocmVmJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEZ1bmN0aW9uIFRoYXQgaW5pdCB0aGUgbW9iaWxlIGZpbHRlclxyXG4gIGluaXRNb2JpbGVGaWx0ZXIoKSB7XHJcbiAgICAvLyBDcmVhdGUgdGhlIGRyb3Bkb3duIGJhc2UgZm9yIHRoZSBtb2JpbGUgbmF2XHJcbiAgICAkKCc8c2VsZWN0Lz4nKS5hcHBlbmRUbygnLmpzLW5hdi1jYXRlZ29yeScpO1xyXG4gICAgLy8gRWFjaCBjYXRlZ29yeSBpbiB0aGUgZmlsdGVyIHdpbGwgYmUgYWRkZWQgdG8gdGhpcyBkcm9wZG93blxyXG4gICAgJCgnLmpzLWNhdGVnb3J5JykuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgY29uc3QgZWxlbWVudCA9ICQodGhpcyk7XHJcblxyXG4gICAgICAkKCc8b3B0aW9uIC8+Jywge1xyXG4gICAgICAgICd2YWx1ZSc6IGVsZW1lbnQuYXR0cignaHJlZicpLFxyXG4gICAgICAgICd0ZXh0JzogZWxlbWVudC50ZXh0KClcclxuICAgICAgfSkuYXBwZW5kVG8oJy5qcy1uYXYtY2F0ZWdvcnkgc2VsZWN0Jyk7XHJcbiAgICB9KTtcclxuICAgIC8vIEV2ZW50IG9uIHNlbGVjdCBjaGFuZ2VcclxuICAgICQoJy5qcy1uYXYtY2F0ZWdvcnkgc2VsZWN0Jykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAvLyBHbyB0byB0aGUgbGluayBvZiB0aGUgc2VsZWN0ZWQgaXRlbVxyXG4gICAgICBsb2NhdGlvbi5ocmVmID0gJCh0aGlzKS5maW5kKCdvcHRpb246c2VsZWN0ZWQnKS52YWwoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICAvLyBGdW5jdGlvbiB0aGF0IGVuYWJsZXMgc3RhdGVzIG9mIGZpbHRlciBhdCBkb2N1bWVudCBMb2FkXHJcbn1cclxuXHJcbmNvbnN0IEluc3RhbmNlID0gbmV3IEZpbHRlclByb2R1Y3QoKTtcclxuXHJcbk9iamVjdC5mcmVlemUoSW5zdGFuY2UpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgSW5zdGFuY2U7XHJcbiIsImxldCBpbnN0YW5jZSA9IG51bGw7XHJcblxyXG5jbGFzcyBEYXRlVmFsaWRhdGlvbiB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgaWYgKCFpbnN0YW5jZSkge1xyXG4gICAgICBpbnN0YW5jZSA9IHRoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgfVxyXG5cclxuICB2YWxpZGF0ZURhdGUoZGF5LCBtb250aCwgeWVhcikge1xyXG4gICAgaWYgKCF0aGlzLmlzTnVtZXJpYyhtb250aCkgfHwgIXRoaXMuaXNOdW1lcmljKHllYXIpKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmICghdGhpcy5pc051bWVyaWMoZGF5KSkge1xyXG4gICAgICBkYXkgPSAxO1xyXG4gICAgfVxyXG4gICAgZGF5ID0gdGhpcy56ZXJvUGFkKGRheSwgMik7XHJcbiAgICBtb250aCA9IHRoaXMuemVyb1BhZChtb250aCwgMik7XHJcbiAgICB5ZWFyID0gdGhpcy56ZXJvUGFkKHllYXIsIDQpO1xyXG4gICAgcmV0dXJuIG1vbWVudCh5ZWFyICsgJy0nICsgbW9udGggKyAnLScgKyBkYXksICdZWVlZLU1NLUREJykuaXNWYWxpZCgpO1xyXG4gIH1cclxuXHJcbiAgaXNOdW1lcmljKG4pIHtcclxuICAgIHJldHVybiAhaXNOYU4ocGFyc2VGbG9hdChuKSkgJiYgaXNGaW5pdGUobik7XHJcbiAgfVxyXG5cclxuICB6ZXJvUGFkKG4sIHdpZHRoLCB6KSB7XHJcbiAgICB6ID0geiB8fCAnMCc7XHJcbiAgICBuID0gbiArICcnO1xyXG4gICAgcmV0dXJuIG4ubGVuZ3RoID49IHdpZHRoID8gbiA6IG5ldyBBcnJheSh3aWR0aCAtIG4ubGVuZ3RoICsgMSkuam9pbih6KSArIG47XHJcbiAgfVxyXG5cclxufVxyXG5cclxuY29uc3QgSW5zdGFuY2UgPSBuZXcgRGF0ZVZhbGlkYXRpb24oKTtcclxuXHJcblxyXG5PYmplY3QuZnJlZXplKEluc3RhbmNlKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEluc3RhbmNlO1xyXG4iLCJpbXBvcnQgRGF0ZVZhbGlkYXRpb24gZnJvbSAnLi9kYXRlLXZhbGlkYXRpb24nO1xyXG5pbXBvcnQgRm91bmRhdGlvbkRhdGVQaWNrZXIgZnJvbSAnLi4vZm91bmRhdGlvbi1kYXRlcGlja2VyJztcclxuXHJcbmxldCBpbnN0YW5jZSA9IG51bGw7XHJcblxyXG5jbGFzcyBGb3JtVmFsaWRhdGlvbiB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgaWYgKCFpbnN0YW5jZSkge1xyXG4gICAgICBpbnN0YW5jZSA9IHRoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5pbml0Q2hlY2tQYXNzd29yZCgpO1xyXG4gICAgdGhpcy5pbml0Rm9ybXNWYWxpZGF0aW9uKCk7XHJcbiAgICB0aGlzLmluaXREYXRlVmFsaWRhdGlvbigpO1xyXG4gIH1cclxuXHJcbiAgLy8gdmFsaWRhdGUgYSBwZXQgRm9ybSwgcmV0dXJucyB0cnVlIG9ubHkgaWYgZm9ybSBpcyB2YWxpZFxyXG5cclxuICB2YWxpZGF0ZVBldEZvcm0oZm9ybSkge1xyXG4gICAgaWYgKGZvcm0ubGVuZ3RoID4gMCkge1xyXG4gICAgICB0aGlzLnZhbGlkYXRlRGF0ZUZvcm0oZm9ybSk7XHJcbiAgICAgIC8vIGNvbnN0IGNhdGVnb3J5ID0gZm9ybS5maW5kKCcucGV0LXR5cGVfX3RodW1ibmFpbC0tc2VsZWN0ZWQnKTtcclxuICAgICAgY29uc3QgY2F0ZWdvcnkgPSBmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJwZXRUeXBlXCJdOmNoZWNrZWQnKS52YWwoKTtcclxuICAgICAgaWYgKGNhdGVnb3J5ICYmIGNhdGVnb3J5Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBmb3JtLnBhcnNsZXkoKS52YWxpZGF0ZShjYXRlZ29yeSArICctZm9ybScpO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQgJiYgdGhpcy52YWxpZGF0ZURhdGVGb3JtKGZvcm0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICB2YWxpZGF0ZURhdGVGb3JtKGZvcm0pIHtcclxuICAgIC8vIGNvbnN0IGNhdGVnb3J5ID0gZm9ybS5maW5kKCcucGV0LXR5cGVfX3RodW1ibmFpbC0tc2VsZWN0ZWQnKTtcclxuICAgIGNvbnN0IGNhdGVnb3J5ID0gZm9ybS5maW5kKCdpbnB1dFtuYW1lPVwicGV0VHlwZVwiXTpjaGVja2VkJykudmFsKCk7XHJcbiAgICBjb25zdCBzZWxlY3REYXRlID0gZm9ybS5maW5kKCcuc2VsZWN0LWRhdGVfX3dyYXBwZXJbZGF0YS1jYXRlZ29yeT1cXCcnICsgY2F0ZWdvcnkgKyAnXFwnXScpO1xyXG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVEYXRlU2VsZWN0KHNlbGVjdERhdGUpO1xyXG4gIH1cclxuXHJcbiAgdmFsaWRhdGVEYXRlU2VsZWN0KHNlbGVjdERhdGUpIHtcclxuICAgIGNvbnN0IGVycm9yQ2xhc3MgPSAnc2VsZWN0LWRhdGUtZXJyb3InO1xyXG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gc2VsZWN0RGF0ZS5uZXh0KCcuc2VsZWN0LWRhdGVfX2Vycm9yLW1lc3NhZ2UnKTtcclxuICAgIGNvbnN0IGRheSA9IHNlbGVjdERhdGUuZmluZCgnLmpzLWRhdGUtZGF5JykudmFsKCk7XHJcbiAgICBsZXQgbW9udGggPSBzZWxlY3REYXRlLmZpbmQoJy5qcy1kYXRlLW1vbnRoJykudmFsKCk7XHJcbiAgICBtb250aCA9IHBhcnNlSW50KG1vbnRoLCAxMCkgKyAxO1xyXG4gICAgY29uc3QgeWVhciA9IHNlbGVjdERhdGUuZmluZCgnLmpzLWRhdGUteWVhcicpLnZhbCgpO1xyXG4gICAgY29uc3QgaXNEYXRlVmFsaWQgPSBEYXRlVmFsaWRhdGlvbi52YWxpZGF0ZURhdGUoZGF5LCBtb250aCwgeWVhcik7XHJcblxyXG4gICAgaWYgKCFpc0RhdGVWYWxpZCkge1xyXG4gICAgICBzZWxlY3REYXRlLmFkZENsYXNzKGVycm9yQ2xhc3MpO1xyXG4gICAgICBlcnJvck1lc3NhZ2Uuc2hvdygpO1xyXG5cclxuICAgICAgaWYgKHNlbGVjdERhdGUub2Zmc2V0KCkpIHtcclxuICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XHJcbiAgICAgICAgICBzY3JvbGxUb3A6IChzZWxlY3REYXRlLm9mZnNldCgpLnRvcCAtIDMwMClcclxuICAgICAgICB9LCA1MDApO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzZWxlY3REYXRlLnJlbW92ZUNsYXNzKGVycm9yQ2xhc3MpO1xyXG4gICAgICBlcnJvck1lc3NhZ2UuaGlkZSgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGlzRGF0ZVZhbGlkO1xyXG4gIH1cclxuXHJcbiAgaW5pdERhdGVWYWxpZGF0aW9uKCkge1xyXG4gICAgJCgnLnNlbGVjdC1kYXRlX193cmFwcGVyJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xyXG4gICAgICBpbnN0YW5jZS52YWxpZGF0ZURhdGVTZWxlY3QoJCh0aGlzKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIEZ1bmN0aW9uIHRoYXQgaW5pdHMgZm9ybXMgdmFsaWRhdGlvbiBvbiB0aGUgcGFnZVxyXG4gIGluaXRGb3Jtc1ZhbGlkYXRpb24oKSB7XHJcbiAgICBjb25zdCBsb2dpbkZvcm0gPSAkKCcubG9naW4tZm9ybScpO1xyXG4gICAgY29uc3QgcmVzZXRQYXNzd29yZEZvcm0gPSAkKCcucmVzZXQtcGFzc3dvcmQtZm9ybScpO1xyXG4gICAgY29uc3QgcmVzZW50RW1haWxGb3JtID0gJCgnLnJlc2VudC1lbWFpbC1mb3JtJyk7XHJcbiAgICBpZiAobG9naW5Gb3JtLmxlbmd0aCA+IDApIHtcclxuICAgICAgJChsb2dpbkZvcm0pLnBhcnNsZXkoKTtcclxuICAgIH1cclxuICAgIGlmIChyZXNldFBhc3N3b3JkRm9ybS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICQocmVzZXRQYXNzd29yZEZvcm0pLnBhcnNsZXkoKTtcclxuICAgIH1cclxuICAgIGlmIChyZXNlbnRFbWFpbEZvcm0ubGVuZ3RoID4gMCkge1xyXG4gICAgICAkKHJlc2VudEVtYWlsRm9ybSkucGFyc2xleSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQWxsb3cgdG8gdmFsaWRhdGUgdGhlIHVzZXIgYmlydGggZGF0ZSA+IDEzIHllYXJzXHJcbiAgaXNQcm9maWxlUmVnaXN0cmF0aW9uVmFsaWQoKSB7XHJcbiAgICBjb25zdCBwcm9maWxlUmVnaXN0cmF0aW9uRm9ybSA9ICQoJy5wcm9maWxlLXJlZ2lzdHJhdGlvbi1mb3JtJyk7XHJcblxyXG4gICAgaWYgKHByb2ZpbGVSZWdpc3RyYXRpb25Gb3JtLmxlbmd0aCA+IDApIHtcclxuICAgICAgY29uc3QgaXNEYXRlVmFsaWQgPSBGb3VuZGF0aW9uRGF0ZVBpY2tlci52YWxpZGF0ZUJpcnRoRGF0ZSgpO1xyXG4gICAgICBjb25zdCBpc0Zvcm1WYWxpZCA9IHByb2ZpbGVSZWdpc3RyYXRpb25Gb3JtLnBhcnNsZXkoKS52YWxpZGF0ZSgpO1xyXG4gICAgICByZXR1cm4gaXNGb3JtVmFsaWQgJiYgaXNEYXRlVmFsaWQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvLyBGdW5jdGlvbiB0aGF0IHZhbGlkYXRlcyBhIGdyb3VwIG9mIHBldCByZWdpc3RyYXRpb24gZm9ybVxyXG5cclxuICB2YWxpZGF0ZVBldHNGb3JtKCkge1xyXG4gICAgY29uc3QgZm9ybXMgPSAkKCcucGV0LXJlZ2lzdHJhdGlvbi1mb3JtJyk7XHJcbiAgICBpZiAoZm9ybXMubGVuZ3RoID4gMCkge1xyXG4gICAgICBmb3IobGV0IGk9MDsgaTxmb3Jtcy5sZW5ndGggOyBpKyspIHtcclxuICAgICAgICBpZighaW5zdGFuY2UudmFsaWRhdGVQZXRGb3JtKCQoZm9ybXNbaV0pKSkge1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgfVxyXG5cclxuICBpbml0Q2hlY2tQYXNzd29yZCgpIHtcclxuICAgICQoJy5qcy1jaGVjay1wYXNzd29yZFt0eXBlPXBhc3N3b3JkXScpLm9uKCdrZXl1cCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgaW5zdGFuY2UuY2hlY2tQYXNzd29yZCgkKHRoaXMpKTtcclxuICAgIH0pO1xyXG4gICAgJCgnLmpzLWNoZWNrLXBhc3N3b3JkW3R5cGU9cGFzc3dvcmRdJykub24oJ2ZvY3VzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAkKCcuZmllbGQtcmVxdWlyZW1lbnRzJykuc2hvdygpO1xyXG4gICAgfSk7XHJcbiAgICAkKCcuanMtY2hlY2stcGFzc3dvcmRbdHlwZT1wYXNzd29yZF0nKS5vbignYmx1cicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgJCgnLmZpZWxkLXJlcXVpcmVtZW50cycpLmhpZGUoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2hlY2tQYXNzd29yZChjb21wb25lbnQpIHtcclxuICAgIGNvbnN0IHBhc3N3b3JkID0gJChjb21wb25lbnQpLnZhbCgpO1xyXG4gICAgY29uc3QgbWluTGVuZ3RoID0gJChjb21wb25lbnQpLmRhdGEoJ3BhcnNsZXktbWlubGVuZ3RoJyk7XHJcbiAgICBjb25zdCBkYXRhUmVxdWlyZW1lbnQgPSBbXHJcbiAgICAgICdsZW5ndGgtcnVsZScsXHJcbiAgICAgICd1cHBlcmNhc2UtcnVsZScsXHJcbiAgICAgICdsb3dlcmNhc2UtcnVsZScsXHJcbiAgICAgICdudW1iZXItcnVsZScsXHJcbiAgICAgICdzcGVjaWFsLWNoYXJhY3Rlci1ydWxlJ1xyXG4gICAgXTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGFSZXF1aXJlbWVudC5sZW5ndGg7IGkrKykge1xyXG4gICAgICB0aGlzLnNob3dQYXNzd29yZFdhcm5pbmcoZGF0YVJlcXVpcmVtZW50W2ldKTtcclxuICAgIH1cclxuICAgIGlmIChwYXNzd29yZC5sZW5ndGggPj0gbWluTGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMucmVtb3ZlUGFzc3dvcmRXYXJuaW5nKCdsZW5ndGgtcnVsZScpO1xyXG4gICAgfVxyXG4gICAgaWYgKHBhc3N3b3JkLm1hdGNoKC9bQS1aXS8pKSB7XHJcbiAgICAgIHRoaXMucmVtb3ZlUGFzc3dvcmRXYXJuaW5nKCd1cHBlcmNhc2UtcnVsZScpO1xyXG4gICAgfVxyXG4gICAgaWYgKHBhc3N3b3JkLm1hdGNoKC9bYS16XS8pKSB7XHJcbiAgICAgIHRoaXMucmVtb3ZlUGFzc3dvcmRXYXJuaW5nKCdsb3dlcmNhc2UtcnVsZScpO1xyXG4gICAgfVxyXG4gICAgaWYgKHBhc3N3b3JkLm1hdGNoKC9cXGQvKSkge1xyXG4gICAgICB0aGlzLnJlbW92ZVBhc3N3b3JkV2FybmluZygnbnVtYmVyLXJ1bGUnKTtcclxuICAgIH1cclxuICAgIGlmIChwYXNzd29yZC5tYXRjaCgvWyRAJCElKiM/Jl0vKSkge1xyXG4gICAgICB0aGlzLnJlbW92ZVBhc3N3b3JkV2FybmluZygnc3BlY2lhbC1jaGFyYWN0ZXItcnVsZScpO1xyXG4gICAgfVxyXG4gIH1cclxuICByZW1vdmVQYXNzd29yZFdhcm5pbmcoZGF0YVZhbHVlKSB7XHJcbiAgICAkKCdsaVtkYXRhLXJlcXVpcmVtZW50PVwiJyArIGRhdGFWYWx1ZSArICdcIl0nKS5jc3MoJ29wYWNpdHknLCAwLjUpO1xyXG4gIH1cclxuXHJcbiAgc2hvd1Bhc3N3b3JkV2FybmluZyhkYXRhVmFsdWUpIHtcclxuICAgICQoJ2xpW2RhdGEtcmVxdWlyZW1lbnQ9XCInICsgZGF0YVZhbHVlICsgJ1wiXScpLmNzcygnb3BhY2l0eScsIDEpO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgSW5zdGFuY2UgPSBuZXcgRm9ybVZhbGlkYXRpb24oKTtcclxuXHJcbk9iamVjdC5mcmVlemUoSW5zdGFuY2UpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgSW5zdGFuY2U7XHJcbiIsImxldCBpbnN0YW5jZSA9IG51bGw7XHJcbmNvbnN0IEFHRV9NSU4gPSAxNTY7IC8vIHVuaXQ6IG1vbnRoID09IDEzIHllYXJzICogMTIgbW9udGhzXHJcblxyXG5leHBvcnQgY2xhc3MgRm91bmRhdGlvbkRhdGVQaWNrZXIge1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgfVxyXG4gICAgdGhpcy5pbml0KCk7XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgLy8gTGFuZzogbmwgZGUgZnIgZW4gcGxcclxuICAgIGNvbnN0IGxhbmcgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubGFuZyB8fCAnZW4nO1xyXG5cclxuICAgICQoJyNwcm9maWxlLWJpcnRoZGF0ZScpLmZkYXRlcGlja2VyKHtcclxuICAgICAgbGFuZ3VhZ2U6IGxhbmcsXHJcbiAgICAgIGZvcm1hdDogJ2RkL21tL3l5eXknLFxyXG4gICAgICAvLyBpbml0aWFsRGF0ZTogJzAxLzAxLzIwMDAnLFxyXG4gICAgICBzdGFydERhdGU6ICcwMS8wMS8xOTIwJyxcclxuICAgICAgZW5kRGF0ZTogJzMxLzEyLzIwMDMnLFxyXG4gICAgICBsZWZ0QXJyb3c6ICc8aSBjbGFzcz1cImljb24tc2xpZGUtcHJldlwiPjwvaT4nLFxyXG4gICAgICByaWdodEFycm93OiAnPGkgY2xhc3M9XCJpY29uLXNsaWRlLW5leHRcIj48L2k+JyxcclxuICAgICAgY2xvc2VCdXR0b246IGZhbHNlXHJcbiAgICB9KVxyXG4gICAgLm9uKCdjaGFuZ2VEYXRlJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgaW5zdGFuY2UudmFsaWRhdGVCaXJ0aERhdGUoKTtcclxuICAgICAgLy8gZXZlbnQuZGF0ZS52YWx1ZU9mKClcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gVmFsaWRhdGlvbiBkYXRlXHJcbiAgdmFsaWRhdGVCaXJ0aERhdGUoKSB7XHJcbiAgICBjb25zdCBpbnB1dEJpcnRoZGF0ZSA9ICQoJyNwcm9maWxlLWJpcnRoZGF0ZScpO1xyXG4gICAgY29uc3QgJGVycm9yTXNnID0gJCgnLnNlbGVjdC1kYXRlX19lcnJvci1tZXNzYWdlJyk7XHJcbiAgICBjb25zdCAkZXJyb3JNc2dQYXJzbGV5ID0gaW5wdXRCaXJ0aGRhdGUubmV4dCgpO1xyXG4gICAgY29uc3QgYmlydGhEYXRlID0gaW5wdXRCaXJ0aGRhdGUudmFsKCk7XHJcbiAgICBjb25zdCB0ZW1wID0gYmlydGhEYXRlLnJlcGxhY2UoL1xcLy9nLCAnLScpLnNwbGl0KCctJyk7XHJcbiAgICB0ZW1wWzFdID0gcGFyc2VJbnQodGVtcFsxXSwgMTApIC0gMTtcclxuICAgIGNvbnN0IGN1cnJlbmREYXRlID0gbW9tZW50KHRlbXAucmV2ZXJzZSgpKTtcclxuICAgIGNvbnN0IGFnZSA9IG1vbWVudCgpLmRpZmYoY3VycmVuZERhdGUsICdtb250aHMnKTtcclxuICAgIGNvbnN0IGlzVXNlckFnZUFsbG93ZWQgPSBhZ2UgPj0gQUdFX01JTjtcclxuXHJcbiAgICBpZiAoaXNVc2VyQWdlQWxsb3dlZCkge1xyXG4gICAgICAkZXJyb3JNc2dQYXJzbGV5LmhpZGUoKTtcclxuICAgICAgJGVycm9yTXNnLmhpZGUoKTtcclxuICAgICAgaW5wdXRCaXJ0aGRhdGUucmVtb3ZlQ2xhc3MoJ3BhcnNsZXktZXJyb3InKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAkZXJyb3JNc2cuc2hvdygpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBpc1VzZXJBZ2VBbGxvd2VkO1xyXG4gIH1cclxuXHJcbiAgLy8gVXBkYXRlcyB0aGUgZGF0ZSBwaWNrZXIncyB2YWx1ZVxyXG4gIHVwZGF0ZUJpcnRoRGF0ZSh2YWx1ZSkge1xyXG4gICAgY29uc3QgZmluZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9maWxlLWJpcnRoZGF0ZScpO1xyXG5cclxuICAgIGlmIChmaW5kLmxlbmd0aCkge1xyXG4gICAgICAkKCcjcHJvZmlsZS1iaXJ0aGRhdGUnKS5mZGF0ZXBpY2tlcigndXBkYXRlJywgdmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgSW5zdGFuY2UgPSBuZXcgRm91bmRhdGlvbkRhdGVQaWNrZXIoKTtcclxuXHJcbk9iamVjdC5mcmVlemUoSW5zdGFuY2UpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgSW5zdGFuY2U7XHJcbiIsImxldCBpbnN0YW5jZSA9IG51bGw7XHJcblxyXG5jbGFzcyBMb2FkTW9yZSB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgaWYgKCFpbnN0YW5jZSkge1xyXG4gICAgICBpbnN0YW5jZSA9IHRoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5wdXNoTGFzdEVsZW1lbnRUb0xlZnQoKTtcclxuXHJcbiAgICAkKCcuanMtbG9hZG1vcmUnKS5jbGljaygoKSA9PiB7XHJcbiAgICAgIC8vIFRPLURPIEltcGzDqW1lbnTDqSBsZSBtw6ljYW5pc21lIGRlIGNoYXJnZW1lbnQgMiozIGV0YyAuLi5cclxuICAgICAgdGhpcy5wcmludFByb2R1Y3RCb3goKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpbnRQcm9kdWN0Qm94KCkge1xyXG4gICAgY29uc3QgbGFzdEVsZW1lbnQgPSAkKCcucHJvZHVjdC1saXN0LWNvbnRhaW5lciA+IC5yb3cnKS5jaGlsZHJlbigpLmxhc3QoKTtcclxuICAgIGNvbnN0IG5ld0VsZW1lbnQgPSBsYXN0RWxlbWVudC5jbG9uZSh0cnVlKTtcclxuICAgIGNvbnN0IGNvbnRhaW5lciA9ICQoJy5wcm9kdWN0LWxpc3QtY29udGFpbmVyID4gLnJvdycpO1xyXG5cclxuICAgIGxhc3RFbGVtZW50LnRvZ2dsZUNsYXNzKCdlbmQnKTtcclxuICAgIG5ld0VsZW1lbnQuYXBwZW5kVG8oY29udGFpbmVyKTtcclxuICAgIG5ld0VsZW1lbnQuc2Nyb2xsVG8oNjAwKTtcclxuICB9XHJcblxyXG4gIHB1c2hMYXN0RWxlbWVudFRvTGVmdCgpIHtcclxuICAgICQoJy5wcm9kdWN0LWxpc3QtY29udGFpbmVyID4gLnJvdycpLmNoaWxkcmVuKCkubGFzdCgpLnRvZ2dsZUNsYXNzKCdlbmQnKTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IEluc3RhbmNlID0gbmV3IExvYWRNb3JlKCk7XHJcblxyXG5PYmplY3QuZnJlZXplKEluc3RhbmNlKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEluc3RhbmNlO1xyXG4iLCJsZXQgaW5zdGFuY2UgPSBudWxsO1xyXG5cclxuY2xhc3MgTG9naW4ge1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgfVxyXG4gICAgaW5zdGFuY2UuaW5pdCgpO1xyXG4gICAgcmV0dXJuIGluc3RhbmNlO1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMucmVnaXN0ZXJMb2dpbigpO1xyXG4gIH1cclxuICByZWdpc3RlckxvZ2luKCkge1xyXG4gICAgJCgnaGVhZGVyIC5sb2dpbi1mb3JtJykub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGNvbnN0IGZvcm0gPSAkKHRoaXMpLmNsb3Nlc3QoJy5sb2dpbi1mb3JtJyk7XHJcbiAgICAgIGlmIChmb3JtLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBpc1ZhbGlkID0gJChmb3JtKS5wYXJzbGV5KCkudmFsaWRhdGUoKTtcclxuICAgICAgJCgnLmxvZ2luLWZvcm0gLm1lc3NhZ2UnKS5oaWRlKCk7XHJcbiAgICAgIGlmIChpc1ZhbGlkKSB7XHJcbiAgICAgICAgY29uc3QgbW9kZWwgPSB7XHJcbiAgICAgICAgICBwYXNzd29yZDogJChcIiNsb2dpbi1mb3JtLXBhc3N3b3JkXCIpLnZhbCgpLFxyXG4gICAgICAgICAgdXNlcm5hbWU6ICQoJyNsb2dpbi1mb3JtLWVtYWlsJykudmFsKCksXHJcbiAgICAgICAgICBzaXRlX2lkOiAkKCdib2R5JykuYXR0cignZGF0YS1wYWdlLWlkJyksXHJcbiAgICAgICAgICByZW1lbWJlcm1lIDogJCgnI2tlZXAtbWUtc2lnbmVkJykuaXMoJzpjaGVja2VkJyksXHJcbiAgICAgICAgICBVcmxQYWdlUmV0dXJuOiAkKCcjVXJsUGFnZVJldHVybicpLnZhbCgpXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBjdWx0dXJlID0gJCgnaHRtbCcpLmF0dHIoJ2xhbmcnKTtcclxuICAgICAgICAkKCcuanMtc2lnbi1pbicpLmFkZENsYXNzKCdidG4tLXdoaXRlIGRpc2FibGVkJyk7XHJcbiAgICAgICAgJCgnLmxvYWRlciBpbWcnKS5zaG93KCk7XHJcbiAgICAgICAgY29uc3QgcmV0dXJuVXJsID0gXCJcIjtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgdXJsOiAnL3VtYnJhY28vU3VyZmFjZS9Mb2dpbi9WYWxpZGF0aW9uTG9naW4vJyxcclxuICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgbW9kZWwsXHJcbiAgICAgICAgICAgIGN1bHR1cmVcclxuICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICQoJy5qcy1zaWduLWluJykucmVtb3ZlQ2xhc3MoJ2J0bi0td2hpdGUgZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgJCgnLmxvYWRlcicpLmhpZGUoKTtcclxuICAgICAgICAgICAgaWYgKCFkYXRhLk1lc3NhZ2VFcnJvciAmJiBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgaW5zdGFuY2UubG9naW5HVE0odGhpcyk7XHJcbiAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBkYXRhLnVybDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAkKCcubG9naW4tZm9ybSAubWVzc2FnZScpLmh0bWwoZGF0YS5NZXNzYWdlRXJyb3IpO1xyXG4gICAgICAgICAgICAgICQoJy5sb2dpbi1mb3JtIC5tZXNzYWdlJykuc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZXJyb3I6IChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAkKCcuanMtc2lnbi1pbicpLnJlbW92ZUNsYXNzKCdidG4tLXdoaXRlIGRpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXInKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICAkKCcubG9naW4tZm9ybSAubWVzc2FnZScpLmh0bWwoZXJyb3IpO1xyXG4gICAgICAgICAgICAkKCcubG9naW4tZm9ybSAubWVzc2FnZScpLnNob3coKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBsb2dpbkdUTShlbG0pIHtcclxuICAgIGNvbnN0IGNvbnRhaW5lciA9ICQoZWxtKS5wYXJlbnRzKCcubG9naW4tcG9waW4nKTtcclxuICAgIGxldCBldmVudExhYmVsID0gJ2xvZ2luXyc7XHJcblxyXG4gICAgaWYgKGNvbnRhaW5lci5sZW5ndGgpIHtcclxuICAgICAgLy8gUG9waW5cclxuICAgICAgZXZlbnRMYWJlbCA9IGV2ZW50TGFiZWwgKyAncG9wLWluJztcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAvLyBMb2dpbiBwYWdlXHJcbiAgICAgIGV2ZW50TGFiZWwgPSBldmVudExhYmVsICsgJ3BhZ2UnO1xyXG4gICAgfVxyXG5cclxuICAgIGRhdGFMYXllci5wdXNoKHtcclxuICAgICAgZXZlbnQ6ICdldmVudF9jcm1fYWN0aW9ucycsXHJcbiAgICAgIGV2ZW50X2NhdGVnb3J5OiAnZXZlbnRfY3JtX2FjdGlvbnMnLFxyXG4gICAgICBldmVudF9hY3Rpb246ICdldmVudF9sb2dpbl9jb21wbGV0ZScsXHJcbiAgICAgIGV2ZW50X2xhYmVsOiBldmVudExhYmVsXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IEluc3RhbmNlID0gbmV3IExvZ2luKCk7XHJcblxyXG5PYmplY3QuZnJlZXplKEluc3RhbmNlKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEluc3RhbmNlO1xyXG4iLCJsZXQgaW5zdGFuY2UgPSBudWxsO1xyXG5jb25zdCBNQVhfU0laRSA9IDQxOTQzMDQ7XHJcbmltcG9ydCB7IGlzRmlsZUV4dGVuc2lvblZhbGlkIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy91dGlscyc7XHJcbmNvbnN0IEZJTEVfRVhURU5TSU9OUyA9IFsnanBlZycsICdqcGcnLCAncG5nJywgJ3BkZiddO1xyXG5cclxuY2xhc3MgTWJnIHtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBpZiAoIWluc3RhbmNlKSB7XHJcbiAgICAgIGluc3RhbmNlID0gdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBpbnN0YW5jZTtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICB0aGlzLmluaXRVcGxvYWQoKTtcclxuICAgIHRoaXMuaW5pdFZhbGlkYXRpb24oKTtcclxuICB9XHJcbiAgaW5pdFVwbG9hZCgpIHtcclxuICAgICQoJy5qcy1tYmctdXBsb2FkJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgIGNvbnN0IGlucHV0ID0gJCh0aGlzKS5uZXh0KCdpbnB1dFt0eXBlPVwiZmlsZVwiXScpO1xyXG4gICAgICAkKGlucHV0KS5jbGljaygpO1xyXG4gICAgfSk7XHJcbiAgICAkKCcuanMtbWJnLWlucHV0LWZpbGUnKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgIGlmICh0aGlzLmZpbGVzICYmIHRoaXMuZmlsZXNbMF0pIHtcclxuICAgICAgICBpZiAoIXdpbmRvdy5GaWxlUmVhZGVyKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLmZpbGVzWzBdO1xyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9ICQodGhpcykubmV4dEFsbCgnLm1iZ19faW1nLXByZXZpZXc6Zmlyc3QnKTtcclxuICAgICAgICBjb25zdCBidXR0b24gPSAkKHRoaXMpLnByZXYoJy5qcy1tYmctdXBsb2FkJyk7XHJcbiAgICAgICAgbGV0IGltZyA9IGNvbnRhaW5lci5maW5kKCdpbWcnKTtcclxuICAgICAgICBsZXQgZmlsZU5hbWUgPSBjb250YWluZXIuZmluZCgnLmZpbGUtbmFtZScpO1xyXG4gICAgICAgIGNvbnN0IGVycm9yTXNnID0gY29udGFpbmVyLmZpbmQoJy5lcnJvci1tZXNzYWdlJyk7XHJcbiAgICAgICAgJChmaWxlTmFtZSkudGV4dChmaWxlLm5hbWUpO1xyXG5cclxuICAgICAgICBpZighaXNGaWxlRXh0ZW5zaW9uVmFsaWQoZmlsZS5uYW1lLCBGSUxFX0VYVEVOU0lPTlMpKSB7XHJcbiAgICAgICAgICAkKGVycm9yTXNnKS5zaG93KCk7XHJcbiAgICAgICAgICAkKGZpbGVOYW1lKS5zaG93KCk7XHJcbiAgICAgICAgICAkKCcjZ2VuY29kZScpLnByb3AoJ3JlcXVpcmVkJyx0cnVlKTtcclxuICAgICAgICAgIGlmIChpbWcubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICQoaW1nKS5yZW1vdmUoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChmaWxlLnNpemUgPiBNQVhfU0laRSkge1xyXG4gICAgICAgICAgJChlcnJvck1zZykuc2hvdygpO1xyXG4gICAgICAgICAgaWYgKGltZy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgJChpbWcpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKGVycm9yTXNnKS5oaWRlKCk7XHJcbiAgICAgICAgaWYgKCFpbWcubGVuZ3RoKSB7XHJcbiAgICAgICAgICBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoJ2FsdCcsICdQcmV2aWV3IEltYWdlJyk7XHJcbiAgICAgICAgICBpbWcuc2V0QXR0cmlidXRlKCdjbGFzcycsICdpbWctLXJlc3BvbnNpdmUnKTtcclxuICAgICAgICAgICQoY29udGFpbmVyKS5hcHBlbmQoJChpbWcpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuXHJcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICBpZihmaWxlLnR5cGUgIT09ICdhcHBsaWNhdGlvbi9wZGYnKSB7XHJcbiAgICAgICAgICAgICQoaW1nKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoaW1nKS5hdHRyKCdzcmMnLCBlLnRhcmdldC5yZXN1bHQpO1xyXG4gICAgICAgICAgICAkKGZpbGVOYW1lKS50ZXh0KCcnKTtcclxuICAgICAgICAgICAgJChmaWxlTmFtZSkuaGlkZSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICQoaW1nKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoaW1nKS5hdHRyKCdzcmMnLCAnJyk7XHJcbiAgICAgICAgICAgICQoZmlsZU5hbWUpLnRleHQoZmlsZS5uYW1lKTtcclxuICAgICAgICAgICAgJChmaWxlTmFtZSkuc2hvdygpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcblxyXG4gICAgICAgIC8vIGNoYW5nZSBidXR0b24gdGV4dFxyXG4gICAgICAgIGlmIChidXR0b24ubGVuZ3RoKSB7XHJcbiAgICAgICAgICBjb25zdCBzcGFuID0gJChidXR0b24pLmZpbmQoJ3NwYW4nKTtcclxuICAgICAgICAgICQoc3BhbikudGV4dCgkKGJ1dHRvbikuYXR0cignZGF0YS1yZWxvYWQtdGV4dCcpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZ2VuY29kZUlucHV0ID0gJCgnI2dlbmNvZGUnKTtcclxuXHJcbiAgICAgICAgLy8gdmFsaWRhdGUgZ2VuY29kZVxyXG4gICAgICAgICQodGhpcykucmVtb3ZlQXR0cigncmVxdWlyZWQnKTtcclxuICAgICAgICBpZiAoJChnZW5jb2RlSW5wdXQpLnZhbCgpLmxlbmd0aCA9PT0gMCAmJiAkKHRoaXMpLmF0dHIoJ2lkJykgPT09ICdnZW5jb2RlLXBob3RvJykge1xyXG4gICAgICAgICAgJChnZW5jb2RlSW5wdXQpLnJlbW92ZUF0dHIoJ3JlcXVpcmVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQoJyNnZW5jb2RlJykucGFyc2xleSgpLnZhbGlkYXRlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICBpbml0VmFsaWRhdGlvbigpIHtcclxuICAgICQoJy5tYmdfX2Zvcm0nKS5wYXJzbGV5KCk7XHJcbiAgICAkKCcjZ2VuY29kZScpLm9uKCdrZXl1cCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgaW5zdGFuY2UuaGFuZGxlR2VuQ29kZVZhbGlkYXRpb24oJCh0aGlzKS52YWwoKSk7XHJcbiAgICB9KTtcclxuICAgICQoJyNnZW5jb2RlJykuYmluZCgncGFzdGUnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgdmFyIHBhc3RlZERhdGEgPSBldmVudC5vcmlnaW5hbEV2ZW50LmNsaXBib2FyZERhdGEuZ2V0RGF0YSgndGV4dCcpO1xyXG4gICAgICBpbnN0YW5jZS5oYW5kbGVHZW5Db2RlVmFsaWRhdGlvbihwYXN0ZWREYXRhKTtcclxuICAgIH0pO1xyXG4gICAgJCgnLmpzLXZhbGlkYXRlLW1iZycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KXtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgY29uc3QgZm9ybSA9ICQoJy5tYmdfX2Zvcm0nKTtcclxuICAgICAgY29uc3QgaXNWYWxpZCA9IGZvcm0ucGFyc2xleSgpLnZhbGlkYXRlKCk7XHJcbiAgICAgIGNvbnN0IHZhbGlkYXRlSW5wdXQgPSBpbnN0YW5jZS52YWxpZGF0ZUZpbGVGb3JtYXQoKTtcclxuICAgICAgaWYodmFsaWRhdGVJbnB1dCAmJiBpc1ZhbGlkKSB7XHJcbiAgICAgICAgZm9ybS5zdWJtaXQoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB2YWxpZGF0ZUZpbGVGb3JtYXQoKSB7XHJcbiAgICBjb25zdCBpbnB1dEZpbGVzID0gJCgnLmpzLW1iZy1pbnB1dC1maWxlJyk7XHJcbiAgICAvL2NvbnN0IGZpbGUgPSAkKGlucHV0RmlsZSkuZmlsZXNbMF07XHJcbiAgICBmb3IobGV0IGk9MDsgaTxpbnB1dEZpbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0ICRpbnB1dEZpbGUgPSAkKGlucHV0RmlsZXNbaV0pO1xyXG4gICAgICBjb25zdCBmaWxlcyA9ICRpbnB1dEZpbGUucHJvcCgnZmlsZXMnKTtcclxuICAgICAgaWYoZmlsZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnN0IGZpbGUgPSBmaWxlc1swXTtcclxuICAgICAgICBpZighaXNGaWxlRXh0ZW5zaW9uVmFsaWQoZmlsZS5uYW1lLCBGSUxFX0VYVEVOU0lPTlMpKSB7XHJcbiAgICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgIHNjcm9sbFRvcDogKCRpbnB1dEZpbGUub2Zmc2V0KCkudG9wIC0gMzAwKVxyXG4gICAgICAgICAgfSwgNTAwKTtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlR2VuQ29kZVZhbGlkYXRpb24odmFsdWUpIHtcclxuICAgIGlmICh2YWx1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICQoJyNnZW5jb2RlLXBob3RvJykucmVtb3ZlQXR0cigncmVxdWlyZWQnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICQoJyNnZW5jb2RlLXBob3RvJykuYXR0cigncmVxdWlyZWQnLCAncmVxdWlyZWQnKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuY29uc3QgSW5zdGFuY2UgPSBuZXcgTWJnKCk7XHJcbk9iamVjdC5mcmVlemUoSW5zdGFuY2UpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgSW5zdGFuY2U7XHJcbiIsImltcG9ydCBQb3BpbiBmcm9tICcuL3BvcGluJztcclxubGV0IGluc3RhbmNlID0gbnVsbDtcclxuXHJcbmNsYXNzIE5hdmJhck1vYmlsZSB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgaWYgKCFpbnN0YW5jZSkge1xyXG4gICAgICBpbnN0YW5jZSA9IHRoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgJCgnLmpzLW1lbnUtdG9nZ2xlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgIGluc3RhbmNlLnN3aXRjaE1lbnUodGhpcyk7XHJcbiAgICB9KTtcclxuICAgIGluc3RhbmNlLmluaXRNb2JpbGVOYXYoKTtcclxuICAgIGluc3RhbmNlLmluaXRNb2JpbGVDbGljaygpO1xyXG4gIH1cclxuICBzd2l0Y2hNZW51KGVsZW1lbnQpIHtcclxuICAgIGlmICgkKGVsZW1lbnQpLmhhc0NsYXNzKCdtZW51LWFjdGl2ZScpKSB7XHJcbiAgICAgICQoJy5uYXYtbW9iaWxlJykuaGlkZSgpO1xyXG4gICAgICAkKGVsZW1lbnQpLnRvZ2dsZUNsYXNzKCdtZW51LWFjdGl2ZScpO1xyXG4gICAgICAkKGVsZW1lbnQpLmZpbmQoJ2knKS5yZW1vdmVDbGFzcygnaWNvbi1jbG9zZScpLmFkZENsYXNzKCdpY29uLWhhbWJ1cmdlcicpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICQoJy5uYXYtbW9iaWxlJykuc2hvdygpO1xyXG4gICAgICAkKGVsZW1lbnQpLnRvZ2dsZUNsYXNzKCdtZW51LWFjdGl2ZScpO1xyXG4gICAgICAkKGVsZW1lbnQpLmZpbmQoJ2knKS5yZW1vdmVDbGFzcygnaWNvbi1oYW1idXJnZXInKS5hZGRDbGFzcygnaWNvbi1jbG9zZScpO1xyXG4gICAgfVxyXG4gIH1cclxuICAgIC8vIEZ1bmN0aW9uIFRoYXQgaW5pdCB0aGUgbW9iaWxlIGFuY2hvclxyXG4gIGluaXRNb2JpbGVOYXYoKSB7XHJcbiAgICAkKCcubmF2YmFyJykuZmluZCgndWwnKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAkKHRoaXMpLmNsb25lKCkuYXBwZW5kVG8oJy5uYXYtbW9iaWxlJyk7XHJcbiAgICB9KTtcclxuICAgICQoJy5uYXYtbW9iaWxlIHVsJykucmVtb3ZlQ2xhc3MoKTtcclxuICAgICQoJy5uYXYtbW9iaWxlIGxpJykucmVtb3ZlQ2xhc3MoKTtcclxuXHJcbiAgICBjb25zdCBpbWdTcmMgPSAkKCcubmF2LW1vYmlsZScpLmZpbmQoJ2ltZycpLmF0dHIoJ2RhdGEtaW1nLW1vYmlsZScpO1xyXG4gICAgaWYgKGltZ1NyYyAmJiBpbWdTcmMubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICQoJy5uYXYtbW9iaWxlJykuZmluZCgnaW1nJykuYXR0cignc3JjJywgaW1nU3JjKTtcclxuICAgIH1cclxuICAgIFBvcGluLnJlZ2lzdGVyUG9waW5BcnJheSgpO1xyXG4gIH1cclxuXHJcbiAgaW5pdE1vYmlsZUNsaWNrKCkge1xyXG4gICAgJCgnLm5hdi1tb2JpbGUgYScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICQoJy5qcy1tZW51LXRvZ2dsZScpLmNsaWNrKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG59XHJcblxyXG5jb25zdCBJbnN0YW5jZSA9IG5ldyBOYXZiYXJNb2JpbGUoKTtcclxuXHJcbk9iamVjdC5mcmVlemUoSW5zdGFuY2UpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgSW5zdGFuY2U7XHJcbiIsImxldCBpbnN0YW5jZSA9IG51bGw7XHJcblxyXG5leHBvcnQgY2xhc3MgT2ZmZXJzQ2Fyb3VzZWwge1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGluc3RhbmNlO1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgICQoJy5vZmZlcnMtbGlzdCcpLnNsaWNrKHtcclxuICAgICAgLy8gZW50ZXJNb2RlOiB0cnVlLFxyXG4gICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICBhcnJvd3M6IHRydWVcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgSW5zdGFuY2UgPSBuZXcgT2ZmZXJzQ2Fyb3VzZWwoKTtcclxuXHJcbk9iamVjdC5mcmVlemUoSW5zdGFuY2UpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgSW5zdGFuY2U7XHJcbiIsImxldCBpbnN0YW5jZSA9IG51bGw7XHJcblxyXG5jbGFzcyBQb3BpbkxvZ2luIHtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBpZiAoIWluc3RhbmNlKSB7XHJcbiAgICAgIGluc3RhbmNlID0gdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBpbnN0YW5jZTtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICAkKCcuanMtbG9naW4nKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgJCgnLmpzLWxvZ2luJykubWFnbmlmaWNQb3B1cCh7XHJcbiAgICAgICAgaXRlbXM6IHtcclxuICAgICAgICAgIHNyYzogJCgnLmxvZ2luLXBvcGluJyksXHJcbiAgICAgICAgICB0eXBlOiAnaW5saW5lJ1xyXG4gICAgICAgIH1cclxuICAgICAgfSkubWFnbmlmaWNQb3B1cCgnb3BlbicpO1xyXG4gICAgICBpbnN0YW5jZS5sb2dpbkdUTSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBsb2dpbkdUTSgpIHtcclxuICAgIGRhdGFMYXllci5wdXNoKHtcclxuICAgICAgZXZlbnQ6ICdldmVudF9jcm1fYWN0aW9ucycsXHJcbiAgICAgIGV2ZW50X2NhdGVnb3J5OiAnZXZlbnRfY3JtX2FjdGlvbnMnLFxyXG4gICAgICBldmVudF9hY3Rpb246ICdldmVudF9sb2dpbl92aWV3X2Zvcm0nLFxyXG4gICAgICBldmVudF9sYWJlbDogJ2xvZ2luX3BvcC1pbidcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgSW5zdGFuY2UgPSBuZXcgUG9waW5Mb2dpbigpO1xyXG5cclxuT2JqZWN0LmZyZWV6ZShJbnN0YW5jZSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBJbnN0YW5jZTtcclxuIiwiaW1wb3J0IFBvcGluTG9naW4gZnJvbSAnLi9wb3Bpbi1sb2dpbic7XHJcbmltcG9ydCBDb3Vwb24gZnJvbSAnLi4vZ3RtL2NvdXBvbic7XHJcblxyXG5sZXQgaW5zdGFuY2UgPSBudWxsO1xyXG5sZXQgYWpheENvdW50ZXIgPSAwO1xyXG5jbGFzcyBQb3BpbiB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5sb3VwRWxlbWVudCA9IGA8c3BhbiBjbGFzcz1cImljb24td3JhcHBlclwiPjxpIGNsYXNzPVwiaWNvbi16b29tICBwcm9kdWN0LWluZm9fX3pvb21cIlxyXG4gICAgICAgICAgICAgaWQ9XCJqcy1wcm9kdWN0LWluZm8tem9vbVwiPjwvaT48L3NwYW4+YDtcclxuICAgIHRoaXMucG9waW5BcnJheSA9IFtcclxuICAgICAge1xyXG4gICAgICAgIGFjdGl2YXRvcjogJy5qcy1wcmludC1jb3Vwb24nLFxyXG4gICAgICAgIHBvcGluTW9iaWxlOiAnLmNvdXBvbi0tcHJldmVudC1wcmludCcsXHJcbiAgICAgICAgcG9waW5EZXNrdG9wOiAnLmNvdXBvbi1wb3Bpbi0tb25lJ1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgYWN0aXZhdG9yOiAnLmpzLWZvcmdvdC1wYXNzd29yZCcsXHJcbiAgICAgICAgcG9waW5EZXNrdG9wOiAnLnJlc3QtcGFzc3dvcmQtc3RlcC0xJ1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgYWN0aXZhdG9yOiAnLmxvZy1pbi1saW5rJyxcclxuICAgICAgICBwb3BpbkRlc2t0b3A6ICcubG9naW4tcG9waW4nXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBhY3RpdmF0b3I6ICcuanMtcmVzZW50LWVtYWlsJyxcclxuICAgICAgICBwb3BpbkRlc2t0b3A6ICcucmVzZW50LWVtYWlsJ1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgYWN0aXZhdG9yOiAnLmpzLXRvdGFsZml2ZS1iZW5lZml0cycsXHJcbiAgICAgICAgcG9waW5EZXNrdG9wOiAnLnRvdGFsLWZpdmUtYmVuZWZpdHMtcG9waW4nXHJcbiAgICAgIH1cclxuICAgIF07XHJcbiAgICBpZiAoIWluc3RhbmNlKSB7XHJcbiAgICAgIGluc3RhbmNlID0gdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBpbnN0YW5jZTtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICB0aGlzLnJlZ2lzdGVyUG9waW5BcnJheSgpO1xyXG4gICAgaWYgKCQoJy5zbGljay1pbml0aWFsaXplZCcpLmxlbmd0aCkge1xyXG4gICAgICAkKCcucHJvZHVjdC1pbmZvX19jYXJvdXNlbCcpLmFwcGVuZCh0aGlzLmxvdXBFbGVtZW50KTtcclxuICAgIH1cclxuICAgICQoJyNqcy1wcm9kdWN0LWluZm8tem9vbScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBpbnN0YW5jZS5pbml0SW1nUG9waW4odGhpcywgJCgnLnByb2R1Y3QtaW5mb19fY2Fyb3VzZWwgLnNsaWNrLWN1cnJlbnQgaW1nJykuYXR0cignc3JjJyksICdpbWFnZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gcG9wdXAgZm9yIHByb2R1Y3Qgc2xpZGVyIGNhcm91c2VsIHBhY2tzaG90XHJcbiAgICAkKCcucHJvZHVjdC1pbmZvX19wYWNrc2hvdCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBpbnN0YW5jZS5pbml0SW1nUG9waW4odGhpcywgJCh0aGlzKS5maW5kKCdpbWcnKS5hdHRyKCdzcmMnKSwgJ2ltYWdlJyk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuYnV0dG9uQ2xpY2tDc3NNYW5hZ2VyKCk7XHJcblxyXG4gICAgLy8gJCgnLmpzLXByaW50LWNvdXBvbi1ub3cnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAvLyAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAvLyAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIC8vICAgbG9jYXRpb24uaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcclxuICAgIC8vICAgJCgnLm1mcC1jbG9zZScpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAvLyAgIHdpbmRvdy5vcGVuKCQodGhpcykuYXR0cignaHJlZicpLCAnX2JsYW5rJyk7XHJcbiAgICAvLyB9KTtcclxuICB9XHJcblxyXG4gIGluaXRJbWdQb3BpbihlbGVtZW50LCBzcmMsIHR5cGUpIHtcclxuICAgICQubWFnbmlmaWNQb3B1cC5vcGVuKHtcclxuICAgICAgaXRlbXM6IHtcclxuICAgICAgICBzcmMsXHJcbiAgICAgICAgdHlwZVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlZ2lzdGVyUG9waW5BcnJheSgpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wb3BpbkFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHRoaXMucmVnaXN0ZXJQb3Bpbih0aGlzLnBvcGluQXJyYXlbaV0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVnaXN0ZXJQb3BpbihvcHRpb25zKSB7XHJcbiAgICBjb25zdCBhY3RpdmF0b3IgPSBvcHRpb25zLmFjdGl2YXRvciB8fCBudWxsO1xyXG4gICAgY29uc3QgcG9waW5Nb2JpbGUgPSBvcHRpb25zLnBvcGluTW9iaWxlIHx8IG51bGw7XHJcbiAgICBjb25zdCBwb3BpbkRlc2t0b3AgPSBvcHRpb25zLnBvcGluRGVza3RvcCB8fCBudWxsO1xyXG4gICAgbGV0IGhyZWYgPSBudWxsO1xyXG4gICAgaWYgKCEoYWN0aXZhdG9yICYmIHBvcGluRGVza3RvcCkpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgJChhY3RpdmF0b3IpLm9mZignY2xpY2snKS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICBjb25zdCBsb2dQb3AgPSAkKHRoaXMpLmhhc0NsYXNzKCdsb2ctaW4tbGluaycpO1xyXG4gICAgICBpZiAobG9nUG9wKSB7XHJcbiAgICAgICAgUG9waW5Mb2dpbi5sb2dpbkdUTSgpO1xyXG4gICAgICB9XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnZGlzYWJsZWQnKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygncHJpbnQtY291cG9uJykgJiYgKCFpbnN0YW5jZS5pc01vYmlsZURldmljZSgpKSkge1xyXG4gICAgICAgIGhyZWYgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcclxuICAgICAgICAkKHBvcGluRGVza3RvcCArICcgLmpzLXByaW50LWNvdXBvbi1ub3cnKS5hdHRyKCdocmVmJywgaHJlZik7XHJcbiAgICAgICAgaW5zdGFuY2UuYWpheFRlc3RVc2VyTG9nZ2VkSW4oaHJlZiwgcG9waW5EZXNrdG9wLCB0aGlzKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoaW5zdGFuY2UuaXNNb2JpbGVEZXZpY2UoKSAmJiBwb3Bpbk1vYmlsZSkge1xyXG4gICAgICAgIGhyZWYgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcclxuICAgICAgICBjb25zdCBwcmludENvdXBvbiA9ICQoJy5qcy1kYXRhLXByaW50LWNvdXBvbicpLmF0dHIoJ2RhdGEtcHJpbnQtY291cG9uJyk7XHJcbiAgICAgICAgaHJlZiA9IGhyZWYgKyAnJmRldmljZT1tb2JpbGUnICsgJyZwcmludExvZ2luPXByaW50PScgKyBwcmludENvdXBvbjtcclxuICAgICAgICBpbnN0YW5jZS5zZW5kTWFpbChocmVmLCBhY3RpdmF0b3IsIHRoaXMpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbnN0ICRsZm9ybSA9ICQoJ2hlYWRlciAubG9naW4tZm9ybScpO1xyXG4gICAgICAgIGNvbnN0ICRyZm9ybSA9ICQoJ2hlYWRlciAucmVzZXQtcGFzc3dvcmQtZm9ybScpO1xyXG4gICAgICAgIGNvbnN0ICRyZXNlbnRGb3JtID0gJCgnaGVhZGVyIC5yZXNlbnQtZW1haWwtZm9ybScpO1xyXG4gICAgICAgIGlmICgkcmVzZW50Rm9ybS5sZW5ndGgpIHtcclxuICAgICAgICAgICRyZXNlbnRGb3JtWzBdLnJlc2V0KCk7XHJcbiAgICAgICAgICAkcmVzZW50Rm9ybS5wYXJzbGV5KCkucmVzZXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCRsZm9ybS5sZW5ndGgpIHtcclxuICAgICAgICAgICRsZm9ybVswXS5yZXNldCgpO1xyXG4gICAgICAgICAgJGxmb3JtLnBhcnNsZXkoKS5yZXNldCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoJHJmb3JtLmxlbmd0aCkge1xyXG4gICAgICAgICAgJHJmb3JtWzBdLnJlc2V0KCk7XHJcbiAgICAgICAgICAkcmZvcm0ucGFyc2xleSgpLnJlc2V0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnanMtZm9yZ290LXBhc3N3b3JkJykpIHtcclxuICAgICAgICAgIGRhdGFMYXllci5wdXNoKHtcclxuICAgICAgICAgICAgZXZlbnQ6ICdldmVudF9jcm1fYWN0aW9ucycsXHJcbiAgICAgICAgICAgIGV2ZW50X2NhdGVnb3J5OiAnZXZlbnRfY3JtX2FjdGlvbnMnLFxyXG4gICAgICAgICAgICBldmVudF9hY3Rpb246J2V2ZW50X3Jlc2V0X3Bhc3N3b3JkJyxcclxuICAgICAgICAgICAgZXZlbnRfbGFiZWw6ICdyZXNldF9wYXNzd29yZF9wb3AtaW4nXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJCh0aGlzKS5tYWduaWZpY1BvcHVwKHtcclxuICAgICAgICAgIGl0ZW1zOiB7XHJcbiAgICAgICAgICAgIHNyYzogJChwb3BpbkRlc2t0b3ApLFxyXG4gICAgICAgICAgICB0eXBlOiAnaW5saW5lJ1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGNhbGxiYWNrczoge1xyXG4gICAgICAgICAgICBiZWZvcmVDbG9zZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgJGxmb3JtID0gJCgnaGVhZGVyIC5sb2dpbi1mb3JtJyk7XHJcbiAgICAgICAgICAgICAgY29uc3QgJHJmb3JtID0gJCgnaGVhZGVyIC5yZXNldC1wYXNzd29yZC1mb3JtJyk7XHJcbiAgICAgICAgICAgICAgY29uc3QgJHJlc2VudEZvcm0gPSAkKCdoZWFkZXIgLnJlc2VudC1lbWFpbC1mb3JtJyk7XHJcbiAgICAgICAgICAgICAgaWYgKCRyZXNlbnRGb3JtLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgJHJlc2VudEZvcm1bMF0ucmVzZXQoKTtcclxuICAgICAgICAgICAgICAgICRyZXNlbnRGb3JtLnBhcnNsZXkoKS5yZXNldCgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZiAoJGxmb3JtLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgJGxmb3JtWzBdLnJlc2V0KCk7XHJcbiAgICAgICAgICAgICAgICAkbGZvcm0ucGFyc2xleSgpLnJlc2V0KCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGlmICgkcmZvcm0ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAkcmZvcm1bMF0ucmVzZXQoKTtcclxuICAgICAgICAgICAgICAgICRyZm9ybS5wYXJzbGV5KCkucmVzZXQoKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgJCgnLm1lc3NhZ2UnKS5odG1sKCcnKTtcclxuICAgICAgICAgICAgICAkKCcubWVzc2FnZScpLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pLm1hZ25pZmljUG9wdXAoJ29wZW4nKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGFqYXhUZXN0VXNlckxvZ2dlZEluKHVybCwgcG9waW5FbGVtZW50LCBlbG0pIHtcclxuICAgIGNvbnN0IGNwID0gJChlbG0pLmhhc0NsYXNzKCdqcy1wcmludC1jb3Vwb24nKTtcclxuICAgIC8vIFRPLURPOiBEZXByZWNhdGVkIHdpdGggRklYIDEzMDk5XHJcbiAgICAvKiBpZiAoY3ApIHtcclxuICAgICAgQ291cG9uLnNlbmRHdG0oZWxtKTtcclxuICAgIH0qL1xyXG5cclxuICAgICQuYWpheCh7XHJcbiAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgdXJsOiB1cmwsXHJcbiAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgLy8gaWYgdXNlciBpcyBub3QgbG9nZ2VkIGluXHJcbiAgICAgICAgaWYgKGRhdGEudXJsTG9naW4pIHtcclxuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZGF0YS51cmxMb2dpbiArICc/cmV0dXJuVXJsPScgKyBkYXRhLnVybDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBpZiAoZGF0YS51cmwpIHtcclxuICAgICAgICAgICAgJChwb3BpbkVsZW1lbnQgKyAnIC5qcy1wcmludC1jb3Vwb24tbm93JykuYXR0cignaHJlZicsIGRhdGEudXJsKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgICQoJy5qcy1wcmludC1jb3Vwb24nKS5tYWduaWZpY1BvcHVwKHtcclxuICAgICAgICAgICAgaXRlbXM6IHtcclxuICAgICAgICAgICAgICBzcmM6ICQocG9waW5FbGVtZW50KSxcclxuICAgICAgICAgICAgICB0eXBlOiAnaW5saW5lJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KS5tYWduaWZpY1BvcHVwKCdvcGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBlcnJvcjogKGVycm9yKSA9PiB7fVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNZXRob2Q6IGNoZWNrIGlmIHdlIGFyZSBvbiBtb2JpbGUgZGV2aWNlIG9yIGRlc2t0b3AgY29tcHV0ZXJcclxuICAgKiBAcmV0dXJuIHtCb29sZWFufSBSZXR1cm4gdHJ1ZSBpZiB3ZSBhcmUgb24gbW9iaWxlIGRldmljZSBhbmQgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gICAqL1xyXG4gIGlzTW9iaWxlRGV2aWNlKCkge1xyXG4gICAgaWYgKC9Nb2JpLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgYnV0dG9uQ2xpY2tDc3NNYW5hZ2VyKCkge1xyXG4gICAgaWYgKHRoaXMuaXNNb2JpbGVEZXZpY2UoKSkge1xyXG4gICAgICAkKCcuYnRuLS1mb3JtJykub24oJ3RvdWNoc3RhcnQnLCAoKSA9PiB7XHJcbiAgICAgICAgJCgnLmJ0bi0tZm9ybScpLmFkZENsYXNzKCdidG4tLWhhcy1ob3ZlcicpO1xyXG4gICAgICB9KTtcclxuICAgICAgJCgnLmJ0bi0tZm9ybScpLm9uKCd0b3VjaGVuZCcsICgpID0+IHtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICQoJy5idG4tLWZvcm0nKS5yZW1vdmVDbGFzcygnYnRuLS1oYXMtaG92ZXInKTtcclxuICAgICAgICB9LCAzMDApO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNlbmRNYWlsKHVybCwgcG9waW5FbGVtZW50LCBlbG0pIHtcclxuICAgIGNvbnN0IGNwID0gJChlbG0pLmhhc0NsYXNzKCdqcy1wcmludC1jb3Vwb24nKTtcclxuICAgIGlmIChjcCkge1xyXG4gICAgICBDb3Vwb24uc2VuZEd0bShlbG0pO1xyXG4gICAgfVxyXG5cclxuICAgICQuYWpheCh7XHJcbiAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgdXJsOiB1cmwsXHJcbiAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBkZXZpY2U6IHRoaXMuaXNNb2JpbGVEZXZpY2UoKSA/ICdtb2JpbGUnIDogJ2Rlc2t0b3AnXHJcbiAgICAgIH0pLFxyXG4gICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xyXG4gICAgICAgIC8vIGlmIHVzZXIgaXMgbm90IGxvZ2dlZCBpblxyXG4gICAgICAgIGlmIChkYXRhLnVybE1vYmlsZSkge1xyXG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBkYXRhLnVybE1vYmlsZSArICc/cmV0dXJuVXJsPScgKyBkYXRhLnVybDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBpZiAoZGF0YS5NZXNzYWdlRXJyb3IpIHtcclxuICAgICAgICAgICAgJCgnLmNvdXBvbi0tcHJldmVudC1wcmludCAuY291cG9uLXBvcGluX19lbGVtZW50IHAnKS5odG1sKGRhdGEuTWVzc2FnZUVycm9yKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgICQoJy5qcy1wcmludC1jb3Vwb24nKS5tYWduaWZpY1BvcHVwKHtcclxuICAgICAgICAgICAgaXRlbXM6IHtcclxuICAgICAgICAgICAgICBzcmM6ICQoJy5jb3Vwb24tLXByZXZlbnQtcHJpbnQnKSxcclxuICAgICAgICAgICAgICB0eXBlOiAnaW5saW5lJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KS5tYWduaWZpY1BvcHVwKCdvcGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBlcnJvcjogKGVycm9yKSA9PiB7XHJcbiAgICAgICAgLy8gJCgnLnJlc2V0LXBhc3N3b3JkLWZvcm0gLm1lc3NhZ2UnKS5odG1sKGVycm9yKTtcclxuICAgICAgICAvLyAkKCcucmVzZXQtcGFzc3dvcmQtZm9ybSAubWVzc2FnZScpLnNob3coKTtcclxuICAgICAgICAkKCcuY291cG9uLS1wcmV2ZW50LXByaW50IC5jb3Vwb24tcG9waW5fX2VsZW1lbnQgcCcpLmh0bWwoZXJyb3Iuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgJCgnLmpzLXByaW50LWNvdXBvbicpLm1hZ25pZmljUG9wdXAoe1xyXG4gICAgICAgICAgaXRlbXM6IHtcclxuICAgICAgICAgICAgc3JjOiAkKCcuY291cG9uLS1wcmV2ZW50LXByaW50JyksXHJcbiAgICAgICAgICAgIHR5cGU6ICdpbmxpbmUnXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSkubWFnbmlmaWNQb3B1cCgnb3BlbicpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IEluc3RhbmNlID0gbmV3IFBvcGluKCk7XHJcblxyXG5PYmplY3QuZnJlZXplKEluc3RhbmNlKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEluc3RhbmNlO1xyXG4iLCJsZXQgaW5zdGFuY2UgPSBudWxsO1xyXG4vKiBwZXRUeXBlIGZpbHRlciBub3QgeWV0IGltcGxlbWVudGVkKi9cclxuY29uc3QgcGV0VHlwZSA9ICdjYXQnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFByb2R1Y3RCb3gge1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGluc3RhbmNlO1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuXHJcbiAgICAkKCcuanMtdmlldy1wcm9kdWN0JykuY2xpY2soKCkgPT4ge1xyXG4gICAgICBsZXQgcHJvZHVjdE5hbWU7XHJcblxyXG4gICAgICBpZiAocGV0VHlwZSA9PT0gJ2NhdCcpIHtcclxuICAgICAgICBwcm9kdWN0TmFtZSA9ICcnO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKHBldFR5cGUgPT09ICdkb2cnKSB7XHJcbiAgICAgICAgcHJvZHVjdE5hbWUgPSAnJztcclxuICAgICAgfVxyXG5cclxuICAgICAgZGF0YUxheWVyLnB1c2goe1xyXG4gICAgICAgIGV2ZW50OiAnZXZlbnRfdXNlcl9uYXZpZ2F0aW9uJyxcclxuICAgICAgICBldmVudF9jYXRlZ29yeTogJ2V2ZW50X3Byb2R1Y3RfYWN0aW9ucycsXHJcbiAgICAgICAgZXZlbnRfYWN0aW9uOiAnZXZlbnRfY29uc3VsdGF0aW9uX2RvZ19wcm9kdWN0JywgLy8gJ2V2ZW50X2NvbnN1bHRhdGlvbl9jYXRfcHJvZHVjdCcsXHJcbiAgICAgICAgZXZlbnRfbGFiZWw6IHByb2R1Y3ROYW1lXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBJbnN0YW5jZSA9IG5ldyBQcm9kdWN0Qm94KCk7XHJcblxyXG5PYmplY3QuZnJlZXplKEluc3RhbmNlKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEluc3RhbmNlO1xyXG4iLCJsZXQgaW5zdGFuY2UgPSBudWxsO1xyXG5sZXQgbmJFbGVtZW50ID0gMDtcclxuXHJcbi8qKlxyXG4gKiBDbGFzcyBTbGlja1NsaWRlclxyXG4gKi9cclxuY2xhc3MgU2xpY2tTbGlkZXIge1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuc2xpZGVyID0gJy5hY3RpdmF0ZWQnO1xyXG4gICAgdGhpcy5sYW5nID0gJCgnaHRtbCcpLmF0dHIoJ2xhbmcnKTtcclxuICAgIHRoaXMubmJFbGVtZW50ID0gMDtcclxuICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGdlbmVyYWwgY29uZmlndXJhdGlvbiBvZiB0aGUgc2xpY2sgc2xpZGVyLlxyXG4gICAgdGhpcy5jb25maWcgPSB7XHJcbiAgICAgIGluZmluaXRlOiB0cnVlLFxyXG4gICAgICBzbGlkZXNUb1Nob3c6IDUsXHJcbiAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgICBzd2lwZTogdHJ1ZSxcclxuICAgICAgdG91Y2hNb3ZlOiB0cnVlLFxyXG4gICAgICBhcnJvd3M6IHRydWUsXHJcbiAgICAgIHNwZWVkOiAxMDAsXHJcbiAgICAgIGNlbnRlck1vZGU6IGZhbHNlLFxyXG4gICAgICBmb2N1c09uU2VsZWN0OiBmYWxzZSxcclxuICAgICAgaW5pdGlhbFNsaWRlOiAwLFxyXG4gICAgICByZXNwb25zaXZlOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgYnJlYWtwb2ludDogMTAyNCxcclxuICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICAgICAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgICAgICAgIGNlbnRlck1vZGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNlbnRlclBhZGRpbmc6ICcxNjBweCcsXHJcbiAgICAgICAgICAgIGluaXRpYWxTbGlkZTogMFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgYnJlYWtwb2ludDogNDgwLFxyXG4gICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgICAgICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcclxuICAgICAgICAgICAgY2VudGVyUGFkZGluZzogJzgwcHgnLFxyXG4gICAgICAgICAgICBpbml0aWFsU2xpZGU6IDBcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIF1cclxuICAgIH07XHJcblxyXG4gICAgLy8gY29uZmlndXJhdGlvbiBvZiB0aGUgc2xpY2sgc2xpZGVyIGlmIHRoZXJlIGlzIG9ubHkgb25lIGVsZW1lbnQgaW5zaWRlIHRoZSBzbGlkZXIuXHJcbiAgICB0aGlzLmNvbmZpZ09uZSA9IHtcclxuICAgICAgaW5maW5pdGU6IHRydWUsXHJcbiAgICAgIHNsaWRlc1RvU2hvdzogNSxcclxuICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICAgIHN3aXBlOiB0cnVlLFxyXG4gICAgICB0b3VjaE1vdmU6IHRydWUsXHJcbiAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgIHNwZWVkOiAxNTAsXHJcbiAgICAgIGNlbnRlck1vZGU6IHRydWUsXHJcbiAgICAgIGluaXRpYWxTbGlkZTogMCxcclxuICAgICAgcmVzcG9uc2l2ZTogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGJyZWFrcG9pbnQ6IDEwMjQsXHJcbiAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgICAgICAgICBhcnJvd3M6IGZhbHNlLFxyXG4gICAgICAgICAgICBjZW50ZXJNb2RlOiBmYWxzZSxcclxuICAgICAgICAgICAgY2VudGVyUGFkZGluZzogJzYwcHgnLFxyXG4gICAgICAgICAgICBpbml0aWFsU2xpZGU6IDBcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIF1cclxuICAgIH07XHJcblxyXG4gICAgLy8gY29uZmlndXJhdGlvbiBvZiB0aGUgc2xpY2sgc2xpZGVyIGlmIHRoZSBudW1iZXIgb2YgZWxlbWVudFxyXG4gICAgLy8gaW5zaWRlIHRoZSBzbGlkZXIgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIDUuXHJcbiAgICB0aGlzLmNvbmZpZ0Rlc2t0b3BGaXZlID0ge1xyXG4gICAgICBpbmZpbml0ZTogdHJ1ZSxcclxuICAgICAgc2xpZGVzVG9TaG93OiA1LFxyXG4gICAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgICAgc3dpcGU6IHRydWUsXHJcbiAgICAgIHRvdWNoTW92ZTogdHJ1ZSxcclxuICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgc3BlZWQ6IDE1MCxcclxuICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcclxuICAgICAgZm9jdXNPblNlbGVjdDogdHJ1ZSxcclxuICAgICAgaW5pdGlhbFNsaWRlOiAwLFxyXG4gICAgICByZXNwb25zaXZlOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgYnJlYWtwb2ludDogMTAyNCxcclxuICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICAgICAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgICAgICAgIGNlbnRlck1vZGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNlbnRlclBhZGRpbmc6ICc2MHB4JyxcclxuICAgICAgICAgICAgaW5pdGlhbFNsaWRlOiAwXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICBdXHJcbiAgICB9O1xyXG5cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE1ldGhvZDogY2hlY2sgaWYgd2UgYXJlIG9uIG1vYmlsZSBkZXZpY2Ugb3IgZGVza3RvcCBjb21wdXRlclxyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IFJldHVybiB0cnVlIGlmIHdlIGFyZSBvbiBtb2JpbGUgZGV2aWNlIGFuZCBmYWxzZSBvdGhlcndpc2UuXHJcbiAgICovXHJcbiAgaXNNb2JpbGVEZXZpY2UoKSB7XHJcbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPiAxMDIzKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTWV0aG9kOiBpbml0aWFsaXphdGlvbiBvZiB0aGUgc2xpZGVyLlxyXG4gICAqIEByZXR1cm4ge3ZvaWR9XHJcbiAgICovXHJcbiAgX2luaXRpYWxpemUoKSB7XHJcbiAgICBuYkVsZW1lbnQgPSAkKCcuYWN0aXZhdGVkJykuY2hpbGRyZW4oJy5wcm9kdWN0LXNsaWRlcl9fYm94Jyk7XHJcbiAgICBuYkVsZW1lbnQgPSBuYkVsZW1lbnQubGVuZ3RoO1xyXG5cclxuICAgIGlmICh0aGlzLmlzTW9iaWxlRGV2aWNlKCkpIHtcclxuICAgICAgJCgnLmFjdGl2YXRlZCcpLnNsaWNrKHRoaXMuY29uZmlnKTtcclxuICAgICAgJCgnLmFjdGl2YXRlZCcpLnNsaWNrKCdzbGlja0dvVG8nLCAxLCB0cnVlKTtcclxuICAgICAgdGhpcy5tb2JpbGVDb21wb25lbnRTZWxlY3RvcigpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGlmIChuYkVsZW1lbnQgPCA2KSB7XHJcbiAgICAgICAgLy9pZiAobmJFbGVtZW50ID09PSA1KSB7XHJcbiAgICAgICAgdGhpcy5jb25maWdEZXNrdG9wRml2ZS5jZW50ZXJNb2RlID0gZmFsc2U7XHJcbiAgICAgICAgLy99XHJcbiAgICAgICAgJCgnLmFjdGl2YXRlZCcpLnNsaWNrKHRoaXMuY29uZmlnRGVza3RvcEZpdmUpO1xyXG4gICAgICAgICQoJ1tkYXRhLWlkPVwiYTJcIl0nKS5jc3MoJ2xlZnQnLCAnMnB4Jyk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgJCgnLmFjdGl2YXRlZCcpLnNsaWNrKHRoaXMuY29uZmlnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5kZXNrdG9wQ29tcG9uZW50U2VsZWN0b3IoKTtcclxuICAgIH1cclxuICAgIGlmICgkKCcucHJvZHVjdC1zbGlkZXInKS5oYXNDbGFzcygnc2xpY2staW5pdGlhbGl6ZWQnKSkge1xyXG4gICAgICAkKCcucHJvZHVjdHMtc2xpZGVyLWNvbnRhaW5lcicpLmFkZENsYXNzKCdwcm9kdWN0cy1zbGlkZXItY29udGFpbmVyLS1pbml0aWFsaXNlZCcpO1xyXG4gICAgICAkKCcucHJvZHVjdC1pbmZvcm1hdGlvbicpLmFkZENsYXNzKCdwcm9kdWN0LWluZm9ybWF0aW9uLS1pbml0aWFsaXNlZCcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIHt2b2lkfVxyXG4gICAqL1xyXG4gIGluaXQoKSB7XHJcbiAgICBjb25zdCB0aGF0ID0gdGhpcztcclxuICAgIHRoaXMuX2luaXRpYWxpemUoKTtcclxuICAgIHRoaXMudGFiSXRlbXNPbkNsaWNrKCk7XHJcbiAgICB0aGlzLmNhdGVnb3JpZUl0ZW1zT25DbGljaygpO1xyXG4gICAgLy8gZml4IHRoZSBicm9rZW4gYXJpYSByZWZlcmVuY2UgdGVzdC5cclxuICAgICQoJy5wcm9kdWN0LXNsaWRlcl9faXRlbScpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgIGNvbnN0ICRzbGlkZSA9ICQodGhpcykucGFyZW50KCk7XHJcbiAgICAgIGlmICgkc2xpZGUuYXR0cignYXJpYS1kZXNjcmliZWRieScpKSB7IC8vIGlnbm9yZSBleHRyYS9jbG9uZWQgc2xpZGVzXHJcbiAgICAgICAgJCh0aGlzKS5hdHRyKCdpZCcsICRzbGlkZS5hdHRyKCdhcmlhLWRlc2NyaWJlZGJ5JykpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcucHJvZHVjdC1zbGlkZXInKS5vbignYWZ0ZXJDaGFuZ2UnLCAoKSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLmlzTW9iaWxlRGV2aWNlKCkpIHtcclxuICAgICAgICB0aGF0Lm1vYmlsZUNvbXBvbmVudFNlbGVjdG9yKCk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgdGhhdC5kZXNrdG9wQ29tcG9uZW50U2VsZWN0b3IoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAkKCcucHJvZHVjdC1zbGlkZXInKS5vbignYnJlYWtwb2ludCcsIChlKSA9PiB7XHJcbiAgICAgICQoJy5hY3RpdmF0ZWQnKS5zbGljaygndW5zbGljaycpO1xyXG4gICAgICAkKCcuYWN0aXZhdGVkJykuc2hvdygpO1xyXG4gICAgICB0aGlzLl9zbGlkZXJSZW5kZXIoKTtcclxuICAgIH0pO1xyXG4gICAgJCgnLnByb2R1Y3Qtc2xpZGVyX19ib3gnKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuICAgICAgaWYgKCghdGhpcy5pc01vYmlsZURldmljZSgpKSAmJiAobmJFbGVtZW50ID4gNSkpIHtcclxuICAgICAgICB0aGF0LmRlc2t0b3BPbkNsaWNrU2VsZWN0b3IoZXZlbnQuY3VycmVudFRhcmdldCk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoKCF0aGlzLmlzTW9iaWxlRGV2aWNlKCkpICYmIChuYkVsZW1lbnQgPCA2KSkge1xyXG4gICAgICAgIHRoYXQuZGVza3RvcEZpdmVPbkNsaWNrU2VsZWN0b3IoZXZlbnQuY3VycmVudFRhcmdldCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgdGhpcy5wcm9kdWN0RmlsdGVyT25QYWdlTG9hZCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTWV0aG9kOiByZW5kZXIgdGhlIHNsaWRlciBhY2NvcmRpbmcgdG8gdGhlIGRldmljZSB3ZSBhcmUgb24uXHJcbiAgICogQHJldHVybiB7dm9pZH1cclxuICAgKi9cclxuICBfc2xpZGVyUmVuZGVyKCkge1xyXG4gICAgLy8gaGVyZSB3ZSB0ZXN0IGlmIHdlIGFyZSBvbiBtb2JpbGUgZGV2aWNlIG9yIG5vdFxyXG4gICAgbmJFbGVtZW50ID0gJCgnLmFjdGl2YXRlZCcpLmNoaWxkcmVuKCcucHJvZHVjdC1zbGlkZXJfX2JveCcpO1xyXG4gICAgbmJFbGVtZW50ID0gbmJFbGVtZW50Lmxlbmd0aDtcclxuICAgIC8vIG1vYmlsZSBkZXZpY2UgYmVoYXZpb3IsIHdpdGggb25lIGVsZW1lbnQgaW5zaWRlIHRoZSBzbGlkZXIuXHJcbiAgICBpZiAodGhpcy5pc01vYmlsZURldmljZSgpICYmIChuYkVsZW1lbnQgPT09IDEpKSB7XHJcbiAgICAgICQoJy5hY3RpdmF0ZWQnKS5zbGljayh0aGlzLmNvbmZpZ09uZSk7XHJcbiAgICAgIHRoaXMubW9iaWxlQ29tcG9uZW50U2VsZWN0b3IoKTtcclxuICAgIH1cclxuICAgIC8vIG1vYmlsZSBkZXZpY2UgYmVoYXZpb3IsIHdpdGggbXVsdGlwbGUgZWxlbWVudCBpbiB0aGUgc2xpZGVyLlxyXG4gICAgZWxzZSBpZiAodGhpcy5pc01vYmlsZURldmljZSgpKSB7XHJcbiAgICAgICQoJy5hY3RpdmF0ZWQnKS5zbGljayh0aGlzLmNvbmZpZyk7XHJcbiAgICAgIHRoaXMubW9iaWxlQ29tcG9uZW50U2VsZWN0b3IoKTtcclxuICAgIH1cclxuICAgIC8vIGRlc2t0b3AgYmVoYXZpb3IsIHdpdGggb25lIGVsZW1lbnQgaW4gdGhlIHNsaWRlci5cclxuICAgIGVsc2UgaWYgKG5iRWxlbWVudCA9PT0gMSkge1xyXG4gICAgICAkKCcuYWN0aXZhdGVkJykuc2xpY2sodGhpcy5jb25maWdPbmUpO1xyXG4gICAgICAkKCcuYWN0aXZhdGVkJykuaGlkZSgpO1xyXG4gICAgICAvLyB0aGlzLmRlc2t0b3BDb21wb25lbnRTZWxlY3RvcigpO1xyXG4gICAgfVxyXG4gICAgLy8gZGVza3RvcCBiZWhhdmlvciwgd2l0aCBudW1iZXIgb2YgZWxlbWVudHMgbGVzcyB0aGFuIDYuXHJcbiAgICBlbHNlIGlmIChuYkVsZW1lbnQgPCA2KSB7XHJcbiAgICAgIC8vaWYgKG5iRWxlbWVudCA9PT0gNSkge1xyXG4gICAgICB0aGlzLmNvbmZpZ0Rlc2t0b3BGaXZlLmNlbnRlck1vZGUgPSBmYWxzZTtcclxuICAgICAgLy99XHJcbiAgICAgICQoJy5hY3RpdmF0ZWQnKS5zbGljayh0aGlzLmNvbmZpZ0Rlc2t0b3BGaXZlKTtcclxuICAgICAgdGhpcy5kZXNrdG9wQ29tcG9uZW50U2VsZWN0b3IoKTtcclxuICAgIH1cclxuICAgIC8vIGRlc2t0b3AgYmVoYXZpb3IsIHdpdGggbnVtYmVyIG9mIGVsZW1lbnRzIG1vcmUgdGhhbiA1LlxyXG4gICAgZWxzZSB7XHJcbiAgICAgICQoJy5hY3RpdmF0ZWQnKS5zbGljayh0aGlzLmNvbmZpZyk7XHJcbiAgICAgIHRoaXMuZGVza3RvcENvbXBvbmVudFNlbGVjdG9yKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNZXRob2Q6IENoYW5nZSB0aGUgZm9jdXMgb24gdGhlIHNsaWRlciB0byB0aGUgY2xpY2tlZCBlbGVtZW50LlxyXG4gICAqIEhlcmUgd2UgYXJlIG9uIGRlc2t0b3AgY29tcHV0ZXIuXHJcbiAgICogQHBhcmFtIHtIVE1MT2JqZWN0RWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdGhhdCB3YXMgY2xpY2tlZC5cclxuICAgKiBAcmV0dXJuIHt2b2lkfVxyXG4gICAqL1xyXG4gIGRlc2t0b3BPbkNsaWNrU2VsZWN0b3IoZWxlbWVudCkge1xyXG4gICAgbGV0IGVsZW1lbnRJRCA9IG51bGw7XHJcbiAgICBlbGVtZW50SUQgPSBOdW1iZXIoJChlbGVtZW50KS5hdHRyKCdkYXRhLXNsaWNrLWluZGV4JykpO1xyXG4gICAgJCgnLmFjdGl2YXRlZCcpLnNsaWNrKCdzbGlja0dvVG8nLCBlbGVtZW50SUQgLSAxLCBmYWxzZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNZXRob2Q6IENoYW5nZSB0aGUgZm9jdXMgb24gdGhlIHNsaWRlciB0byB0aGUgY2xpY2tlZCBlbGVtZW50LlxyXG4gICAqIEhlcmUgd2UgYXJlIG9uIGRlc2t0b3AgY29tcHV0ZXIgYW5kIHRoZSBudW1iZXIgb2YgZWxlbWVudFxyXG4gICAqIGluc2lkZSB0aGUgc2xpZGVyIGlzIGxlc3MgdGhhbiA2LlxyXG4gICAqIEBwYXJhbSB7SFRNTE9iamVjdEVsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRoYXQgd2FzIGNsaWNrZWQuXHJcbiAgICogQHJldHVybiB7dm9pZH1cclxuICAgKi9cclxuICBkZXNrdG9wRml2ZU9uQ2xpY2tTZWxlY3RvcihlbGVtZW50KSB7XHJcbiAgICAvLyBsZXQgY3VycmVudEVsZW1lbnQgPSAkKCcucHJvZHVjdC1zbGlkZXIgLnNsaWNrLWN1cnJlbnQnKTtcclxuICAgIGNvbnN0IGN1cnJlbnRFbGVtZW50ID0gJChlbGVtZW50KTtcclxuICAgIGNvbnN0IGVsZW1lbnRJRCA9IGN1cnJlbnRFbGVtZW50LmF0dHIoJ2RhdGEtaWQnKTtcclxuICAgIGlmIChlbGVtZW50SUQpIHtcclxuICAgICAgY29uc3QgZGF0YUNvbG9yID0gY3VycmVudEVsZW1lbnQuYXR0cignZGF0YS1jb2xvcicpO1xyXG4gICAgICBjb25zdCBzbGlja1dyYXBwZXIgPSBjdXJyZW50RWxlbWVudC5jaGlsZHJlbignLnByb2R1Y3Qtc2xpZGVyX19pdGVtJyk7XHJcbiAgICAgICQoJy5wcm9kdWN0LXNsaWRlcl9faXRlbScpLmF0dHIoJ2RhdGEtY29sb3InLCAnI0ZGRicpO1xyXG4gICAgICBzbGlja1dyYXBwZXIuYXR0cignZGF0YS1jb2xvcicsIGRhdGFDb2xvcik7XHJcbiAgICAgICQoJy50cmlhbmdsZS1kb3duJykucmVtb3ZlQ2xhc3MoJ3RyaWFuZ2xlLWRvd24tLXNlbGVjdGVkJyk7XHJcbiAgICAgIHNsaWNrV3JhcHBlci5jaGlsZHJlbignLnRyaWFuZ2xlLWRvd24nKS5hZGRDbGFzcygndHJpYW5nbGUtZG93bi0tc2VsZWN0ZWQnKTtcclxuICAgICAgY29uc3Qgc2VsZWN0ZWREZXNjcmlwdGlvbiA9ICQoYC5wcm9kdWN0LWxpc3RfX2l0ZW0uJHtlbGVtZW50SUR9YCk7XHJcbiAgICAgIHNlbGVjdGVkRGVzY3JpcHRpb24uYWRkQ2xhc3MoJ3NlbGVjdGVkJykuc2libGluZ3MoJ2xpJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNZXRob2Q6IFNlbGVjdCB0aGUgZWxlbWVudCB0byBmb2N1cyBvbiBzbGlkZXIgbG9hZC5cclxuICAgKiBIZXJlIHdlIGFyZSBvbiBkZXNrdG9wLlxyXG4gICAqIEByZXR1cm4ge3ZvaWR9XHJcbiAgICovXHJcbiAgZGVza3RvcENvbXBvbmVudFNlbGVjdG9yKCkge1xyXG4gICAgLy8gaGVyZSB3ZSBzZWxlY3QgdGhlIHJpZ2h0IGl0ZW1cclxuICAgIGlmIChuYkVsZW1lbnQgPCA1KSB7XHJcbiAgICAgICQoJy5hY3RpdmF0ZWQnKS5hZGRDbGFzcygnc2xpY2stLWNlbnRlcmVkJyk7XHJcbiAgICB9XHJcbiAgICBsZXQgZWxlbWVudElEID0gbnVsbDtcclxuICAgIGlmICghdGhpcy5pc01vYmlsZURldmljZSgpKSB7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRFbGVtZW50ID0gJCgnLnByb2R1Y3Qtc2xpZGVyIC5zbGljay1jdXJyZW50Jyk7XHJcbiAgICAgIGVsZW1lbnRJRCA9IGN1cnJlbnRFbGVtZW50Lm5leHQoKS5hdHRyKCdkYXRhLWlkJyk7XHJcbiAgICAgIGlmIChlbGVtZW50SUQpIHtcclxuICAgICAgICBjb25zdCBkYXRhQ29sb3IgPSAkKCcucHJvZHVjdC1zbGlkZXIgLnNsaWNrLWN1cnJlbnQnKS5uZXh0KCkuYXR0cignZGF0YS1jb2xvcicpO1xyXG4gICAgICAgIGVsZW1lbnRJRCA9ICQoJy5wcm9kdWN0LXNsaWRlciAuc2xpY2stY3VycmVudCcpLm5leHQoKS5hdHRyKCdkYXRhLWlkJyk7XHJcbiAgICAgICAgJCgnLnByb2R1Y3Qtc2xpZGVyX19pdGVtJykuYXR0cignZGF0YS1jb2xvcicsICcjRkZGJyk7XHJcbiAgICAgICAgY29uc3Qgc2xpY2tXcmFwcGVyID0gJCgnLnByb2R1Y3Qtc2xpZGVyIC5zbGljay1jdXJyZW50JykubmV4dCgpLmNoaWxkcmVuKCcucHJvZHVjdC1zbGlkZXJfX2l0ZW0nKTtcclxuICAgICAgICBzbGlja1dyYXBwZXIuYXR0cignZGF0YS1jb2xvcicsIGRhdGFDb2xvcik7XHJcbiAgICAgICAgJCgnLnRyaWFuZ2xlLWRvd24nKS5yZW1vdmVDbGFzcygndHJpYW5nbGUtZG93bi0tc2VsZWN0ZWQnKTtcclxuICAgICAgICBzbGlja1dyYXBwZXIuY2hpbGRyZW4oJy50cmlhbmdsZS1kb3duJykuYWRkQ2xhc3MoJ3RyaWFuZ2xlLWRvd24tLXNlbGVjdGVkJyk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgZGF0YUNvbG9yID0gJCgnLnByb2R1Y3Qtc2xpZGVyIC5zbGljay1jdXJyZW50JykuYXR0cignZGF0YS1jb2xvcicpO1xyXG4gICAgICAgIGVsZW1lbnRJRCA9ICQoJy5wcm9kdWN0LXNsaWRlciAuc2xpY2stY3VycmVudCcpLmF0dHIoJ2RhdGEtaWQnKTtcclxuICAgICAgICAvLyAkKCcucHJvZHVjdC1zbGlkZXIgLnNsaWNrLWN1cnJlbnQnKS5jaGlsZHJlbignLnByb2R1Y3Qtc2xpZGVyX19pdGVtJykuYXR0cihcImRhdGEtY29sb3JcIiwgZGF0YUNvbG9yKTtcclxuICAgICAgICBjb25zdCBzbGlja1dyYXBwZXIgPSAkKCcucHJvZHVjdC1zbGlkZXIgLnNsaWNrLWN1cnJlbnQnKS5jaGlsZHJlbignLnByb2R1Y3Qtc2xpZGVyX19pdGVtJyk7XHJcbiAgICAgICAgc2xpY2tXcmFwcGVyLmF0dHIoJ2RhdGEtY29sb3InLCBkYXRhQ29sb3IpO1xyXG4gICAgICAgICQoJy50cmlhbmdsZS1kb3duJykucmVtb3ZlQ2xhc3MoJ3RyaWFuZ2xlLWRvd24tLXNlbGVjdGVkJyk7XHJcbiAgICAgICAgc2xpY2tXcmFwcGVyLmNoaWxkcmVuKCcudHJpYW5nbGUtZG93bicpLmFkZENsYXNzKCd0cmlhbmdsZS1kb3duLS1zZWxlY3RlZCcpO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHNlbGVjdGVkRGVzY3JpcHRpb24gPSAkKGAucHJvZHVjdC1saXN0X19pdGVtLiR7ZWxlbWVudElEfWApO1xyXG4gICAgICBzZWxlY3RlZERlc2NyaXB0aW9uLmFkZENsYXNzKCdzZWxlY3RlZCcpLnNpYmxpbmdzKCdsaScpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTWV0aG9kOiBTZWxlY3QgZWxlbWVudCB0byBmb2N1cyBvbiBwYWdlIGxvYWQuXHJcbiAgICogSGVyZSB3ZSBhcmUgb24gbW9iaWxlIGRldmljZS5cclxuICAgKiBAcmV0dXJuIHt2b2lkfVxyXG4gICAqL1xyXG4gIG1vYmlsZUNvbXBvbmVudFNlbGVjdG9yKCkge1xyXG4gICAgY29uc3QgZWxlbWVudElEID0gJCgnLnByb2R1Y3Qtc2xpZGVyIC5zbGljay1jdXJyZW50JykuYXR0cignZGF0YS1pZCcpO1xyXG4gICAgY29uc3QgZWxlbWVudENvbG9yID0gJCgnLnByb2R1Y3Qtc2xpZGVyIC5zbGljay1jdXJyZW50JykuYXR0cignZGF0YS1jb2xvcicpO1xyXG4gICAgJCgnLnByb2R1Y3Qtc2xpZGVyX19pdGVtJykuYXR0cignZGF0YS1jb2xvcicsIGVsZW1lbnRDb2xvcik7XHJcbiAgICBjb25zdCBzbGlja1dyYXBwZXIgPSAkKCcucHJvZHVjdC1zbGlkZXIgLnNsaWNrLWN1cnJlbnQnKS5jaGlsZHJlbignLnByb2R1Y3Qtc2xpZGVyX19pdGVtJyk7XHJcbiAgICAkKCcudHJpYW5nbGUtZG93bicpLnJlbW92ZUNsYXNzKCd0cmlhbmdsZS1kb3duLS1zZWxlY3RlZCcpO1xyXG4gICAgc2xpY2tXcmFwcGVyLmNoaWxkcmVuKCcudHJpYW5nbGUtZG93bicpLmFkZENsYXNzKCd0cmlhbmdsZS1kb3duLS1zZWxlY3RlZCcpO1xyXG4gICAgY29uc3Qgc2VsZWN0ZWREZXNjcmlwdGlvbiA9ICQoYC5wcm9kdWN0LWxpc3RfX2l0ZW0uJHtlbGVtZW50SUR9YCk7XHJcbiAgICBzZWxlY3RlZERlc2NyaXB0aW9uLmFkZENsYXNzKCdzZWxlY3RlZCcpLnNpYmxpbmdzKCdsaScpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTWV0aG9kOiBUcmFjayB0aGUgdGFiIGl0ZW0gY2xpY2tlZDogXCJqdW5pb3JcIiwgXCJhZHVsdFwiIG9yIFwic2VuaW9yXCJcclxuICAgKiBhbmQgcmVsb2FkIHRoZSBzbGlkZXIgYWNjb3JkaW5nbHkuXHJcbiAgICogQHJldHVybiB7dm9pZH1cclxuICAgKi9cclxuICB0YWJJdGVtc09uQ2xpY2soKSB7XHJcbiAgICBsZXQgc2VsZWN0ZWRJdGVtID0gJyc7XHJcbiAgICBjb25zdCB0YWJJdGVtcyA9ICQoJy5qcy1zdWJjYXRlZ29yeSBhJyk7XHJcbiAgICBjb25zdCB0YWJDb250ZW50V3JhcHBlciA9ICQoJy5qcy1wcm9kdWN0LWNhcm91c2VsJyk7XHJcbiAgICBjb25zdCB0aGF0ID0gdGhpcztcclxuICAgIC8vIENsaWNrIG9uIHRhYiBlbGVtZW50XHJcbiAgICB0YWJJdGVtcy5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgIHNlbGVjdGVkSXRlbSA9ICQodGhpcyk7XHJcblxyXG4gICAgICAvLyBDaGVjayBpZiB0aGUgdGFiIGVsZW1lbnQgaGFzIHNlbGVjdGVkIGNsYXNzXHJcbiAgICAgIGlmICghc2VsZWN0ZWRJdGVtLmhhc0NsYXNzKCdpbmxpbmUtbGlzdF9fbGluay0tc2VsZWN0ZWQnKSkge1xyXG5cclxuICAgICAgICBjb25zdCBzZWxlY3RlZFRhYiA9IHNlbGVjdGVkSXRlbS5kYXRhKCdjb250ZW50Jyk7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRDb250ZW50ID0gdGFiQ29udGVudFdyYXBwZXIuZmluZCgnbGlbZGF0YS1jb250ZW50PVwiJyArIHNlbGVjdGVkVGFiICsgJ1wiXScpO1xyXG5cclxuICAgICAgICB0YWJJdGVtcy5yZW1vdmVDbGFzcygnaW5saW5lLWxpc3RfX2xpbmstLXNlbGVjdGVkJyk7XHJcbiAgICAgICAgc2VsZWN0ZWRJdGVtLmFkZENsYXNzKCdpbmxpbmUtbGlzdF9fbGluay0tc2VsZWN0ZWQnKTtcclxuICAgICAgICBzZWxlY3RlZENvbnRlbnQuYWRkQ2xhc3MoJ3NlbGVjdGVkJykuc2libGluZ3MoJ2xpJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XHJcblxyXG4gICAgICAgIC8vIEdyYWIgdGhlIHVsIHJlbGF0ZWQgdG8gdGhlIHRhYiBjbGlja2VkXHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWREZXNjcmlwdGlvbiA9ICQoJy5wcm9kdWN0LWluZm9ybWF0aW9uJykuZmluZCgndWxbZGF0YS1wcm9kdWN0PVwiJyArIHNlbGVjdGVkVGFiICsgJ1wiXScpO1xyXG4gICAgICAgIC8vIHZhciBzZWxlY3RlZERlc2NyaXB0aW9uID0gJCgnLnByb2R1Y3RfX2Rlc2NyaXB0aW9uJykuY2hpbGRyZW4oJ1tkYXRhLXByb2R1Y3Q9XCInK3NlbGVjdGVkVGFiKydcIl0nKTtcclxuXHJcbiAgICAgICAgLy8gU2hvdyB0aGUgcHJvZHVjdCBkZXNjcmlwdGlvbiBjb250YWluZXIgbGluayB0byB0aGUgdGFiXHJcbiAgICAgICAgJCgnLnByb2R1Y3QtbGlzdCcpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xyXG4gICAgICAgIHNlbGVjdGVkRGVzY3JpcHRpb24uYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XHJcblxyXG4gICAgICAgIC8vIGhlcmUgd2UgdGVsbCBzbGlja0pTIHRvIHVuc2xpY2sgdGhlIHByZXZpb3VzIGFjdGl2YXRlZCBzbGlkZXJcclxuICAgICAgICAkKCcuYWN0aXZhdGVkJykuc2xpY2soJ3Vuc2xpY2snKTtcclxuICAgICAgICAkKCcuYWN0aXZhdGVkJykucmVtb3ZlQ2xhc3MoJ2FjdGl2YXRlZCcpO1xyXG4gICAgICAgIHNlbGVjdGVkQ29udGVudC5jaGlsZHJlbignLnByb2R1Y3Qtc2xpZGVyJykuYWRkQ2xhc3MoJ2FjdGl2YXRlZCcpO1xyXG4gICAgICAgIHRoYXQuX3NsaWRlclJlbmRlcigpO1xyXG4gICAgICB9XHJcblxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEByZXR1cm4ge3ZvaWR9XHJcbiAgICovXHJcbiAgY2F0ZWdvcmllSXRlbXNPbkNsaWNrKCkge1xyXG4gICAgbGV0IHNlbGVjdGVkSXRlbSA9ICcnO1xyXG4gICAgY29uc3QgY2F0ZWdvcmllSXRlbSA9ICQoJy5wcm9kdWN0cy1maWx0ZXItLWNhdGVnb3J5IGEnKTtcclxuICAgIGNvbnN0IERlZmF1bHRFbGVtZW50ID0ge1xyXG4gICAgICAnZG9nJzogJ21sbCcsXHJcbiAgICAgICdjYXQnOiAnYWR1bHQnXHJcbiAgICB9O1xyXG5cclxuICAgIGNhdGVnb3JpZUl0ZW0ub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHNlbGVjdGVkSXRlbSA9ICQodGhpcyk7XHJcbiAgICAgIGlmICghc2VsZWN0ZWRJdGVtLmhhc0NsYXNzKCdpbmxpbmUtbGlzdF9fbGluay0tc2VsZWN0ZWQnKSkge1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkSXRlbUNhdGVnb3JpZU5hbWUgPSBzZWxlY3RlZEl0ZW0uZGF0YSgnY29udGVudCcpO1xyXG4gICAgICAgIGNvbnN0IFNlbGVjdGVkUHJvZHVjdHNGaWx0ZXIgPSAkKCcucHJvZHVjdHMtZmlsdGVyW2RhdGEtY2F0ZWdvcnk9XCInICsgc2VsZWN0ZWRJdGVtQ2F0ZWdvcmllTmFtZSArICdcIl0nKTtcclxuICAgICAgICBjYXRlZ29yaWVJdGVtLnJlbW92ZUNsYXNzKCdpbmxpbmUtbGlzdF9fbGluay0tc2VsZWN0ZWQnKTtcclxuICAgICAgICBzZWxlY3RlZEl0ZW0uYWRkQ2xhc3MoJ2lubGluZS1saXN0X19saW5rLS1zZWxlY3RlZCcpO1xyXG4gICAgICAgICQoJy5wcm9kdWN0cy1maWx0ZXInKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcclxuICAgICAgICBTZWxlY3RlZFByb2R1Y3RzRmlsdGVyLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSAkKCdhW2RhdGEtY29udGVudD1cIicgK1xyXG4gICAgICAgICAgICAgICBEZWZhdWx0RWxlbWVudFtzZWxlY3RlZEl0ZW1DYXRlZ29yaWVOYW1lXSArICdcIl0nKTtcclxuICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdpbmxpbmUtbGlzdF9fbGluay0tc2VsZWN0ZWQnKTtcclxuICAgICAgICBlbGVtZW50LnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJvZHVjdEZpbHRlck9uUGFnZUxvYWQoKSB7XHJcbiAgICBjb25zdCBvYmplY3RQYXJhbSA9IHRoaXMudXJsUGFyYW1QYXJzZXIoKTtcclxuICAgIGlmIChvYmplY3RQYXJhbS5jYXRlZ29yeSkge1xyXG4gICAgICBjb25zdCAkY2F0ZWdvcnkgPSAkKCcuaW5saW5lLWxpc3RfX2xpbmtbZGF0YS1jb250ZW50PVwiJyArIG9iamVjdFBhcmFtLmNhdGVnb3J5ICsgJ1wiXScpO1xyXG4gICAgICAkY2F0ZWdvcnkudHJpZ2dlcignY2xpY2snKTtcclxuICAgICAgJCgnI3Byb2R1Y3RzJykuc2Nyb2xsVG8oKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHVybFBhcmFtUGFyc2VyKCkge1xyXG4gICAgY29uc3QgZ2V0UGFyYW1zID0gcXVlcnkgPT4ge1xyXG4gICAgICBpZiAoIXF1ZXJ5KSB7XHJcbiAgICAgICAgcmV0dXJuIHsgfTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gKC9eWz8jXS8udGVzdChxdWVyeSkgPyBxdWVyeS5zbGljZSgxKSA6IHF1ZXJ5KVxyXG4gICAgICAgIC5zcGxpdCgnJicpXHJcbiAgICAgICAgLnJlZHVjZSgocGFyYW1zLCBwYXJhbSkgPT4ge1xyXG4gICAgICAgICAgbGV0IFsga2V5LCB2YWx1ZSBdID0gcGFyYW0uc3BsaXQoJz0nKTtcclxuICAgICAgICAgIHBhcmFtc1trZXldID0gdmFsdWUgPyBkZWNvZGVVUklDb21wb25lbnQodmFsdWUucmVwbGFjZSgvXFwrL2csICcgJykpIDogJyc7XHJcbiAgICAgICAgICByZXR1cm4gcGFyYW1zO1xyXG4gICAgICAgIH0sIHsgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGdldFBhcmFtcyh3aW5kb3cubG9jYXRpb24uaHJlZik7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBJbnN0YW5jZSA9IG5ldyBTbGlja1NsaWRlcigpO1xyXG5cclxuT2JqZWN0LmZyZWV6ZShJbnN0YW5jZSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBJbnN0YW5jZTtcclxuIiwiaW1wb3J0IEZvcm1WYWxpZGF0aW9uIGZyb20gJy4vZm9ybS9mb3JtLXZhbGlkYXRpb24nO1xyXG5pbXBvcnQgUmVnaXN0cmF0aW9uU3VibWl0IGZyb20gJy4vcmVnaXN0cmF0aW9uL3JlZ2lzdHJhdGlvbi1zdWJtaXQnO1xyXG5pbXBvcnQgQnJlZWQgZnJvbSAnLi9yZWdpc3RyYXRpb24vYnJlZWQnO1xyXG5pbXBvcnQgUGV0R2VuZGVyIGZyb20gJy4vcmVnaXN0cmF0aW9uL3BldC1nZW5kZXInO1xyXG5sZXQgaW5zdGFuY2UgPSBudWxsO1xyXG5cclxuY2xhc3MgUHJvZmlsZSB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgaWYgKCFpbnN0YW5jZSkge1xyXG4gICAgICBpbnN0YW5jZSA9IHRoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5jaGVja051bWJlck9mUHJvZmlsZVBldCgpO1xyXG4gICAgdGhpcy5zd2l0Y2hQYW5lbCgpO1xyXG4gICAgdGhpcy5kdXBsaWNhdGVQcm9maWxlKCk7XHJcbiAgICB0aGlzLnN1Ym1pdFByb2ZpbGUoKTtcclxuICAgIHRoaXMuaW5pdEltZ0Zvcm1EZWxldGUoKTtcclxuICAgIHRoaXMuaW5pdERlbGV0ZVBldFByb2ZpbGUoKTtcclxuICAgIHRoaXMuZGVhY3RpdmF0ZUFjY291bnQoKTtcclxuICAgIHRoaXMuaW5pdExhYmVsVmFsdWUoKTtcclxuICB9XHJcblxyXG4gIHN1Ym1pdFByb2ZpbGUoKSB7XHJcbiAgICAkKCcuanMtbmV3LXBldCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBjb25zdCAkZm9ybSA9ICQoJCh0aGlzKS5jb250ZXh0LmZvcm0pO1xyXG4gICAgICBjb25zdCBpc1ZhbGlkID0gRm9ybVZhbGlkYXRpb24udmFsaWRhdGVQZXRGb3JtKCRmb3JtKTtcclxuICAgICAgaWYgKGlzVmFsaWQpIHtcclxuICAgICAgICBSZWdpc3RyYXRpb25TdWJtaXQuc3VibWl0RGF0YSgkKHRoaXMpKTtcclxuICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc3dpdGNoUGFuZWwoKSB7XHJcbiAgICAkKCcuanMtc3dpdGNoLXByb2ZpbGUtcGFuZWxzJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IHRoaXM7XHJcbiAgICAgIGNvbnN0IHByb2ZpbGUgPSAkKGJ1dHRvbikubmV4dCgnLnByb2ZpbGUnKTtcclxuICAgICAgY29uc3QgZm9ybSA9IHByb2ZpbGUuZmluZCgnLnBldC1yZWdpc3RyYXRpb24tZm9ybScpO1xyXG5cclxuICAgICAgY29uc3QgaWNvbiA9ICQoYnV0dG9uKS5maW5kKCdpJyk7XHJcbiAgICAgIGNvbnN0IGljb25DbGFzc0VkaXRhYmxlID0gJ2ljb24tY2xvc2UnO1xyXG4gICAgICBjb25zdCBpY29uQ2xhc3NOb3RFZGl0YWJsZSA9ICdpY29uLWVkaXQnO1xyXG4gICAgICBjb25zdCBlZGl0YWJsZVN0YXRlQ2xhc3MgPSAncHJvZmlsZS0tZWRpdGFibGUnO1xyXG5cclxuICAgICAgaWYgKHByb2ZpbGUpIHtcclxuICAgICAgICAkKGljb24pLnJlbW92ZUNsYXNzKCk7XHJcbiAgICAgICAgJChwcm9maWxlKS50b2dnbGVDbGFzcyhlZGl0YWJsZVN0YXRlQ2xhc3MpO1xyXG4gICAgICAgIGlmICgkKHByb2ZpbGUpLmhhc0NsYXNzKGVkaXRhYmxlU3RhdGVDbGFzcykpIHtcclxuICAgICAgICAgICQoaWNvbikuYWRkQ2xhc3MoaWNvbkNsYXNzRWRpdGFibGUpO1xyXG4gICAgICAgICAgaWYgKHByb2ZpbGUubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gZm9ybS5maW5kKCdpbnB1dFtuYW1lPVwicGV0VHlwZVwiXTpjaGVja2VkJykudmFsKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGJyZWVkID0gcHJvZmlsZS5maW5kKCcuYnJlZWRbZGF0YS1jYXRlZ29yeT1cIicgKyBjYXRlZ29yeSArICdcIl0nKTtcclxuICAgICAgICAgICAgY29uc3QgYnJlZWRDYXJvdXNlbCA9IGJyZWVkLmZpbmQoJy5icmVlZF9fY2Fyb3VzZWwnKTtcclxuICAgICAgICAgICAgaWYgKGJyZWVkQ2Fyb3VzZWwubGVuZ3RoICE9PSAwICYmICFicmVlZENhcm91c2VsLmhhc0NsYXNzKCdzbGljay1pbml0aWFsaXplZCcpKSB7XHJcbiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIEJyZWVkLmluaXRCcmVlZFNsaWRlcihicmVlZCk7XHJcbiAgICAgICAgICAgICAgfSwgNTApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmluaXRTbGlkZXIoZm9ybSwgY2F0ZWdvcnkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICQoaWNvbikuYWRkQ2xhc3MoaWNvbkNsYXNzTm90RWRpdGFibGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBpbml0U2xpZGVyKGZvcm0sIGNhdGVnb3J5KSB7XHJcbiAgICBjb25zdCBwZXRGb3JtcyA9IGZvcm0uZmluZCgnLnBldC1mb3JtLWdyb3VwJyk7XHJcbiAgICBsZXQgaW5kZXg7XHJcblxyXG4gICAgaWYgKGNhdGVnb3J5ID09PSAnY2F0Jykge1xyXG4gICAgICBpbmRleCA9IDA7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgaW5kZXggPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHBldEZvcm0gPSBwZXRGb3Jtc1tpbmRleF07XHJcbiAgICBjb25zdCBzbGlkZXJzID0gJChwZXRGb3JtKS5maW5kKCcuc2xpZGVyJyk7XHJcblxyXG4gICAgc2xpZGVycy5lYWNoKGZ1bmN0aW9uKGksIHNsaWRlcikge1xyXG4gICAgICBjb25zdCBpbnB1dCA9ICQoc2xpZGVyKS5maW5kKCdpbnB1dCcpO1xyXG4gICAgICBjb25zdCB2YWwgPSAkKGlucHV0KS52YWwoKTtcclxuXHJcbiAgICAgIGlmICghaXNOYU4odmFsKSAmJiB2YWwgPiAwKSB7XHJcbiAgICAgICAgJChpbnB1dCkudmFsKHZhbCk7XHJcbiAgICAgICAgJChpbnB1dCkudHJpZ2dlcignY2hhbmdlJywge1xyXG4gICAgICAgICAgaXNUcmlnZ2VyZWQ6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZHVwbGljYXRlUHJvZmlsZSgpIHtcclxuICAgICQoJy5qcy1hZGQtYW5vdGhlci1wZXQtcHJvZmlsZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBjb25zdCAkbGFzdFBldFByb2ZpbGUgPSAkKCQoJy5wZXQtcHJvZmlsZScpWyQoJy5wZXQtcHJvZmlsZScpLmxlbmd0aCAtIDFdKTtcclxuICAgICAgY29uc3QgbGFzdEluZGV4ID0gcGFyc2VJbnQoJGxhc3RQZXRQcm9maWxlLmF0dHIoJ2RhdGEtcHJvZmlsZS1pbmRleCcpLCAxMCk7XHJcbiAgICAgIGNvbnN0IG5ld0luZGV4ID0gbGFzdEluZGV4ICsgMTtcclxuICAgICAgY29uc3QgbGFzdEZvcm0gPSAkbGFzdFBldFByb2ZpbGUuZmluZCgnZm9ybScpO1xyXG4gICAgICBjb25zdCBjcmVhdGVVcmwgPSBsYXN0Rm9ybS5kYXRhKCduZXctcGV0LXVybCcpO1xyXG4gICAgICBjb25zdCAkbmV3UGV0ID0gJGxhc3RQZXRQcm9maWxlLmNsb25lKHRydWUsIHRydWUpO1xyXG5cclxuICAgICAgbGFzdEZvcm0ucGFyc2xleSgpLmRlc3Ryb3koKTtcclxuICAgICAgJG5ld1BldC5hdHRyKCdkYXRhLXByb2ZpbGUtaW5kZXgnLCBuZXdJbmRleCk7XHJcblxyXG4gICAgICBjb25zdCBpbnB1dHMgPSAkbmV3UGV0LmZpbmQoJ2lucHV0LCBsYWJlbCwgc2VsZWN0ICwgZGl2LCBzcGFuLCBmb3JtJyk7XHJcblxyXG4gICAgICAkLmVhY2goaW5wdXRzLCBmdW5jdGlvbihpbmQsIGVsZW0pIHtcclxuICAgICAgICBjb25zdCBqRWxlbSA9ICQoZWxlbSk7XHJcbiAgICAgICAgaWYgKGpFbGVtLmlzKCdmb3JtJykpIHtcclxuICAgICAgICAgIGxldCBpZCA9IGpFbGVtLnByb3AoJ2lkJyk7XHJcbiAgICAgICAgICBpZiAoaWQpIHtcclxuICAgICAgICAgICAgaWQgPSBpZC5yZXBsYWNlKC9cXGQrL2csICcnKTtcclxuICAgICAgICAgICAgaWQgPSBpZCArIG5ld0luZGV4O1xyXG4gICAgICAgICAgICBqRWxlbS5wcm9wKCdpZCcsIGlkKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoakVsZW0uaXMoJ3NlbGVjdCcpKSB7XHJcbiAgICAgICAgICBsZXQgaWQgPSBqRWxlbS5wcm9wKCdpZCcpO1xyXG4gICAgICAgICAgaWYgKGlkKSB7XHJcbiAgICAgICAgICAgIGlkID0gaWQucmVwbGFjZSgvXFxkKy9nLCAnJyk7XHJcbiAgICAgICAgICAgIGlkID0gaWQgKyBuZXdJbmRleDtcclxuICAgICAgICAgICAgakVsZW0ucHJvcCgnaWQnLCBpZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGpFbGVtLmlzKCdsYWJlbCcpKSB7XHJcbiAgICAgICAgICBsZXQgaWQgPSBqRWxlbS5wcm9wKCdmb3InKTtcclxuXHJcbiAgICAgICAgICBpZiAoaWQpIHtcclxuICAgICAgICAgICAgaWQgPSBpZC5yZXBsYWNlKC9cXGQrL2csICcnKTtcclxuICAgICAgICAgICAgaWQgPSBpZCArIG5ld0luZGV4O1xyXG4gICAgICAgICAgICBqRWxlbS5wcm9wKCdmb3InLCBpZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGpFbGVtLmlzKCdzcGFuJykpIHtcclxuICAgICAgICAgIGxldCBhcmlhQ29udHJvbHMgPSBqRWxlbS5hdHRyKCdhcmlhLWNvbnRyb2xzJyk7XHJcblxyXG4gICAgICAgICAgaW5zdGFuY2UucmVzZXRBY3RpdmVTbGlkZXIoakVsZW0pO1xyXG5cclxuICAgICAgICAgIGlmIChhcmlhQ29udHJvbHMpIHtcclxuICAgICAgICAgICAgYXJpYUNvbnRyb2xzID0gYXJpYUNvbnRyb2xzLnJlcGxhY2UoL1xcZCsvZywgJycpO1xyXG4gICAgICAgICAgICBhcmlhQ29udHJvbHMgPSBhcmlhQ29udHJvbHMgKyBuZXdJbmRleDtcclxuICAgICAgICAgICAgakVsZW0uYXR0cignYXJpYS1jb250cm9scycsIGFyaWFDb250cm9scyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgbGV0IGlkID0gakVsZW0ucHJvcCgnaWQnKTtcclxuICAgICAgICAgIGxldCBhcmlhQ29udHJvbHMgPSBqRWxlbS5hdHRyKCdhcmlhLWNvbnRyb2xzJyk7XHJcblxyXG4gICAgICAgICAgaWYgKGlkKSB7XHJcbiAgICAgICAgICAgIGlkID0gaWQucmVwbGFjZSgvXFxkKy9nLCAnJyk7XHJcbiAgICAgICAgICAgIGlkID0gaWQgKyBuZXdJbmRleDtcclxuICAgICAgICAgICAgakVsZW0ucHJvcCgnaWQnLCBpZCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKGFyaWFDb250cm9scykge1xyXG4gICAgICAgICAgICBhcmlhQ29udHJvbHMgPSBhcmlhQ29udHJvbHMucmVwbGFjZSgvXFxkKy9nLCAnJyk7XHJcbiAgICAgICAgICAgIGFyaWFDb250cm9scyA9IGFyaWFDb250cm9scyArIG5ld0luZGV4O1xyXG4gICAgICAgICAgICBqRWxlbS5hdHRyKCdhcmlhLWNvbnRyb2xzJywgYXJpYUNvbnRyb2xzKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zdCByZWdpc3RyYXRpb25QZXQgPSAkbmV3UGV0LmZpbmQoJy5yZWdpc3RyYXRpb24tcGV0JykuY2xvbmUodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgIGNvbnN0IHJlZ2lzdHJhdGlvblBldEZvcm0gPSByZWdpc3RyYXRpb25QZXQuZmluZCgnZm9ybScpO1xyXG4gICAgICBjb25zdCBkZWxldGVCdXR0b24gPSByZWdpc3RyYXRpb25QZXRGb3JtLmZpbmQoJy5qcy1kZWxldGUtcGV0Jyk7XHJcblxyXG4gICAgICByZWdpc3RyYXRpb25QZXRGb3JtLnBhcnNsZXkoKS5kZXN0cm95KCk7XHJcbiAgICAgICQocmVnaXN0cmF0aW9uUGV0Rm9ybSlbMF0ucmVzZXQoKTtcclxuICAgICAgaW5zdGFuY2UuY2xlYXJGb3JtVmFsdWUocmVnaXN0cmF0aW9uUGV0Rm9ybSk7XHJcbiAgICAgIHJlZ2lzdHJhdGlvblBldEZvcm0uYXR0cignYWN0aW9uJywgY3JlYXRlVXJsKTtcclxuICAgICAgcmVnaXN0cmF0aW9uUGV0Rm9ybS5yZW1vdmVBdHRyKCdkYXRhLXBldC1pZCcpO1xyXG4gICAgICByZWdpc3RyYXRpb25QZXQuYWRkQ2xhc3MoJ3NlY3Rpb24tY29udGVudCcpO1xyXG4gICAgICByZWdpc3RyYXRpb25QZXQuY3NzKCdwYWRkaW5nLXRvcCcsICcxNXB4Jyk7XHJcbiAgICAgIGlmIChkZWxldGVCdXR0b24ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICQoZGVsZXRlQnV0dG9uKS5hdHRyKCdkYXRhLXR5cGUnLCAnY3JlYXRlJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRuZXdQZXQuZW1wdHkoKTtcclxuICAgICAgJG5ld1BldC5hcHBlbmQocmVnaXN0cmF0aW9uUGV0KTtcclxuICAgICAgJG5ld1BldC5pbnNlcnRBZnRlcigkbGFzdFBldFByb2ZpbGUpO1xyXG5cclxuICAgICAgLy8gUmVtb3ZlIGltZyBwcm9maWxlIGZyb20gdGhlIERPTVxyXG4gICAgICBjb25zdCB0aHVtYm5haWwgPSAkbmV3UGV0LmZpbmQoJy5wZXQtdHlwZV9fdGh1bWJuYWlsJyk7XHJcbiAgICAgIGNvbnN0IHByb2ZpbGVJbWcgPSB0aHVtYm5haWwuZmluZCgnaW1nJyk7XHJcblxyXG4gICAgICBwcm9maWxlSW1nLnJlbW92ZSgpO1xyXG5cclxuICAgICAgY29uc3Qgc2VsZWN0ZWQgPSAkbmV3UGV0LmZpbmQoJy5wZXQtdHlwZV9fdGh1bWJuYWlsLS11bnNlbGVjdGVkJyk7XHJcbiAgICAgIHNlbGVjdGVkLnJlbW92ZUNsYXNzKCdwZXQtdHlwZV9fdGh1bWJuYWlsLS11bnNlbGVjdGVkJyk7XHJcblxyXG4gICAgICBjb25zdCB1bnNlbGVjdGVkID0gJG5ld1BldC5maW5kKCcucGV0LXR5cGVfX3RodW1ibmFpbC0tc2VsZWN0ZWQnKTtcclxuICAgICAgdW5zZWxlY3RlZC5yZW1vdmVDbGFzcygncGV0LXR5cGVfX3RodW1ibmFpbC0tc2VsZWN0ZWQnKTtcclxuXHJcbiAgICAgICRuZXdQZXQuc2Nyb2xsVG8oNjAwKTtcclxuXHJcbiAgICAgIGNvbnN0IHNsaWRlcnMgPSAkbmV3UGV0LmZpbmQoJy5zbGlkZXInKTtcclxuICAgICAgc2xpZGVycy5lYWNoKGZ1bmN0aW9uKGlpbmRleCwgc2xpZGVyKSB7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgIG5ldyBGb3VuZGF0aW9uLlNsaWRlcigkKHNsaWRlcikpO1xyXG4gICAgICAgIH0sIDUwMCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgYnJlZWRzID0gJG5ld1BldC5maW5kKCcuYnJlZWQnKTtcclxuXHJcbiAgICAgICQuZWFjaChicmVlZHMsIGZ1bmN0aW9uKGlpbmRleCwgZWxlbWVudCkge1xyXG4gICAgICAgIGNvbnN0IGJyZWVkQ2Fyb3VzZWwgPSAkKGVsZW1lbnQpLmZpbmQoJy5icmVlZF9fY2Fyb3VzZWwnKTtcclxuICAgICAgICAkKGJyZWVkQ2Fyb3VzZWwpLnJlbW92ZUNsYXNzKCdzbGljay1pbml0aWFsaXplZCcpO1xyXG4gICAgICAgICQoYnJlZWRDYXJvdXNlbCkuZW1wdHkoKTtcclxuICAgICAgfSk7XHJcbiAgICAgIGluc3RhbmNlLmNoZWNrTnVtYmVyT2ZQcm9maWxlUGV0KCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIFJlbW92ZSBhY3RpdmUgY2xhc3MgZm9yIHNsaWRlclxyXG4gIHJlc2V0QWN0aXZlU2xpZGVyKGVsbSkge1xyXG4gICAgaWYgKCQoZWxtKS5oYXNDbGFzcygnc2xpZGVyLWhhbmRsZScpKSB7XHJcbiAgICAgICQoZWxtKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjaGVja051bWJlck9mUHJvZmlsZVBldCgpIHtcclxuXHJcblxyXG4gICAgJCgnLnByb2ZpbGUtcGV0X19tYXgtcGV0cycpLmhpZGUoKTtcclxuICAgICQoJy5qcy1hZGQtYW5vdGhlci1wZXQtcHJvZmlsZScpLnNob3coKTtcclxuICAgICQoJy5yZW1vdmUtcGV0JykuY3NzKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTtcclxuICAgIGNvbnN0IG5iclByb2ZpbGVQZXQgPSAkKCcucGV0LXByb2ZpbGUnKS5sZW5ndGg7XHJcbiAgICBpZiAobmJyUHJvZmlsZVBldCA+PSA1KSB7XHJcbiAgICAgICQoJy5wcm9maWxlLXBldF9fbWF4LXBldHMnKS5zaG93KCk7XHJcbiAgICAgICQoJy5qcy1hZGQtYW5vdGhlci1wZXQtcHJvZmlsZScpLmhpZGUoKTtcclxuICAgIH1cclxuICAgIGlmKG5iclByb2ZpbGVQZXQgPT09IDEpIHtcclxuICAgICAgJCgnLnJlbW92ZS1wZXQnKS5jc3MoJ3Zpc2liaWxpdHknLCdoaWRkZW4nKTtcclxuICAgIH1cclxuICAgIGNvbnN0ICREYXRhUHJvZmlsZSA9ICQoJy5wZXQtcHJvZmlsZScpO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAkRGF0YVByb2ZpbGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgU2F2ZWRFbGVtZW50ID0gJCgnLnBldC1wcm9maWxlW2RhdGEtcHJvZmlsZS1pbmRleD1cIicgKyBpICsgJ1wiXSAucHJvZmlsZScpO1xyXG4gICAgICBpZiAoU2F2ZWRFbGVtZW50Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfVxyXG4gICAgICAkKCcucGV0LXByb2ZpbGVbZGF0YS1wcm9maWxlLWluZGV4PVwiMFwiXSAucmVtb3ZlLXBldCcpLmNzcygndmlzaWJpbGl0eScsICdoaWRkZW4nKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuICBpbml0SW1nRm9ybURlbGV0ZSgpIHtcclxuICAgICQoJy5qcy1wZXQtcHJvZmlsZS1yZW1vdmUtcGljJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9ICQodGhpcykucGFyZW50cygnZm9ybScpO1xyXG4gICAgICBjb25zdCBpbWdzID0gY29udGFpbmVyLmZpbmQoJy5wZXQtdHlwZV9fdGh1bWJuYWlsIGltZycpO1xyXG4gICAgICBjb25zdCBwZXRUaHVtYm5haWwgPSAkKHRoaXMpLnBhcmVudHMoJy5wZXQtdHlwZV9fdGh1bWJuYWlsJyk7XHJcbiAgICAgIHBldFRodW1ibmFpbC5yZW1vdmVDbGFzcygncGV0LXR5cGVfX3BsYWNlaG9sZGVyLS1wcmV2aWV3Jyk7XHJcbiAgICAgIC8vIFJlbW92ZSBpbWcgcHJvZmlsZSBmcm9tIHRoZSBET01cclxuICAgICAgaW1ncy5yZW1vdmUoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaW5pdERlbGV0ZVBldFByb2ZpbGUoKSB7XHJcbiAgICAkKCcuanMtZGVsZXRlLXBldCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGNvbnN0IHR5cGUgPSAkKHRoaXMpLmRhdGEoJ3R5cGUnKTtcclxuICAgICAgY29uc3QgcGV0SWQgPSAkKHRoaXMpLnBhcmVudHMoJy5wZXQtcHJvZmlsZScpLmF0dHIoJ2RhdGEtcHJvZmlsZS1pbmRleCcpO1xyXG4gICAgICBjb25zdCBocmVmID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XHJcblxyXG4gICAgICBjb25zdCAkcG9wdXBCdG4gPSAkKCcucG9waW4tY29uZmlybWF0aW9uIC5qcy1kZWxldGUtcGV0LWNvbmZpcm0nKTtcclxuICAgICAgJHBvcHVwQnRuLmF0dHIoJ2hyZWYnLCBocmVmKTtcclxuICAgICAgJHBvcHVwQnRuLmF0dHIoJ2RhdGEtdHlwZScsIHR5cGUpO1xyXG4gICAgICAkcG9wdXBCdG4uYXR0cignZGF0YS1wcm9maWxlLWluZGV4JywgcGV0SWQpO1xyXG5cclxuICAgICAgJCh0aGlzKS5tYWduaWZpY1BvcHVwKHtcclxuICAgICAgICBpdGVtczoge1xyXG4gICAgICAgICAgc3JjOiAkKCcucG9waW4tY29uZmlybWF0aW9uJyksXHJcbiAgICAgICAgICB0eXBlOiAnaW5saW5lJ1xyXG4gICAgICAgIH1cclxuICAgICAgfSkubWFnbmlmaWNQb3B1cCgnb3BlbicpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLmpzLWRlbGV0ZS1wZXQtY29uZmlybScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGNvbnN0IHR5cGUgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtdHlwZScpO1xyXG4gICAgICBpZiAodHlwZSA9PT0gJ2VkaXQnKSB7XHJcbiAgICAgICAgbG9jYXRpb24uaHJlZiA9ICQodGhpcykuYXR0cignaHJlZicpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IHByb2ZpbGVJbmRleCA9ICQodGhpcykuYXR0cignZGF0YS1wcm9maWxlLWluZGV4Jyk7XHJcbiAgICAgICAgY29uc3Qgc2VjdGlvbkNvbnRhaW5lciA9ICQoJy5wZXQtcHJvZmlsZVtkYXRhLXByb2ZpbGUtaW5kZXg9XCInICsgcHJvZmlsZUluZGV4ICsgJ1wiXScpO1xyXG4gICAgICAgICQoJy5tZnAtY2xvc2UnKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgIHNlY3Rpb25Db250YWluZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgaW5zdGFuY2UuY2hlY2tOdW1iZXJPZlByb2ZpbGVQZXQoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAkKCcuanMtZGVsZXRlLXBldC1jYW5jZWwnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgJCgnLm1mcC1jbG9zZScpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGRlYWN0aXZhdGVBY2NvdW50KCkge1xyXG4gICAgJCgnLmpzLWRlYWN0aXZhdGUtYWNjb3VudF9fbGluaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGNvbnN0IGhyZWYgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcclxuXHJcbiAgICAgIGNvbnN0ICRwb3B1cEJ0biA9ICQoJy5wb3Bpbi1kZWFjdGl2YXRlLWFjY291bnQtY29uZmlybWF0aW9uIC5qcy1kZWFjdGl2YXRlLWFjY291bnQtY29uZmlybScpO1xyXG4gICAgICAkcG9wdXBCdG4uYXR0cignaHJlZicsIGhyZWYpO1xyXG5cclxuICAgICAgJCh0aGlzKS5tYWduaWZpY1BvcHVwKHtcclxuICAgICAgICBpdGVtczoge1xyXG4gICAgICAgICAgc3JjOiAkKCcucG9waW4tZGVhY3RpdmF0ZS1hY2NvdW50LWNvbmZpcm1hdGlvbicpLFxyXG4gICAgICAgICAgdHlwZTogJ2lubGluZSdcclxuICAgICAgICB9XHJcbiAgICAgIH0pLm1hZ25pZmljUG9wdXAoJ29wZW4nKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoJy5qcy1kZWFjdGl2YXRlLWFjY291bnQtY29uZmlybScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGxvY2F0aW9uLmhyZWYgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcclxuICAgIH0pO1xyXG4gICAgJCgnLmpzLWRlYWN0aXZhdGUtYWNjb3VudC1jYW5jZWwnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgJCgnLm1mcC1jbG9zZScpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNsZWFyRm9ybVZhbHVlKHJlZ2lzdHJhdGlvblBldEZvcm0pIHtcclxuICAgICQocmVnaXN0cmF0aW9uUGV0Rm9ybSkuZmluZCgnaW5wdXQ6cmFkaW8nKS5yZW1vdmVBdHRyKCdjaGVja2VkJyk7XHJcbiAgICBjb25zdCBmb3JtaW5wdXRzID0gJChyZWdpc3RyYXRpb25QZXRGb3JtKS5maW5kKCdpbnB1dDp0ZXh0Jyk7XHJcbiAgICAkLmVhY2goZm9ybWlucHV0cywgZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcclxuICAgICAgJChlbGVtZW50KS5yZW1vdmVBdHRyKCd2YWx1ZScpO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBkYXRlID0gJChyZWdpc3RyYXRpb25QZXRGb3JtKS5maW5kKCcuanMtZGF0ZS1kYXknKTtcclxuICAgIGNvbnN0IG1vbnRoID0gJChyZWdpc3RyYXRpb25QZXRGb3JtKS5maW5kKCcuanMtZGF0ZS1tb250aCcpO1xyXG4gICAgY29uc3QgeWVhciA9ICQocmVnaXN0cmF0aW9uUGV0Rm9ybSkuZmluZCgnLmpzLWRhdGUteWVhcicpO1xyXG4gICAgJChkYXRlKS5maW5kKCdvcHRpb246Zmlyc3QtY2hpbGQnKS5hdHRyKCdzZWxlY3RlZCcsIHRydWUpO1xyXG4gICAgJChtb250aCkuZmluZCgnb3B0aW9uOmZpcnN0LWNoaWxkJykuYXR0cignc2VsZWN0ZWQnLCB0cnVlKTtcclxuICAgICQoeWVhcikuZmluZCgnb3B0aW9uOmZpcnN0LWNoaWxkJykuYXR0cignc2VsZWN0ZWQnLCB0cnVlKTtcclxuICB9XHJcblxyXG4gIGluaXRMYWJlbFZhbHVlKCkge1xyXG4gICAgY29uc3QgcGV0Rm9ybXMgPSAkKGRvY3VtZW50KS5maW5kKCcucGV0LWZvcm0tZ3JvdXAnKTtcclxuICAgICQuZWFjaChwZXRGb3JtcywgZnVuY3Rpb24oaW5kZXgsIHBldEZvcm0pe1xyXG4gICAgICBjb25zdCBjaGVja2VkU2V4ID0gJChwZXRGb3JtKS5maW5kKFwiaW5wdXRbbmFtZSo9J3BldEdlbmRlciddOmNoZWNrZWRcIikudmFsKCk7XHJcbiAgICAgIFBldEdlbmRlci5pbml0TGFiZWxWYWx1ZSgkKHBldEZvcm0pLCBjaGVja2VkU2V4KTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgSW5zdGFuY2UgPSBuZXcgUHJvZmlsZSgpO1xyXG5JbnN0YW5jZS5pbml0KCk7XHJcblxyXG5PYmplY3QuZnJlZXplKEluc3RhbmNlKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEluc3RhbmNlO1xyXG4iLCJpbXBvcnQgRm9ybVZhbGlkYXRpb24gZnJvbSAnLi4vZm9ybS9mb3JtLXZhbGlkYXRpb24nO1xyXG5sZXQgaW5zdGFuY2UgPSBudWxsO1xyXG5sZXQgaW5kZXggPSBudWxsO1xyXG5cclxuY2xhc3MgQWRkQW5vdGhlclBldCB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgaWYgKCFpbnN0YW5jZSkge1xyXG4gICAgICBpbnN0YW5jZSA9IHRoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgJCgnLmpzLWFkZC1hbm90aGVyLXBldCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBjb25zdCBzZWN0aW9uQ29udGFpbmVyID0gJCh0aGlzKS5wYXJlbnRzKCcucmVnaXN0cmF0aW9uLXBldF9fYWRkLWFub3RoZXItcGV0Jyk7XHJcblxyXG4gICAgICBpZiAoIXNlY3Rpb25Db250YWluZXIuZmluZCgnZm9ybScpLmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnN0IGxhc3RGb3JtID0gJCgnLnBldC1yZWdpc3RyYXRpb24tZm9ybScpLmxhc3QoKTtcclxuICAgICAgICBjb25zdCBpc1ZhbGlkID0gRm9ybVZhbGlkYXRpb24udmFsaWRhdGVQZXRGb3JtKGxhc3RGb3JtKTtcclxuICAgICAgICBpZiAoaXNWYWxpZCkge1xyXG4gICAgICAgICAgY29uc3QgcGFyZW50ID0gc2VjdGlvbkNvbnRhaW5lci5maW5kKCcucmVnaXN0cmF0aW9uLXBldF9fYW5vdGhlci1mb3JtJyk7XHJcbiAgICAgICAgICBjb25zdCAkYWRkcGV0YmxvYyA9IHNlY3Rpb25Db250YWluZXIuY2xvbmUodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICBwYXJlbnQuYWRkQ2xhc3MoJ3NlY3Rpb24tY29udGVudCcpO1xyXG4gICAgICAgICAgaW5zdGFuY2UuYWRkUGV0KHBhcmVudCk7XHJcbiAgICAgICAgICBjb25zdCBidG5SZW1vdmUgPSBwYXJlbnQuZmluZCgnLnJlZ2lzdHJhdGlvbi1wZXRfX3JlbW92ZS1wZXQnKTtcclxuICAgICAgICAgIGJ0blJlbW92ZS5jc3MoJ2Rpc3BsYXknLCAnZmxleCcpO1xyXG4gICAgICAgICAgY29uc3QgY29udGFpbmVyID0gJCh0aGlzKS5wYXJlbnRzKCcucmVnaXN0cmF0aW9uLXBldCcpO1xyXG4gICAgICAgICAgY29uc3QgZm9ybSA9IGNvbnRhaW5lci5maW5kKCcuc2VjdGlvbi1jb250ZW50IGZvcm0nKTtcclxuXHJcbiAgICAgICAgICAkYWRkcGV0YmxvYy5pbnNlcnRBZnRlcihzZWN0aW9uQ29udGFpbmVyKTtcclxuICAgICAgICAgIGlmIChmb3JtLmxlbmd0aCA+PSAzKSB7XHJcbiAgICAgICAgICAgICRhZGRwZXRibG9jLmhpZGUoKTtcclxuICAgICAgICAgICAgJCgnLnJlZ2lzdHJhdGlvbi1wZXRfX21heC1wZXRzJykuc2hvdygpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG5cclxuICAgICQoJy5qcy1yZW1vdmUtcGV0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgIGluc3RhbmNlLnJlbW92ZVBldCh0aGlzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkUGV0KHBhcmVudCkge1xyXG4gICAgY29uc3QgJGZvcm0gPSBpbmRleCA/ICgkKCcjcmVnaXN0ZXItcGV0LWZvcm0taW5kZXgtJyArIGluZGV4KSkgOiAkKCcjcmVnaXN0ZXItcGV0LWZvcm0taW5kZXgtMCcpO1xyXG4gICAgJGZvcm0ucGFyc2xleSgpLmRlc3Ryb3koKTtcclxuICAgIGluZGV4ID0gcGFyc2VJbnQoJGZvcm0ucHJvcCgnaWQnKS5tYXRjaCgvXFxkKy9nKSwgMTApICsgMTtcclxuXHJcbiAgICBjb25zdCAkY2xvbmUgPSAkZm9ybS5jbG9uZSh0cnVlLCB0cnVlKS5wcm9wKCdpZCcsICdyZWdpc3Rlci1wZXQtZm9ybS1pbmRleC0nICsgaW5kZXgpO1xyXG5cclxuICAgICQocGFyZW50KS5hcHBlbmQoJGNsb25lKTtcclxuXHJcbiAgICBjb25zdCBpbnB1dHMgPSAkY2xvbmUuZmluZCgnaW5wdXQsIGxhYmVsLCBkaXYsIHNwYW4nKTtcclxuXHJcbiAgICAkLmVhY2goaW5wdXRzLCBmdW5jdGlvbihpbmQsIGVsZW0pIHtcclxuICAgICAgY29uc3QgakVsZW0gPSAkKGVsZW0pO1xyXG5cclxuICAgICAgaWYgKGpFbGVtLmlzKCdsYWJlbCcpKSB7XHJcbiAgICAgICAgbGV0IGlkID0gakVsZW0ucHJvcCgnZm9yJyk7XHJcblxyXG4gICAgICAgIGlmIChpZCkge1xyXG4gICAgICAgICAgaWQgPSBpZC5yZXBsYWNlKC9cXGQrL2csICcnKTtcclxuICAgICAgICAgIGlkID0gaWQgKyBpbmRleDtcclxuICAgICAgICAgIGpFbGVtLnByb3AoJ2ZvcicsIGlkKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoakVsZW0uaXMoJ3NwYW4nKSkge1xyXG4gICAgICAgIGxldCBhcmlhQ29udHJvbHMgPSBqRWxlbS5hdHRyKCdhcmlhLWNvbnRyb2xzJyk7XHJcblxyXG4gICAgICAgIGluc3RhbmNlLnJlc2V0QWN0aXZlU2xpZGVyKGpFbGVtKTtcclxuXHJcbiAgICAgICAgaWYgKGFyaWFDb250cm9scykge1xyXG4gICAgICAgICAgYXJpYUNvbnRyb2xzID0gYXJpYUNvbnRyb2xzLnJlcGxhY2UoL1xcZCsvZywgJycpO1xyXG4gICAgICAgICAgYXJpYUNvbnRyb2xzID0gYXJpYUNvbnRyb2xzICsgaW5kZXg7XHJcbiAgICAgICAgICBqRWxlbS5hdHRyKCdhcmlhLWNvbnRyb2xzJywgYXJpYUNvbnRyb2xzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgbGV0IGlkID0gakVsZW0ucHJvcCgnaWQnKTtcclxuICAgICAgICBsZXQgYXJpYUNvbnRyb2xzID0gakVsZW0uYXR0cignYXJpYS1jb250cm9scycpO1xyXG5cclxuICAgICAgICBpZiAoaWQpIHtcclxuICAgICAgICAgIGlkID0gaWQucmVwbGFjZSgvXFxkKy9nLCAnJyk7XHJcbiAgICAgICAgICBpZCA9IGlkICsgaW5kZXg7XHJcbiAgICAgICAgICBqRWxlbS5wcm9wKCdpZCcsIGlkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChhcmlhQ29udHJvbHMpIHtcclxuICAgICAgICAgIGFyaWFDb250cm9scyA9IGFyaWFDb250cm9scy5yZXBsYWNlKC9cXGQrL2csICcnKTtcclxuICAgICAgICAgIGFyaWFDb250cm9scyA9IGFyaWFDb250cm9scyArIGluZGV4O1xyXG4gICAgICAgICAgakVsZW0uYXR0cignYXJpYS1jb250cm9scycsIGFyaWFDb250cm9scyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBSZW1vdmUgaW1nIHByb2ZpbGUgZnJvbSB0aGUgRE9NXHJcbiAgICBjb25zdCB0aHVtYm5haWwgPSAkY2xvbmUuZmluZCgnLnBldC10eXBlX190aHVtYm5haWwnKTtcclxuICAgIGNvbnN0IHByb2ZpbGVJbWcgPSB0aHVtYm5haWwuZmluZCgnaW1nJyk7XHJcblxyXG4gICAgcHJvZmlsZUltZy5yZW1vdmUoKTtcclxuXHJcbiAgICBjb25zdCBzZWxlY3RlZCA9ICRjbG9uZS5maW5kKCcucGV0LXR5cGVfX3RodW1ibmFpbC0tdW5zZWxlY3RlZCcpO1xyXG4gICAgc2VsZWN0ZWQucmVtb3ZlQ2xhc3MoJ3BldC10eXBlX190aHVtYm5haWwtLXVuc2VsZWN0ZWQnKTtcclxuXHJcbiAgICBjb25zdCB1bnNlbGVjdGVkID0gJGNsb25lLmZpbmQoJy5wZXQtdHlwZV9fdGh1bWJuYWlsLS1zZWxlY3RlZCcpO1xyXG4gICAgdW5zZWxlY3RlZC5yZW1vdmVDbGFzcygncGV0LXR5cGVfX3RodW1ibmFpbC0tc2VsZWN0ZWQnKTtcclxuXHJcbiAgICBjb25zdCBuZXdGb3JtSWQgPSAnI3JlZ2lzdGVyLXBldC1mb3JtLWluZGV4LScgKyBpbmRleDtcclxuICAgICQobmV3Rm9ybUlkKVswXS5yZXNldCgpO1xyXG4gICAgLy8gJChuZXdGb3JtSWQpLnBhcnNsZXkoKS5yZXNldCgpO1xyXG4gICAgJGNsb25lLnNjcm9sbFRvKDYwMCk7XHJcblxyXG4gICAgY29uc3Qgc2xpZGVycyA9IHBhcmVudC5maW5kKCcuc2xpZGVyJyk7XHJcbiAgICBzbGlkZXJzLmVhY2goZnVuY3Rpb24oaW5kLCBzbGlkZXIpIHtcclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICBuZXcgRm91bmRhdGlvbi5TbGlkZXIoJChzbGlkZXIpKTtcclxuICAgICAgfSwgNTAwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGJyZWVkcyA9ICRjbG9uZS5maW5kKCcuYnJlZWQnKTtcclxuXHJcbiAgICAkLmVhY2goYnJlZWRzLCBmdW5jdGlvbihpbmQsIGVsZW1lbnQpIHtcclxuICAgICAgY29uc3QgYnJlZWRDYXJvdXNlbCA9ICQoZWxlbWVudCkuZmluZCgnLmJyZWVkX19jYXJvdXNlbCcpO1xyXG4gICAgICAkKGJyZWVkQ2Fyb3VzZWwpLnJlbW92ZUNsYXNzKCdzbGljay1pbml0aWFsaXplZCcpO1xyXG4gICAgICAkKGJyZWVkQ2Fyb3VzZWwpLmVtcHR5KCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlbW92ZVBldChlbG0pIHtcclxuICAgIGNvbnN0IGNvbnRhaW5lciA9ICQoZWxtKS5wYXJlbnRzKCcucmVnaXN0cmF0aW9uLXBldF9fYWRkLWFub3RoZXItcGV0Jyk7XHJcblxyXG4gICAgY29udGFpbmVyLnJlbW92ZSgpO1xyXG4gICAgaW5kZXggPSBpbmRleCAtIDE7XHJcbiAgICAkKCcucmVnaXN0cmF0aW9uLXBldF9fbWF4LXBldHMnKS5oaWRlKCk7XHJcbiAgICAkKCcucmVnaXN0cmF0aW9uLXBldF9fYWRkLWFub3RoZXItcGV0JykubGFzdCgpLnNob3coKTtcclxuICB9XHJcblxyXG4gIC8vIFJlbW92ZSBhY3RpdmUgY2xhc3MgZm9yIHNsaWRlclxyXG4gIHJlc2V0QWN0aXZlU2xpZGVyKGVsbSkge1xyXG4gICAgaWYgKCQoZWxtKS5oYXNDbGFzcygnc2xpZGVyLWhhbmRsZScpKSB7XHJcbiAgICAgICQoZWxtKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBJbnN0YW5jZSA9IG5ldyBBZGRBbm90aGVyUGV0KCk7XHJcblxyXG5PYmplY3QuZnJlZXplKEluc3RhbmNlKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEluc3RhbmNlO1xyXG4iLCJsZXQgaW5zdGFuY2UgPSBudWxsO1xyXG52YXIgYnJlZWRzRG9nID0gW107XHJcbnZhciBicmVlZHNDYXQgPSBbXTtcclxuY29uc3Qgb3RoZXJCcmVlZElkID0gNDI1OTtcclxuY29uc3QgbWl4ZWRCcmVlZElkID0gNDEzODtcclxuZXhwb3J0IGNsYXNzIEJyZWVkIHtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBpZiAoIWluc3RhbmNlKSB7XHJcbiAgICAgIGluc3RhbmNlID0gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvLyBnZW5lcmFsIGNvbmZpZ3VyYXRpb24gb2YgdGhlIGJyZWVkIHNsaWRlci5cclxuXHJcbiAgICB0aGlzLmNvbmZpZyA9IHtcclxuICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgaW5maW5pdGU6IHRydWUsXHJcbiAgICAgIHNsaWRlc1RvU2hvdzogMixcclxuICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICAgIHN3aXBlOiB0cnVlLFxyXG4gICAgICB0b3VjaE1vdmU6IHRydWUsXHJcbiAgICAgIHNwZWVkOiAxMDAsXHJcbiAgICAgIGNlbnRlck1vZGU6IHRydWUsXHJcbiAgICAgIGZvY3VzT25TZWxlY3Q6IHRydWUsXHJcbiAgICAgIG1vYmlsZUZpcnN0OiB0cnVlLFxyXG4gICAgICBpbml0aWFsU2xpZGU6IDEsXHJcbiAgICAgIHJlc3BvbnNpdmU6IFt7XHJcbiAgICAgICAgYnJlYWtwb2ludDogMTAyMyxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiA0LFxyXG4gICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICAgICAgICBhcnJvd3M6IHRydWUsXHJcbiAgICAgICAgICBjZW50ZXJNb2RlOiBmYWxzZSxcclxuICAgICAgICAgIGluZmluaXRlOiBmYWxzZSxcclxuICAgICAgICAgIGluaXRpYWxTbGlkZTogMFxyXG4gICAgICAgIH1cclxuICAgICAgfV1cclxuICAgIH07XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG5cclxuICAgIC8vIEluaXRpYWxpc2F0aW9uXHJcbiAgICAvLyBjb25zdCBicmVlZENvbXBvbmVudHMgPSAkKGRvY3VtZW50KS5maW5kKCcuYnJlZWQnKTtcclxuICAgIC8vIGlmIChicmVlZENvbXBvbmVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgLy8gICBmb3IgKGxldCBpID0gMDsgaSA8IGJyZWVkQ29tcG9uZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgLy8gICAgIGluc3RhbmNlLmluaXRCcmVlZFNsaWRlcihicmVlZENvbXBvbmVudHNbaV0pO1xyXG4gICAgLy8gICB9XHJcbiAgICAvLyB9XHJcbiAgfVxyXG5cclxuICBpbml0QnJlZWRTbGlkZXIoY29tcG9uZW50KSB7XHJcbiAgICBjb25zdCBicmVlZEluc3RhbmNlID0gdGhpcztcclxuICAgIGNvbnN0IGNvbXBvbmVudENhcm91c2VsID0gJChjb21wb25lbnQpLmZpbmQoJy5icmVlZF9fY2Fyb3VzZWwnKTtcclxuICAgIGNvbnN0IGNvbXBvbmVudElucHV0ID0gJChjb21wb25lbnQpLmZpbmQoJy5icmVlZF9fc2VhcmNoJyk7XHJcbiAgICBjb25zdCBjb21wb25lbnRIaWRkZW5JbnB1dCA9ICQoY29tcG9uZW50KS5maW5kKCdpbnB1dFt0eXBlPVwiaGlkZGVuXCJdJyk7XHJcbiAgICBjb25zdCBjb21wb25lbnRDYXRlZ29yeSA9ICQoY29tcG9uZW50KS5kYXRhKCdjYXRlZ29yeScpO1xyXG4gICAgY29uc3QgY29tcG9uZW50VXJsID0gJChjb21wb25lbnQpLmRhdGEoJ3VybCcpO1xyXG4gICAgY29uc3QgY29tcG9uZW50Q3VsdHVyZSA9ICQoJ2JvZHknKS5kYXRhKCdwYWdlLWlkJyk7XHJcbiAgICBjb25zdCBjb21wb25lbnREYXRhID0gYnJlZWRJbnN0YW5jZS5nZXREYXRhKGNvbXBvbmVudFVybCwgY29tcG9uZW50Q3VsdHVyZSwgY29tcG9uZW50Q2F0ZWdvcnkpO1xyXG4gICAgY29uc3QgYnJlZWROYW1lcyA9IFtdO1xyXG5cclxuICAgIC8vIGl0ZXJhdGUgdGhyb3VnaCB0aGUgbGlzdCBhbmQgYWRkIGV2ZXJ5IEl0ZW0gb24gdGhlIGNhcm91c2VsXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbXBvbmVudERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgYnJlZWROYW1lcy5wdXNoKGNvbXBvbmVudERhdGFbaV0uU3BpZWNpZSk7XHJcbiAgICAgIGJyZWVkSW5zdGFuY2UuY3JlYXRlQ2Fyb3VzZWxJdGVtKGNvbXBvbmVudENhcm91c2VsLCBjb21wb25lbnREYXRhW2ldKTtcclxuICAgIH1cclxuXHJcbiAgICAkKGNvbXBvbmVudElucHV0KS5hdXRvY29tcGxldGUoe1xyXG4gICAgICBsb29rdXA6IGJyZWVkTmFtZXMsXHJcbiAgICAgIG9uU2VsZWN0OiBmdW5jdGlvbiAoc3VnZ2VzdGlvbikge1xyXG4gICAgICAgIGJyZWVkSW5zdGFuY2UuYnJlZWRGaWx0ZXIoY29tcG9uZW50Q2Fyb3VzZWwsICQoY29tcG9uZW50SW5wdXQpLnZhbCgpKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAvLyBpbml0IHRoZSBjYXJvdXNlbFxyXG4gICAgJChjb21wb25lbnRDYXJvdXNlbCkuc2xpY2sodGhpcy5jb25maWcpO1xyXG4gICAgLy8gaW5pdCB0aGUgZXZlbnQgb24gY2xpY2sgZm9yIGNhcm91c2VsIGl0ZW1cclxuICAgIGJyZWVkSW5zdGFuY2UuaW5pdGlhbGl6ZUNhcm91c2VsSXRlbUNsaWNrKGNvbXBvbmVudENhcm91c2VsLCBjb21wb25lbnRJbnB1dCwgY29tcG9uZW50SGlkZGVuSW5wdXQpO1xyXG4gICAgLy8gaW5pdCB0aGUgZmlsdGVyIGZvciB0aGUgY29tcG9uZW50XHJcbiAgICBicmVlZEluc3RhbmNlLmluaXRTZWFyY2hGaWx0ZXIoY29tcG9uZW50Q2Fyb3VzZWwsIGNvbXBvbmVudElucHV0KTtcclxuICAgIGJyZWVkSW5zdGFuY2UuaW5pdElucHV0VmFsdWUoY29tcG9uZW50Q2Fyb3VzZWwsY29tcG9uZW50SW5wdXQgLGNvbXBvbmVudEhpZGRlbklucHV0KTtcclxuICB9XHJcblxyXG4gIGdldERhdGEoY29tcG9uZW50VXJsLCBjb21wb25lbnRDdWx0dXJlLCBjb21wb25lbnRDYXRlZ29yeSkge1xyXG4gICAgaWYoY29tcG9uZW50Q2F0ZWdvcnkgPT09ICdjYXQnICYmIGJyZWVkc0NhdC5sZW5ndGggIT09IDApIHtcclxuICAgICAgcmV0dXJuIGJyZWVkc0NhdDtcclxuICAgIH1cclxuICAgIGlmKGNvbXBvbmVudENhdGVnb3J5ID09PSAnZG9nJyAmJiBicmVlZHNEb2cubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgIHJldHVybiBicmVlZHNEb2c7XHJcbiAgICB9XHJcbiAgICB2YXIgYnJlZWRMaXN0ID0gW107XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICB0eXBlOiAnZ2V0JyxcclxuICAgICAgdXJsOiBjb21wb25lbnRVcmwsXHJcbiAgICAgIGRhdGE6IHtcclxuICAgICAgICBwYWdlSWQ6IGNvbXBvbmVudEN1bHR1cmUsXHJcbiAgICAgICAgc3BlY2llOiBjb21wb25lbnRDYXRlZ29yeVxyXG4gICAgICB9LFxyXG4gICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICBhc3luYzogZmFsc2UsXHJcbiAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgaWYoY29tcG9uZW50Q2F0ZWdvcnkgPT09ICdjYXQnKSB7XHJcbiAgICAgICAgICBicmVlZHNDYXQgPSBkYXRhLnNsaWNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYoY29tcG9uZW50Q2F0ZWdvcnkgPT09ICdkb2cnKSB7XHJcbiAgICAgICAgICBicmVlZHNEb2cgPSBkYXRhLnNsaWNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWVkTGlzdCA9IGRhdGEuc2xpY2UoKTtcclxuICAgICAgfSxcclxuICAgICAgZXJyb3I6IChlcnJvclRocm93bikgPT4ge1xyXG4gICAgICAgIC8vIGhhbmRsZSBlcnJvciBjb2RlIGhlcmVcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gYnJlZWRMaXN0O1xyXG4gIH1cclxuXHJcbiAgLy8gQ3JlYXRlIGFuIGVsZW1lbnQgb2YgdGhlIGNhcm91c2VsXHJcbiAgY3JlYXRlQ2Fyb3VzZWxJdGVtKGNvbXBvbmVudENhcm91c2VsLCBjb21wb25lbnREYXRhKSB7XHJcbiAgICBjb25zdCBicmVlZFBhY2tzaG90ID0gJCgnPGRpdiBjbGFzcz1cXCdicmVlZF9faXRlbVxcJz48L2Rpdj4nKTtcclxuICAgIGNvbnN0IGltYWdlUGFja3Nob3QgPSAkKCc8aW1nLz4nKTtcclxuICAgIGNvbnN0IGl0ZW1XcmFwcGVyID0gJCgnPGRpdj48L2Rpdj4nKTtcclxuXHJcbiAgICAkKGl0ZW1XcmFwcGVyKS5hZGRDbGFzcygnYnJlZWQtaXRlbS13cmFwcGVyJyk7XHJcblxyXG4gICAgJChicmVlZFBhY2tzaG90KS5hcHBlbmQoJChpdGVtV3JhcHBlcikpO1xyXG4gICAgJChicmVlZFBhY2tzaG90KS5hdHRyKCdkYXRhLW5hbWUnLCBjb21wb25lbnREYXRhLlNwaWVjaWUpO1xyXG4gICAgJChicmVlZFBhY2tzaG90KS5hdHRyKCdkYXRhLWNybS1pZCcsIGNvbXBvbmVudERhdGEuQ3JtSWQpO1xyXG5cclxuICAgICQoaW1hZ2VQYWNrc2hvdCkuYXR0cignc3JjJywgY29tcG9uZW50RGF0YS5JbWFnZSk7XHJcbiAgICAkKGltYWdlUGFja3Nob3QpLmF0dHIoJ2FsdCcsIGNvbXBvbmVudERhdGEuU3BpZWNpZSk7XHJcbiAgICAkKGltYWdlUGFja3Nob3QpLmFkZENsYXNzKCdpbWctLXJlc3BvbnNpdmUnKTtcclxuICAgICQoaXRlbVdyYXBwZXIpLmFwcGVuZCgkKGltYWdlUGFja3Nob3QpKTtcclxuXHJcbiAgICBpZiAocGFyc2VJbnQoY29tcG9uZW50RGF0YS5Dcm1JZCkgIT09IG90aGVyQnJlZWRJZCAmJlxyXG4gICAgcGFyc2VJbnQoY29tcG9uZW50RGF0YS5Dcm1JZCkgIT09IG1peGVkQnJlZWRJZCkge1xyXG4gICAgICAkKGl0ZW1XcmFwcGVyKS5hcHBlbmQoJzxzcGFuIGNsYXNzPVxcJ2JyZWVkLW5hbWVcXCc+JyArIGNvbXBvbmVudERhdGEuU3BpZWNpZSArICc8L3NwYW4+Jyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZihwYXJzZUludChjb21wb25lbnREYXRhLkNybUlkKSA9PT0gb3RoZXJCcmVlZElkKSB7XHJcbiAgICAgICAgJChicmVlZFBhY2tzaG90KS5hdHRyKCdkYXRhLW90aGVyJywgdHJ1ZSk7XHJcbiAgICAgIH1cclxuICAgICAgJChpdGVtV3JhcHBlcikuYXBwZW5kKCc8ZGl2PicgKyBjb21wb25lbnREYXRhLlNwaWVjaWUgKyAnPC9kaXY+Jyk7XHJcbiAgICB9XHJcbiAgICAkKGNvbXBvbmVudENhcm91c2VsKS5hcHBlbmQoJChicmVlZFBhY2tzaG90KSk7XHJcbiAgfVxyXG5cclxuICAvLyBDYXJvdXNlbCBpdGVtIGNsaWNrXHJcblxyXG4gIGluaXRpYWxpemVDYXJvdXNlbEl0ZW1DbGljayhjb21wb25lbnRDYXJvdXNlbCwgY29tcG9uZW50SW5wdXQsIGNvbXBvbmVudEhpZGRlbklucHV0KSB7XHJcbiAgICBjb25zdCBicmVlZFBhY2tzaG90ID0gJChjb21wb25lbnRDYXJvdXNlbCkuZmluZCgnLmJyZWVkX19pdGVtJyk7XHJcblxyXG4gICAgJChicmVlZFBhY2tzaG90KS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgJChicmVlZFBhY2tzaG90KS5yZW1vdmVDbGFzcygnYnJlZWRfX2l0ZW0tLXNlbGVjdGVkJyk7XHJcbiAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2JyZWVkX19pdGVtLS1zZWxlY3RlZCcpO1xyXG4gICAgICAkKGNvbXBvbmVudElucHV0KS52YWwoJCh0aGlzKS5kYXRhKCduYW1lJykpO1xyXG4gICAgICAkKGNvbXBvbmVudEhpZGRlbklucHV0KS52YWwoJCh0aGlzKS5kYXRhKCdjcm0taWQnKSk7XHJcblxyXG4gICAgICBpbnN0YW5jZS5zZW5kQnJlZWRHdG0oY29tcG9uZW50Q2Fyb3VzZWwpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBBZGQgR1RNIHdoZW4gY2xpY2sgZWxlbWVudCBjYXJvdXNlbFxyXG4gIHNlbmRCcmVlZEd0bShlbG0pIHtcclxuICAgIGNvbnN0IGNvbnRhaW5lciA9ICQoZWxtKS5wYXJlbnRzKCcuYnJlZWQnKTtcclxuICAgIGNvbnN0IGlkID0gJChjb250YWluZXIpLmF0dHIoJ2lkJyk7XHJcblxyXG4gICAgZGF0YUxheWVyLnB1c2goe1xyXG4gICAgICBldmVudDogJ2V2ZW50X3VzZXJfbmF2aWdhdGlvbicsXHJcbiAgICAgIGV2ZW50X2NhdGVnb3J5OiAnZXZlbnRfdXNlcl9uYXZpZ2F0aW9uJyxcclxuICAgICAgZXZlbnRfYWN0aW9uOiAnZXZlbnRfY2xpY2tfZm9ybV9maWVsZCcsXHJcbiAgICAgIGV2ZW50X2xhYmVsOiBpZFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBpbml0U2VhcmNoRmlsdGVyKGNvbXBvbmVudENhcm91c2VsLCBjb21wb25lbnRJbnB1dCkge1xyXG4gICAgJChjb21wb25lbnRJbnB1dCkub24oJ2tleXVwJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBpbnN0YW5jZS5icmVlZEZpbHRlcihjb21wb25lbnRDYXJvdXNlbCwgJChjb21wb25lbnRJbnB1dCkudmFsKCkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBicmVlZEZpbHRlcihjb21wb25lbnRDYXJvdXNlbCwgdmFsdWUpIHtcclxuXHJcbiAgICAkKGNvbXBvbmVudENhcm91c2VsKS5zbGljaygnc2xpY2tVbmZpbHRlcicpO1xyXG4gICAgJChjb21wb25lbnRDYXJvdXNlbCkuc2xpY2soJ3NsaWNrRmlsdGVyJywgZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRCcmVlZE5hbWUgPSAkKHRoaXMpLmRhdGEoJ25hbWUnKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICBpZiAoY3VycmVudEJyZWVkTmFtZS5tYXRjaCh2YWx1ZS50b0xvd2VyQ2FzZSgpKSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0pO1xyXG4gICAgY29uc3QgdG90YWxJdGVtcyA9ICQoY29tcG9uZW50Q2Fyb3VzZWwpLmZpbmQoJy5zbGljay1zbGlkZScpLmxlbmd0aDtcclxuICAgIGlmICh0b3RhbEl0ZW1zID09PSAwKSB7XHJcbiAgICAgIGluc3RhbmNlLnNob3dPdGhlckJyZWVkKGNvbXBvbmVudENhcm91c2VsKTtcclxuICAgIH1cclxuICB9XHJcbiAgc2hvd090aGVyQnJlZWQoY29tcG9uZW50Q2Fyb3VzZWwpIHtcclxuICAgICQoY29tcG9uZW50Q2Fyb3VzZWwpLnNsaWNrKCdzbGlja1VuZmlsdGVyJyk7XHJcbiAgICAkKGNvbXBvbmVudENhcm91c2VsKS5zbGljaygnc2xpY2tGaWx0ZXInLCBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgaWYgKCQodGhpcykuZGF0YSgnb3RoZXInKSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaW5pdElucHV0VmFsdWUoY29tcG9uZW50Q2Fyb3VzZWwsY29tcG9uZW50SW5wdXQgLCBjb21wb25lbnRIaWRkZW5JbnB1dCkge1xyXG4gICAgY29uc3QgdmFsdWUgPSAkKGNvbXBvbmVudEhpZGRlbklucHV0KS52YWwoKTtcclxuICAgIGNvbnN0IGJyZWVkID0gJChjb21wb25lbnRDYXJvdXNlbCkuZmluZCgnLmJyZWVkX19pdGVtW2RhdGEtY3JtLWlkPVwiJyArIHZhbHVlICsgJ1wiXScpO1xyXG5cclxuICAgIGlmICh2YWx1ZS5sZW5ndGggPiAwICYmIGJyZWVkLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICBpbnN0YW5jZS5icmVlZEZpbHRlcihjb21wb25lbnRDYXJvdXNlbCwgYnJlZWQuZGF0YSgnbmFtZScpKTtcclxuICAgICAgJChjb21wb25lbnRJbnB1dCkudmFsKGJyZWVkLmRhdGEoJ25hbWUnKSk7XHJcbiAgICAgICQoYnJlZWQpLmFkZENsYXNzKCdicmVlZF9faXRlbS0tc2VsZWN0ZWQnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG5cclxufVxyXG5jb25zdCBJbnN0YW5jZSA9IG5ldyBCcmVlZCgpO1xyXG5cclxuT2JqZWN0LmZyZWV6ZShJbnN0YW5jZSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBJbnN0YW5jZTtcclxuIiwibGV0IGluc3RhbmNlID0gbnVsbDtcclxuY29uc3QgTUFMRV9JTkRFWCA9IDI7XHJcbmNvbnN0IEZFTUFMRV9JTkRFWCA9IDE7XHJcbmNsYXNzIFBldEdlbmRlciB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgaWYgKCFpbnN0YW5jZSkge1xyXG4gICAgICBpbnN0YW5jZSA9IHRoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgJChcImlucHV0W25hbWUqPSdwZXRHZW5kZXInXVwiKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBjb25zdCBwZXRGb3JtID0gJCh0aGlzKS5wYXJlbnRzKCcucGV0LWZvcm0tZ3JvdXAnKTtcclxuICAgICAgaW5zdGFuY2UuaW5pdExhYmVsVmFsdWUocGV0Rm9ybSwgdGhpcy52YWx1ZSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGluaXRMYWJlbFZhbHVlKHBldEZvcm0sIHZhbHVlKSB7XHJcbiAgICBjb25zdCBmb3JtRWxlbWVudHMgPSBbJ2lzUGV0U3RlcmlsaXplZCcsICdwZXRXZWlnaCcsICdwZXRBY3RpdmUnLCAncGV0QWxvbmVTaXR0ZXInLCAnaXNQcm9kdWN0VHJpZWRCZWZvcmUnXTtcclxuICAgIGluc3RhbmNlLmluaXRGb3JtRWxlbWVudExhYmVsKHBldEZvcm0sIHZhbHVlLCBmb3JtRWxlbWVudHMpO1xyXG4gICAgLy8gaW5pdCBzZWxlY3RcclxuICAgIGNvbnN0IHBldFNwZW5kVGltZSA9ICQocGV0Rm9ybSkuZmluZChcInNlbGVjdFtuYW1lKj0ncGV0U3BlbmRUaW1lJ11cIikuZmlyc3QoKTtcclxuICAgIGlmIChwZXRTcGVuZFRpbWUgJiYgcGV0U3BlbmRUaW1lLmxlbmd0aCA+IDApIHtcclxuICAgICAgY29uc3QgcGV0U3BlbmRUaW1lTGFiZWwgPSAkKHBldFNwZW5kVGltZSkucHJldignbGFiZWwnKTtcclxuICAgICAgaWYgKHBhcnNlSW50KHZhbHVlKSA9PT0gTUFMRV9JTkRFWCkge1xyXG4gICAgICAgICQocGV0U3BlbmRUaW1lTGFiZWwpLnRleHQoJChwZXRTcGVuZFRpbWUpLmF0dHIoJ2RhdGEtcXVlc3Rpb24tbWFsZScpKTtcclxuICAgICAgfSBlbHNlIGlmIChwYXJzZUludCh2YWx1ZSkgPT09IEZFTUFMRV9JTkRFWCkge1xyXG4gICAgICAgICQocGV0U3BlbmRUaW1lTGFiZWwpLnRleHQoJChwZXRTcGVuZFRpbWUpLmF0dHIoJ2RhdGEtcXVlc3Rpb24tZmVtYWxlJykpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICQocGV0U3BlbmRUaW1lTGFiZWwpLnRleHQoJChwZXRTcGVuZFRpbWUpLmF0dHIoJ2RhdGEtcXVlc3Rpb24nKSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGluaXRGb3JtRWxlbWVudExhYmVsKHBldEZvcm0sIHZhbHVlLCBmb3JtRWxlbWVudHMpIHtcclxuICAgIGZvcihsZXQgaT0wOyBpPCBmb3JtRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgZm9ybUVsZW1lbnQgPSAkKHBldEZvcm0pLmZpbmQoXCJpbnB1dFtuYW1lKj0nXCIgKyBmb3JtRWxlbWVudHNbaV0gKyBcIiddXCIpLmZpcnN0KCk7XHJcbiAgICAgIGlmKGZvcm1FbGVtZW50ICYmIGZvcm1FbGVtZW50Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICB2YXIgbGFiZWwgPSAkKGZvcm1FbGVtZW50KS5wcmV2KCcubGFiZWwnKTtcclxuICAgICAgICBpZihsYWJlbCAmJiBsYWJlbC5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgIGxhYmVsID0gJChmb3JtRWxlbWVudCkucGFyZW50cygnLnNsaWRlcl9fd3JhcHBlcicpLnByZXYoJy5sYWJlbCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHBhcnNlSW50KHZhbHVlKSA9PT0gTUFMRV9JTkRFWCkge1xyXG4gICAgICAgICAgJChsYWJlbCkudGV4dCgkKGxhYmVsKS5hdHRyKCdkYXRhLXF1ZXN0aW9uLW1hbGUnKSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChwYXJzZUludCh2YWx1ZSkgPT09IEZFTUFMRV9JTkRFWCkge1xyXG4gICAgICAgICAgJChsYWJlbCkudGV4dCgkKGxhYmVsKS5hdHRyKCdkYXRhLXF1ZXN0aW9uLWZlbWFsZScpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJChsYWJlbCkudGV4dCgkKGxhYmVsKS5hdHRyKCdkYXRhLXF1ZXN0aW9uJykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IEluc3RhbmNlID0gbmV3IFBldEdlbmRlcigpO1xyXG5cclxuXHJcbk9iamVjdC5mcmVlemUoSW5zdGFuY2UpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgSW5zdGFuY2U7XHJcbiIsImltcG9ydCBCcmVlZCBmcm9tICcuL2JyZWVkJztcclxuaW1wb3J0IFBldEdlbmRlciBmcm9tICcuL3BldC1nZW5kZXInO1xyXG5cclxubGV0IGluc3RhbmNlID0gbnVsbDtcclxuXHJcbmNsYXNzIFBldFR5cGVzIHtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBpZiAoIWluc3RhbmNlKSB7XHJcbiAgICAgIGluc3RhbmNlID0gdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBpbnN0YW5jZTtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICAkKCcucGV0LXR5cGVzX19jb250YWluZXIgLnBldC10eXBlX190aHVtYm5haWwnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ3BldC10eXBlX190aHVtYm5haWwtLXNlbGVjdGVkJykpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9ICQodGhpcykucGFyZW50cygnLnBldC10eXBlc19fY29udGFpbmVyJyk7XHJcbiAgICAgIGNvbnN0IHRodW1ibmFpbHMgPSBjb250YWluZXIuZmluZCgnLnBldC10eXBlX190aHVtYm5haWwnKTtcclxuXHJcbiAgICAgIHRodW1ibmFpbHMuYWRkQ2xhc3MoJ3BldC10eXBlX190aHVtYm5haWwtLXVuc2VsZWN0ZWQnKTtcclxuICAgICAgdGh1bWJuYWlscy5yZW1vdmVDbGFzcygncGV0LXR5cGVfX3RodW1ibmFpbC0tc2VsZWN0ZWQnKTtcclxuICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygncGV0LXR5cGVfX3RodW1ibmFpbC0tdW5zZWxlY3RlZCcpO1xyXG4gICAgICAkKHRoaXMpLmFkZENsYXNzKCdwZXQtdHlwZV9fdGh1bWJuYWlsLS1zZWxlY3RlZCcpO1xyXG4gICAgICBjb250YWluZXIubmV4dCgpLnJlbW92ZUNsYXNzKCdwZXQtdHlwZXNfX2NvbGxhcHNlZCcpO1xyXG4gICAgICBpbnN0YW5jZS5zaG93Rm9ybUVsZW1lbnRzKCk7XHJcbiAgICAgIGluc3RhbmNlLnJlc2V0Rm9ybSh0aGlzKTtcclxuICAgICAgaW5zdGFuY2UucmVzZXRTbGlkZXIodGhpcyk7XHJcbiAgICAgIGluc3RhbmNlLnJlc2V0UHJvZmlsZUltZyh0aGlzKTtcclxuICAgICAgaW5zdGFuY2UuaW5pdGlhbGl6ZUJyZWVkRm9ybSh0aGlzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2hvd0Zvcm1FbGVtZW50cygpIHtcclxuICAgIGlmKCQoJy5yZWdpc3RyYXRpb24tcGV0X19hZGQtYW5vdGhlci1wZXQnKS5sZW5ndGggPCAzKSB7XHJcbiAgICAgICQoJy5yZWdpc3RyYXRpb24tcGV0X19hZGQtYW5vdGhlci1wZXQnKS5zaG93KCk7XHJcbiAgICB9XHJcbiAgICAkKCcucmVnaXN0cmF0aW9uLXBldF9fdmFsaWRhdGlvbicpLnNob3coKTtcclxuICAgICQoJy5qcy1sYWJlbC1wZXQtY2hvaWNlJykuaGlkZSgpO1xyXG4gIH1cclxuXHJcbiAgaW5pdGlhbGl6ZUJyZWVkRm9ybShwZXRUeXBlVGh1bWJuYWlsKSB7XHJcbiAgICAvLyBCcmVlZC5pbml0Rm9ybUR5KCk7XHJcbiAgICBjb25zdCBzZWN0aW9uQ29udGFpbmVyID0gJChwZXRUeXBlVGh1bWJuYWlsKS5wYXJlbnRzKCcuc2VjdGlvbi1jb250YWluZXInKTtcclxuICAgIGNvbnN0IGZvcm0gPSBzZWN0aW9uQ29udGFpbmVyLmZpbmQoJ2Zvcm0nKTtcclxuICAgIGNvbnN0IGJyZWVkID0gJChmb3JtKS5maW5kKCcuYnJlZWRbZGF0YS1jYXRlZ29yeT1cIicgKyAkKHBldFR5cGVUaHVtYm5haWwpLmRhdGEoJ2NhdGVnb3J5JykgKyAnXCJdJyk7XHJcbiAgICBpbnN0YW5jZS5pbml0QnJlZWRDYXJvdXNlbChicmVlZCk7XHJcbiAgfVxyXG5cclxuICBpbml0QnJlZWRDYXJvdXNlbChicmVlZCl7XHJcbiAgICBjb25zdCBicmVlZENhcm91c2VsID0gJChicmVlZCkuZmluZCgnLmJyZWVkX19jYXJvdXNlbCcpO1xyXG4gICAgaWYgKCQoYnJlZWRDYXJvdXNlbCkuaGFzQ2xhc3MoJ3NsaWNrLWluaXRpYWxpemVkJykpIHtcclxuICAgICAgJChicmVlZENhcm91c2VsKS5zbGljaygndW5zbGljaycpO1xyXG4gICAgICAkKGJyZWVkQ2Fyb3VzZWwpLmVtcHR5KCk7XHJcbiAgICB9XHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIEJyZWVkLmluaXRCcmVlZFNsaWRlcigkKGJyZWVkKSk7XHJcbiAgICB9LCA1MCk7XHJcbiAgfVxyXG5cclxuICByZXNldEZvcm0oZWxtKSB7XHJcbiAgICBjb25zdCBzZWN0aW9uQ29udGFpbmVyID0gJChlbG0pLnBhcmVudHMoJy5zZWN0aW9uLWNvbnRhaW5lcicpO1xyXG4gICAgY29uc3QgZm9ybSA9IHNlY3Rpb25Db250YWluZXIuZmluZCgnZm9ybScpO1xyXG4gICAgJChmb3JtKVswXS5yZXNldCgpO1xyXG4gICAgJChmb3JtKS5maW5kKCdpbnB1dFtuYW1lJD1cInBldEJyZWVkSWRcIl0nKS52YWwoJycpO1xyXG4gICAgJChmb3JtKS5wYXJzbGV5KCkuZGVzdHJveSgpO1xyXG4gICAgY29uc3Qgc2VsZWN0Rm9ybURhdGUgPSBmb3JtLmZpbmQoJy5zZWxlY3QtZGF0ZV9fd3JhcHBlcicpO1xyXG4gICAgc2VsZWN0Rm9ybURhdGUucmVtb3ZlQ2xhc3MoJ3NlbGVjdC1kYXRlLWVycm9yJyk7XHJcbiAgICBzZWxlY3RGb3JtRGF0ZS5uZXh0KCcuc2VsZWN0LWRhdGVfX2Vycm9yLW1lc3NhZ2UnKS5oaWRlKCk7XHJcblxyXG4gICAgLy8gUmVzZXQgYWxsIHNlbGVjdCBlbGVtZW50XHJcbiAgICBpbnN0YW5jZS5yZXNldFNlbGVjdEVsbShmb3JtKTtcclxuICAgIGluc3RhbmNlLnJlc2V0R2VuZGVyTGFiZWwoZm9ybSk7XHJcbiAgfVxyXG5cclxuICByZXNldFNlbGVjdEVsbShmb3JtKSB7XHJcbiAgICBjb25zdCBzZWxlY3RzID0gJChmb3JtKS5maW5kKCdzZWxlY3QnKTtcclxuXHJcbiAgICBzZWxlY3RzLmVhY2goZnVuY3Rpb24oaW5kZXgsIHNlbGVjdCkge1xyXG4gICAgICAkKHNlbGVjdCkucHJvcCgnc2VsZWN0ZWRJbmRleCcsIDApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZXNldEdlbmRlckxhYmVsKGZvcm0pIHtcclxuICAgIGNvbnN0IHBldEZvcm0gPSBmb3JtLmZpbmQoJy5wZXQtZm9ybS1ncm91cCcpO1xyXG4gICAgJC5lYWNoKHBldEZvcm0sIGZ1bmN0aW9uKGluZGV4LCBlbGVtZW50KXtcclxuICAgICAgUGV0R2VuZGVyLmluaXRMYWJlbFZhbHVlKGVsZW1lbnQsIG51bGwpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZXNldFByb2ZpbGVJbWcoZWxtKSB7XHJcbiAgICBjb25zdCBjb250YWluZXIgPSAkKGVsbSkucGFyZW50cygnZm9ybScpO1xyXG4gICAgY29uc3QgcHJldmlld3MgPSAkKGNvbnRhaW5lcikuZmluZCgnLnBldC10eXBlX19wbGFjZWhvbGRlci0tcHJldmlldycpO1xyXG4gICAgY29uc3QgaW1ncyA9IGNvbnRhaW5lci5maW5kKCdpbWcnKTtcclxuICAgIHByZXZpZXdzLnJlbW92ZUNsYXNzKCdwZXQtdHlwZV9fcGxhY2Vob2xkZXItLXByZXZpZXcnKTtcclxuICAgIC8vIFJlbW92ZSBpbWcgcHJvZmlsZSBmcm9tIHRoZSBET01cclxuICAgIGltZ3MucmVtb3ZlKCk7XHJcbiAgfVxyXG5cclxuICByZXNldFNsaWRlcihlbG0pIHtcclxuICAgIGNvbnN0IGZvcm0gPSAkKGVsbSkucGFyZW50cygnZm9ybScpO1xyXG4gICAgY29uc3QgY29udGFpbmVyID0gZm9ybS5maW5kKCcucGV0LXR5cGVzX19jb250YWluZXInKTtcclxuICAgIGNvbnN0IHBldEZvcm1zID0gZm9ybS5maW5kKCcucGV0LWZvcm0tZ3JvdXAnKTtcclxuXHJcbiAgICBjb25zdCBsYWJlbHMgPSBjb250YWluZXIuZmluZCgnbGFiZWwnKTtcclxuICAgIGNvbnN0IGluZGV4ID0gbGFiZWxzLmluZGV4KGVsbSk7XHJcbiAgICBjb25zdCBwZXRGb3JtID0gcGV0Rm9ybXNbaW5kZXhdO1xyXG4gICAgY29uc3Qgc2xpZGVycyA9ICQocGV0Rm9ybSkuZmluZCgnLnNsaWRlcicpO1xyXG5cclxuICAgIHNsaWRlcnMuZWFjaChmdW5jdGlvbihpLCBzbGlkZXIpIHtcclxuICAgICAgY29uc3QgaW5wdXQgPSAkKHNsaWRlcikuZmluZCgnaW5wdXQnKTtcclxuICAgICAgY29uc3QgdmFsID0gJChpbnB1dCkudmFsKCk7XHJcblxyXG4gICAgICBpZiAodmFsKSB7XHJcbiAgICAgICAgJChpbnB1dCkudmFsKDApO1xyXG4gICAgICAgICQoaW5wdXQpLnRyaWdnZXIoJ2NoYW5nZScsIHtcclxuICAgICAgICAgIGlzVHJpZ2dlcmVkOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBoYW5kbGUgPSAkKHNsaWRlcikuZmluZCgnLnNsaWRlci1oYW5kbGUnKTtcclxuICAgICAgaW5zdGFuY2UucmVzZXRBY3RpdmVTbGlkZXIoaGFuZGxlKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gUmVtb3ZlIGFjdGl2ZSBjbGFzcyBmb3Igc2xpZGVyXHJcbiAgcmVzZXRBY3RpdmVTbGlkZXIoZWxtKSB7XHJcbiAgICBpZiAoJChlbG0pLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG4gICAgICAkKGVsbSkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgSW5zdGFuY2UgPSBuZXcgUGV0VHlwZXMoKTtcclxuXHJcbk9iamVjdC5mcmVlemUoSW5zdGFuY2UpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgSW5zdGFuY2U7XHJcbiIsImltcG9ydCBGb3JtVmFsaWRhdGlvbiBmcm9tICcuLi9mb3JtL2Zvcm0tdmFsaWRhdGlvbic7XHJcbmxldCBpbnN0YW5jZSA9IG51bGw7XHJcblxyXG5jbGFzcyBSZWdpc3RyYXRpb25TdWJtaXQge1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGluc3RhbmNlO1xyXG4gIH1cclxuXHJcbiAgLy8gUGxhY2UgemVybyAwIG9uIGxlZnQgb2YgbnVtYmVyIHBhZExlZnQoMjMsNSk9PiAwMDAyM1xyXG4gIGxlZnRQYWQobnVtYmVyLCBzaXplKSB7XHJcbiAgICByZXR1cm4gQXJyYXkoc2l6ZSAtIFN0cmluZyhudW1iZXIpLmxlbmd0aCArIDEpLmpvaW4oJzAnKSArIG51bWJlcjtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICAvLyBDbGljayBOZXh0IGJ1dHRvbiBpbiByZWdpc3RyYXRpb24gcHJvZmlsZSBwYWdlXHJcbiAgICAkKCcuanMtc3VibWl0LXJlZ2lzdHJhdGlvbi1wcm9maWxlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgIGNvbnN0IGlzVmFsaWQgPSBGb3JtVmFsaWRhdGlvbi5pc1Byb2ZpbGVSZWdpc3RyYXRpb25WYWxpZCgpO1xyXG4gICAgICBcclxuICAgICAgLy8gQ2hlY2sgb25seSBmb3IgTkxcclxuICAgICAgY29uc3QgY2hrTGFuZyA9ICQoJyNjaGVja2JveC1vcHQtaW4tbWFycy1sYW5nJyk7XHJcbiAgICAgIGlmIChjaGtMYW5nLmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnN0IGlzQ2hlY2tlZCA9IGNoa0xhbmcucGFyc2xleSgpLnZhbGlkYXRlKCk7XHJcbiAgICAgICAgaWYgKGlzQ2hlY2tlZCAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGlzVmFsaWQpIHtcclxuICAgICAgICBpbnN0YW5jZS5zZXRFbmFibGVCdG4odGhpcywgZmFsc2UpO1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSAkKHRoaXMpLnBhcmVudHMoJy5wcm9maWxlLXJlZ2lzdHJhdGlvbi1mb3JtJyk7XHJcbiAgICAgICAgJChmb3JtKS5zdWJtaXQoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLmpzLXJlZ2lzdHJhdGlvbi1wZXQnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgLy8gQ2hlY2sgaWYgZm9ybSBpcyB2YWxpZFxyXG4gICAgICBjb25zdCBpc1ZhbGlkID0gRm9ybVZhbGlkYXRpb24udmFsaWRhdGVQZXRzRm9ybSgpO1xyXG5cclxuICAgICAgY29uc3QgY2hrVGVybXMgPSAkKCcjY2hlY2tib3gtb3B0LWluLW1hcnMtdGVybS1vZi11c2UnKTtcclxuICAgICAgY29uc3QgaXNDaGtUZXJtc0NoZWNrZWQgPSBjaGtUZXJtcy5wYXJzbGV5KCkudmFsaWRhdGUoKTtcclxuICAgICAgaWYgKGlzQ2hrVGVybXNDaGVja2VkICE9PSB0cnVlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDaGVjayBvbmx5IGZvciBOTFxyXG4gICAgICBjb25zdCBjaGtMYW5nID0gJCgnI2NoZWNrYm94LW9wdC1pbi1tYXJzLWxhbmcnKTtcclxuICAgICAgaWYgKGNoa0xhbmcubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3QgaXNDaGVja2VkID0gY2hrTGFuZy5wYXJzbGV5KCkudmFsaWRhdGUoKTtcclxuICAgICAgICBpZiAoaXNDaGVja2VkICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAkKCcucGV0LXR5cGVfX21heC1zaXplLW1zZycpLmhpZGUoKTtcclxuICAgICAgaWYgKCFpc1ZhbGlkKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpbnN0YW5jZS5zdWJtaXREYXRhKHRoaXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRFbmFibGVCdG4oYnRuLCBpc0VuYWJsZSkge1xyXG4gICAgY29uc3QgaWNvbiA9ICQoYnRuKS5maW5kKCdpJyk7XHJcblxyXG4gICAgYnRuLmRpc2FibGVkID0gaXNFbmFibGU7XHJcbiAgICBpZiAoaXNFbmFibGUpIHtcclxuICAgICAgJChidG4pLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICQoYnRuKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgaWNvbi5yZW1vdmVDbGFzcygndmlzaWJsZScpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICQoYnRuKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgaWNvbi5hZGRDbGFzcygndmlzaWJsZScpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3VibWl0RGF0YShidXR0b24pIHtcclxuICAgIC8vIERlYWN0aXZhdGUgcmVnaXN0ZXItYnRuXHJcbiAgICBpbnN0YW5jZS5zZXRFbmFibGVCdG4oYnV0dG9uLCBmYWxzZSk7XHJcblxyXG4gICAgY29uc3QgY29udGFpbmVyID0gJChidXR0b24pLnBhcmVudHMoJy5yZWdpc3RyYXRpb24tcGV0Jyk7XHJcbiAgICBjb25zdCBmb3JtcyA9IGNvbnRhaW5lci5maW5kKCdmb3JtJyk7XHJcbiAgICBjb25zdCBVUkwgPSAkKGZvcm1zWzBdKS5hdHRyKCdhY3Rpb24nKTtcclxuICAgIGNvbnN0IE1FVEhPREUgPSAkKGZvcm1zWzBdKS5hdHRyKCdtZXRob2QnKTtcclxuICAgIGNvbnN0IEVOQ1RZUEUgPSAkKGZvcm1zWzBdKS5hdHRyKCdlbmN0eXBlJyk7XHJcblxyXG4gICAgY29uc3QgcGV0cyA9IFtdO1xyXG4gICAgY29uc3QgcGV0UGhvdG9VcmxMaXN0ID0ge307XHJcbiAgICBsZXQgcGV0SW5kZXggPSAwO1xyXG5cclxuICAgIGZvcm1zLmVhY2goZnVuY3Rpb24oaWR4LCBmb3JtKSB7XHJcbiAgICAgIGNvbnN0IHBldCA9IHt9O1xyXG4gICAgICBjb25zdCBhcnIgPSAkKGZvcm0pLnNlcmlhbGl6ZUFycmF5KCk7XHJcblxyXG4gICAgICAvLyBTZXQgaW5kZXggb2YgcGV0IHRvIGxpbmsgd2l0aCBwaG90b1VybFxyXG4gICAgICBwZXQucGV0SW5kZXggPSBwZXRJbmRleDtcclxuXHJcbiAgICAgIC8vIEdldCBwZXRUeXBlIGNhdCBvciBkb2dcclxuICAgICAgY29uc3QgUEVUX1RZUEUgPSBhcnIucmVkdWNlKGZ1bmN0aW9uKHR5cGUsIGl0ZW0pIHtcclxuICAgICAgICBpZiAoaXRlbS5uYW1lLm1hdGNoKCdwZXRUeXBlJykpIHtcclxuICAgICAgICAgIHR5cGUgPSB0eXBlICsgaXRlbS52YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHR5cGU7XHJcbiAgICAgIH0sICcnKTtcclxuICAgICAgcGV0LnBldFR5cGUgPSBQRVRfVFlQRTtcclxuXHJcbiAgICAgIC8vIEZpbHRlciBkYXRhZm9ybSBieSBwZXQgdHlwZVxyXG4gICAgICBhcnIucmVkdWNlKGZ1bmN0aW9uKG9iaiwgaXRlbSkge1xyXG4gICAgICAgIGlmIChpdGVtLm5hbWUubWF0Y2goUEVUX1RZUEUpKSB7XHJcbiAgICAgICAgICBjb25zdCB0ZW1wID0gaXRlbS5uYW1lLnJlcGxhY2UocGV0LnBldFR5cGUsICcnKTtcclxuICAgICAgICAgIHBldFt0ZW1wXSA9IGl0ZW0udmFsdWU7XHJcblxyXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgdXNlciByZWFseSBjaG9pY2UgaW4gc2xpZGVyIGVsc2UgcmV0dXJuIC0xXHJcbiAgICAgICAgICBjb25zdCBzZWxlY3RvciA9ICdpbnB1dFtuYW1lPScgKyBpdGVtLm5hbWUgKyAnXSc7XHJcbiAgICAgICAgICBjb25zdCBpbnB1dCA9ICQoZm9ybSkuZmluZChzZWxlY3Rvcik7XHJcblxyXG4gICAgICAgICAgaWYgKGlucHV0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjb25zdCBoYW5kbGUgPSBpbnB1dC5wYXJlbnRzKCcuc2xpZGVyLWhhbmRsZScpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGhhbmRsZS5sZW5ndGggJiYgIWhhbmRsZS5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuICAgICAgICAgICAgICBwZXRbdGVtcF0gPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICAgIH0sIHt9KTtcclxuXHJcbiAgICAgIC8vIEZvcm1hdCBiaXJ0aERhdGVcclxuICAgICAgY29uc3QgZGF0ZXMgPSBbXTtcclxuXHJcbiAgICAgIGRhdGVzLnB1c2goaXNOYU4ocGV0LnBldEJpcnRoRGF5KSA/IDEgOiBpbnN0YW5jZS5sZWZ0UGFkKHBhcnNlSW50KHBldC5wZXRCaXJ0aERheSwgMTApLCAyKSk7XHJcbiAgICAgIGRhdGVzLnB1c2goaXNOYU4ocGV0LnBldEJpcnRoTW9udGgpID8gMCA6IGluc3RhbmNlLmxlZnRQYWQocGFyc2VJbnQocGV0LnBldEJpcnRoTW9udGgsIDEwKSwgMikpO1xyXG4gICAgICBkYXRlcy5wdXNoKGlzTmFOKHBldC5wZXRCaXJ0aFllYXIpID8gMCA6IHBhcnNlSW50KHBldC5wZXRCaXJ0aFllYXIsIDEwKSk7XHJcblxyXG4gICAgICBjb25zdCBjdXJyZW5kRGF0ZSA9IG1vbWVudChkYXRlcy5yZXZlcnNlKCkpO1xyXG5cclxuICAgICAgcGV0LnBldEJpcnRoRGF0ZSA9IGN1cnJlbmREYXRlLmZvcm1hdCgnTCcpO1xyXG5cclxuICAgICAgLy8gQ2FsY3VsIGR1IGxhZGRlckFnZVxyXG4gICAgICBjb25zdCBub3cgPSBtb21lbnQoKTtcclxuICAgICAgY29uc3QgbW9udGhzID0gbm93LmRpZmYoY3VycmVuZERhdGUsICdtb250aHMnKTtcclxuICAgICAgbGV0IGxhZGRlckFnZSA9IG1vbnRocztcclxuXHJcbiAgICAgIGlmIChtb250aHMgPj0gMTEpIHtcclxuICAgICAgICBsYWRkZXJBZ2UgPSBNYXRoLnJvdW5kKG1vbnRocyAvIDEyKTtcclxuICAgICAgICBsYWRkZXJBZ2UgPSBsYWRkZXJBZ2UgKyAneXInO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGxhZGRlckFnZSA9IGxhZGRlckFnZSArIDE7XHJcbiAgICAgICAgbGFkZGVyQWdlID0gbGFkZGVyQWdlICsgJ210aCc7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHBldC5wZXRMYWRkZXJBZ2UgPSBsYWRkZXJBZ2U7XHJcblxyXG4gICAgICAvLyBHZXQgcHJvZmlsZSBwaG90byBvZiBjdXJyZW50IGFjdGl2ZSBwZXRcclxuICAgICAgY29uc3QgZmlsZXMgPSAkKGZvcm0pLmZpbmQoJ2lucHV0W3R5cGU9XCJmaWxlXCJdJyk7XHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSA9IGkgKyAxKSB7XHJcbiAgICAgICAgY29uc3QgbmFtZSA9IGZpbGVzW2ldLm5hbWU7XHJcbiAgICAgICAgaWYgKG5hbWUubWF0Y2goUEVUX1RZUEUpKSB7XHJcbiAgICAgICAgICBjb25zdCB0ZW1wID0gbmFtZS5yZXBsYWNlKHBldC5wZXRUeXBlLCAnJyk7XHJcbiAgICAgICAgICBjb25zdCBmaWxlID0gZmlsZXNbaV0uZmlsZXNbMF07XHJcbiAgICAgICAgICBpZiAoZmlsZSkge1xyXG4gICAgICAgICAgICAvLyBTYXZlIGFsbCBwcm9maWxlIHBob3RvXHJcbiAgICAgICAgICAgIHBldFBob3RvVXJsTGlzdFt0ZW1wICsgcGV0SW5kZXhdID0gZmlsZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBhZGQgcGV0IGlkIGluIGNhc2Ugb2YgYW4gdXBkYXRlXHJcbiAgICAgIGNvbnN0IGRhdGFQZXRBdHRyID0gJChmb3JtKS5hdHRyKCdkYXRhLXBldC1pZCcpO1xyXG4gICAgICBpZiAodHlwZW9mIGRhdGFQZXRBdHRyICE9PSB0eXBlb2YgdW5kZWZpbmVkICYmIGRhdGFQZXRBdHRyICE9PSBmYWxzZSkge1xyXG4gICAgICAgIHBldC5wZXRJZCA9IGRhdGFQZXRBdHRyO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICghcGV0LnBldEJyZWVkSWQpIHtcclxuICAgICAgICBwZXQucGV0QnJlZWRJZCA9IDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFJlY29yZCBhbGwgcGV0IGZvcm1cclxuICAgICAgcGV0cy5wdXNoKHBldCk7XHJcbiAgICAgIHBldEluZGV4ID0gcGV0SW5kZXggKyAxO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gR2V0IGRhdGEgaGVhclBlcmZlY3RGaXRcclxuICAgIGNvbnN0IGRhdGEgPSB7fTtcclxuICAgIGlmIChmb3Jtcy5sZW5ndGggIT09IDEpIHtcclxuICAgICAgY29uc3QgaGVhciA9IHBldHMucG9wKCk7XHJcbiAgICAgIGlmIChoZWFyLmhlYXJQZXJmZWN0Rml0KSB7XHJcbiAgICAgICAgZGF0YS5oZWFyUGVyZmVjdEZpdCA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgZGF0YS5oZWFyUGVyZmVjdEZpdCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChoZWFyLmhlYXJQZXJmZWN0Rml0TGFuZykge1xyXG4gICAgICAgIGRhdGEuaGVhclBlcmZlY3RGaXRMYW5nID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBkYXRhLmhlYXJQZXJmZWN0Rml0TGFuZyA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBkYXRhLnBldHNNb2RlbCA9IHBldHM7XHJcblxyXG4gICAgLy8gUHJlcGFyZSBkYXRhIGRvIHNlbmQgdG8gdGhlIGJhY2tlbmRcclxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcblxyXG4gICAgZm9ybURhdGEuYXBwZW5kKCdkYXRhJywgSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICBkYXRhXHJcbiAgICB9KSk7XHJcblxyXG4gICAgZm9yIChjb25zdCBwIGluIHBldFBob3RvVXJsTGlzdCkge1xyXG4gICAgICBmb3JtRGF0YS5hcHBlbmQocCwgcGV0UGhvdG9VcmxMaXN0W3BdKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTQVZFIEZvcm1EYXRhXHJcbiAgICBpZiAobG9jYWxTdG9yYWdlKSB7XHJcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmb3JtRGF0YScsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcclxuICAgIH1cclxuXHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICB1cmw6IFVSTCxcclxuICAgICAgdHlwZTogTUVUSE9ERSxcclxuICAgICAgZGF0YTogZm9ybURhdGEsXHJcbiAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgIGVuY3R5cGU6IEVOQ1RZUEUsXHJcbiAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSxcclxuICAgICAgY29udGVudFR5cGU6IGZhbHNlLFxyXG4gICAgICBzdWNjZXNzOiAocmVzcCkgPT4ge1xyXG4gICAgICAgIC8vIEFjdGl2YXRlIHJlZ2lzdGVyLWJ0blxyXG4gICAgICAgIGluc3RhbmNlLnNldEVuYWJsZUJ0bihidXR0b24sIHRydWUpO1xyXG4gICAgICAgIGlmIChyZXNwLnVybCkge1xyXG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSByZXNwLnVybDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlc3Auc3RhdHVzICYmIHJlc3Auc3RhdHVzID09PSAndXBkYXRlZCcpIHtcclxuICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgZXJyb3I6IChlcnJvcikgPT4ge1xyXG4gICAgICAgIC8vIEFjdGl2YXRlIHJlZ2lzdGVyLWJ0blxyXG4gICAgICAgIGluc3RhbmNlLnNldEVuYWJsZUJ0bihidXR0b24sIHRydWUpO1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG59XHJcblxyXG5jb25zdCBJbnN0YW5jZSA9IG5ldyBSZWdpc3RyYXRpb25TdWJtaXQoKTtcclxuXHJcbk9iamVjdC5mcmVlemUoSW5zdGFuY2UpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgSW5zdGFuY2U7XHJcbiIsImxldCBpbnN0YW5jZSA9IG51bGw7XHJcblxyXG5jbGFzcyBTZW5kTWFpbCB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgaWYgKCFpbnN0YW5jZSkge1xyXG4gICAgICBpbnN0YW5jZSA9IHRoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5vblN1Ym1pdEVtYWlsKCk7XHJcbiAgfVxyXG5cclxuICBvblN1Ym1pdEVtYWlsKCkge1xyXG4gICAgJCgnLmpzLXJlc2V0LXN1Y2Nlc3MnKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuICAgICAgJCgnLm1mcC1jbG9zZScpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyAkKCcuanMtZW1haWwtZm9yZ290Jykub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcbiAgICAvLyAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAvLyAgICQoJ2hlYWRlciAucmVzZXQtcGFzc3dvcmQtZm9ybScpLnN1Ym1pdCgpO1xyXG4gICAgLy8gfSk7XHJcblxyXG4gICAgJCgnaGVhZGVyIC5yZXNldC1wYXNzd29yZC1mb3JtJykub24oJ3N1Ym1pdCcsIChldmVudCkgPT4ge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgY29uc3QgJGZvcm0gPSAkKCdmb3JtLnJlc2V0LXBhc3N3b3JkLWZvcm0nKTtcclxuICAgICAgaWYgKCEkZm9ybS5sZW5ndGgpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgaXNWYWxpZCA9ICRmb3JtLnBhcnNsZXkoKS52YWxpZGF0ZSgpO1xyXG4gICAgICBpZiAoaXNWYWxpZCkge1xyXG4gICAgICAgICAgY29uc3QgbW9kZWwgPSB7XHJcbiAgICAgICAgICAgIGVtYWlsOiAkKCcjcmVzZXQtcGFzc3dvcmQtZm9ybS1lbWFpbCcpLnZhbCgpLFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIC8vIFRPRE86IGFkZCBwYWdlSUQgaW50byBmb3JtOiB2YWx1ZSA9IFwiI3BhZ2VJZCNcIlxyXG4gICAgICAgICAgY29uc3QgcGFnZUlkID0gJCgnYm9keScpLmF0dHIoJ2RhdGEtcGFnZS1pZCcpO1xyXG4gICAgICAgICAgY29uc3QgY3VsdHVyZSA9ICQoJ2h0bWwnKS5hdHRyKCdsYW5nJyk7XHJcbiAgICAgICAgICBjb25zdCByZXR1cm5VcmwgPSBcIlwiO1xyXG4gICAgICAgICAgJCgnLmpzLWVtYWlsLWZvcmdvdCcpLmFkZENsYXNzKCdidG4tLXdoaXRlIGRpc2FibGVkJyk7XHJcbiAgICAgICAgICAkKCcubG9hZGVyIGltZycpLnNob3coKTtcclxuICAgICAgICAgICQoJy5yZXNldC1wYXNzd29yZC1mb3JtIC5tZXNzYWdlJykuaGlkZSgpO1xyXG4gICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICB1cmw6ICcvdW1icmFjby9TdXJmYWNlL0FjY291bnQvRm9yZ290UGFzc3dvcmQvJyxcclxuICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgIG1vZGVsLFxyXG4gICAgICAgICAgICAgIHJldHVyblVybCxcclxuICAgICAgICAgICAgICBwYWdlSWQsXHJcbiAgICAgICAgICAgICAgY3VsdHVyZVxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAkKCcuanMtZW1haWwtZm9yZ290JykucmVtb3ZlQ2xhc3MoJ2J0bi0td2hpdGUgZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgICAkKCcubG9hZGVyIGltZycpLmhpZGUoKTtcclxuICAgICAgICAgICAgICBpZiAoIWRhdGEuTWVzc2FnZUVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCAkbGZvcm0gPSAkKCdoZWFkZXIgLmxvZ2luLWZvcm0nKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0ICRyZm9ybSA9ICQoJ2hlYWRlciAucmVzZXQtcGFzc3dvcmQtZm9ybScpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgJHJlc2VudEZvcm0gPSAkKCdoZWFkZXIgLnJlc2VudC1lbWFpbC1mb3JtJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHJlc2VudEZvcm0ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICRyZXNlbnRGb3JtWzBdLnJlc2V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICRyZXNlbnRGb3JtLnBhcnNsZXkoKS5yZXNldCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCRsZm9ybS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgJGxmb3JtWzBdLnJlc2V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICRsZm9ybS5wYXJzbGV5KCkucmVzZXQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgkcmZvcm0ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICRyZm9ybVswXS5yZXNldCgpO1xyXG4gICAgICAgICAgICAgICAgICAkcmZvcm0ucGFyc2xleSgpLnJlc2V0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkKCcubWVzc2FnZScpLmh0bWwoJycpO1xyXG4gICAgICAgICAgICAgICAgJCgnLm1lc3NhZ2UnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAkLm1hZ25pZmljUG9wdXAuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICQoJy5qcy1lbWFpbC1mb3Jnb3QnKS5tYWduaWZpY1BvcHVwKHtcclxuICAgICAgICAgICAgICAgICAgaXRlbXM6IHtcclxuICAgICAgICAgICAgICAgICAgICBzcmM6ICQoJy5yZXN0LXBhc3N3b3JkLXN0ZXAtMycpLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdpbmxpbmUnXHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrczoge1xyXG4gICAgICAgICAgICAgICAgICAgIGJlZm9yZUNsb3NlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICQoJy5qcy1lbWFpbC1mb3Jnb3QnKS5vZmYoJ2NsaWNrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkKCcuanMtZW1haWwtZm9yZ290JykucmVtb3ZlRGF0YSgnbWFnbmlmaWNQb3B1cCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkubWFnbmlmaWNQb3B1cCgnb3BlbicpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJy5yZXNldC1wYXNzd29yZC1mb3JtIC5tZXNzYWdlJykuaHRtbChkYXRhLk1lc3NhZ2VFcnJvcik7XHJcbiAgICAgICAgICAgICAgICAkKCcucmVzZXQtcGFzc3dvcmQtZm9ybSAubWVzc2FnZScpLnNob3coKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiAoanFYaFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSA9PiB7XHJcbiAgICAgICAgICAgICAgJCgnLmpzLWVtYWlsLWZvcmdvdCcpLnJlbW92ZUNsYXNzKCdidG4tLXdoaXRlIGRpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICAgJCgnLmxvYWRlciBpbWcnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgJCgnLnJlc2V0LXBhc3N3b3JkLWZvcm0gLm1lc3NhZ2UnKS5odG1sKGVycm9yVGhyb3duKTtcclxuICAgICAgICAgICAgICAkKCcucmVzZXQtcGFzc3dvcmQtZm9ybSAubWVzc2FnZScpLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFRPRE86IHJlbW92ZSBlcnJvciBtZXNzYWdlIHdoZW4gY2xvc2luZyB0aGUgcG9waW5cclxuXHJcbiAgICAkKCdoZWFkZXIgLnJlc2VudC1lbWFpbC1mb3JtJykub24oJ3N1Ym1pdCcsIChldmVudCkgPT4ge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgY29uc3QgJGZvcm0gPSAkKCdmb3JtLnJlc2VudC1lbWFpbC1mb3JtJyk7XHJcbiAgICAgIGlmICghJGZvcm0ubGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IGlzVmFsaWQgPSAkZm9ybS5wYXJzbGV5KCkudmFsaWRhdGUoKTtcclxuICAgICAgaWYgKGlzVmFsaWQpIHtcclxuICAgICAgICBjb25zdCBtb2RlbCA9IHtcclxuICAgICAgICAgIGVtYWlsOiAkKCcjcmVzZW50LWVtYWlsLWZvcm0tZW1haWwnKS52YWwoKSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIFRPRE86IGFkZCBwYWdlSUQgaW50byBmb3JtOiB2YWx1ZSA9IFwiI3BhZ2VJZCNcIlxyXG4gICAgICAgIGNvbnN0IHBhZ2VJZCA9ICQoJ2JvZHknKS5hdHRyKCdkYXRhLXBhZ2UtaWQnKTtcclxuICAgICAgICBjb25zdCBjdWx0dXJlID0gJCgnaHRtbCcpLmF0dHIoJ2xhbmcnKTtcclxuICAgICAgICBjb25zdCByZXR1cm5VcmwgPSBcIlwiO1xyXG4gICAgICAgICQoJy5yZXNlbnQtZW1haWwtZm9ybSAuYnRuJykuYWRkQ2xhc3MoJ2J0bi0td2hpdGUgZGlzYWJsZWQnKTtcclxuICAgICAgICAkKCcubG9hZGVyIGltZycpLnNob3coKTtcclxuICAgICAgICAkKCcubWVzc2FnZScpLmh0bWwoJycpO1xyXG4gICAgICAgICQoJy5tZXNzYWdlJykuaGlkZSgpO1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICB1cmw6ICcvdW1icmFjby9TdXJmYWNlL0FjY291bnQvUmVzZW5kRW1haWwvJyxcclxuICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgbW9kZWwsXHJcbiAgICAgICAgICAgIHJldHVyblVybCxcclxuICAgICAgICAgICAgcGFnZUlkLFxyXG4gICAgICAgICAgICBjdWx0dXJlXHJcbiAgICAgICAgICB9KSxcclxuICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAkKCcucmVzZW50LWVtYWlsLWZvcm0gLmJ0bicpLnJlbW92ZUNsYXNzKCdidG4tLXdoaXRlIGRpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXIgaW1nJykuaGlkZSgpO1xyXG4gICAgICAgICAgICBpZiAoIWRhdGEuTWVzc2FnZUVycm9yKSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgJGxmb3JtID0gJCgnaGVhZGVyIC5sb2dpbi1mb3JtJyk7XHJcbiAgICAgICAgICAgICAgY29uc3QgJHJmb3JtID0gJCgnaGVhZGVyIC5yZXNldC1wYXNzd29yZC1mb3JtJyk7XHJcbiAgICAgICAgICAgICAgY29uc3QgJHJlc2VudEZvcm0gPSAkKCdoZWFkZXIgLnJlc2VudC1lbWFpbC1mb3JtJyk7XHJcbiAgICAgICAgICAgICAgaWYgKCRyZXNlbnRGb3JtLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgJHJlc2VudEZvcm1bMF0ucmVzZXQoKTtcclxuICAgICAgICAgICAgICAgICRyZXNlbnRGb3JtLnBhcnNsZXkoKS5yZXNldCgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZiAoJGxmb3JtLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgJGxmb3JtWzBdLnJlc2V0KCk7XHJcbiAgICAgICAgICAgICAgICAkbGZvcm0ucGFyc2xleSgpLnJlc2V0KCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGlmICgkcmZvcm0ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAkcmZvcm1bMF0ucmVzZXQoKTtcclxuICAgICAgICAgICAgICAgICRyZm9ybS5wYXJzbGV5KCkucmVzZXQoKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgJCgnLm1lc3NhZ2UnKS5odG1sKCcnKTtcclxuICAgICAgICAgICAgICAkKCcubWVzc2FnZScpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAkLm1hZ25pZmljUG9wdXAuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAkKCcucmVzZW50LWVtYWlsLWZvcm0gLmJ0bicpLm1hZ25pZmljUG9wdXAoe1xyXG4gICAgICAgICAgICAgICAgaXRlbXM6IHtcclxuICAgICAgICAgICAgICAgICAgc3JjOiAkKCcucmVzdC1wYXNzd29yZC1zdGVwLTMnKSxcclxuICAgICAgICAgICAgICAgICAgdHlwZTogJ2lubGluZSdcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFja3M6IHtcclxuICAgICAgICAgICAgICAgICAgYmVmb3JlQ2xvc2U6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5yZXNlbnQtZW1haWwtZm9ybSAuYnRuJykub2ZmKCdjbGljaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5yZXNlbnQtZW1haWwtZm9ybSAuYnRuJykucmVtb3ZlRGF0YSgnbWFnbmlmaWNQb3B1cCcpO1xyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICBjaGFuZ2U6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5tZXNzYWdlJykuaHRtbCgnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLm1lc3NhZ2UnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KS5tYWduaWZpY1BvcHVwKCdvcGVuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgJCgnLnJlc2VudC1lbWFpbC1mb3JtIC5tZXNzYWdlJykuaHRtbChkYXRhLk1lc3NhZ2VFcnJvcik7XHJcbiAgICAgICAgICAgICAgJCgnLnJlc2VudC1lbWFpbC1mb3JtIC5tZXNzYWdlJykuc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZXJyb3I6IChqcVhoUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pID0+IHtcclxuICAgICAgICAgICAgJCgnLnJlc2VudC1lbWFpbC1mb3JtIC5idG4nKS5yZW1vdmVDbGFzcygnYnRuLS13aGl0ZSBkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyIGltZycpLmhpZGUoKTtcclxuICAgICAgICAgICAgJCgnLnJlc2VudC1lbWFpbC1mb3JtIC5tZXNzYWdlJykuaHRtbChlcnJvclRocm93bik7XHJcbiAgICAgICAgICAgICQoJy5yZXNlbnQtZW1haWwtZm9ybSAubWVzc2FnZScpLnNob3coKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBJbnN0YW5jZSA9IG5ldyBTZW5kTWFpbCgpO1xyXG5cclxuT2JqZWN0LmZyZWV6ZShJbnN0YW5jZSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBJbnN0YW5jZTtcclxuIiwibGV0IGluc3RhbmNlID0gbnVsbDtcclxubGV0IGlzVHJpZ2dlcmVkID0gdHJ1ZTtcclxubGV0IGlzRmlyc3RMb2FkID0gJCgnLnBldC1mb3JtLWdyb3VwJykubGVuZ3RoO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNsaWRlciB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgaWYgKCFpbnN0YW5jZSkge1xyXG4gICAgICBpbnN0YW5jZSA9IHRoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgLy8gVGhpcyBldmVudCBpcyBmaXJlZCB3aGVuIHRoZSB1c2VyIHNlbGVjdCB0aGUgYmlydGhEYXRlIHRocm91Z2h0IHRoZSBzZWxlY3REYXRlXHJcbiAgICAkKCcuc2VsZWN0LWRhdGUgc2VsZWN0Jykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBjb25zdCBjb250YWluZXIgPSAkKHRoaXMpLnBhcmVudHMoJy5zZWxlY3QtZGF0ZScpO1xyXG5cclxuICAgICAgaXNUcmlnZ2VyZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgIC8vIERvIHN5bmMgaW52ZXJzZSBvbmx5IGlmIHRoZSBzZWxlY3REYXRlIGlzIHNlbGVjdGVkXHJcbiAgICAgIGlmIChjb250YWluZXIubGVuZ3RoKSB7XHJcbiAgICAgICAgaW5zdGFuY2Uuc3luY0JpcnRoRGF0ZUludihjb250YWluZXIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBUaGlzIGV2ZW50IGlzIGZpcmVkIHdoZW4gdGhlIHNsaWRlciB2YWx1ZSBpcyB1cGRhdGVkIHZpYSBldmVudC50cmlnZ2VyKClcclxuICAgICQoJy5zbGlkZXIgaW5wdXQnKS5vbignY2hhbmdlJywgZnVuY3Rpb24oZXZlbnQsIGRhdGEpIHtcclxuICAgICAgaWYgKCFkYXRhLmlzVHJpZ2dlcmVkKSB7XHJcbiAgICAgICAgaXNUcmlnZ2VyZWQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQWN0aXZhdGUgb3IgZGVhY3RpdmF0ZSB0aGUgc2VsZWN0IHZhbHVlIG9mIHRoZSBzbGlkZXJcclxuICAgICQoJy5zbGlkZXInKS5vbignbW91c2Vkb3duLnpmLnNsaWRlcicsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgIGNvbnN0IGhhbmRsZSA9ICQodGhpcykuZmluZCgnLnNsaWRlci1oYW5kbGUnKTtcclxuICAgICAgaW5zdGFuY2Uuc2VuZEdUTSh0aGlzKTtcclxuXHJcblxyXG4gICAgICAvLyBCZWNhdXNlIHRoZSBhZ2UgaXMgbWFuZGF0b3J5LCBpdCdzIG5vdCBuZWNlc3NhcnkgdG8gcmVzZXQgdGhlIHNsaWRlciB2YWx1ZVxyXG4gICAgICBpZiAoaW5zdGFuY2UuaXNBZ2VTbGlkZXIodGhpcykpIHtcclxuICAgICAgICBoYW5kbGUuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gVG9nZ2xlIGFjdGl2YXRlIC8gZGVhY3RpdmF0ZSBzbGlkZXIgdmFsdWUgd2hlbiBibHVlIGNpcmNsZSBpcyBjbGlja2VkLlxyXG4gICAgICBjb25zdCBpc0hhbmRsZSA9ICQoZXZlbnQudGFyZ2V0KS5oYXNDbGFzcygnc2xpZGVyLWhhbmRsZScpO1xyXG5cclxuICAgICAgaWYgKGlzSGFuZGxlKSB7XHJcbiAgICAgICAgaGFuZGxlLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBoYW5kbGUuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBUaGlzIGV2ZW50IGlzIHRyaWdnZXJlZCB3aGVuIHRoZSBzbGlkZXIgc2xpZGUgaGFoYWhhXHJcbiAgICAkKCcuc2xpZGVyJykub24oJ21vdmVkLnpmLnNsaWRlcicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBpbnN0YW5jZS5tYW5hZ2VUb29sdGlwKHRoaXMpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gVGhlIGV2ZW50IGlzIGZpcmVkIHdoZW4gdGhlIHVzZXIgY2xpY2sgb24gdGhlIHNsaWRlciBibHVlIGNpcmNsZSA6KVxyXG4gICAgJCgnLnNsaWRlci1oYW5kbGUnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgLy8gQmVjYXVzZSB0aGUgYWdlIGlzIG1hbmRhdG9yeSwgaXQncyBub3QgbmVjZXNzYXJ5IHRvIHJlc2V0IHRoZSBzbGlkZXIgdmFsdWVcclxuICAgICAgaWYgKGluc3RhbmNlLmlzQWdlU2xpZGVyKHRoaXMpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBSZXNldCB0aGUgc2xpZGVyIHZhbHVlXHJcbiAgICAgIGNvbnN0IGlucHV0ID0gJCh0aGlzKS5maW5kKCdpbnB1dCcpO1xyXG5cclxuICAgICAgJChpbnB1dCkudmFsKDApO1xyXG4gICAgICAkKGlucHV0KS50cmlnZ2VyKCdjaGFuZ2UnLCB7XHJcbiAgICAgICAgaXNUcmlnZ2VyZWQ6IHRydWVcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBUb3VjaHNjcmVlbiBtYW5hZ2VtZW50XHJcbiAgICB0aGlzLmJ1dHRvbkNsaWNrQ3NzTWFuYWdlcigpO1xyXG4gIH1cclxuXHJcbiAgLy8gU3luY2hybyBJbnZlcnNlIG9mIGJpcnRoRGF0ZTogc2VsZWN0IGRhdGUgVE8gc2xpZGVyXHJcbiAgc3luY0JpcnRoRGF0ZUludihjb250YWluZXIpIHtcclxuICAgIGNvbnN0IGRhdGVzID0gW107XHJcbiAgICBjb25zdCBzZWxlY3RzID0gY29udGFpbmVyLmZpbmQoJ3NlbGVjdCcpO1xyXG5cclxuICAgIC8vIEdldCBhbGwgdmFsdWUgaW4gdGhlIHNlbGVjdHMgZWxlbWVudDogREQvTU0vWVlZWVxyXG4gICAgc2VsZWN0cy5lYWNoKGZ1bmN0aW9uKGluZGV4LCBzZWxlY3QpIHtcclxuICAgICAgZGF0ZXMucHVzaCgkKHNlbGVjdCkudmFsKCkpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQ2FsY3VsIHRoZSB2YWx1ZSB0byBzZXQgaW4gdGhlIHNsaWRlclxyXG4gICAgLy8gR2V0IHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gY3VycmVudFRpbWUgQU5EIHRoZSBzZWxlY3RlZCBiaXJ0aERhdGUgZXhwcmVzc2VkIGluIE1PTlRIXHJcbiAgICAvLyBUaGUgYWxnbyBpcyB0aGUgaW52ZXJzZSBvZiBtYW5hZ2VUb29sdGlwIG1ldGhvZCA6KVxyXG4gICAgY29uc3QgY3VycmVuZERhdGUgPSBtb21lbnQoZGF0ZXMucmV2ZXJzZSgpKTtcclxuICAgIGNvbnN0IG5vdyA9IG1vbWVudCgpO1xyXG4gICAgY29uc3QgbW9udGhzID0gbm93LmRpZmYoY3VycmVuZERhdGUsICdtb250aHMnKTtcclxuICAgIGxldCBhZ2VJbmRleCA9IG1vbnRocyA+IDYgPyBtb250aHMgOiAwO1xyXG5cclxuICAgIGlmIChtb250aHMgPj0gMTIpIHtcclxuICAgICAgLy8gQXJyb25kaXNzZW1lbnQgZHUgcsOpc3VsdGF0OlxyXG4gICAgICAvLyBlZzogMmFucyBldCA2bW9pcyB+PSAzYW5zIEFORCAyYW5zIGV0IDVtb2lzIH49IDFhbnNcclxuICAgICAgYWdlSW5kZXggPSBNYXRoLnJvdW5kKG1vbnRocyAvIDEyKSArIDU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgLy8gTW9udGggYWdlWy02bSAxMW1dIDw9PiBpbmRleFswIDVdXHJcbiAgICAgIGFnZUluZGV4ID0gbW9udGhzIC0gNjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYWdlSW5kZXgpIHtcclxuICAgICAgY29uc3QgaGFuZGxlID0gY29udGFpbmVyLmZpbmQoJy5zbGlkZXItaGFuZGxlJyk7XHJcbiAgICAgIGhhbmRsZS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coYWdlSW5kZXgpO1xyXG5cclxuICAgIC8vIFVwZGF0ZSB0aGUgc2xpZGVyIHZhbHVlIGZyb20gdGhlIHZhbGlkIGJpcnRoRGF0ZSBzZWxlY3RlZFxyXG4gICAgY29uc3Qgc2xpZGVyID0gY29udGFpbmVyLmZpbmQoJy5zbGlkZXInKTtcclxuICAgIGNvbnN0IGlucHV0ID0gc2xpZGVyLmZpbmQoJ2lucHV0Jyk7XHJcblxyXG4gICAgJChpbnB1dCkudmFsKE51bWJlcihhZ2VJbmRleCkpO1xyXG4gICAgJChpbnB1dCkudHJpZ2dlcignY2hhbmdlJywge1xyXG4gICAgICBpc1RyaWdnZXJlZDogZmFsc2VcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gQ2hlY2sgaWYgdGhlIGN1cnJlbnQgc2xpZGVyIGlzIGZvciBBR0Ugc2VsZWN0aW9uXHJcbiAgaXNBZ2VTbGlkZXIoZWxtKSB7XHJcbiAgICBjb25zdCBjb250YWluZXIgPSAkKGVsbSkucGFyZW50cygnLnNlbGVjdC1kYXRlJyk7XHJcbiAgICByZXR1cm4gY29udGFpbmVyLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgTWFuYWdlIHRoZSB0b29sdGlwIG9mIHRoZSBsYWRkZXIgYWdlIHNsaWRlcjpcclxuICBOQjogVGhlIHNsaWRlciBhZ2UgdmFyaWVzIGZyb20gLTYgbW9udGhzIHRvIDE0IHllYXJzLlxyXG4gIFNvLCB3ZSB1c2UgdGhlc2UgdmFsdWUgdG8gZGVzY3JpYmUgdGhpcyB2YXJpYXRpb25zOlxyXG4gIDAgdG8gMTlcclxuICA2ID09IGluZGV4IDAgQU5EICsxNHllYXIgPT0gaW5kZXggMTlcclxuICAgMCAgMSAgMiAgMyAgNCAgIDUgICA2ICAgNyAgIDggICA5ICAgMTAgIDExICAxMiAgMTMgIDE0ICAxNSAgIDE2ICAgMTcgICAxOCAgICAxOVxyXG4gIC02bSA3bSA4bSA5bSAxMG0gMTFtIDF5ciAyeXIgM3lyIDR5ciA1eXIgNnlyIDd5ciA4eXIgOXlyIDEweXIgMTF5ciAxMnlyIDEzeXIgKzE0eXJcclxuXHJcbiAgQWxnbzpcclxuICBJZiBpbmRleCA9PSAwIE9SIGluZGV4ID09IDE5XHJcbiAgICBXZSBkb24ndCBzaG93IHRoZSB0b29sdGlwIVxyXG4gIElmIGluZGV4IDwgNjogKGllLCBmb3IgbW9udGggdmFsdWU6IC02bSB0byAxMW0pXHJcbiAgICBhZ2UgKHRvb2x0aXApID0gaW5kZXggKyA2IChpbiBtb250aHMpXHJcbiAgICBlZzogaW5kZXggPSAzIC0tPiBhZ2UgPSA5bVxyXG4gICAgQ2hlY2sgdGhlIHRhYmxlIGFib3ZlIHRvIHZlcmlmeTogaW5kZXggMyA9PSA5bSA6KVxyXG4gIElmIGluZGV4ID49IDY6IChpZSwgZm9yIHllYXIgdmFsdWU6IDF5ZXIgdG8gKzE0eXIpXHJcbiAgICBhZ2UgPSBpbmRleCAtIDUgKGluIHllYXJzKVxyXG4gICAgZWc6IGluZGV4ID0gMTAgLS0+IGFnZSA9IDV5clxyXG4gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuICBtYW5hZ2VUb29sdGlwKGVsbSkge1xyXG4gICAgY29uc3QgaW5wdXQgPSAkKGVsbSkuZmluZCgnaW5wdXQnKTtcclxuICAgIGNvbnN0IHRvb2x0aXAgPSAkKGlucHV0KS5uZXh0KCk7XHJcbiAgICBjb25zdCB2YWx1ZSA9IHBhcnNlSW50KCQoaW5wdXQpLnZhbCgpLCAxMCk7XHJcblxyXG4gICAgLy8gRmluZCB0aGUgdG9vbHRpcCBvbmx5IGlmIGl0IGV4aXN0XHJcbiAgICBpZiAoJCh0b29sdGlwKS5sZW5ndGgpIHtcclxuICAgICAgaWYgKHZhbHVlID09PSAwIHx8IGlzTmFOKHZhbHVlKSkge1xyXG4gICAgICAgICQodG9vbHRpcCkuZW1wdHkoKTtcclxuICAgICAgICBpbnN0YW5jZS5zeW5jQmlydGhEYXRlKGVsbSwgJzZtJyk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAodmFsdWUgPT09IDE5KSB7XHJcbiAgICAgICAgJCh0b29sdGlwKS5lbXB0eSgpO1xyXG4gICAgICAgIGluc3RhbmNlLnN5bmNCaXJ0aERhdGUoZWxtLCAnMTQnKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmICh2YWx1ZSA8IDYpIHtcclxuICAgICAgICAkKHRvb2x0aXApLnRleHQoKHZhbHVlICsgNikgKyAnbScpO1xyXG4gICAgICAgIGluc3RhbmNlLnN5bmNCaXJ0aERhdGUoZWxtLCAkKHRvb2x0aXApLnRleHQoKSk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgJCh0b29sdGlwKS50ZXh0KHZhbHVlIC0gNSk7XHJcbiAgICAgICAgaW5zdGFuY2Uuc3luY0JpcnRoRGF0ZShlbG0sICQodG9vbHRpcCkudGV4dCgpKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gU3luY2hyb25pemUgc2xpZGVyIHdpdGggc2VsZWN0IGRhdGVcclxuICBzeW5jQmlydGhEYXRlKGVsZW1lbnQsIHZhbHVlKSB7XHJcbiAgICAvLyBUbyBhdm9pZCBsYWRkZXIgYWdlIHNsaWRlciBmaXJlZCBvbiBwYWdlIGxvYWRcclxuICAgIGlmIChpc0ZpcnN0TG9hZCA+IDApIHtcclxuICAgICAgaXNGaXJzdExvYWQgPSBpc0ZpcnN0TG9hZCAtIDE7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTeW5jaHJvIGlzIG9ubHkgZmlyZWQgZm9yIGFjdGl2ZSBzbGlkZXIgYW5kIGV4cGxpY2l0IHRyaWdnZXJlZFxyXG4gICAgY29uc3QgaGFuZGxlID0gJChlbGVtZW50KS5maW5kKCcuc2xpZGVyLWhhbmRsZScpO1xyXG4gICAgY29uc3QgaXNTbGlkZXJBY3RpdmUgPSBoYW5kbGUuaGFzQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cclxuICAgIGlmICghaXNUcmlnZ2VyZWQgfHwgIWlzU2xpZGVyQWN0aXZlKSB7XHJcbiAgICAgIGlzVHJpZ2dlcmVkID0gdHJ1ZTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENhbGN1bCBkdSBiaXJ0aERhdGUgcGFyIHJhcHBvcnQgYXUgZGF0ZSBkdSBqb3VyIGV0IGNlbGxlIHPDqWzDqWN0aW9ubmVyIGRlcHVpcyBsZSBzbGlkZXJcclxuICAgIGxldCBkYXRlO1xyXG4gICAgY29uc3QgcmVnZXggPSAvKFxcZCspKFthLXpdKS9nO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHRoZSB2YWx1ZSBwcm92aWRlZCBieSBzbGlkZXIgaXMgeWVhciBvciBtb250aFxyXG4gICAgaWYgKHZhbHVlLm1hdGNoKHJlZ2V4KSA9PT0gbnVsbCkge1xyXG4gICAgICAvLyBWYWx1ZSBpcyB5ZWFyXHJcbiAgICAgIGRhdGUgPSBtb21lbnQoKS5zdWJ0cmFjdCh2YWx1ZSwgJ3llYXInKS5jYWxlbmRhcigpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIC8vIFZhbHVlIGlzIG1vbnRoXHJcbiAgICAgIGNvbnN0IHZhbCA9IHZhbHVlLnJlcGxhY2UoL1thLXpdL2csICcnKTtcclxuICAgICAgZGF0ZSA9IG1vbWVudCgpLnN1YnRyYWN0KHZhbCwgJ21vbnRoJykuY2FsZW5kYXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBhcnIgPSBkYXRlLnNwbGl0KCcvJyk7XHJcbiAgICBjb25zdCBtb250aEluZGV4ID0gcGFyc2VJbnQoYXJyWzFdLCAxMCk7XHJcblxyXG4gICAgLy8gU3Vic3RyYWN0IG9uZSB1bml0eSBvZiB0aGUgbW9udGggaW5kZXggYmVjYXVzZSB0aGUgc3RhcnQgaW5kZXggb2YgdGhlIHBsdWdpbiBtb21lbnQganMgaXMgMFxyXG4gICAgLy8gU28sIEphbnVhcnkgaGFzIGluZGV4IDAgYW5kIERlY2VtYmVyIGhhcyAxMVxyXG4gICAgaWYgKG1vbnRoSW5kZXgpIHtcclxuICAgICAgYXJyWzFdID0gbW9udGhJbmRleCAtIDE7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRmluZCBhbGwgc2VsZWN0IGZvciBkYXRlIGluIHRoZSBjdXJyZW50IGZvcm0gKGNhdCBvciBkb2cpXHJcbiAgICBjb25zdCBjb250YWluZXIgPSAkKGVsZW1lbnQpLnBhcmVudHMoJy5zZWxlY3QtZGF0ZScpO1xyXG4gICAgY29uc3Qgc2VsZWN0RGF0ZSA9IGNvbnRhaW5lci5maW5kKCcuc2VsZWN0LWRhdGVfX3dyYXBwZXInKTtcclxuICAgIGNvbnN0IHNlbGVjdHMgPSBzZWxlY3REYXRlLmZpbmQoJ3NlbGVjdCcpO1xyXG5cclxuICAgIGlmIChhcnIpIHtcclxuICAgICAgLy8gSW5pdCBvbmx5IHRoZSBtb250aCBhbmQgdGhlIHllYXIgZnJvbSBzbGlkZXIgYWdlIHZhbHVlXHJcbiAgICAgIHNlbGVjdHMuZWFjaChmdW5jdGlvbihpbmRleCwgc2VsZWN0KSB7XHJcbiAgICAgICAgaWYgKGluZGV4ID4gMCkge1xyXG4gICAgICAgICAgY29uc3QgdiA9IHBhcnNlSW50KGFycltpbmRleF0sIDEwKTtcclxuICAgICAgICAgICQoc2VsZWN0KS52YWwodik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIFJlbW92ZSBkYXRlIGVycm9yIG1zZ1xyXG4gICAgICBjb25zdCBlcnJvck1zZyA9IHNlbGVjdERhdGUubmV4dCgnLnNlbGVjdC1kYXRlX19lcnJvci1tZXNzYWdlJyk7XHJcbiAgICAgIGlmIChlcnJvck1zZykge1xyXG4gICAgICAgIGVycm9yTXNnLmhpZGUoKTtcclxuICAgICAgfVxyXG4gICAgICBzZWxlY3REYXRlLnJlbW92ZUNsYXNzKCdzZWxlY3QtZGF0ZS1lcnJvcicpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gc2VuZCBHVE0gd2hlbiBhbGwgc2xpZGVyIGlzIGZpcmVkXHJcbiAgc2VuZEdUTShlbG0pIHtcclxuICAgIGNvbnN0IGlucHV0ID0gJChlbG0pLmZpbmQoJ2lucHV0Jyk7XHJcbiAgICBjb25zdCBldmVudExhYmVsID0gJChpbnB1dCkuYXR0cignaWQnKTtcclxuXHJcbiAgICBkYXRhTGF5ZXIucHVzaCh7XHJcbiAgICAgIGV2ZW50OiAnZXZlbnRfdXNlcl9uYXZpZ2F0aW9uJyxcclxuICAgICAgZXZlbnRfY2F0ZWdvcnk6ICdldmVudF91c2VyX25hdmlnYXRpb24nLFxyXG4gICAgICBldmVudF9hY3Rpb246ICdldmVudF9jbGlja19mb3JtX2ZpZWxkJyxcclxuICAgICAgZXZlbnRfbGFiZWw6IGV2ZW50TGFiZWxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaXNNb2JpbGVEZXZpY2UoKSB7XHJcbiAgICBpZiAoL01vYmkvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBidXR0b25DbGlja0Nzc01hbmFnZXIoKSB7XHJcbiAgICBpZiAoaW5zdGFuY2UuaXNNb2JpbGVEZXZpY2UoKSkge1xyXG4gICAgICAkKCcuc2xpZGVyLWhhbmRsZScpLm9uKCd0b3VjaGVuZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IEluc3RhbmNlID0gbmV3IFNsaWRlcigpO1xyXG5cclxuT2JqZWN0LmZyZWV6ZShJbnN0YW5jZSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBJbnN0YW5jZTtcclxuIiwibGV0IGluc3RhbmNlID0gbnVsbDtcclxuY29uc3Qgc3BlZWQgPSAyNTA7XHJcbi8qIHBldFR5cGUgZmlsdGVyIG5vdCB5ZXQgaW1wbGVtZW50ZWQqL1xyXG5jb25zdCBwZXRUeXBlID0gJ2NhdCc7XHJcblxyXG5jbGFzcyBUaHVtYm5haWxCb3gge1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGluc3RhbmNlO1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuXHJcbiAgICAkKCcuanMtYnRuLWxlYXJubW9yZS1iZW5lZml0cycpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICBjb25zdCBjb250YWluZXIgPSAkKHRoaXMpLnBhcmVudHMoJy50aHVtYm5haWwtYm94X193cmFwcGVyJyk7XHJcbiAgICAgIGNvbnN0IGNvbGxhcHNlZCA9IGNvbnRhaW5lci5maW5kKCcudGh1bWJuYWlsLWJveF9fY29sbGFwc2VkLXdyYXBwZXInKTtcclxuICAgICAgY29uc3Qgb2Zmc2V0ID0gNTA7XHJcblxyXG4gICAgICBjb2xsYXBzZWQuc2xpZGVUb2dnbGUoc3BlZWQpO1xyXG4gICAgICAkKHRoaXMpLnNsaWRlRG93bihzcGVlZCkuaGlkZShvZmZzZXQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLmpzLWNsb3NlLWJlbmVmaXRzJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9ICQodGhpcykucGFyZW50cygnLnRodW1ibmFpbC1ib3hfX3dyYXBwZXInKTtcclxuICAgICAgY29uc3QgY29sbGFwc2VkID0gY29udGFpbmVyLmZpbmQoJy50aHVtYm5haWwtYm94X19jb2xsYXBzZWQtd3JhcHBlcicpO1xyXG4gICAgICBjb25zdCBidG4gPSBjb250YWluZXIuZmluZCgnLmpzLWJ0bi1sZWFybm1vcmUtYmVuZWZpdHMnKTtcclxuXHJcbiAgICAgIGNvbGxhcHNlZC5zbGlkZVRvZ2dsZShzcGVlZCwgKCkgPT4ge1xyXG4gICAgICAgIGJ0bi5mYWRlSW4oc3BlZWQpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZmltbUdUTSgpIHtcclxuICAgIGlmIChwZXRUeXBlID09PSAnY2F0Jykge1xyXG4gICAgICBkYXRhTGF5ZXIucHVzaCh7XHJcbiAgICAgICAgZXZlbnQ6ICdldmVudF9wcm9kdWN0X2FjdGlvbnMnLFxyXG4gICAgICAgIGV2ZW50X2NhdGVnb3J5OiAnZXZlbnRfY2xpY2tfbGVhcm5fbW9yZV9iZW5lZml0cycsXHJcbiAgICAgICAgZXZlbnRfYWN0aW9uOiAnZXZlbnRfY29uc3VsdGF0aW9uX2RvZ19wcm9kdWN0JyxcclxuXHJcbiAgICAgICAgZXZlbnRfbGFiZWw6ICckcHJvZHVjdF9uYW1lIC0gaGVhbHRoeSBncm93dGgnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocGV0VHlwZSA9PT0gJ2RvZycpIHtcclxuICAgICAgZGF0YUxheWVyLnB1c2goe1xyXG4gICAgICAgIGV2ZW50OiAnZXZlbnRfcHJvZHVjdF9hY3Rpb25zJyxcclxuICAgICAgICBldmVudF9jYXRlZ29yeTogJ2V2ZW50X2NsaWNrX2xlYXJuX21vcmVfYmVuZWZpdHMnLFxyXG4gICAgICAgIGV2ZW50X2FjdGlvbjogJ2V2ZW50X2NvbnN1bHRhdGlvbl9kb2dfcHJvZHVjdCcsXHJcbiAgICAgICAgZXZlbnRfbGFiZWw6ICckcHJvZHVjdF9uYW1lIC0gaGVhbHRoeSBncm93dGgnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgSW5zdGFuY2UgPSBuZXcgVGh1bWJuYWlsQm94KCk7XHJcblxyXG5PYmplY3QuZnJlZXplKEluc3RhbmNlKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEluc3RhbmNlO1xyXG4iLCJsZXQgaW5zdGFuY2UgPSBudWxsO1xyXG5jb25zdCBNQVhfU0laRSA9IDUyNDI4ODA7XHJcblxyXG5jbGFzcyBVcGxvYWRJbWcge1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGluc3RhbmNlO1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgICQoJy5qcy1jYW1lcmEtcGV0Jykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBjb25zdCBjb250YWluZXIgPSAkKHRoaXMpLnBhcmVudHMoJy5wZXQtdHlwZV9fdGh1bWJuYWlsJyk7XHJcbiAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcygncGV0LXR5cGVfX3BsYWNlaG9sZGVyLS1wcmV2aWV3Jyk7XHJcbiAgICAgIGlmICh0aGlzLmZpbGVzICYmIHRoaXMuZmlsZXNbMF0pIHtcclxuICAgICAgICBpZiAoIXdpbmRvdy5GaWxlUmVhZGVyKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBmaWxlID0gdGhpcy5maWxlc1swXTtcclxuICAgICAgICBsZXQgaW1nID0gY29udGFpbmVyLmZpbmQoJ2ltZycpO1xyXG4gICAgICAgIGNvbnN0IGVycm9yTXNnID0gY29udGFpbmVyLm5leHQoJy5wZXQtdHlwZV9fbWF4LXNpemUtbXNnJyk7XHJcblxyXG4gICAgICAgICQoZXJyb3JNc2cpLmhpZGUoKTtcclxuICAgICAgICBpZiAoZmlsZS5zaXplID4gTUFYX1NJWkUpIHtcclxuICAgICAgICAgICQoZXJyb3JNc2cpLnNob3coKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghaW1nLmxlbmd0aCkge1xyXG4gICAgICAgICAgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICAgICAgICBpbWcuc2V0QXR0cmlidXRlKCdhbHQnLCAnUHJvZmlsZSBpbWFnZScpO1xyXG4gICAgICAgICAgJChpbWcpLmluc2VydEJlZm9yZSgkKHRoaXMpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcblxyXG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAkKGltZykuYXR0cignc3JjJywgZS50YXJnZXQucmVzdWx0KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcygncGV0LXR5cGVfX3BsYWNlaG9sZGVyLS1wcmV2aWV3Jyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgICQoJy5qcy1jYW1lcmEtcGV0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgIGNvbnN0IGlkID0gJCh0aGlzKS5hdHRyKCdpZCcpO1xyXG5cclxuICAgICAgZGF0YUxheWVyLnB1c2goe1xyXG4gICAgICAgIGV2ZW50OiAnZXZlbnRfdXNlcl9uYXZpZ2F0aW9uJyxcclxuICAgICAgICBldmVudF9jYXRlZ29yeTogJ2V2ZW50X3VzZXJfbmF2aWdhdGlvbicsXHJcbiAgICAgICAgZXZlbnRfYWN0aW9uOiAnZXZlbnRfY2xpY2tfZm9ybV9maWVsZCcsXHJcbiAgICAgICAgZXZlbnRfbGFiZWw6IGlkXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBJbnN0YW5jZSA9IG5ldyBVcGxvYWRJbWcoKTtcclxuXHJcbk9iamVjdC5mcmVlemUoSW5zdGFuY2UpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgSW5zdGFuY2U7XHJcbiIsIihmdW5jdGlvbigkKSB7XHJcblxyXG4gICQuZm4uc2Nyb2xsVG8gPSBmdW5jdGlvbihzcGVlZCwgZWFzaW5nKSB7XHJcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICBjb25zdCB0YXJnZXRPZmZzZXQgPSAkKHRoaXMpLm9mZnNldCgpLnRvcDtcclxuICAgICAgJCgnaHRtbCxib2R5JykuYW5pbWF0ZSh7XHJcbiAgICAgICAgc2Nyb2xsVG9wOiB0YXJnZXRPZmZzZXRcclxuICAgICAgfSwgc3BlZWQsIGVhc2luZyk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxufShqUXVlcnkpKTtcclxuXHJcbmZ1bmN0aW9uIGN1c3RvbWl6ZUZvb3RlcigpIHtcclxuICAkKFwiI21hcnMtZm9vdGVyLXBhbmVsXCIpLmFkZENsYXNzKCdjdXN0b20tbWFycy1mb290ZXInKTtcclxuICB2YXIgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpe1xyXG4gICAgaWYgKCQoJyNtYXJzLWZvb3Rlci1wYW5lbCcpLmxlbmd0aCl7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4gICAgICAkKCcuZm9vdGVyLS1yb3cnKS5zaG93KCk7XHJcbiAgICB9XHJcbiAgfSwgMTAwKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNGaWxlRXh0ZW5zaW9uVmFsaWQoZmlsZU5hbWUsIGV4dGVuc2lvbnNMaXN0cykge1xyXG4gIGlmKCQuaW5BcnJheShmaWxlTmFtZS5zcGxpdCgnLicpLnBvcCgpLnRvTG93ZXJDYXNlKCksIGV4dGVuc2lvbnNMaXN0cykgPT0gLTEpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuZXhwb3J0IHsgY3VzdG9taXplRm9vdGVyLCBpc0ZpbGVFeHRlbnNpb25WYWxpZCB9O1xyXG4iLCJsZXQgaW5zdGFuY2UgPSBudWxsO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvdXBvbiB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgaWYgKCFpbnN0YW5jZSkge1xyXG4gICAgICBpbnN0YW5jZSA9IHRoaXM7XHJcbiAgICB9XHJcbiAgICBpbnN0YW5jZS5pbml0KCk7XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgJCgnLmpzLXByaW50LWNvdXBvbi1ub3cnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgaW5zdGFuY2Uuc2VuZEd0bSh0aGlzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gVE8tRE86IEZJWCAxMzA5OVxyXG4gIHNlbmRHdG0oZWxlbSkge1xyXG4gICAgbGV0IGNvbnRhaW5lciA9ICQoZWxlbSkucGFyZW50cygnLm9mZmVyc19fY29udGFpbmVyLS1zaW5nbGUnKTtcclxuXHJcbiAgICBpZiAoIWNvbnRhaW5lci5sZW5ndGgpIHtcclxuICAgICAgY29udGFpbmVyID0gJCgnLm9mZmVyc19fY29udGFpbmVyLS1zaW5nbGUnKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBpZCA9IGNvbnRhaW5lci5hdHRyKCdpZCcpO1xyXG4gICAgbGV0IF9jb3Vwb25OYW1lID0gJyc7XHJcblxyXG4gICAgY29uc3QgcmVnZXggPSAvKGRvZykvZztcclxuXHJcbiAgICBpZiAoaWQubWF0Y2gocmVnZXgpID09PSBudWxsKSB7XHJcbiAgICAgIC8vIENBVFxyXG4gICAgICBfY291cG9uTmFtZSA9ICdjYXRfY291cG9uXyc7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgLy8gRE9HXHJcbiAgICAgIF9jb3Vwb25OYW1lID0gJ2RvZ19jb3Vwb25fJztcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjb3Vwb25JRCA9IGNvbnRhaW5lci5hdHRyKCdkYXRhLWNvdXBvbi1pZCcpO1xyXG5cclxuICAgIGlmIChjb3Vwb25JRCkge1xyXG4gICAgICBfY291cG9uTmFtZSA9IF9jb3Vwb25OYW1lICsgY291cG9uSUQ7XHJcblxyXG4gICAgICBsZXQgZXZlbnRBY3Rpb24gPSAnJztcclxuICAgICAgY29uc3QgaXNQcmludE5vdyA9ICQoZWxlbSkuaGFzQ2xhc3MoJ2pzLXByaW50LWNvdXBvbi1ub3cnKTtcclxuXHJcbiAgICAgIGlmIChpc1ByaW50Tm93KSB7XHJcbiAgICAgICAgZXZlbnRBY3Rpb24gPSAnZXZlbnRfY291cG9uX3ByaW50JztcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBldmVudEFjdGlvbiA9ICdldmVudF9jb3Vwb25fcmVxdWVzdF9mcm9tX21vYmlsZSc7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGRhdGFMYXllci5wdXNoKHtcclxuICAgICAgICBldmVudDogJ2V2ZW50X2NvdXBvbl9hY3Rpb25zJyxcclxuICAgICAgICBldmVudF9jYXRlZ29yeTogJ2V2ZW50X2NvdXBvbl9hY3Rpb25zJyxcclxuICAgICAgICBldmVudF9hY3Rpb246IGV2ZW50QWN0aW9uLFxyXG4gICAgICAgIGV2ZW50X2xhYmVsOiBfY291cG9uTmFtZVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IEluc3RhbmNlID0gbmV3IENvdXBvbigpO1xyXG5cclxuT2JqZWN0LmZyZWV6ZShJbnN0YW5jZSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBJbnN0YW5jZTtcclxuIiwialF1ZXJ5KGZ1bmN0aW9uKCQpIHtcclxuICAkLmZuLm9uRm9jdXNHVE0gPSBmdW5jdGlvbigpIHtcclxuICAgIGNvbnN0IGZvcm1zID0gdGhpcztcclxuICAgIC8qIGNvbnN0IGRhdGFzID0ge307XHJcbiAgICBkYXRhcy5ocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWY7Ki9cclxuXHJcbiAgICBmb3Jtcy5maW5kKCdpbnB1dFt0eXBlPXRleHRdLCBpbnB1dFt0eXBlPWVtYWlsXSwgaW5wdXRbdHlwZT1wYXNzd29yZF0nKS5vbignZm9jdXMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgZGF0YUxheWVyLnB1c2goe1xyXG4gICAgICAgIGV2ZW50OiAnZXZlbnRfdXNlcl9uYXZpZ2F0aW9uJyxcclxuICAgICAgICBldmVudF9jYXRlZ29yeTogJ2V2ZW50X3VzZXJfbmF2aWdhdGlvbicsXHJcbiAgICAgICAgZXZlbnRfYWN0aW9uOiAnZXZlbnRfY2xpY2tfZm9ybV9maWVsZCcsXHJcbiAgICAgICAgZXZlbnRfbGFiZWw6ICQodGhpcykuYXR0cignaWQnKVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZvcm1zLmZpbmQoJ3NlbGVjdCcpLm9uKCdmb2N1cycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBjb25zdCBpZCA9ICQodGhpcykuYXR0cignaWQnKTtcclxuXHJcbiAgICAgIGlmIChpZC5tYXRjaCgncmVnaXN0cmF0aW9uLXBldC10YWInKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgYXJyID0gaWQuc3BsaXQoJy0nKTtcclxuICAgICAgY29uc3QgbmV3SWQgPSBbXTtcclxuICAgICAgZm9yIChjb25zdCBpIGluIGFycikge1xyXG4gICAgICAgIGlmIChhcnJbaV0gIT09ICdkYXknICYmIGFycltpXSAhPT0gJ21vbnRoJyAmJiBhcnJbaV0gIT09ICd5ZWFyJykge1xyXG4gICAgICAgICAgbmV3SWQucHVzaChhcnJbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgZGF0YUxheWVyLnB1c2goe1xyXG4gICAgICAgIGV2ZW50OiAnZXZlbnRfdXNlcl9uYXZpZ2F0aW9uJyxcclxuICAgICAgICBldmVudF9jYXRlZ29yeTogJ2V2ZW50X3VzZXJfbmF2aWdhdGlvbicsXHJcbiAgICAgICAgZXZlbnRfYWN0aW9uOiAnZXZlbnRfY2xpY2tfZm9ybV9maWVsZCcsXHJcbiAgICAgICAgZXZlbnRfbGFiZWw6IG5ld0lkLmpvaW4oJy0nKVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZvcm1zLmZpbmQoJ2lucHV0W3R5cGU9cmFkaW9dLCBpbnB1dFt0eXBlPWNoZWNrYm94XScpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgIGNvbnN0IGlkID0gJCh0aGlzKS5hdHRyKCdpZCcpO1xyXG5cclxuICAgICAgaWYgKGlkLm1hdGNoKCdyZWdpc3RyYXRpb24tcGV0LXRhYicpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBhcnIgPSBpZC5zcGxpdCgnLScpO1xyXG4gICAgICBjb25zdCBuZXdJZCA9IFtdO1xyXG4gICAgICBmb3IgKGNvbnN0IGkgaW4gYXJyKSB7XHJcbiAgICAgICAgaWYgKGFycltpXSAhPT0gJ3llcycgJiYgYXJyW2ldICE9PSAnbm8nICYmXHJcbiAgICAgICAgYXJyW2ldICE9PSAnbWFsZScgJiYgYXJyW2ldICE9PSAnZmVtYWxlJykge1xyXG4gICAgICAgICAgbmV3SWQucHVzaChhcnJbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgZGF0YUxheWVyLnB1c2goe1xyXG4gICAgICAgIGV2ZW50OiAnZXZlbnRfdXNlcl9uYXZpZ2F0aW9uJyxcclxuICAgICAgICBldmVudF9jYXRlZ29yeTogJ2V2ZW50X3VzZXJfbmF2aWdhdGlvbicsXHJcbiAgICAgICAgZXZlbnRfYWN0aW9uOiAnZXZlbnRfY2xpY2tfZm9ybV9maWVsZCcsXHJcbiAgICAgICAgZXZlbnRfbGFiZWw6IG5ld0lkLmpvaW4oJy0nKVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gICQoJy5wZXQtcmVnaXN0cmF0aW9uLWZvcm0sIC5wcm9maWxlLXJlZ2lzdHJhdGlvbi1mb3JtLCAucmVnaXN0cmF0aW9uLXBldF9fdGVybXMtZm9ybScpLm9uRm9jdXNHVE0oKTtcclxufSk7XHJcbiIsImxldCBpbnN0YW5jZSA9IG51bGw7XHJcblxyXG5leHBvcnQgY2xhc3MgTG9naW5DcmVhdGVBY2NvdW50IHtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBpZiAoIWluc3RhbmNlKSB7XHJcbiAgICAgIGluc3RhbmNlID0gdGhpcztcclxuICAgIH1cclxuICAgIGluc3RhbmNlLmluaXQoKTtcclxuICAgIHJldHVybiBpbnN0YW5jZTtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICAkKCcuanMtY3JlYXRlLWFjY291bnQnKS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBpbnN0YW5jZS5sb2dpbkdUTSh0aGlzKTtcclxuICAgICAgbG9jYXRpb24uaHJlZiA9ICQodGhpcykuYXR0cignaHJlZicpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBsb2dpbkdUTShlbG0pIHtcclxuICAgIGNvbnN0IGNvbnRhaW5lciA9ICQoZWxtKS5wYXJlbnRzKCcubG9naW4tcG9waW4nKTtcclxuICAgIGxldCBldmVudExhYmVsID0gJ2xvZ2luXyc7XHJcblxyXG4gICAgaWYgKGNvbnRhaW5lci5sZW5ndGgpIHtcclxuICAgICAgLy8gUG9waW5cclxuICAgICAgZXZlbnRMYWJlbCA9IGV2ZW50TGFiZWwgKyAncG9wLWluJztcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAvLyBMb2dpbiBwYWdlXHJcbiAgICAgIGV2ZW50TGFiZWwgPSBldmVudExhYmVsICsgJ3BhZ2UnO1xyXG4gICAgfVxyXG5cclxuICAgIGRhdGFMYXllci5wdXNoKHtcclxuICAgICAgZXZlbnQ6ICdldmVudF9jcm1fYWN0aW9ucycsXHJcbiAgICAgIGV2ZW50X2NhdGVnb3J5OiAnZXZlbnRfY3JtX2FjdGlvbnMnLFxyXG4gICAgICBldmVudF9hY3Rpb246ICdldmVudF9sb2dpbl9nb190b19yZWdpc3RyYXRpb24nLFxyXG4gICAgICBldmVudF9sYWJlbDogZXZlbnRMYWJlbFxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBJbnN0YW5jZSA9IG5ldyBMb2dpbkNyZWF0ZUFjY291bnQoKTtcclxuXHJcbk9iamVjdC5mcmVlemUoSW5zdGFuY2UpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgSW5zdGFuY2U7XHJcbiIsImxldCBpbnN0YW5jZSA9IG51bGw7XHJcblxyXG5leHBvcnQgY2xhc3MgU2FtcGxlIHtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBpZiAoIWluc3RhbmNlKSB7XHJcbiAgICAgIGluc3RhbmNlID0gdGhpcztcclxuICAgIH1cclxuICAgIGluc3RhbmNlLmluaXQoKTtcclxuICAgIHJldHVybiBpbnN0YW5jZTtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICAkKCcuanMtcmVnaXN0ZXItc2FtcGxlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgJC5hamF4KHtcclxuICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgIHVybDogJy91bWJyYWNvL1N1cmZhY2UvQWNjb3VudC9Jc1VzZXJMb2dnZWQnLFxyXG4gICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLnN0YXR1cykge1xyXG4gICAgICAgICAgICAgIGluc3RhbmNlLnNlbmRHdG1TYW1wbGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgaW5zdGFuY2Uuc2VuZEd0bVNhbXBsZShmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9ICQodGhpcykuYXR0cignaHJlZicpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLmpzLWdldC1zYW1wbGUnKS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBpbnN0YW5jZS5zZW5kR3RtU2FtcGxlKHRydWUpO1xyXG4gICAgICBsb2NhdGlvbi5ocmVmID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHNlbmRHdG1TYW1wbGUoaXNDb21wbGV0ZSkge1xyXG4gICAgbGV0IGV2ZW50QWN0aW9uO1xyXG4gICAgbGV0IGV2ZW50TGFiZWw7XHJcblxyXG4gICAgaWYgKGlzQ29tcGxldGUpIHtcclxuICAgICAgZXZlbnRBY3Rpb24gPSAnZXZlbnRfc2FtcGxlX3JlcXVlc3QnO1xyXG4gICAgICBldmVudExhYmVsID0gJ3NhbXBsZV9yZXF1ZXN0X2xvZ2dlZCc7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgZXZlbnRBY3Rpb24gPSAnZXZlbnRfc2FtcGxlX3JlcXVlc3QnO1xyXG4gICAgICBldmVudExhYmVsID0gJ3NhbXBsZV9yZXF1ZXN0X2Fub255bW91cyc7XHJcbiAgICB9XHJcblxyXG4gICAgZGF0YUxheWVyLnB1c2goe1xyXG4gICAgICBldmVudDogJ2V2ZW50X2NybV9hY3Rpb25zJyxcclxuICAgICAgZXZlbnRfY2F0ZWdvcnk6ICdldmVudF9zYW1wbGVfYWN0aW9ucycsXHJcbiAgICAgIGV2ZW50X2FjdGlvbjogZXZlbnRBY3Rpb24sXHJcbiAgICAgIGV2ZW50X2xhYmVsOiBldmVudExhYmVsXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IEluc3RhbmNlID0gbmV3IFNhbXBsZSgpO1xyXG5cclxuT2JqZWN0LmZyZWV6ZShJbnN0YW5jZSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBJbnN0YW5jZTtcclxuIiwiaW1wb3J0IGpxdWVyeSBmcm9tICdqcXVlcnknO1xyXG53aW5kb3cualF1ZXJ5ID0ganF1ZXJ5O1xyXG53aW5kb3cuJCA9IGpxdWVyeTtcclxuXHJcbiIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcclxuaW1wb3J0IGxvY2FsZUZSIGZyb20gJ21vbWVudC9sb2NhbGUvZnInO1xyXG5cclxubW9tZW50LmxvY2FsZSgnZnInLCBsb2NhbGVGUik7XHJcbndpbmRvdy5tb21lbnQgPSBtb21lbnQ7XHJcbiIsIi8qIVxuKiBQYXJzbGV5LmpzXG4qIFZlcnNpb24gMi42LjIgLSBidWlsdCBXZWQsIEphbiA0dGggMjAxNywgODo1OCBhbVxuKiBodHRwOi8vcGFyc2xleWpzLm9yZ1xuKiBHdWlsbGF1bWUgUG90aWVyIC0gPGd1aWxsYXVtZUB3aXNlbWJseS5jb20+XG4qIE1hcmMtQW5kcmUgTGFmb3J0dW5lIC0gPHBldHJvc2VsaW51bUBtYXJjLWFuZHJlLmNhPlxuKiBNSVQgTGljZW5zZWRcbiovXG5cbi8vIFRoZSBzb3VyY2UgY29kZSBiZWxvdyBpcyBnZW5lcmF0ZWQgYnkgYmFiZWwgYXNcbi8vIFBhcnNsZXkgaXMgd3JpdHRlbiBpbiBFQ01BU2NyaXB0IDZcbi8vXG52YXIgX3NsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgYXJyMltpXSA9IGFycltpXTsgcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnanF1ZXJ5JykpIDogdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsnanF1ZXJ5J10sIGZhY3RvcnkpIDogZ2xvYmFsLnBhcnNsZXkgPSBmYWN0b3J5KGdsb2JhbC5qUXVlcnkpO1xufSkodGhpcywgZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBnbG9iYWxJRCA9IDE7XG4gIHZhciBwYXN0V2FybmluZ3MgPSB7fTtcblxuICB2YXIgUGFyc2xleVV0aWxzX19QYXJzbGV5VXRpbHMgPSB7XG4gICAgLy8gUGFyc2xleSBET00tQVBJXG4gICAgLy8gcmV0dXJucyBvYmplY3QgZnJvbSBkb20gYXR0cmlidXRlcyBhbmQgdmFsdWVzXG4gICAgYXR0cjogZnVuY3Rpb24gYXR0cigkZWxlbWVudCwgbmFtZXNwYWNlLCBvYmopIHtcbiAgICAgIHZhciBpO1xuICAgICAgdmFyIGF0dHJpYnV0ZTtcbiAgICAgIHZhciBhdHRyaWJ1dGVzO1xuICAgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2UsICdpJyk7XG5cbiAgICAgIGlmICgndW5kZWZpbmVkJyA9PT0gdHlwZW9mIG9iaikgb2JqID0ge307ZWxzZSB7XG4gICAgICAgIC8vIENsZWFyIGFsbCBvd24gcHJvcGVydGllcy4gVGhpcyB3b24ndCBhZmZlY3QgcHJvdG90eXBlJ3MgdmFsdWVzXG4gICAgICAgIGZvciAoaSBpbiBvYmopIHtcbiAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGkpKSBkZWxldGUgb2JqW2ldO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICgndW5kZWZpbmVkJyA9PT0gdHlwZW9mICRlbGVtZW50IHx8ICd1bmRlZmluZWQnID09PSB0eXBlb2YgJGVsZW1lbnRbMF0pIHJldHVybiBvYmo7XG5cbiAgICAgIGF0dHJpYnV0ZXMgPSAkZWxlbWVudFswXS5hdHRyaWJ1dGVzO1xuICAgICAgZm9yIChpID0gYXR0cmlidXRlcy5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgYXR0cmlidXRlID0gYXR0cmlidXRlc1tpXTtcblxuICAgICAgICBpZiAoYXR0cmlidXRlICYmIGF0dHJpYnV0ZS5zcGVjaWZpZWQgJiYgcmVnZXgudGVzdChhdHRyaWJ1dGUubmFtZSkpIHtcbiAgICAgICAgICBvYmpbdGhpcy5jYW1lbGl6ZShhdHRyaWJ1dGUubmFtZS5zbGljZShuYW1lc3BhY2UubGVuZ3RoKSldID0gdGhpcy5kZXNlcmlhbGl6ZVZhbHVlKGF0dHJpYnV0ZS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuXG4gICAgY2hlY2tBdHRyOiBmdW5jdGlvbiBjaGVja0F0dHIoJGVsZW1lbnQsIG5hbWVzcGFjZSwgX2NoZWNrQXR0cikge1xuICAgICAgcmV0dXJuICRlbGVtZW50LmlzKCdbJyArIG5hbWVzcGFjZSArIF9jaGVja0F0dHIgKyAnXScpO1xuICAgIH0sXG5cbiAgICBzZXRBdHRyOiBmdW5jdGlvbiBzZXRBdHRyKCRlbGVtZW50LCBuYW1lc3BhY2UsIGF0dHIsIHZhbHVlKSB7XG4gICAgICAkZWxlbWVudFswXS5zZXRBdHRyaWJ1dGUodGhpcy5kYXNoZXJpemUobmFtZXNwYWNlICsgYXR0ciksIFN0cmluZyh2YWx1ZSkpO1xuICAgIH0sXG5cbiAgICBnZW5lcmF0ZUlEOiBmdW5jdGlvbiBnZW5lcmF0ZUlEKCkge1xuICAgICAgcmV0dXJuICcnICsgZ2xvYmFsSUQrKztcbiAgICB9LFxuXG4gICAgLyoqIFRoaXJkIHBhcnR5IGZ1bmN0aW9ucyAqKi9cbiAgICAvLyBaZXB0byBkZXNlcmlhbGl6ZSBmdW5jdGlvblxuICAgIGRlc2VyaWFsaXplVmFsdWU6IGZ1bmN0aW9uIGRlc2VyaWFsaXplVmFsdWUodmFsdWUpIHtcbiAgICAgIHZhciBudW07XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA/IHZhbHVlID09IFwidHJ1ZVwiIHx8ICh2YWx1ZSA9PSBcImZhbHNlXCIgPyBmYWxzZSA6IHZhbHVlID09IFwibnVsbFwiID8gbnVsbCA6ICFpc05hTihudW0gPSBOdW1iZXIodmFsdWUpKSA/IG51bSA6IC9eW1xcW1xce10vLnRlc3QodmFsdWUpID8gJC5wYXJzZUpTT04odmFsdWUpIDogdmFsdWUpIDogdmFsdWU7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gWmVwdG8gY2FtZWxpemUgZnVuY3Rpb25cbiAgICBjYW1lbGl6ZTogZnVuY3Rpb24gY2FtZWxpemUoc3RyKSB7XG4gICAgICByZXR1cm4gc3RyLnJlcGxhY2UoLy0rKC4pPy9nLCBmdW5jdGlvbiAobWF0Y2gsIGNocikge1xuICAgICAgICByZXR1cm4gY2hyID8gY2hyLnRvVXBwZXJDYXNlKCkgOiAnJztcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBaZXB0byBkYXNoZXJpemUgZnVuY3Rpb25cbiAgICBkYXNoZXJpemU6IGZ1bmN0aW9uIGRhc2hlcml6ZShzdHIpIHtcbiAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvOjovZywgJy8nKS5yZXBsYWNlKC8oW0EtWl0rKShbQS1aXVthLXpdKS9nLCAnJDFfJDInKS5yZXBsYWNlKC8oW2EtelxcZF0pKFtBLVpdKS9nLCAnJDFfJDInKS5yZXBsYWNlKC9fL2csICctJykudG9Mb3dlckNhc2UoKTtcbiAgICB9LFxuXG4gICAgd2FybjogZnVuY3Rpb24gd2FybigpIHtcbiAgICAgIHZhciBfd2luZG93JGNvbnNvbGU7XG5cbiAgICAgIGlmICh3aW5kb3cuY29uc29sZSAmJiAnZnVuY3Rpb24nID09PSB0eXBlb2Ygd2luZG93LmNvbnNvbGUud2FybikgKF93aW5kb3ckY29uc29sZSA9IHdpbmRvdy5jb25zb2xlKS53YXJuLmFwcGx5KF93aW5kb3ckY29uc29sZSwgYXJndW1lbnRzKTtcbiAgICB9LFxuXG4gICAgd2Fybk9uY2U6IGZ1bmN0aW9uIHdhcm5PbmNlKG1zZykge1xuICAgICAgaWYgKCFwYXN0V2FybmluZ3NbbXNnXSkge1xuICAgICAgICBwYXN0V2FybmluZ3NbbXNnXSA9IHRydWU7XG4gICAgICAgIHRoaXMud2Fybi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBfcmVzZXRXYXJuaW5nczogZnVuY3Rpb24gX3Jlc2V0V2FybmluZ3MoKSB7XG4gICAgICBwYXN0V2FybmluZ3MgPSB7fTtcbiAgICB9LFxuXG4gICAgdHJpbVN0cmluZzogZnVuY3Rpb24gdHJpbVN0cmluZyhzdHJpbmcpIHtcbiAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpO1xuICAgIH0sXG5cbiAgICBuYW1lc3BhY2VFdmVudHM6IGZ1bmN0aW9uIG5hbWVzcGFjZUV2ZW50cyhldmVudHMsIG5hbWVzcGFjZSkge1xuICAgICAgZXZlbnRzID0gdGhpcy50cmltU3RyaW5nKGV2ZW50cyB8fCAnJykuc3BsaXQoL1xccysvKTtcbiAgICAgIGlmICghZXZlbnRzWzBdKSByZXR1cm4gJyc7XG4gICAgICByZXR1cm4gJC5tYXAoZXZlbnRzLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIHJldHVybiBldnQgKyAnLicgKyBuYW1lc3BhY2U7XG4gICAgICB9KS5qb2luKCcgJyk7XG4gICAgfSxcblxuICAgIGRpZmZlcmVuY2U6IGZ1bmN0aW9uIGRpZmZlcmVuY2UoYXJyYXksIHJlbW92ZSkge1xuICAgICAgLy8gVGhpcyBpcyBPKE5eMiksIHNob3VsZCBiZSBvcHRpbWl6ZWRcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICQuZWFjaChhcnJheSwgZnVuY3Rpb24gKF8sIGVsZW0pIHtcbiAgICAgICAgaWYgKHJlbW92ZS5pbmRleE9mKGVsZW0pID09IC0xKSByZXN1bHQucHVzaChlbGVtKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuXG4gICAgLy8gQWx0ZXItZWdvIHRvIG5hdGl2ZSBQcm9taXNlLmFsbCwgYnV0IGZvciBqUXVlcnlcbiAgICBhbGw6IGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICAgICAgLy8galF1ZXJ5IHRyZWF0cyAkLndoZW4oKSBhbmQgJC53aGVuKHNpbmdsZVByb21pc2UpIGRpZmZlcmVudGx5OyBsZXQncyBhdm9pZCB0aGF0IGFuZCBhZGQgc3B1cmlvdXMgZWxlbWVudHNcbiAgICAgIHJldHVybiAkLndoZW4uYXBwbHkoJCwgX3RvQ29uc3VtYWJsZUFycmF5KHByb21pc2VzKS5jb25jYXQoWzQyLCA0Ml0pKTtcbiAgICB9LFxuXG4gICAgLy8gT2JqZWN0LmNyZWF0ZSBwb2x5ZmlsbCwgc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9jcmVhdGUjUG9seWZpbGxcbiAgICBvYmplY3RDcmVhdGU6IE9iamVjdC5jcmVhdGUgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBPYmplY3QgPSBmdW5jdGlvbiBPYmplY3QoKSB7fTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAocHJvdG90eXBlKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHRocm93IEVycm9yKCdTZWNvbmQgYXJndW1lbnQgbm90IHN1cHBvcnRlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgcHJvdG90eXBlICE9ICdvYmplY3QnKSB7XG4gICAgICAgICAgdGhyb3cgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgT2JqZWN0KCk7XG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUgPSBudWxsO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KSgpLFxuXG4gICAgX1N1Ym1pdFNlbGVjdG9yOiAnaW5wdXRbdHlwZT1cInN1Ym1pdFwiXSwgYnV0dG9uOnN1Ym1pdCdcbiAgfTtcblxuICB2YXIgUGFyc2xleVV0aWxzX19kZWZhdWx0ID0gUGFyc2xleVV0aWxzX19QYXJzbGV5VXRpbHM7XG5cbiAgLy8gQWxsIHRoZXNlIG9wdGlvbnMgY291bGQgYmUgb3ZlcnJpZGVuIGFuZCBzcGVjaWZpZWQgZGlyZWN0bHkgaW4gRE9NIHVzaW5nXG4gIC8vIGBkYXRhLXBhcnNsZXktYCBkZWZhdWx0IERPTS1BUElcbiAgLy8gZWc6IGBpbnB1dHNgIGNhbiBiZSBzZXQgaW4gRE9NIHVzaW5nIGBkYXRhLXBhcnNsZXktaW5wdXRzPVwiaW5wdXQsIHRleHRhcmVhXCJgXG4gIC8vIGVnOiBgZGF0YS1wYXJzbGV5LXN0b3Atb24tZmlyc3QtZmFpbGluZy1jb25zdHJhaW50PVwiZmFsc2VcImBcblxuICB2YXIgUGFyc2xleURlZmF1bHRzID0ge1xuICAgIC8vICMjIyBHZW5lcmFsXG5cbiAgICAvLyBEZWZhdWx0IGRhdGEtbmFtZXNwYWNlIGZvciBET00gQVBJXG4gICAgbmFtZXNwYWNlOiAnZGF0YS1wYXJzbGV5LScsXG5cbiAgICAvLyBTdXBwb3J0ZWQgaW5wdXRzIGJ5IGRlZmF1bHRcbiAgICBpbnB1dHM6ICdpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCcsXG5cbiAgICAvLyBFeGNsdWRlZCBpbnB1dHMgYnkgZGVmYXVsdFxuICAgIGV4Y2x1ZGVkOiAnaW5wdXRbdHlwZT1idXR0b25dLCBpbnB1dFt0eXBlPXN1Ym1pdF0sIGlucHV0W3R5cGU9cmVzZXRdLCBpbnB1dFt0eXBlPWhpZGRlbl0nLFxuXG4gICAgLy8gU3RvcCB2YWxpZGF0aW5nIGZpZWxkIG9uIGhpZ2hlc3QgcHJpb3JpdHkgZmFpbGluZyBjb25zdHJhaW50XG4gICAgcHJpb3JpdHlFbmFibGVkOiB0cnVlLFxuXG4gICAgLy8gIyMjIEZpZWxkIG9ubHlcblxuICAgIC8vIGlkZW50aWZpZXIgdXNlZCB0byBncm91cCB0b2dldGhlciBpbnB1dHMgKGUuZy4gcmFkaW8gYnV0dG9ucy4uLilcbiAgICBtdWx0aXBsZTogbnVsbCxcblxuICAgIC8vIGlkZW50aWZpZXIgKG9yIGFycmF5IG9mIGlkZW50aWZpZXJzKSB1c2VkIHRvIHZhbGlkYXRlIG9ubHkgYSBzZWxlY3QgZ3JvdXAgb2YgaW5wdXRzXG4gICAgZ3JvdXA6IG51bGwsXG5cbiAgICAvLyAjIyMgVUlcbiAgICAvLyBFbmFibGVcXERpc2FibGUgZXJyb3IgbWVzc2FnZXNcbiAgICB1aUVuYWJsZWQ6IHRydWUsXG5cbiAgICAvLyBLZXkgZXZlbnRzIHRocmVzaG9sZCBiZWZvcmUgdmFsaWRhdGlvblxuICAgIHZhbGlkYXRpb25UaHJlc2hvbGQ6IDMsXG5cbiAgICAvLyBGb2N1c2VkIGZpZWxkIG9uIGZvcm0gdmFsaWRhdGlvbiBlcnJvci4gJ2ZpcnN0J3wnbGFzdCd8J25vbmUnXG4gICAgZm9jdXM6ICdmaXJzdCcsXG5cbiAgICAvLyBldmVudChzKSB0aGF0IHdpbGwgdHJpZ2dlciB2YWxpZGF0aW9uIGJlZm9yZSBmaXJzdCBmYWlsdXJlLiBlZzogYGlucHV0YC4uLlxuICAgIHRyaWdnZXI6IGZhbHNlLFxuXG4gICAgLy8gZXZlbnQocykgdGhhdCB3aWxsIHRyaWdnZXIgdmFsaWRhdGlvbiBhZnRlciBmaXJzdCBmYWlsdXJlLlxuICAgIHRyaWdnZXJBZnRlckZhaWx1cmU6ICdpbnB1dCcsXG5cbiAgICAvLyBDbGFzcyB0aGF0IHdvdWxkIGJlIGFkZGVkIG9uIGV2ZXJ5IGZhaWxpbmcgdmFsaWRhdGlvbiBQYXJzbGV5IGZpZWxkXG4gICAgZXJyb3JDbGFzczogJ3BhcnNsZXktZXJyb3InLFxuXG4gICAgLy8gU2FtZSBmb3Igc3VjY2VzcyB2YWxpZGF0aW9uXG4gICAgc3VjY2Vzc0NsYXNzOiAncGFyc2xleS1zdWNjZXNzJyxcblxuICAgIC8vIFJldHVybiB0aGUgYCRlbGVtZW50YCB0aGF0IHdpbGwgcmVjZWl2ZSB0aGVzZSBhYm92ZSBzdWNjZXNzIG9yIGVycm9yIGNsYXNzZXNcbiAgICAvLyBDb3VsZCBhbHNvIGJlIChhbmQgZ2l2ZW4gZGlyZWN0bHkgZnJvbSBET00pIGEgdmFsaWQgc2VsZWN0b3IgbGlrZSBgJyNkaXYnYFxuICAgIGNsYXNzSGFuZGxlcjogZnVuY3Rpb24gY2xhc3NIYW5kbGVyKFBhcnNsZXlGaWVsZCkge30sXG5cbiAgICAvLyBSZXR1cm4gdGhlIGAkZWxlbWVudGAgd2hlcmUgZXJyb3JzIHdpbGwgYmUgYXBwZW5kZWRcbiAgICAvLyBDb3VsZCBhbHNvIGJlIChhbmQgZ2l2ZW4gZGlyZWN0bHkgZnJvbSBET00pIGEgdmFsaWQgc2VsZWN0b3IgbGlrZSBgJyNkaXYnYFxuICAgIGVycm9yc0NvbnRhaW5lcjogZnVuY3Rpb24gZXJyb3JzQ29udGFpbmVyKFBhcnNsZXlGaWVsZCkge30sXG5cbiAgICAvLyB1bCBlbGVtIHRoYXQgd291bGQgcmVjZWl2ZSBlcnJvcnMnIGxpc3RcbiAgICBlcnJvcnNXcmFwcGVyOiAnPHVsIGNsYXNzPVwicGFyc2xleS1lcnJvcnMtbGlzdFwiPjwvdWw+JyxcblxuICAgIC8vIGxpIGVsZW0gdGhhdCB3b3VsZCByZWNlaXZlIGVycm9yIG1lc3NhZ2VcbiAgICBlcnJvclRlbXBsYXRlOiAnPGxpPjwvbGk+J1xuICB9O1xuXG4gIHZhciBQYXJzbGV5QWJzdHJhY3QgPSBmdW5jdGlvbiBQYXJzbGV5QWJzdHJhY3QoKSB7XG4gICAgdGhpcy5fX2lkX18gPSBQYXJzbGV5VXRpbHNfX2RlZmF1bHQuZ2VuZXJhdGVJRCgpO1xuICB9O1xuXG4gIFBhcnNsZXlBYnN0cmFjdC5wcm90b3R5cGUgPSB7XG4gICAgYXN5bmNTdXBwb3J0OiB0cnVlLCAvLyBEZXByZWNhdGVkXG5cbiAgICBfcGlwZUFjY29yZGluZ1RvVmFsaWRhdGlvblJlc3VsdDogZnVuY3Rpb24gX3BpcGVBY2NvcmRpbmdUb1ZhbGlkYXRpb25SZXN1bHQoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgcGlwZSA9IGZ1bmN0aW9uIHBpcGUoKSB7XG4gICAgICAgIHZhciByID0gJC5EZWZlcnJlZCgpO1xuICAgICAgICBpZiAodHJ1ZSAhPT0gX3RoaXMudmFsaWRhdGlvblJlc3VsdCkgci5yZWplY3QoKTtcbiAgICAgICAgcmV0dXJuIHIucmVzb2x2ZSgpLnByb21pc2UoKTtcbiAgICAgIH07XG4gICAgICByZXR1cm4gW3BpcGUsIHBpcGVdO1xuICAgIH0sXG5cbiAgICBhY3R1YWxpemVPcHRpb25zOiBmdW5jdGlvbiBhY3R1YWxpemVPcHRpb25zKCkge1xuICAgICAgUGFyc2xleVV0aWxzX19kZWZhdWx0LmF0dHIodGhpcy4kZWxlbWVudCwgdGhpcy5vcHRpb25zLm5hbWVzcGFjZSwgdGhpcy5kb21PcHRpb25zKTtcbiAgICAgIGlmICh0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC5hY3R1YWxpemVPcHRpb25zKSB0aGlzLnBhcmVudC5hY3R1YWxpemVPcHRpb25zKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgX3Jlc2V0T3B0aW9uczogZnVuY3Rpb24gX3Jlc2V0T3B0aW9ucyhpbml0T3B0aW9ucykge1xuICAgICAgdGhpcy5kb21PcHRpb25zID0gUGFyc2xleVV0aWxzX19kZWZhdWx0Lm9iamVjdENyZWF0ZSh0aGlzLnBhcmVudC5vcHRpb25zKTtcbiAgICAgIHRoaXMub3B0aW9ucyA9IFBhcnNsZXlVdGlsc19fZGVmYXVsdC5vYmplY3RDcmVhdGUodGhpcy5kb21PcHRpb25zKTtcbiAgICAgIC8vIFNoYWxsb3cgY29weSBvZiBvd25Qcm9wZXJ0aWVzIG9mIGluaXRPcHRpb25zOlxuICAgICAgZm9yICh2YXIgaSBpbiBpbml0T3B0aW9ucykge1xuICAgICAgICBpZiAoaW5pdE9wdGlvbnMuaGFzT3duUHJvcGVydHkoaSkpIHRoaXMub3B0aW9uc1tpXSA9IGluaXRPcHRpb25zW2ldO1xuICAgICAgfVxuICAgICAgdGhpcy5hY3R1YWxpemVPcHRpb25zKCk7XG4gICAgfSxcblxuICAgIF9saXN0ZW5lcnM6IG51bGwsXG5cbiAgICAvLyBSZWdpc3RlciBhIGNhbGxiYWNrIGZvciB0aGUgZ2l2ZW4gZXZlbnQgbmFtZVxuICAgIC8vIENhbGxiYWNrIGlzIGNhbGxlZCB3aXRoIGNvbnRleHQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IGFuZCB0aGUgYHRoaXNgXG4gICAgLy8gVGhlIGNvbnRleHQgaXMgdGhlIGN1cnJlbnQgcGFyc2xleSBpbnN0YW5jZSwgb3Igd2luZG93LlBhcnNsZXkgaWYgZ2xvYmFsXG4gICAgLy8gQSByZXR1cm4gdmFsdWUgb2YgYGZhbHNlYCB3aWxsIGludGVycnVwdCB0aGUgY2FsbHNcbiAgICBvbjogZnVuY3Rpb24gb24obmFtZSwgZm4pIHtcbiAgICAgIHRoaXMuX2xpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycyB8fCB7fTtcbiAgICAgIHZhciBxdWV1ZSA9IHRoaXMuX2xpc3RlbmVyc1tuYW1lXSA9IHRoaXMuX2xpc3RlbmVyc1tuYW1lXSB8fCBbXTtcbiAgICAgIHF1ZXVlLnB1c2goZm4pO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLy8gRGVwcmVjYXRlZC4gVXNlIGBvbmAgaW5zdGVhZFxuICAgIHN1YnNjcmliZTogZnVuY3Rpb24gc3Vic2NyaWJlKG5hbWUsIGZuKSB7XG4gICAgICAkLmxpc3RlblRvKHRoaXMsIG5hbWUudG9Mb3dlckNhc2UoKSwgZm4pO1xuICAgIH0sXG5cbiAgICAvLyBVbnJlZ2lzdGVyIGEgY2FsbGJhY2sgKG9yIGFsbCBpZiBub25lIGlzIGdpdmVuKSBmb3IgdGhlIGdpdmVuIGV2ZW50IG5hbWVcbiAgICBvZmY6IGZ1bmN0aW9uIG9mZihuYW1lLCBmbikge1xuICAgICAgdmFyIHF1ZXVlID0gdGhpcy5fbGlzdGVuZXJzICYmIHRoaXMuX2xpc3RlbmVyc1tuYW1lXTtcbiAgICAgIGlmIChxdWV1ZSkge1xuICAgICAgICBpZiAoIWZuKSB7XG4gICAgICAgICAgZGVsZXRlIHRoaXMuX2xpc3RlbmVyc1tuYW1lXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gcXVldWUubGVuZ3RoOyBpLS07KSBpZiAocXVldWVbaV0gPT09IGZuKSBxdWV1ZS5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvLyBEZXByZWNhdGVkLiBVc2UgYG9mZmBcbiAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24gdW5zdWJzY3JpYmUobmFtZSwgZm4pIHtcbiAgICAgICQudW5zdWJzY3JpYmVUbyh0aGlzLCBuYW1lLnRvTG93ZXJDYXNlKCkpO1xuICAgIH0sXG5cbiAgICAvLyBUcmlnZ2VyIGFuIGV2ZW50IG9mIHRoZSBnaXZlbiBuYW1lXG4gICAgLy8gQSByZXR1cm4gdmFsdWUgb2YgYGZhbHNlYCBpbnRlcnJ1cHRzIHRoZSBjYWxsYmFjayBjaGFpblxuICAgIC8vIFJldHVybnMgZmFsc2UgaWYgZXhlY3V0aW9uIHdhcyBpbnRlcnJ1cHRlZFxuICAgIHRyaWdnZXI6IGZ1bmN0aW9uIHRyaWdnZXIobmFtZSwgdGFyZ2V0LCBleHRyYUFyZykge1xuICAgICAgdGFyZ2V0ID0gdGFyZ2V0IHx8IHRoaXM7XG4gICAgICB2YXIgcXVldWUgPSB0aGlzLl9saXN0ZW5lcnMgJiYgdGhpcy5fbGlzdGVuZXJzW25hbWVdO1xuICAgICAgdmFyIHJlc3VsdDtcbiAgICAgIHZhciBwYXJlbnRSZXN1bHQ7XG4gICAgICBpZiAocXVldWUpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IHF1ZXVlLmxlbmd0aDsgaS0tOykge1xuICAgICAgICAgIHJlc3VsdCA9IHF1ZXVlW2ldLmNhbGwodGFyZ2V0LCB0YXJnZXQsIGV4dHJhQXJnKTtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSBmYWxzZSkgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcmVudC50cmlnZ2VyKG5hbWUsIHRhcmdldCwgZXh0cmFBcmcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIC8vIFJlc2V0IFVJXG4gICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgLy8gRmllbGQgY2FzZToganVzdCBlbWl0IGEgcmVzZXQgZXZlbnQgZm9yIFVJXG4gICAgICBpZiAoJ1BhcnNsZXlGb3JtJyAhPT0gdGhpcy5fX2NsYXNzX18pIHtcbiAgICAgICAgdGhpcy5fcmVzZXRVSSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdHJpZ2dlcigncmVzZXQnKTtcbiAgICAgIH1cblxuICAgICAgLy8gRm9ybSBjYXNlOiBlbWl0IGEgcmVzZXQgZXZlbnQgZm9yIGVhY2ggZmllbGRcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5maWVsZHMubGVuZ3RoOyBpKyspIHRoaXMuZmllbGRzW2ldLnJlc2V0KCk7XG5cbiAgICAgIHRoaXMuX3RyaWdnZXIoJ3Jlc2V0Jyk7XG4gICAgfSxcblxuICAgIC8vIERlc3Ryb3kgUGFyc2xleSBpbnN0YW5jZSAoKyBVSSlcbiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgLy8gRmllbGQgY2FzZTogZW1pdCBkZXN0cm95IGV2ZW50IHRvIGNsZWFuIFVJIGFuZCB0aGVuIGRlc3Ryb3kgc3RvcmVkIGluc3RhbmNlXG4gICAgICB0aGlzLl9kZXN0cm95VUkoKTtcbiAgICAgIGlmICgnUGFyc2xleUZvcm0nICE9PSB0aGlzLl9fY2xhc3NfXykge1xuICAgICAgICB0aGlzLiRlbGVtZW50LnJlbW92ZURhdGEoJ1BhcnNsZXknKTtcbiAgICAgICAgdGhpcy4kZWxlbWVudC5yZW1vdmVEYXRhKCdQYXJzbGV5RmllbGRNdWx0aXBsZScpO1xuICAgICAgICB0aGlzLl90cmlnZ2VyKCdkZXN0cm95Jyk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBGb3JtIGNhc2U6IGRlc3Ryb3kgYWxsIGl0cyBmaWVsZHMgYW5kIHRoZW4gZGVzdHJveSBzdG9yZWQgaW5zdGFuY2VcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5maWVsZHMubGVuZ3RoOyBpKyspIHRoaXMuZmllbGRzW2ldLmRlc3Ryb3koKTtcblxuICAgICAgdGhpcy4kZWxlbWVudC5yZW1vdmVEYXRhKCdQYXJzbGV5Jyk7XG4gICAgICB0aGlzLl90cmlnZ2VyKCdkZXN0cm95Jyk7XG4gICAgfSxcblxuICAgIGFzeW5jSXNWYWxpZDogZnVuY3Rpb24gYXN5bmNJc1ZhbGlkKGdyb3VwLCBmb3JjZSkge1xuICAgICAgUGFyc2xleVV0aWxzX19kZWZhdWx0Lndhcm5PbmNlKFwiYXN5bmNJc1ZhbGlkIGlzIGRlcHJlY2F0ZWQ7IHBsZWFzZSB1c2Ugd2hlblZhbGlkIGluc3RlYWRcIik7XG4gICAgICByZXR1cm4gdGhpcy53aGVuVmFsaWQoeyBncm91cDogZ3JvdXAsIGZvcmNlOiBmb3JjZSB9KTtcbiAgICB9LFxuXG4gICAgX2ZpbmRSZWxhdGVkOiBmdW5jdGlvbiBfZmluZFJlbGF0ZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLm11bHRpcGxlID8gdGhpcy5wYXJlbnQuJGVsZW1lbnQuZmluZCgnWycgKyB0aGlzLm9wdGlvbnMubmFtZXNwYWNlICsgJ211bHRpcGxlPVwiJyArIHRoaXMub3B0aW9ucy5tdWx0aXBsZSArICdcIl0nKSA6IHRoaXMuJGVsZW1lbnQ7XG4gICAgfVxuICB9O1xuXG4gIHZhciByZXF1aXJlbWVudENvbnZlcnRlcnMgPSB7XG4gICAgc3RyaW5nOiBmdW5jdGlvbiBzdHJpbmcoX3N0cmluZykge1xuICAgICAgcmV0dXJuIF9zdHJpbmc7XG4gICAgfSxcbiAgICBpbnRlZ2VyOiBmdW5jdGlvbiBpbnRlZ2VyKHN0cmluZykge1xuICAgICAgaWYgKGlzTmFOKHN0cmluZykpIHRocm93ICdSZXF1aXJlbWVudCBpcyBub3QgYW4gaW50ZWdlcjogXCInICsgc3RyaW5nICsgJ1wiJztcbiAgICAgIHJldHVybiBwYXJzZUludChzdHJpbmcsIDEwKTtcbiAgICB9LFxuICAgIG51bWJlcjogZnVuY3Rpb24gbnVtYmVyKHN0cmluZykge1xuICAgICAgaWYgKGlzTmFOKHN0cmluZykpIHRocm93ICdSZXF1aXJlbWVudCBpcyBub3QgYSBudW1iZXI6IFwiJyArIHN0cmluZyArICdcIic7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdChzdHJpbmcpO1xuICAgIH0sXG4gICAgcmVmZXJlbmNlOiBmdW5jdGlvbiByZWZlcmVuY2Uoc3RyaW5nKSB7XG4gICAgICAvLyBVbnVzZWQgZm9yIG5vd1xuICAgICAgdmFyIHJlc3VsdCA9ICQoc3RyaW5nKTtcbiAgICAgIGlmIChyZXN1bHQubGVuZ3RoID09PSAwKSB0aHJvdyAnTm8gc3VjaCByZWZlcmVuY2U6IFwiJyArIHN0cmluZyArICdcIic7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG4gICAgYm9vbGVhbjogZnVuY3Rpb24gYm9vbGVhbihzdHJpbmcpIHtcbiAgICAgIHJldHVybiBzdHJpbmcgIT09ICdmYWxzZSc7XG4gICAgfSxcbiAgICBvYmplY3Q6IGZ1bmN0aW9uIG9iamVjdChzdHJpbmcpIHtcbiAgICAgIHJldHVybiBQYXJzbGV5VXRpbHNfX2RlZmF1bHQuZGVzZXJpYWxpemVWYWx1ZShzdHJpbmcpO1xuICAgIH0sXG4gICAgcmVnZXhwOiBmdW5jdGlvbiByZWdleHAoX3JlZ2V4cCkge1xuICAgICAgdmFyIGZsYWdzID0gJyc7XG5cbiAgICAgIC8vIFRlc3QgaWYgUmVnRXhwIGlzIGxpdGVyYWwsIGlmIG5vdCwgbm90aGluZyB0byBiZSBkb25lLCBvdGhlcndpc2UsIHdlIG5lZWQgdG8gaXNvbGF0ZSBmbGFncyBhbmQgcGF0dGVyblxuICAgICAgaWYgKC9eXFwvLipcXC8oPzpbZ2lteV0qKSQvLnRlc3QoX3JlZ2V4cCkpIHtcbiAgICAgICAgLy8gUmVwbGFjZSB0aGUgcmVnZXhwIGxpdGVyYWwgc3RyaW5nIHdpdGggdGhlIGZpcnN0IG1hdGNoIGdyb3VwOiAoW2dpbXldKilcbiAgICAgICAgLy8gSWYgbm8gZmxhZyBpcyBwcmVzZW50LCB0aGlzIHdpbGwgYmUgYSBibGFuayBzdHJpbmdcbiAgICAgICAgZmxhZ3MgPSBfcmVnZXhwLnJlcGxhY2UoLy4qXFwvKFtnaW15XSopJC8sICckMScpO1xuICAgICAgICAvLyBBZ2FpbiwgcmVwbGFjZSB0aGUgcmVnZXhwIGxpdGVyYWwgc3RyaW5nIHdpdGggdGhlIGZpcnN0IG1hdGNoIGdyb3VwOlxuICAgICAgICAvLyBldmVyeXRoaW5nIGV4Y2x1ZGluZyB0aGUgb3BlbmluZyBhbmQgY2xvc2luZyBzbGFzaGVzIGFuZCB0aGUgZmxhZ3NcbiAgICAgICAgX3JlZ2V4cCA9IF9yZWdleHAucmVwbGFjZShuZXcgUmVnRXhwKCdeLyguKj8pLycgKyBmbGFncyArICckJyksICckMScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQW5jaG9yIHJlZ2V4cDpcbiAgICAgICAgX3JlZ2V4cCA9ICdeJyArIF9yZWdleHAgKyAnJCc7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IFJlZ0V4cChfcmVnZXhwLCBmbGFncyk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjb252ZXJ0QXJyYXlSZXF1aXJlbWVudCA9IGZ1bmN0aW9uIGNvbnZlcnRBcnJheVJlcXVpcmVtZW50KHN0cmluZywgbGVuZ3RoKSB7XG4gICAgdmFyIG0gPSBzdHJpbmcubWF0Y2goL15cXHMqXFxbKC4qKVxcXVxccyokLyk7XG4gICAgaWYgKCFtKSB0aHJvdyAnUmVxdWlyZW1lbnQgaXMgbm90IGFuIGFycmF5OiBcIicgKyBzdHJpbmcgKyAnXCInO1xuICAgIHZhciB2YWx1ZXMgPSBtWzFdLnNwbGl0KCcsJykubWFwKFBhcnNsZXlVdGlsc19fZGVmYXVsdC50cmltU3RyaW5nKTtcbiAgICBpZiAodmFsdWVzLmxlbmd0aCAhPT0gbGVuZ3RoKSB0aHJvdyAnUmVxdWlyZW1lbnQgaGFzICcgKyB2YWx1ZXMubGVuZ3RoICsgJyB2YWx1ZXMgd2hlbiAnICsgbGVuZ3RoICsgJyBhcmUgbmVlZGVkJztcbiAgICByZXR1cm4gdmFsdWVzO1xuICB9O1xuXG4gIHZhciBjb252ZXJ0UmVxdWlyZW1lbnQgPSBmdW5jdGlvbiBjb252ZXJ0UmVxdWlyZW1lbnQocmVxdWlyZW1lbnRUeXBlLCBzdHJpbmcpIHtcbiAgICB2YXIgY29udmVydGVyID0gcmVxdWlyZW1lbnRDb252ZXJ0ZXJzW3JlcXVpcmVtZW50VHlwZSB8fCAnc3RyaW5nJ107XG4gICAgaWYgKCFjb252ZXJ0ZXIpIHRocm93ICdVbmtub3duIHJlcXVpcmVtZW50IHNwZWNpZmljYXRpb246IFwiJyArIHJlcXVpcmVtZW50VHlwZSArICdcIic7XG4gICAgcmV0dXJuIGNvbnZlcnRlcihzdHJpbmcpO1xuICB9O1xuXG4gIHZhciBjb252ZXJ0RXh0cmFPcHRpb25SZXF1aXJlbWVudCA9IGZ1bmN0aW9uIGNvbnZlcnRFeHRyYU9wdGlvblJlcXVpcmVtZW50KHJlcXVpcmVtZW50U3BlYywgc3RyaW5nLCBleHRyYU9wdGlvblJlYWRlcikge1xuICAgIHZhciBtYWluID0gbnVsbDtcbiAgICB2YXIgZXh0cmEgPSB7fTtcbiAgICBmb3IgKHZhciBrZXkgaW4gcmVxdWlyZW1lbnRTcGVjKSB7XG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGV4dHJhT3B0aW9uUmVhZGVyKGtleSk7XG4gICAgICAgIGlmICgnc3RyaW5nJyA9PT0gdHlwZW9mIHZhbHVlKSB2YWx1ZSA9IGNvbnZlcnRSZXF1aXJlbWVudChyZXF1aXJlbWVudFNwZWNba2V5XSwgdmFsdWUpO1xuICAgICAgICBleHRyYVtrZXldID0gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYWluID0gY29udmVydFJlcXVpcmVtZW50KHJlcXVpcmVtZW50U3BlY1trZXldLCBzdHJpbmcpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gW21haW4sIGV4dHJhXTtcbiAgfTtcblxuICAvLyBBIFZhbGlkYXRvciBuZWVkcyB0byBpbXBsZW1lbnQgdGhlIG1ldGhvZHMgYHZhbGlkYXRlYCBhbmQgYHBhcnNlUmVxdWlyZW1lbnRzYFxuXG4gIHZhciBQYXJzbGV5VmFsaWRhdG9yID0gZnVuY3Rpb24gUGFyc2xleVZhbGlkYXRvcihzcGVjKSB7XG4gICAgJC5leHRlbmQodHJ1ZSwgdGhpcywgc3BlYyk7XG4gIH07XG5cbiAgUGFyc2xleVZhbGlkYXRvci5wcm90b3R5cGUgPSB7XG4gICAgLy8gUmV0dXJucyBgdHJ1ZWAgaWZmIHRoZSBnaXZlbiBgdmFsdWVgIGlzIHZhbGlkIGFjY29yZGluZyB0aGUgZ2l2ZW4gcmVxdWlyZW1lbnRzLlxuICAgIHZhbGlkYXRlOiBmdW5jdGlvbiB2YWxpZGF0ZSh2YWx1ZSwgcmVxdWlyZW1lbnRGaXJzdEFyZykge1xuICAgICAgaWYgKHRoaXMuZm4pIHtcbiAgICAgICAgLy8gTGVnYWN5IHN0eWxlIHZhbGlkYXRvclxuXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMykgLy8gSWYgbW9yZSBhcmdzIHRoZW4gdmFsdWUsIHJlcXVpcmVtZW50LCBpbnN0YW5jZS4uLlxuICAgICAgICAgIHJlcXVpcmVtZW50Rmlyc3RBcmcgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSwgLTEpOyAvLyBTa2lwIGZpcnN0IGFyZyAodmFsdWUpIGFuZCBsYXN0IChpbnN0YW5jZSksIGNvbWJpbmluZyB0aGUgcmVzdFxuICAgICAgICByZXR1cm4gdGhpcy5mbi5jYWxsKHRoaXMsIHZhbHVlLCByZXF1aXJlbWVudEZpcnN0QXJnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCQuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlTXVsdGlwbGUpIHRocm93ICdWYWxpZGF0b3IgYCcgKyB0aGlzLm5hbWUgKyAnYCBkb2VzIG5vdCBoYW5kbGUgbXVsdGlwbGUgdmFsdWVzJztcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdGVNdWx0aXBsZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMudmFsaWRhdGVOdW1iZXIpIHtcbiAgICAgICAgICBpZiAoaXNOYU4odmFsdWUpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgYXJndW1lbnRzWzBdID0gcGFyc2VGbG9hdChhcmd1bWVudHNbMF0pO1xuICAgICAgICAgIHJldHVybiB0aGlzLnZhbGlkYXRlTnVtYmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudmFsaWRhdGVTdHJpbmcpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVN0cmluZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93ICdWYWxpZGF0b3IgYCcgKyB0aGlzLm5hbWUgKyAnYCBvbmx5IGhhbmRsZXMgbXVsdGlwbGUgdmFsdWVzJztcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gUGFyc2VzIGByZXF1aXJlbWVudHNgIGludG8gYW4gYXJyYXkgb2YgYXJndW1lbnRzLFxuICAgIC8vIGFjY29yZGluZyB0byBgdGhpcy5yZXF1aXJlbWVudFR5cGVgXG4gICAgcGFyc2VSZXF1aXJlbWVudHM6IGZ1bmN0aW9uIHBhcnNlUmVxdWlyZW1lbnRzKHJlcXVpcmVtZW50cywgZXh0cmFPcHRpb25SZWFkZXIpIHtcbiAgICAgIGlmICgnc3RyaW5nJyAhPT0gdHlwZW9mIHJlcXVpcmVtZW50cykge1xuICAgICAgICAvLyBBc3N1bWUgcmVxdWlyZW1lbnQgYWxyZWFkeSBwYXJzZWRcbiAgICAgICAgLy8gYnV0IG1ha2Ugc3VyZSB3ZSByZXR1cm4gYW4gYXJyYXlcbiAgICAgICAgcmV0dXJuICQuaXNBcnJheShyZXF1aXJlbWVudHMpID8gcmVxdWlyZW1lbnRzIDogW3JlcXVpcmVtZW50c107XG4gICAgICB9XG4gICAgICB2YXIgdHlwZSA9IHRoaXMucmVxdWlyZW1lbnRUeXBlO1xuICAgICAgaWYgKCQuaXNBcnJheSh0eXBlKSkge1xuICAgICAgICB2YXIgdmFsdWVzID0gY29udmVydEFycmF5UmVxdWlyZW1lbnQocmVxdWlyZW1lbnRzLCB0eXBlLmxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB2YWx1ZXNbaV0gPSBjb252ZXJ0UmVxdWlyZW1lbnQodHlwZVtpXSwgdmFsdWVzW2ldKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgIH0gZWxzZSBpZiAoJC5pc1BsYWluT2JqZWN0KHR5cGUpKSB7XG4gICAgICAgIHJldHVybiBjb252ZXJ0RXh0cmFPcHRpb25SZXF1aXJlbWVudCh0eXBlLCByZXF1aXJlbWVudHMsIGV4dHJhT3B0aW9uUmVhZGVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBbY29udmVydFJlcXVpcmVtZW50KHR5cGUsIHJlcXVpcmVtZW50cyldO1xuICAgICAgfVxuICAgIH0sXG4gICAgLy8gRGVmYXVsdHM6XG4gICAgcmVxdWlyZW1lbnRUeXBlOiAnc3RyaW5nJyxcblxuICAgIHByaW9yaXR5OiAyXG5cbiAgfTtcblxuICB2YXIgUGFyc2xleVZhbGlkYXRvclJlZ2lzdHJ5ID0gZnVuY3Rpb24gUGFyc2xleVZhbGlkYXRvclJlZ2lzdHJ5KHZhbGlkYXRvcnMsIGNhdGFsb2cpIHtcbiAgICB0aGlzLl9fY2xhc3NfXyA9ICdQYXJzbGV5VmFsaWRhdG9yUmVnaXN0cnknO1xuXG4gICAgLy8gRGVmYXVsdCBQYXJzbGV5IGxvY2FsZSBpcyBlblxuICAgIHRoaXMubG9jYWxlID0gJ2VuJztcblxuICAgIHRoaXMuaW5pdCh2YWxpZGF0b3JzIHx8IHt9LCBjYXRhbG9nIHx8IHt9KTtcbiAgfTtcblxuICB2YXIgdHlwZVJlZ2V4ZXMgPSB7XG4gICAgZW1haWw6IC9eKCgoW2Etel18XFxkfFshI1xcJCUmJ1xcKlxcK1xcLVxcLz1cXD9cXF5fYHtcXHx9fl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKyhcXC4oW2Etel18XFxkfFshI1xcJCUmJ1xcKlxcK1xcLVxcLz1cXD9cXF5fYHtcXHx9fl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKykqKXwoKFxceDIyKSgoKChcXHgyMHxcXHgwOSkqKFxceDBkXFx4MGEpKT8oXFx4MjB8XFx4MDkpKyk/KChbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHg3Zl18XFx4MjF8W1xceDIzLVxceDViXXxbXFx4NWQtXFx4N2VdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoXFxcXChbXFx4MDEtXFx4MDlcXHgwYlxceDBjXFx4MGQtXFx4N2ZdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpKSooKChcXHgyMHxcXHgwOSkqKFxceDBkXFx4MGEpKT8oXFx4MjB8XFx4MDkpKyk/KFxceDIyKSkpQCgoKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKihbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSlcXC4pKygoW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKihbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKSQvaSxcblxuICAgIC8vIEZvbGxvdyBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvaW5mcmFzdHJ1Y3R1cmUuaHRtbCNmbG9hdGluZy1wb2ludC1udW1iZXJzXG4gICAgbnVtYmVyOiAvXi0/KFxcZCpcXC4pP1xcZCsoZVstK10/XFxkKyk/JC9pLFxuXG4gICAgaW50ZWdlcjogL14tP1xcZCskLyxcblxuICAgIGRpZ2l0czogL15cXGQrJC8sXG5cbiAgICBhbHBoYW51bTogL15cXHcrJC9pLFxuXG4gICAgdXJsOiBuZXcgUmVnRXhwKFwiXlwiICtcbiAgICAvLyBwcm90b2NvbCBpZGVudGlmaWVyXG4gICAgXCIoPzooPzpodHRwcz98ZnRwKTovLyk/XCIgKyAvLyAqKiBtb2Q6IG1ha2Ugc2NoZW1lIG9wdGlvbmFsXG4gICAgLy8gdXNlcjpwYXNzIGF1dGhlbnRpY2F0aW9uXG4gICAgXCIoPzpcXFxcUysoPzo6XFxcXFMqKT9AKT9cIiArIFwiKD86XCIgK1xuICAgIC8vIElQIGFkZHJlc3MgZXhjbHVzaW9uXG4gICAgLy8gcHJpdmF0ZSAmIGxvY2FsIG5ldHdvcmtzXG4gICAgLy8gXCIoPyEoPzoxMHwxMjcpKD86XFxcXC5cXFxcZHsxLDN9KXszfSlcIiArICAgLy8gKiogbW9kOiBhbGxvdyBsb2NhbCBuZXR3b3Jrc1xuICAgIC8vIFwiKD8hKD86MTY5XFxcXC4yNTR8MTkyXFxcXC4xNjgpKD86XFxcXC5cXFxcZHsxLDN9KXsyfSlcIiArICAvLyAqKiBtb2Q6IGFsbG93IGxvY2FsIG5ldHdvcmtzXG4gICAgLy8gXCIoPyExNzJcXFxcLig/OjFbNi05XXwyXFxcXGR8M1swLTFdKSg/OlxcXFwuXFxcXGR7MSwzfSl7Mn0pXCIgKyAgLy8gKiogbW9kOiBhbGxvdyBsb2NhbCBuZXR3b3Jrc1xuICAgIC8vIElQIGFkZHJlc3MgZG90dGVkIG5vdGF0aW9uIG9jdGV0c1xuICAgIC8vIGV4Y2x1ZGVzIGxvb3BiYWNrIG5ldHdvcmsgMC4wLjAuMFxuICAgIC8vIGV4Y2x1ZGVzIHJlc2VydmVkIHNwYWNlID49IDIyNC4wLjAuMFxuICAgIC8vIGV4Y2x1ZGVzIG5ldHdvcmsgJiBicm9hY2FzdCBhZGRyZXNzZXNcbiAgICAvLyAoZmlyc3QgJiBsYXN0IElQIGFkZHJlc3Mgb2YgZWFjaCBjbGFzcylcbiAgICBcIig/OlsxLTldXFxcXGQ/fDFcXFxcZFxcXFxkfDJbMDFdXFxcXGR8MjJbMC0zXSlcIiArIFwiKD86XFxcXC4oPzoxP1xcXFxkezEsMn18MlswLTRdXFxcXGR8MjVbMC01XSkpezJ9XCIgKyBcIig/OlxcXFwuKD86WzEtOV1cXFxcZD98MVxcXFxkXFxcXGR8MlswLTRdXFxcXGR8MjVbMC00XSkpXCIgKyBcInxcIiArXG4gICAgLy8gaG9zdCBuYW1lXG4gICAgJyg/Oig/OlthLXpcXFxcdTAwYTEtXFxcXHVmZmZmMC05XS0qKSpbYS16XFxcXHUwMGExLVxcXFx1ZmZmZjAtOV0rKScgK1xuICAgIC8vIGRvbWFpbiBuYW1lXG4gICAgJyg/OlxcXFwuKD86W2EtelxcXFx1MDBhMS1cXFxcdWZmZmYwLTldLSopKlthLXpcXFxcdTAwYTEtXFxcXHVmZmZmMC05XSspKicgK1xuICAgIC8vIFRMRCBpZGVudGlmaWVyXG4gICAgJyg/OlxcXFwuKD86W2EtelxcXFx1MDBhMS1cXFxcdWZmZmZdezIsfSkpJyArIFwiKVwiICtcbiAgICAvLyBwb3J0IG51bWJlclxuICAgIFwiKD86OlxcXFxkezIsNX0pP1wiICtcbiAgICAvLyByZXNvdXJjZSBwYXRoXG4gICAgXCIoPzovXFxcXFMqKT9cIiArIFwiJFwiLCAnaScpXG4gIH07XG4gIHR5cGVSZWdleGVzLnJhbmdlID0gdHlwZVJlZ2V4ZXMubnVtYmVyO1xuXG4gIC8vIFNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMDQ1NDU2MC84Mjc5XG4gIHZhciBkZWNpbWFsUGxhY2VzID0gZnVuY3Rpb24gZGVjaW1hbFBsYWNlcyhudW0pIHtcbiAgICB2YXIgbWF0Y2ggPSAoJycgKyBudW0pLm1hdGNoKC8oPzpcXC4oXFxkKykpPyg/OltlRV0oWystXT9cXGQrKSk/JC8pO1xuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5tYXgoMCxcbiAgICAvLyBOdW1iZXIgb2YgZGlnaXRzIHJpZ2h0IG9mIGRlY2ltYWwgcG9pbnQuXG4gICAgKG1hdGNoWzFdID8gbWF0Y2hbMV0ubGVuZ3RoIDogMCkgLSAoXG4gICAgLy8gQWRqdXN0IGZvciBzY2llbnRpZmljIG5vdGF0aW9uLlxuICAgIG1hdGNoWzJdID8gK21hdGNoWzJdIDogMCkpO1xuICB9O1xuXG4gIFBhcnNsZXlWYWxpZGF0b3JSZWdpc3RyeS5wcm90b3R5cGUgPSB7XG4gICAgaW5pdDogZnVuY3Rpb24gaW5pdCh2YWxpZGF0b3JzLCBjYXRhbG9nKSB7XG4gICAgICB0aGlzLmNhdGFsb2cgPSBjYXRhbG9nO1xuICAgICAgLy8gQ29weSBwcm90b3R5cGUncyB2YWxpZGF0b3JzOlxuICAgICAgdGhpcy52YWxpZGF0b3JzID0gJC5leHRlbmQoe30sIHRoaXMudmFsaWRhdG9ycyk7XG5cbiAgICAgIGZvciAodmFyIG5hbWUgaW4gdmFsaWRhdG9ycykgdGhpcy5hZGRWYWxpZGF0b3IobmFtZSwgdmFsaWRhdG9yc1tuYW1lXS5mbiwgdmFsaWRhdG9yc1tuYW1lXS5wcmlvcml0eSk7XG5cbiAgICAgIHdpbmRvdy5QYXJzbGV5LnRyaWdnZXIoJ3BhcnNsZXk6dmFsaWRhdG9yOmluaXQnKTtcbiAgICB9LFxuXG4gICAgLy8gU2V0IG5ldyBtZXNzYWdlcyBsb2NhbGUgaWYgd2UgaGF2ZSBkaWN0aW9uYXJ5IGxvYWRlZCBpbiBQYXJzbGV5Q29uZmlnLmkxOG5cbiAgICBzZXRMb2NhbGU6IGZ1bmN0aW9uIHNldExvY2FsZShsb2NhbGUpIHtcbiAgICAgIGlmICgndW5kZWZpbmVkJyA9PT0gdHlwZW9mIHRoaXMuY2F0YWxvZ1tsb2NhbGVdKSB0aHJvdyBuZXcgRXJyb3IobG9jYWxlICsgJyBpcyBub3QgYXZhaWxhYmxlIGluIHRoZSBjYXRhbG9nJyk7XG5cbiAgICAgIHRoaXMubG9jYWxlID0gbG9jYWxlO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLy8gQWRkIGEgbmV3IG1lc3NhZ2VzIGNhdGFsb2cgZm9yIGEgZ2l2ZW4gbG9jYWxlLiBTZXQgbG9jYWxlIGZvciB0aGlzIGNhdGFsb2cgaWYgc2V0ID09PSBgdHJ1ZWBcbiAgICBhZGRDYXRhbG9nOiBmdW5jdGlvbiBhZGRDYXRhbG9nKGxvY2FsZSwgbWVzc2FnZXMsIHNldCkge1xuICAgICAgaWYgKCdvYmplY3QnID09PSB0eXBlb2YgbWVzc2FnZXMpIHRoaXMuY2F0YWxvZ1tsb2NhbGVdID0gbWVzc2FnZXM7XG5cbiAgICAgIGlmICh0cnVlID09PSBzZXQpIHJldHVybiB0aGlzLnNldExvY2FsZShsb2NhbGUpO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLy8gQWRkIGEgc3BlY2lmaWMgbWVzc2FnZSBmb3IgYSBnaXZlbiBjb25zdHJhaW50IGluIGEgZ2l2ZW4gbG9jYWxlXG4gICAgYWRkTWVzc2FnZTogZnVuY3Rpb24gYWRkTWVzc2FnZShsb2NhbGUsIG5hbWUsIG1lc3NhZ2UpIHtcbiAgICAgIGlmICgndW5kZWZpbmVkJyA9PT0gdHlwZW9mIHRoaXMuY2F0YWxvZ1tsb2NhbGVdKSB0aGlzLmNhdGFsb2dbbG9jYWxlXSA9IHt9O1xuXG4gICAgICB0aGlzLmNhdGFsb2dbbG9jYWxlXVtuYW1lXSA9IG1lc3NhZ2U7XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvLyBBZGQgbWVzc2FnZXMgZm9yIGEgZ2l2ZW4gbG9jYWxlXG4gICAgYWRkTWVzc2FnZXM6IGZ1bmN0aW9uIGFkZE1lc3NhZ2VzKGxvY2FsZSwgbmFtZU1lc3NhZ2VPYmplY3QpIHtcbiAgICAgIGZvciAodmFyIG5hbWUgaW4gbmFtZU1lc3NhZ2VPYmplY3QpIHRoaXMuYWRkTWVzc2FnZShsb2NhbGUsIG5hbWUsIG5hbWVNZXNzYWdlT2JqZWN0W25hbWVdKTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8vIEFkZCBhIG5ldyB2YWxpZGF0b3JcbiAgICAvL1xuICAgIC8vICAgIGFkZFZhbGlkYXRvcignY3VzdG9tJywge1xuICAgIC8vICAgICAgICByZXF1aXJlbWVudFR5cGU6IFsnaW50ZWdlcicsICdpbnRlZ2VyJ10sXG4gICAgLy8gICAgICAgIHZhbGlkYXRlU3RyaW5nOiBmdW5jdGlvbih2YWx1ZSwgZnJvbSwgdG8pIHt9LFxuICAgIC8vICAgICAgICBwcmlvcml0eTogMjIsXG4gICAgLy8gICAgICAgIG1lc3NhZ2VzOiB7XG4gICAgLy8gICAgICAgICAgZW46IFwiSGV5LCB0aGF0J3Mgbm8gZ29vZFwiLFxuICAgIC8vICAgICAgICAgIGZyOiBcIkF5ZSBheWUsIHBhcyBib24gZHUgdG91dFwiLFxuICAgIC8vICAgICAgICB9XG4gICAgLy8gICAgfSlcbiAgICAvL1xuICAgIC8vIE9sZCBBUEkgd2FzIGFkZFZhbGlkYXRvcihuYW1lLCBmdW5jdGlvbiwgcHJpb3JpdHkpXG4gICAgLy9cbiAgICBhZGRWYWxpZGF0b3I6IGZ1bmN0aW9uIGFkZFZhbGlkYXRvcihuYW1lLCBhcmcxLCBhcmcyKSB7XG4gICAgICBpZiAodGhpcy52YWxpZGF0b3JzW25hbWVdKSBQYXJzbGV5VXRpbHNfX2RlZmF1bHQud2FybignVmFsaWRhdG9yIFwiJyArIG5hbWUgKyAnXCIgaXMgYWxyZWFkeSBkZWZpbmVkLicpO2Vsc2UgaWYgKFBhcnNsZXlEZWZhdWx0cy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBQYXJzbGV5VXRpbHNfX2RlZmF1bHQud2FybignXCInICsgbmFtZSArICdcIiBpcyBhIHJlc3RyaWN0ZWQga2V5d29yZCBhbmQgaXMgbm90IGEgdmFsaWQgdmFsaWRhdG9yIG5hbWUuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9zZXRWYWxpZGF0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9LFxuXG4gICAgdXBkYXRlVmFsaWRhdG9yOiBmdW5jdGlvbiB1cGRhdGVWYWxpZGF0b3IobmFtZSwgYXJnMSwgYXJnMikge1xuICAgICAgaWYgKCF0aGlzLnZhbGlkYXRvcnNbbmFtZV0pIHtcbiAgICAgICAgUGFyc2xleVV0aWxzX19kZWZhdWx0Lndhcm4oJ1ZhbGlkYXRvciBcIicgKyBuYW1lICsgJ1wiIGlzIG5vdCBhbHJlYWR5IGRlZmluZWQuJyk7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZFZhbGlkYXRvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX3NldFZhbGlkYXRvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH0sXG5cbiAgICByZW1vdmVWYWxpZGF0b3I6IGZ1bmN0aW9uIHJlbW92ZVZhbGlkYXRvcihuYW1lKSB7XG4gICAgICBpZiAoIXRoaXMudmFsaWRhdG9yc1tuYW1lXSkgUGFyc2xleVV0aWxzX19kZWZhdWx0Lndhcm4oJ1ZhbGlkYXRvciBcIicgKyBuYW1lICsgJ1wiIGlzIG5vdCBkZWZpbmVkLicpO1xuXG4gICAgICBkZWxldGUgdGhpcy52YWxpZGF0b3JzW25hbWVdO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgX3NldFZhbGlkYXRvcjogZnVuY3Rpb24gX3NldFZhbGlkYXRvcihuYW1lLCB2YWxpZGF0b3IsIHByaW9yaXR5KSB7XG4gICAgICBpZiAoJ29iamVjdCcgIT09IHR5cGVvZiB2YWxpZGF0b3IpIHtcbiAgICAgICAgLy8gT2xkIHN0eWxlIHZhbGlkYXRvciwgd2l0aCBgZm5gIGFuZCBgcHJpb3JpdHlgXG4gICAgICAgIHZhbGlkYXRvciA9IHtcbiAgICAgICAgICBmbjogdmFsaWRhdG9yLFxuICAgICAgICAgIHByaW9yaXR5OiBwcmlvcml0eVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKCF2YWxpZGF0b3IudmFsaWRhdGUpIHtcbiAgICAgICAgdmFsaWRhdG9yID0gbmV3IFBhcnNsZXlWYWxpZGF0b3IodmFsaWRhdG9yKTtcbiAgICAgIH1cbiAgICAgIHRoaXMudmFsaWRhdG9yc1tuYW1lXSA9IHZhbGlkYXRvcjtcblxuICAgICAgZm9yICh2YXIgbG9jYWxlIGluIHZhbGlkYXRvci5tZXNzYWdlcyB8fCB7fSkgdGhpcy5hZGRNZXNzYWdlKGxvY2FsZSwgbmFtZSwgdmFsaWRhdG9yLm1lc3NhZ2VzW2xvY2FsZV0pO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgZ2V0RXJyb3JNZXNzYWdlOiBmdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UoY29uc3RyYWludCkge1xuICAgICAgdmFyIG1lc3NhZ2U7XG5cbiAgICAgIC8vIFR5cGUgY29uc3RyYWludHMgYXJlIGEgYml0IGRpZmZlcmVudCwgd2UgaGF2ZSB0byBtYXRjaCB0aGVpciByZXF1aXJlbWVudHMgdG9vIHRvIGZpbmQgcmlnaHQgZXJyb3IgbWVzc2FnZVxuICAgICAgaWYgKCd0eXBlJyA9PT0gY29uc3RyYWludC5uYW1lKSB7XG4gICAgICAgIHZhciB0eXBlTWVzc2FnZXMgPSB0aGlzLmNhdGFsb2dbdGhpcy5sb2NhbGVdW2NvbnN0cmFpbnQubmFtZV0gfHwge307XG4gICAgICAgIG1lc3NhZ2UgPSB0eXBlTWVzc2FnZXNbY29uc3RyYWludC5yZXF1aXJlbWVudHNdO1xuICAgICAgfSBlbHNlIG1lc3NhZ2UgPSB0aGlzLmZvcm1hdE1lc3NhZ2UodGhpcy5jYXRhbG9nW3RoaXMubG9jYWxlXVtjb25zdHJhaW50Lm5hbWVdLCBjb25zdHJhaW50LnJlcXVpcmVtZW50cyk7XG5cbiAgICAgIHJldHVybiBtZXNzYWdlIHx8IHRoaXMuY2F0YWxvZ1t0aGlzLmxvY2FsZV0uZGVmYXVsdE1lc3NhZ2UgfHwgdGhpcy5jYXRhbG9nLmVuLmRlZmF1bHRNZXNzYWdlO1xuICAgIH0sXG5cbiAgICAvLyBLaW5kIG9mIGxpZ2h0IGBzcHJpbnRmKClgIGltcGxlbWVudGF0aW9uXG4gICAgZm9ybWF0TWVzc2FnZTogZnVuY3Rpb24gZm9ybWF0TWVzc2FnZShzdHJpbmcsIHBhcmFtZXRlcnMpIHtcbiAgICAgIGlmICgnb2JqZWN0JyA9PT0gdHlwZW9mIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBwYXJhbWV0ZXJzKSBzdHJpbmcgPSB0aGlzLmZvcm1hdE1lc3NhZ2Uoc3RyaW5nLCBwYXJhbWV0ZXJzW2ldKTtcblxuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gJ3N0cmluZycgPT09IHR5cGVvZiBzdHJpbmcgPyBzdHJpbmcucmVwbGFjZSgvJXMvaSwgcGFyYW1ldGVycykgOiAnJztcbiAgICB9LFxuXG4gICAgLy8gSGVyZSBpcyB0aGUgUGFyc2xleSBkZWZhdWx0IHZhbGlkYXRvcnMgbGlzdC5cbiAgICAvLyBBIHZhbGlkYXRvciBpcyBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIGtleSB2YWx1ZXM6XG4gICAgLy8gIC0gcHJpb3JpdHk6IGFuIGludGVnZXJcbiAgICAvLyAgLSByZXF1aXJlbWVudDogJ3N0cmluZycgKGRlZmF1bHQpLCAnaW50ZWdlcicsICdudW1iZXInLCAncmVnZXhwJyBvciBhbiBBcnJheSBvZiB0aGVzZVxuICAgIC8vICAtIHZhbGlkYXRlU3RyaW5nLCB2YWxpZGF0ZU11bHRpcGxlLCB2YWxpZGF0ZU51bWJlcjogZnVuY3Rpb25zIHJldHVybmluZyBgdHJ1ZWAsIGBmYWxzZWAgb3IgYSBwcm9taXNlXG4gICAgLy8gQWx0ZXJuYXRpdmVseSwgYSB2YWxpZGF0b3IgY2FuIGJlIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHN1Y2ggYW4gb2JqZWN0XG4gICAgLy9cbiAgICB2YWxpZGF0b3JzOiB7XG4gICAgICBub3RibGFuazoge1xuICAgICAgICB2YWxpZGF0ZVN0cmluZzogZnVuY3Rpb24gdmFsaWRhdGVTdHJpbmcodmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gKC9cXFMvLnRlc3QodmFsdWUpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgcHJpb3JpdHk6IDJcbiAgICAgIH0sXG4gICAgICByZXF1aXJlZDoge1xuICAgICAgICB2YWxpZGF0ZU11bHRpcGxlOiBmdW5jdGlvbiB2YWxpZGF0ZU11bHRpcGxlKHZhbHVlcykge1xuICAgICAgICAgIHJldHVybiB2YWx1ZXMubGVuZ3RoID4gMDtcbiAgICAgICAgfSxcbiAgICAgICAgdmFsaWRhdGVTdHJpbmc6IGZ1bmN0aW9uIHZhbGlkYXRlU3RyaW5nKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuICgvXFxTLy50ZXN0KHZhbHVlKVxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIHByaW9yaXR5OiA1MTJcbiAgICAgIH0sXG4gICAgICB0eXBlOiB7XG4gICAgICAgIHZhbGlkYXRlU3RyaW5nOiBmdW5jdGlvbiB2YWxpZGF0ZVN0cmluZyh2YWx1ZSwgdHlwZSkge1xuICAgICAgICAgIHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMl07XG5cbiAgICAgICAgICB2YXIgX3JlZiRzdGVwID0gX3JlZi5zdGVwO1xuICAgICAgICAgIHZhciBzdGVwID0gX3JlZiRzdGVwID09PSB1bmRlZmluZWQgPyAnYW55JyA6IF9yZWYkc3RlcDtcbiAgICAgICAgICB2YXIgX3JlZiRiYXNlID0gX3JlZi5iYXNlO1xuICAgICAgICAgIHZhciBiYXNlID0gX3JlZiRiYXNlID09PSB1bmRlZmluZWQgPyAwIDogX3JlZiRiYXNlO1xuXG4gICAgICAgICAgdmFyIHJlZ2V4ID0gdHlwZVJlZ2V4ZXNbdHlwZV07XG4gICAgICAgICAgaWYgKCFyZWdleCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd2YWxpZGF0b3IgdHlwZSBgJyArIHR5cGUgKyAnYCBpcyBub3Qgc3VwcG9ydGVkJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghcmVnZXgudGVzdCh2YWx1ZSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICBpZiAoJ251bWJlcicgPT09IHR5cGUpIHtcbiAgICAgICAgICAgIGlmICghL15hbnkkL2kudGVzdChzdGVwIHx8ICcnKSkge1xuICAgICAgICAgICAgICB2YXIgbmIgPSBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgICB2YXIgZGVjaW1hbHMgPSBNYXRoLm1heChkZWNpbWFsUGxhY2VzKHN0ZXApLCBkZWNpbWFsUGxhY2VzKGJhc2UpKTtcbiAgICAgICAgICAgICAgaWYgKGRlY2ltYWxQbGFjZXMobmIpID4gZGVjaW1hbHMpIC8vIFZhbHVlIGNhbid0IGhhdmUgdG9vIG1hbnkgZGVjaW1hbHNcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIC8vIEJlIGNhcmVmdWwgb2Ygcm91bmRpbmcgZXJyb3JzIGJ5IHVzaW5nIGludGVnZXJzLlxuICAgICAgICAgICAgICB2YXIgdG9JbnQgPSBmdW5jdGlvbiB0b0ludChmKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoZiAqIE1hdGgucG93KDEwLCBkZWNpbWFscykpO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBpZiAoKHRvSW50KG5iKSAtIHRvSW50KGJhc2UpKSAlIHRvSW50KHN0ZXApICE9IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIHJlcXVpcmVtZW50VHlwZToge1xuICAgICAgICAgICcnOiAnc3RyaW5nJyxcbiAgICAgICAgICBzdGVwOiAnc3RyaW5nJyxcbiAgICAgICAgICBiYXNlOiAnbnVtYmVyJ1xuICAgICAgICB9LFxuICAgICAgICBwcmlvcml0eTogMjU2XG4gICAgICB9LFxuICAgICAgcGF0dGVybjoge1xuICAgICAgICB2YWxpZGF0ZVN0cmluZzogZnVuY3Rpb24gdmFsaWRhdGVTdHJpbmcodmFsdWUsIHJlZ2V4cCkge1xuICAgICAgICAgIHJldHVybiByZWdleHAudGVzdCh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlcXVpcmVtZW50VHlwZTogJ3JlZ2V4cCcsXG4gICAgICAgIHByaW9yaXR5OiA2NFxuICAgICAgfSxcbiAgICAgIG1pbmxlbmd0aDoge1xuICAgICAgICB2YWxpZGF0ZVN0cmluZzogZnVuY3Rpb24gdmFsaWRhdGVTdHJpbmcodmFsdWUsIHJlcXVpcmVtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlLmxlbmd0aCA+PSByZXF1aXJlbWVudDtcbiAgICAgICAgfSxcbiAgICAgICAgcmVxdWlyZW1lbnRUeXBlOiAnaW50ZWdlcicsXG4gICAgICAgIHByaW9yaXR5OiAzMFxuICAgICAgfSxcbiAgICAgIG1heGxlbmd0aDoge1xuICAgICAgICB2YWxpZGF0ZVN0cmluZzogZnVuY3Rpb24gdmFsaWRhdGVTdHJpbmcodmFsdWUsIHJlcXVpcmVtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlLmxlbmd0aCA8PSByZXF1aXJlbWVudDtcbiAgICAgICAgfSxcbiAgICAgICAgcmVxdWlyZW1lbnRUeXBlOiAnaW50ZWdlcicsXG4gICAgICAgIHByaW9yaXR5OiAzMFxuICAgICAgfSxcbiAgICAgIGxlbmd0aDoge1xuICAgICAgICB2YWxpZGF0ZVN0cmluZzogZnVuY3Rpb24gdmFsaWRhdGVTdHJpbmcodmFsdWUsIG1pbiwgbWF4KSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlLmxlbmd0aCA+PSBtaW4gJiYgdmFsdWUubGVuZ3RoIDw9IG1heDtcbiAgICAgICAgfSxcbiAgICAgICAgcmVxdWlyZW1lbnRUeXBlOiBbJ2ludGVnZXInLCAnaW50ZWdlciddLFxuICAgICAgICBwcmlvcml0eTogMzBcbiAgICAgIH0sXG4gICAgICBtaW5jaGVjazoge1xuICAgICAgICB2YWxpZGF0ZU11bHRpcGxlOiBmdW5jdGlvbiB2YWxpZGF0ZU11bHRpcGxlKHZhbHVlcywgcmVxdWlyZW1lbnQpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWVzLmxlbmd0aCA+PSByZXF1aXJlbWVudDtcbiAgICAgICAgfSxcbiAgICAgICAgcmVxdWlyZW1lbnRUeXBlOiAnaW50ZWdlcicsXG4gICAgICAgIHByaW9yaXR5OiAzMFxuICAgICAgfSxcbiAgICAgIG1heGNoZWNrOiB7XG4gICAgICAgIHZhbGlkYXRlTXVsdGlwbGU6IGZ1bmN0aW9uIHZhbGlkYXRlTXVsdGlwbGUodmFsdWVzLCByZXF1aXJlbWVudCkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZXMubGVuZ3RoIDw9IHJlcXVpcmVtZW50O1xuICAgICAgICB9LFxuICAgICAgICByZXF1aXJlbWVudFR5cGU6ICdpbnRlZ2VyJyxcbiAgICAgICAgcHJpb3JpdHk6IDMwXG4gICAgICB9LFxuICAgICAgY2hlY2s6IHtcbiAgICAgICAgdmFsaWRhdGVNdWx0aXBsZTogZnVuY3Rpb24gdmFsaWRhdGVNdWx0aXBsZSh2YWx1ZXMsIG1pbiwgbWF4KSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlcy5sZW5ndGggPj0gbWluICYmIHZhbHVlcy5sZW5ndGggPD0gbWF4O1xuICAgICAgICB9LFxuICAgICAgICByZXF1aXJlbWVudFR5cGU6IFsnaW50ZWdlcicsICdpbnRlZ2VyJ10sXG4gICAgICAgIHByaW9yaXR5OiAzMFxuICAgICAgfSxcbiAgICAgIG1pbjoge1xuICAgICAgICB2YWxpZGF0ZU51bWJlcjogZnVuY3Rpb24gdmFsaWRhdGVOdW1iZXIodmFsdWUsIHJlcXVpcmVtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlID49IHJlcXVpcmVtZW50O1xuICAgICAgICB9LFxuICAgICAgICByZXF1aXJlbWVudFR5cGU6ICdudW1iZXInLFxuICAgICAgICBwcmlvcml0eTogMzBcbiAgICAgIH0sXG4gICAgICBtYXg6IHtcbiAgICAgICAgdmFsaWRhdGVOdW1iZXI6IGZ1bmN0aW9uIHZhbGlkYXRlTnVtYmVyKHZhbHVlLCByZXF1aXJlbWVudCkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZSA8PSByZXF1aXJlbWVudDtcbiAgICAgICAgfSxcbiAgICAgICAgcmVxdWlyZW1lbnRUeXBlOiAnbnVtYmVyJyxcbiAgICAgICAgcHJpb3JpdHk6IDMwXG4gICAgICB9LFxuICAgICAgcmFuZ2U6IHtcbiAgICAgICAgdmFsaWRhdGVOdW1iZXI6IGZ1bmN0aW9uIHZhbGlkYXRlTnVtYmVyKHZhbHVlLCBtaW4sIG1heCkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZSA+PSBtaW4gJiYgdmFsdWUgPD0gbWF4O1xuICAgICAgICB9LFxuICAgICAgICByZXF1aXJlbWVudFR5cGU6IFsnbnVtYmVyJywgJ251bWJlciddLFxuICAgICAgICBwcmlvcml0eTogMzBcbiAgICAgIH0sXG4gICAgICBlcXVhbHRvOiB7XG4gICAgICAgIHZhbGlkYXRlU3RyaW5nOiBmdW5jdGlvbiB2YWxpZGF0ZVN0cmluZyh2YWx1ZSwgcmVmT3JWYWx1ZSkge1xuICAgICAgICAgIHZhciAkcmVmZXJlbmNlID0gJChyZWZPclZhbHVlKTtcbiAgICAgICAgICBpZiAoJHJlZmVyZW5jZS5sZW5ndGgpIHJldHVybiB2YWx1ZSA9PT0gJHJlZmVyZW5jZS52YWwoKTtlbHNlIHJldHVybiB2YWx1ZSA9PT0gcmVmT3JWYWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgcHJpb3JpdHk6IDI1NlxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgUGFyc2xleVVJID0ge307XG5cbiAgdmFyIGRpZmZSZXN1bHRzID0gZnVuY3Rpb24gZGlmZlJlc3VsdHMobmV3UmVzdWx0LCBvbGRSZXN1bHQsIGRlZXApIHtcbiAgICB2YXIgYWRkZWQgPSBbXTtcbiAgICB2YXIga2VwdCA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdSZXN1bHQubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBmb3VuZCA9IGZhbHNlO1xuXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9sZFJlc3VsdC5sZW5ndGg7IGorKykgaWYgKG5ld1Jlc3VsdFtpXS5hc3NlcnQubmFtZSA9PT0gb2xkUmVzdWx0W2pdLmFzc2VydC5uYW1lKSB7XG4gICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGlmIChmb3VuZCkga2VwdC5wdXNoKG5ld1Jlc3VsdFtpXSk7ZWxzZSBhZGRlZC5wdXNoKG5ld1Jlc3VsdFtpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGtlcHQ6IGtlcHQsXG4gICAgICBhZGRlZDogYWRkZWQsXG4gICAgICByZW1vdmVkOiAhZGVlcCA/IGRpZmZSZXN1bHRzKG9sZFJlc3VsdCwgbmV3UmVzdWx0LCB0cnVlKS5hZGRlZCA6IFtdXG4gICAgfTtcbiAgfTtcblxuICBQYXJzbGV5VUkuRm9ybSA9IHtcblxuICAgIF9hY3R1YWxpemVUcmlnZ2VyczogZnVuY3Rpb24gX2FjdHVhbGl6ZVRyaWdnZXJzKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHRoaXMuJGVsZW1lbnQub24oJ3N1Ym1pdC5QYXJzbGV5JywgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICBfdGhpczIub25TdWJtaXRWYWxpZGF0ZShldnQpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLiRlbGVtZW50Lm9uKCdjbGljay5QYXJzbGV5JywgUGFyc2xleVV0aWxzX19kZWZhdWx0Ll9TdWJtaXRTZWxlY3RvciwgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICBfdGhpczIub25TdWJtaXRCdXR0b24oZXZ0KTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBVSSBjb3VsZCBiZSBkaXNhYmxlZFxuICAgICAgaWYgKGZhbHNlID09PSB0aGlzLm9wdGlvbnMudWlFbmFibGVkKSByZXR1cm47XG5cbiAgICAgIHRoaXMuJGVsZW1lbnQuYXR0cignbm92YWxpZGF0ZScsICcnKTtcbiAgICB9LFxuXG4gICAgZm9jdXM6IGZ1bmN0aW9uIGZvY3VzKCkge1xuICAgICAgdGhpcy5fZm9jdXNlZEZpZWxkID0gbnVsbDtcblxuICAgICAgaWYgKHRydWUgPT09IHRoaXMudmFsaWRhdGlvblJlc3VsdCB8fCAnbm9uZScgPT09IHRoaXMub3B0aW9ucy5mb2N1cykgcmV0dXJuIG51bGw7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5maWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5maWVsZHNbaV07XG4gICAgICAgIGlmICh0cnVlICE9PSBmaWVsZC52YWxpZGF0aW9uUmVzdWx0ICYmIGZpZWxkLnZhbGlkYXRpb25SZXN1bHQubGVuZ3RoID4gMCAmJiAndW5kZWZpbmVkJyA9PT0gdHlwZW9mIGZpZWxkLm9wdGlvbnMubm9Gb2N1cykge1xuICAgICAgICAgIHRoaXMuX2ZvY3VzZWRGaWVsZCA9IGZpZWxkLiRlbGVtZW50O1xuICAgICAgICAgIGlmICgnZmlyc3QnID09PSB0aGlzLm9wdGlvbnMuZm9jdXMpIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChudWxsID09PSB0aGlzLl9mb2N1c2VkRmllbGQpIHJldHVybiBudWxsO1xuXG4gICAgICByZXR1cm4gdGhpcy5fZm9jdXNlZEZpZWxkLmZvY3VzKCk7XG4gICAgfSxcblxuICAgIF9kZXN0cm95VUk6IGZ1bmN0aW9uIF9kZXN0cm95VUkoKSB7XG4gICAgICAvLyBSZXNldCBhbGwgZXZlbnQgbGlzdGVuZXJzXG4gICAgICB0aGlzLiRlbGVtZW50Lm9mZignLlBhcnNsZXknKTtcbiAgICB9XG5cbiAgfTtcblxuICBQYXJzbGV5VUkuRmllbGQgPSB7XG5cbiAgICBfcmVmbG93VUk6IGZ1bmN0aW9uIF9yZWZsb3dVSSgpIHtcbiAgICAgIHRoaXMuX2J1aWxkVUkoKTtcblxuICAgICAgLy8gSWYgdGhpcyBmaWVsZCBkb2Vzbid0IGhhdmUgYW4gYWN0aXZlIFVJIGRvbid0IGJvdGhlciBkb2luZyBzb21ldGhpbmdcbiAgICAgIGlmICghdGhpcy5fdWkpIHJldHVybjtcblxuICAgICAgLy8gRGlmZiBiZXR3ZWVuIHR3byB2YWxpZGF0aW9uIHJlc3VsdHNcbiAgICAgIHZhciBkaWZmID0gZGlmZlJlc3VsdHModGhpcy52YWxpZGF0aW9uUmVzdWx0LCB0aGlzLl91aS5sYXN0VmFsaWRhdGlvblJlc3VsdCk7XG5cbiAgICAgIC8vIFRoZW4gc3RvcmUgY3VycmVudCB2YWxpZGF0aW9uIHJlc3VsdCBmb3IgbmV4dCByZWZsb3dcbiAgICAgIHRoaXMuX3VpLmxhc3RWYWxpZGF0aW9uUmVzdWx0ID0gdGhpcy52YWxpZGF0aW9uUmVzdWx0O1xuXG4gICAgICAvLyBIYW5kbGUgdmFsaWQgLyBpbnZhbGlkIC8gbm9uZSBmaWVsZCBjbGFzc1xuICAgICAgdGhpcy5fbWFuYWdlU3RhdHVzQ2xhc3MoKTtcblxuICAgICAgLy8gQWRkLCByZW1vdmUsIHVwZGF0ZWQgZXJyb3JzIG1lc3NhZ2VzXG4gICAgICB0aGlzLl9tYW5hZ2VFcnJvcnNNZXNzYWdlcyhkaWZmKTtcblxuICAgICAgLy8gVHJpZ2dlcnMgaW1wbFxuICAgICAgdGhpcy5fYWN0dWFsaXplVHJpZ2dlcnMoKTtcblxuICAgICAgLy8gSWYgZmllbGQgaXMgbm90IHZhbGlkIGZvciB0aGUgZmlyc3QgdGltZSwgYmluZCBrZXl1cCB0cmlnZ2VyIHRvIGVhc2UgVVggYW5kIHF1aWNrbHkgaW5mb3JtIHVzZXJcbiAgICAgIGlmICgoZGlmZi5rZXB0Lmxlbmd0aCB8fCBkaWZmLmFkZGVkLmxlbmd0aCkgJiYgIXRoaXMuX2ZhaWxlZE9uY2UpIHtcbiAgICAgICAgdGhpcy5fZmFpbGVkT25jZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX2FjdHVhbGl6ZVRyaWdnZXJzKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgYW4gYXJyYXkgb2YgZmllbGQncyBlcnJvciBtZXNzYWdlKHMpXG4gICAgZ2V0RXJyb3JzTWVzc2FnZXM6IGZ1bmN0aW9uIGdldEVycm9yc01lc3NhZ2VzKCkge1xuICAgICAgLy8gTm8gZXJyb3IgbWVzc2FnZSwgZmllbGQgaXMgdmFsaWRcbiAgICAgIGlmICh0cnVlID09PSB0aGlzLnZhbGlkYXRpb25SZXN1bHQpIHJldHVybiBbXTtcblxuICAgICAgdmFyIG1lc3NhZ2VzID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy52YWxpZGF0aW9uUmVzdWx0Lmxlbmd0aDsgaSsrKSBtZXNzYWdlcy5wdXNoKHRoaXMudmFsaWRhdGlvblJlc3VsdFtpXS5lcnJvck1lc3NhZ2UgfHwgdGhpcy5fZ2V0RXJyb3JNZXNzYWdlKHRoaXMudmFsaWRhdGlvblJlc3VsdFtpXS5hc3NlcnQpKTtcblxuICAgICAgcmV0dXJuIG1lc3NhZ2VzO1xuICAgIH0sXG5cbiAgICAvLyBJdCdzIGEgZ29hbCBvZiBQYXJzbGV5IHRoYXQgdGhpcyBtZXRob2QgaXMgbm8gbG9uZ2VyIHJlcXVpcmVkIFsjMTA3M11cbiAgICBhZGRFcnJvcjogZnVuY3Rpb24gYWRkRXJyb3IobmFtZSkge1xuICAgICAgdmFyIF9yZWYyID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIHZhciBtZXNzYWdlID0gX3JlZjIubWVzc2FnZTtcbiAgICAgIHZhciBhc3NlcnQgPSBfcmVmMi5hc3NlcnQ7XG4gICAgICB2YXIgX3JlZjIkdXBkYXRlQ2xhc3MgPSBfcmVmMi51cGRhdGVDbGFzcztcbiAgICAgIHZhciB1cGRhdGVDbGFzcyA9IF9yZWYyJHVwZGF0ZUNsYXNzID09PSB1bmRlZmluZWQgPyB0cnVlIDogX3JlZjIkdXBkYXRlQ2xhc3M7XG5cbiAgICAgIHRoaXMuX2J1aWxkVUkoKTtcbiAgICAgIHRoaXMuX2FkZEVycm9yKG5hbWUsIHsgbWVzc2FnZTogbWVzc2FnZSwgYXNzZXJ0OiBhc3NlcnQgfSk7XG5cbiAgICAgIGlmICh1cGRhdGVDbGFzcykgdGhpcy5fZXJyb3JDbGFzcygpO1xuICAgIH0sXG5cbiAgICAvLyBJdCdzIGEgZ29hbCBvZiBQYXJzbGV5IHRoYXQgdGhpcyBtZXRob2QgaXMgbm8gbG9uZ2VyIHJlcXVpcmVkIFsjMTA3M11cbiAgICB1cGRhdGVFcnJvcjogZnVuY3Rpb24gdXBkYXRlRXJyb3IobmFtZSkge1xuICAgICAgdmFyIF9yZWYzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIHZhciBtZXNzYWdlID0gX3JlZjMubWVzc2FnZTtcbiAgICAgIHZhciBhc3NlcnQgPSBfcmVmMy5hc3NlcnQ7XG4gICAgICB2YXIgX3JlZjMkdXBkYXRlQ2xhc3MgPSBfcmVmMy51cGRhdGVDbGFzcztcbiAgICAgIHZhciB1cGRhdGVDbGFzcyA9IF9yZWYzJHVwZGF0ZUNsYXNzID09PSB1bmRlZmluZWQgPyB0cnVlIDogX3JlZjMkdXBkYXRlQ2xhc3M7XG5cbiAgICAgIHRoaXMuX2J1aWxkVUkoKTtcbiAgICAgIHRoaXMuX3VwZGF0ZUVycm9yKG5hbWUsIHsgbWVzc2FnZTogbWVzc2FnZSwgYXNzZXJ0OiBhc3NlcnQgfSk7XG5cbiAgICAgIGlmICh1cGRhdGVDbGFzcykgdGhpcy5fZXJyb3JDbGFzcygpO1xuICAgIH0sXG5cbiAgICAvLyBJdCdzIGEgZ29hbCBvZiBQYXJzbGV5IHRoYXQgdGhpcyBtZXRob2QgaXMgbm8gbG9uZ2VyIHJlcXVpcmVkIFsjMTA3M11cbiAgICByZW1vdmVFcnJvcjogZnVuY3Rpb24gcmVtb3ZlRXJyb3IobmFtZSkge1xuICAgICAgdmFyIF9yZWY0ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIHZhciBfcmVmNCR1cGRhdGVDbGFzcyA9IF9yZWY0LnVwZGF0ZUNsYXNzO1xuICAgICAgdmFyIHVwZGF0ZUNsYXNzID0gX3JlZjQkdXBkYXRlQ2xhc3MgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBfcmVmNCR1cGRhdGVDbGFzcztcblxuICAgICAgdGhpcy5fYnVpbGRVSSgpO1xuICAgICAgdGhpcy5fcmVtb3ZlRXJyb3IobmFtZSk7XG5cbiAgICAgIC8vIGVkZ2UgY2FzZSBwb3NzaWJsZSBoZXJlOiByZW1vdmUgYSBzdGFuZGFyZCBQYXJzbGV5IGVycm9yIHRoYXQgaXMgc3RpbGwgZmFpbGluZyBpbiB0aGlzLnZhbGlkYXRpb25SZXN1bHRcbiAgICAgIC8vIGJ1dCBoaWdobHkgaW1wcm9iYWJsZSBjdXonIG1hbnVhbGx5IHJlbW92aW5nIGEgd2VsbCBQYXJzbGV5IGhhbmRsZWQgZXJyb3IgbWFrZXMgbm8gc2Vuc2UuXG4gICAgICBpZiAodXBkYXRlQ2xhc3MpIHRoaXMuX21hbmFnZVN0YXR1c0NsYXNzKCk7XG4gICAgfSxcblxuICAgIF9tYW5hZ2VTdGF0dXNDbGFzczogZnVuY3Rpb24gX21hbmFnZVN0YXR1c0NsYXNzKCkge1xuICAgICAgaWYgKHRoaXMuaGFzQ29uc3RyYWludHMoKSAmJiB0aGlzLm5lZWRzVmFsaWRhdGlvbigpICYmIHRydWUgPT09IHRoaXMudmFsaWRhdGlvblJlc3VsdCkgdGhpcy5fc3VjY2Vzc0NsYXNzKCk7ZWxzZSBpZiAodGhpcy52YWxpZGF0aW9uUmVzdWx0Lmxlbmd0aCA+IDApIHRoaXMuX2Vycm9yQ2xhc3MoKTtlbHNlIHRoaXMuX3Jlc2V0Q2xhc3MoKTtcbiAgICB9LFxuXG4gICAgX21hbmFnZUVycm9yc01lc3NhZ2VzOiBmdW5jdGlvbiBfbWFuYWdlRXJyb3JzTWVzc2FnZXMoZGlmZikge1xuICAgICAgaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgdGhpcy5vcHRpb25zLmVycm9yc01lc3NhZ2VzRGlzYWJsZWQpIHJldHVybjtcblxuICAgICAgLy8gQ2FzZSB3aGVyZSB3ZSBoYXZlIGVycm9yTWVzc2FnZSBvcHRpb24gdGhhdCBjb25maWd1cmUgYW4gdW5pcXVlIGZpZWxkIGVycm9yIG1lc3NhZ2UsIHJlZ2FyZGxlc3MgZmFpbGluZyB2YWxpZGF0b3JzXG4gICAgICBpZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiB0aGlzLm9wdGlvbnMuZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgIGlmIChkaWZmLmFkZGVkLmxlbmd0aCB8fCBkaWZmLmtlcHQubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5faW5zZXJ0RXJyb3JXcmFwcGVyKCk7XG5cbiAgICAgICAgICBpZiAoMCA9PT0gdGhpcy5fdWkuJGVycm9yc1dyYXBwZXIuZmluZCgnLnBhcnNsZXktY3VzdG9tLWVycm9yLW1lc3NhZ2UnKS5sZW5ndGgpIHRoaXMuX3VpLiRlcnJvcnNXcmFwcGVyLmFwcGVuZCgkKHRoaXMub3B0aW9ucy5lcnJvclRlbXBsYXRlKS5hZGRDbGFzcygncGFyc2xleS1jdXN0b20tZXJyb3ItbWVzc2FnZScpKTtcblxuICAgICAgICAgIHJldHVybiB0aGlzLl91aS4kZXJyb3JzV3JhcHBlci5hZGRDbGFzcygnZmlsbGVkJykuZmluZCgnLnBhcnNsZXktY3VzdG9tLWVycm9yLW1lc3NhZ2UnKS5odG1sKHRoaXMub3B0aW9ucy5lcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3VpLiRlcnJvcnNXcmFwcGVyLnJlbW92ZUNsYXNzKCdmaWxsZWQnKS5maW5kKCcucGFyc2xleS1jdXN0b20tZXJyb3ItbWVzc2FnZScpLnJlbW92ZSgpO1xuICAgICAgfVxuXG4gICAgICAvLyBTaG93LCBoaWRlLCB1cGRhdGUgZmFpbGluZyBjb25zdHJhaW50cyBtZXNzYWdlc1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaWZmLnJlbW92ZWQubGVuZ3RoOyBpKyspIHRoaXMuX3JlbW92ZUVycm9yKGRpZmYucmVtb3ZlZFtpXS5hc3NlcnQubmFtZSk7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBkaWZmLmFkZGVkLmxlbmd0aDsgaSsrKSB0aGlzLl9hZGRFcnJvcihkaWZmLmFkZGVkW2ldLmFzc2VydC5uYW1lLCB7IG1lc3NhZ2U6IGRpZmYuYWRkZWRbaV0uZXJyb3JNZXNzYWdlLCBhc3NlcnQ6IGRpZmYuYWRkZWRbaV0uYXNzZXJ0IH0pO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgZGlmZi5rZXB0Lmxlbmd0aDsgaSsrKSB0aGlzLl91cGRhdGVFcnJvcihkaWZmLmtlcHRbaV0uYXNzZXJ0Lm5hbWUsIHsgbWVzc2FnZTogZGlmZi5rZXB0W2ldLmVycm9yTWVzc2FnZSwgYXNzZXJ0OiBkaWZmLmtlcHRbaV0uYXNzZXJ0IH0pO1xuICAgIH0sXG5cbiAgICBfYWRkRXJyb3I6IGZ1bmN0aW9uIF9hZGRFcnJvcihuYW1lLCBfcmVmNSkge1xuICAgICAgdmFyIG1lc3NhZ2UgPSBfcmVmNS5tZXNzYWdlO1xuICAgICAgdmFyIGFzc2VydCA9IF9yZWY1LmFzc2VydDtcblxuICAgICAgdGhpcy5faW5zZXJ0RXJyb3JXcmFwcGVyKCk7XG4gICAgICB0aGlzLl91aS4kZXJyb3JzV3JhcHBlci5hZGRDbGFzcygnZmlsbGVkJykuYXBwZW5kKCQodGhpcy5vcHRpb25zLmVycm9yVGVtcGxhdGUpLmFkZENsYXNzKCdwYXJzbGV5LScgKyBuYW1lKS5odG1sKG1lc3NhZ2UgfHwgdGhpcy5fZ2V0RXJyb3JNZXNzYWdlKGFzc2VydCkpKTtcbiAgICB9LFxuXG4gICAgX3VwZGF0ZUVycm9yOiBmdW5jdGlvbiBfdXBkYXRlRXJyb3IobmFtZSwgX3JlZjYpIHtcbiAgICAgIHZhciBtZXNzYWdlID0gX3JlZjYubWVzc2FnZTtcbiAgICAgIHZhciBhc3NlcnQgPSBfcmVmNi5hc3NlcnQ7XG5cbiAgICAgIHRoaXMuX3VpLiRlcnJvcnNXcmFwcGVyLmFkZENsYXNzKCdmaWxsZWQnKS5maW5kKCcucGFyc2xleS0nICsgbmFtZSkuaHRtbChtZXNzYWdlIHx8IHRoaXMuX2dldEVycm9yTWVzc2FnZShhc3NlcnQpKTtcbiAgICB9LFxuXG4gICAgX3JlbW92ZUVycm9yOiBmdW5jdGlvbiBfcmVtb3ZlRXJyb3IobmFtZSkge1xuICAgICAgdGhpcy5fdWkuJGVycm9yc1dyYXBwZXIucmVtb3ZlQ2xhc3MoJ2ZpbGxlZCcpLmZpbmQoJy5wYXJzbGV5LScgKyBuYW1lKS5yZW1vdmUoKTtcbiAgICB9LFxuXG4gICAgX2dldEVycm9yTWVzc2FnZTogZnVuY3Rpb24gX2dldEVycm9yTWVzc2FnZShjb25zdHJhaW50KSB7XG4gICAgICB2YXIgY3VzdG9tQ29uc3RyYWludEVycm9yTWVzc2FnZSA9IGNvbnN0cmFpbnQubmFtZSArICdNZXNzYWdlJztcblxuICAgICAgaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgdGhpcy5vcHRpb25zW2N1c3RvbUNvbnN0cmFpbnRFcnJvck1lc3NhZ2VdKSByZXR1cm4gd2luZG93LlBhcnNsZXkuZm9ybWF0TWVzc2FnZSh0aGlzLm9wdGlvbnNbY3VzdG9tQ29uc3RyYWludEVycm9yTWVzc2FnZV0sIGNvbnN0cmFpbnQucmVxdWlyZW1lbnRzKTtcblxuICAgICAgcmV0dXJuIHdpbmRvdy5QYXJzbGV5LmdldEVycm9yTWVzc2FnZShjb25zdHJhaW50KTtcbiAgICB9LFxuXG4gICAgX2J1aWxkVUk6IGZ1bmN0aW9uIF9idWlsZFVJKCkge1xuICAgICAgLy8gVUkgY291bGQgYmUgYWxyZWFkeSBidWlsdCBvciBkaXNhYmxlZFxuICAgICAgaWYgKHRoaXMuX3VpIHx8IGZhbHNlID09PSB0aGlzLm9wdGlvbnMudWlFbmFibGVkKSByZXR1cm47XG5cbiAgICAgIHZhciBfdWkgPSB7fTtcblxuICAgICAgLy8gR2l2ZSBmaWVsZCBpdHMgUGFyc2xleSBpZCBpbiBET01cbiAgICAgIHRoaXMuJGVsZW1lbnQuYXR0cih0aGlzLm9wdGlvbnMubmFtZXNwYWNlICsgJ2lkJywgdGhpcy5fX2lkX18pO1xuXG4gICAgICAvKiogR2VuZXJhdGUgaW1wb3J0YW50IFVJIGVsZW1lbnRzIGFuZCBzdG9yZSB0aGVtIGluIHRoaXMgKiovXG4gICAgICAvLyAkZXJyb3JDbGFzc0hhbmRsZXIgaXMgdGhlICRlbGVtZW50IHRoYXQgd291bCBoYXZlIHBhcnNsZXktZXJyb3IgYW5kIHBhcnNsZXktc3VjY2VzcyBjbGFzc2VzXG4gICAgICBfdWkuJGVycm9yQ2xhc3NIYW5kbGVyID0gdGhpcy5fbWFuYWdlQ2xhc3NIYW5kbGVyKCk7XG5cbiAgICAgIC8vICRlcnJvcnNXcmFwcGVyIGlzIGEgZGl2IHRoYXQgd291bGQgY29udGFpbiB0aGUgdmFyaW91cyBmaWVsZCBlcnJvcnMsIGl0IHdpbGwgYmUgYXBwZW5kZWQgaW50byAkZXJyb3JzQ29udGFpbmVyXG4gICAgICBfdWkuZXJyb3JzV3JhcHBlcklkID0gJ3BhcnNsZXktaWQtJyArICh0aGlzLm9wdGlvbnMubXVsdGlwbGUgPyAnbXVsdGlwbGUtJyArIHRoaXMub3B0aW9ucy5tdWx0aXBsZSA6IHRoaXMuX19pZF9fKTtcbiAgICAgIF91aS4kZXJyb3JzV3JhcHBlciA9ICQodGhpcy5vcHRpb25zLmVycm9yc1dyYXBwZXIpLmF0dHIoJ2lkJywgX3VpLmVycm9yc1dyYXBwZXJJZCk7XG5cbiAgICAgIC8vIFZhbGlkYXRpb25SZXN1bHQgVUkgc3RvcmFnZSB0byBkZXRlY3Qgd2hhdCBoYXZlIGNoYW5nZWQgYnd0IHR3byB2YWxpZGF0aW9ucywgYW5kIHVwZGF0ZSBET00gYWNjb3JkaW5nbHlcbiAgICAgIF91aS5sYXN0VmFsaWRhdGlvblJlc3VsdCA9IFtdO1xuICAgICAgX3VpLnZhbGlkYXRpb25JbmZvcm1hdGlvblZpc2libGUgPSBmYWxzZTtcblxuICAgICAgLy8gU3RvcmUgaXQgaW4gdGhpcyBmb3IgbGF0ZXJcbiAgICAgIHRoaXMuX3VpID0gX3VpO1xuICAgIH0sXG5cbiAgICAvLyBEZXRlcm1pbmUgd2hpY2ggZWxlbWVudCB3aWxsIGhhdmUgYHBhcnNsZXktZXJyb3JgIGFuZCBgcGFyc2xleS1zdWNjZXNzYCBjbGFzc2VzXG4gICAgX21hbmFnZUNsYXNzSGFuZGxlcjogZnVuY3Rpb24gX21hbmFnZUNsYXNzSGFuZGxlcigpIHtcbiAgICAgIC8vIEFuIGVsZW1lbnQgc2VsZWN0b3IgY291bGQgYmUgcGFzc2VkIHRocm91Z2ggRE9NIHdpdGggYGRhdGEtcGFyc2xleS1jbGFzcy1oYW5kbGVyPSNmb29gXG4gICAgICBpZiAoJ3N0cmluZycgPT09IHR5cGVvZiB0aGlzLm9wdGlvbnMuY2xhc3NIYW5kbGVyICYmICQodGhpcy5vcHRpb25zLmNsYXNzSGFuZGxlcikubGVuZ3RoKSByZXR1cm4gJCh0aGlzLm9wdGlvbnMuY2xhc3NIYW5kbGVyKTtcblxuICAgICAgLy8gQ2xhc3MgaGFuZGxlZCBjb3VsZCBhbHNvIGJlIGRldGVybWluZWQgYnkgZnVuY3Rpb24gZ2l2ZW4gaW4gUGFyc2xleSBvcHRpb25zXG4gICAgICB2YXIgJGhhbmRsZXIgPSB0aGlzLm9wdGlvbnMuY2xhc3NIYW5kbGVyLmNhbGwodGhpcywgdGhpcyk7XG5cbiAgICAgIC8vIElmIHRoaXMgZnVuY3Rpb24gcmV0dXJuZWQgYSB2YWxpZCBleGlzdGluZyBET00gZWxlbWVudCwgZ28gZm9yIGl0XG4gICAgICBpZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiAkaGFuZGxlciAmJiAkaGFuZGxlci5sZW5ndGgpIHJldHVybiAkaGFuZGxlcjtcblxuICAgICAgcmV0dXJuIHRoaXMuX2lucHV0SG9sZGVyKCk7XG4gICAgfSxcblxuICAgIF9pbnB1dEhvbGRlcjogZnVuY3Rpb24gX2lucHV0SG9sZGVyKCkge1xuICAgICAgLy8gaWYgc2ltcGxlIGVsZW1lbnQgKGlucHV0LCB0ZXhhdHJlYSwgc2VsZWN0Li4uKSBpdCB3aWxsIHBlcmZlY3RseSBob3N0IHRoZSBjbGFzc2VzIGFuZCBwcmVjZWRlIHRoZSBlcnJvciBjb250YWluZXJcbiAgICAgIGlmICghdGhpcy5vcHRpb25zLm11bHRpcGxlIHx8IHRoaXMuJGVsZW1lbnQuaXMoJ3NlbGVjdCcpKSByZXR1cm4gdGhpcy4kZWxlbWVudDtcblxuICAgICAgLy8gQnV0IGlmIG11bHRpcGxlIGVsZW1lbnQgKHJhZGlvLCBjaGVja2JveCksIHRoYXQgd291bGQgYmUgdGhlaXIgcGFyZW50XG4gICAgICByZXR1cm4gdGhpcy4kZWxlbWVudC5wYXJlbnQoKTtcbiAgICB9LFxuXG4gICAgX2luc2VydEVycm9yV3JhcHBlcjogZnVuY3Rpb24gX2luc2VydEVycm9yV3JhcHBlcigpIHtcbiAgICAgIHZhciAkZXJyb3JzQ29udGFpbmVyO1xuXG4gICAgICAvLyBOb3RoaW5nIHRvIGRvIGlmIGFscmVhZHkgaW5zZXJ0ZWRcbiAgICAgIGlmICgwICE9PSB0aGlzLl91aS4kZXJyb3JzV3JhcHBlci5wYXJlbnQoKS5sZW5ndGgpIHJldHVybiB0aGlzLl91aS4kZXJyb3JzV3JhcHBlci5wYXJlbnQoKTtcblxuICAgICAgaWYgKCdzdHJpbmcnID09PSB0eXBlb2YgdGhpcy5vcHRpb25zLmVycm9yc0NvbnRhaW5lcikge1xuICAgICAgICBpZiAoJCh0aGlzLm9wdGlvbnMuZXJyb3JzQ29udGFpbmVyKS5sZW5ndGgpIHJldHVybiAkKHRoaXMub3B0aW9ucy5lcnJvcnNDb250YWluZXIpLmFwcGVuZCh0aGlzLl91aS4kZXJyb3JzV3JhcHBlcik7ZWxzZSBQYXJzbGV5VXRpbHNfX2RlZmF1bHQud2FybignVGhlIGVycm9ycyBjb250YWluZXIgYCcgKyB0aGlzLm9wdGlvbnMuZXJyb3JzQ29udGFpbmVyICsgJ2AgZG9lcyBub3QgZXhpc3QgaW4gRE9NJyk7XG4gICAgICB9IGVsc2UgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiB0aGlzLm9wdGlvbnMuZXJyb3JzQ29udGFpbmVyKSAkZXJyb3JzQ29udGFpbmVyID0gdGhpcy5vcHRpb25zLmVycm9yc0NvbnRhaW5lci5jYWxsKHRoaXMsIHRoaXMpO1xuXG4gICAgICBpZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiAkZXJyb3JzQ29udGFpbmVyICYmICRlcnJvcnNDb250YWluZXIubGVuZ3RoKSByZXR1cm4gJGVycm9yc0NvbnRhaW5lci5hcHBlbmQodGhpcy5fdWkuJGVycm9yc1dyYXBwZXIpO1xuXG4gICAgICByZXR1cm4gdGhpcy5faW5wdXRIb2xkZXIoKS5hZnRlcih0aGlzLl91aS4kZXJyb3JzV3JhcHBlcik7XG4gICAgfSxcblxuICAgIF9hY3R1YWxpemVUcmlnZ2VyczogZnVuY3Rpb24gX2FjdHVhbGl6ZVRyaWdnZXJzKCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciAkdG9CaW5kID0gdGhpcy5fZmluZFJlbGF0ZWQoKTtcbiAgICAgIHZhciB0cmlnZ2VyO1xuXG4gICAgICAvLyBSZW1vdmUgUGFyc2xleSBldmVudHMgYWxyZWFkeSBib3VuZCBvbiB0aGlzIGZpZWxkXG4gICAgICAkdG9CaW5kLm9mZignLlBhcnNsZXknKTtcbiAgICAgIGlmICh0aGlzLl9mYWlsZWRPbmNlKSAkdG9CaW5kLm9uKFBhcnNsZXlVdGlsc19fZGVmYXVsdC5uYW1lc3BhY2VFdmVudHModGhpcy5vcHRpb25zLnRyaWdnZXJBZnRlckZhaWx1cmUsICdQYXJzbGV5JyksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLl92YWxpZGF0ZUlmTmVlZGVkKCk7XG4gICAgICB9KTtlbHNlIGlmICh0cmlnZ2VyID0gUGFyc2xleVV0aWxzX19kZWZhdWx0Lm5hbWVzcGFjZUV2ZW50cyh0aGlzLm9wdGlvbnMudHJpZ2dlciwgJ1BhcnNsZXknKSkge1xuICAgICAgICAkdG9CaW5kLm9uKHRyaWdnZXIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIF90aGlzMy5fdmFsaWRhdGVJZk5lZWRlZChldmVudCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBfdmFsaWRhdGVJZk5lZWRlZDogZnVuY3Rpb24gX3ZhbGlkYXRlSWZOZWVkZWQoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICAvLyBGb3Iga2V5dXAsIGtleXByZXNzLCBrZXlkb3duLCBpbnB1dC4uLiBldmVudHMgdGhhdCBjb3VsZCBiZSBhIGxpdHRsZSBiaXQgb2JzdHJ1c2l2ZVxuICAgICAgLy8gZG8gbm90IHZhbGlkYXRlIGlmIHZhbCBsZW5ndGggPCBtaW4gdGhyZXNob2xkIG9uIGZpcnN0IHZhbGlkYXRpb24uIE9uY2UgZmllbGQgaGF2ZSBiZWVuIHZhbGlkYXRlZCBvbmNlIGFuZCBpbmZvXG4gICAgICAvLyBhYm91dCBzdWNjZXNzIG9yIGZhaWx1cmUgaGF2ZSBiZWVuIGRpc3BsYXllZCwgYWx3YXlzIHZhbGlkYXRlIHdpdGggdGhpcyB0cmlnZ2VyIHRvIHJlZmxlY3QgZXZlcnkgeWFsaWRhdGlvbiBjaGFuZ2UuXG4gICAgICBpZiAoZXZlbnQgJiYgL2tleXxpbnB1dC8udGVzdChldmVudC50eXBlKSkgaWYgKCEodGhpcy5fdWkgJiYgdGhpcy5fdWkudmFsaWRhdGlvbkluZm9ybWF0aW9uVmlzaWJsZSkgJiYgdGhpcy5nZXRWYWx1ZSgpLmxlbmd0aCA8PSB0aGlzLm9wdGlvbnMudmFsaWRhdGlvblRocmVzaG9sZCkgcmV0dXJuO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmRlYm91bmNlKSB7XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fZGVib3VuY2VkKTtcbiAgICAgICAgdGhpcy5fZGVib3VuY2VkID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczQudmFsaWRhdGUoKTtcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zLmRlYm91bmNlKTtcbiAgICAgIH0gZWxzZSB0aGlzLnZhbGlkYXRlKCk7XG4gICAgfSxcblxuICAgIF9yZXNldFVJOiBmdW5jdGlvbiBfcmVzZXRVSSgpIHtcbiAgICAgIC8vIFJlc2V0IGFsbCBldmVudCBsaXN0ZW5lcnNcbiAgICAgIHRoaXMuX2ZhaWxlZE9uY2UgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2FjdHVhbGl6ZVRyaWdnZXJzKCk7XG5cbiAgICAgIC8vIE5vdGhpbmcgdG8gZG8gaWYgVUkgbmV2ZXIgaW5pdGlhbGl6ZWQgZm9yIHRoaXMgZmllbGRcbiAgICAgIGlmICgndW5kZWZpbmVkJyA9PT0gdHlwZW9mIHRoaXMuX3VpKSByZXR1cm47XG5cbiAgICAgIC8vIFJlc2V0IGFsbCBlcnJvcnMnIGxpXG4gICAgICB0aGlzLl91aS4kZXJyb3JzV3JhcHBlci5yZW1vdmVDbGFzcygnZmlsbGVkJykuY2hpbGRyZW4oKS5yZW1vdmUoKTtcblxuICAgICAgLy8gUmVzZXQgdmFsaWRhdGlvbiBjbGFzc1xuICAgICAgdGhpcy5fcmVzZXRDbGFzcygpO1xuXG4gICAgICAvLyBSZXNldCB2YWxpZGF0aW9uIGZsYWdzIGFuZCBsYXN0IHZhbGlkYXRpb24gcmVzdWx0XG4gICAgICB0aGlzLl91aS5sYXN0VmFsaWRhdGlvblJlc3VsdCA9IFtdO1xuICAgICAgdGhpcy5fdWkudmFsaWRhdGlvbkluZm9ybWF0aW9uVmlzaWJsZSA9IGZhbHNlO1xuICAgIH0sXG5cbiAgICBfZGVzdHJveVVJOiBmdW5jdGlvbiBfZGVzdHJveVVJKCkge1xuICAgICAgdGhpcy5fcmVzZXRVSSgpO1xuXG4gICAgICBpZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiB0aGlzLl91aSkgdGhpcy5fdWkuJGVycm9yc1dyYXBwZXIucmVtb3ZlKCk7XG5cbiAgICAgIGRlbGV0ZSB0aGlzLl91aTtcbiAgICB9LFxuXG4gICAgX3N1Y2Nlc3NDbGFzczogZnVuY3Rpb24gX3N1Y2Nlc3NDbGFzcygpIHtcbiAgICAgIHRoaXMuX3VpLnZhbGlkYXRpb25JbmZvcm1hdGlvblZpc2libGUgPSB0cnVlO1xuICAgICAgdGhpcy5fdWkuJGVycm9yQ2xhc3NIYW5kbGVyLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5lcnJvckNsYXNzKS5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuc3VjY2Vzc0NsYXNzKTtcbiAgICB9LFxuICAgIF9lcnJvckNsYXNzOiBmdW5jdGlvbiBfZXJyb3JDbGFzcygpIHtcbiAgICAgIHRoaXMuX3VpLnZhbGlkYXRpb25JbmZvcm1hdGlvblZpc2libGUgPSB0cnVlO1xuICAgICAgdGhpcy5fdWkuJGVycm9yQ2xhc3NIYW5kbGVyLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5zdWNjZXNzQ2xhc3MpLmFkZENsYXNzKHRoaXMub3B0aW9ucy5lcnJvckNsYXNzKTtcbiAgICB9LFxuICAgIF9yZXNldENsYXNzOiBmdW5jdGlvbiBfcmVzZXRDbGFzcygpIHtcbiAgICAgIHRoaXMuX3VpLiRlcnJvckNsYXNzSGFuZGxlci5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuc3VjY2Vzc0NsYXNzKS5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuZXJyb3JDbGFzcyk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBQYXJzbGV5Rm9ybSA9IGZ1bmN0aW9uIFBhcnNsZXlGb3JtKGVsZW1lbnQsIGRvbU9wdGlvbnMsIG9wdGlvbnMpIHtcbiAgICB0aGlzLl9fY2xhc3NfXyA9ICdQYXJzbGV5Rm9ybSc7XG5cbiAgICB0aGlzLiRlbGVtZW50ID0gJChlbGVtZW50KTtcbiAgICB0aGlzLmRvbU9wdGlvbnMgPSBkb21PcHRpb25zO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5wYXJlbnQgPSB3aW5kb3cuUGFyc2xleTtcblxuICAgIHRoaXMuZmllbGRzID0gW107XG4gICAgdGhpcy52YWxpZGF0aW9uUmVzdWx0ID0gbnVsbDtcbiAgfTtcblxuICB2YXIgUGFyc2xleUZvcm1fX3N0YXR1c01hcHBpbmcgPSB7IHBlbmRpbmc6IG51bGwsIHJlc29sdmVkOiB0cnVlLCByZWplY3RlZDogZmFsc2UgfTtcblxuICBQYXJzbGV5Rm9ybS5wcm90b3R5cGUgPSB7XG4gICAgb25TdWJtaXRWYWxpZGF0ZTogZnVuY3Rpb24gb25TdWJtaXRWYWxpZGF0ZShldmVudCkge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgIC8vIFRoaXMgaXMgYSBQYXJzbGV5IGdlbmVyYXRlZCBzdWJtaXQgZXZlbnQsIGRvIG5vdCB2YWxpZGF0ZSwgZG8gbm90IHByZXZlbnQsIHNpbXBseSBleGl0IGFuZCBrZWVwIG5vcm1hbCBiZWhhdmlvclxuICAgICAgaWYgKHRydWUgPT09IGV2ZW50LnBhcnNsZXkpIHJldHVybjtcblxuICAgICAgLy8gSWYgd2UgZGlkbid0IGNvbWUgaGVyZSB0aHJvdWdoIGEgc3VibWl0IGJ1dHRvbiwgdXNlIHRoZSBmaXJzdCBvbmUgaW4gdGhlIGZvcm1cbiAgICAgIHZhciAkc3VibWl0U291cmNlID0gdGhpcy5fJHN1Ym1pdFNvdXJjZSB8fCB0aGlzLiRlbGVtZW50LmZpbmQoUGFyc2xleVV0aWxzX19kZWZhdWx0Ll9TdWJtaXRTZWxlY3RvcikuZmlyc3QoKTtcbiAgICAgIHRoaXMuXyRzdWJtaXRTb3VyY2UgPSBudWxsO1xuICAgICAgdGhpcy4kZWxlbWVudC5maW5kKCcucGFyc2xleS1zeW50aGV0aWMtc3VibWl0LWJ1dHRvbicpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICBpZiAoJHN1Ym1pdFNvdXJjZS5pcygnW2Zvcm1ub3ZhbGlkYXRlXScpKSByZXR1cm47XG5cbiAgICAgIHZhciBwcm9taXNlID0gdGhpcy53aGVuVmFsaWRhdGUoeyBldmVudDogZXZlbnQgfSk7XG5cbiAgICAgIGlmICgncmVzb2x2ZWQnID09PSBwcm9taXNlLnN0YXRlKCkgJiYgZmFsc2UgIT09IHRoaXMuX3RyaWdnZXIoJ3N1Ym1pdCcpKSB7XG4gICAgICAgIC8vIEFsbCBnb29kLCBsZXQgZXZlbnQgZ28gdGhyb3VnaC4gV2UgbWFrZSB0aGlzIGRpc3RpbmN0aW9uIGJlY2F1c2UgYnJvd3NlcnNcbiAgICAgICAgLy8gZGlmZmVyIGluIHRoZWlyIGhhbmRsaW5nIG9mIGBzdWJtaXRgIGJlaW5nIGNhbGxlZCBmcm9tIGluc2lkZSBhIHN1Ym1pdCBldmVudCBbIzEwNDddXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFJlamVjdGVkIG9yIHBlbmRpbmc6IGNhbmNlbCB0aGlzIHN1Ym1pdFxuICAgICAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgaWYgKCdwZW5kaW5nJyA9PT0gcHJvbWlzZS5zdGF0ZSgpKSBwcm9taXNlLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXM1Ll9zdWJtaXQoJHN1Ym1pdFNvdXJjZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgb25TdWJtaXRCdXR0b246IGZ1bmN0aW9uIG9uU3VibWl0QnV0dG9uKGV2ZW50KSB7XG4gICAgICB0aGlzLl8kc3VibWl0U291cmNlID0gJChldmVudC5jdXJyZW50VGFyZ2V0KTtcbiAgICB9LFxuICAgIC8vIGludGVybmFsXG4gICAgLy8gX3N1Ym1pdCBzdWJtaXRzIHRoZSBmb3JtLCB0aGlzIHRpbWUgd2l0aG91dCBnb2luZyB0aHJvdWdoIHRoZSB2YWxpZGF0aW9ucy5cbiAgICAvLyBDYXJlIG11c3QgYmUgdGFrZW4gdG8gXCJmYWtlXCIgdGhlIGFjdHVhbCBzdWJtaXQgYnV0dG9uIGJlaW5nIGNsaWNrZWQuXG4gICAgX3N1Ym1pdDogZnVuY3Rpb24gX3N1Ym1pdCgkc3VibWl0U291cmNlKSB7XG4gICAgICBpZiAoZmFsc2UgPT09IHRoaXMuX3RyaWdnZXIoJ3N1Ym1pdCcpKSByZXR1cm47XG4gICAgICAvLyBBZGQgc3VibWl0IGJ1dHRvbidzIGRhdGFcbiAgICAgIGlmICgkc3VibWl0U291cmNlKSB7XG4gICAgICAgIHZhciAkc3ludGhldGljID0gdGhpcy4kZWxlbWVudC5maW5kKCcucGFyc2xleS1zeW50aGV0aWMtc3VibWl0LWJ1dHRvbicpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xuICAgICAgICBpZiAoMCA9PT0gJHN5bnRoZXRpYy5sZW5ndGgpICRzeW50aGV0aWMgPSAkKCc8aW5wdXQgY2xhc3M9XCJwYXJzbGV5LXN5bnRoZXRpYy1zdWJtaXQtYnV0dG9uXCIgdHlwZT1cImhpZGRlblwiPicpLmFwcGVuZFRvKHRoaXMuJGVsZW1lbnQpO1xuICAgICAgICAkc3ludGhldGljLmF0dHIoe1xuICAgICAgICAgIG5hbWU6ICRzdWJtaXRTb3VyY2UuYXR0cignbmFtZScpLFxuICAgICAgICAgIHZhbHVlOiAkc3VibWl0U291cmNlLmF0dHIoJ3ZhbHVlJylcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcigkLmV4dGVuZCgkLkV2ZW50KCdzdWJtaXQnKSwgeyBwYXJzbGV5OiB0cnVlIH0pKTtcbiAgICB9LFxuXG4gICAgLy8gUGVyZm9ybXMgdmFsaWRhdGlvbiBvbiBmaWVsZHMgd2hpbGUgdHJpZ2dlcmluZyBldmVudHMuXG4gICAgLy8gQHJldHVybnMgYHRydWVgIGlmIGFsbCB2YWxpZGF0aW9ucyBzdWNjZWVkcywgYGZhbHNlYFxuICAgIC8vIGlmIGEgZmFpbHVyZSBpcyBpbW1lZGlhdGVseSBkZXRlY3RlZCwgb3IgYG51bGxgXG4gICAgLy8gaWYgZGVwZW5kYW50IG9uIGEgcHJvbWlzZS5cbiAgICAvLyBDb25zaWRlciB1c2luZyBgd2hlblZhbGlkYXRlYCBpbnN0ZWFkLlxuICAgIHZhbGlkYXRlOiBmdW5jdGlvbiB2YWxpZGF0ZShvcHRpb25zKSB7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAxICYmICEkLmlzUGxhaW5PYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgUGFyc2xleVV0aWxzX19kZWZhdWx0Lndhcm5PbmNlKCdDYWxsaW5nIHZhbGlkYXRlIG9uIGEgcGFyc2xleSBmb3JtIHdpdGhvdXQgcGFzc2luZyBhcmd1bWVudHMgYXMgYW4gb2JqZWN0IGlzIGRlcHJlY2F0ZWQuJyk7XG5cbiAgICAgICAgdmFyIF9hcmd1bWVudHMgPSBfc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuXG4gICAgICAgIHZhciBncm91cCA9IF9hcmd1bWVudHNbMF07XG4gICAgICAgIHZhciBmb3JjZSA9IF9hcmd1bWVudHNbMV07XG4gICAgICAgIHZhciBldmVudCA9IF9hcmd1bWVudHNbMl07XG5cbiAgICAgICAgb3B0aW9ucyA9IHsgZ3JvdXA6IGdyb3VwLCBmb3JjZTogZm9yY2UsIGV2ZW50OiBldmVudCB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIFBhcnNsZXlGb3JtX19zdGF0dXNNYXBwaW5nW3RoaXMud2hlblZhbGlkYXRlKG9wdGlvbnMpLnN0YXRlKCldO1xuICAgIH0sXG5cbiAgICB3aGVuVmFsaWRhdGU6IGZ1bmN0aW9uIHdoZW5WYWxpZGF0ZSgpIHtcbiAgICAgIHZhciBfUGFyc2xleVV0aWxzX19kZWZhdWx0JGFsbCRkb25lJGZhaWwkYWx3YXlzLFxuICAgICAgICAgIF90aGlzNiA9IHRoaXM7XG5cbiAgICAgIHZhciBfcmVmNyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXG4gICAgICB2YXIgZ3JvdXAgPSBfcmVmNy5ncm91cDtcbiAgICAgIHZhciBmb3JjZSA9IF9yZWY3LmZvcmNlO1xuICAgICAgdmFyIGV2ZW50ID0gX3JlZjcuZXZlbnQ7XG5cbiAgICAgIHRoaXMuc3VibWl0RXZlbnQgPSBldmVudDtcbiAgICAgIGlmIChldmVudCkge1xuICAgICAgICB0aGlzLnN1Ym1pdEV2ZW50ID0gJC5leHRlbmQoe30sIGV2ZW50LCB7IHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICAgICAgICAgIFBhcnNsZXlVdGlsc19fZGVmYXVsdC53YXJuT25jZShcIlVzaW5nIGB0aGlzLnN1Ym1pdEV2ZW50LnByZXZlbnREZWZhdWx0KClgIGlzIGRlcHJlY2F0ZWQ7IGluc3RlYWQsIGNhbGwgYHRoaXMudmFsaWRhdGlvblJlc3VsdCA9IGZhbHNlYFwiKTtcbiAgICAgICAgICAgIF90aGlzNi52YWxpZGF0aW9uUmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgfSB9KTtcbiAgICAgIH1cbiAgICAgIHRoaXMudmFsaWRhdGlvblJlc3VsdCA9IHRydWU7XG5cbiAgICAgIC8vIGZpcmUgdmFsaWRhdGUgZXZlbnQgdG8gZXZlbnR1YWxseSBtb2RpZnkgdGhpbmdzIGJlZm9yZSBldmVyeSB2YWxpZGF0aW9uXG4gICAgICB0aGlzLl90cmlnZ2VyKCd2YWxpZGF0ZScpO1xuXG4gICAgICAvLyBSZWZyZXNoIGZvcm0gRE9NIG9wdGlvbnMgYW5kIGZvcm0ncyBmaWVsZHMgdGhhdCBjb3VsZCBoYXZlIGNoYW5nZWRcbiAgICAgIHRoaXMuX3JlZnJlc2hGaWVsZHMoKTtcblxuICAgICAgdmFyIHByb21pc2VzID0gdGhpcy5fd2l0aG91dFJlYWN0dWFsaXppbmdGb3JtT3B0aW9ucyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAkLm1hcChfdGhpczYuZmllbGRzLCBmdW5jdGlvbiAoZmllbGQpIHtcbiAgICAgICAgICByZXR1cm4gZmllbGQud2hlblZhbGlkYXRlKHsgZm9yY2U6IGZvcmNlLCBncm91cDogZ3JvdXAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiAoX1BhcnNsZXlVdGlsc19fZGVmYXVsdCRhbGwkZG9uZSRmYWlsJGFsd2F5cyA9IFBhcnNsZXlVdGlsc19fZGVmYXVsdC5hbGwocHJvbWlzZXMpLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczYuX3RyaWdnZXIoJ3N1Y2Nlc3MnKTtcbiAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczYudmFsaWRhdGlvblJlc3VsdCA9IGZhbHNlO1xuICAgICAgICBfdGhpczYuZm9jdXMoKTtcbiAgICAgICAgX3RoaXM2Ll90cmlnZ2VyKCdlcnJvcicpO1xuICAgICAgfSkuYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM2Ll90cmlnZ2VyKCd2YWxpZGF0ZWQnKTtcbiAgICAgIH0pKS5waXBlLmFwcGx5KF9QYXJzbGV5VXRpbHNfX2RlZmF1bHQkYWxsJGRvbmUkZmFpbCRhbHdheXMsIF90b0NvbnN1bWFibGVBcnJheSh0aGlzLl9waXBlQWNjb3JkaW5nVG9WYWxpZGF0aW9uUmVzdWx0KCkpKTtcbiAgICB9LFxuXG4gICAgLy8gSXRlcmF0ZSBvdmVyIHJlZnJlc2hlZCBmaWVsZHMsIGFuZCBzdG9wIG9uIGZpcnN0IGZhaWx1cmUuXG4gICAgLy8gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGZpZWxkcyBhcmUgdmFsaWQsIGBmYWxzZWAgaWYgYSBmYWlsdXJlIGlzIGRldGVjdGVkXG4gICAgLy8gb3IgYG51bGxgIGlmIHRoZSByZXN1bHQgZGVwZW5kcyBvbiBhbiB1bnJlc29sdmVkIHByb21pc2UuXG4gICAgLy8gUHJlZmVyIHVzaW5nIGB3aGVuVmFsaWRgIGluc3RlYWQuXG4gICAgaXNWYWxpZDogZnVuY3Rpb24gaXNWYWxpZChvcHRpb25zKSB7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAxICYmICEkLmlzUGxhaW5PYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgUGFyc2xleVV0aWxzX19kZWZhdWx0Lndhcm5PbmNlKCdDYWxsaW5nIGlzVmFsaWQgb24gYSBwYXJzbGV5IGZvcm0gd2l0aG91dCBwYXNzaW5nIGFyZ3VtZW50cyBhcyBhbiBvYmplY3QgaXMgZGVwcmVjYXRlZC4nKTtcblxuICAgICAgICB2YXIgX2FyZ3VtZW50czIgPSBfc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuXG4gICAgICAgIHZhciBncm91cCA9IF9hcmd1bWVudHMyWzBdO1xuICAgICAgICB2YXIgZm9yY2UgPSBfYXJndW1lbnRzMlsxXTtcblxuICAgICAgICBvcHRpb25zID0geyBncm91cDogZ3JvdXAsIGZvcmNlOiBmb3JjZSB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIFBhcnNsZXlGb3JtX19zdGF0dXNNYXBwaW5nW3RoaXMud2hlblZhbGlkKG9wdGlvbnMpLnN0YXRlKCldO1xuICAgIH0sXG5cbiAgICAvLyBJdGVyYXRlIG92ZXIgcmVmcmVzaGVkIGZpZWxkcyBhbmQgdmFsaWRhdGUgdGhlbS5cbiAgICAvLyBSZXR1cm5zIGEgcHJvbWlzZS5cbiAgICAvLyBBIHZhbGlkYXRpb24gdGhhdCBpbW1lZGlhdGVseSBmYWlscyB3aWxsIGludGVycnVwdCB0aGUgdmFsaWRhdGlvbnMuXG4gICAgd2hlblZhbGlkOiBmdW5jdGlvbiB3aGVuVmFsaWQoKSB7XG4gICAgICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICAgICAgdmFyIF9yZWY4ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cbiAgICAgIHZhciBncm91cCA9IF9yZWY4Lmdyb3VwO1xuICAgICAgdmFyIGZvcmNlID0gX3JlZjguZm9yY2U7XG5cbiAgICAgIHRoaXMuX3JlZnJlc2hGaWVsZHMoKTtcblxuICAgICAgdmFyIHByb21pc2VzID0gdGhpcy5fd2l0aG91dFJlYWN0dWFsaXppbmdGb3JtT3B0aW9ucyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAkLm1hcChfdGhpczcuZmllbGRzLCBmdW5jdGlvbiAoZmllbGQpIHtcbiAgICAgICAgICByZXR1cm4gZmllbGQud2hlblZhbGlkKHsgZ3JvdXA6IGdyb3VwLCBmb3JjZTogZm9yY2UgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gUGFyc2xleVV0aWxzX19kZWZhdWx0LmFsbChwcm9taXNlcyk7XG4gICAgfSxcblxuICAgIF9yZWZyZXNoRmllbGRzOiBmdW5jdGlvbiBfcmVmcmVzaEZpZWxkcygpIHtcbiAgICAgIHJldHVybiB0aGlzLmFjdHVhbGl6ZU9wdGlvbnMoKS5fYmluZEZpZWxkcygpO1xuICAgIH0sXG5cbiAgICBfYmluZEZpZWxkczogZnVuY3Rpb24gX2JpbmRGaWVsZHMoKSB7XG4gICAgICB2YXIgX3RoaXM4ID0gdGhpcztcblxuICAgICAgdmFyIG9sZEZpZWxkcyA9IHRoaXMuZmllbGRzO1xuXG4gICAgICB0aGlzLmZpZWxkcyA9IFtdO1xuICAgICAgdGhpcy5maWVsZHNNYXBwZWRCeUlkID0ge307XG5cbiAgICAgIHRoaXMuX3dpdGhvdXRSZWFjdHVhbGl6aW5nRm9ybU9wdGlvbnMoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczguJGVsZW1lbnQuZmluZChfdGhpczgub3B0aW9ucy5pbnB1dHMpLm5vdChfdGhpczgub3B0aW9ucy5leGNsdWRlZCkuZWFjaChmdW5jdGlvbiAoXywgZWxlbWVudCkge1xuICAgICAgICAgIHZhciBmaWVsZEluc3RhbmNlID0gbmV3IHdpbmRvdy5QYXJzbGV5LkZhY3RvcnkoZWxlbWVudCwge30sIF90aGlzOCk7XG5cbiAgICAgICAgICAvLyBPbmx5IGFkZCB2YWxpZCBhbmQgbm90IGV4Y2x1ZGVkIGBQYXJzbGV5RmllbGRgIGFuZCBgUGFyc2xleUZpZWxkTXVsdGlwbGVgIGNoaWxkcmVuXG4gICAgICAgICAgaWYgKCgnUGFyc2xleUZpZWxkJyA9PT0gZmllbGRJbnN0YW5jZS5fX2NsYXNzX18gfHwgJ1BhcnNsZXlGaWVsZE11bHRpcGxlJyA9PT0gZmllbGRJbnN0YW5jZS5fX2NsYXNzX18pICYmIHRydWUgIT09IGZpZWxkSW5zdGFuY2Uub3B0aW9ucy5leGNsdWRlZCkgaWYgKCd1bmRlZmluZWQnID09PSB0eXBlb2YgX3RoaXM4LmZpZWxkc01hcHBlZEJ5SWRbZmllbGRJbnN0YW5jZS5fX2NsYXNzX18gKyAnLScgKyBmaWVsZEluc3RhbmNlLl9faWRfX10pIHtcbiAgICAgICAgICAgIF90aGlzOC5maWVsZHNNYXBwZWRCeUlkW2ZpZWxkSW5zdGFuY2UuX19jbGFzc19fICsgJy0nICsgZmllbGRJbnN0YW5jZS5fX2lkX19dID0gZmllbGRJbnN0YW5jZTtcbiAgICAgICAgICAgIF90aGlzOC5maWVsZHMucHVzaChmaWVsZEluc3RhbmNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQuZWFjaChQYXJzbGV5VXRpbHNfX2RlZmF1bHQuZGlmZmVyZW5jZShvbGRGaWVsZHMsIF90aGlzOC5maWVsZHMpLCBmdW5jdGlvbiAoXywgZmllbGQpIHtcbiAgICAgICAgICBmaWVsZC5fdHJpZ2dlcigncmVzZXQnKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvLyBJbnRlcm5hbCBvbmx5LlxuICAgIC8vIExvb3Bpbmcgb24gYSBmb3JtJ3MgZmllbGRzIHRvIGRvIHZhbGlkYXRpb24gb3Igc2ltaWxhclxuICAgIC8vIHdpbGwgdHJpZ2dlciByZWFjdHVhbGl6aW5nIG9wdGlvbnMgb24gYWxsIG9mIHRoZW0sIHdoaWNoXG4gICAgLy8gaW4gdHVybiB3aWxsIHJlYWN0dWFsaXplIHRoZSBmb3JtJ3Mgb3B0aW9ucy5cbiAgICAvLyBUbyBhdm9pZCBjYWxsaW5nIGFjdHVhbGl6ZU9wdGlvbnMgc28gbWFueSB0aW1lcyBvbiB0aGUgZm9ybVxuICAgIC8vIGZvciBub3RoaW5nLCBfd2l0aG91dFJlYWN0dWFsaXppbmdGb3JtT3B0aW9ucyB0ZW1wb3JhcmlseSBkaXNhYmxlc1xuICAgIC8vIHRoZSBtZXRob2QgYWN0dWFsaXplT3B0aW9ucyBvbiB0aGlzIGZvcm0gd2hpbGUgYGZuYCBpcyBjYWxsZWQuXG4gICAgX3dpdGhvdXRSZWFjdHVhbGl6aW5nRm9ybU9wdGlvbnM6IGZ1bmN0aW9uIF93aXRob3V0UmVhY3R1YWxpemluZ0Zvcm1PcHRpb25zKGZuKSB7XG4gICAgICB2YXIgb2xkQWN0dWFsaXplT3B0aW9ucyA9IHRoaXMuYWN0dWFsaXplT3B0aW9ucztcbiAgICAgIHRoaXMuYWN0dWFsaXplT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9O1xuICAgICAgdmFyIHJlc3VsdCA9IGZuKCk7XG4gICAgICB0aGlzLmFjdHVhbGl6ZU9wdGlvbnMgPSBvbGRBY3R1YWxpemVPcHRpb25zO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuXG4gICAgLy8gSW50ZXJuYWwgb25seS5cbiAgICAvLyBTaG9ydGN1dCB0byB0cmlnZ2VyIGFuIGV2ZW50XG4gICAgLy8gUmV0dXJucyB0cnVlIGlmZiBldmVudCBpcyBub3QgaW50ZXJydXB0ZWQgYW5kIGRlZmF1bHQgbm90IHByZXZlbnRlZC5cbiAgICBfdHJpZ2dlcjogZnVuY3Rpb24gX3RyaWdnZXIoZXZlbnROYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy50cmlnZ2VyKCdmb3JtOicgKyBldmVudE5hbWUpO1xuICAgIH1cblxuICB9O1xuXG4gIHZhciBDb25zdHJhaW50RmFjdG9yeSA9IGZ1bmN0aW9uIENvbnN0cmFpbnRGYWN0b3J5KHBhcnNsZXlGaWVsZCwgbmFtZSwgcmVxdWlyZW1lbnRzLCBwcmlvcml0eSwgaXNEb21Db25zdHJhaW50KSB7XG4gICAgaWYgKCEvUGFyc2xleUZpZWxkLy50ZXN0KHBhcnNsZXlGaWVsZC5fX2NsYXNzX18pKSB0aHJvdyBuZXcgRXJyb3IoJ1BhcnNsZXlGaWVsZCBvciBQYXJzbGV5RmllbGRNdWx0aXBsZSBpbnN0YW5jZSBleHBlY3RlZCcpO1xuXG4gICAgdmFyIHZhbGlkYXRvclNwZWMgPSB3aW5kb3cuUGFyc2xleS5fdmFsaWRhdG9yUmVnaXN0cnkudmFsaWRhdG9yc1tuYW1lXTtcbiAgICB2YXIgdmFsaWRhdG9yID0gbmV3IFBhcnNsZXlWYWxpZGF0b3IodmFsaWRhdG9yU3BlYyk7XG5cbiAgICAkLmV4dGVuZCh0aGlzLCB7XG4gICAgICB2YWxpZGF0b3I6IHZhbGlkYXRvcixcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICByZXF1aXJlbWVudHM6IHJlcXVpcmVtZW50cyxcbiAgICAgIHByaW9yaXR5OiBwcmlvcml0eSB8fCBwYXJzbGV5RmllbGQub3B0aW9uc1tuYW1lICsgJ1ByaW9yaXR5J10gfHwgdmFsaWRhdG9yLnByaW9yaXR5LFxuICAgICAgaXNEb21Db25zdHJhaW50OiB0cnVlID09PSBpc0RvbUNvbnN0cmFpbnRcbiAgICB9KTtcbiAgICB0aGlzLl9wYXJzZVJlcXVpcmVtZW50cyhwYXJzbGV5RmllbGQub3B0aW9ucyk7XG4gIH07XG5cbiAgdmFyIGNhcGl0YWxpemUgPSBmdW5jdGlvbiBjYXBpdGFsaXplKHN0cikge1xuICAgIHZhciBjYXAgPSBzdHJbMF0udG9VcHBlckNhc2UoKTtcbiAgICByZXR1cm4gY2FwICsgc3RyLnNsaWNlKDEpO1xuICB9O1xuXG4gIENvbnN0cmFpbnRGYWN0b3J5LnByb3RvdHlwZSA9IHtcbiAgICB2YWxpZGF0ZTogZnVuY3Rpb24gdmFsaWRhdGUodmFsdWUsIGluc3RhbmNlKSB7XG4gICAgICB2YXIgX3ZhbGlkYXRvcjtcblxuICAgICAgcmV0dXJuIChfdmFsaWRhdG9yID0gdGhpcy52YWxpZGF0b3IpLnZhbGlkYXRlLmFwcGx5KF92YWxpZGF0b3IsIFt2YWx1ZV0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh0aGlzLnJlcXVpcmVtZW50TGlzdCksIFtpbnN0YW5jZV0pKTtcbiAgICB9LFxuXG4gICAgX3BhcnNlUmVxdWlyZW1lbnRzOiBmdW5jdGlvbiBfcGFyc2VSZXF1aXJlbWVudHMob3B0aW9ucykge1xuICAgICAgdmFyIF90aGlzOSA9IHRoaXM7XG5cbiAgICAgIHRoaXMucmVxdWlyZW1lbnRMaXN0ID0gdGhpcy52YWxpZGF0b3IucGFyc2VSZXF1aXJlbWVudHModGhpcy5yZXF1aXJlbWVudHMsIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnNbX3RoaXM5Lm5hbWUgKyBjYXBpdGFsaXplKGtleSldO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBQYXJzbGV5RmllbGQgPSBmdW5jdGlvbiBQYXJzbGV5RmllbGQoZmllbGQsIGRvbU9wdGlvbnMsIG9wdGlvbnMsIHBhcnNsZXlGb3JtSW5zdGFuY2UpIHtcbiAgICB0aGlzLl9fY2xhc3NfXyA9ICdQYXJzbGV5RmllbGQnO1xuXG4gICAgdGhpcy4kZWxlbWVudCA9ICQoZmllbGQpO1xuXG4gICAgLy8gU2V0IHBhcmVudCBpZiB3ZSBoYXZlIG9uZVxuICAgIGlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIHBhcnNsZXlGb3JtSW5zdGFuY2UpIHtcbiAgICAgIHRoaXMucGFyZW50ID0gcGFyc2xleUZvcm1JbnN0YW5jZTtcbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuZG9tT3B0aW9ucyA9IGRvbU9wdGlvbnM7XG5cbiAgICAvLyBJbml0aWFsaXplIHNvbWUgcHJvcGVydGllc1xuICAgIHRoaXMuY29uc3RyYWludHMgPSBbXTtcbiAgICB0aGlzLmNvbnN0cmFpbnRzQnlOYW1lID0ge307XG4gICAgdGhpcy52YWxpZGF0aW9uUmVzdWx0ID0gdHJ1ZTtcblxuICAgIC8vIEJpbmQgY29uc3RyYWludHNcbiAgICB0aGlzLl9iaW5kQ29uc3RyYWludHMoKTtcbiAgfTtcblxuICB2YXIgcGFyc2xleV9maWVsZF9fc3RhdHVzTWFwcGluZyA9IHsgcGVuZGluZzogbnVsbCwgcmVzb2x2ZWQ6IHRydWUsIHJlamVjdGVkOiBmYWxzZSB9O1xuXG4gIFBhcnNsZXlGaWVsZC5wcm90b3R5cGUgPSB7XG4gICAgLy8gIyBQdWJsaWMgQVBJXG4gICAgLy8gVmFsaWRhdGUgZmllbGQgYW5kIHRyaWdnZXIgc29tZSBldmVudHMgZm9yIG1haW5seSBgUGFyc2xleVVJYFxuICAgIC8vIEByZXR1cm5zIGB0cnVlYCwgYW4gYXJyYXkgb2YgdGhlIHZhbGlkYXRvcnMgdGhhdCBmYWlsZWQsIG9yXG4gICAgLy8gYG51bGxgIGlmIHZhbGlkYXRpb24gaXMgbm90IGZpbmlzaGVkLiBQcmVmZXIgdXNpbmcgd2hlblZhbGlkYXRlXG4gICAgdmFsaWRhdGU6IGZ1bmN0aW9uIHZhbGlkYXRlKG9wdGlvbnMpIHtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDEgJiYgISQuaXNQbGFpbk9iamVjdChvcHRpb25zKSkge1xuICAgICAgICBQYXJzbGV5VXRpbHNfX2RlZmF1bHQud2Fybk9uY2UoJ0NhbGxpbmcgdmFsaWRhdGUgb24gYSBwYXJzbGV5IGZpZWxkIHdpdGhvdXQgcGFzc2luZyBhcmd1bWVudHMgYXMgYW4gb2JqZWN0IGlzIGRlcHJlY2F0ZWQuJyk7XG4gICAgICAgIG9wdGlvbnMgPSB7IG9wdGlvbnM6IG9wdGlvbnMgfTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm9taXNlID0gdGhpcy53aGVuVmFsaWRhdGUob3B0aW9ucyk7XG4gICAgICBpZiAoIXByb21pc2UpIC8vIElmIGV4Y2x1ZGVkIHdpdGggYGdyb3VwYCBvcHRpb25cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBzd2l0Y2ggKHByb21pc2Uuc3RhdGUoKSkge1xuICAgICAgICBjYXNlICdwZW5kaW5nJzpcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY2FzZSAncmVzb2x2ZWQnOlxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBjYXNlICdyZWplY3RlZCc6XG4gICAgICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdGlvblJlc3VsdDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gVmFsaWRhdGUgZmllbGQgYW5kIHRyaWdnZXIgc29tZSBldmVudHMgZm9yIG1haW5seSBgUGFyc2xleVVJYFxuICAgIC8vIEByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHN1Y2NlZWRzIG9ubHkgd2hlbiBhbGwgdmFsaWRhdGlvbnMgZG9cbiAgICAvLyBvciBgdW5kZWZpbmVkYCBpZiBmaWVsZCBpcyBub3QgaW4gdGhlIGdpdmVuIGBncm91cGAuXG4gICAgd2hlblZhbGlkYXRlOiBmdW5jdGlvbiB3aGVuVmFsaWRhdGUoKSB7XG4gICAgICB2YXIgX3doZW5WYWxpZCRhbHdheXMkZG9uZSRmYWlsJGFsd2F5cyxcbiAgICAgICAgICBfdGhpczEwID0gdGhpcztcblxuICAgICAgdmFyIF9yZWY5ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cbiAgICAgIHZhciBmb3JjZSA9IF9yZWY5LmZvcmNlO1xuICAgICAgdmFyIGdyb3VwID0gX3JlZjkuZ3JvdXA7XG5cbiAgICAgIC8vIGRvIG5vdCB2YWxpZGF0ZSBhIGZpZWxkIGlmIG5vdCB0aGUgc2FtZSBhcyBnaXZlbiB2YWxpZGF0aW9uIGdyb3VwXG4gICAgICB0aGlzLnJlZnJlc2hDb25zdHJhaW50cygpO1xuICAgICAgaWYgKGdyb3VwICYmICF0aGlzLl9pc0luR3JvdXAoZ3JvdXApKSByZXR1cm47XG5cbiAgICAgIHRoaXMudmFsdWUgPSB0aGlzLmdldFZhbHVlKCk7XG5cbiAgICAgIC8vIEZpZWxkIFZhbGlkYXRlIGV2ZW50LiBgdGhpcy52YWx1ZWAgY291bGQgYmUgYWx0ZXJlZCBmb3IgY3VzdG9tIG5lZWRzXG4gICAgICB0aGlzLl90cmlnZ2VyKCd2YWxpZGF0ZScpO1xuXG4gICAgICByZXR1cm4gKF93aGVuVmFsaWQkYWx3YXlzJGRvbmUkZmFpbCRhbHdheXMgPSB0aGlzLndoZW5WYWxpZCh7IGZvcmNlOiBmb3JjZSwgdmFsdWU6IHRoaXMudmFsdWUsIF9yZWZyZXNoZWQ6IHRydWUgfSkuYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMxMC5fcmVmbG93VUkoKTtcbiAgICAgIH0pLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczEwLl90cmlnZ2VyKCdzdWNjZXNzJyk7XG4gICAgICB9KS5mYWlsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMxMC5fdHJpZ2dlcignZXJyb3InKTtcbiAgICAgIH0pLmFsd2F5cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMTAuX3RyaWdnZXIoJ3ZhbGlkYXRlZCcpO1xuICAgICAgfSkpLnBpcGUuYXBwbHkoX3doZW5WYWxpZCRhbHdheXMkZG9uZSRmYWlsJGFsd2F5cywgX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuX3BpcGVBY2NvcmRpbmdUb1ZhbGlkYXRpb25SZXN1bHQoKSkpO1xuICAgIH0sXG5cbiAgICBoYXNDb25zdHJhaW50czogZnVuY3Rpb24gaGFzQ29uc3RyYWludHMoKSB7XG4gICAgICByZXR1cm4gMCAhPT0gdGhpcy5jb25zdHJhaW50cy5sZW5ndGg7XG4gICAgfSxcblxuICAgIC8vIEFuIGVtcHR5IG9wdGlvbmFsIGZpZWxkIGRvZXMgbm90IG5lZWQgdmFsaWRhdGlvblxuICAgIG5lZWRzVmFsaWRhdGlvbjogZnVuY3Rpb24gbmVlZHNWYWxpZGF0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoJ3VuZGVmaW5lZCcgPT09IHR5cGVvZiB2YWx1ZSkgdmFsdWUgPSB0aGlzLmdldFZhbHVlKCk7XG5cbiAgICAgIC8vIElmIGEgZmllbGQgaXMgZW1wdHkgYW5kIG5vdCByZXF1aXJlZCwgaXQgaXMgdmFsaWRcbiAgICAgIC8vIEV4Y2VwdCBpZiBgZGF0YS1wYXJzbGV5LXZhbGlkYXRlLWlmLWVtcHR5YCBleHBsaWNpdGVseSBhZGRlZCwgdXNlZnVsIGZvciBzb21lIGN1c3RvbSB2YWxpZGF0b3JzXG4gICAgICBpZiAoIXZhbHVlLmxlbmd0aCAmJiAhdGhpcy5faXNSZXF1aXJlZCgpICYmICd1bmRlZmluZWQnID09PSB0eXBlb2YgdGhpcy5vcHRpb25zLnZhbGlkYXRlSWZFbXB0eSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgX2lzSW5Hcm91cDogZnVuY3Rpb24gX2lzSW5Hcm91cChncm91cCkge1xuICAgICAgaWYgKCQuaXNBcnJheSh0aGlzLm9wdGlvbnMuZ3JvdXApKSByZXR1cm4gLTEgIT09ICQuaW5BcnJheShncm91cCwgdGhpcy5vcHRpb25zLmdyb3VwKTtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZ3JvdXAgPT09IGdyb3VwO1xuICAgIH0sXG5cbiAgICAvLyBKdXN0IHZhbGlkYXRlIGZpZWxkLiBEbyBub3QgdHJpZ2dlciBhbnkgZXZlbnQuXG4gICAgLy8gUmV0dXJucyBgdHJ1ZWAgaWZmIGFsbCBjb25zdHJhaW50cyBwYXNzLCBgZmFsc2VgIGlmIHRoZXJlIGFyZSBmYWlsdXJlcyxcbiAgICAvLyBvciBgbnVsbGAgaWYgdGhlIHJlc3VsdCBjYW4gbm90IGJlIGRldGVybWluZWQgeWV0IChkZXBlbmRzIG9uIGEgcHJvbWlzZSlcbiAgICAvLyBTZWUgYWxzbyBgd2hlblZhbGlkYC5cbiAgICBpc1ZhbGlkOiBmdW5jdGlvbiBpc1ZhbGlkKG9wdGlvbnMpIHtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDEgJiYgISQuaXNQbGFpbk9iamVjdChvcHRpb25zKSkge1xuICAgICAgICBQYXJzbGV5VXRpbHNfX2RlZmF1bHQud2Fybk9uY2UoJ0NhbGxpbmcgaXNWYWxpZCBvbiBhIHBhcnNsZXkgZmllbGQgd2l0aG91dCBwYXNzaW5nIGFyZ3VtZW50cyBhcyBhbiBvYmplY3QgaXMgZGVwcmVjYXRlZC4nKTtcblxuICAgICAgICB2YXIgX2FyZ3VtZW50czMgPSBfc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuXG4gICAgICAgIHZhciBmb3JjZSA9IF9hcmd1bWVudHMzWzBdO1xuICAgICAgICB2YXIgdmFsdWUgPSBfYXJndW1lbnRzM1sxXTtcblxuICAgICAgICBvcHRpb25zID0geyBmb3JjZTogZm9yY2UsIHZhbHVlOiB2YWx1ZSB9O1xuICAgICAgfVxuICAgICAgdmFyIHByb21pc2UgPSB0aGlzLndoZW5WYWxpZChvcHRpb25zKTtcbiAgICAgIGlmICghcHJvbWlzZSkgLy8gRXhjbHVkZWQgdmlhIGBncm91cGBcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICByZXR1cm4gcGFyc2xleV9maWVsZF9fc3RhdHVzTWFwcGluZ1twcm9taXNlLnN0YXRlKCldO1xuICAgIH0sXG5cbiAgICAvLyBKdXN0IHZhbGlkYXRlIGZpZWxkLiBEbyBub3QgdHJpZ2dlciBhbnkgZXZlbnQuXG4gICAgLy8gQHJldHVybnMgYSBwcm9taXNlIHRoYXQgc3VjY2VlZHMgb25seSB3aGVuIGFsbCB2YWxpZGF0aW9ucyBkb1xuICAgIC8vIG9yIGB1bmRlZmluZWRgIGlmIHRoZSBmaWVsZCBpcyBub3QgaW4gdGhlIGdpdmVuIGBncm91cGAuXG4gICAgLy8gVGhlIGFyZ3VtZW50IGBmb3JjZWAgd2lsbCBmb3JjZSB2YWxpZGF0aW9uIG9mIGVtcHR5IGZpZWxkcy5cbiAgICAvLyBJZiBhIGB2YWx1ZWAgaXMgZ2l2ZW4sIGl0IHdpbGwgYmUgdmFsaWRhdGVkIGluc3RlYWQgb2YgdGhlIHZhbHVlIG9mIHRoZSBpbnB1dC5cbiAgICB3aGVuVmFsaWQ6IGZ1bmN0aW9uIHdoZW5WYWxpZCgpIHtcbiAgICAgIHZhciBfdGhpczExID0gdGhpcztcblxuICAgICAgdmFyIF9yZWYxMCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXG4gICAgICB2YXIgX3JlZjEwJGZvcmNlID0gX3JlZjEwLmZvcmNlO1xuICAgICAgdmFyIGZvcmNlID0gX3JlZjEwJGZvcmNlID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYxMCRmb3JjZTtcbiAgICAgIHZhciB2YWx1ZSA9IF9yZWYxMC52YWx1ZTtcbiAgICAgIHZhciBncm91cCA9IF9yZWYxMC5ncm91cDtcbiAgICAgIHZhciBfcmVmcmVzaGVkID0gX3JlZjEwLl9yZWZyZXNoZWQ7XG5cbiAgICAgIC8vIFJlY29tcHV0ZSBvcHRpb25zIGFuZCByZWJpbmQgY29uc3RyYWludHMgdG8gaGF2ZSBsYXRlc3QgY2hhbmdlc1xuICAgICAgaWYgKCFfcmVmcmVzaGVkKSB0aGlzLnJlZnJlc2hDb25zdHJhaW50cygpO1xuICAgICAgLy8gZG8gbm90IHZhbGlkYXRlIGEgZmllbGQgaWYgbm90IHRoZSBzYW1lIGFzIGdpdmVuIHZhbGlkYXRpb24gZ3JvdXBcbiAgICAgIGlmIChncm91cCAmJiAhdGhpcy5faXNJbkdyb3VwKGdyb3VwKSkgcmV0dXJuO1xuXG4gICAgICB0aGlzLnZhbGlkYXRpb25SZXN1bHQgPSB0cnVlO1xuXG4gICAgICAvLyBBIGZpZWxkIHdpdGhvdXQgY29uc3RyYWludCBpcyB2YWxpZFxuICAgICAgaWYgKCF0aGlzLmhhc0NvbnN0cmFpbnRzKCkpIHJldHVybiAkLndoZW4oKTtcblxuICAgICAgLy8gVmFsdWUgY291bGQgYmUgcGFzc2VkIGFzIGFyZ3VtZW50LCBuZWVkZWQgdG8gYWRkIG1vcmUgcG93ZXIgdG8gJ2ZpZWxkOnZhbGlkYXRlJ1xuICAgICAgaWYgKCd1bmRlZmluZWQnID09PSB0eXBlb2YgdmFsdWUgfHwgbnVsbCA9PT0gdmFsdWUpIHZhbHVlID0gdGhpcy5nZXRWYWx1ZSgpO1xuXG4gICAgICBpZiAoIXRoaXMubmVlZHNWYWxpZGF0aW9uKHZhbHVlKSAmJiB0cnVlICE9PSBmb3JjZSkgcmV0dXJuICQud2hlbigpO1xuXG4gICAgICB2YXIgZ3JvdXBlZENvbnN0cmFpbnRzID0gdGhpcy5fZ2V0R3JvdXBlZENvbnN0cmFpbnRzKCk7XG4gICAgICB2YXIgcHJvbWlzZXMgPSBbXTtcbiAgICAgICQuZWFjaChncm91cGVkQ29uc3RyYWludHMsIGZ1bmN0aW9uIChfLCBjb25zdHJhaW50cykge1xuICAgICAgICAvLyBQcm9jZXNzIG9uZSBncm91cCBvZiBjb25zdHJhaW50cyBhdCBhIHRpbWUsIHdlIHZhbGlkYXRlIHRoZSBjb25zdHJhaW50c1xuICAgICAgICAvLyBhbmQgY29tYmluZSB0aGUgcHJvbWlzZXMgdG9nZXRoZXIuXG4gICAgICAgIHZhciBwcm9taXNlID0gUGFyc2xleVV0aWxzX19kZWZhdWx0LmFsbCgkLm1hcChjb25zdHJhaW50cywgZnVuY3Rpb24gKGNvbnN0cmFpbnQpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMxMS5fdmFsaWRhdGVDb25zdHJhaW50KHZhbHVlLCBjb25zdHJhaW50KTtcbiAgICAgICAgfSkpO1xuICAgICAgICBwcm9taXNlcy5wdXNoKHByb21pc2UpO1xuICAgICAgICBpZiAocHJvbWlzZS5zdGF0ZSgpID09PSAncmVqZWN0ZWQnKSByZXR1cm4gZmFsc2U7IC8vIEludGVycnVwdCBwcm9jZXNzaW5nIGlmIGEgZ3JvdXAgaGFzIGFscmVhZHkgZmFpbGVkXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBQYXJzbGV5VXRpbHNfX2RlZmF1bHQuYWxsKHByb21pc2VzKTtcbiAgICB9LFxuXG4gICAgLy8gQHJldHVybnMgYSBwcm9taXNlXG4gICAgX3ZhbGlkYXRlQ29uc3RyYWludDogZnVuY3Rpb24gX3ZhbGlkYXRlQ29uc3RyYWludCh2YWx1ZSwgY29uc3RyYWludCkge1xuICAgICAgdmFyIF90aGlzMTIgPSB0aGlzO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gY29uc3RyYWludC52YWxpZGF0ZSh2YWx1ZSwgdGhpcyk7XG4gICAgICAvLyBNYXAgZmFsc2UgdG8gYSBmYWlsZWQgcHJvbWlzZVxuICAgICAgaWYgKGZhbHNlID09PSByZXN1bHQpIHJlc3VsdCA9ICQuRGVmZXJyZWQoKS5yZWplY3QoKTtcbiAgICAgIC8vIE1ha2Ugc3VyZSB3ZSByZXR1cm4gYSBwcm9taXNlIGFuZCB0aGF0IHdlIHJlY29yZCBmYWlsdXJlc1xuICAgICAgcmV0dXJuIFBhcnNsZXlVdGlsc19fZGVmYXVsdC5hbGwoW3Jlc3VsdF0pLmZhaWwoZnVuY3Rpb24gKGVycm9yTWVzc2FnZSkge1xuICAgICAgICBpZiAoIShfdGhpczEyLnZhbGlkYXRpb25SZXN1bHQgaW5zdGFuY2VvZiBBcnJheSkpIF90aGlzMTIudmFsaWRhdGlvblJlc3VsdCA9IFtdO1xuICAgICAgICBfdGhpczEyLnZhbGlkYXRpb25SZXN1bHQucHVzaCh7XG4gICAgICAgICAgYXNzZXJ0OiBjb25zdHJhaW50LFxuICAgICAgICAgIGVycm9yTWVzc2FnZTogJ3N0cmluZycgPT09IHR5cGVvZiBlcnJvck1lc3NhZ2UgJiYgZXJyb3JNZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIEByZXR1cm5zIFBhcnNsZXkgZmllbGQgY29tcHV0ZWQgdmFsdWUgdGhhdCBjb3VsZCBiZSBvdmVycmlkZWQgb3IgY29uZmlndXJlZCBpbiBET01cbiAgICBnZXRWYWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG4gICAgICB2YXIgdmFsdWU7XG5cbiAgICAgIC8vIFZhbHVlIGNvdWxkIGJlIG92ZXJyaWRlbiBpbiBET00gb3Igd2l0aCBleHBsaWNpdCBvcHRpb25zXG4gICAgICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIHRoaXMub3B0aW9ucy52YWx1ZSkgdmFsdWUgPSB0aGlzLm9wdGlvbnMudmFsdWUodGhpcyk7ZWxzZSBpZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiB0aGlzLm9wdGlvbnMudmFsdWUpIHZhbHVlID0gdGhpcy5vcHRpb25zLnZhbHVlO2Vsc2UgdmFsdWUgPSB0aGlzLiRlbGVtZW50LnZhbCgpO1xuXG4gICAgICAvLyBIYW5kbGUgd3JvbmcgRE9NIG9yIGNvbmZpZ3VyYXRpb25zXG4gICAgICBpZiAoJ3VuZGVmaW5lZCcgPT09IHR5cGVvZiB2YWx1ZSB8fCBudWxsID09PSB2YWx1ZSkgcmV0dXJuICcnO1xuXG4gICAgICByZXR1cm4gdGhpcy5faGFuZGxlV2hpdGVzcGFjZSh2YWx1ZSk7XG4gICAgfSxcblxuICAgIC8vIEFjdHVhbGl6ZSBvcHRpb25zIHRoYXQgY291bGQgaGF2ZSBjaGFuZ2Ugc2luY2UgcHJldmlvdXMgdmFsaWRhdGlvblxuICAgIC8vIFJlLWJpbmQgYWNjb3JkaW5nbHkgY29uc3RyYWludHMgKGNvdWxkIGJlIHNvbWUgbmV3LCByZW1vdmVkIG9yIHVwZGF0ZWQpXG4gICAgcmVmcmVzaENvbnN0cmFpbnRzOiBmdW5jdGlvbiByZWZyZXNoQ29uc3RyYWludHMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5hY3R1YWxpemVPcHRpb25zKCkuX2JpbmRDb25zdHJhaW50cygpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAqIEFkZCBhIG5ldyBjb25zdHJhaW50IHRvIGEgZmllbGRcbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gICBuYW1lXG4gICAgKiBAcGFyYW0ge01peGVkfSAgICByZXF1aXJlbWVudHMgICAgICBvcHRpb25hbFxuICAgICogQHBhcmFtIHtOdW1iZXJ9ICAgcHJpb3JpdHkgICAgICAgICAgb3B0aW9uYWxcbiAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gIGlzRG9tQ29uc3RyYWludCAgIG9wdGlvbmFsXG4gICAgKi9cbiAgICBhZGRDb25zdHJhaW50OiBmdW5jdGlvbiBhZGRDb25zdHJhaW50KG5hbWUsIHJlcXVpcmVtZW50cywgcHJpb3JpdHksIGlzRG9tQ29uc3RyYWludCkge1xuXG4gICAgICBpZiAod2luZG93LlBhcnNsZXkuX3ZhbGlkYXRvclJlZ2lzdHJ5LnZhbGlkYXRvcnNbbmFtZV0pIHtcbiAgICAgICAgdmFyIGNvbnN0cmFpbnQgPSBuZXcgQ29uc3RyYWludEZhY3RvcnkodGhpcywgbmFtZSwgcmVxdWlyZW1lbnRzLCBwcmlvcml0eSwgaXNEb21Db25zdHJhaW50KTtcblxuICAgICAgICAvLyBpZiBjb25zdHJhaW50IGFscmVhZHkgZXhpc3QsIGRlbGV0ZSBpdCBhbmQgcHVzaCBuZXcgdmVyc2lvblxuICAgICAgICBpZiAoJ3VuZGVmaW5lZCcgIT09IHRoaXMuY29uc3RyYWludHNCeU5hbWVbY29uc3RyYWludC5uYW1lXSkgdGhpcy5yZW1vdmVDb25zdHJhaW50KGNvbnN0cmFpbnQubmFtZSk7XG5cbiAgICAgICAgdGhpcy5jb25zdHJhaW50cy5wdXNoKGNvbnN0cmFpbnQpO1xuICAgICAgICB0aGlzLmNvbnN0cmFpbnRzQnlOYW1lW2NvbnN0cmFpbnQubmFtZV0gPSBjb25zdHJhaW50O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLy8gUmVtb3ZlIGEgY29uc3RyYWludFxuICAgIHJlbW92ZUNvbnN0cmFpbnQ6IGZ1bmN0aW9uIHJlbW92ZUNvbnN0cmFpbnQobmFtZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbnN0cmFpbnRzLmxlbmd0aDsgaSsrKSBpZiAobmFtZSA9PT0gdGhpcy5jb25zdHJhaW50c1tpXS5uYW1lKSB7XG4gICAgICAgIHRoaXMuY29uc3RyYWludHMuc3BsaWNlKGksIDEpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlbGV0ZSB0aGlzLmNvbnN0cmFpbnRzQnlOYW1lW25hbWVdO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8vIFVwZGF0ZSBhIGNvbnN0cmFpbnQgKFJlbW92ZSArIHJlLWFkZClcbiAgICB1cGRhdGVDb25zdHJhaW50OiBmdW5jdGlvbiB1cGRhdGVDb25zdHJhaW50KG5hbWUsIHBhcmFtZXRlcnMsIHByaW9yaXR5KSB7XG4gICAgICByZXR1cm4gdGhpcy5yZW1vdmVDb25zdHJhaW50KG5hbWUpLmFkZENvbnN0cmFpbnQobmFtZSwgcGFyYW1ldGVycywgcHJpb3JpdHkpO1xuICAgIH0sXG5cbiAgICAvLyAjIEludGVybmFsc1xuXG4gICAgLy8gSW50ZXJuYWwgb25seS5cbiAgICAvLyBCaW5kIGNvbnN0cmFpbnRzIGZyb20gY29uZmlnICsgb3B0aW9ucyArIERPTVxuICAgIF9iaW5kQ29uc3RyYWludHM6IGZ1bmN0aW9uIF9iaW5kQ29uc3RyYWludHMoKSB7XG4gICAgICB2YXIgY29uc3RyYWludHMgPSBbXTtcbiAgICAgIHZhciBjb25zdHJhaW50c0J5TmFtZSA9IHt9O1xuXG4gICAgICAvLyBjbGVhbiBhbGwgZXhpc3RpbmcgRE9NIGNvbnN0cmFpbnRzIHRvIG9ubHkga2VlcCBqYXZhc2NyaXB0IHVzZXIgY29uc3RyYWludHNcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb25zdHJhaW50cy5sZW5ndGg7IGkrKykgaWYgKGZhbHNlID09PSB0aGlzLmNvbnN0cmFpbnRzW2ldLmlzRG9tQ29uc3RyYWludCkge1xuICAgICAgICBjb25zdHJhaW50cy5wdXNoKHRoaXMuY29uc3RyYWludHNbaV0pO1xuICAgICAgICBjb25zdHJhaW50c0J5TmFtZVt0aGlzLmNvbnN0cmFpbnRzW2ldLm5hbWVdID0gdGhpcy5jb25zdHJhaW50c1tpXTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jb25zdHJhaW50cyA9IGNvbnN0cmFpbnRzO1xuICAgICAgdGhpcy5jb25zdHJhaW50c0J5TmFtZSA9IGNvbnN0cmFpbnRzQnlOYW1lO1xuXG4gICAgICAvLyB0aGVuIHJlLWFkZCBQYXJzbGV5IERPTS1BUEkgY29uc3RyYWludHNcbiAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcy5vcHRpb25zKSB0aGlzLmFkZENvbnN0cmFpbnQobmFtZSwgdGhpcy5vcHRpb25zW25hbWVdLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgICAvLyBmaW5hbGx5LCBiaW5kIHNwZWNpYWwgSFRNTDUgY29uc3RyYWludHNcbiAgICAgIHJldHVybiB0aGlzLl9iaW5kSHRtbDVDb25zdHJhaW50cygpO1xuICAgIH0sXG5cbiAgICAvLyBJbnRlcm5hbCBvbmx5LlxuICAgIC8vIEJpbmQgc3BlY2lmaWMgSFRNTDUgY29uc3RyYWludHMgdG8gYmUgSFRNTDUgY29tcGxpYW50XG4gICAgX2JpbmRIdG1sNUNvbnN0cmFpbnRzOiBmdW5jdGlvbiBfYmluZEh0bWw1Q29uc3RyYWludHMoKSB7XG4gICAgICAvLyBodG1sNSByZXF1aXJlZFxuICAgICAgaWYgKHRoaXMuJGVsZW1lbnQuYXR0cigncmVxdWlyZWQnKSkgdGhpcy5hZGRDb25zdHJhaW50KCdyZXF1aXJlZCcsIHRydWUsIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICAgIC8vIGh0bWw1IHBhdHRlcm5cbiAgICAgIGlmICgnc3RyaW5nJyA9PT0gdHlwZW9mIHRoaXMuJGVsZW1lbnQuYXR0cigncGF0dGVybicpKSB0aGlzLmFkZENvbnN0cmFpbnQoJ3BhdHRlcm4nLCB0aGlzLiRlbGVtZW50LmF0dHIoJ3BhdHRlcm4nKSwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgICAgLy8gcmFuZ2VcbiAgICAgIGlmICh0aGlzLiRlbGVtZW50LmF0dHIoJ3R5cGUnKSAhPT0gJ2RhdGUnICYmICd1bmRlZmluZWQnICE9PSB0eXBlb2YgdGhpcy4kZWxlbWVudC5hdHRyKCdtaW4nKSAmJiAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIHRoaXMuJGVsZW1lbnQuYXR0cignbWF4JykpIHRoaXMuYWRkQ29uc3RyYWludCgncmFuZ2UnLCBbdGhpcy4kZWxlbWVudC5hdHRyKCdtaW4nKSwgdGhpcy4kZWxlbWVudC5hdHRyKCdtYXgnKV0sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICAgIC8vIEhUTUw1IG1pblxuICAgICAgZWxzZSBpZiAodGhpcy4kZWxlbWVudC5hdHRyKCd0eXBlJykgIT09ICdkYXRlJyAmJiAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIHRoaXMuJGVsZW1lbnQuYXR0cignbWluJykpIHRoaXMuYWRkQ29uc3RyYWludCgnbWluJywgdGhpcy4kZWxlbWVudC5hdHRyKCdtaW4nKSwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgICAgICAvLyBIVE1MNSBtYXhcbiAgICAgICAgZWxzZSBpZiAodGhpcy4kZWxlbWVudC5hdHRyKCd0eXBlJykgIT09ICdkYXRlJyAmJiAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIHRoaXMuJGVsZW1lbnQuYXR0cignbWF4JykpIHRoaXMuYWRkQ29uc3RyYWludCgnbWF4JywgdGhpcy4kZWxlbWVudC5hdHRyKCdtYXgnKSwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgICAgLy8gbGVuZ3RoXG4gICAgICBpZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiB0aGlzLiRlbGVtZW50LmF0dHIoJ21pbmxlbmd0aCcpICYmICd1bmRlZmluZWQnICE9PSB0eXBlb2YgdGhpcy4kZWxlbWVudC5hdHRyKCdtYXhsZW5ndGgnKSkgdGhpcy5hZGRDb25zdHJhaW50KCdsZW5ndGgnLCBbdGhpcy4kZWxlbWVudC5hdHRyKCdtaW5sZW5ndGgnKSwgdGhpcy4kZWxlbWVudC5hdHRyKCdtYXhsZW5ndGgnKV0sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICAgIC8vIEhUTUw1IG1pbmxlbmd0aFxuICAgICAgZWxzZSBpZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiB0aGlzLiRlbGVtZW50LmF0dHIoJ21pbmxlbmd0aCcpKSB0aGlzLmFkZENvbnN0cmFpbnQoJ21pbmxlbmd0aCcsIHRoaXMuJGVsZW1lbnQuYXR0cignbWlubGVuZ3RoJyksIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICAgICAgLy8gSFRNTDUgbWF4bGVuZ3RoXG4gICAgICAgIGVsc2UgaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgdGhpcy4kZWxlbWVudC5hdHRyKCdtYXhsZW5ndGgnKSkgdGhpcy5hZGRDb25zdHJhaW50KCdtYXhsZW5ndGgnLCB0aGlzLiRlbGVtZW50LmF0dHIoJ21heGxlbmd0aCcpLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgICAvLyBodG1sNSB0eXBlc1xuICAgICAgdmFyIHR5cGUgPSB0aGlzLiRlbGVtZW50LmF0dHIoJ3R5cGUnKTtcblxuICAgICAgaWYgKCd1bmRlZmluZWQnID09PSB0eXBlb2YgdHlwZSkgcmV0dXJuIHRoaXM7XG5cbiAgICAgIC8vIFNtYWxsIHNwZWNpYWwgY2FzZSBoZXJlIGZvciBIVE1MNSBudW1iZXI6IGludGVnZXIgdmFsaWRhdG9yIGlmIHN0ZXAgYXR0cmlidXRlIGlzIHVuZGVmaW5lZCBvciBhbiBpbnRlZ2VyIHZhbHVlLCBudW1iZXIgb3RoZXJ3aXNlXG4gICAgICBpZiAoJ251bWJlcicgPT09IHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkQ29uc3RyYWludCgndHlwZScsIFsnbnVtYmVyJywge1xuICAgICAgICAgIHN0ZXA6IHRoaXMuJGVsZW1lbnQuYXR0cignc3RlcCcpIHx8ICcxJyxcbiAgICAgICAgICBiYXNlOiB0aGlzLiRlbGVtZW50LmF0dHIoJ21pbicpIHx8IHRoaXMuJGVsZW1lbnQuYXR0cigndmFsdWUnKVxuICAgICAgICB9XSwgdW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgICAgLy8gUmVndWxhciBvdGhlciBIVE1MNSBzdXBwb3J0ZWQgdHlwZXNcbiAgICAgIH0gZWxzZSBpZiAoL14oZW1haWx8dXJsfHJhbmdlKSQvaS50ZXN0KHR5cGUpKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYWRkQ29uc3RyYWludCgndHlwZScsIHR5cGUsIHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvLyBJbnRlcm5hbCBvbmx5LlxuICAgIC8vIEZpZWxkIGlzIHJlcXVpcmVkIGlmIGhhdmUgcmVxdWlyZWQgY29uc3RyYWludCB3aXRob3V0IGBmYWxzZWAgdmFsdWVcbiAgICBfaXNSZXF1aXJlZDogZnVuY3Rpb24gX2lzUmVxdWlyZWQoKSB7XG4gICAgICBpZiAoJ3VuZGVmaW5lZCcgPT09IHR5cGVvZiB0aGlzLmNvbnN0cmFpbnRzQnlOYW1lLnJlcXVpcmVkKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIHJldHVybiBmYWxzZSAhPT0gdGhpcy5jb25zdHJhaW50c0J5TmFtZS5yZXF1aXJlZC5yZXF1aXJlbWVudHM7XG4gICAgfSxcblxuICAgIC8vIEludGVybmFsIG9ubHkuXG4gICAgLy8gU2hvcnRjdXQgdG8gdHJpZ2dlciBhbiBldmVudFxuICAgIF90cmlnZ2VyOiBmdW5jdGlvbiBfdHJpZ2dlcihldmVudE5hbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnRyaWdnZXIoJ2ZpZWxkOicgKyBldmVudE5hbWUpO1xuICAgIH0sXG5cbiAgICAvLyBJbnRlcm5hbCBvbmx5XG4gICAgLy8gSGFuZGxlcyB3aGl0ZXNwYWNlIGluIGEgdmFsdWVcbiAgICAvLyBVc2UgYGRhdGEtcGFyc2xleS13aGl0ZXNwYWNlPVwic3F1aXNoXCJgIHRvIGF1dG8gc3F1aXNoIGlucHV0IHZhbHVlXG4gICAgLy8gVXNlIGBkYXRhLXBhcnNsZXktd2hpdGVzcGFjZT1cInRyaW1cImAgdG8gYXV0byB0cmltIGlucHV0IHZhbHVlXG4gICAgX2hhbmRsZVdoaXRlc3BhY2U6IGZ1bmN0aW9uIF9oYW5kbGVXaGl0ZXNwYWNlKHZhbHVlKSB7XG4gICAgICBpZiAodHJ1ZSA9PT0gdGhpcy5vcHRpb25zLnRyaW1WYWx1ZSkgUGFyc2xleVV0aWxzX19kZWZhdWx0Lndhcm5PbmNlKCdkYXRhLXBhcnNsZXktdHJpbS12YWx1ZT1cInRydWVcIiBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGRhdGEtcGFyc2xleS13aGl0ZXNwYWNlPVwidHJpbVwiJyk7XG5cbiAgICAgIGlmICgnc3F1aXNoJyA9PT0gdGhpcy5vcHRpb25zLndoaXRlc3BhY2UpIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxzezIsfS9nLCAnICcpO1xuXG4gICAgICBpZiAoJ3RyaW0nID09PSB0aGlzLm9wdGlvbnMud2hpdGVzcGFjZSB8fCAnc3F1aXNoJyA9PT0gdGhpcy5vcHRpb25zLndoaXRlc3BhY2UgfHwgdHJ1ZSA9PT0gdGhpcy5vcHRpb25zLnRyaW1WYWx1ZSkgdmFsdWUgPSBQYXJzbGV5VXRpbHNfX2RlZmF1bHQudHJpbVN0cmluZyh2YWx1ZSk7XG5cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuXG4gICAgLy8gSW50ZXJuYWwgb25seS5cbiAgICAvLyBSZXR1cm5zIHRoZSBjb25zdHJhaW50cywgZ3JvdXBlZCBieSBkZXNjZW5kaW5nIHByaW9yaXR5LlxuICAgIC8vIFRoZSByZXN1bHQgaXMgdGh1cyBhbiBhcnJheSBvZiBhcnJheXMgb2YgY29uc3RyYWludHMuXG4gICAgX2dldEdyb3VwZWRDb25zdHJhaW50czogZnVuY3Rpb24gX2dldEdyb3VwZWRDb25zdHJhaW50cygpIHtcbiAgICAgIGlmIChmYWxzZSA9PT0gdGhpcy5vcHRpb25zLnByaW9yaXR5RW5hYmxlZCkgcmV0dXJuIFt0aGlzLmNvbnN0cmFpbnRzXTtcblxuICAgICAgdmFyIGdyb3VwZWRDb25zdHJhaW50cyA9IFtdO1xuICAgICAgdmFyIGluZGV4ID0ge307XG5cbiAgICAgIC8vIENyZWF0ZSBhcnJheSB1bmlxdWUgb2YgcHJpb3JpdGllc1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbnN0cmFpbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwID0gdGhpcy5jb25zdHJhaW50c1tpXS5wcmlvcml0eTtcbiAgICAgICAgaWYgKCFpbmRleFtwXSkgZ3JvdXBlZENvbnN0cmFpbnRzLnB1c2goaW5kZXhbcF0gPSBbXSk7XG4gICAgICAgIGluZGV4W3BdLnB1c2godGhpcy5jb25zdHJhaW50c1tpXSk7XG4gICAgICB9XG4gICAgICAvLyBTb3J0IHRoZW0gYnkgcHJpb3JpdHkgREVTQ1xuICAgICAgZ3JvdXBlZENvbnN0cmFpbnRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGJbMF0ucHJpb3JpdHkgLSBhWzBdLnByaW9yaXR5O1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBncm91cGVkQ29uc3RyYWludHM7XG4gICAgfVxuXG4gIH07XG5cbiAgdmFyIHBhcnNsZXlfZmllbGQgPSBQYXJzbGV5RmllbGQ7XG5cbiAgdmFyIFBhcnNsZXlNdWx0aXBsZSA9IGZ1bmN0aW9uIFBhcnNsZXlNdWx0aXBsZSgpIHtcbiAgICB0aGlzLl9fY2xhc3NfXyA9ICdQYXJzbGV5RmllbGRNdWx0aXBsZSc7XG4gIH07XG5cbiAgUGFyc2xleU11bHRpcGxlLnByb3RvdHlwZSA9IHtcbiAgICAvLyBBZGQgbmV3IGAkZWxlbWVudGAgc2libGluZyBmb3IgbXVsdGlwbGUgZmllbGRcbiAgICBhZGRFbGVtZW50OiBmdW5jdGlvbiBhZGRFbGVtZW50KCRlbGVtZW50KSB7XG4gICAgICB0aGlzLiRlbGVtZW50cy5wdXNoKCRlbGVtZW50KTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8vIFNlZSBgUGFyc2xleUZpZWxkLnJlZnJlc2hDb25zdHJhaW50cygpYFxuICAgIHJlZnJlc2hDb25zdHJhaW50czogZnVuY3Rpb24gcmVmcmVzaENvbnN0cmFpbnRzKCkge1xuICAgICAgdmFyIGZpZWxkQ29uc3RyYWludHM7XG5cbiAgICAgIHRoaXMuY29uc3RyYWludHMgPSBbXTtcblxuICAgICAgLy8gU2VsZWN0IG11bHRpcGxlIHNwZWNpYWwgdHJlYXRtZW50XG4gICAgICBpZiAodGhpcy4kZWxlbWVudC5pcygnc2VsZWN0JykpIHtcbiAgICAgICAgdGhpcy5hY3R1YWxpemVPcHRpb25zKCkuX2JpbmRDb25zdHJhaW50cygpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBHYXRoZXIgYWxsIGNvbnN0cmFpbnRzIGZvciBlYWNoIGlucHV0IGluIHRoZSBtdWx0aXBsZSBncm91cFxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLiRlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgIC8vIENoZWNrIGlmIGVsZW1lbnQgaGF2ZSBub3QgYmVlbiBkeW5hbWljYWxseSByZW1vdmVkIHNpbmNlIGxhc3QgYmluZGluZ1xuICAgICAgICBpZiAoISQoJ2h0bWwnKS5oYXModGhpcy4kZWxlbWVudHNbaV0pLmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMuJGVsZW1lbnRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZpZWxkQ29uc3RyYWludHMgPSB0aGlzLiRlbGVtZW50c1tpXS5kYXRhKCdQYXJzbGV5RmllbGRNdWx0aXBsZScpLnJlZnJlc2hDb25zdHJhaW50cygpLmNvbnN0cmFpbnRzO1xuXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZmllbGRDb25zdHJhaW50cy5sZW5ndGg7IGorKykgdGhpcy5hZGRDb25zdHJhaW50KGZpZWxkQ29uc3RyYWludHNbal0ubmFtZSwgZmllbGRDb25zdHJhaW50c1tqXS5yZXF1aXJlbWVudHMsIGZpZWxkQ29uc3RyYWludHNbal0ucHJpb3JpdHksIGZpZWxkQ29uc3RyYWludHNbal0uaXNEb21Db25zdHJhaW50KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8vIFNlZSBgUGFyc2xleUZpZWxkLmdldFZhbHVlKClgXG4gICAgZ2V0VmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlKCkge1xuICAgICAgLy8gVmFsdWUgY291bGQgYmUgb3ZlcnJpZGVuIGluIERPTVxuICAgICAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiB0aGlzLm9wdGlvbnMudmFsdWUpIHJldHVybiB0aGlzLm9wdGlvbnMudmFsdWUodGhpcyk7ZWxzZSBpZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiB0aGlzLm9wdGlvbnMudmFsdWUpIHJldHVybiB0aGlzLm9wdGlvbnMudmFsdWU7XG5cbiAgICAgIC8vIFJhZGlvIGlucHV0IGNhc2VcbiAgICAgIGlmICh0aGlzLiRlbGVtZW50LmlzKCdpbnB1dFt0eXBlPXJhZGlvXScpKSByZXR1cm4gdGhpcy5fZmluZFJlbGF0ZWQoKS5maWx0ZXIoJzpjaGVja2VkJykudmFsKCkgfHwgJyc7XG5cbiAgICAgIC8vIGNoZWNrYm94IGlucHV0IGNhc2VcbiAgICAgIGlmICh0aGlzLiRlbGVtZW50LmlzKCdpbnB1dFt0eXBlPWNoZWNrYm94XScpKSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSBbXTtcblxuICAgICAgICB0aGlzLl9maW5kUmVsYXRlZCgpLmZpbHRlcignOmNoZWNrZWQnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YWx1ZXMucHVzaCgkKHRoaXMpLnZhbCgpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgIH1cblxuICAgICAgLy8gU2VsZWN0IG11bHRpcGxlIGNhc2VcbiAgICAgIGlmICh0aGlzLiRlbGVtZW50LmlzKCdzZWxlY3QnKSAmJiBudWxsID09PSB0aGlzLiRlbGVtZW50LnZhbCgpKSByZXR1cm4gW107XG5cbiAgICAgIC8vIERlZmF1bHQgY2FzZSB0aGF0IHNob3VsZCBuZXZlciBoYXBwZW5cbiAgICAgIHJldHVybiB0aGlzLiRlbGVtZW50LnZhbCgpO1xuICAgIH0sXG5cbiAgICBfaW5pdDogZnVuY3Rpb24gX2luaXQoKSB7XG4gICAgICB0aGlzLiRlbGVtZW50cyA9IFt0aGlzLiRlbGVtZW50XTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xuXG4gIHZhciBQYXJzbGV5RmFjdG9yeSA9IGZ1bmN0aW9uIFBhcnNsZXlGYWN0b3J5KGVsZW1lbnQsIG9wdGlvbnMsIHBhcnNsZXlGb3JtSW5zdGFuY2UpIHtcbiAgICB0aGlzLiRlbGVtZW50ID0gJChlbGVtZW50KTtcblxuICAgIC8vIElmIHRoZSBlbGVtZW50IGhhcyBhbHJlYWR5IGJlZW4gYm91bmQsIHJldHVybnMgaXRzIHNhdmVkIFBhcnNsZXkgaW5zdGFuY2VcbiAgICB2YXIgc2F2ZWRwYXJzbGV5Rm9ybUluc3RhbmNlID0gdGhpcy4kZWxlbWVudC5kYXRhKCdQYXJzbGV5Jyk7XG4gICAgaWYgKHNhdmVkcGFyc2xleUZvcm1JbnN0YW5jZSkge1xuXG4gICAgICAvLyBJZiB0aGUgc2F2ZWQgaW5zdGFuY2UgaGFzIGJlZW4gYm91bmQgd2l0aG91dCBhIFBhcnNsZXlGb3JtIHBhcmVudCBhbmQgdGhlcmUgaXMgb25lIGdpdmVuIGluIHRoaXMgY2FsbCwgYWRkIGl0XG4gICAgICBpZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBwYXJzbGV5Rm9ybUluc3RhbmNlICYmIHNhdmVkcGFyc2xleUZvcm1JbnN0YW5jZS5wYXJlbnQgPT09IHdpbmRvdy5QYXJzbGV5KSB7XG4gICAgICAgIHNhdmVkcGFyc2xleUZvcm1JbnN0YW5jZS5wYXJlbnQgPSBwYXJzbGV5Rm9ybUluc3RhbmNlO1xuICAgICAgICBzYXZlZHBhcnNsZXlGb3JtSW5zdGFuY2UuX3Jlc2V0T3B0aW9ucyhzYXZlZHBhcnNsZXlGb3JtSW5zdGFuY2Uub3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIGlmICgnb2JqZWN0JyA9PT0gdHlwZW9mIG9wdGlvbnMpIHtcbiAgICAgICAgJC5leHRlbmQoc2F2ZWRwYXJzbGV5Rm9ybUluc3RhbmNlLm9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2F2ZWRwYXJzbGV5Rm9ybUluc3RhbmNlO1xuICAgIH1cblxuICAgIC8vIFBhcnNsZXkgbXVzdCBiZSBpbnN0YW50aWF0ZWQgd2l0aCBhIERPTSBlbGVtZW50IG9yIGpRdWVyeSAkZWxlbWVudFxuICAgIGlmICghdGhpcy4kZWxlbWVudC5sZW5ndGgpIHRocm93IG5ldyBFcnJvcignWW91IG11c3QgYmluZCBQYXJzbGV5IG9uIGFuIGV4aXN0aW5nIGVsZW1lbnQuJyk7XG5cbiAgICBpZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBwYXJzbGV5Rm9ybUluc3RhbmNlICYmICdQYXJzbGV5Rm9ybScgIT09IHBhcnNsZXlGb3JtSW5zdGFuY2UuX19jbGFzc19fKSB0aHJvdyBuZXcgRXJyb3IoJ1BhcmVudCBpbnN0YW5jZSBtdXN0IGJlIGEgUGFyc2xleUZvcm0gaW5zdGFuY2UnKTtcblxuICAgIHRoaXMucGFyZW50ID0gcGFyc2xleUZvcm1JbnN0YW5jZSB8fCB3aW5kb3cuUGFyc2xleTtcbiAgICByZXR1cm4gdGhpcy5pbml0KG9wdGlvbnMpO1xuICB9O1xuXG4gIFBhcnNsZXlGYWN0b3J5LnByb3RvdHlwZSA9IHtcbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuX19jbGFzc19fID0gJ1BhcnNsZXknO1xuICAgICAgdGhpcy5fX3ZlcnNpb25fXyA9ICcyLjYuMic7XG4gICAgICB0aGlzLl9faWRfXyA9IFBhcnNsZXlVdGlsc19fZGVmYXVsdC5nZW5lcmF0ZUlEKCk7XG5cbiAgICAgIC8vIFByZS1jb21wdXRlIG9wdGlvbnNcbiAgICAgIHRoaXMuX3Jlc2V0T3B0aW9ucyhvcHRpb25zKTtcblxuICAgICAgLy8gQSBQYXJzbGV5Rm9ybSBpbnN0YW5jZSBpcyBvYnZpb3VzbHkgYSBgPGZvcm0+YCBlbGVtZW50IGJ1dCBhbHNvIGV2ZXJ5IG5vZGUgdGhhdCBpcyBub3QgYW4gaW5wdXQgYW5kIGhhcyB0aGUgYGRhdGEtcGFyc2xleS12YWxpZGF0ZWAgYXR0cmlidXRlXG4gICAgICBpZiAodGhpcy4kZWxlbWVudC5pcygnZm9ybScpIHx8IFBhcnNsZXlVdGlsc19fZGVmYXVsdC5jaGVja0F0dHIodGhpcy4kZWxlbWVudCwgdGhpcy5vcHRpb25zLm5hbWVzcGFjZSwgJ3ZhbGlkYXRlJykgJiYgIXRoaXMuJGVsZW1lbnQuaXModGhpcy5vcHRpb25zLmlucHV0cykpIHJldHVybiB0aGlzLmJpbmQoJ3BhcnNsZXlGb3JtJyk7XG5cbiAgICAgIC8vIEV2ZXJ5IG90aGVyIGVsZW1lbnQgaXMgYm91bmQgYXMgYSBgUGFyc2xleUZpZWxkYCBvciBgUGFyc2xleUZpZWxkTXVsdGlwbGVgXG4gICAgICByZXR1cm4gdGhpcy5pc011bHRpcGxlKCkgPyB0aGlzLmhhbmRsZU11bHRpcGxlKCkgOiB0aGlzLmJpbmQoJ3BhcnNsZXlGaWVsZCcpO1xuICAgIH0sXG5cbiAgICBpc011bHRpcGxlOiBmdW5jdGlvbiBpc011bHRpcGxlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuJGVsZW1lbnQuaXMoJ2lucHV0W3R5cGU9cmFkaW9dLCBpbnB1dFt0eXBlPWNoZWNrYm94XScpIHx8IHRoaXMuJGVsZW1lbnQuaXMoJ3NlbGVjdCcpICYmICd1bmRlZmluZWQnICE9PSB0eXBlb2YgdGhpcy4kZWxlbWVudC5hdHRyKCdtdWx0aXBsZScpO1xuICAgIH0sXG5cbiAgICAvLyBNdWx0aXBsZXMgZmllbGRzIGFyZSBhIHJlYWwgbmlnaHRtYXJlIDooXG4gICAgLy8gTWF5YmUgc29tZSByZWZhY3RvcmluZyB3b3VsZCBiZSBhcHByZWNpYXRlZCBoZXJlLi4uXG4gICAgaGFuZGxlTXVsdGlwbGU6IGZ1bmN0aW9uIGhhbmRsZU11bHRpcGxlKCkge1xuICAgICAgdmFyIF90aGlzMTMgPSB0aGlzO1xuXG4gICAgICB2YXIgbmFtZTtcbiAgICAgIHZhciBtdWx0aXBsZTtcbiAgICAgIHZhciBwYXJzbGV5TXVsdGlwbGVJbnN0YW5jZTtcblxuICAgICAgLy8gSGFuZGxlIG11bHRpcGxlIG5hbWVcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubXVsdGlwbGUpIDsgLy8gV2UgYWxyZWFkeSBoYXZlIG91ciAnbXVsdGlwbGUnIGlkZW50aWZpZXJcbiAgICAgIGVsc2UgaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgdGhpcy4kZWxlbWVudC5hdHRyKCduYW1lJykgJiYgdGhpcy4kZWxlbWVudC5hdHRyKCduYW1lJykubGVuZ3RoKSB0aGlzLm9wdGlvbnMubXVsdGlwbGUgPSBuYW1lID0gdGhpcy4kZWxlbWVudC5hdHRyKCduYW1lJyk7ZWxzZSBpZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiB0aGlzLiRlbGVtZW50LmF0dHIoJ2lkJykgJiYgdGhpcy4kZWxlbWVudC5hdHRyKCdpZCcpLmxlbmd0aCkgdGhpcy5vcHRpb25zLm11bHRpcGxlID0gdGhpcy4kZWxlbWVudC5hdHRyKCdpZCcpO1xuXG4gICAgICAvLyBTcGVjaWFsIHNlbGVjdCBtdWx0aXBsZSBpbnB1dFxuICAgICAgaWYgKHRoaXMuJGVsZW1lbnQuaXMoJ3NlbGVjdCcpICYmICd1bmRlZmluZWQnICE9PSB0eXBlb2YgdGhpcy4kZWxlbWVudC5hdHRyKCdtdWx0aXBsZScpKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5tdWx0aXBsZSA9IHRoaXMub3B0aW9ucy5tdWx0aXBsZSB8fCB0aGlzLl9faWRfXztcbiAgICAgICAgcmV0dXJuIHRoaXMuYmluZCgncGFyc2xleUZpZWxkTXVsdGlwbGUnKTtcblxuICAgICAgICAvLyBFbHNlIGZvciByYWRpbyAvIGNoZWNrYm94ZXMsIHdlIG5lZWQgYSBgbmFtZWAgb3IgYGRhdGEtcGFyc2xleS1tdWx0aXBsZWAgdG8gcHJvcGVybHkgYmluZCBpdFxuICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLm11bHRpcGxlKSB7XG4gICAgICAgICAgUGFyc2xleVV0aWxzX19kZWZhdWx0Lndhcm4oJ1RvIGJlIGJvdW5kIGJ5IFBhcnNsZXksIGEgcmFkaW8sIGEgY2hlY2tib3ggYW5kIGEgbXVsdGlwbGUgc2VsZWN0IGlucHV0IG11c3QgaGF2ZSBlaXRoZXIgYSBuYW1lIG9yIGEgbXVsdGlwbGUgb3B0aW9uLicsIHRoaXMuJGVsZW1lbnQpO1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgIC8vIFJlbW92ZSBzcGVjaWFsIGNoYXJzXG4gICAgICB0aGlzLm9wdGlvbnMubXVsdGlwbGUgPSB0aGlzLm9wdGlvbnMubXVsdGlwbGUucmVwbGFjZSgvKDp8XFwufFxcW3xcXF18XFx7fFxcfXxcXCQpL2csICcnKTtcblxuICAgICAgLy8gQWRkIHByb3BlciBgZGF0YS1wYXJzbGV5LW11bHRpcGxlYCB0byBzaWJsaW5ncyBpZiB3ZSBoYXZlIGEgdmFsaWQgbXVsdGlwbGUgbmFtZVxuICAgICAgaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgbmFtZSkge1xuICAgICAgICAkKCdpbnB1dFtuYW1lPVwiJyArIG5hbWUgKyAnXCJdJykuZWFjaChmdW5jdGlvbiAoaSwgaW5wdXQpIHtcbiAgICAgICAgICBpZiAoJChpbnB1dCkuaXMoJ2lucHV0W3R5cGU9cmFkaW9dLCBpbnB1dFt0eXBlPWNoZWNrYm94XScpKSAkKGlucHV0KS5hdHRyKF90aGlzMTMub3B0aW9ucy5uYW1lc3BhY2UgKyAnbXVsdGlwbGUnLCBfdGhpczEzLm9wdGlvbnMubXVsdGlwbGUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgaGVyZSBpZiB3ZSBkb24ndCBhbHJlYWR5IGhhdmUgYSByZWxhdGVkIG11bHRpcGxlIGluc3RhbmNlIHNhdmVkXG4gICAgICB2YXIgJHByZXZpb3VzbHlSZWxhdGVkID0gdGhpcy5fZmluZFJlbGF0ZWQoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHByZXZpb3VzbHlSZWxhdGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHBhcnNsZXlNdWx0aXBsZUluc3RhbmNlID0gJCgkcHJldmlvdXNseVJlbGF0ZWQuZ2V0KGkpKS5kYXRhKCdQYXJzbGV5Jyk7XG4gICAgICAgIGlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIHBhcnNsZXlNdWx0aXBsZUluc3RhbmNlKSB7XG5cbiAgICAgICAgICBpZiAoIXRoaXMuJGVsZW1lbnQuZGF0YSgnUGFyc2xleUZpZWxkTXVsdGlwbGUnKSkge1xuICAgICAgICAgICAgcGFyc2xleU11bHRpcGxlSW5zdGFuY2UuYWRkRWxlbWVudCh0aGlzLiRlbGVtZW50KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgYSBzZWNyZXQgUGFyc2xleUZpZWxkIGluc3RhbmNlIGZvciBldmVyeSBtdWx0aXBsZSBmaWVsZC4gSXQgd2lsbCBiZSBzdG9yZWQgaW4gYGRhdGEoJ1BhcnNsZXlGaWVsZE11bHRpcGxlJylgXG4gICAgICAvLyBBbmQgd2lsbCBiZSB1c2VmdWwgbGF0ZXIgdG8gYWNjZXNzIGNsYXNzaWMgYFBhcnNsZXlGaWVsZGAgc3R1ZmYgd2hpbGUgYmVpbmcgaW4gYSBgUGFyc2xleUZpZWxkTXVsdGlwbGVgIGluc3RhbmNlXG4gICAgICB0aGlzLmJpbmQoJ3BhcnNsZXlGaWVsZCcsIHRydWUpO1xuXG4gICAgICByZXR1cm4gcGFyc2xleU11bHRpcGxlSW5zdGFuY2UgfHwgdGhpcy5iaW5kKCdwYXJzbGV5RmllbGRNdWx0aXBsZScpO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm4gcHJvcGVyIGBQYXJzbGV5Rm9ybWAsIGBQYXJzbGV5RmllbGRgIG9yIGBQYXJzbGV5RmllbGRNdWx0aXBsZWBcbiAgICBiaW5kOiBmdW5jdGlvbiBiaW5kKHR5cGUsIGRvTm90U3RvcmUpIHtcbiAgICAgIHZhciBwYXJzbGV5SW5zdGFuY2U7XG5cbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdwYXJzbGV5Rm9ybSc6XG4gICAgICAgICAgcGFyc2xleUluc3RhbmNlID0gJC5leHRlbmQobmV3IFBhcnNsZXlGb3JtKHRoaXMuJGVsZW1lbnQsIHRoaXMuZG9tT3B0aW9ucywgdGhpcy5vcHRpb25zKSwgbmV3IFBhcnNsZXlBYnN0cmFjdCgpLCB3aW5kb3cuUGFyc2xleUV4dGVuZCkuX2JpbmRGaWVsZHMoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncGFyc2xleUZpZWxkJzpcbiAgICAgICAgICBwYXJzbGV5SW5zdGFuY2UgPSAkLmV4dGVuZChuZXcgcGFyc2xleV9maWVsZCh0aGlzLiRlbGVtZW50LCB0aGlzLmRvbU9wdGlvbnMsIHRoaXMub3B0aW9ucywgdGhpcy5wYXJlbnQpLCBuZXcgUGFyc2xleUFic3RyYWN0KCksIHdpbmRvdy5QYXJzbGV5RXh0ZW5kKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncGFyc2xleUZpZWxkTXVsdGlwbGUnOlxuICAgICAgICAgIHBhcnNsZXlJbnN0YW5jZSA9ICQuZXh0ZW5kKG5ldyBwYXJzbGV5X2ZpZWxkKHRoaXMuJGVsZW1lbnQsIHRoaXMuZG9tT3B0aW9ucywgdGhpcy5vcHRpb25zLCB0aGlzLnBhcmVudCksIG5ldyBQYXJzbGV5TXVsdGlwbGUoKSwgbmV3IFBhcnNsZXlBYnN0cmFjdCgpLCB3aW5kb3cuUGFyc2xleUV4dGVuZCkuX2luaXQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IodHlwZSArICdpcyBub3QgYSBzdXBwb3J0ZWQgUGFyc2xleSB0eXBlJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubXVsdGlwbGUpIFBhcnNsZXlVdGlsc19fZGVmYXVsdC5zZXRBdHRyKHRoaXMuJGVsZW1lbnQsIHRoaXMub3B0aW9ucy5uYW1lc3BhY2UsICdtdWx0aXBsZScsIHRoaXMub3B0aW9ucy5tdWx0aXBsZSk7XG5cbiAgICAgIGlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIGRvTm90U3RvcmUpIHtcbiAgICAgICAgdGhpcy4kZWxlbWVudC5kYXRhKCdQYXJzbGV5RmllbGRNdWx0aXBsZScsIHBhcnNsZXlJbnN0YW5jZSk7XG5cbiAgICAgICAgcmV0dXJuIHBhcnNsZXlJbnN0YW5jZTtcbiAgICAgIH1cblxuICAgICAgLy8gU3RvcmUgdGhlIGZyZXNobHkgYm91bmQgaW5zdGFuY2UgaW4gYSBET00gZWxlbWVudCBmb3IgbGF0ZXIgYWNjZXNzIHVzaW5nIGpRdWVyeSBgZGF0YSgpYFxuICAgICAgdGhpcy4kZWxlbWVudC5kYXRhKCdQYXJzbGV5JywgcGFyc2xleUluc3RhbmNlKTtcblxuICAgICAgLy8gVGVsbCB0aGUgd29ybGQgd2UgaGF2ZSBhIG5ldyBQYXJzbGV5Rm9ybSBvciBQYXJzbGV5RmllbGQgaW5zdGFuY2UhXG4gICAgICBwYXJzbGV5SW5zdGFuY2UuX2FjdHVhbGl6ZVRyaWdnZXJzKCk7XG4gICAgICBwYXJzbGV5SW5zdGFuY2UuX3RyaWdnZXIoJ2luaXQnKTtcblxuICAgICAgcmV0dXJuIHBhcnNsZXlJbnN0YW5jZTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHZlcm51bXMgPSAkLmZuLmpxdWVyeS5zcGxpdCgnLicpO1xuICBpZiAocGFyc2VJbnQodmVybnVtc1swXSkgPD0gMSAmJiBwYXJzZUludCh2ZXJudW1zWzFdKSA8IDgpIHtcbiAgICB0aHJvdyBcIlRoZSBsb2FkZWQgdmVyc2lvbiBvZiBqUXVlcnkgaXMgdG9vIG9sZC4gUGxlYXNlIHVwZ3JhZGUgdG8gMS44Lnggb3IgYmV0dGVyLlwiO1xuICB9XG4gIGlmICghdmVybnVtcy5mb3JFYWNoKSB7XG4gICAgUGFyc2xleVV0aWxzX19kZWZhdWx0Lndhcm4oJ1BhcnNsZXkgcmVxdWlyZXMgRVM1IHRvIHJ1biBwcm9wZXJseS4gUGxlYXNlIGluY2x1ZGUgaHR0cHM6Ly9naXRodWIuY29tL2VzLXNoaW1zL2VzNS1zaGltJyk7XG4gIH1cbiAgLy8gSW5oZXJpdCBgb25gLCBgb2ZmYCAmIGB0cmlnZ2VyYCB0byBQYXJzbGV5OlxuICB2YXIgUGFyc2xleSA9ICQuZXh0ZW5kKG5ldyBQYXJzbGV5QWJzdHJhY3QoKSwge1xuICAgICRlbGVtZW50OiAkKGRvY3VtZW50KSxcbiAgICBhY3R1YWxpemVPcHRpb25zOiBudWxsLFxuICAgIF9yZXNldE9wdGlvbnM6IG51bGwsXG4gICAgRmFjdG9yeTogUGFyc2xleUZhY3RvcnksXG4gICAgdmVyc2lvbjogJzIuNi4yJ1xuICB9KTtcblxuICAvLyBTdXBwbGVtZW50IFBhcnNsZXlGaWVsZCBhbmQgRm9ybSB3aXRoIFBhcnNsZXlBYnN0cmFjdFxuICAvLyBUaGlzIHdheSwgdGhlIGNvbnN0cnVjdG9ycyB3aWxsIGhhdmUgYWNjZXNzIHRvIHRob3NlIG1ldGhvZHNcbiAgJC5leHRlbmQocGFyc2xleV9maWVsZC5wcm90b3R5cGUsIFBhcnNsZXlVSS5GaWVsZCwgUGFyc2xleUFic3RyYWN0LnByb3RvdHlwZSk7XG4gICQuZXh0ZW5kKFBhcnNsZXlGb3JtLnByb3RvdHlwZSwgUGFyc2xleVVJLkZvcm0sIFBhcnNsZXlBYnN0cmFjdC5wcm90b3R5cGUpO1xuICAvLyBJbmhlcml0IGFjdHVhbGl6ZU9wdGlvbnMgYW5kIF9yZXNldE9wdGlvbnM6XG4gICQuZXh0ZW5kKFBhcnNsZXlGYWN0b3J5LnByb3RvdHlwZSwgUGFyc2xleUFic3RyYWN0LnByb3RvdHlwZSk7XG5cbiAgLy8gIyMjIGpRdWVyeSBBUElcbiAgLy8gYCQoJy5lbGVtJykucGFyc2xleShvcHRpb25zKWAgb3IgYCQoJy5lbGVtJykucHNseShvcHRpb25zKWBcbiAgJC5mbi5wYXJzbGV5ID0gJC5mbi5wc2x5ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBpZiAodGhpcy5sZW5ndGggPiAxKSB7XG4gICAgICB2YXIgaW5zdGFuY2VzID0gW107XG5cbiAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGluc3RhbmNlcy5wdXNoKCQodGhpcykucGFyc2xleShvcHRpb25zKSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGluc3RhbmNlcztcbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gdW5kZWZpbmVkIGlmIGFwcGxpZWQgdG8gbm9uIGV4aXN0aW5nIERPTSBlbGVtZW50XG4gICAgaWYgKCEkKHRoaXMpLmxlbmd0aCkge1xuICAgICAgUGFyc2xleVV0aWxzX19kZWZhdWx0Lndhcm4oJ1lvdSBtdXN0IGJpbmQgUGFyc2xleSBvbiBhbiBleGlzdGluZyBlbGVtZW50LicpO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQYXJzbGV5RmFjdG9yeSh0aGlzLCBvcHRpb25zKTtcbiAgfTtcblxuICAvLyAjIyMgUGFyc2xleUZpZWxkIGFuZCBQYXJzbGV5Rm9ybSBleHRlbnNpb25cbiAgLy8gRW5zdXJlIHRoZSBleHRlbnNpb24gaXMgbm93IGRlZmluZWQgaWYgaXQgd2Fzbid0IHByZXZpb3VzbHlcbiAgaWYgKCd1bmRlZmluZWQnID09PSB0eXBlb2Ygd2luZG93LlBhcnNsZXlFeHRlbmQpIHdpbmRvdy5QYXJzbGV5RXh0ZW5kID0ge307XG5cbiAgLy8gIyMjIFBhcnNsZXkgY29uZmlnXG4gIC8vIEluaGVyaXQgZnJvbSBQYXJzbGV5RGVmYXVsdCwgYW5kIGNvcHkgb3ZlciBhbnkgZXhpc3RpbmcgdmFsdWVzXG4gIFBhcnNsZXkub3B0aW9ucyA9ICQuZXh0ZW5kKFBhcnNsZXlVdGlsc19fZGVmYXVsdC5vYmplY3RDcmVhdGUoUGFyc2xleURlZmF1bHRzKSwgd2luZG93LlBhcnNsZXlDb25maWcpO1xuICB3aW5kb3cuUGFyc2xleUNvbmZpZyA9IFBhcnNsZXkub3B0aW9uczsgLy8gT2xkIHdheSBvZiBhY2Nlc3NpbmcgZ2xvYmFsIG9wdGlvbnNcblxuICAvLyAjIyMgR2xvYmFsc1xuICB3aW5kb3cuUGFyc2xleSA9IHdpbmRvdy5wc2x5ID0gUGFyc2xleTtcbiAgd2luZG93LlBhcnNsZXlVdGlscyA9IFBhcnNsZXlVdGlsc19fZGVmYXVsdDtcblxuICAvLyAjIyMgRGVmaW5lIG1ldGhvZHMgdGhhdCBmb3J3YXJkIHRvIHRoZSByZWdpc3RyeSwgYW5kIGRlcHJlY2F0ZSBhbGwgYWNjZXNzIGV4Y2VwdCB0aHJvdWdoIHdpbmRvdy5QYXJzbGV5XG4gIHZhciByZWdpc3RyeSA9IHdpbmRvdy5QYXJzbGV5Ll92YWxpZGF0b3JSZWdpc3RyeSA9IG5ldyBQYXJzbGV5VmFsaWRhdG9yUmVnaXN0cnkod2luZG93LlBhcnNsZXlDb25maWcudmFsaWRhdG9ycywgd2luZG93LlBhcnNsZXlDb25maWcuaTE4bik7XG4gIHdpbmRvdy5QYXJzbGV5VmFsaWRhdG9yID0ge307XG4gICQuZWFjaCgnc2V0TG9jYWxlIGFkZENhdGFsb2cgYWRkTWVzc2FnZSBhZGRNZXNzYWdlcyBnZXRFcnJvck1lc3NhZ2UgZm9ybWF0TWVzc2FnZSBhZGRWYWxpZGF0b3IgdXBkYXRlVmFsaWRhdG9yIHJlbW92ZVZhbGlkYXRvcicuc3BsaXQoJyAnKSwgZnVuY3Rpb24gKGksIG1ldGhvZCkge1xuICAgIHdpbmRvdy5QYXJzbGV5W21ldGhvZF0gPSAkLnByb3h5KHJlZ2lzdHJ5LCBtZXRob2QpO1xuICAgIHdpbmRvdy5QYXJzbGV5VmFsaWRhdG9yW21ldGhvZF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3dpbmRvdyRQYXJzbGV5O1xuXG4gICAgICBQYXJzbGV5VXRpbHNfX2RlZmF1bHQud2Fybk9uY2UoJ0FjY2Vzc2luZyB0aGUgbWV0aG9kIFxcJycgKyBtZXRob2QgKyAnXFwnIHRocm91Z2ggUGFyc2xleVZhbGlkYXRvciBpcyBkZXByZWNhdGVkLiBTaW1wbHkgY2FsbCBcXCd3aW5kb3cuUGFyc2xleS4nICsgbWV0aG9kICsgJyguLi4pXFwnJyk7XG4gICAgICByZXR1cm4gKF93aW5kb3ckUGFyc2xleSA9IHdpbmRvdy5QYXJzbGV5KVttZXRob2RdLmFwcGx5KF93aW5kb3ckUGFyc2xleSwgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9KTtcblxuICAvLyAjIyMgUGFyc2xleVVJXG4gIC8vIERlcHJlY2F0ZWQgZ2xvYmFsIG9iamVjdFxuICB3aW5kb3cuUGFyc2xleS5VSSA9IFBhcnNsZXlVSTtcbiAgd2luZG93LlBhcnNsZXlVSSA9IHtcbiAgICByZW1vdmVFcnJvcjogZnVuY3Rpb24gcmVtb3ZlRXJyb3IoaW5zdGFuY2UsIG5hbWUsIGRvTm90VXBkYXRlQ2xhc3MpIHtcbiAgICAgIHZhciB1cGRhdGVDbGFzcyA9IHRydWUgIT09IGRvTm90VXBkYXRlQ2xhc3M7XG4gICAgICBQYXJzbGV5VXRpbHNfX2RlZmF1bHQud2Fybk9uY2UoJ0FjY2Vzc2luZyBQYXJzbGV5VUkgaXMgZGVwcmVjYXRlZC4gQ2FsbCBcXCdyZW1vdmVFcnJvclxcJyBvbiB0aGUgaW5zdGFuY2UgZGlyZWN0bHkuIFBsZWFzZSBjb21tZW50IGluIGlzc3VlIDEwNzMgYXMgdG8geW91ciBuZWVkIHRvIGNhbGwgdGhpcyBtZXRob2QuJyk7XG4gICAgICByZXR1cm4gaW5zdGFuY2UucmVtb3ZlRXJyb3IobmFtZSwgeyB1cGRhdGVDbGFzczogdXBkYXRlQ2xhc3MgfSk7XG4gICAgfSxcbiAgICBnZXRFcnJvcnNNZXNzYWdlczogZnVuY3Rpb24gZ2V0RXJyb3JzTWVzc2FnZXMoaW5zdGFuY2UpIHtcbiAgICAgIFBhcnNsZXlVdGlsc19fZGVmYXVsdC53YXJuT25jZSgnQWNjZXNzaW5nIFBhcnNsZXlVSSBpcyBkZXByZWNhdGVkLiBDYWxsIFxcJ2dldEVycm9yc01lc3NhZ2VzXFwnIG9uIHRoZSBpbnN0YW5jZSBkaXJlY3RseS4nKTtcbiAgICAgIHJldHVybiBpbnN0YW5jZS5nZXRFcnJvcnNNZXNzYWdlcygpO1xuICAgIH1cbiAgfTtcbiAgJC5lYWNoKCdhZGRFcnJvciB1cGRhdGVFcnJvcicuc3BsaXQoJyAnKSwgZnVuY3Rpb24gKGksIG1ldGhvZCkge1xuICAgIHdpbmRvdy5QYXJzbGV5VUlbbWV0aG9kXSA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgbmFtZSwgbWVzc2FnZSwgYXNzZXJ0LCBkb05vdFVwZGF0ZUNsYXNzKSB7XG4gICAgICB2YXIgdXBkYXRlQ2xhc3MgPSB0cnVlICE9PSBkb05vdFVwZGF0ZUNsYXNzO1xuICAgICAgUGFyc2xleVV0aWxzX19kZWZhdWx0Lndhcm5PbmNlKCdBY2Nlc3NpbmcgUGFyc2xleVVJIGlzIGRlcHJlY2F0ZWQuIENhbGwgXFwnJyArIG1ldGhvZCArICdcXCcgb24gdGhlIGluc3RhbmNlIGRpcmVjdGx5LiBQbGVhc2UgY29tbWVudCBpbiBpc3N1ZSAxMDczIGFzIHRvIHlvdXIgbmVlZCB0byBjYWxsIHRoaXMgbWV0aG9kLicpO1xuICAgICAgcmV0dXJuIGluc3RhbmNlW21ldGhvZF0obmFtZSwgeyBtZXNzYWdlOiBtZXNzYWdlLCBhc3NlcnQ6IGFzc2VydCwgdXBkYXRlQ2xhc3M6IHVwZGF0ZUNsYXNzIH0pO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vICMjIyBQQVJTTEVZIGF1dG8tYmluZGluZ1xuICAvLyBQcmV2ZW50IGl0IGJ5IHNldHRpbmcgYFBhcnNsZXlDb25maWcuYXV0b0JpbmRgIHRvIGBmYWxzZWBcbiAgaWYgKGZhbHNlICE9PSB3aW5kb3cuUGFyc2xleUNvbmZpZy5hdXRvQmluZCkge1xuICAgICQoZnVuY3Rpb24gKCkge1xuICAgICAgLy8gV29ya3Mgb25seSBvbiBgZGF0YS1wYXJzbGV5LXZhbGlkYXRlYC5cbiAgICAgIGlmICgkKCdbZGF0YS1wYXJzbGV5LXZhbGlkYXRlXScpLmxlbmd0aCkgJCgnW2RhdGEtcGFyc2xleS12YWxpZGF0ZV0nKS5wYXJzbGV5KCk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgbyA9ICQoe30pO1xuICB2YXIgZGVwcmVjYXRlZCA9IGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XG4gICAgUGFyc2xleVV0aWxzX19kZWZhdWx0Lndhcm5PbmNlKFwiUGFyc2xleSdzIHB1YnN1YiBtb2R1bGUgaXMgZGVwcmVjYXRlZDsgdXNlIHRoZSAnb24nIGFuZCAnb2ZmJyBtZXRob2RzIG9uIHBhcnNsZXkgaW5zdGFuY2VzIG9yIHdpbmRvdy5QYXJzbGV5XCIpO1xuICB9O1xuXG4gIC8vIFJldHVybnMgYW4gZXZlbnQgaGFuZGxlciB0aGF0IGNhbGxzIGBmbmAgd2l0aCB0aGUgYXJndW1lbnRzIGl0IGV4cGVjdHNcbiAgZnVuY3Rpb24gYWRhcHQoZm4sIGNvbnRleHQpIHtcbiAgICAvLyBTdG9yZSB0byBhbGxvdyB1bmJpbmRpbmdcbiAgICBpZiAoIWZuLnBhcnNsZXlBZGFwdGVkQ2FsbGJhY2spIHtcbiAgICAgIGZuLnBhcnNsZXlBZGFwdGVkQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcbiAgICAgICAgYXJncy51bnNoaWZ0KHRoaXMpO1xuICAgICAgICBmbi5hcHBseShjb250ZXh0IHx8IG8sIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGZuLnBhcnNsZXlBZGFwdGVkQ2FsbGJhY2s7XG4gIH1cblxuICB2YXIgZXZlbnRQcmVmaXggPSAncGFyc2xleTonO1xuICAvLyBDb252ZXJ0cyAncGFyc2xleTpmb3JtOnZhbGlkYXRlJyBpbnRvICdmb3JtOnZhbGlkYXRlJ1xuICBmdW5jdGlvbiBldmVudE5hbWUobmFtZSkge1xuICAgIGlmIChuYW1lLmxhc3RJbmRleE9mKGV2ZW50UHJlZml4LCAwKSA9PT0gMCkgcmV0dXJuIG5hbWUuc3Vic3RyKGV2ZW50UHJlZml4Lmxlbmd0aCk7XG4gICAgcmV0dXJuIG5hbWU7XG4gIH1cblxuICAvLyAkLmxpc3RlbiBpcyBkZXByZWNhdGVkLiBVc2UgUGFyc2xleS5vbiBpbnN0ZWFkLlxuICAkLmxpc3RlbiA9IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaykge1xuICAgIHZhciBjb250ZXh0O1xuICAgIGRlcHJlY2F0ZWQoKTtcbiAgICBpZiAoJ29iamVjdCcgPT09IHR5cGVvZiBhcmd1bWVudHNbMV0gJiYgJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGFyZ3VtZW50c1syXSkge1xuICAgICAgY29udGV4dCA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIGNhbGxiYWNrID0gYXJndW1lbnRzWzJdO1xuICAgIH1cblxuICAgIGlmICgnZnVuY3Rpb24nICE9PSB0eXBlb2YgY2FsbGJhY2spIHRocm93IG5ldyBFcnJvcignV3JvbmcgcGFyYW1ldGVycycpO1xuXG4gICAgd2luZG93LlBhcnNsZXkub24oZXZlbnROYW1lKG5hbWUpLCBhZGFwdChjYWxsYmFjaywgY29udGV4dCkpO1xuICB9O1xuXG4gICQubGlzdGVuVG8gPSBmdW5jdGlvbiAoaW5zdGFuY2UsIG5hbWUsIGZuKSB7XG4gICAgZGVwcmVjYXRlZCgpO1xuICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgcGFyc2xleV9maWVsZCkgJiYgIShpbnN0YW5jZSBpbnN0YW5jZW9mIFBhcnNsZXlGb3JtKSkgdGhyb3cgbmV3IEVycm9yKCdNdXN0IGdpdmUgUGFyc2xleSBpbnN0YW5jZScpO1xuXG4gICAgaWYgKCdzdHJpbmcnICE9PSB0eXBlb2YgbmFtZSB8fCAnZnVuY3Rpb24nICE9PSB0eXBlb2YgZm4pIHRocm93IG5ldyBFcnJvcignV3JvbmcgcGFyYW1ldGVycycpO1xuXG4gICAgaW5zdGFuY2Uub24oZXZlbnROYW1lKG5hbWUpLCBhZGFwdChmbikpO1xuICB9O1xuXG4gICQudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAobmFtZSwgZm4pIHtcbiAgICBkZXByZWNhdGVkKCk7XG4gICAgaWYgKCdzdHJpbmcnICE9PSB0eXBlb2YgbmFtZSB8fCAnZnVuY3Rpb24nICE9PSB0eXBlb2YgZm4pIHRocm93IG5ldyBFcnJvcignV3JvbmcgYXJndW1lbnRzJyk7XG4gICAgd2luZG93LlBhcnNsZXkub2ZmKGV2ZW50TmFtZShuYW1lKSwgZm4ucGFyc2xleUFkYXB0ZWRDYWxsYmFjayk7XG4gIH07XG5cbiAgJC51bnN1YnNjcmliZVRvID0gZnVuY3Rpb24gKGluc3RhbmNlLCBuYW1lKSB7XG4gICAgZGVwcmVjYXRlZCgpO1xuICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgcGFyc2xleV9maWVsZCkgJiYgIShpbnN0YW5jZSBpbnN0YW5jZW9mIFBhcnNsZXlGb3JtKSkgdGhyb3cgbmV3IEVycm9yKCdNdXN0IGdpdmUgUGFyc2xleSBpbnN0YW5jZScpO1xuICAgIGluc3RhbmNlLm9mZihldmVudE5hbWUobmFtZSkpO1xuICB9O1xuXG4gICQudW5zdWJzY3JpYmVBbGwgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIGRlcHJlY2F0ZWQoKTtcbiAgICB3aW5kb3cuUGFyc2xleS5vZmYoZXZlbnROYW1lKG5hbWUpKTtcbiAgICAkKCdmb3JtLGlucHV0LHRleHRhcmVhLHNlbGVjdCcpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGluc3RhbmNlID0gJCh0aGlzKS5kYXRhKCdQYXJzbGV5Jyk7XG4gICAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgICAgaW5zdGFuY2Uub2ZmKGV2ZW50TmFtZShuYW1lKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gJC5lbWl0IGlzIGRlcHJlY2F0ZWQuIFVzZSBqUXVlcnkgZXZlbnRzIGluc3RlYWQuXG4gICQuZW1pdCA9IGZ1bmN0aW9uIChuYW1lLCBpbnN0YW5jZSkge1xuICAgIHZhciBfaW5zdGFuY2U7XG5cbiAgICBkZXByZWNhdGVkKCk7XG4gICAgdmFyIGluc3RhbmNlR2l2ZW4gPSBpbnN0YW5jZSBpbnN0YW5jZW9mIHBhcnNsZXlfZmllbGQgfHwgaW5zdGFuY2UgaW5zdGFuY2VvZiBQYXJzbGV5Rm9ybTtcbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgaW5zdGFuY2VHaXZlbiA/IDIgOiAxKTtcbiAgICBhcmdzLnVuc2hpZnQoZXZlbnROYW1lKG5hbWUpKTtcbiAgICBpZiAoIWluc3RhbmNlR2l2ZW4pIHtcbiAgICAgIGluc3RhbmNlID0gd2luZG93LlBhcnNsZXk7XG4gICAgfVxuICAgIChfaW5zdGFuY2UgPSBpbnN0YW5jZSkudHJpZ2dlci5hcHBseShfaW5zdGFuY2UsIF90b0NvbnN1bWFibGVBcnJheShhcmdzKSk7XG4gIH07XG5cbiAgdmFyIHB1YnN1YiA9IHt9O1xuXG4gICQuZXh0ZW5kKHRydWUsIFBhcnNsZXksIHtcbiAgICBhc3luY1ZhbGlkYXRvcnM6IHtcbiAgICAgICdkZWZhdWx0Jzoge1xuICAgICAgICBmbjogZnVuY3Rpb24gZm4oeGhyKSB7XG4gICAgICAgICAgLy8gQnkgZGVmYXVsdCwgb25seSBzdGF0dXMgMnh4IGFyZSBkZWVtZWQgc3VjY2Vzc2Z1bC5cbiAgICAgICAgICAvLyBOb3RlOiB3ZSB1c2Ugc3RhdHVzIGluc3RlYWQgb2Ygc3RhdGUoKSBiZWNhdXNlIHJlc3BvbnNlcyB3aXRoIHN0YXR1cyAyMDBcbiAgICAgICAgICAvLyBidXQgaW52YWxpZCBtZXNzYWdlcyAoZS5nLiBhbiBlbXB0eSBib2R5IGZvciBjb250ZW50IHR5cGUgc2V0IHRvIEpTT04pIHdpbGxcbiAgICAgICAgICAvLyByZXN1bHQgaW4gc3RhdGUoKSA9PT0gJ3JlamVjdGVkJy5cbiAgICAgICAgICByZXR1cm4geGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDMwMDtcbiAgICAgICAgfSxcbiAgICAgICAgdXJsOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIHJldmVyc2U6IHtcbiAgICAgICAgZm46IGZ1bmN0aW9uIGZuKHhocikge1xuICAgICAgICAgIC8vIElmIHJldmVyc2Ugb3B0aW9uIGlzIHNldCwgYSBmYWlsaW5nIGFqYXggcmVxdWVzdCBpcyBjb25zaWRlcmVkIHN1Y2Nlc3NmdWxcbiAgICAgICAgICByZXR1cm4geGhyLnN0YXR1cyA8IDIwMCB8fCB4aHIuc3RhdHVzID49IDMwMDtcbiAgICAgICAgfSxcbiAgICAgICAgdXJsOiBmYWxzZVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhZGRBc3luY1ZhbGlkYXRvcjogZnVuY3Rpb24gYWRkQXN5bmNWYWxpZGF0b3IobmFtZSwgZm4sIHVybCwgb3B0aW9ucykge1xuICAgICAgUGFyc2xleS5hc3luY1ZhbGlkYXRvcnNbbmFtZV0gPSB7XG4gICAgICAgIGZuOiBmbixcbiAgICAgICAgdXJsOiB1cmwgfHwgZmFsc2UsXG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnMgfHwge31cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICB9KTtcblxuICBQYXJzbGV5LmFkZFZhbGlkYXRvcigncmVtb3RlJywge1xuICAgIHJlcXVpcmVtZW50VHlwZToge1xuICAgICAgJyc6ICdzdHJpbmcnLFxuICAgICAgJ3ZhbGlkYXRvcic6ICdzdHJpbmcnLFxuICAgICAgJ3JldmVyc2UnOiAnYm9vbGVhbicsXG4gICAgICAnb3B0aW9ucyc6ICdvYmplY3QnXG4gICAgfSxcblxuICAgIHZhbGlkYXRlU3RyaW5nOiBmdW5jdGlvbiB2YWxpZGF0ZVN0cmluZyh2YWx1ZSwgdXJsLCBvcHRpb25zLCBpbnN0YW5jZSkge1xuICAgICAgdmFyIGRhdGEgPSB7fTtcbiAgICAgIHZhciBhamF4T3B0aW9ucztcbiAgICAgIHZhciBjc3I7XG4gICAgICB2YXIgdmFsaWRhdG9yID0gb3B0aW9ucy52YWxpZGF0b3IgfHwgKHRydWUgPT09IG9wdGlvbnMucmV2ZXJzZSA/ICdyZXZlcnNlJyA6ICdkZWZhdWx0Jyk7XG5cbiAgICAgIGlmICgndW5kZWZpbmVkJyA9PT0gdHlwZW9mIFBhcnNsZXkuYXN5bmNWYWxpZGF0b3JzW3ZhbGlkYXRvcl0pIHRocm93IG5ldyBFcnJvcignQ2FsbGluZyBhbiB1bmRlZmluZWQgYXN5bmMgdmFsaWRhdG9yOiBgJyArIHZhbGlkYXRvciArICdgJyk7XG5cbiAgICAgIHVybCA9IFBhcnNsZXkuYXN5bmNWYWxpZGF0b3JzW3ZhbGlkYXRvcl0udXJsIHx8IHVybDtcblxuICAgICAgLy8gRmlsbCBjdXJyZW50IHZhbHVlXG4gICAgICBpZiAodXJsLmluZGV4T2YoJ3t2YWx1ZX0nKSA+IC0xKSB7XG4gICAgICAgIHVybCA9IHVybC5yZXBsYWNlKCd7dmFsdWV9JywgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhW2luc3RhbmNlLiRlbGVtZW50LmF0dHIoJ25hbWUnKSB8fCBpbnN0YW5jZS4kZWxlbWVudC5hdHRyKCdpZCcpXSA9IHZhbHVlO1xuICAgICAgfVxuXG4gICAgICAvLyBNZXJnZSBvcHRpb25zIHBhc3NlZCBpbiBmcm9tIHRoZSBmdW5jdGlvbiB3aXRoIHRoZSBvbmVzIGluIHRoZSBhdHRyaWJ1dGVcbiAgICAgIHZhciByZW1vdGVPcHRpb25zID0gJC5leHRlbmQodHJ1ZSwgb3B0aW9ucy5vcHRpb25zIHx8IHt9LCBQYXJzbGV5LmFzeW5jVmFsaWRhdG9yc1t2YWxpZGF0b3JdLm9wdGlvbnMpO1xuXG4gICAgICAvLyBBbGwgYCQuYWpheChvcHRpb25zKWAgY291bGQgYmUgb3ZlcnJpZGRlbiBvciBleHRlbmRlZCBkaXJlY3RseSBmcm9tIERPTSBpbiBgZGF0YS1wYXJzbGV5LXJlbW90ZS1vcHRpb25zYFxuICAgICAgYWpheE9wdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwge1xuICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgdHlwZTogJ0dFVCdcbiAgICAgIH0sIHJlbW90ZU9wdGlvbnMpO1xuXG4gICAgICAvLyBHZW5lcmF0ZSBzdG9yZSBrZXkgYmFzZWQgb24gYWpheCBvcHRpb25zXG4gICAgICBpbnN0YW5jZS50cmlnZ2VyKCdmaWVsZDphamF4b3B0aW9ucycsIGluc3RhbmNlLCBhamF4T3B0aW9ucyk7XG5cbiAgICAgIGNzciA9ICQucGFyYW0oYWpheE9wdGlvbnMpO1xuXG4gICAgICAvLyBJbml0aWFsaXNlIHF1ZXJyeSBjYWNoZVxuICAgICAgaWYgKCd1bmRlZmluZWQnID09PSB0eXBlb2YgUGFyc2xleS5fcmVtb3RlQ2FjaGUpIFBhcnNsZXkuX3JlbW90ZUNhY2hlID0ge307XG5cbiAgICAgIC8vIFRyeSB0byByZXRyaWV2ZSBzdG9yZWQgeGhyXG4gICAgICB2YXIgeGhyID0gUGFyc2xleS5fcmVtb3RlQ2FjaGVbY3NyXSA9IFBhcnNsZXkuX3JlbW90ZUNhY2hlW2Nzcl0gfHwgJC5hamF4KGFqYXhPcHRpb25zKTtcblxuICAgICAgdmFyIGhhbmRsZVhociA9IGZ1bmN0aW9uIGhhbmRsZVhocigpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFBhcnNsZXkuYXN5bmNWYWxpZGF0b3JzW3ZhbGlkYXRvcl0uZm4uY2FsbChpbnN0YW5jZSwgeGhyLCB1cmwsIG9wdGlvbnMpO1xuICAgICAgICBpZiAoIXJlc3VsdCkgLy8gTWFwIGZhbHN5IHJlc3VsdHMgdG8gcmVqZWN0ZWQgcHJvbWlzZVxuICAgICAgICAgIHJlc3VsdCA9ICQuRGVmZXJyZWQoKS5yZWplY3QoKTtcbiAgICAgICAgcmV0dXJuICQud2hlbihyZXN1bHQpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHhoci50aGVuKGhhbmRsZVhociwgaGFuZGxlWGhyKTtcbiAgICB9LFxuXG4gICAgcHJpb3JpdHk6IC0xXG4gIH0pO1xuXG4gIFBhcnNsZXkub24oJ2Zvcm06c3VibWl0JywgZnVuY3Rpb24gKCkge1xuICAgIFBhcnNsZXkuX3JlbW90ZUNhY2hlID0ge307XG4gIH0pO1xuXG4gIHdpbmRvdy5QYXJzbGV5RXh0ZW5kLmFkZEFzeW5jVmFsaWRhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgIFBhcnNsZXlVdGlscy53YXJuT25jZSgnQWNjZXNzaW5nIHRoZSBtZXRob2QgYGFkZEFzeW5jVmFsaWRhdG9yYCB0aHJvdWdoIGFuIGluc3RhbmNlIGlzIGRlcHJlY2F0ZWQuIFNpbXBseSBjYWxsIGBQYXJzbGV5LmFkZEFzeW5jVmFsaWRhdG9yKC4uLilgJyk7XG4gICAgcmV0dXJuIFBhcnNsZXkuYWRkQXN5bmNWYWxpZGF0b3IuYXBwbHkoUGFyc2xleSwgYXJndW1lbnRzKTtcbiAgfTtcblxuICAvLyBUaGlzIGlzIGluY2x1ZGVkIHdpdGggdGhlIFBhcnNsZXkgbGlicmFyeSBpdHNlbGYsXG4gIC8vIHRodXMgdGhlcmUgaXMgbm8gdXNlIGluIGFkZGluZyBpdCB0byB5b3VyIHByb2plY3QuXG4gIFBhcnNsZXkuYWRkTWVzc2FnZXMoJ2VuJywge1xuICAgIGRlZmF1bHRNZXNzYWdlOiBcIlRoaXMgdmFsdWUgc2VlbXMgdG8gYmUgaW52YWxpZC5cIixcbiAgICB0eXBlOiB7XG4gICAgICBlbWFpbDogXCJUaGlzIHZhbHVlIHNob3VsZCBiZSBhIHZhbGlkIGVtYWlsLlwiLFxuICAgICAgdXJsOiBcIlRoaXMgdmFsdWUgc2hvdWxkIGJlIGEgdmFsaWQgdXJsLlwiLFxuICAgICAgbnVtYmVyOiBcIlRoaXMgdmFsdWUgc2hvdWxkIGJlIGEgdmFsaWQgbnVtYmVyLlwiLFxuICAgICAgaW50ZWdlcjogXCJUaGlzIHZhbHVlIHNob3VsZCBiZSBhIHZhbGlkIGludGVnZXIuXCIsXG4gICAgICBkaWdpdHM6IFwiVGhpcyB2YWx1ZSBzaG91bGQgYmUgZGlnaXRzLlwiLFxuICAgICAgYWxwaGFudW06IFwiVGhpcyB2YWx1ZSBzaG91bGQgYmUgYWxwaGFudW1lcmljLlwiXG4gICAgfSxcbiAgICBub3RibGFuazogXCJUaGlzIHZhbHVlIHNob3VsZCBub3QgYmUgYmxhbmsuXCIsXG4gICAgcmVxdWlyZWQ6IFwiVGhpcyB2YWx1ZSBpcyByZXF1aXJlZC5cIixcbiAgICBwYXR0ZXJuOiBcIlRoaXMgdmFsdWUgc2VlbXMgdG8gYmUgaW52YWxpZC5cIixcbiAgICBtaW46IFwiVGhpcyB2YWx1ZSBzaG91bGQgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvICVzLlwiLFxuICAgIG1heDogXCJUaGlzIHZhbHVlIHNob3VsZCBiZSBsb3dlciB0aGFuIG9yIGVxdWFsIHRvICVzLlwiLFxuICAgIHJhbmdlOiBcIlRoaXMgdmFsdWUgc2hvdWxkIGJlIGJldHdlZW4gJXMgYW5kICVzLlwiLFxuICAgIG1pbmxlbmd0aDogXCJUaGlzIHZhbHVlIGlzIHRvbyBzaG9ydC4gSXQgc2hvdWxkIGhhdmUgJXMgY2hhcmFjdGVycyBvciBtb3JlLlwiLFxuICAgIG1heGxlbmd0aDogXCJUaGlzIHZhbHVlIGlzIHRvbyBsb25nLiBJdCBzaG91bGQgaGF2ZSAlcyBjaGFyYWN0ZXJzIG9yIGZld2VyLlwiLFxuICAgIGxlbmd0aDogXCJUaGlzIHZhbHVlIGxlbmd0aCBpcyBpbnZhbGlkLiBJdCBzaG91bGQgYmUgYmV0d2VlbiAlcyBhbmQgJXMgY2hhcmFjdGVycyBsb25nLlwiLFxuICAgIG1pbmNoZWNrOiBcIllvdSBtdXN0IHNlbGVjdCBhdCBsZWFzdCAlcyBjaG9pY2VzLlwiLFxuICAgIG1heGNoZWNrOiBcIllvdSBtdXN0IHNlbGVjdCAlcyBjaG9pY2VzIG9yIGZld2VyLlwiLFxuICAgIGNoZWNrOiBcIllvdSBtdXN0IHNlbGVjdCBiZXR3ZWVuICVzIGFuZCAlcyBjaG9pY2VzLlwiLFxuICAgIGVxdWFsdG86IFwiVGhpcyB2YWx1ZSBzaG91bGQgYmUgdGhlIHNhbWUuXCJcbiAgfSk7XG5cbiAgUGFyc2xleS5zZXRMb2NhbGUoJ2VuJyk7XG5cbiAgLyoqXG4gICAqIGlucHV0ZXZlbnQgLSBBbGxldmlhdGUgYnJvd3NlciBidWdzIGZvciBpbnB1dCBldmVudHNcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL21hcmNhbmRyZS9pbnB1dGV2ZW50XG4gICAqIEB2ZXJzaW9uIHYwLjAuMyAtIChidWlsdCBUaHUsIEFwciAxNHRoIDIwMTYsIDU6NTggcG0pXG4gICAqIEBhdXRob3IgTWFyYy1BbmRyZSBMYWZvcnR1bmUgPGdpdGh1YkBtYXJjLWFuZHJlLmNhPlxuICAgKiBAbGljZW5zZSBNSVRcbiAgICovXG5cbiAgZnVuY3Rpb24gSW5wdXRFdmVudCgpIHtcbiAgICB2YXIgX3RoaXMxNCA9IHRoaXM7XG5cbiAgICB2YXIgZ2xvYmFscyA9IHdpbmRvdyB8fCBnbG9iYWw7XG5cbiAgICAvLyBTbGlnaHRseSBvZGQgd2F5IGNvbnN0cnVjdCBvdXIgb2JqZWN0LiBUaGlzIHdheSBtZXRob2RzIGFyZSBmb3JjZSBib3VuZC5cbiAgICAvLyBVc2VkIHRvIHRlc3QgZm9yIGR1cGxpY2F0ZSBsaWJyYXJ5LlxuICAgICQuZXh0ZW5kKHRoaXMsIHtcblxuICAgICAgLy8gRm9yIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgaXNUcnVzdGVkLCBhc3N1bWVzIGV2ZW50IGlzIG5hdGl2ZS5cbiAgICAgIGlzTmF0aXZlRXZlbnQ6IGZ1bmN0aW9uIGlzTmF0aXZlRXZlbnQoZXZ0KSB7XG4gICAgICAgIHJldHVybiBldnQub3JpZ2luYWxFdmVudCAmJiBldnQub3JpZ2luYWxFdmVudC5pc1RydXN0ZWQgIT09IGZhbHNlO1xuICAgICAgfSxcblxuICAgICAgZmFrZUlucHV0RXZlbnQ6IGZ1bmN0aW9uIGZha2VJbnB1dEV2ZW50KGV2dCkge1xuICAgICAgICBpZiAoX3RoaXMxNC5pc05hdGl2ZUV2ZW50KGV2dCkpIHtcbiAgICAgICAgICAkKGV2dC50YXJnZXQpLnRyaWdnZXIoJ2lucHV0Jyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIG1pc2JlaGF2ZXM6IGZ1bmN0aW9uIG1pc2JlaGF2ZXMoZXZ0KSB7XG4gICAgICAgIGlmIChfdGhpczE0LmlzTmF0aXZlRXZlbnQoZXZ0KSkge1xuICAgICAgICAgIF90aGlzMTQuYmVoYXZlc09rKGV2dCk7XG4gICAgICAgICAgJChkb2N1bWVudCkub24oJ2NoYW5nZS5pbnB1dGV2ZW50JywgZXZ0LmRhdGEuc2VsZWN0b3IsIF90aGlzMTQuZmFrZUlucHV0RXZlbnQpO1xuICAgICAgICAgIF90aGlzMTQuZmFrZUlucHV0RXZlbnQoZXZ0KTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgYmVoYXZlc09rOiBmdW5jdGlvbiBiZWhhdmVzT2soZXZ0KSB7XG4gICAgICAgIGlmIChfdGhpczE0LmlzTmF0aXZlRXZlbnQoZXZ0KSkge1xuICAgICAgICAgICQoZG9jdW1lbnQpIC8vIFNpbXBseSB1bmJpbmRzIHRoZSB0ZXN0aW5nIGhhbmRsZXJcbiAgICAgICAgICAub2ZmKCdpbnB1dC5pbnB1dGV2ZW50JywgZXZ0LmRhdGEuc2VsZWN0b3IsIF90aGlzMTQuYmVoYXZlc09rKS5vZmYoJ2NoYW5nZS5pbnB1dGV2ZW50JywgZXZ0LmRhdGEuc2VsZWN0b3IsIF90aGlzMTQubWlzYmVoYXZlcyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8vIEJpbmQgdGhlIHRlc3RpbmcgaGFuZGxlcnNcbiAgICAgIGluc3RhbGw6IGZ1bmN0aW9uIGluc3RhbGwoKSB7XG4gICAgICAgIGlmIChnbG9iYWxzLmlucHV0RXZlbnRQYXRjaGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGdsb2JhbHMuaW5wdXRFdmVudFBhdGNoZWQgPSAnMC4wLjMnO1xuICAgICAgICB2YXIgX2FyciA9IFsnc2VsZWN0JywgJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScsICdpbnB1dFt0eXBlPVwicmFkaW9cIl0nLCAnaW5wdXRbdHlwZT1cImZpbGVcIl0nXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IF9hcnIubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgdmFyIHNlbGVjdG9yID0gX2FycltfaV07XG4gICAgICAgICAgJChkb2N1bWVudCkub24oJ2lucHV0LmlucHV0ZXZlbnQnLCBzZWxlY3RvciwgeyBzZWxlY3Rvcjogc2VsZWN0b3IgfSwgX3RoaXMxNC5iZWhhdmVzT2spLm9uKCdjaGFuZ2UuaW5wdXRldmVudCcsIHNlbGVjdG9yLCB7IHNlbGVjdG9yOiBzZWxlY3RvciB9LCBfdGhpczE0Lm1pc2JlaGF2ZXMpO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICB1bmluc3RhbGw6IGZ1bmN0aW9uIHVuaW5zdGFsbCgpIHtcbiAgICAgICAgZGVsZXRlIGdsb2JhbHMuaW5wdXRFdmVudFBhdGNoZWQ7XG4gICAgICAgICQoZG9jdW1lbnQpLm9mZignLmlucHV0ZXZlbnQnKTtcbiAgICAgIH1cblxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBpbnB1dGV2ZW50ID0gbmV3IElucHV0RXZlbnQoKTtcblxuICBpbnB1dGV2ZW50Lmluc3RhbGwoKTtcblxuICB2YXIgcGFyc2xleSA9IFBhcnNsZXk7XG5cbiAgcmV0dXJuIHBhcnNsZXk7XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnNsZXkuanMubWFwXG4iLCIvKipcbiogIEFqYXggQXV0b2NvbXBsZXRlIGZvciBqUXVlcnksIHZlcnNpb24gMS4zLjBcbiogIChjKSAyMDE3IFRvbWFzIEtpcmRhXG4qXG4qICBBamF4IEF1dG9jb21wbGV0ZSBmb3IgalF1ZXJ5IGlzIGZyZWVseSBkaXN0cmlidXRhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiBhbiBNSVQtc3R5bGUgbGljZW5zZS5cbiogIEZvciBkZXRhaWxzLCBzZWUgdGhlIHdlYiBzaXRlOiBodHRwczovL2dpdGh1Yi5jb20vZGV2YnJpZGdlL2pRdWVyeS1BdXRvY29tcGxldGVcbiovXG5cbi8qanNsaW50ICBicm93c2VyOiB0cnVlLCB3aGl0ZTogdHJ1ZSwgc2luZ2xlOiB0cnVlLCB0aGlzOiB0cnVlLCBtdWx0aXZhcjogdHJ1ZSAqL1xuLypnbG9iYWwgZGVmaW5lLCB3aW5kb3csIGRvY3VtZW50LCBqUXVlcnksIGV4cG9ydHMsIHJlcXVpcmUgKi9cblxuLy8gRXhwb3NlIHBsdWdpbiBhcyBhbiBBTUQgbW9kdWxlIGlmIEFNRCBsb2FkZXIgaXMgcHJlc2VudDpcbihmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgICAgICBkZWZpbmUoWydqcXVlcnknXSwgZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHJlcXVpcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gQnJvd3NlcmlmeVxuICAgICAgICBmYWN0b3J5KHJlcXVpcmUoJ2pxdWVyeScpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBCcm93c2VyIGdsb2JhbHNcbiAgICAgICAgZmFjdG9yeShqUXVlcnkpO1xuICAgIH1cbn0oZnVuY3Rpb24gKCQpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXJcbiAgICAgICAgdXRpbHMgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBlc2NhcGVSZWdFeENoYXJzOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoL1t8XFxcXHt9KClbXFxdXiQrKj8uXS9nLCBcIlxcXFwkJlwiKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNyZWF0ZU5vZGU6IGZ1bmN0aW9uIChjb250YWluZXJDbGFzcykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5jbGFzc05hbWUgPSBjb250YWluZXJDbGFzcztcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkaXY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSgpKSxcblxuICAgICAgICBrZXlzID0ge1xuICAgICAgICAgICAgRVNDOiAyNyxcbiAgICAgICAgICAgIFRBQjogOSxcbiAgICAgICAgICAgIFJFVFVSTjogMTMsXG4gICAgICAgICAgICBMRUZUOiAzNyxcbiAgICAgICAgICAgIFVQOiAzOCxcbiAgICAgICAgICAgIFJJR0hUOiAzOSxcbiAgICAgICAgICAgIERPV046IDQwXG4gICAgICAgIH07XG5cbiAgICBmdW5jdGlvbiBBdXRvY29tcGxldGUoZWwsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG5vb3AgPSAkLm5vb3AsXG4gICAgICAgICAgICB0aGF0ID0gdGhpcyxcbiAgICAgICAgICAgIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgICAgIGFqYXhTZXR0aW5nczoge30sXG4gICAgICAgICAgICAgICAgYXV0b1NlbGVjdEZpcnN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBhcHBlbmRUbzogZG9jdW1lbnQuYm9keSxcbiAgICAgICAgICAgICAgICBzZXJ2aWNlVXJsOiBudWxsLFxuICAgICAgICAgICAgICAgIGxvb2t1cDogbnVsbCxcbiAgICAgICAgICAgICAgICBvblNlbGVjdDogbnVsbCxcbiAgICAgICAgICAgICAgICB3aWR0aDogJ2F1dG8nLFxuICAgICAgICAgICAgICAgIG1pbkNoYXJzOiAxLFxuICAgICAgICAgICAgICAgIG1heEhlaWdodDogMzAwLFxuICAgICAgICAgICAgICAgIGRlZmVyUmVxdWVzdEJ5OiAwLFxuICAgICAgICAgICAgICAgIHBhcmFtczoge30sXG4gICAgICAgICAgICAgICAgZm9ybWF0UmVzdWx0OiBBdXRvY29tcGxldGUuZm9ybWF0UmVzdWx0LFxuICAgICAgICAgICAgICAgIGZvcm1hdEdyb3VwOiBBdXRvY29tcGxldGUuZm9ybWF0R3JvdXAsXG4gICAgICAgICAgICAgICAgZGVsaW1pdGVyOiBudWxsLFxuICAgICAgICAgICAgICAgIHpJbmRleDogOTk5OSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgICAgICBub0NhY2hlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBvblNlYXJjaFN0YXJ0OiBub29wLFxuICAgICAgICAgICAgICAgIG9uU2VhcmNoQ29tcGxldGU6IG5vb3AsXG4gICAgICAgICAgICAgICAgb25TZWFyY2hFcnJvcjogbm9vcCxcbiAgICAgICAgICAgICAgICBwcmVzZXJ2ZUlucHV0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb250YWluZXJDbGFzczogJ2F1dG9jb21wbGV0ZS1zdWdnZXN0aW9ucycsXG4gICAgICAgICAgICAgICAgdGFiRGlzYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgY3VycmVudFJlcXVlc3Q6IG51bGwsXG4gICAgICAgICAgICAgICAgdHJpZ2dlclNlbGVjdE9uVmFsaWRJbnB1dDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwcmV2ZW50QmFkUXVlcmllczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsb29rdXBGaWx0ZXI6IGZ1bmN0aW9uIChzdWdnZXN0aW9uLCBvcmlnaW5hbFF1ZXJ5LCBxdWVyeUxvd2VyQ2FzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3VnZ2VzdGlvbi52YWx1ZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YocXVlcnlMb3dlckNhc2UpICE9PSAtMTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBhcmFtTmFtZTogJ3F1ZXJ5JyxcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1SZXN1bHQ6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHJlc3BvbnNlID09PSAnc3RyaW5nJyA/ICQucGFyc2VKU09OKHJlc3BvbnNlKSA6IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2hvd05vU3VnZ2VzdGlvbk5vdGljZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbm9TdWdnZXN0aW9uTm90aWNlOiAnTm8gcmVzdWx0cycsXG4gICAgICAgICAgICAgICAgb3JpZW50YXRpb246ICdib3R0b20nLFxuICAgICAgICAgICAgICAgIGZvcmNlRml4UG9zaXRpb246IGZhbHNlXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vIFNoYXJlZCB2YXJpYWJsZXM6XG4gICAgICAgIHRoYXQuZWxlbWVudCA9IGVsO1xuICAgICAgICB0aGF0LmVsID0gJChlbCk7XG4gICAgICAgIHRoYXQuc3VnZ2VzdGlvbnMgPSBbXTtcbiAgICAgICAgdGhhdC5iYWRRdWVyaWVzID0gW107XG4gICAgICAgIHRoYXQuc2VsZWN0ZWRJbmRleCA9IC0xO1xuICAgICAgICB0aGF0LmN1cnJlbnRWYWx1ZSA9IHRoYXQuZWxlbWVudC52YWx1ZTtcbiAgICAgICAgdGhhdC5pbnRlcnZhbElkID0gMDtcbiAgICAgICAgdGhhdC5jYWNoZWRSZXNwb25zZSA9IHt9O1xuICAgICAgICB0aGF0Lm9uQ2hhbmdlSW50ZXJ2YWwgPSBudWxsO1xuICAgICAgICB0aGF0Lm9uQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgdGhhdC5pc0xvY2FsID0gZmFsc2U7XG4gICAgICAgIHRoYXQuc3VnZ2VzdGlvbnNDb250YWluZXIgPSBudWxsO1xuICAgICAgICB0aGF0Lm5vU3VnZ2VzdGlvbnNDb250YWluZXIgPSBudWxsO1xuICAgICAgICB0aGF0Lm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuICAgICAgICB0aGF0LmNsYXNzZXMgPSB7XG4gICAgICAgICAgICBzZWxlY3RlZDogJ2F1dG9jb21wbGV0ZS1zZWxlY3RlZCcsXG4gICAgICAgICAgICBzdWdnZXN0aW9uOiAnYXV0b2NvbXBsZXRlLXN1Z2dlc3Rpb24nXG4gICAgICAgIH07XG4gICAgICAgIHRoYXQuaGludCA9IG51bGw7XG4gICAgICAgIHRoYXQuaGludFZhbHVlID0gJyc7XG4gICAgICAgIHRoYXQuc2VsZWN0aW9uID0gbnVsbDtcblxuICAgICAgICAvLyBJbml0aWFsaXplIGFuZCBzZXQgb3B0aW9uczpcbiAgICAgICAgdGhhdC5pbml0aWFsaXplKCk7XG4gICAgICAgIHRoYXQuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICB9XG5cbiAgICBBdXRvY29tcGxldGUudXRpbHMgPSB1dGlscztcblxuICAgICQuQXV0b2NvbXBsZXRlID0gQXV0b2NvbXBsZXRlO1xuXG4gICAgQXV0b2NvbXBsZXRlLmZvcm1hdFJlc3VsdCA9IGZ1bmN0aW9uIChzdWdnZXN0aW9uLCBjdXJyZW50VmFsdWUpIHtcbiAgICAgICAgLy8gRG8gbm90IHJlcGxhY2UgYW55dGhpbmcgaWYgdGhlcmUgY3VycmVudCB2YWx1ZSBpcyBlbXB0eVxuICAgICAgICBpZiAoIWN1cnJlbnRWYWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN1Z2dlc3Rpb24udmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHZhciBwYXR0ZXJuID0gJygnICsgdXRpbHMuZXNjYXBlUmVnRXhDaGFycyhjdXJyZW50VmFsdWUpICsgJyknO1xuXG4gICAgICAgIHJldHVybiBzdWdnZXN0aW9uLnZhbHVlXG4gICAgICAgICAgICAucmVwbGFjZShuZXcgUmVnRXhwKHBhdHRlcm4sICdnaScpLCAnPHN0cm9uZz4kMTxcXC9zdHJvbmc+JylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8mL2csICcmYW1wOycpXG4gICAgICAgICAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgICAgICAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpXG4gICAgICAgICAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpXG4gICAgICAgICAgICAucmVwbGFjZSgvJmx0OyhcXC8/c3Ryb25nKSZndDsvZywgJzwkMT4nKTtcbiAgICB9O1xuXG4gICAgQXV0b2NvbXBsZXRlLmZvcm1hdEdyb3VwID0gZnVuY3Rpb24gKHN1Z2dlc3Rpb24sIGNhdGVnb3J5KSB7XG4gICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cImF1dG9jb21wbGV0ZS1ncm91cFwiPjxzdHJvbmc+JyArIGNhdGVnb3J5ICsgJzwvc3Ryb25nPjwvZGl2Pic7XG4gICAgfTtcblxuICAgIEF1dG9jb21wbGV0ZS5wcm90b3R5cGUgPSB7XG5cbiAgICAgICAga2lsbGVyRm46IG51bGwsXG5cbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxuICAgICAgICAgICAgICAgIHN1Z2dlc3Rpb25TZWxlY3RvciA9ICcuJyArIHRoYXQuY2xhc3Nlcy5zdWdnZXN0aW9uLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkID0gdGhhdC5jbGFzc2VzLnNlbGVjdGVkLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB0aGF0Lm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyO1xuXG4gICAgICAgICAgICAvLyBSZW1vdmUgYXV0b2NvbXBsZXRlIGF0dHJpYnV0ZSB0byBwcmV2ZW50IG5hdGl2ZSBzdWdnZXN0aW9uczpcbiAgICAgICAgICAgIHRoYXQuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2F1dG9jb21wbGV0ZScsICdvZmYnKTtcblxuICAgICAgICAgICAgdGhhdC5raWxsZXJGbiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEkKGUudGFyZ2V0KS5jbG9zZXN0KCcuJyArIHRoYXQub3B0aW9ucy5jb250YWluZXJDbGFzcykubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQua2lsbFN1Z2dlc3Rpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuZGlzYWJsZUtpbGxlckZuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gaHRtbCgpIGRlYWxzIHdpdGggbWFueSB0eXBlczogaHRtbFN0cmluZyBvciBFbGVtZW50IG9yIEFycmF5IG9yIGpRdWVyeVxuICAgICAgICAgICAgdGhhdC5ub1N1Z2dlc3Rpb25zQ29udGFpbmVyID0gJCgnPGRpdiBjbGFzcz1cImF1dG9jb21wbGV0ZS1uby1zdWdnZXN0aW9uXCI+PC9kaXY+JylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5odG1sKHRoaXMub3B0aW9ucy5ub1N1Z2dlc3Rpb25Ob3RpY2UpLmdldCgwKTtcblxuICAgICAgICAgICAgdGhhdC5zdWdnZXN0aW9uc0NvbnRhaW5lciA9IEF1dG9jb21wbGV0ZS51dGlscy5jcmVhdGVOb2RlKG9wdGlvbnMuY29udGFpbmVyQ2xhc3MpO1xuXG4gICAgICAgICAgICBjb250YWluZXIgPSAkKHRoYXQuc3VnZ2VzdGlvbnNDb250YWluZXIpO1xuXG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kVG8ob3B0aW9ucy5hcHBlbmRUbyk7XG5cbiAgICAgICAgICAgIC8vIE9ubHkgc2V0IHdpZHRoIGlmIGl0IHdhcyBwcm92aWRlZDpcbiAgICAgICAgICAgIGlmIChvcHRpb25zLndpZHRoICE9PSAnYXV0bycpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuY3NzKCd3aWR0aCcsIG9wdGlvbnMud2lkdGgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBMaXN0ZW4gZm9yIG1vdXNlIG92ZXIgZXZlbnQgb24gc3VnZ2VzdGlvbnMgbGlzdDpcbiAgICAgICAgICAgIGNvbnRhaW5lci5vbignbW91c2VvdmVyLmF1dG9jb21wbGV0ZScsIHN1Z2dlc3Rpb25TZWxlY3RvciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoYXQuYWN0aXZhdGUoJCh0aGlzKS5kYXRhKCdpbmRleCcpKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBEZXNlbGVjdCBhY3RpdmUgZWxlbWVudCB3aGVuIG1vdXNlIGxlYXZlcyBzdWdnZXN0aW9ucyBjb250YWluZXI6XG4gICAgICAgICAgICBjb250YWluZXIub24oJ21vdXNlb3V0LmF1dG9jb21wbGV0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGF0LnNlbGVjdGVkSW5kZXggPSAtMTtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuY2hpbGRyZW4oJy4nICsgc2VsZWN0ZWQpLnJlbW92ZUNsYXNzKHNlbGVjdGVkKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBMaXN0ZW4gZm9yIGNsaWNrIGV2ZW50IG9uIHN1Z2dlc3Rpb25zIGxpc3Q6XG4gICAgICAgICAgICBjb250YWluZXIub24oJ2NsaWNrLmF1dG9jb21wbGV0ZScsIHN1Z2dlc3Rpb25TZWxlY3RvciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoYXQuc2VsZWN0KCQodGhpcykuZGF0YSgnaW5kZXgnKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoYXQuZml4UG9zaXRpb25DYXB0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGF0LnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5maXhQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICQod2luZG93KS5vbigncmVzaXplLmF1dG9jb21wbGV0ZScsIHRoYXQuZml4UG9zaXRpb25DYXB0dXJlKTtcblxuICAgICAgICAgICAgdGhhdC5lbC5vbigna2V5ZG93bi5hdXRvY29tcGxldGUnLCBmdW5jdGlvbiAoZSkgeyB0aGF0Lm9uS2V5UHJlc3MoZSk7IH0pO1xuICAgICAgICAgICAgdGhhdC5lbC5vbigna2V5dXAuYXV0b2NvbXBsZXRlJywgZnVuY3Rpb24gKGUpIHsgdGhhdC5vbktleVVwKGUpOyB9KTtcbiAgICAgICAgICAgIHRoYXQuZWwub24oJ2JsdXIuYXV0b2NvbXBsZXRlJywgZnVuY3Rpb24gKCkgeyB0aGF0Lm9uQmx1cigpOyB9KTtcbiAgICAgICAgICAgIHRoYXQuZWwub24oJ2ZvY3VzLmF1dG9jb21wbGV0ZScsIGZ1bmN0aW9uICgpIHsgdGhhdC5vbkZvY3VzKCk7IH0pO1xuICAgICAgICAgICAgdGhhdC5lbC5vbignY2hhbmdlLmF1dG9jb21wbGV0ZScsIGZ1bmN0aW9uIChlKSB7IHRoYXQub25LZXlVcChlKTsgfSk7XG4gICAgICAgICAgICB0aGF0LmVsLm9uKCdpbnB1dC5hdXRvY29tcGxldGUnLCBmdW5jdGlvbiAoZSkgeyB0aGF0Lm9uS2V5VXAoZSk7IH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uRm9jdXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgICAgICAgdGhhdC5maXhQb3NpdGlvbigpO1xuXG4gICAgICAgICAgICBpZiAodGhhdC5lbC52YWwoKS5sZW5ndGggPj0gdGhhdC5vcHRpb25zLm1pbkNoYXJzKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5vblZhbHVlQ2hhbmdlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25CbHVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZUtpbGxlckZuKCk7XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICBhYm9ydEFqYXg6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIGlmICh0aGF0LmN1cnJlbnRSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgdGhhdC5jdXJyZW50UmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIHRoYXQuY3VycmVudFJlcXVlc3QgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHNldE9wdGlvbnM6IGZ1bmN0aW9uIChzdXBwbGllZE9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcyxcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gdGhhdC5vcHRpb25zO1xuXG4gICAgICAgICAgICAkLmV4dGVuZChvcHRpb25zLCBzdXBwbGllZE9wdGlvbnMpO1xuXG4gICAgICAgICAgICB0aGF0LmlzTG9jYWwgPSAkLmlzQXJyYXkob3B0aW9ucy5sb29rdXApO1xuXG4gICAgICAgICAgICBpZiAodGhhdC5pc0xvY2FsKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5sb29rdXAgPSB0aGF0LnZlcmlmeVN1Z2dlc3Rpb25zRm9ybWF0KG9wdGlvbnMubG9va3VwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3B0aW9ucy5vcmllbnRhdGlvbiA9IHRoYXQudmFsaWRhdGVPcmllbnRhdGlvbihvcHRpb25zLm9yaWVudGF0aW9uLCAnYm90dG9tJyk7XG5cbiAgICAgICAgICAgIC8vIEFkanVzdCBoZWlnaHQsIHdpZHRoIGFuZCB6LWluZGV4OlxuICAgICAgICAgICAgJCh0aGF0LnN1Z2dlc3Rpb25zQ29udGFpbmVyKS5jc3Moe1xuICAgICAgICAgICAgICAgICdtYXgtaGVpZ2h0Jzogb3B0aW9ucy5tYXhIZWlnaHQgKyAncHgnLFxuICAgICAgICAgICAgICAgICd3aWR0aCc6IG9wdGlvbnMud2lkdGggKyAncHgnLFxuICAgICAgICAgICAgICAgICd6LWluZGV4Jzogb3B0aW9ucy56SW5kZXhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG5cbiAgICAgICAgY2xlYXJDYWNoZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5jYWNoZWRSZXNwb25zZSA9IHt9O1xuICAgICAgICAgICAgdGhpcy5iYWRRdWVyaWVzID0gW107XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xlYXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJDYWNoZSgpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSAnJztcbiAgICAgICAgICAgIHRoaXMuc3VnZ2VzdGlvbnMgPSBbXTtcbiAgICAgICAgfSxcblxuICAgICAgICBkaXNhYmxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB0aGF0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhhdC5vbkNoYW5nZUludGVydmFsKTtcbiAgICAgICAgICAgIHRoYXQuYWJvcnRBamF4KCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZW5hYmxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZml4UG9zaXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIFVzZSBvbmx5IHdoZW4gY29udGFpbmVyIGhhcyBhbHJlYWR5IGl0cyBjb250ZW50XG5cbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcyxcbiAgICAgICAgICAgICAgICAkY29udGFpbmVyID0gJCh0aGF0LnN1Z2dlc3Rpb25zQ29udGFpbmVyKSxcbiAgICAgICAgICAgICAgICBjb250YWluZXJQYXJlbnQgPSAkY29udGFpbmVyLnBhcmVudCgpLmdldCgwKTtcbiAgICAgICAgICAgIC8vIEZpeCBwb3NpdGlvbiBhdXRvbWF0aWNhbGx5IHdoZW4gYXBwZW5kZWQgdG8gYm9keS5cbiAgICAgICAgICAgIC8vIEluIG90aGVyIGNhc2VzIGZvcmNlIHBhcmFtZXRlciBtdXN0IGJlIGdpdmVuLlxuICAgICAgICAgICAgaWYgKGNvbnRhaW5lclBhcmVudCAhPT0gZG9jdW1lbnQuYm9keSAmJiAhdGhhdC5vcHRpb25zLmZvcmNlRml4UG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENob29zZSBvcmllbnRhdGlvblxuICAgICAgICAgICAgdmFyIG9yaWVudGF0aW9uID0gdGhhdC5vcHRpb25zLm9yaWVudGF0aW9uLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lckhlaWdodCA9ICRjb250YWluZXIub3V0ZXJIZWlnaHQoKSxcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSB0aGF0LmVsLm91dGVySGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gdGhhdC5lbC5vZmZzZXQoKSxcbiAgICAgICAgICAgICAgICBzdHlsZXMgPSB7ICd0b3AnOiBvZmZzZXQudG9wLCAnbGVmdCc6IG9mZnNldC5sZWZ0IH07XG5cbiAgICAgICAgICAgIGlmIChvcmllbnRhdGlvbiA9PT0gJ2F1dG8nKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZpZXdQb3J0SGVpZ2h0ID0gJCh3aW5kb3cpLmhlaWdodCgpLFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCksXG4gICAgICAgICAgICAgICAgICAgIHRvcE92ZXJmbG93ID0gLXNjcm9sbFRvcCArIG9mZnNldC50b3AgLSBjb250YWluZXJIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbU92ZXJmbG93ID0gc2Nyb2xsVG9wICsgdmlld1BvcnRIZWlnaHQgLSAob2Zmc2V0LnRvcCArIGhlaWdodCArIGNvbnRhaW5lckhlaWdodCk7XG5cbiAgICAgICAgICAgICAgICBvcmllbnRhdGlvbiA9IChNYXRoLm1heCh0b3BPdmVyZmxvdywgYm90dG9tT3ZlcmZsb3cpID09PSB0b3BPdmVyZmxvdykgPyAndG9wJyA6ICdib3R0b20nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob3JpZW50YXRpb24gPT09ICd0b3AnKSB7XG4gICAgICAgICAgICAgICAgc3R5bGVzLnRvcCArPSAtY29udGFpbmVySGVpZ2h0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdHlsZXMudG9wICs9IGhlaWdodDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSWYgY29udGFpbmVyIGlzIG5vdCBwb3NpdGlvbmVkIHRvIGJvZHksXG4gICAgICAgICAgICAvLyBjb3JyZWN0IGl0cyBwb3NpdGlvbiB1c2luZyBvZmZzZXQgcGFyZW50IG9mZnNldFxuICAgICAgICAgICAgaWYoY29udGFpbmVyUGFyZW50ICE9PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgICAgICAgICAgdmFyIG9wYWNpdHkgPSAkY29udGFpbmVyLmNzcygnb3BhY2l0eScpLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRPZmZzZXREaWZmO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhhdC52aXNpYmxlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb250YWluZXIuY3NzKCdvcGFjaXR5JywgMCkuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwYXJlbnRPZmZzZXREaWZmID0gJGNvbnRhaW5lci5vZmZzZXRQYXJlbnQoKS5vZmZzZXQoKTtcbiAgICAgICAgICAgICAgICBzdHlsZXMudG9wIC09IHBhcmVudE9mZnNldERpZmYudG9wO1xuICAgICAgICAgICAgICAgIHN0eWxlcy5sZWZ0IC09IHBhcmVudE9mZnNldERpZmYubGVmdDtcblxuICAgICAgICAgICAgICAgIGlmICghdGhhdC52aXNpYmxlKXtcbiAgICAgICAgICAgICAgICAgICAgJGNvbnRhaW5lci5jc3MoJ29wYWNpdHknLCBvcGFjaXR5KS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhhdC5vcHRpb25zLndpZHRoID09PSAnYXV0bycpIHtcbiAgICAgICAgICAgICAgICBzdHlsZXMud2lkdGggPSB0aGF0LmVsLm91dGVyV2lkdGgoKSArICdweCc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRjb250YWluZXIuY3NzKHN0eWxlcyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZW5hYmxlS2lsbGVyRm46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljay5hdXRvY29tcGxldGUnLCB0aGF0LmtpbGxlckZuKTtcbiAgICAgICAgfSxcblxuICAgICAgICBkaXNhYmxlS2lsbGVyRm46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9mZignY2xpY2suYXV0b2NvbXBsZXRlJywgdGhhdC5raWxsZXJGbik7XG4gICAgICAgIH0sXG5cbiAgICAgICAga2lsbFN1Z2dlc3Rpb25zOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB0aGF0LnN0b3BLaWxsU3VnZ2VzdGlvbnMoKTtcbiAgICAgICAgICAgIHRoYXQuaW50ZXJ2YWxJZCA9IHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoYXQudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBObyBuZWVkIHRvIHJlc3RvcmUgdmFsdWUgd2hlbiBcbiAgICAgICAgICAgICAgICAgICAgLy8gcHJlc2VydmVJbnB1dCA9PT0gdHJ1ZSwgXG4gICAgICAgICAgICAgICAgICAgIC8vIGJlY2F1c2Ugd2UgZGlkIG5vdCBjaGFuZ2UgaXRcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGF0Lm9wdGlvbnMucHJlc2VydmVJbnB1dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5lbC52YWwodGhhdC5jdXJyZW50VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhhdC5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHRoYXQuc3RvcEtpbGxTdWdnZXN0aW9ucygpO1xuICAgICAgICAgICAgfSwgNTApO1xuICAgICAgICB9LFxuXG4gICAgICAgIHN0b3BLaWxsU3VnZ2VzdGlvbnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaXNDdXJzb3JBdEVuZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxuICAgICAgICAgICAgICAgIHZhbExlbmd0aCA9IHRoYXQuZWwudmFsKCkubGVuZ3RoLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvblN0YXJ0ID0gdGhhdC5lbGVtZW50LnNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgICAgICAgIHJhbmdlO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHNlbGVjdGlvblN0YXJ0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWxlY3Rpb25TdGFydCA9PT0gdmFsTGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikge1xuICAgICAgICAgICAgICAgIHJhbmdlID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgICAgICAgICAgcmFuZ2UubW92ZVN0YXJ0KCdjaGFyYWN0ZXInLCAtdmFsTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsTGVuZ3RoID09PSByYW5nZS50ZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uS2V5UHJlc3M6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgICAgIC8vIElmIHN1Z2dlc3Rpb25zIGFyZSBoaWRkZW4gYW5kIHVzZXIgcHJlc3NlcyBhcnJvdyBkb3duLCBkaXNwbGF5IHN1Z2dlc3Rpb25zOlxuICAgICAgICAgICAgaWYgKCF0aGF0LmRpc2FibGVkICYmICF0aGF0LnZpc2libGUgJiYgZS53aGljaCA9PT0ga2V5cy5ET1dOICYmIHRoYXQuY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5zdWdnZXN0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhhdC5kaXNhYmxlZCB8fCAhdGhhdC52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzd2l0Y2ggKGUud2hpY2gpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGtleXMuRVNDOlxuICAgICAgICAgICAgICAgICAgICB0aGF0LmVsLnZhbCh0aGF0LmN1cnJlbnRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGtleXMuUklHSFQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGF0LmhpbnQgJiYgdGhhdC5vcHRpb25zLm9uSGludCAmJiB0aGF0LmlzQ3Vyc29yQXRFbmQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5zZWxlY3RIaW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgY2FzZSBrZXlzLlRBQjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoYXQuaGludCAmJiB0aGF0Lm9wdGlvbnMub25IaW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnNlbGVjdEhpbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhhdC5zZWxlY3RlZEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhhdC5zZWxlY3QodGhhdC5zZWxlY3RlZEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoYXQub3B0aW9ucy50YWJEaXNhYmxlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGtleXMuUkVUVVJOOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhhdC5zZWxlY3RlZEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhhdC5zZWxlY3QodGhhdC5zZWxlY3RlZEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBrZXlzLlVQOlxuICAgICAgICAgICAgICAgICAgICB0aGF0Lm1vdmVVcCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGtleXMuRE9XTjpcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5tb3ZlRG93bigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENhbmNlbCBldmVudCBpZiBmdW5jdGlvbiBkaWQgbm90IHJldHVybjpcbiAgICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25LZXlVcDogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKHRoYXQuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN3aXRjaCAoZS53aGljaCkge1xuICAgICAgICAgICAgICAgIGNhc2Uga2V5cy5VUDpcbiAgICAgICAgICAgICAgICBjYXNlIGtleXMuRE9XTjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoYXQub25DaGFuZ2VJbnRlcnZhbCk7XG5cbiAgICAgICAgICAgIGlmICh0aGF0LmN1cnJlbnRWYWx1ZSAhPT0gdGhhdC5lbC52YWwoKSkge1xuICAgICAgICAgICAgICAgIHRoYXQuZmluZEJlc3RIaW50KCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoYXQub3B0aW9ucy5kZWZlclJlcXVlc3RCeSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRGVmZXIgbG9va3VwIGluIGNhc2Ugd2hlbiB2YWx1ZSBjaGFuZ2VzIHZlcnkgcXVpY2tseTpcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5vbkNoYW5nZUludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5vblZhbHVlQ2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIHRoYXQub3B0aW9ucy5kZWZlclJlcXVlc3RCeSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5vblZhbHVlQ2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIG9uVmFsdWVDaGFuZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcyxcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gdGhhdC5vcHRpb25zLFxuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhhdC5lbC52YWwoKSxcbiAgICAgICAgICAgICAgICBxdWVyeSA9IHRoYXQuZ2V0UXVlcnkodmFsdWUpO1xuXG4gICAgICAgICAgICBpZiAodGhhdC5zZWxlY3Rpb24gJiYgdGhhdC5jdXJyZW50VmFsdWUgIT09IHF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgdGhhdC5zZWxlY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIChvcHRpb25zLm9uSW52YWxpZGF0ZVNlbGVjdGlvbiB8fCAkLm5vb3ApLmNhbGwodGhhdC5lbGVtZW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGF0Lm9uQ2hhbmdlSW50ZXJ2YWwpO1xuICAgICAgICAgICAgdGhhdC5jdXJyZW50VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoYXQuc2VsZWN0ZWRJbmRleCA9IC0xO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBleGlzdGluZyBzdWdnZXN0aW9uIGZvciB0aGUgbWF0Y2ggYmVmb3JlIHByb2NlZWRpbmc6XG4gICAgICAgICAgICBpZiAob3B0aW9ucy50cmlnZ2VyU2VsZWN0T25WYWxpZElucHV0ICYmIHRoYXQuaXNFeGFjdE1hdGNoKHF1ZXJ5KSkge1xuICAgICAgICAgICAgICAgIHRoYXQuc2VsZWN0KDApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHF1ZXJ5Lmxlbmd0aCA8IG9wdGlvbnMubWluQ2hhcnMpIHtcbiAgICAgICAgICAgICAgICB0aGF0LmhpZGUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhhdC5nZXRTdWdnZXN0aW9ucyhxdWVyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgaXNFeGFjdE1hdGNoOiBmdW5jdGlvbiAocXVlcnkpIHtcbiAgICAgICAgICAgIHZhciBzdWdnZXN0aW9ucyA9IHRoaXMuc3VnZ2VzdGlvbnM7XG5cbiAgICAgICAgICAgIHJldHVybiAoc3VnZ2VzdGlvbnMubGVuZ3RoID09PSAxICYmIHN1Z2dlc3Rpb25zWzBdLnZhbHVlLnRvTG93ZXJDYXNlKCkgPT09IHF1ZXJ5LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldFF1ZXJ5OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBkZWxpbWl0ZXIgPSB0aGlzLm9wdGlvbnMuZGVsaW1pdGVyLFxuICAgICAgICAgICAgICAgIHBhcnRzO1xuXG4gICAgICAgICAgICBpZiAoIWRlbGltaXRlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnRzID0gdmFsdWUuc3BsaXQoZGVsaW1pdGVyKTtcbiAgICAgICAgICAgIHJldHVybiAkLnRyaW0ocGFydHNbcGFydHMubGVuZ3RoIC0gMV0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldFN1Z2dlc3Rpb25zTG9jYWw6IGZ1bmN0aW9uIChxdWVyeSkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB0aGF0Lm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgcXVlcnlMb3dlckNhc2UgPSBxdWVyeS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICAgIGZpbHRlciA9IG9wdGlvbnMubG9va3VwRmlsdGVyLFxuICAgICAgICAgICAgICAgIGxpbWl0ID0gcGFyc2VJbnQob3B0aW9ucy5sb29rdXBMaW1pdCwgMTApLFxuICAgICAgICAgICAgICAgIGRhdGE7XG5cbiAgICAgICAgICAgIGRhdGEgPSB7XG4gICAgICAgICAgICAgICAgc3VnZ2VzdGlvbnM6ICQuZ3JlcChvcHRpb25zLmxvb2t1cCwgZnVuY3Rpb24gKHN1Z2dlc3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcihzdWdnZXN0aW9uLCBxdWVyeSwgcXVlcnlMb3dlckNhc2UpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAobGltaXQgJiYgZGF0YS5zdWdnZXN0aW9ucy5sZW5ndGggPiBsaW1pdCkge1xuICAgICAgICAgICAgICAgIGRhdGEuc3VnZ2VzdGlvbnMgPSBkYXRhLnN1Z2dlc3Rpb25zLnNsaWNlKDAsIGxpbWl0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0U3VnZ2VzdGlvbnM6IGZ1bmN0aW9uIChxKSB7XG4gICAgICAgICAgICB2YXIgcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgdGhhdCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHRoYXQub3B0aW9ucyxcbiAgICAgICAgICAgICAgICBzZXJ2aWNlVXJsID0gb3B0aW9ucy5zZXJ2aWNlVXJsLFxuICAgICAgICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgICAgICAgICBjYWNoZUtleSxcbiAgICAgICAgICAgICAgICBhamF4U2V0dGluZ3M7XG5cbiAgICAgICAgICAgIG9wdGlvbnMucGFyYW1zW29wdGlvbnMucGFyYW1OYW1lXSA9IHE7XG4gICAgICAgICAgICBwYXJhbXMgPSBvcHRpb25zLmlnbm9yZVBhcmFtcyA/IG51bGwgOiBvcHRpb25zLnBhcmFtcztcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMub25TZWFyY2hTdGFydC5jYWxsKHRoYXQuZWxlbWVudCwgb3B0aW9ucy5wYXJhbXMpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCQuaXNGdW5jdGlvbihvcHRpb25zLmxvb2t1cCkpe1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubG9va3VwKHEsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuc3VnZ2VzdGlvbnMgPSBkYXRhLnN1Z2dlc3Rpb25zO1xuICAgICAgICAgICAgICAgICAgICB0aGF0LnN1Z2dlc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5vblNlYXJjaENvbXBsZXRlLmNhbGwodGhhdC5lbGVtZW50LCBxLCBkYXRhLnN1Z2dlc3Rpb25zKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGF0LmlzTG9jYWwpIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IHRoYXQuZ2V0U3VnZ2VzdGlvbnNMb2NhbChxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCQuaXNGdW5jdGlvbihzZXJ2aWNlVXJsKSkge1xuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlVXJsID0gc2VydmljZVVybC5jYWxsKHRoYXQuZWxlbWVudCwgcSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhY2hlS2V5ID0gc2VydmljZVVybCArICc/JyArICQucGFyYW0ocGFyYW1zIHx8IHt9KTtcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IHRoYXQuY2FjaGVkUmVzcG9uc2VbY2FjaGVLZXldO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgJC5pc0FycmF5KHJlc3BvbnNlLnN1Z2dlc3Rpb25zKSkge1xuICAgICAgICAgICAgICAgIHRoYXQuc3VnZ2VzdGlvbnMgPSByZXNwb25zZS5zdWdnZXN0aW9ucztcbiAgICAgICAgICAgICAgICB0aGF0LnN1Z2dlc3QoKTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm9uU2VhcmNoQ29tcGxldGUuY2FsbCh0aGF0LmVsZW1lbnQsIHEsIHJlc3BvbnNlLnN1Z2dlc3Rpb25zKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoYXQuaXNCYWRRdWVyeShxKSkge1xuICAgICAgICAgICAgICAgIHRoYXQuYWJvcnRBamF4KCk7XG5cbiAgICAgICAgICAgICAgICBhamF4U2V0dGluZ3MgPSB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogc2VydmljZVVybCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogcGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBvcHRpb25zLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBvcHRpb25zLmRhdGFUeXBlXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICQuZXh0ZW5kKGFqYXhTZXR0aW5ncywgb3B0aW9ucy5hamF4U2V0dGluZ3MpO1xuXG4gICAgICAgICAgICAgICAgdGhhdC5jdXJyZW50UmVxdWVzdCA9ICQuYWpheChhamF4U2V0dGluZ3MpLmRvbmUoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5jdXJyZW50UmVxdWVzdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG9wdGlvbnMudHJhbnNmb3JtUmVzdWx0KGRhdGEsIHEpO1xuICAgICAgICAgICAgICAgICAgICB0aGF0LnByb2Nlc3NSZXNwb25zZShyZXN1bHQsIHEsIGNhY2hlS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5vblNlYXJjaENvbXBsZXRlLmNhbGwodGhhdC5lbGVtZW50LCBxLCByZXN1bHQuc3VnZ2VzdGlvbnMpO1xuICAgICAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm9uU2VhcmNoRXJyb3IuY2FsbCh0aGF0LmVsZW1lbnQsIHEsIGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMub25TZWFyY2hDb21wbGV0ZS5jYWxsKHRoYXQuZWxlbWVudCwgcSwgW10pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGlzQmFkUXVlcnk6IGZ1bmN0aW9uIChxKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5wcmV2ZW50QmFkUXVlcmllcyl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgYmFkUXVlcmllcyA9IHRoaXMuYmFkUXVlcmllcyxcbiAgICAgICAgICAgICAgICBpID0gYmFkUXVlcmllcy5sZW5ndGg7XG5cbiAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICBpZiAocS5pbmRleE9mKGJhZFF1ZXJpZXNbaV0pID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuXG4gICAgICAgIGhpZGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcyxcbiAgICAgICAgICAgICAgICBjb250YWluZXIgPSAkKHRoYXQuc3VnZ2VzdGlvbnNDb250YWluZXIpO1xuXG4gICAgICAgICAgICBpZiAoJC5pc0Z1bmN0aW9uKHRoYXQub3B0aW9ucy5vbkhpZGUpICYmIHRoYXQudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIHRoYXQub3B0aW9ucy5vbkhpZGUuY2FsbCh0aGF0LmVsZW1lbnQsIGNvbnRhaW5lcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoYXQudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhhdC5zZWxlY3RlZEluZGV4ID0gLTE7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoYXQub25DaGFuZ2VJbnRlcnZhbCk7XG4gICAgICAgICAgICAkKHRoYXQuc3VnZ2VzdGlvbnNDb250YWluZXIpLmhpZGUoKTtcbiAgICAgICAgICAgIHRoYXQuc2lnbmFsSGludChudWxsKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzdWdnZXN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc3VnZ2VzdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93Tm9TdWdnZXN0aW9uTm90aWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm9TdWdnZXN0aW9ucygpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcyxcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gdGhhdC5vcHRpb25zLFxuICAgICAgICAgICAgICAgIGdyb3VwQnkgPSBvcHRpb25zLmdyb3VwQnksXG4gICAgICAgICAgICAgICAgZm9ybWF0UmVzdWx0ID0gb3B0aW9ucy5mb3JtYXRSZXN1bHQsXG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGF0LmdldFF1ZXJ5KHRoYXQuY3VycmVudFZhbHVlKSxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSB0aGF0LmNsYXNzZXMuc3VnZ2VzdGlvbixcbiAgICAgICAgICAgICAgICBjbGFzc1NlbGVjdGVkID0gdGhhdC5jbGFzc2VzLnNlbGVjdGVkLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9ICQodGhhdC5zdWdnZXN0aW9uc0NvbnRhaW5lciksXG4gICAgICAgICAgICAgICAgbm9TdWdnZXN0aW9uc0NvbnRhaW5lciA9ICQodGhhdC5ub1N1Z2dlc3Rpb25zQ29udGFpbmVyKSxcbiAgICAgICAgICAgICAgICBiZWZvcmVSZW5kZXIgPSBvcHRpb25zLmJlZm9yZVJlbmRlcixcbiAgICAgICAgICAgICAgICBodG1sID0gJycsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgZm9ybWF0R3JvdXAgPSBmdW5jdGlvbiAoc3VnZ2VzdGlvbiwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50Q2F0ZWdvcnkgPSBzdWdnZXN0aW9uLmRhdGFbZ3JvdXBCeV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yeSA9PT0gY3VycmVudENhdGVnb3J5KXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5ID0gY3VycmVudENhdGVnb3J5O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5mb3JtYXRHcm91cChzdWdnZXN0aW9uLCBjYXRlZ29yeSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnRyaWdnZXJTZWxlY3RPblZhbGlkSW5wdXQgJiYgdGhhdC5pc0V4YWN0TWF0Y2godmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5zZWxlY3QoMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBCdWlsZCBzdWdnZXN0aW9ucyBpbm5lciBIVE1MOlxuICAgICAgICAgICAgJC5lYWNoKHRoYXQuc3VnZ2VzdGlvbnMsIGZ1bmN0aW9uIChpLCBzdWdnZXN0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdyb3VwQnkpe1xuICAgICAgICAgICAgICAgICAgICBodG1sICs9IGZvcm1hdEdyb3VwKHN1Z2dlc3Rpb24sIHZhbHVlLCBpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwiJyArIGNsYXNzTmFtZSArICdcIiBkYXRhLWluZGV4PVwiJyArIGkgKyAnXCI+JyArIGZvcm1hdFJlc3VsdChzdWdnZXN0aW9uLCB2YWx1ZSwgaSkgKyAnPC9kaXY+JztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmFkanVzdENvbnRhaW5lcldpZHRoKCk7XG5cbiAgICAgICAgICAgIG5vU3VnZ2VzdGlvbnNDb250YWluZXIuZGV0YWNoKCk7XG4gICAgICAgICAgICBjb250YWluZXIuaHRtbChodG1sKTtcblxuICAgICAgICAgICAgaWYgKCQuaXNGdW5jdGlvbihiZWZvcmVSZW5kZXIpKSB7XG4gICAgICAgICAgICAgICAgYmVmb3JlUmVuZGVyLmNhbGwodGhhdC5lbGVtZW50LCBjb250YWluZXIsIHRoYXQuc3VnZ2VzdGlvbnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGF0LmZpeFBvc2l0aW9uKCk7XG4gICAgICAgICAgICBjb250YWluZXIuc2hvdygpO1xuXG4gICAgICAgICAgICAvLyBTZWxlY3QgZmlyc3QgdmFsdWUgYnkgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmF1dG9TZWxlY3RGaXJzdCkge1xuICAgICAgICAgICAgICAgIHRoYXQuc2VsZWN0ZWRJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnNjcm9sbFRvcCgwKTtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuY2hpbGRyZW4oJy4nICsgY2xhc3NOYW1lKS5maXJzdCgpLmFkZENsYXNzKGNsYXNzU2VsZWN0ZWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGF0LnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhhdC5maW5kQmVzdEhpbnQoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBub1N1Z2dlc3Rpb25zOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9ICQodGhhdC5zdWdnZXN0aW9uc0NvbnRhaW5lciksXG4gICAgICAgICAgICAgICAgIG5vU3VnZ2VzdGlvbnNDb250YWluZXIgPSAkKHRoYXQubm9TdWdnZXN0aW9uc0NvbnRhaW5lcik7XG5cbiAgICAgICAgICAgIHRoaXMuYWRqdXN0Q29udGFpbmVyV2lkdGgoKTtcblxuICAgICAgICAgICAgLy8gU29tZSBleHBsaWNpdCBzdGVwcy4gQmUgY2FyZWZ1bCBoZXJlIGFzIGl0IGVhc3kgdG8gZ2V0XG4gICAgICAgICAgICAvLyBub1N1Z2dlc3Rpb25zQ29udGFpbmVyIHJlbW92ZWQgZnJvbSBET00gaWYgbm90IGRldGFjaGVkIHByb3Blcmx5LlxuICAgICAgICAgICAgbm9TdWdnZXN0aW9uc0NvbnRhaW5lci5kZXRhY2goKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5lbXB0eSgpOyAvLyBjbGVhbiBzdWdnZXN0aW9ucyBpZiBhbnlcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmQobm9TdWdnZXN0aW9uc0NvbnRhaW5lcik7XG5cbiAgICAgICAgICAgIHRoYXQuZml4UG9zaXRpb24oKTtcblxuICAgICAgICAgICAgY29udGFpbmVyLnNob3coKTtcbiAgICAgICAgICAgIHRoYXQudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYWRqdXN0Q29udGFpbmVyV2lkdGg6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB0aGF0Lm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyID0gJCh0aGF0LnN1Z2dlc3Rpb25zQ29udGFpbmVyKTtcblxuICAgICAgICAgICAgLy8gSWYgd2lkdGggaXMgYXV0bywgYWRqdXN0IHdpZHRoIGJlZm9yZSBkaXNwbGF5aW5nIHN1Z2dlc3Rpb25zLFxuICAgICAgICAgICAgLy8gYmVjYXVzZSBpZiBpbnN0YW5jZSB3YXMgY3JlYXRlZCBiZWZvcmUgaW5wdXQgaGFkIHdpZHRoLCBpdCB3aWxsIGJlIHplcm8uXG4gICAgICAgICAgICAvLyBBbHNvIGl0IGFkanVzdHMgaWYgaW5wdXQgd2lkdGggaGFzIGNoYW5nZWQuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy53aWR0aCA9PT0gJ2F1dG8nKSB7XG4gICAgICAgICAgICAgICAgd2lkdGggPSB0aGF0LmVsLm91dGVyV2lkdGgoKTtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuY3NzKCd3aWR0aCcsIHdpZHRoID4gMCA/IHdpZHRoIDogMzAwKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZihvcHRpb25zLndpZHRoID09PSAnZmxleCcpIHtcbiAgICAgICAgICAgICAgICAvLyBUcnVzdCB0aGUgc291cmNlISBVbnNldCB0aGUgd2lkdGggcHJvcGVydHkgc28gaXQgd2lsbCBiZSB0aGUgbWF4IGxlbmd0aFxuICAgICAgICAgICAgICAgIC8vIHRoZSBjb250YWluaW5nIGVsZW1lbnRzLlxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5jc3MoJ3dpZHRoJywgJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGZpbmRCZXN0SGludDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhhdC5lbC52YWwoKS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICAgIGJlc3RNYXRjaCA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQuZWFjaCh0aGF0LnN1Z2dlc3Rpb25zLCBmdW5jdGlvbiAoaSwgc3VnZ2VzdGlvbikge1xuICAgICAgICAgICAgICAgIHZhciBmb3VuZE1hdGNoID0gc3VnZ2VzdGlvbi52YWx1ZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YodmFsdWUpID09PSAwO1xuICAgICAgICAgICAgICAgIGlmIChmb3VuZE1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGJlc3RNYXRjaCA9IHN1Z2dlc3Rpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAhZm91bmRNYXRjaDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGF0LnNpZ25hbEhpbnQoYmVzdE1hdGNoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzaWduYWxIaW50OiBmdW5jdGlvbiAoc3VnZ2VzdGlvbikge1xuICAgICAgICAgICAgdmFyIGhpbnRWYWx1ZSA9ICcnLFxuICAgICAgICAgICAgICAgIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKHN1Z2dlc3Rpb24pIHtcbiAgICAgICAgICAgICAgICBoaW50VmFsdWUgPSB0aGF0LmN1cnJlbnRWYWx1ZSArIHN1Z2dlc3Rpb24udmFsdWUuc3Vic3RyKHRoYXQuY3VycmVudFZhbHVlLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhhdC5oaW50VmFsdWUgIT09IGhpbnRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoYXQuaGludFZhbHVlID0gaGludFZhbHVlO1xuICAgICAgICAgICAgICAgIHRoYXQuaGludCA9IHN1Z2dlc3Rpb247XG4gICAgICAgICAgICAgICAgKHRoaXMub3B0aW9ucy5vbkhpbnQgfHwgJC5ub29wKShoaW50VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHZlcmlmeVN1Z2dlc3Rpb25zRm9ybWF0OiBmdW5jdGlvbiAoc3VnZ2VzdGlvbnMpIHtcbiAgICAgICAgICAgIC8vIElmIHN1Z2dlc3Rpb25zIGlzIHN0cmluZyBhcnJheSwgY29udmVydCB0aGVtIHRvIHN1cHBvcnRlZCBmb3JtYXQ6XG4gICAgICAgICAgICBpZiAoc3VnZ2VzdGlvbnMubGVuZ3RoICYmIHR5cGVvZiBzdWdnZXN0aW9uc1swXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJC5tYXAoc3VnZ2VzdGlvbnMsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdmFsdWUsIGRhdGE6IG51bGwgfTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHN1Z2dlc3Rpb25zO1xuICAgICAgICB9LFxuXG4gICAgICAgIHZhbGlkYXRlT3JpZW50YXRpb246IGZ1bmN0aW9uKG9yaWVudGF0aW9uLCBmYWxsYmFjaykge1xuICAgICAgICAgICAgb3JpZW50YXRpb24gPSAkLnRyaW0ob3JpZW50YXRpb24gfHwgJycpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgICAgIGlmKCQuaW5BcnJheShvcmllbnRhdGlvbiwgWydhdXRvJywgJ2JvdHRvbScsICd0b3AnXSkgPT09IC0xKXtcbiAgICAgICAgICAgICAgICBvcmllbnRhdGlvbiA9IGZhbGxiYWNrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gb3JpZW50YXRpb247XG4gICAgICAgIH0sXG5cbiAgICAgICAgcHJvY2Vzc1Jlc3BvbnNlOiBmdW5jdGlvbiAocmVzdWx0LCBvcmlnaW5hbFF1ZXJ5LCBjYWNoZUtleSkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB0aGF0Lm9wdGlvbnM7XG5cbiAgICAgICAgICAgIHJlc3VsdC5zdWdnZXN0aW9ucyA9IHRoYXQudmVyaWZ5U3VnZ2VzdGlvbnNGb3JtYXQocmVzdWx0LnN1Z2dlc3Rpb25zKTtcblxuICAgICAgICAgICAgLy8gQ2FjaGUgcmVzdWx0cyBpZiBjYWNoZSBpcyBub3QgZGlzYWJsZWQ6XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMubm9DYWNoZSkge1xuICAgICAgICAgICAgICAgIHRoYXQuY2FjaGVkUmVzcG9uc2VbY2FjaGVLZXldID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnByZXZlbnRCYWRRdWVyaWVzICYmICFyZXN1bHQuc3VnZ2VzdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuYmFkUXVlcmllcy5wdXNoKG9yaWdpbmFsUXVlcnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUmV0dXJuIGlmIG9yaWdpbmFsUXVlcnkgaXMgbm90IG1hdGNoaW5nIGN1cnJlbnQgcXVlcnk6XG4gICAgICAgICAgICBpZiAob3JpZ2luYWxRdWVyeSAhPT0gdGhhdC5nZXRRdWVyeSh0aGF0LmN1cnJlbnRWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoYXQuc3VnZ2VzdGlvbnMgPSByZXN1bHQuc3VnZ2VzdGlvbnM7XG4gICAgICAgICAgICB0aGF0LnN1Z2dlc3QoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBhY3RpdmF0ZTogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgYWN0aXZlSXRlbSxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZCA9IHRoYXQuY2xhc3Nlcy5zZWxlY3RlZCxcbiAgICAgICAgICAgICAgICBjb250YWluZXIgPSAkKHRoYXQuc3VnZ2VzdGlvbnNDb250YWluZXIpLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gY29udGFpbmVyLmZpbmQoJy4nICsgdGhhdC5jbGFzc2VzLnN1Z2dlc3Rpb24pO1xuXG4gICAgICAgICAgICBjb250YWluZXIuZmluZCgnLicgKyBzZWxlY3RlZCkucmVtb3ZlQ2xhc3Moc2VsZWN0ZWQpO1xuXG4gICAgICAgICAgICB0aGF0LnNlbGVjdGVkSW5kZXggPSBpbmRleDtcblxuICAgICAgICAgICAgaWYgKHRoYXQuc2VsZWN0ZWRJbmRleCAhPT0gLTEgJiYgY2hpbGRyZW4ubGVuZ3RoID4gdGhhdC5zZWxlY3RlZEluZGV4KSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlSXRlbSA9IGNoaWxkcmVuLmdldCh0aGF0LnNlbGVjdGVkSW5kZXgpO1xuICAgICAgICAgICAgICAgICQoYWN0aXZlSXRlbSkuYWRkQ2xhc3Moc2VsZWN0ZWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhY3RpdmVJdGVtO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSxcblxuICAgICAgICBzZWxlY3RIaW50OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgaSA9ICQuaW5BcnJheSh0aGF0LmhpbnQsIHRoYXQuc3VnZ2VzdGlvbnMpO1xuXG4gICAgICAgICAgICB0aGF0LnNlbGVjdChpKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZWxlY3Q6IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB0aGF0LmhpZGUoKTtcbiAgICAgICAgICAgIHRoYXQub25TZWxlY3QoaSk7XG4gICAgICAgICAgICB0aGF0LmRpc2FibGVLaWxsZXJGbigpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG1vdmVVcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZiAodGhhdC5zZWxlY3RlZEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoYXQuc2VsZWN0ZWRJbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICQodGhhdC5zdWdnZXN0aW9uc0NvbnRhaW5lcikuY2hpbGRyZW4oKS5maXJzdCgpLnJlbW92ZUNsYXNzKHRoYXQuY2xhc3Nlcy5zZWxlY3RlZCk7XG4gICAgICAgICAgICAgICAgdGhhdC5zZWxlY3RlZEluZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgdGhhdC5lbC52YWwodGhhdC5jdXJyZW50VmFsdWUpO1xuICAgICAgICAgICAgICAgIHRoYXQuZmluZEJlc3RIaW50KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGF0LmFkanVzdFNjcm9sbCh0aGF0LnNlbGVjdGVkSW5kZXggLSAxKTtcbiAgICAgICAgfSxcblxuICAgICAgICBtb3ZlRG93bjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZiAodGhhdC5zZWxlY3RlZEluZGV4ID09PSAodGhhdC5zdWdnZXN0aW9ucy5sZW5ndGggLSAxKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhhdC5hZGp1c3RTY3JvbGwodGhhdC5zZWxlY3RlZEluZGV4ICsgMSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYWRqdXN0U2Nyb2xsOiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcyxcbiAgICAgICAgICAgICAgICBhY3RpdmVJdGVtID0gdGhhdC5hY3RpdmF0ZShpbmRleCk7XG5cbiAgICAgICAgICAgIGlmICghYWN0aXZlSXRlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG9mZnNldFRvcCxcbiAgICAgICAgICAgICAgICB1cHBlckJvdW5kLFxuICAgICAgICAgICAgICAgIGxvd2VyQm91bmQsXG4gICAgICAgICAgICAgICAgaGVpZ2h0RGVsdGEgPSAkKGFjdGl2ZUl0ZW0pLm91dGVySGVpZ2h0KCk7XG5cbiAgICAgICAgICAgIG9mZnNldFRvcCA9IGFjdGl2ZUl0ZW0ub2Zmc2V0VG9wO1xuICAgICAgICAgICAgdXBwZXJCb3VuZCA9ICQodGhhdC5zdWdnZXN0aW9uc0NvbnRhaW5lcikuc2Nyb2xsVG9wKCk7XG4gICAgICAgICAgICBsb3dlckJvdW5kID0gdXBwZXJCb3VuZCArIHRoYXQub3B0aW9ucy5tYXhIZWlnaHQgLSBoZWlnaHREZWx0YTtcblxuICAgICAgICAgICAgaWYgKG9mZnNldFRvcCA8IHVwcGVyQm91bmQpIHtcbiAgICAgICAgICAgICAgICAkKHRoYXQuc3VnZ2VzdGlvbnNDb250YWluZXIpLnNjcm9sbFRvcChvZmZzZXRUb3ApO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvZmZzZXRUb3AgPiBsb3dlckJvdW5kKSB7XG4gICAgICAgICAgICAgICAgJCh0aGF0LnN1Z2dlc3Rpb25zQ29udGFpbmVyKS5zY3JvbGxUb3Aob2Zmc2V0VG9wIC0gdGhhdC5vcHRpb25zLm1heEhlaWdodCArIGhlaWdodERlbHRhKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF0aGF0Lm9wdGlvbnMucHJlc2VydmVJbnB1dCkge1xuICAgICAgICAgICAgICAgIHRoYXQuZWwudmFsKHRoYXQuZ2V0VmFsdWUodGhhdC5zdWdnZXN0aW9uc1tpbmRleF0udmFsdWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoYXQuc2lnbmFsSGludChudWxsKTtcbiAgICAgICAgfSxcblxuICAgICAgICBvblNlbGVjdDogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgb25TZWxlY3RDYWxsYmFjayA9IHRoYXQub3B0aW9ucy5vblNlbGVjdCxcbiAgICAgICAgICAgICAgICBzdWdnZXN0aW9uID0gdGhhdC5zdWdnZXN0aW9uc1tpbmRleF07XG5cbiAgICAgICAgICAgIHRoYXQuY3VycmVudFZhbHVlID0gdGhhdC5nZXRWYWx1ZShzdWdnZXN0aW9uLnZhbHVlKTtcblxuICAgICAgICAgICAgaWYgKHRoYXQuY3VycmVudFZhbHVlICE9PSB0aGF0LmVsLnZhbCgpICYmICF0aGF0Lm9wdGlvbnMucHJlc2VydmVJbnB1dCkge1xuICAgICAgICAgICAgICAgIHRoYXQuZWwudmFsKHRoYXQuY3VycmVudFZhbHVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhhdC5zaWduYWxIaW50KG51bGwpO1xuICAgICAgICAgICAgdGhhdC5zdWdnZXN0aW9ucyA9IFtdO1xuICAgICAgICAgICAgdGhhdC5zZWxlY3Rpb24gPSBzdWdnZXN0aW9uO1xuXG4gICAgICAgICAgICBpZiAoJC5pc0Z1bmN0aW9uKG9uU2VsZWN0Q2FsbGJhY2spKSB7XG4gICAgICAgICAgICAgICAgb25TZWxlY3RDYWxsYmFjay5jYWxsKHRoYXQuZWxlbWVudCwgc3VnZ2VzdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0VmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGRlbGltaXRlciA9IHRoYXQub3B0aW9ucy5kZWxpbWl0ZXIsXG4gICAgICAgICAgICAgICAgY3VycmVudFZhbHVlLFxuICAgICAgICAgICAgICAgIHBhcnRzO1xuXG4gICAgICAgICAgICBpZiAoIWRlbGltaXRlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3VycmVudFZhbHVlID0gdGhhdC5jdXJyZW50VmFsdWU7XG4gICAgICAgICAgICBwYXJ0cyA9IGN1cnJlbnRWYWx1ZS5zcGxpdChkZWxpbWl0ZXIpO1xuXG4gICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY3VycmVudFZhbHVlLnN1YnN0cigwLCBjdXJyZW50VmFsdWUubGVuZ3RoIC0gcGFydHNbcGFydHMubGVuZ3RoIC0gMV0ubGVuZ3RoKSArIHZhbHVlO1xuICAgICAgICB9LFxuXG4gICAgICAgIGRpc3Bvc2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHRoYXQuZWwub2ZmKCcuYXV0b2NvbXBsZXRlJykucmVtb3ZlRGF0YSgnYXV0b2NvbXBsZXRlJyk7XG4gICAgICAgICAgICB0aGF0LmRpc2FibGVLaWxsZXJGbigpO1xuICAgICAgICAgICAgJCh3aW5kb3cpLm9mZigncmVzaXplLmF1dG9jb21wbGV0ZScsIHRoYXQuZml4UG9zaXRpb25DYXB0dXJlKTtcbiAgICAgICAgICAgICQodGhhdC5zdWdnZXN0aW9uc0NvbnRhaW5lcikucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gQ3JlYXRlIGNoYWluYWJsZSBqUXVlcnkgcGx1Z2luOlxuICAgICQuZm4uYXV0b2NvbXBsZXRlID0gJC5mbi5kZXZicmlkZ2VBdXRvY29tcGxldGUgPSBmdW5jdGlvbiAob3B0aW9ucywgYXJncykge1xuICAgICAgICB2YXIgZGF0YUtleSA9ICdhdXRvY29tcGxldGUnO1xuICAgICAgICAvLyBJZiBmdW5jdGlvbiBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnQgcmV0dXJuXG4gICAgICAgIC8vIGluc3RhbmNlIG9mIHRoZSBmaXJzdCBtYXRjaGVkIGVsZW1lbnQ6XG4gICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlyc3QoKS5kYXRhKGRhdGFLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaW5wdXRFbGVtZW50ID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IGlucHV0RWxlbWVudC5kYXRhKGRhdGFLZXkpO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlICYmIHR5cGVvZiBpbnN0YW5jZVtvcHRpb25zXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZVtvcHRpb25zXShhcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIElmIGluc3RhbmNlIGFscmVhZHkgZXhpc3RzLCBkZXN0cm95IGl0OlxuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZSAmJiBpbnN0YW5jZS5kaXNwb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBuZXcgQXV0b2NvbXBsZXRlKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGlucHV0RWxlbWVudC5kYXRhKGRhdGFLZXksIGluc3RhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbn0pKTtcbiIsIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogZm91bmRhdGlvbi1kYXRlcGlja2VyLmpzXG4gKiBDb3B5cmlnaHQgMjAxNSBQZXRlciBCZW5vLCBuYWpsZXBzaXdlYmRlc2lnbmVyQGdtYWlsLmNvbSwgQGJlbm9wZXRlclxuICogcHJvamVjdCB3ZWJzaXRlIGh0dHA6Ly9mb3VuZGF0aW9uLWRhdGVwaWNrZXIucGV0ZXJiZW5vLmNvbVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4hIGZ1bmN0aW9uKCQpIHtcblxuICAgIGZ1bmN0aW9uIFVUQ0RhdGUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShEYXRlLlVUQy5hcHBseShEYXRlLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBVVENUb2RheSgpIHtcbiAgICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgICAgcmV0dXJuIFVUQ0RhdGUodG9kYXkuZ2V0VVRDRnVsbFllYXIoKSwgdG9kYXkuZ2V0VVRDTW9udGgoKSwgdG9kYXkuZ2V0VVRDRGF0ZSgpKTtcbiAgICB9XG5cbiAgICB2YXIgRGF0ZXBpY2tlciA9IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuZWxlbWVudCA9ICQoZWxlbWVudCk7XG4gICAgICAgIHRoaXMuYXV0b1Nob3cgPSAob3B0aW9ucy5hdXRvU2hvdyA9PSB1bmRlZmluZWQgPyB0cnVlIDogb3B0aW9ucy5hdXRvU2hvdyk7XG4gICAgICAgIHRoaXMuYXBwZW5kVG8gPSBvcHRpb25zLmFwcGVuZFRvIHx8ICdib2R5JztcbiAgICAgICAgdGhpcy5jbG9zZUJ1dHRvbiA9IG9wdGlvbnMuY2xvc2VCdXR0b247XG4gICAgICAgIHRoaXMubGFuZ3VhZ2UgPSBvcHRpb25zLmxhbmd1YWdlIHx8IHRoaXMuZWxlbWVudC5kYXRhKCdkYXRlLWxhbmd1YWdlJykgfHwgXCJlblwiO1xuICAgICAgICB0aGlzLmxhbmd1YWdlID0gdGhpcy5sYW5ndWFnZSBpbiBkYXRlcyA/IHRoaXMubGFuZ3VhZ2UgOiB0aGlzLmxhbmd1YWdlLnNwbGl0KCctJylbMF07IC8vQ2hlY2sgaWYgXCJkZS1ERVwiIHN0eWxlIGRhdGUgaXMgYXZhaWxhYmxlLCBpZiBub3QgbGFuZ3VhZ2Ugc2hvdWxkIGZhbGxiYWNrIHRvIDIgbGV0dGVyIGNvZGUgZWcgXCJkZVwiXG4gICAgICAgIHRoaXMubGFuZ3VhZ2UgPSB0aGlzLmxhbmd1YWdlIGluIGRhdGVzID8gdGhpcy5sYW5ndWFnZSA6IFwiZW5cIjtcbiAgICAgICAgdGhpcy5pc1JUTCA9IGRhdGVzW3RoaXMubGFuZ3VhZ2VdLnJ0bCB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5mb3JtYXQgPSBEUEdsb2JhbC5wYXJzZUZvcm1hdChvcHRpb25zLmZvcm1hdCB8fCB0aGlzLmVsZW1lbnQuZGF0YSgnZGF0ZS1mb3JtYXQnKSB8fCBkYXRlc1t0aGlzLmxhbmd1YWdlXS5mb3JtYXQgfHwgJ21tL2RkL3l5eXknKTtcbiAgICAgICAgdGhpcy5mb3JtYXRUZXh0ID0gb3B0aW9ucy5mb3JtYXQgfHwgdGhpcy5lbGVtZW50LmRhdGEoJ2RhdGUtZm9ybWF0JykgfHwgZGF0ZXNbdGhpcy5sYW5ndWFnZV0uZm9ybWF0IHx8ICdtbS9kZC95eXl5JztcbiAgICAgICAgdGhpcy5pc0lubGluZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzSW5wdXQgPSB0aGlzLmVsZW1lbnQuaXMoJ2lucHV0Jyk7XG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gdGhpcy5lbGVtZW50LmlzKCcuZGF0ZScpID8gdGhpcy5lbGVtZW50LmZpbmQoJy5wcmVmaXgsIC5wb3N0Zml4JykgOiBmYWxzZTtcbiAgICAgICAgdGhpcy5oYXNJbnB1dCA9IHRoaXMuY29tcG9uZW50ICYmIHRoaXMuZWxlbWVudC5maW5kKCdpbnB1dCcpLmxlbmd0aDtcbiAgICAgICAgdGhpcy5kaXNhYmxlRGJsQ2xpY2tTZWxlY3Rpb24gPSBvcHRpb25zLmRpc2FibGVEYmxDbGlja1NlbGVjdGlvbjtcbiAgICAgICAgdGhpcy5vblJlbmRlciA9IG9wdGlvbnMub25SZW5kZXIgfHwgZnVuY3Rpb24oKSB7fTtcbiAgICAgICAgaWYgKHRoaXMuY29tcG9uZW50ICYmIHRoaXMuY29tcG9uZW50Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jb21wb25lbnQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxpbmtGaWVsZCA9IG9wdGlvbnMubGlua0ZpZWxkIHx8IHRoaXMuZWxlbWVudC5kYXRhKCdsaW5rLWZpZWxkJykgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMubGlua0Zvcm1hdCA9IERQR2xvYmFsLnBhcnNlRm9ybWF0KG9wdGlvbnMubGlua0Zvcm1hdCB8fCB0aGlzLmVsZW1lbnQuZGF0YSgnbGluay1mb3JtYXQnKSB8fCAneXl5eS1tbS1kZCBoaDppaTpzcycpO1xuICAgICAgICB0aGlzLm1pbnV0ZVN0ZXAgPSBvcHRpb25zLm1pbnV0ZVN0ZXAgfHwgdGhpcy5lbGVtZW50LmRhdGEoJ21pbnV0ZS1zdGVwJykgfHwgNTtcbiAgICAgICAgdGhpcy5waWNrZXJQb3NpdGlvbiA9IG9wdGlvbnMucGlja2VyUG9zaXRpb24gfHwgdGhpcy5lbGVtZW50LmRhdGEoJ3BpY2tlci1wb3NpdGlvbicpIHx8ICdib3R0b20tcmlnaHQnO1xuICAgICAgICB0aGlzLmluaXRpYWxEYXRlID0gb3B0aW9ucy5pbml0aWFsRGF0ZSB8fCBudWxsO1xuICAgICAgICB0aGlzLmZhQ1NTcHJlZml4ID0gb3B0aW9ucy5mYUNTU3ByZWZpeCB8fCAnZmEnO1xuICAgICAgICB0aGlzLmxlZnRBcnJvdyA9IG9wdGlvbnMubGVmdEFycm93IHx8ICc8aSBjbGFzcz1cIicgKyB0aGlzLmZhQ1NTcHJlZml4ICsgJyAnICsgdGhpcy5mYUNTU3ByZWZpeCArICctY2hldnJvbi1sZWZ0IGZpLWFycm93LWxlZnRcIi8+JztcbiAgICAgICAgdGhpcy5yaWdodEFycm93ID0gb3B0aW9ucy5yaWdodEFycm93IHx8ICc8aSBjbGFzcz1cIicgKyB0aGlzLmZhQ1NTcHJlZml4ICsgJyAnICsgdGhpcy5mYUNTU3ByZWZpeCArICctY2hldnJvbi1yaWdodCBmaS1hcnJvdy1yaWdodFwiLz4nO1xuICAgICAgICB0aGlzLmNsb3NlSWNvbiA9IG9wdGlvbnMuY2xvc2VJY29uIHx8ICc8aSBjbGFzcz1cIicgKyB0aGlzLmZhQ1NTcHJlZml4ICsgJyAnICsgdGhpcy5mYUNTU3ByZWZpeCArICctcmVtb3ZlICcgKyB0aGlzLmZhQ1NTcHJlZml4ICsgJy10aW1lcyBmaS14XCI+PC9pPic7XG5cbiAgICAgICAgXG5cbiAgICAgICAgdGhpcy5taW5WaWV3ID0gMDtcbiAgICAgICAgaWYgKCdtaW5WaWV3JyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLm1pblZpZXcgPSBvcHRpb25zLm1pblZpZXc7XG4gICAgICAgIH0gZWxzZSBpZiAoJ21pblZpZXcnIGluIHRoaXMuZWxlbWVudC5kYXRhKCkpIHtcbiAgICAgICAgICAgIHRoaXMubWluVmlldyA9IHRoaXMuZWxlbWVudC5kYXRhKCdtaW4tdmlldycpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWluVmlldyA9IERQR2xvYmFsLmNvbnZlcnRWaWV3TW9kZSh0aGlzLm1pblZpZXcpO1xuXG4gICAgICAgIHRoaXMubWF4VmlldyA9IERQR2xvYmFsLm1vZGVzLmxlbmd0aCAtIDE7XG4gICAgICAgIGlmICgnbWF4VmlldycgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5tYXhWaWV3ID0gb3B0aW9ucy5tYXhWaWV3O1xuICAgICAgICB9IGVsc2UgaWYgKCdtYXhWaWV3JyBpbiB0aGlzLmVsZW1lbnQuZGF0YSgpKSB7XG4gICAgICAgICAgICB0aGlzLm1heFZpZXcgPSB0aGlzLmVsZW1lbnQuZGF0YSgnbWF4LXZpZXcnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1heFZpZXcgPSBEUEdsb2JhbC5jb252ZXJ0Vmlld01vZGUodGhpcy5tYXhWaWV3KTtcblxuICAgICAgICB0aGlzLnN0YXJ0Vmlld01vZGUgPSAnbW9udGgnO1xuICAgICAgICBpZiAoJ3N0YXJ0VmlldycgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5zdGFydFZpZXdNb2RlID0gb3B0aW9ucy5zdGFydFZpZXc7XG4gICAgICAgIH0gZWxzZSBpZiAoJ3N0YXJ0VmlldycgaW4gdGhpcy5lbGVtZW50LmRhdGEoKSkge1xuICAgICAgICAgICAgdGhpcy5zdGFydFZpZXdNb2RlID0gdGhpcy5lbGVtZW50LmRhdGEoJ3N0YXJ0LXZpZXcnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXJ0Vmlld01vZGUgPSBEUEdsb2JhbC5jb252ZXJ0Vmlld01vZGUodGhpcy5zdGFydFZpZXdNb2RlKTtcbiAgICAgICAgdGhpcy52aWV3TW9kZSA9IHRoaXMuc3RhcnRWaWV3TW9kZTtcblxuICAgICAgICBpZiAoISgnbWluVmlldycgaW4gb3B0aW9ucykgJiYgISgnbWF4VmlldycgaW4gb3B0aW9ucykgJiYgISh0aGlzLmVsZW1lbnQuZGF0YSgnbWluLXZpZXcnKSAmJiAhKHRoaXMuZWxlbWVudC5kYXRhKCdtYXgtdmlldycpKSkpIHtcbiAgICAgICAgICAgIHRoaXMucGlja1RpbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICgncGlja1RpbWUnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBpY2tUaW1lID0gb3B0aW9ucy5waWNrVGltZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnBpY2tUaW1lID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1pblZpZXcgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMubWF4VmlldyA9IDQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubWluVmlldyA9IDI7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXhWaWV3ID0gNDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZm9yY2VQYXJzZSA9IHRydWU7XG4gICAgICAgIGlmICgnZm9yY2VQYXJzZScgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5mb3JjZVBhcnNlID0gb3B0aW9ucy5mb3JjZVBhcnNlO1xuICAgICAgICB9IGVsc2UgaWYgKCdkYXRlRm9yY2VQYXJzZScgaW4gdGhpcy5lbGVtZW50LmRhdGEoKSkge1xuICAgICAgICAgICAgdGhpcy5mb3JjZVBhcnNlID0gdGhpcy5lbGVtZW50LmRhdGEoJ2RhdGUtZm9yY2UtcGFyc2UnKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgdGhpcy5waWNrZXIgPSAkKERQR2xvYmFsLnRlbXBsYXRlKHRoaXMubGVmdEFycm93LCB0aGlzLnJpZ2h0QXJyb3csIHRoaXMuY2xvc2VJY29uKSlcbiAgICAgICAgICAgIC5hcHBlbmRUbyh0aGlzLmlzSW5saW5lID8gdGhpcy5lbGVtZW50IDogdGhpcy5hcHBlbmRUbylcbiAgICAgICAgICAgIC5vbih7XG4gICAgICAgICAgICAgICAgY2xpY2s6ICQucHJveHkodGhpcy5jbGljaywgdGhpcyksXG4gICAgICAgICAgICAgICAgbW91c2Vkb3duOiAkLnByb3h5KHRoaXMubW91c2Vkb3duLCB0aGlzKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlQnV0dG9uKSB7XG4gICAgICAgICAgICB0aGlzLnBpY2tlci5maW5kKCdhLmRhdGVwaWNrZXItY2xvc2UnKS5zaG93KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBpY2tlci5maW5kKCdhLmRhdGVwaWNrZXItY2xvc2UnKS5oaWRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pc0lubGluZSkge1xuICAgICAgICAgICAgdGhpcy5waWNrZXIuYWRkQ2xhc3MoJ2RhdGVwaWNrZXItaW5saW5lJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBpY2tlci5hZGRDbGFzcygnZGF0ZXBpY2tlci1kcm9wZG93biBkcm9wZG93bi1tZW51Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNSVEwpIHtcbiAgICAgICAgICAgIHRoaXMucGlja2VyLmFkZENsYXNzKCdkYXRlcGlja2VyLXJ0bCcpO1xuXG4gICAgICAgICAgICB0aGlzLnBpY2tlci5maW5kKCcuZGF0ZS1zd2l0Y2gnKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICQodGhpcykucGFyZW50KCkucHJlcGVuZCgkKHRoaXMpLnNpYmxpbmdzKCcubmV4dCcpKTtcbiAgICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5hcHBlbmQoJCh0aGlzKS5zaWJsaW5ncygnLnByZXYnKSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy5waWNrZXIuZmluZCgnLnByZXYsIC5uZXh0JykudG9nZ2xlQ2xhc3MoJ3ByZXYgbmV4dCcpO1xuXG4gICAgICAgIH1cbiAgICAgICAgJChkb2N1bWVudCkub24oJ21vdXNlZG93bicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIC8vIENsaWNrZWQgb3V0c2lkZSB0aGUgZGF0ZXBpY2tlciwgaGlkZSBpdFxuICAgICAgICAgICAgaWYgKCQoZS50YXJnZXQpLmNsb3Nlc3QoJy5kYXRlcGlja2VyLmRhdGVwaWNrZXItaW5saW5lLCAuZGF0ZXBpY2tlci5kYXRlcGlja2VyLWRyb3Bkb3duJykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYXV0b2Nsb3NlID0gdHJ1ZTtcbiAgICAgICAgaWYgKCdhdXRvY2xvc2UnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMuYXV0b2Nsb3NlID0gb3B0aW9ucy5hdXRvY2xvc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoJ2RhdGVBdXRvY2xvc2UnIGluIHRoaXMuZWxlbWVudC5kYXRhKCkpIHtcbiAgICAgICAgICAgIHRoaXMuYXV0b2Nsb3NlID0gdGhpcy5lbGVtZW50LmRhdGEoJ2RhdGUtYXV0b2Nsb3NlJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmtleWJvYXJkTmF2aWdhdGlvbiA9IHRydWU7XG4gICAgICAgIGlmICgna2V5Ym9hcmROYXZpZ2F0aW9uJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmtleWJvYXJkTmF2aWdhdGlvbiA9IG9wdGlvbnMua2V5Ym9hcmROYXZpZ2F0aW9uO1xuICAgICAgICB9IGVsc2UgaWYgKCdkYXRlS2V5Ym9hcmROYXZpZ2F0aW9uJyBpbiB0aGlzLmVsZW1lbnQuZGF0YSgpKSB7XG4gICAgICAgICAgICB0aGlzLmtleWJvYXJkTmF2aWdhdGlvbiA9IHRoaXMuZWxlbWVudC5kYXRhKCdkYXRlLWtleWJvYXJkLW5hdmlnYXRpb24nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudG9kYXlCdG4gPSAob3B0aW9ucy50b2RheUJ0biB8fCB0aGlzLmVsZW1lbnQuZGF0YSgnZGF0ZS10b2RheS1idG4nKSB8fCBmYWxzZSk7XG4gICAgICAgIHRoaXMudG9kYXlIaWdobGlnaHQgPSAob3B0aW9ucy50b2RheUhpZ2hsaWdodCB8fCB0aGlzLmVsZW1lbnQuZGF0YSgnZGF0ZS10b2RheS1oaWdobGlnaHQnKSB8fCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5jYWxlbmRhcldlZWtzID0gZmFsc2U7XG4gICAgICAgIGlmICgnY2FsZW5kYXJXZWVrcycgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5jYWxlbmRhcldlZWtzID0gb3B0aW9ucy5jYWxlbmRhcldlZWtzO1xuICAgICAgICB9IGVsc2UgaWYgKCdkYXRlQ2FsZW5kYXJXZWVrcycgaW4gdGhpcy5lbGVtZW50LmRhdGEoKSkge1xuICAgICAgICAgICAgdGhpcy5jYWxlbmRhcldlZWtzID0gdGhpcy5lbGVtZW50LmRhdGEoJ2RhdGUtY2FsZW5kYXItd2Vla3MnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jYWxlbmRhcldlZWtzKVxuICAgICAgICAgICAgdGhpcy5waWNrZXIuZmluZCgndGZvb3QgdGgudG9kYXknKVxuICAgICAgICAgICAgLmF0dHIoJ2NvbHNwYW4nLCBmdW5jdGlvbihpLCB2YWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsKSArIDE7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLndlZWtTdGFydCA9ICgob3B0aW9ucy53ZWVrU3RhcnQgfHwgdGhpcy5lbGVtZW50LmRhdGEoJ2RhdGUtd2Vla3N0YXJ0JykgfHwgZGF0ZXNbdGhpcy5sYW5ndWFnZV0ud2Vla1N0YXJ0IHx8IDApICUgNyk7XG4gICAgICAgIHRoaXMud2Vla0VuZCA9ICgodGhpcy53ZWVrU3RhcnQgKyA2KSAlIDcpO1xuICAgICAgICB0aGlzLnN0YXJ0RGF0ZSA9IC1JbmZpbml0eTtcbiAgICAgICAgdGhpcy5lbmREYXRlID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMuZGF5c09mV2Vla0Rpc2FibGVkID0gW107XG4gICAgICAgIHRoaXMuZGF0ZXNEaXNhYmxlZCA9IFtdO1xuICAgICAgICB0aGlzLnNldFN0YXJ0RGF0ZShvcHRpb25zLnN0YXJ0RGF0ZSB8fCB0aGlzLmVsZW1lbnQuZGF0YSgnZGF0ZS1zdGFydGRhdGUnKSk7XG4gICAgICAgIHRoaXMuc2V0RW5kRGF0ZShvcHRpb25zLmVuZERhdGUgfHwgdGhpcy5lbGVtZW50LmRhdGEoJ2RhdGUtZW5kZGF0ZScpKTtcbiAgICAgICAgdGhpcy5zZXREYXlzT2ZXZWVrRGlzYWJsZWQob3B0aW9ucy5kYXlzT2ZXZWVrRGlzYWJsZWQgfHwgdGhpcy5lbGVtZW50LmRhdGEoJ2RhdGUtZGF5cy1vZi13ZWVrLWRpc2FibGVkJykpO1xuICAgICAgICB0aGlzLnNldERhdGVzRGlzYWJsZWQob3B0aW9ucy5kYXRlc0Rpc2FibGVkIHx8IHRoaXMuZWxlbWVudC5kYXRhKCdkYXRlcy1kaXNhYmxlZCcpKTtcblxuICAgICAgICB0aGlzLmZpbGxEb3coKTtcbiAgICAgICAgdGhpcy5maWxsTW9udGhzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG5cbiAgICAgICAgdGhpcy5zaG93TW9kZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLmlzSW5saW5lKSB7XG4gICAgICAgICAgICB0aGlzLnNob3coKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2F0dGFjaEV2ZW50cygpO1xuICAgIH07XG5cbiAgICBEYXRlcGlja2VyLnByb3RvdHlwZSA9IHtcbiAgICAgICAgY29uc3RydWN0b3I6IERhdGVwaWNrZXIsXG5cbiAgICAgICAgX2V2ZW50czogW10sXG4gICAgICAgIF9hdHRhY2hFdmVudHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5fZGV0YWNoRXZlbnRzKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0lucHV0KSB7IC8vIHNpbmdsZSBpbnB1dFxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5rZXlib2FyZE5hdmlnYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgW3RoaXMuZWxlbWVudCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzOiAodGhpcy5hdXRvU2hvdykgPyAkLnByb3h5KHRoaXMuc2hvdywgdGhpcykgOiBmdW5jdGlvbigpIHt9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0aGlzLmVsZW1lbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2N1czogKHRoaXMuYXV0b1Nob3cpID8gJC5wcm94eSh0aGlzLnNob3csIHRoaXMpIDogZnVuY3Rpb24oKSB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXl1cDogJC5wcm94eSh0aGlzLnVwZGF0ZSwgdGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ZG93bjogJC5wcm94eSh0aGlzLmtleWRvd24sIHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiAodGhpcy5lbGVtZW50LmF0dHIoJ3JlYWRvbmx5JykpID8gJC5wcm94eSh0aGlzLnNob3csIHRoaXMpIDogZnVuY3Rpb24oKSB7fVxuICAgICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5jb21wb25lbnQgJiYgdGhpcy5oYXNJbnB1dCkgeyAvLyBjb21wb25lbnQ6IGlucHV0ICsgYnV0dG9uXG4gICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gW1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3IgY29tcG9uZW50cyB0aGF0IGFyZSBub3QgcmVhZG9ubHksIGFsbG93IGtleWJvYXJkIG5hdlxuICAgICAgICAgICAgICAgICAgICBbdGhpcy5lbGVtZW50LmZpbmQoJ2lucHV0JyksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzOiAodGhpcy5hdXRvU2hvdykgPyAkLnByb3h5KHRoaXMuc2hvdywgdGhpcykgOiBmdW5jdGlvbigpIHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5dXA6ICQucHJveHkodGhpcy51cGRhdGUsIHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ZG93bjogJC5wcm94eSh0aGlzLmtleWRvd24sIHRoaXMpXG4gICAgICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgICAgICBbdGhpcy5jb21wb25lbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiAkLnByb3h5KHRoaXMuc2hvdywgdGhpcylcbiAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmVsZW1lbnQuaXMoJ2RpdicpKSB7IC8vIGlubGluZSBkYXRlcGlja2VyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0lubGluZSA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IFtcbiAgICAgICAgICAgICAgICAgICAgW3RoaXMuZWxlbWVudCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICQucHJveHkodGhpcy5zaG93LCB0aGlzKVxuICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmRpc2FibGVEYmxDbGlja1NlbGVjdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50c1t0aGlzLl9ldmVudHMubGVuZ3RoXSA9IFtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYmxjbGljazogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuYmx1cigpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgZWwsIGV2OyBpIDwgdGhpcy5fZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZWwgPSB0aGlzLl9ldmVudHNbaV1bMF07XG4gICAgICAgICAgICAgICAgZXYgPSB0aGlzLl9ldmVudHNbaV1bMV07XG4gICAgICAgICAgICAgICAgZWwub24oZXYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBfZGV0YWNoRXZlbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBlbCwgZXY7IGkgPCB0aGlzLl9ldmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBlbCA9IHRoaXMuX2V2ZW50c1tpXVswXTtcbiAgICAgICAgICAgICAgICBldiA9IHRoaXMuX2V2ZW50c1tpXVsxXTtcbiAgICAgICAgICAgICAgICBlbC5vZmYoZXYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gW107XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2hvdzogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdGhpcy5waWNrZXIuc2hvdygpO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmNvbXBvbmVudCA/IHRoaXMuY29tcG9uZW50Lm91dGVySGVpZ2h0KCkgOiB0aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLnBsYWNlKCk7XG4gICAgICAgICAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsICQucHJveHkodGhpcy5wbGFjZSwgdGhpcykpO1xuICAgICAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC50cmlnZ2VyKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnc2hvdycsXG4gICAgICAgICAgICAgICAgZGF0ZTogdGhpcy5kYXRlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBoaWRlOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0lubGluZSkgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBpY2tlci5pcygnOnZpc2libGUnKSkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5waWNrZXIuaGlkZSgpO1xuICAgICAgICAgICAgJCh3aW5kb3cpLm9mZigncmVzaXplJywgdGhpcy5wbGFjZSk7XG4gICAgICAgICAgICB0aGlzLnZpZXdNb2RlID0gdGhpcy5zdGFydFZpZXdNb2RlO1xuICAgICAgICAgICAgdGhpcy5zaG93TW9kZSgpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzSW5wdXQpIHtcbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vZmYoJ21vdXNlZG93bicsIHRoaXMuaGlkZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB0aGlzLmZvcmNlUGFyc2UgJiZcbiAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNJbnB1dCAmJiB0aGlzLmVsZW1lbnQudmFsKCkgfHxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNJbnB1dCAmJiB0aGlzLmVsZW1lbnQuZmluZCgnaW5wdXQnKS52YWwoKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZhbHVlKCk7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQudHJpZ2dlcih7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2hpZGUnLFxuICAgICAgICAgICAgICAgIGRhdGU6IHRoaXMuZGF0ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuX2RldGFjaEV2ZW50cygpO1xuICAgICAgICAgICAgdGhpcy5waWNrZXIucmVtb3ZlKCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5lbGVtZW50LmRhdGEoKS5kYXRlcGlja2VyO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldERhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGQgPSB0aGlzLmdldFVUQ0RhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShkLmdldFRpbWUoKSArIChkLmdldFRpbWV6b25lT2Zmc2V0KCkgKiA2MDAwMCkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldFVUQ0RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXREYXRlOiBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICB0aGlzLnNldFVUQ0RhdGUobmV3IERhdGUoZC5nZXRUaW1lKCkgLSAoZC5nZXRUaW1lem9uZU9mZnNldCgpICogNjAwMDApKSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0VVRDRGF0ZTogZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgdGhpcy5kYXRlID0gZDtcbiAgICAgICAgICAgIHRoaXMuc2V0VmFsdWUoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXRWYWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgZm9ybWF0dGVkID0gdGhpcy5nZXRGb3JtYXR0ZWREYXRlKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNJbnB1dCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuZmluZCgnaW5wdXQnKS52YWwoZm9ybWF0dGVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmRhdGEoJ2RhdGUnLCBmb3JtYXR0ZWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQudmFsKGZvcm1hdHRlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0Rm9ybWF0dGVkRGF0ZTogZnVuY3Rpb24oZm9ybWF0KSB7XG4gICAgICAgICAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgZm9ybWF0ID0gdGhpcy5mb3JtYXQ7XG4gICAgICAgICAgICByZXR1cm4gRFBHbG9iYWwuZm9ybWF0RGF0ZSh0aGlzLmRhdGUsIGZvcm1hdCwgdGhpcy5sYW5ndWFnZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0U3RhcnREYXRlOiBmdW5jdGlvbihzdGFydERhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnREYXRlID0gc3RhcnREYXRlIHx8IC1JbmZpbml0eTtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXJ0RGF0ZSAhPT0gLUluZmluaXR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydERhdGUgPSBEUEdsb2JhbC5wYXJzZURhdGUodGhpcy5zdGFydERhdGUsIHRoaXMuZm9ybWF0LCB0aGlzLmxhbmd1YWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU5hdkFycm93cygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldEVuZERhdGU6IGZ1bmN0aW9uKGVuZERhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuZW5kRGF0ZSA9IGVuZERhdGUgfHwgSW5maW5pdHk7XG4gICAgICAgICAgICBpZiAodGhpcy5lbmREYXRlICE9PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW5kRGF0ZSA9IERQR2xvYmFsLnBhcnNlRGF0ZSh0aGlzLmVuZERhdGUsIHRoaXMuZm9ybWF0LCB0aGlzLmxhbmd1YWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU5hdkFycm93cygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldERheXNPZldlZWtEaXNhYmxlZDogZnVuY3Rpb24oZGF5c09mV2Vla0Rpc2FibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmRheXNPZldlZWtEaXNhYmxlZCA9IGRheXNPZldlZWtEaXNhYmxlZCB8fCBbXTtcbiAgICAgICAgICAgIGlmICghJC5pc0FycmF5KHRoaXMuZGF5c09mV2Vla0Rpc2FibGVkKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF5c09mV2Vla0Rpc2FibGVkID0gdGhpcy5kYXlzT2ZXZWVrRGlzYWJsZWQuc3BsaXQoLyxcXHMqLyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRheXNPZldlZWtEaXNhYmxlZCA9ICQubWFwKHRoaXMuZGF5c09mV2Vla0Rpc2FibGVkLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGQsIDEwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTmF2QXJyb3dzKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0RGF0ZXNEaXNhYmxlZDogZnVuY3Rpb24oZGF0ZXNEaXNhYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5kYXRlc0Rpc2FibGVkID0gZGF0ZXNEaXNhYmxlZCB8fCBbXTtcbiAgICAgICAgICAgIGlmICghJC5pc0FycmF5KHRoaXMuZGF0ZXNEaXNhYmxlZCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGVzRGlzYWJsZWQgPSB0aGlzLmRhdGVzRGlzYWJsZWQuc3BsaXQoLyxcXHMqLyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRhdGVzRGlzYWJsZWQgPSAkLm1hcCh0aGlzLmRhdGVzRGlzYWJsZWQsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRFBHbG9iYWwucGFyc2VEYXRlKGQsIHRoaXMuZm9ybWF0LCB0aGlzLmxhbmd1YWdlKS52YWx1ZU9mKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU5hdkFycm93cygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHBsYWNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzSW5saW5lKSByZXR1cm47XG4gICAgICAgICAgICB2YXIgekluZGV4ID0gcGFyc2VJbnQodGhpcy5lbGVtZW50LnBhcmVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICQodGhpcykuY3NzKCd6LWluZGV4JykgIT0gJ2F1dG8nO1xuICAgICAgICAgICAgfSkuZmlyc3QoKS5jc3MoJ3otaW5kZXgnKSkgKyAxMDtcbiAgICAgICAgICAgIHZhciB0ZXh0Ym94ID0gdGhpcy5jb21wb25lbnQgPyB0aGlzLmNvbXBvbmVudCA6IHRoaXMuZWxlbWVudDtcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSB0ZXh0Ym94Lm9mZnNldCgpO1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHRleHRib3gub3V0ZXJIZWlnaHQoKSArIHBhcnNlSW50KHRleHRib3guY3NzKCdtYXJnaW4tdG9wJykpO1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGV4dGJveC5vdXRlcldpZHRoKCkgKyBwYXJzZUludCh0ZXh0Ym94LmNzcygnbWFyZ2luLWxlZnQnKSk7XG4gICAgICAgICAgICB2YXIgZnVsbE9mZnNldFRvcCA9IG9mZnNldC50b3AgKyBoZWlnaHQ7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0TGVmdCA9IG9mZnNldC5sZWZ0O1xuICAgICAgICAgICAgdGhpcy5waWNrZXIucmVtb3ZlQ2xhc3MoJ2RhdGVwaWNrZXItdG9wIGRhdGVwaWNrZXItYm90dG9tJyk7XG4gICAgICAgICAgICAvLyBpZiB0aGUgZGF0ZXBpY2tlciBpcyBnb2luZyB0byBiZSBiZWxvdyB0aGUgd2luZG93LCBzaG93IGl0IG9uIHRvcCBvZiB0aGUgaW5wdXRcbiAgICAgICAgICAgIGlmICgoZnVsbE9mZnNldFRvcCArIHRoaXMucGlja2VyLm91dGVySGVpZ2h0KCkpID49ICQod2luZG93KS5zY3JvbGxUb3AoKSArICQod2luZG93KS5oZWlnaHQoKSkge1xuICAgICAgICAgICAgICAgIGZ1bGxPZmZzZXRUb3AgPSBvZmZzZXQudG9wIC0gdGhpcy5waWNrZXIub3V0ZXJIZWlnaHQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBpY2tlci5hZGRDbGFzcygnZGF0ZXBpY2tlci10b3AnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucGlja2VyLmFkZENsYXNzKCdkYXRlcGlja2VyLWJvdHRvbScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB0aGUgZGF0ZXBpY2tlciBpcyBnb2luZyB0byBnbyBwYXN0IHRoZSByaWdodCBzaWRlIG9mIHRoZSB3aW5kb3csIHdlIHdhbnRcbiAgICAgICAgICAgIC8vIHRvIHNldCB0aGUgcmlnaHQgcG9zaXRpb24gc28gdGhlIGRhdGVwaWNrZXIgbGluZXMgdXAgd2l0aCB0aGUgdGV4dGJveFxuICAgICAgICAgICAgaWYgKG9mZnNldC5sZWZ0ICsgdGhpcy5waWNrZXIud2lkdGgoKSA+PSAkKHdpbmRvdykud2lkdGgoKSkge1xuICAgICAgICAgICAgICAgIG9mZnNldExlZnQgPSAob2Zmc2V0LmxlZnQgKyB3aWR0aCkgLSB0aGlzLnBpY2tlci53aWR0aCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5waWNrZXIuY3NzKHtcbiAgICAgICAgICAgICAgICB0b3A6IGZ1bGxPZmZzZXRUb3AsXG4gICAgICAgICAgICAgICAgbGVmdDogb2Zmc2V0TGVmdCxcbiAgICAgICAgICAgICAgICB6SW5kZXg6IHpJbmRleFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBkYXRlLCBmcm9tQXJncyA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRWYWwgPSB0aGlzLmlzSW5wdXQgPyB0aGlzLmVsZW1lbnQudmFsKCkgOiB0aGlzLmVsZW1lbnQuZGF0YSgnZGF0ZScpIHx8IHRoaXMuZWxlbWVudC5maW5kKCdpbnB1dCcpLnZhbCgpO1xuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cyAmJiBhcmd1bWVudHMubGVuZ3RoICYmICh0eXBlb2YgYXJndW1lbnRzWzBdID09PSAnc3RyaW5nJyB8fCBhcmd1bWVudHNbMF0gaW5zdGFuY2VvZiBEYXRlKSkge1xuICAgICAgICAgICAgICAgIGRhdGUgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICAgICAgZnJvbUFyZ3MgPSB0cnVlO1xuICAgICAgICAgICAgfSBcbiAgICAgICAgICAgIGVsc2UgaWYgKCFjdXJyZW50VmFsICYmIHRoaXMuaW5pdGlhbERhdGUgIT0gbnVsbCkgeyAvLyBJZiB2YWx1ZSBpcyBub3Qgc2V0LCBzZXQgaXQgdG8gdGhlIGluaXRpYWxEYXRlIFxuICAgICAgICAgICAgICAgIGRhdGUgPSB0aGlzLmluaXRpYWxEYXRlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRlID0gdGhpcy5pc0lucHV0ID8gdGhpcy5lbGVtZW50LnZhbCgpIDogdGhpcy5lbGVtZW50LmRhdGEoJ2RhdGUnKSB8fCB0aGlzLmVsZW1lbnQuZmluZCgnaW5wdXQnKS52YWwoKTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIGlmIChkYXRlLmxlbmd0aCA+IHRoaXMuZm9ybWF0VGV4dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzLnBpY2tlcikuYWRkQ2xhc3MoJ2lzLWludmFsaWQnKVxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMuZWxlbWVudCkuYWRkQ2xhc3MoJ2lzLWludmFsaWQtaW5wdXQnKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQodGhpcy5waWNrZXIpLnJlbW92ZUNsYXNzKCdpcy1pbnZhbGlkJylcbiAgICAgICAgICAgICAgICAkKHRoaXMuZWxlbWVudCkucmVtb3ZlQ2xhc3MoJ2lzLWludmFsaWQtaW5wdXQnKVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAgICAgdGhpcy5kYXRlID0gRFBHbG9iYWwucGFyc2VEYXRlKGRhdGUsIHRoaXMuZm9ybWF0LCB0aGlzLmxhbmd1YWdlKTsgIFxuXG4gICAgICAgICAgICBpZiAoZnJvbUFyZ3MgfHwgdGhpcy5pbml0aWFsRGF0ZSAhPSBudWxsKSB0aGlzLnNldFZhbHVlKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGUgPCB0aGlzLnN0YXJ0RGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0RhdGUgPSBuZXcgRGF0ZSh0aGlzLnN0YXJ0RGF0ZS52YWx1ZU9mKCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmRhdGUgPiB0aGlzLmVuZERhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdEYXRlID0gbmV3IERhdGUodGhpcy5lbmREYXRlLnZhbHVlT2YoKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0RhdGUgPSBuZXcgRGF0ZSh0aGlzLmRhdGUudmFsdWVPZigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZmlsbCgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZpbGxEb3c6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGRvd0NudCA9IHRoaXMud2Vla1N0YXJ0LFxuICAgICAgICAgICAgICAgIGh0bWwgPSAnPHRyPic7XG4gICAgICAgICAgICBpZiAodGhpcy5jYWxlbmRhcldlZWtzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNlbGwgPSAnPHRoIGNsYXNzPVwiY3dcIj4mbmJzcDs8L3RoPic7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBjZWxsO1xuICAgICAgICAgICAgICAgIHRoaXMucGlja2VyLmZpbmQoJy5kYXRlcGlja2VyLWRheXMgdGhlYWQgdHI6Zmlyc3QtY2hpbGQnKS5wcmVwZW5kKGNlbGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKGRvd0NudCA8IHRoaXMud2Vla1N0YXJ0ICsgNykge1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gJzx0aCBjbGFzcz1cImRvd1wiPicgKyBkYXRlc1t0aGlzLmxhbmd1YWdlXS5kYXlzTWluWyhkb3dDbnQrKykgJSA3XSArICc8L3RoPic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBodG1sICs9ICc8L3RyPic7XG4gICAgICAgICAgICB0aGlzLnBpY2tlci5maW5kKCcuZGF0ZXBpY2tlci1kYXlzIHRoZWFkJykuYXBwZW5kKGh0bWwpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZpbGxNb250aHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGh0bWwgPSAnJyxcbiAgICAgICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAgIHdoaWxlIChpIDwgMTIpIHtcbiAgICAgICAgICAgICAgICBodG1sICs9ICc8c3BhbiBjbGFzcz1cIm1vbnRoXCI+JyArIGRhdGVzW3RoaXMubGFuZ3VhZ2VdLm1vbnRoc1Nob3J0W2krK10gKyAnPC9zcGFuPic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBpY2tlci5maW5kKCcuZGF0ZXBpY2tlci1tb250aHMgdGQnKS5odG1sKGh0bWwpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZpbGw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGF0ZSA9PSBudWxsIHx8IHRoaXMudmlld0RhdGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGQgPSBuZXcgRGF0ZSh0aGlzLnZpZXdEYXRlLnZhbHVlT2YoKSksXG4gICAgICAgICAgICAgICAgeWVhciA9IGQuZ2V0VVRDRnVsbFllYXIoKSxcbiAgICAgICAgICAgICAgICBtb250aCA9IGQuZ2V0VVRDTW9udGgoKSxcbiAgICAgICAgICAgICAgICBkYXlNb250aCA9IGQuZ2V0VVRDRGF0ZSgpLFxuICAgICAgICAgICAgICAgIGhvdXJzID0gZC5nZXRVVENIb3VycygpLFxuICAgICAgICAgICAgICAgIG1pbnV0ZXMgPSBkLmdldFVUQ01pbnV0ZXMoKSxcbiAgICAgICAgICAgICAgICBzdGFydFllYXIgPSB0aGlzLnN0YXJ0RGF0ZSAhPT0gLUluZmluaXR5ID8gdGhpcy5zdGFydERhdGUuZ2V0VVRDRnVsbFllYXIoKSA6IC1JbmZpbml0eSxcbiAgICAgICAgICAgICAgICBzdGFydE1vbnRoID0gdGhpcy5zdGFydERhdGUgIT09IC1JbmZpbml0eSA/IHRoaXMuc3RhcnREYXRlLmdldFVUQ01vbnRoKCkgOiAtSW5maW5pdHksXG4gICAgICAgICAgICAgICAgZW5kWWVhciA9IHRoaXMuZW5kRGF0ZSAhPT0gSW5maW5pdHkgPyB0aGlzLmVuZERhdGUuZ2V0VVRDRnVsbFllYXIoKSA6IEluZmluaXR5LFxuICAgICAgICAgICAgICAgIGVuZE1vbnRoID0gdGhpcy5lbmREYXRlICE9PSBJbmZpbml0eSA/IHRoaXMuZW5kRGF0ZS5nZXRVVENNb250aCgpIDogSW5maW5pdHksXG4gICAgICAgICAgICAgICAgY3VycmVudERhdGUgPSB0aGlzLmRhdGUgJiYgVVRDRGF0ZSh0aGlzLmRhdGUuZ2V0VVRDRnVsbFllYXIoKSwgdGhpcy5kYXRlLmdldFVUQ01vbnRoKCksIHRoaXMuZGF0ZS5nZXRVVENEYXRlKCkpLnZhbHVlT2YoKSxcbiAgICAgICAgICAgICAgICB0b2RheSA9IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgdGl0bGVGb3JtYXQgPSBkYXRlc1t0aGlzLmxhbmd1YWdlXS50aXRsZUZvcm1hdCB8fCBkYXRlc1snZW4nXS50aXRsZUZvcm1hdDtcbiAgICAgICAgICAgIC8vIHRoaXMucGlja2VyLmZpbmQoJy5kYXRlcGlja2VyLWRheXMgdGhlYWQgdGguZGF0ZS1zd2l0Y2gnKVxuICAgICAgICAgICAgLy8gXHRcdFx0LnRleHQoRFBHbG9iYWwuZm9ybWF0RGF0ZShuZXcgVVRDRGF0ZSh5ZWFyLCBtb250aCksIHRpdGxlRm9ybWF0LCB0aGlzLmxhbmd1YWdlKSk7XG5cbiAgICAgICAgICAgIHRoaXMucGlja2VyLmZpbmQoJy5kYXRlcGlja2VyLWRheXMgdGhlYWQgdGg6ZXEoMSknKVxuICAgICAgICAgICAgICAgIC50ZXh0KGRhdGVzW3RoaXMubGFuZ3VhZ2VdLm1vbnRoc1ttb250aF0gKyAnICcgKyB5ZWFyKTtcbiAgICAgICAgICAgIHRoaXMucGlja2VyLmZpbmQoJy5kYXRlcGlja2VyLWhvdXJzIHRoZWFkIHRoOmVxKDEpJylcbiAgICAgICAgICAgICAgICAudGV4dChkYXlNb250aCArICcgJyArIGRhdGVzW3RoaXMubGFuZ3VhZ2VdLm1vbnRoc1ttb250aF0gKyAnICcgKyB5ZWFyKTtcbiAgICAgICAgICAgIHRoaXMucGlja2VyLmZpbmQoJy5kYXRlcGlja2VyLW1pbnV0ZXMgdGhlYWQgdGg6ZXEoMSknKVxuICAgICAgICAgICAgICAgIC50ZXh0KGRheU1vbnRoICsgJyAnICsgZGF0ZXNbdGhpcy5sYW5ndWFnZV0ubW9udGhzW21vbnRoXSArICcgJyArIHllYXIpO1xuXG5cbiAgICAgICAgICAgIHRoaXMucGlja2VyLmZpbmQoJ3Rmb290IHRoLnRvZGF5JylcbiAgICAgICAgICAgICAgICAudGV4dChkYXRlc1t0aGlzLmxhbmd1YWdlXS50b2RheSlcbiAgICAgICAgICAgICAgICAudG9nZ2xlKHRoaXMudG9kYXlCdG4gIT09IGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTmF2QXJyb3dzKCk7XG4gICAgICAgICAgICB0aGlzLmZpbGxNb250aHMoKTtcbiAgICAgICAgICAgIHZhciBwcmV2TW9udGggPSBVVENEYXRlKHllYXIsIG1vbnRoIC0gMSwgMjgsIDAsIDAsIDAsIDApLFxuICAgICAgICAgICAgICAgIGRheSA9IERQR2xvYmFsLmdldERheXNJbk1vbnRoKHByZXZNb250aC5nZXRVVENGdWxsWWVhcigpLCBwcmV2TW9udGguZ2V0VVRDTW9udGgoKSk7XG4gICAgICAgICAgICBwcmV2TW9udGguc2V0VVRDRGF0ZShkYXkpO1xuICAgICAgICAgICAgcHJldk1vbnRoLnNldFVUQ0RhdGUoZGF5IC0gKHByZXZNb250aC5nZXRVVENEYXkoKSAtIHRoaXMud2Vla1N0YXJ0ICsgNykgJSA3KTtcbiAgICAgICAgICAgIHZhciBuZXh0TW9udGggPSBuZXcgRGF0ZShwcmV2TW9udGgudmFsdWVPZigpKTtcbiAgICAgICAgICAgIG5leHRNb250aC5zZXRVVENEYXRlKG5leHRNb250aC5nZXRVVENEYXRlKCkgKyA0Mik7XG4gICAgICAgICAgICBuZXh0TW9udGggPSBuZXh0TW9udGgudmFsdWVPZigpO1xuICAgICAgICAgICAgdmFyIGh0bWwgPSBbXTtcbiAgICAgICAgICAgIHZhciBjbHNOYW1lO1xuICAgICAgICAgICAgd2hpbGUgKHByZXZNb250aC52YWx1ZU9mKCkgPCBuZXh0TW9udGgpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJldk1vbnRoLmdldFVUQ0RheSgpID09IHRoaXMud2Vla1N0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGh0bWwucHVzaCgnPHRyPicpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYWxlbmRhcldlZWtzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3RpbXJ3b29kL21vbWVudC9ibG9iL21hc3Rlci9tb21lbnQuanMjTDEyOFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBuZXcgRGF0ZShwcmV2TW9udGguZ2V0VVRDRnVsbFllYXIoKSwgcHJldk1vbnRoLmdldFVUQ01vbnRoKCksIHByZXZNb250aC5nZXRVVENEYXRlKCkgLSBwcmV2TW9udGguZ2V0RGF5KCkgKyAxMCAtICh0aGlzLndlZWtTdGFydCAmJiB0aGlzLndlZWtTdGFydCAlIDcgPCA1ICYmIDcpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiID0gbmV3IERhdGUoYS5nZXRGdWxsWWVhcigpLCAwLCA0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxXZWVrID0gfn4oKGEgLSBiKSAvIDg2NGU1IC8gNyArIDEuNSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sLnB1c2goJzx0ZCBjbGFzcz1cImN3XCI+JyArIGNhbFdlZWsgKyAnPC90ZD4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjbHNOYW1lID0gJyAnICsgdGhpcy5vblJlbmRlcihwcmV2TW9udGgpICsgJyAnO1xuICAgICAgICAgICAgICAgIGlmIChwcmV2TW9udGguZ2V0VVRDRnVsbFllYXIoKSA8IHllYXIgfHwgKHByZXZNb250aC5nZXRVVENGdWxsWWVhcigpID09IHllYXIgJiYgcHJldk1vbnRoLmdldFVUQ01vbnRoKCkgPCBtb250aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xzTmFtZSArPSAnIG9sZCc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcmV2TW9udGguZ2V0VVRDRnVsbFllYXIoKSA+IHllYXIgfHwgKHByZXZNb250aC5nZXRVVENGdWxsWWVhcigpID09IHllYXIgJiYgcHJldk1vbnRoLmdldFVUQ01vbnRoKCkgPiBtb250aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xzTmFtZSArPSAnIG5ldyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENvbXBhcmUgaW50ZXJuYWwgVVRDIGRhdGUgd2l0aCBsb2NhbCB0b2RheSwgbm90IFVUQyB0b2RheVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRvZGF5SGlnaGxpZ2h0ICYmXG4gICAgICAgICAgICAgICAgICAgIHByZXZNb250aC5nZXRVVENGdWxsWWVhcigpID09IHRvZGF5LmdldEZ1bGxZZWFyKCkgJiZcbiAgICAgICAgICAgICAgICAgICAgcHJldk1vbnRoLmdldFVUQ01vbnRoKCkgPT0gdG9kYXkuZ2V0TW9udGgoKSAmJlxuICAgICAgICAgICAgICAgICAgICBwcmV2TW9udGguZ2V0VVRDRGF0ZSgpID09IHRvZGF5LmdldERhdGUoKSkge1xuICAgICAgICAgICAgICAgICAgICBjbHNOYW1lICs9ICcgdG9kYXknO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudERhdGUgJiYgcHJldk1vbnRoLnZhbHVlT2YoKSA9PSBjdXJyZW50RGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjbHNOYW1lICs9ICcgYWN0aXZlJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHByZXZNb250aC52YWx1ZU9mKCkgPCB0aGlzLnN0YXJ0RGF0ZSB8fCBwcmV2TW9udGgudmFsdWVPZigpID4gdGhpcy5lbmREYXRlIHx8XG4gICAgICAgICAgICAgICAgICAgICQuaW5BcnJheShwcmV2TW9udGguZ2V0VVRDRGF5KCksIHRoaXMuZGF5c09mV2Vla0Rpc2FibGVkKSAhPT0gLTEgfHxcbiAgICAgICAgICAgICAgICAgICAgJC5pbkFycmF5KHByZXZNb250aC52YWx1ZU9mKCksIHRoaXMuZGF0ZXNEaXNhYmxlZCkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsc05hbWUgKz0gJyBkaXNhYmxlZCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGh0bWwucHVzaCgnPHRkIGNsYXNzPVwiZGF5JyArIGNsc05hbWUgKyAnXCI+JyArIHByZXZNb250aC5nZXRVVENEYXRlKCkgKyAnPC90ZD4nKTtcbiAgICAgICAgICAgICAgICBpZiAocHJldk1vbnRoLmdldFVUQ0RheSgpID09IHRoaXMud2Vla0VuZCkge1xuICAgICAgICAgICAgICAgICAgICBodG1sLnB1c2goJzwvdHI+Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByZXZNb250aC5zZXRVVENEYXRlKHByZXZNb250aC5nZXRVVENEYXRlKCkgKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucGlja2VyLmZpbmQoJy5kYXRlcGlja2VyLWRheXMgdGJvZHknKS5lbXB0eSgpLmFwcGVuZChodG1sLmpvaW4oJycpKTtcblxuICAgICAgICAgICAgaHRtbCA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyNDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFjdHVhbCA9IFVUQ0RhdGUoeWVhciwgbW9udGgsIGRheU1vbnRoLCBpKTtcbiAgICAgICAgICAgICAgICBjbHNOYW1lID0gJyc7XG4gICAgICAgICAgICAgICAgLy8gV2Ugd2FudCB0aGUgcHJldmlvdXMgaG91ciBmb3IgdGhlIHN0YXJ0RGF0ZVxuICAgICAgICAgICAgICAgIGlmICgoYWN0dWFsLnZhbHVlT2YoKSArIDM2MDAwMDApIDwgdGhpcy5zdGFydERhdGUgfHwgYWN0dWFsLnZhbHVlT2YoKSA+IHRoaXMuZW5kRGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjbHNOYW1lICs9ICcgZGlzYWJsZWQnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaG91cnMgPT0gaSkge1xuICAgICAgICAgICAgICAgICAgICBjbHNOYW1lICs9ICcgYWN0aXZlJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaHRtbC5wdXNoKCc8c3BhbiBjbGFzcz1cImhvdXInICsgY2xzTmFtZSArICdcIj4nICsgaSArICc6MDA8L3NwYW4+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBpY2tlci5maW5kKCcuZGF0ZXBpY2tlci1ob3VycyB0ZCcpLmh0bWwoaHRtbC5qb2luKCcnKSk7XG5cbiAgICAgICAgICAgIGh0bWwgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjA7IGkgKz0gdGhpcy5taW51dGVTdGVwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFjdHVhbCA9IFVUQ0RhdGUoeWVhciwgbW9udGgsIGRheU1vbnRoLCBob3VycywgaSk7XG4gICAgICAgICAgICAgICAgY2xzTmFtZSA9ICcnO1xuICAgICAgICAgICAgICAgIGlmIChhY3R1YWwudmFsdWVPZigpIDwgdGhpcy5zdGFydERhdGUgfHwgYWN0dWFsLnZhbHVlT2YoKSA+IHRoaXMuZW5kRGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjbHNOYW1lICs9ICcgZGlzYWJsZWQnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoTWF0aC5mbG9vcihtaW51dGVzIC8gdGhpcy5taW51dGVTdGVwKSA9PSBNYXRoLmZsb29yKGkgLyB0aGlzLm1pbnV0ZVN0ZXApKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsc05hbWUgKz0gJyBhY3RpdmUnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBodG1sLnB1c2goJzxzcGFuIGNsYXNzPVwibWludXRlJyArIGNsc05hbWUgKyAnXCI+JyArIGhvdXJzICsgJzonICsgKGkgPCAxMCA/ICcwJyArIGkgOiBpKSArICc8L3NwYW4+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBpY2tlci5maW5kKCcuZGF0ZXBpY2tlci1taW51dGVzIHRkJykuaHRtbChodG1sLmpvaW4oJycpKTtcblxuXG4gICAgICAgICAgICB2YXIgY3VycmVudFllYXIgPSB0aGlzLmRhdGUgJiYgdGhpcy5kYXRlLmdldFVUQ0Z1bGxZZWFyKCk7XG4gICAgICAgICAgICB2YXIgbW9udGhzID0gdGhpcy5waWNrZXIuZmluZCgnLmRhdGVwaWNrZXItbW9udGhzJylcbiAgICAgICAgICAgICAgICAuZmluZCgndGg6ZXEoMSknKVxuICAgICAgICAgICAgICAgIC50ZXh0KHllYXIpXG4gICAgICAgICAgICAgICAgLmVuZCgpXG4gICAgICAgICAgICAgICAgLmZpbmQoJ3NwYW4nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICBpZiAoY3VycmVudFllYXIgJiYgY3VycmVudFllYXIgPT0geWVhcikge1xuICAgICAgICAgICAgICAgIG1vbnRocy5lcSh0aGlzLmRhdGUuZ2V0VVRDTW9udGgoKSkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHllYXIgPCBzdGFydFllYXIgfHwgeWVhciA+IGVuZFllYXIpIHtcbiAgICAgICAgICAgICAgICBtb250aHMuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoeWVhciA9PSBzdGFydFllYXIpIHtcbiAgICAgICAgICAgICAgICBtb250aHMuc2xpY2UoMCwgc3RhcnRNb250aCkuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoeWVhciA9PSBlbmRZZWFyKSB7XG4gICAgICAgICAgICAgICAgbW9udGhzLnNsaWNlKGVuZE1vbnRoICsgMSkuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGh0bWwgPSAnJztcbiAgICAgICAgICAgIHllYXIgPSBwYXJzZUludCh5ZWFyIC8gMTAsIDEwKSAqIDEwO1xuICAgICAgICAgICAgdmFyIHllYXJDb250ID0gdGhpcy5waWNrZXIuZmluZCgnLmRhdGVwaWNrZXIteWVhcnMnKVxuICAgICAgICAgICAgICAgIC5maW5kKCd0aDplcSgxKScpXG4gICAgICAgICAgICAgICAgLnRleHQoeWVhciArICctJyArICh5ZWFyICsgOSkpXG4gICAgICAgICAgICAgICAgLmVuZCgpXG4gICAgICAgICAgICAgICAgLmZpbmQoJ3RkJyk7XG4gICAgICAgICAgICB5ZWFyIC09IDE7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gLTE7IGkgPCAxMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSAnPHNwYW4gY2xhc3M9XCJ5ZWFyJyArIChpID09IC0xIHx8IGkgPT0gMTAgPyAnIG9sZCcgOiAnJykgKyAoY3VycmVudFllYXIgPT0geWVhciA/ICcgYWN0aXZlJyA6ICcnKSArICh5ZWFyIDwgc3RhcnRZZWFyIHx8IHllYXIgPiBlbmRZZWFyID8gJyBkaXNhYmxlZCcgOiAnJykgKyAnXCI+JyArIHllYXIgKyAnPC9zcGFuPic7XG4gICAgICAgICAgICAgICAgeWVhciArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeWVhckNvbnQuaHRtbChodG1sKTtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVOYXZBcnJvd3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGQgPSBuZXcgRGF0ZSh0aGlzLnZpZXdEYXRlKSxcbiAgICAgICAgICAgICAgICB5ZWFyID0gZC5nZXRVVENGdWxsWWVhcigpLFxuICAgICAgICAgICAgICAgIG1vbnRoID0gZC5nZXRVVENNb250aCgpLFxuICAgICAgICAgICAgICAgIGRheSA9IGQuZ2V0VVRDRGF0ZSgpLFxuICAgICAgICAgICAgICAgIGhvdXIgPSBkLmdldFVUQ0hvdXJzKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMudmlld01vZGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXJ0RGF0ZSAhPT0gLUluZmluaXR5ICYmIHllYXIgPD0gdGhpcy5zdGFydERhdGUuZ2V0VVRDRnVsbFllYXIoKSAmJiBtb250aCA8PSB0aGlzLnN0YXJ0RGF0ZS5nZXRVVENNb250aCgpICYmIGRheSA8PSB0aGlzLnN0YXJ0RGF0ZS5nZXRVVENEYXRlKCkgJiYgaG91ciA8PSB0aGlzLnN0YXJ0RGF0ZS5nZXRVVENIb3VycygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBpY2tlci5maW5kKCcucHJldicpLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5waWNrZXIuZmluZCgnLnByZXYnKS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6ICd2aXNpYmxlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZW5kRGF0ZSAhPT0gSW5maW5pdHkgJiYgeWVhciA+PSB0aGlzLmVuZERhdGUuZ2V0VVRDRnVsbFllYXIoKSAmJiBtb250aCA+PSB0aGlzLmVuZERhdGUuZ2V0VVRDTW9udGgoKSAmJiBkYXkgPj0gdGhpcy5lbmREYXRlLmdldFVUQ0RhdGUoKSAmJiBob3VyID49IHRoaXMuZW5kRGF0ZS5nZXRVVENIb3VycygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBpY2tlci5maW5kKCcubmV4dCcpLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5waWNrZXIuZmluZCgnLm5leHQnKS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6ICd2aXNpYmxlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGFydERhdGUgIT09IC1JbmZpbml0eSAmJiB5ZWFyIDw9IHRoaXMuc3RhcnREYXRlLmdldFVUQ0Z1bGxZZWFyKCkgJiYgbW9udGggPD0gdGhpcy5zdGFydERhdGUuZ2V0VVRDTW9udGgoKSAmJiBkYXkgPD0gdGhpcy5zdGFydERhdGUuZ2V0VVRDRGF0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBpY2tlci5maW5kKCcucHJldicpLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5waWNrZXIuZmluZCgnLnByZXYnKS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6ICd2aXNpYmxlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZW5kRGF0ZSAhPT0gSW5maW5pdHkgJiYgeWVhciA+PSB0aGlzLmVuZERhdGUuZ2V0VVRDRnVsbFllYXIoKSAmJiBtb250aCA+PSB0aGlzLmVuZERhdGUuZ2V0VVRDTW9udGgoKSAmJiBkYXkgPj0gdGhpcy5lbmREYXRlLmdldFVUQ0RhdGUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5waWNrZXIuZmluZCgnLm5leHQnKS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6ICdoaWRkZW4nXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGlja2VyLmZpbmQoJy5uZXh0JykuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiAndmlzaWJsZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhcnREYXRlICE9PSAtSW5maW5pdHkgJiYgeWVhciA8PSB0aGlzLnN0YXJ0RGF0ZS5nZXRVVENGdWxsWWVhcigpICYmIG1vbnRoIDw9IHRoaXMuc3RhcnREYXRlLmdldFVUQ01vbnRoKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGlja2VyLmZpbmQoJy5wcmV2JykuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBpY2tlci5maW5kKCcucHJldicpLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ3Zpc2libGUnXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lbmREYXRlICE9PSBJbmZpbml0eSAmJiB5ZWFyID49IHRoaXMuZW5kRGF0ZS5nZXRVVENGdWxsWWVhcigpICYmIG1vbnRoID49IHRoaXMuZW5kRGF0ZS5nZXRVVENNb250aCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBpY2tlci5maW5kKCcubmV4dCcpLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5waWNrZXIuZmluZCgnLm5leHQnKS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6ICd2aXNpYmxlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhcnREYXRlICE9PSAtSW5maW5pdHkgJiYgeWVhciA8PSB0aGlzLnN0YXJ0RGF0ZS5nZXRVVENGdWxsWWVhcigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBpY2tlci5maW5kKCcucHJldicpLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5waWNrZXIuZmluZCgnLnByZXYnKS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6ICd2aXNpYmxlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZW5kRGF0ZSAhPT0gSW5maW5pdHkgJiYgeWVhciA+PSB0aGlzLmVuZERhdGUuZ2V0VVRDRnVsbFllYXIoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5waWNrZXIuZmluZCgnLm5leHQnKS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6ICdoaWRkZW4nXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGlja2VyLmZpbmQoJy5uZXh0JykuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiAndmlzaWJsZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGNsaWNrOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBpZiAoJChlLnRhcmdldCkuaGFzQ2xhc3MoJ2RhdGVwaWNrZXItY2xvc2UnKSB8fCAkKGUudGFyZ2V0KS5wYXJlbnQoKS5oYXNDbGFzcygnZGF0ZXBpY2tlci1jbG9zZScpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCdzcGFuLCB0ZCwgdGgnKTtcbiAgICAgICAgICAgIGlmICh0YXJnZXQubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LmlzKCcuZGlzYWJsZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQudHJpZ2dlcih7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnb3V0T2ZSYW5nZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlOiB0aGlzLnZpZXdEYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnREYXRlOiB0aGlzLnN0YXJ0RGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZERhdGU6IHRoaXMuZW5kRGF0ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHN3aXRjaCAodGFyZ2V0WzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndGgnOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0YXJnZXRbMF0uY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGF0ZS1zd2l0Y2gnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dNb2RlKDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdwcmV2JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICduZXh0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpciA9IERQR2xvYmFsLm1vZGVzW3RoaXMudmlld01vZGVdLm5hdlN0ZXAgKiAodGFyZ2V0WzBdLmNsYXNzTmFtZSA9PSAncHJldicgPyAtMSA6IDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMudmlld01vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdEYXRlID0gdGhpcy5tb3ZlSG91cih0aGlzLnZpZXdEYXRlLCBkaXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld0RhdGUgPSB0aGlzLm1vdmVEYXRlKHRoaXMudmlld0RhdGUsIGRpcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3RGF0ZSA9IHRoaXMubW92ZU1vbnRoKHRoaXMudmlld0RhdGUsIGRpcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3RGF0ZSA9IHRoaXMubW92ZVllYXIodGhpcy52aWV3RGF0ZSwgZGlyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9kYXknOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUgPSBVVENEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCBkYXRlLmdldERhdGUoKSwgZGF0ZS5nZXRIb3VycygpLCBkYXRlLmdldE1pbnV0ZXMoKSwgZGF0ZS5nZXRTZWNvbmRzKCkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld01vZGUgPSB0aGlzLnN0YXJ0Vmlld01vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd01vZGUoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldERhdGUoZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NwYW4nOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0YXJnZXQuaXMoJy5kaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5pcygnLm1vbnRoJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1pblZpZXcgPT09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vbnRoID0gdGFyZ2V0LnBhcmVudCgpLmZpbmQoJ3NwYW4nKS5pbmRleCh0YXJnZXQpIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gdGhpcy52aWV3RGF0ZS5nZXRVVENGdWxsWWVhcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5ID0gMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvdXJzID0gdGhpcy52aWV3RGF0ZS5nZXRVVENIb3VycygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWludXRlcyA9IHRoaXMudmlld0RhdGUuZ2V0VVRDTWludXRlcygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kcyA9IHRoaXMudmlld0RhdGUuZ2V0VVRDU2Vjb25kcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXREYXRlKFVUQ0RhdGUoeWVhciwgbW9udGgsIGRheSwgaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMsIDApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld0RhdGUuc2V0VVRDRGF0ZSgxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vbnRoID0gdGFyZ2V0LnBhcmVudCgpLmZpbmQoJ3NwYW4nKS5pbmRleCh0YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdEYXRlLnNldFVUQ01vbnRoKG1vbnRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnRyaWdnZXIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NoYW5nZU1vbnRoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGU6IHRoaXMudmlld0RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQuaXMoJy55ZWFyJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1pblZpZXcgPT09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHllYXIgPSBwYXJzZUludCh0YXJnZXQudGV4dCgpLCAxMCkgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vbnRoID0gMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRheSA9IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3VycyA9IHRoaXMudmlld0RhdGUuZ2V0VVRDSG91cnMoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbnV0ZXMgPSB0aGlzLnZpZXdEYXRlLmdldFVUQ01pbnV0ZXMoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZHMgPSB0aGlzLnZpZXdEYXRlLmdldFVUQ1NlY29uZHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0RGF0ZShVVENEYXRlKHllYXIsIG1vbnRoLCBkYXksIGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzLCAwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdEYXRlLnNldFVUQ0RhdGUoMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gcGFyc2VJbnQodGFyZ2V0LnRleHQoKSwgMTApIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld0RhdGUuc2V0VVRDRnVsbFllYXIoeWVhcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC50cmlnZ2VyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjaGFuZ2VZZWFyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGU6IHRoaXMudmlld0RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQuaXMoJy5ob3VyJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhvdXJzID0gcGFyc2VJbnQodGFyZ2V0LnRleHQoKSwgMTApIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gdGhpcy52aWV3RGF0ZS5nZXRVVENGdWxsWWVhcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9udGggPSB0aGlzLnZpZXdEYXRlLmdldFVUQ01vbnRoKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXkgPSB0aGlzLnZpZXdEYXRlLmdldFVUQ0RhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbnV0ZXMgPSB0aGlzLnZpZXdEYXRlLmdldFVUQ01pbnV0ZXMoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZHMgPSB0aGlzLnZpZXdEYXRlLmdldFVUQ1NlY29uZHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0RGF0ZShVVENEYXRlKHllYXIsIG1vbnRoLCBkYXksIGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzLCAwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQuaXMoJy5taW51dGUnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWludXRlcyA9IHBhcnNlSW50KHRhcmdldC50ZXh0KCkuc3Vic3RyKHRhcmdldC50ZXh0KCkuaW5kZXhPZignOicpICsgMSksIDEwKSB8fCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeWVhciA9IHRoaXMudmlld0RhdGUuZ2V0VVRDRnVsbFllYXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoID0gdGhpcy52aWV3RGF0ZS5nZXRVVENNb250aCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5ID0gdGhpcy52aWV3RGF0ZS5nZXRVVENEYXRlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3VycyA9IHRoaXMudmlld0RhdGUuZ2V0VVRDSG91cnMoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZHMgPSB0aGlzLnZpZXdEYXRlLmdldFVUQ1NlY29uZHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0RGF0ZShVVENEYXRlKHllYXIsIG1vbnRoLCBkYXksIGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzLCAwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnZpZXdNb2RlICE9IDApIHtcblxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZFZpZXdNb2RlID0gdGhpcy52aWV3TW9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TW9kZSgtMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkVmlld01vZGUgPT0gdGhpcy52aWV3TW9kZSAmJiB0aGlzLmF1dG9jbG9zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYXV0b2Nsb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd0ZCc6XG5cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LmlzKCcuZGF5JykgJiYgIXRhcmdldC5pcygnLmRpc2FibGVkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF5ID0gcGFyc2VJbnQodGFyZ2V0LnRleHQoKSwgMTApIHx8IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHllYXIgPSB0aGlzLnZpZXdEYXRlLmdldFVUQ0Z1bGxZZWFyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoID0gdGhpcy52aWV3RGF0ZS5nZXRVVENNb250aCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3VycyA9IHRoaXMudmlld0RhdGUuZ2V0VVRDSG91cnMoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWludXRlcyA9IHRoaXMudmlld0RhdGUuZ2V0VVRDTWludXRlcygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRzID0gdGhpcy52aWV3RGF0ZS5nZXRVVENTZWNvbmRzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5pcygnLm9sZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb250aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9udGggPSAxMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHllYXIgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoIC09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhcmdldC5pcygnLm5ldycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb250aCA9PSAxMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9udGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWVhciArPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9udGggKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXREYXRlKFVUQ0RhdGUoeWVhciwgbW9udGgsIGRheSwgaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMsIDApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGRWaWV3TW9kZSA9IHRoaXMudmlld01vZGU7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TW9kZSgtMSk7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maWxsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkVmlld01vZGUgPT0gdGhpcy52aWV3TW9kZSAmJiB0aGlzLmF1dG9jbG9zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9zZXREYXRlOiBmdW5jdGlvbihkYXRlLCB3aGljaCkge1xuXG4gICAgICAgICAgICBpZiAoIXdoaWNoIHx8IHdoaWNoID09ICdkYXRlJylcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGUgPSBkYXRlO1xuICAgICAgICAgICAgaWYgKCF3aGljaCB8fCB3aGljaCA9PSAndmlldycpXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3RGF0ZSA9IGRhdGU7XG4gICAgICAgICAgICB0aGlzLmZpbGwoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0VmFsdWUoKTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC50cmlnZ2VyKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnY2hhbmdlRGF0ZScsXG4gICAgICAgICAgICAgICAgZGF0ZTogdGhpcy5kYXRlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBlbGVtZW50O1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNJbnB1dCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IHRoaXMuZWxlbWVudC5maW5kKCdpbnB1dCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNoYW5nZSgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmF1dG9jbG9zZSAmJiAoIXdoaWNoIHx8IHdoaWNoID09ICdkYXRlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIG1vdmVIb3VyOiBmdW5jdGlvbihkYXRlLCBkaXIpIHtcbiAgICAgICAgICAgIGlmICghZGlyKSByZXR1cm4gZGF0ZTtcbiAgICAgICAgICAgIHZhciBuZXdfZGF0ZSA9IG5ldyBEYXRlKGRhdGUudmFsdWVPZigpKTtcbiAgICAgICAgICAgIGRpciA9IGRpciA+IDAgPyAxIDogLTE7XG4gICAgICAgICAgICBuZXdfZGF0ZS5zZXRVVENIb3VycyhuZXdfZGF0ZS5nZXRVVENIb3VycygpICsgZGlyKTtcbiAgICAgICAgICAgIHJldHVybiBuZXdfZGF0ZTtcbiAgICAgICAgfSxcblxuICAgICAgICBtb3ZlRGF0ZTogZnVuY3Rpb24oZGF0ZSwgZGlyKSB7XG4gICAgICAgICAgICBpZiAoIWRpcikgcmV0dXJuIGRhdGU7XG4gICAgICAgICAgICB2YXIgbmV3X2RhdGUgPSBuZXcgRGF0ZShkYXRlLnZhbHVlT2YoKSk7XG4gICAgICAgICAgICBkaXIgPSBkaXIgPiAwID8gMSA6IC0xO1xuICAgICAgICAgICAgbmV3X2RhdGUuc2V0VVRDRGF0ZShuZXdfZGF0ZS5nZXRVVENEYXRlKCkgKyBkaXIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ld19kYXRlO1xuICAgICAgICB9LFxuXG4gICAgICAgIG1vdmVNb250aDogZnVuY3Rpb24oZGF0ZSwgZGlyKSB7XG4gICAgICAgICAgICBpZiAoIWRpcikgcmV0dXJuIGRhdGU7XG4gICAgICAgICAgICB2YXIgbmV3X2RhdGUgPSBuZXcgRGF0ZShkYXRlLnZhbHVlT2YoKSksXG4gICAgICAgICAgICAgICAgZGF5ID0gbmV3X2RhdGUuZ2V0VVRDRGF0ZSgpLFxuICAgICAgICAgICAgICAgIG1vbnRoID0gbmV3X2RhdGUuZ2V0VVRDTW9udGgoKSxcbiAgICAgICAgICAgICAgICBtYWcgPSBNYXRoLmFicyhkaXIpLFxuICAgICAgICAgICAgICAgIG5ld19tb250aCwgdGVzdDtcbiAgICAgICAgICAgIGRpciA9IGRpciA+IDAgPyAxIDogLTE7XG4gICAgICAgICAgICBpZiAobWFnID09IDEpIHtcbiAgICAgICAgICAgICAgICB0ZXN0ID0gZGlyID09IC0xXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGdvaW5nIGJhY2sgb25lIG1vbnRoLCBtYWtlIHN1cmUgbW9udGggaXMgbm90IGN1cnJlbnQgbW9udGhcbiAgICAgICAgICAgICAgICAgICAgLy8gKGVnLCBNYXIgMzEgLT4gRmViIDMxID09IEZlYiAyOCwgbm90IE1hciAwMilcbiAgICAgICAgICAgICAgICAgICAgPyBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdfZGF0ZS5nZXRVVENNb250aCgpID09IG1vbnRoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGdvaW5nIGZvcndhcmQgb25lIG1vbnRoLCBtYWtlIHN1cmUgbW9udGggaXMgYXMgZXhwZWN0ZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gKGVnLCBKYW4gMzEgLT4gRmViIDMxID09IEZlYiAyOCwgbm90IE1hciAwMilcbiAgICAgICAgICAgICAgICAgICAgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdfZGF0ZS5nZXRVVENNb250aCgpICE9IG5ld19tb250aDtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBuZXdfbW9udGggPSBtb250aCArIGRpcjtcbiAgICAgICAgICAgICAgICBuZXdfZGF0ZS5zZXRVVENNb250aChuZXdfbW9udGgpO1xuICAgICAgICAgICAgICAgIC8vIERlYyAtPiBKYW4gKDEyKSBvciBKYW4gLT4gRGVjICgtMSkgLS0gbGltaXQgZXhwZWN0ZWQgZGF0ZSB0byAwLTExXG4gICAgICAgICAgICAgICAgaWYgKG5ld19tb250aCA8IDAgfHwgbmV3X21vbnRoID4gMTEpXG4gICAgICAgICAgICAgICAgICAgIG5ld19tb250aCA9IChuZXdfbW9udGggKyAxMikgJSAxMjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRm9yIG1hZ25pdHVkZXMgPjEsIG1vdmUgb25lIG1vbnRoIGF0IGEgdGltZS4uLlxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFnOyBpKyspXG4gICAgICAgICAgICAgICAgLy8gLi4ud2hpY2ggbWlnaHQgZGVjcmVhc2UgdGhlIGRheSAoZWcsIEphbiAzMSB0byBGZWIgMjgsIGV0YykuLi5cbiAgICAgICAgICAgICAgICAgICAgbmV3X2RhdGUgPSB0aGlzLm1vdmVNb250aChuZXdfZGF0ZSwgZGlyKTtcbiAgICAgICAgICAgICAgICAvLyAuLi50aGVuIHJlc2V0IHRoZSBkYXksIGtlZXBpbmcgaXQgaW4gdGhlIG5ldyBtb250aFxuICAgICAgICAgICAgICAgIG5ld19tb250aCA9IG5ld19kYXRlLmdldFVUQ01vbnRoKCk7XG4gICAgICAgICAgICAgICAgbmV3X2RhdGUuc2V0VVRDRGF0ZShkYXkpO1xuICAgICAgICAgICAgICAgIHRlc3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld19tb250aCAhPSBuZXdfZGF0ZS5nZXRVVENNb250aCgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDb21tb24gZGF0ZS1yZXNldHRpbmcgbG9vcCAtLSBpZiBkYXRlIGlzIGJleW9uZCBlbmQgb2YgbW9udGgsIG1ha2UgaXRcbiAgICAgICAgICAgIC8vIGVuZCBvZiBtb250aFxuICAgICAgICAgICAgd2hpbGUgKHRlc3QoKSkge1xuICAgICAgICAgICAgICAgIG5ld19kYXRlLnNldFVUQ0RhdGUoLS1kYXkpO1xuICAgICAgICAgICAgICAgIG5ld19kYXRlLnNldFVUQ01vbnRoKG5ld19tb250aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3X2RhdGU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbW92ZVllYXI6IGZ1bmN0aW9uKGRhdGUsIGRpcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW92ZU1vbnRoKGRhdGUsIGRpciAqIDEyKTtcbiAgICAgICAgfSxcblxuICAgICAgICBkYXRlV2l0aGluUmFuZ2U6IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRlID49IHRoaXMuc3RhcnREYXRlICYmIGRhdGUgPD0gdGhpcy5lbmREYXRlO1xuICAgICAgICB9LFxuXG4gICAgICAgIGtleWRvd246IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5rZXlib2FyZE5hdmlnYXRpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnBpY2tlci5pcygnOm5vdCg6dmlzaWJsZSknKSkge1xuICAgICAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT0gMjcpIC8vIGFsbG93IGVzY2FwZSB0byBoaWRlIGFuZCByZS1zaG93IHBpY2tlclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3coKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZGF0ZUNoYW5nZWQgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICBkaXIsIGRheSwgbW9udGgsXG4gICAgICAgICAgICAgICAgbmV3RGF0ZSwgbmV3Vmlld0RhdGU7XG4gICAgICAgICAgICBzd2l0Y2ggKGUua2V5Q29kZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMjc6IC8vIGVzY2FwZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM3OiAvLyBsZWZ0XG4gICAgICAgICAgICAgICAgY2FzZSAzOTogLy8gcmlnaHRcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmtleWJvYXJkTmF2aWdhdGlvbikgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRpciA9IGUua2V5Q29kZSA9PSAzNyA/IC0xIDogMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUuY3RybEtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0ZSA9IHRoaXMubW92ZVllYXIodGhpcy5kYXRlLCBkaXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Vmlld0RhdGUgPSB0aGlzLm1vdmVZZWFyKHRoaXMudmlld0RhdGUsIGRpcik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0ZSA9IHRoaXMubW92ZU1vbnRoKHRoaXMuZGF0ZSwgZGlyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZpZXdEYXRlID0gdGhpcy5tb3ZlTW9udGgodGhpcy52aWV3RGF0ZSwgZGlyKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGUgPSBuZXcgRGF0ZSh0aGlzLmRhdGUudmFsdWVPZigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGUuc2V0VVRDRGF0ZSh0aGlzLmRhdGUuZ2V0VVRDRGF0ZSgpICsgZGlyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZpZXdEYXRlID0gbmV3IERhdGUodGhpcy52aWV3RGF0ZS52YWx1ZU9mKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Vmlld0RhdGUuc2V0VVRDRGF0ZSh0aGlzLnZpZXdEYXRlLmdldFVUQ0RhdGUoKSArIGRpcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0ZVdpdGhpblJhbmdlKG5ld0RhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGUgPSBuZXdEYXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3RGF0ZSA9IG5ld1ZpZXdEYXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM4OiAvLyB1cFxuICAgICAgICAgICAgICAgIGNhc2UgNDA6IC8vIGRvd25cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmtleWJvYXJkTmF2aWdhdGlvbikgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRpciA9IGUua2V5Q29kZSA9PSAzOCA/IC0xIDogMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUuY3RybEtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0ZSA9IHRoaXMubW92ZVllYXIodGhpcy5kYXRlLCBkaXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Vmlld0RhdGUgPSB0aGlzLm1vdmVZZWFyKHRoaXMudmlld0RhdGUsIGRpcik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0ZSA9IHRoaXMubW92ZU1vbnRoKHRoaXMuZGF0ZSwgZGlyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZpZXdEYXRlID0gdGhpcy5tb3ZlTW9udGgodGhpcy52aWV3RGF0ZSwgZGlyKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGUgPSBuZXcgRGF0ZSh0aGlzLmRhdGUudmFsdWVPZigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGUuc2V0VVRDRGF0ZSh0aGlzLmRhdGUuZ2V0VVRDRGF0ZSgpICsgZGlyICogNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdWaWV3RGF0ZSA9IG5ldyBEYXRlKHRoaXMudmlld0RhdGUudmFsdWVPZigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZpZXdEYXRlLnNldFVUQ0RhdGUodGhpcy52aWV3RGF0ZS5nZXRVVENEYXRlKCkgKyBkaXIgKiA3KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRlV2l0aGluUmFuZ2UobmV3RGF0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0ZSA9IG5ld0RhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdEYXRlID0gbmV3Vmlld0RhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZUNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTM6IC8vIGVudGVyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgOTogLy8gdGFiXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRlQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC50cmlnZ2VyKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NoYW5nZURhdGUnLFxuICAgICAgICAgICAgICAgICAgICBkYXRlOiB0aGlzLmRhdGVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0lucHV0KSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gdGhpcy5lbGVtZW50LmZpbmQoJ2lucHV0Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHNob3dNb2RlOiBmdW5jdGlvbihkaXIpIHtcblxuICAgICAgICAgICAgaWYgKGRpcikge1xuICAgICAgICAgICAgICAgIHZhciBuZXdWaWV3TW9kZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKERQR2xvYmFsLm1vZGVzLmxlbmd0aCAtIDEsIHRoaXMudmlld01vZGUgKyBkaXIpKTtcbiAgICAgICAgICAgICAgICBpZiAobmV3Vmlld01vZGUgPj0gdGhpcy5taW5WaWV3ICYmIG5ld1ZpZXdNb2RlIDw9IHRoaXMubWF4Vmlldykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdNb2RlID0gbmV3Vmlld01vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLypcbiAgICAgICAgICAgIFx0dml0YWxldHM6IGZpeGluZyBidWcgb2YgdmVyeSBzcGVjaWFsIGNvbmRpdGlvbnM6XG4gICAgICAgICAgICBcdGpxdWVyeSAxLjcuMSArIHdlYmtpdCArIHNob3cgaW5saW5lIGRhdGVwaWNrZXIgaW4gYm9vdHN0cmFwIHBvcG92ZXIuXG4gICAgICAgICAgICBcdE1ldGhvZCBzaG93KCkgZG9lcyBub3Qgc2V0IGRpc3BsYXkgY3NzIGNvcnJlY3RseSBhbmQgZGF0ZXBpY2tlciBpcyBub3Qgc2hvd24uXG4gICAgICAgICAgICBcdENoYW5nZWQgdG8gLmNzcygnZGlzcGxheScsICdibG9jaycpIHNvbHZlIHRoZSBwcm9ibGVtLlxuICAgICAgICAgICAgXHRTZWUgaHR0cHM6Ly9naXRodWIuY29tL3ZpdGFsZXRzL3gtZWRpdGFibGUvaXNzdWVzLzM3XG5cbiAgICAgICAgICAgIFx0SW4ganF1ZXJ5IDEuNy4yKyBldmVyeXRoaW5nIHdvcmtzIGZpbmUuXG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAgLy90aGlzLnBpY2tlci5maW5kKCc+ZGl2JykuaGlkZSgpLmZpbHRlcignLmRhdGVwaWNrZXItJytEUEdsb2JhbC5tb2Rlc1t0aGlzLnZpZXdNb2RlXS5jbHNOYW1lKS5zaG93KCk7XG4gICAgICAgICAgICB0aGlzLnBpY2tlci5maW5kKCc+ZGl2JykuaGlkZSgpLmZpbHRlcignLmRhdGVwaWNrZXItJyArIERQR2xvYmFsLm1vZGVzW3RoaXMudmlld01vZGVdLmNsc05hbWUpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVOYXZBcnJvd3MoKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldERhdGUobnVsbCwgJ2RhdGUnKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAkLmZuLmZkYXRlcGlja2VyID0gZnVuY3Rpb24ob3B0aW9uKSB7XG4gICAgICAgIHZhciBhcmdzID0gQXJyYXkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgYXJncy5zaGlmdCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICBkYXRhID0gJHRoaXMuZGF0YSgnZGF0ZXBpY2tlcicpLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbjtcbiAgICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgICAgICR0aGlzLmRhdGEoJ2RhdGVwaWNrZXInLCAoZGF0YSA9IG5ldyBEYXRlcGlja2VyKHRoaXMsICQuZXh0ZW5kKHt9LCAkLmZuLmZkYXRlcGlja2VyLmRlZmF1bHRzLCBvcHRpb25zKSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnICYmIHR5cGVvZiBkYXRhW29wdGlvbl0gPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGRhdGFbb3B0aW9uXS5hcHBseShkYXRhLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgICQuZm4uZmRhdGVwaWNrZXIuZGVmYXVsdHMgPSB7XG4gICAgICAgIG9uUmVuZGVyOiBmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICB9O1xuICAgICQuZm4uZmRhdGVwaWNrZXIuQ29uc3RydWN0b3IgPSBEYXRlcGlja2VyO1xuICAgIHZhciBkYXRlcyA9ICQuZm4uZmRhdGVwaWNrZXIuZGF0ZXMgPSB7XG4gICAgICAgICdlbic6IHtcbiAgICAgICAgICAgIGRheXM6IFtcIlN1bmRheVwiLCBcIk1vbmRheVwiLCBcIlR1ZXNkYXlcIiwgXCJXZWRuZXNkYXlcIiwgXCJUaHVyc2RheVwiLCBcIkZyaWRheVwiLCBcIlNhdHVyZGF5XCIsIFwiU3VuZGF5XCJdLFxuICAgICAgICAgICAgZGF5c1Nob3J0OiBbXCJTdW5cIiwgXCJNb25cIiwgXCJUdWVcIiwgXCJXZWRcIiwgXCJUaHVcIiwgXCJGcmlcIiwgXCJTYXRcIiwgXCJTdW5cIl0sXG4gICAgICAgICAgICBkYXlzTWluOiBbXCJTdVwiLCBcIk1vXCIsIFwiVHVcIiwgXCJXZVwiLCBcIlRoXCIsIFwiRnJcIiwgXCJTYVwiLCBcIlN1XCJdLFxuICAgICAgICAgICAgbW9udGhzOiBbXCJKYW51YXJ5XCIsIFwiRmVicnVhcnlcIiwgXCJNYXJjaFwiLCBcIkFwcmlsXCIsIFwiTWF5XCIsIFwiSnVuZVwiLCBcIkp1bHlcIiwgXCJBdWd1c3RcIiwgXCJTZXB0ZW1iZXJcIiwgXCJPY3RvYmVyXCIsIFwiTm92ZW1iZXJcIiwgXCJEZWNlbWJlclwiXSxcbiAgICAgICAgICAgIG1vbnRoc1Nob3J0OiBbXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIiwgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXBcIiwgXCJPY3RcIiwgXCJOb3ZcIiwgXCJEZWNcIl0sXG4gICAgICAgICAgICB0b2RheTogXCJUb2RheVwiLFxuICAgICAgICAgICAgdGl0bGVGb3JtYXQ6IFwiTU0geXl5eVwiXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIERQR2xvYmFsID0ge1xuICAgICAgICBtb2RlczogW3tcbiAgICAgICAgICAgIGNsc05hbWU6ICdtaW51dGVzJyxcbiAgICAgICAgICAgIG5hdkZuYzogJ0hvdXJzJyxcbiAgICAgICAgICAgIG5hdlN0ZXA6IDFcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgY2xzTmFtZTogJ2hvdXJzJyxcbiAgICAgICAgICAgIG5hdkZuYzogJ0RhdGUnLFxuICAgICAgICAgICAgbmF2U3RlcDogMVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBjbHNOYW1lOiAnZGF5cycsXG4gICAgICAgICAgICBuYXZGbmM6ICdNb250aCcsXG4gICAgICAgICAgICBuYXZTdGVwOiAxXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGNsc05hbWU6ICdtb250aHMnLFxuICAgICAgICAgICAgbmF2Rm5jOiAnRnVsbFllYXInLFxuICAgICAgICAgICAgbmF2U3RlcDogMVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBjbHNOYW1lOiAneWVhcnMnLFxuICAgICAgICAgICAgbmF2Rm5jOiAnRnVsbFllYXInLFxuICAgICAgICAgICAgbmF2U3RlcDogMTBcbiAgICAgICAgfV0sXG4gICAgICAgIGlzTGVhcFllYXI6IGZ1bmN0aW9uKHllYXIpIHtcbiAgICAgICAgICAgIHJldHVybiAoKCh5ZWFyICUgNCA9PT0gMCkgJiYgKHllYXIgJSAxMDAgIT09IDApKSB8fCAoeWVhciAlIDQwMCA9PT0gMCkpO1xuICAgICAgICB9LFxuICAgICAgICBnZXREYXlzSW5Nb250aDogZnVuY3Rpb24oeWVhciwgbW9udGgpIHtcbiAgICAgICAgICAgIHJldHVybiBbMzEsIChEUEdsb2JhbC5pc0xlYXBZZWFyKHllYXIpID8gMjkgOiAyOCksIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXVttb250aF07XG4gICAgICAgIH0sXG4gICAgICAgIHZhbGlkUGFydHM6IC9oaD98aWk/fHNzP3xkZD98bW0/fE1NP3x5eSg/Onl5KT8vZyxcbiAgICAgICAgbm9ucHVuY3R1YXRpb246IC9bXiAtXFwvOi1AXFxbXFx1MzQwMC1cXHU5ZmZmLWB7LX5cXHRcXG5cXHJdKy9nLFxuICAgICAgICBwYXJzZUZvcm1hdDogZnVuY3Rpb24oZm9ybWF0KSB7XG4gICAgICAgICAgICAvLyBJRSB0cmVhdHMgXFwwIGFzIGEgc3RyaW5nIGVuZCBpbiBpbnB1dHMgKHRydW5jYXRpbmcgdGhlIHZhbHVlKSxcbiAgICAgICAgICAgIC8vIHNvIGl0J3MgYSBiYWQgZm9ybWF0IGRlbGltaXRlciwgYW55d2F5XG4gICAgICAgICAgICB2YXIgc2VwYXJhdG9ycyA9IGZvcm1hdC5yZXBsYWNlKHRoaXMudmFsaWRQYXJ0cywgJ1xcMCcpLnNwbGl0KCdcXDAnKSxcbiAgICAgICAgICAgICAgICBwYXJ0cyA9IGZvcm1hdC5tYXRjaCh0aGlzLnZhbGlkUGFydHMpO1xuICAgICAgICAgICAgaWYgKCFzZXBhcmF0b3JzIHx8ICFzZXBhcmF0b3JzLmxlbmd0aCB8fCAhcGFydHMgfHwgcGFydHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBkYXRlIGZvcm1hdC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmZvcm1hdFRleHQgPSBmb3JtYXQ7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNlcGFyYXRvcnM6IHNlcGFyYXRvcnMsXG4gICAgICAgICAgICAgICAgcGFydHM6IHBhcnRzXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBwYXJzZURhdGU6IGZ1bmN0aW9uKGRhdGUsIGZvcm1hdCwgbGFuZ3VhZ2UpIHtcbiAgICAgICAgICAgIGlmIChkYXRlIGluc3RhbmNlb2YgRGF0ZSkgcmV0dXJuIG5ldyBEYXRlKGRhdGUudmFsdWVPZigpIC0gZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpICogNjAwMDApO1xuICAgICAgICAgICAgaWYgKC9eXFxkezR9XFwtXFxkezEsMn1cXC1cXGR7MSwyfSQvLnRlc3QoZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICBmb3JtYXQgPSB0aGlzLnBhcnNlRm9ybWF0KCd5eXl5LW1tLWRkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoL15cXGR7NH1cXC1cXGR7MSwyfVxcLVxcZHsxLDJ9W1QgXVxcZHsxLDJ9XFw6XFxkezEsMn0kLy50ZXN0KGRhdGUpKSB7XG4gICAgICAgICAgICAgICAgZm9ybWF0ID0gdGhpcy5wYXJzZUZvcm1hdCgneXl5eS1tbS1kZCBoaDppaScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKC9eXFxkezR9XFwtXFxkezEsMn1cXC1cXGR7MSwyfVtUIF1cXGR7MSwyfVxcOlxcZHsxLDJ9XFw6XFxkezEsMn1bWl17MCwxfSQvLnRlc3QoZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICBmb3JtYXQgPSB0aGlzLnBhcnNlRm9ybWF0KCd5eXl5LW1tLWRkIGhoOmlpOnNzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoL15bLStdXFxkK1tkbXd5XShbXFxzLF0rWy0rXVxcZCtbZG13eV0pKiQvLnRlc3QoZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFydF9yZSA9IC8oWy0rXVxcZCspKFtkbXd5XSkvLFxuICAgICAgICAgICAgICAgICAgICBwYXJ0cyA9IGRhdGUubWF0Y2goLyhbLStdXFxkKykoW2Rtd3ldKS9nKSxcbiAgICAgICAgICAgICAgICAgICAgcGFydCwgZGlyO1xuICAgICAgICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydCA9IHBhcnRfcmUuZXhlYyhwYXJ0c1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIGRpciA9IHBhcnNlSW50KHBhcnRbMV0pO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHBhcnRbMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2QnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUuc2V0VVRDRGF0ZShkYXRlLmdldFVUQ0RhdGUoKSArIGRpcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdtJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlID0gRGF0ZXRpbWVwaWNrZXIucHJvdG90eXBlLm1vdmVNb250aC5jYWxsKERhdGV0aW1lcGlja2VyLnByb3RvdHlwZSwgZGF0ZSwgZGlyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3cnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUuc2V0VVRDRGF0ZShkYXRlLmdldFVUQ0RhdGUoKSArIGRpciAqIDcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAneSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IERhdGV0aW1lcGlja2VyLnByb3RvdHlwZS5tb3ZlWWVhci5jYWxsKERhdGV0aW1lcGlja2VyLnByb3RvdHlwZSwgZGF0ZSwgZGlyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gVVRDRGF0ZShkYXRlLmdldFVUQ0Z1bGxZZWFyKCksIGRhdGUuZ2V0VVRDTW9udGgoKSwgZGF0ZS5nZXRVVENEYXRlKCksIGRhdGUuZ2V0VVRDSG91cnMoKSwgZGF0ZS5nZXRVVENNaW51dGVzKCksIGRhdGUuZ2V0VVRDU2Vjb25kcygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwYXJ0cyA9IGRhdGUgJiYgZGF0ZS5tYXRjaCh0aGlzLm5vbnB1bmN0dWF0aW9uKSB8fCBbXSxcbiAgICAgICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICBwYXJzZWQgPSB7fSxcbiAgICAgICAgICAgICAgICBzZXR0ZXJzX29yZGVyID0gWydoaCcsICdoJywgJ2lpJywgJ2knLCAnc3MnLCAncycsICd5eXl5JywgJ3l5JywgJ00nLCAnTU0nLCAnbScsICdtbScsICdkJywgJ2RkJ10sXG4gICAgICAgICAgICAgICAgc2V0dGVyc19tYXAgPSB7XG4gICAgICAgICAgICAgICAgICAgIGhoOiBmdW5jdGlvbihkLCB2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5zZXRVVENIb3Vycyh2KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaDogZnVuY3Rpb24oZCwgdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuc2V0VVRDSG91cnModik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGlpOiBmdW5jdGlvbihkLCB2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5zZXRVVENNaW51dGVzKHYpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBpOiBmdW5jdGlvbihkLCB2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5zZXRVVENNaW51dGVzKHYpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzczogZnVuY3Rpb24oZCwgdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuc2V0VVRDU2Vjb25kcyh2KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgczogZnVuY3Rpb24oZCwgdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuc2V0VVRDU2Vjb25kcyh2KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgeXl5eTogZnVuY3Rpb24oZCwgdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuc2V0VVRDRnVsbFllYXIodik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHl5OiBmdW5jdGlvbihkLCB2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5zZXRVVENGdWxsWWVhcigyMDAwICsgdik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG06IGZ1bmN0aW9uKGQsIHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHYgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICh2IDwgMCkgdiArPSAxMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHYgJT0gMTI7XG4gICAgICAgICAgICAgICAgICAgICAgICBkLnNldFVUQ01vbnRoKHYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGQuZ2V0VVRDTW9udGgoKSAhPSB2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQuc2V0VVRDRGF0ZShkLmdldFVUQ0RhdGUoKSAtIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQ7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGQ6IGZ1bmN0aW9uKGQsIHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnNldFVUQ0RhdGUodik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHZhbCwgZmlsdGVyZWQsIHBhcnQ7XG4gICAgICAgICAgICBzZXR0ZXJzX21hcFsnTSddID0gc2V0dGVyc19tYXBbJ01NJ10gPSBzZXR0ZXJzX21hcFsnbW0nXSA9IHNldHRlcnNfbWFwWydtJ107XG4gICAgICAgICAgICBzZXR0ZXJzX21hcFsnZGQnXSA9IHNldHRlcnNfbWFwWydkJ107XG4gICAgICAgICAgICBkYXRlID0gVVRDRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCksIDAsIDAsIDApOyAvL2RhdGUuZ2V0SG91cnMoKSwgZGF0ZS5nZXRNaW51dGVzKCksIGRhdGUuZ2V0U2Vjb25kcygpKTtcbiAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT0gZm9ybWF0LnBhcnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBjbnQgPSBmb3JtYXQucGFydHMubGVuZ3RoOyBpIDwgY250OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VJbnQocGFydHNbaV0sIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgcGFydCA9IGZvcm1hdC5wYXJ0c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKHZhbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ01NJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWQgPSAkKGRhdGVzW2xhbmd1YWdlXS5tb250aHMpLmZpbHRlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtID0gdGhpcy5zbGljZSgwLCBwYXJ0c1tpXS5sZW5ndGgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAgPSBwYXJ0c1tpXS5zbGljZSgwLCBtLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbSA9PSBwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gJC5pbkFycmF5KGZpbHRlcmVkWzBdLCBkYXRlc1tsYW5ndWFnZV0ubW9udGhzKSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ00nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZCA9ICQoZGF0ZXNbbGFuZ3VhZ2VdLm1vbnRoc1Nob3J0KS5maWx0ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbSA9IHRoaXMuc2xpY2UoMCwgcGFydHNbaV0ubGVuZ3RoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwID0gcGFydHNbaV0uc2xpY2UoMCwgbS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0gPT0gcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9ICQuaW5BcnJheShmaWx0ZXJlZFswXSwgZGF0ZXNbbGFuZ3VhZ2VdLm1vbnRoc1Nob3J0KSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZFtwYXJ0XSA9IHZhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIHM7IGkgPCBzZXR0ZXJzX29yZGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHMgPSBzZXR0ZXJzX29yZGVyW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAocyBpbiBwYXJzZWQgJiYgIWlzTmFOKHBhcnNlZFtzXSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXR0ZXJzX21hcFtzXShkYXRlLCBwYXJzZWRbc10pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIGZvcm1hdERhdGU6IGZ1bmN0aW9uKGRhdGUsIGZvcm1hdCwgbGFuZ3VhZ2UpIHtcbiAgICAgICAgICAgIGlmIChkYXRlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdmFsID0ge1xuICAgICAgICAgICAgICAgIGg6IGRhdGUuZ2V0VVRDSG91cnMoKSxcbiAgICAgICAgICAgICAgICBpOiBkYXRlLmdldFVUQ01pbnV0ZXMoKSxcbiAgICAgICAgICAgICAgICBzOiBkYXRlLmdldFVUQ1NlY29uZHMoKSxcbiAgICAgICAgICAgICAgICBkOiBkYXRlLmdldFVUQ0RhdGUoKSxcbiAgICAgICAgICAgICAgICBtOiBkYXRlLmdldFVUQ01vbnRoKCkgKyAxLFxuICAgICAgICAgICAgICAgIE06IGRhdGVzW2xhbmd1YWdlXS5tb250aHNTaG9ydFtkYXRlLmdldFVUQ01vbnRoKCldLFxuICAgICAgICAgICAgICAgIE1NOiBkYXRlc1tsYW5ndWFnZV0ubW9udGhzW2RhdGUuZ2V0VVRDTW9udGgoKV0sXG4gICAgICAgICAgICAgICAgeXk6IGRhdGUuZ2V0VVRDRnVsbFllYXIoKS50b1N0cmluZygpLnN1YnN0cmluZygyKSxcbiAgICAgICAgICAgICAgICB5eXl5OiBkYXRlLmdldFVUQ0Z1bGxZZWFyKClcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YWwuaGggPSAodmFsLmggPCAxMCA/ICcwJyA6ICcnKSArIHZhbC5oO1xuICAgICAgICAgICAgdmFsLmlpID0gKHZhbC5pIDwgMTAgPyAnMCcgOiAnJykgKyB2YWwuaTtcbiAgICAgICAgICAgIHZhbC5zcyA9ICh2YWwucyA8IDEwID8gJzAnIDogJycpICsgdmFsLnM7XG4gICAgICAgICAgICB2YWwuZGQgPSAodmFsLmQgPCAxMCA/ICcwJyA6ICcnKSArIHZhbC5kO1xuICAgICAgICAgICAgdmFsLm1tID0gKHZhbC5tIDwgMTAgPyAnMCcgOiAnJykgKyB2YWwubTtcbiAgICAgICAgICAgIHZhciBkYXRlID0gW10sXG4gICAgICAgICAgICAgICAgc2VwcyA9ICQuZXh0ZW5kKFtdLCBmb3JtYXQuc2VwYXJhdG9ycyk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgY250ID0gZm9ybWF0LnBhcnRzLmxlbmd0aDsgaSA8IGNudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlcHMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICBkYXRlLnB1c2goc2Vwcy5zaGlmdCgpKVxuICAgICAgICAgICAgICAgIGRhdGUucHVzaCh2YWxbZm9ybWF0LnBhcnRzW2ldXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGF0ZS5qb2luKCcnKTtcbiAgICAgICAgfSxcbiAgICAgICAgY29udmVydFZpZXdNb2RlOiBmdW5jdGlvbih2aWV3TW9kZSkge1xuICAgICAgICAgICAgc3dpdGNoICh2aWV3TW9kZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBjYXNlICdkZWNhZGUnOlxuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZSA9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBjYXNlICd5ZWFyJzpcbiAgICAgICAgICAgICAgICAgICAgdmlld01vZGUgPSAzO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgY2FzZSAnbW9udGgnOlxuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZSA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBjYXNlICdkYXknOlxuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBjYXNlICdob3VyJzpcbiAgICAgICAgICAgICAgICAgICAgdmlld01vZGUgPSAwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHZpZXdNb2RlO1xuICAgICAgICB9LFxuICAgICAgICBoZWFkVGVtcGxhdGU6IGZ1bmN0aW9uKGxlZnRBcnJvdywgcmlnaHRBcnJvdykge3JldHVybignPHRoZWFkPicgK1xuICAgICAgICAgICAgJzx0cj4nICtcbiAgICAgICAgICAgICc8dGggY2xhc3M9XCJwcmV2XCI+JyArIGxlZnRBcnJvdyArICc8L3RoPicgK1xuICAgICAgICAgICAgJzx0aCBjb2xzcGFuPVwiNVwiIGNsYXNzPVwiZGF0ZS1zd2l0Y2hcIj48L3RoPicgK1xuICAgICAgICAgICAgJzx0aCBjbGFzcz1cIm5leHRcIj4nICsgcmlnaHRBcnJvdyArICc8L3RoPicgK1xuICAgICAgICAgICAgJzwvdHI+JyArXG4gICAgICAgICAgICAnPC90aGVhZD4nKX0sXG4gICAgICAgIGNvbnRUZW1wbGF0ZTogJzx0Ym9keT48dHI+PHRkIGNvbHNwYW49XCI3XCI+PC90ZD48L3RyPjwvdGJvZHk+JyxcbiAgICAgICAgZm9vdFRlbXBsYXRlOiAnPHRmb290Pjx0cj48dGggY29sc3Bhbj1cIjdcIiBjbGFzcz1cInRvZGF5XCI+PC90aD48L3RyPjwvdGZvb3Q+J1xuICAgIH07XG4gICAgRFBHbG9iYWwudGVtcGxhdGUgPSBmdW5jdGlvbihsZWZ0QXJyb3csIHJpZ2h0QXJyb3csIGNsb3NlSWNvbikge3JldHVybiggJzxkaXYgY2xhc3M9XCJkYXRlcGlja2VyXCI+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci1taW51dGVzXCI+JyArXG4gICAgICAgICc8dGFibGUgY2xhc3M9XCIgdGFibGUtY29uZGVuc2VkXCI+JyArXG4gICAgICAgIERQR2xvYmFsLmhlYWRUZW1wbGF0ZShsZWZ0QXJyb3csIHJpZ2h0QXJyb3cpICtcbiAgICAgICAgRFBHbG9iYWwuY29udFRlbXBsYXRlICtcbiAgICAgICAgRFBHbG9iYWwuZm9vdFRlbXBsYXRlICtcbiAgICAgICAgJzwvdGFibGU+JyArXG4gICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLWhvdXJzXCI+JyArXG4gICAgICAgICc8dGFibGUgY2xhc3M9XCIgdGFibGUtY29uZGVuc2VkXCI+JyArXG4gICAgICAgIERQR2xvYmFsLmhlYWRUZW1wbGF0ZShsZWZ0QXJyb3csIHJpZ2h0QXJyb3cpICtcbiAgICAgICAgRFBHbG9iYWwuY29udFRlbXBsYXRlICtcbiAgICAgICAgRFBHbG9iYWwuZm9vdFRlbXBsYXRlICtcbiAgICAgICAgJzwvdGFibGU+JyArXG4gICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLWRheXNcIj4nICtcbiAgICAgICAgJzx0YWJsZSBjbGFzcz1cIiB0YWJsZS1jb25kZW5zZWRcIj4nICtcbiAgICAgICAgRFBHbG9iYWwuaGVhZFRlbXBsYXRlKGxlZnRBcnJvdywgcmlnaHRBcnJvdykgK1xuICAgICAgICAnPHRib2R5PjwvdGJvZHk+JyArXG4gICAgICAgIERQR2xvYmFsLmZvb3RUZW1wbGF0ZSArXG4gICAgICAgICc8L3RhYmxlPicgK1xuICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci1tb250aHNcIj4nICtcbiAgICAgICAgJzx0YWJsZSBjbGFzcz1cInRhYmxlLWNvbmRlbnNlZFwiPicgK1xuICAgICAgICBEUEdsb2JhbC5oZWFkVGVtcGxhdGUobGVmdEFycm93LCByaWdodEFycm93KSArXG4gICAgICAgIERQR2xvYmFsLmNvbnRUZW1wbGF0ZSArXG4gICAgICAgIERQR2xvYmFsLmZvb3RUZW1wbGF0ZSArXG4gICAgICAgICc8L3RhYmxlPicgK1xuICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci15ZWFyc1wiPicgK1xuICAgICAgICAnPHRhYmxlIGNsYXNzPVwidGFibGUtY29uZGVuc2VkXCI+JyArXG4gICAgICAgIERQR2xvYmFsLmhlYWRUZW1wbGF0ZShsZWZ0QXJyb3csIHJpZ2h0QXJyb3cpICtcbiAgICAgICAgRFBHbG9iYWwuY29udFRlbXBsYXRlICtcbiAgICAgICAgRFBHbG9iYWwuZm9vdFRlbXBsYXRlICtcbiAgICAgICAgJzwvdGFibGU+JyArXG4gICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgJzxhIGNsYXNzPVwiYnV0dG9uIGRhdGVwaWNrZXItY2xvc2UgdGlueSBhbGVydCByaWdodFwiIHN0eWxlPVwid2lkdGg6YXV0bztcIj4nICsgY2xvc2VJY29uICsgJzwvYT4nICtcbiAgICAgICAgJzwvZGl2PicpfTtcblxuICAgICQuZm4uZmRhdGVwaWNrZXIuRFBHbG9iYWwgPSBEUEdsb2JhbDtcblxufSh3aW5kb3cualF1ZXJ5KTtcbiIsIi8qKlxuICogR2VybWFuIHRyYW5zbGF0aW9uIGZvciBmb3VuZGF0aW9uLWRhdGVwaWNrZXJcbiAqIFNhbSBadXJjaGVyIDxzYW1Ab3JlbGlhcy5jaD5cbiAqL1xuOyhmdW5jdGlvbigkKXtcblx0JC5mbi5mZGF0ZXBpY2tlci5kYXRlc1snZGUnXSA9IHtcblx0XHRkYXlzOiBbXCJTb25udGFnXCIsIFwiTW9udGFnXCIsIFwiRGllbnN0YWdcIiwgXCJNaXR0d29jaFwiLCBcIkRvbm5lcnN0YWdcIiwgXCJGcmVpdGFnXCIsIFwiU2Ftc3RhZ1wiLCBcIlNvbm50YWdcIl0sXG5cdFx0ZGF5c1Nob3J0OiBbXCJTb25cIiwgXCJNb25cIiwgXCJEaWVcIiwgXCJNaXRcIiwgXCJEb25cIiwgXCJGcmVcIiwgXCJTYW1cIiwgXCJTb25cIl0sXG5cdFx0ZGF5c01pbjogW1wiU29cIiwgXCJNb1wiLCBcIkRpXCIsIFwiTWlcIiwgXCJEb1wiLCBcIkZyXCIsIFwiU2FcIiwgXCJTb1wiXSxcblx0XHRtb250aHM6IFtcIkphbnVhclwiLCBcIkZlYnJ1YXJcIiwgXCJNw6RyelwiLCBcIkFwcmlsXCIsIFwiTWFpXCIsIFwiSnVuaVwiLCBcIkp1bGlcIiwgXCJBdWd1c3RcIiwgXCJTZXB0ZW1iZXJcIiwgXCJPa3RvYmVyXCIsIFwiTm92ZW1iZXJcIiwgXCJEZXplbWJlclwiXSxcblx0XHRtb250aHNTaG9ydDogW1wiSmFuXCIsIFwiRmViXCIsIFwiTcOkclwiLCBcIkFwclwiLCBcIk1haVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9rdFwiLCBcIk5vdlwiLCBcIkRlelwiXSxcblx0XHR0b2RheTogXCJIZXV0ZVwiXG5cdH07XG59KGpRdWVyeSkpO1xuIiwiLyoqXG4gKiBGcmVuY2ggdHJhbnNsYXRpb24gZm9yIGZvdW5kYXRpb24tZGF0ZXBpY2tlclxuICogTmljbyBNb2xsZXQgPG5pY28ubW9sbGV0QGdtYWlsLmNvbT5cbiAqL1xuOyhmdW5jdGlvbigkKXtcblx0JC5mbi5mZGF0ZXBpY2tlci5kYXRlc1snZnInXSA9IHtcblx0XHRkYXlzOiBbXCJEaW1hbmNoZVwiLCBcIkx1bmRpXCIsIFwiTWFyZGlcIiwgXCJNZXJjcmVkaVwiLCBcIkpldWRpXCIsIFwiVmVuZHJlZGlcIiwgXCJTYW1lZGlcIiwgXCJEaW1hbmNoZVwiXSxcblx0XHRkYXlzU2hvcnQ6IFtcIkRpbVwiLCBcIkx1blwiLCBcIk1hclwiLCBcIk1lclwiLCBcIkpldVwiLCBcIlZlblwiLCBcIlNhbVwiLCBcIkRpbVwiXSxcblx0XHRkYXlzTWluOiBbXCJEXCIsIFwiTFwiLCBcIk1hXCIsIFwiTWVcIiwgXCJKXCIsIFwiVlwiLCBcIlNcIiwgXCJEXCJdLFxuXHRcdG1vbnRoczogW1wiSmFudmllclwiLCBcIkbDqXZyaWVyXCIsIFwiTWFyc1wiLCBcIkF2cmlsXCIsIFwiTWFpXCIsIFwiSnVpblwiLCBcIkp1aWxsZXRcIiwgXCJBb8O7dFwiLCBcIlNlcHRlbWJyZVwiLCBcIk9jdG9icmVcIiwgXCJOb3ZlbWJyZVwiLCBcIkTDqWNlbWJyZVwiXSxcblx0XHRtb250aHNTaG9ydDogW1wiSmFuXCIsIFwiRmV2XCIsIFwiTWFyXCIsIFwiQXZyXCIsIFwiTWFpXCIsIFwiSnVpXCIsIFwiSnVsXCIsIFwiQW91XCIsIFwiU2VwXCIsIFwiT2N0XCIsIFwiTm92XCIsIFwiRGVjXCJdLFxuXHRcdHRvZGF5OiBcIkF1am91cmQnaHVpXCJcblx0fTtcbn0oalF1ZXJ5KSk7XG4iLCIvKipcbiAqIER1dGNoIHRyYW5zbGF0aW9uIGZvciBmb3VuZGF0aW9uLWRhdGVwaWNrZXJcbiAqIFJlaW5pZXIgR29sdHN0ZWluIDxtcmdvbHRzdGVpbkBnbWFpbC5jb20+XG4gKi9cbjsoZnVuY3Rpb24oJCl7XG5cdCQuZm4uZmRhdGVwaWNrZXIuZGF0ZXNbJ25sJ10gPSB7XG5cdFx0ZGF5czogW1wiWm9uZGFnXCIsIFwiTWFhbmRhZ1wiLCBcIkRpbnNkYWdcIiwgXCJXb2Vuc2RhZ1wiLCBcIkRvbmRlcmRhZ1wiLCBcIlZyaWpkYWdcIiwgXCJaYXRlcmRhZ1wiLCBcIlpvbmRhZ1wiXSxcblx0XHRkYXlzU2hvcnQ6IFtcIlpvXCIsIFwiTWFcIiwgXCJEaVwiLCBcIldvXCIsIFwiRG9cIiwgXCJWclwiLCBcIlphXCIsIFwiWm9cIl0sXG5cdFx0ZGF5c01pbjogW1wiWm9cIiwgXCJNYVwiLCBcIkRpXCIsIFwiV29cIiwgXCJEb1wiLCBcIlZyXCIsIFwiWmFcIiwgXCJab1wiXSxcblx0XHRtb250aHM6IFtcIkphbnVhcmlcIiwgXCJGZWJydWFyaVwiLCBcIk1hYXJ0XCIsIFwiQXByaWxcIiwgXCJNZWlcIiwgXCJKdW5pXCIsIFwiSnVsaVwiLCBcIkF1Z3VzdHVzXCIsIFwiU2VwdGVtYmVyXCIsIFwiT2t0b2JlclwiLCBcIk5vdmVtYmVyXCIsIFwiRGVjZW1iZXJcIl0sXG5cdFx0bW9udGhzU2hvcnQ6IFtcIkphblwiLCBcIkZlYlwiLCBcIk1ydFwiLCBcIkFwclwiLCBcIk1laVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9rdFwiLCBcIk5vdlwiLCBcIkRlY1wiXSxcblx0XHR0b2RheTogXCJWYW5kYWFnXCJcblx0fTtcbn0oalF1ZXJ5KSk7XG4iLCIvKipcbiAqIFBvbGlzaCB0cmFuc2xhdGlvbiBmb3IgZm91bmRhdGlvbi1kYXRlcGlja2VyXG4gKiBSb2JlcnQgPHJ0cG1AZ2F6ZXRhLnBsPlxuICovXG47KGZ1bmN0aW9uKCQpe1xuICAgICAgICAkLmZuLmZkYXRlcGlja2VyLmRhdGVzWydwbCddID0ge1xuICAgICAgICAgICAgICAgIGRheXM6IFtcIk5pZWR6aWVsYVwiLCBcIlBvbmllZHppYcWCZWtcIiwgXCJXdG9yZWtcIiwgXCLFmnJvZGFcIiwgXCJDendhcnRla1wiLCBcIlBpxIV0ZWtcIiwgXCJTb2JvdGFcIiwgXCJOaWVkemllbGFcIl0sXG4gICAgICAgICAgICAgICAgZGF5c1Nob3J0OiBbXCJOaWVcIiwgXCJQblwiLCBcIld0XCIsIFwixZpyXCIsIFwiQ3p3XCIsIFwiUHRcIiwgXCJTb1wiLCBcIk5pZVwiXSxcbiAgICAgICAgICAgICAgICBkYXlzTWluOiBbXCJOXCIsIFwiUG5cIiwgXCJXdFwiLCBcIsWaclwiLCBcIkN6XCIsIFwiUHRcIiwgXCJTb1wiLCBcIk5cIl0sXG4gICAgICAgICAgICAgICAgbW9udGhzOiBbXCJTdHljemXFhFwiLCBcIkx1dHlcIiwgXCJNYXJ6ZWNcIiwgXCJLd2llY2llxYRcIiwgXCJNYWpcIiwgXCJDemVyd2llY1wiLCBcIkxpcGllY1wiLCBcIlNpZXJwaWXFhFwiLCBcIldyemVzaWXFhFwiLCBcIlBhxbpkemllcm5pa1wiLCBcIkxpc3RvcGFkXCIsIFwiR3J1ZHppZcWEXCJdLFxuICAgICAgICAgICAgICAgIG1vbnRoc1Nob3J0OiBbXCJTdHlcIiwgXCJMdVwiLCBcIk1hclwiLCBcIkt3XCIsIFwiTWFqXCIsIFwiQ3plXCIsIFwiTGlwXCIsIFwiU2llXCIsIFwiV3J6XCIsIFwiUGFcIiwgXCJMaXNcIiwgXCJHcnVcIl0sXG4gICAgICAgICAgICAgICAgdG9kYXk6IFwiRHppc2lhalwiLFxuICAgICAgICAgICAgICAgIHdlZWtTdGFydDogMVxuICAgICAgICB9O1xufShqUXVlcnkpKTtcbiIsIiFmdW5jdGlvbigkKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgRk9VTkRBVElPTl9WRVJTSU9OID0gJzYuMy4wJztcblxuLy8gR2xvYmFsIEZvdW5kYXRpb24gb2JqZWN0XG4vLyBUaGlzIGlzIGF0dGFjaGVkIHRvIHRoZSB3aW5kb3csIG9yIHVzZWQgYXMgYSBtb2R1bGUgZm9yIEFNRC9Ccm93c2VyaWZ5XG52YXIgRm91bmRhdGlvbiA9IHtcbiAgdmVyc2lvbjogRk9VTkRBVElPTl9WRVJTSU9OLFxuXG4gIC8qKlxuICAgKiBTdG9yZXMgaW5pdGlhbGl6ZWQgcGx1Z2lucy5cbiAgICovXG4gIF9wbHVnaW5zOiB7fSxcblxuICAvKipcbiAgICogU3RvcmVzIGdlbmVyYXRlZCB1bmlxdWUgaWRzIGZvciBwbHVnaW4gaW5zdGFuY2VzXG4gICAqL1xuICBfdXVpZHM6IFtdLFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgYm9vbGVhbiBmb3IgUlRMIHN1cHBvcnRcbiAgICovXG4gIHJ0bDogZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gJCgnaHRtbCcpLmF0dHIoJ2RpcicpID09PSAncnRsJztcbiAgfSxcbiAgLyoqXG4gICAqIERlZmluZXMgYSBGb3VuZGF0aW9uIHBsdWdpbiwgYWRkaW5nIGl0IHRvIHRoZSBgRm91bmRhdGlvbmAgbmFtZXNwYWNlIGFuZCB0aGUgbGlzdCBvZiBwbHVnaW5zIHRvIGluaXRpYWxpemUgd2hlbiByZWZsb3dpbmcuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwbHVnaW4gLSBUaGUgY29uc3RydWN0b3Igb2YgdGhlIHBsdWdpbi5cbiAgICovXG4gIHBsdWdpbjogZnVuY3Rpb24ocGx1Z2luLCBuYW1lKSB7XG4gICAgLy8gT2JqZWN0IGtleSB0byB1c2Ugd2hlbiBhZGRpbmcgdG8gZ2xvYmFsIEZvdW5kYXRpb24gb2JqZWN0XG4gICAgLy8gRXhhbXBsZXM6IEZvdW5kYXRpb24uUmV2ZWFsLCBGb3VuZGF0aW9uLk9mZkNhbnZhc1xuICAgIHZhciBjbGFzc05hbWUgPSAobmFtZSB8fCBmdW5jdGlvbk5hbWUocGx1Z2luKSk7XG4gICAgLy8gT2JqZWN0IGtleSB0byB1c2Ugd2hlbiBzdG9yaW5nIHRoZSBwbHVnaW4sIGFsc28gdXNlZCB0byBjcmVhdGUgdGhlIGlkZW50aWZ5aW5nIGRhdGEgYXR0cmlidXRlIGZvciB0aGUgcGx1Z2luXG4gICAgLy8gRXhhbXBsZXM6IGRhdGEtcmV2ZWFsLCBkYXRhLW9mZi1jYW52YXNcbiAgICB2YXIgYXR0ck5hbWUgID0gaHlwaGVuYXRlKGNsYXNzTmFtZSk7XG5cbiAgICAvLyBBZGQgdG8gdGhlIEZvdW5kYXRpb24gb2JqZWN0IGFuZCB0aGUgcGx1Z2lucyBsaXN0IChmb3IgcmVmbG93aW5nKVxuICAgIHRoaXMuX3BsdWdpbnNbYXR0ck5hbWVdID0gdGhpc1tjbGFzc05hbWVdID0gcGx1Z2luO1xuICB9LFxuICAvKipcbiAgICogQGZ1bmN0aW9uXG4gICAqIFBvcHVsYXRlcyB0aGUgX3V1aWRzIGFycmF5IHdpdGggcG9pbnRlcnMgdG8gZWFjaCBpbmRpdmlkdWFsIHBsdWdpbiBpbnN0YW5jZS5cbiAgICogQWRkcyB0aGUgYHpmUGx1Z2luYCBkYXRhLWF0dHJpYnV0ZSB0byBwcm9ncmFtbWF0aWNhbGx5IGNyZWF0ZWQgcGx1Z2lucyB0byBhbGxvdyB1c2Ugb2YgJChzZWxlY3RvcikuZm91bmRhdGlvbihtZXRob2QpIGNhbGxzLlxuICAgKiBBbHNvIGZpcmVzIHRoZSBpbml0aWFsaXphdGlvbiBldmVudCBmb3IgZWFjaCBwbHVnaW4sIGNvbnNvbGlkYXRpbmcgcmVwZXRpdGl2ZSBjb2RlLlxuICAgKiBAcGFyYW0ge09iamVjdH0gcGx1Z2luIC0gYW4gaW5zdGFuY2Ugb2YgYSBwbHVnaW4sIHVzdWFsbHkgYHRoaXNgIGluIGNvbnRleHQuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gdGhlIG5hbWUgb2YgdGhlIHBsdWdpbiwgcGFzc2VkIGFzIGEgY2FtZWxDYXNlZCBzdHJpbmcuXG4gICAqIEBmaXJlcyBQbHVnaW4jaW5pdFxuICAgKi9cbiAgcmVnaXN0ZXJQbHVnaW46IGZ1bmN0aW9uKHBsdWdpbiwgbmFtZSl7XG4gICAgdmFyIHBsdWdpbk5hbWUgPSBuYW1lID8gaHlwaGVuYXRlKG5hbWUpIDogZnVuY3Rpb25OYW1lKHBsdWdpbi5jb25zdHJ1Y3RvcikudG9Mb3dlckNhc2UoKTtcbiAgICBwbHVnaW4udXVpZCA9IHRoaXMuR2V0WW9EaWdpdHMoNiwgcGx1Z2luTmFtZSk7XG5cbiAgICBpZighcGx1Z2luLiRlbGVtZW50LmF0dHIoYGRhdGEtJHtwbHVnaW5OYW1lfWApKXsgcGx1Z2luLiRlbGVtZW50LmF0dHIoYGRhdGEtJHtwbHVnaW5OYW1lfWAsIHBsdWdpbi51dWlkKTsgfVxuICAgIGlmKCFwbHVnaW4uJGVsZW1lbnQuZGF0YSgnemZQbHVnaW4nKSl7IHBsdWdpbi4kZWxlbWVudC5kYXRhKCd6ZlBsdWdpbicsIHBsdWdpbik7IH1cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBGaXJlcyB3aGVuIHRoZSBwbHVnaW4gaGFzIGluaXRpYWxpemVkLlxuICAgICAgICAgICAqIEBldmVudCBQbHVnaW4jaW5pdFxuICAgICAgICAgICAqL1xuICAgIHBsdWdpbi4kZWxlbWVudC50cmlnZ2VyKGBpbml0LnpmLiR7cGx1Z2luTmFtZX1gKTtcblxuICAgIHRoaXMuX3V1aWRzLnB1c2gocGx1Z2luLnV1aWQpO1xuXG4gICAgcmV0dXJuO1xuICB9LFxuICAvKipcbiAgICogQGZ1bmN0aW9uXG4gICAqIFJlbW92ZXMgdGhlIHBsdWdpbnMgdXVpZCBmcm9tIHRoZSBfdXVpZHMgYXJyYXkuXG4gICAqIFJlbW92ZXMgdGhlIHpmUGx1Z2luIGRhdGEgYXR0cmlidXRlLCBhcyB3ZWxsIGFzIHRoZSBkYXRhLXBsdWdpbi1uYW1lIGF0dHJpYnV0ZS5cbiAgICogQWxzbyBmaXJlcyB0aGUgZGVzdHJveWVkIGV2ZW50IGZvciB0aGUgcGx1Z2luLCBjb25zb2xpZGF0aW5nIHJlcGV0aXRpdmUgY29kZS5cbiAgICogQHBhcmFtIHtPYmplY3R9IHBsdWdpbiAtIGFuIGluc3RhbmNlIG9mIGEgcGx1Z2luLCB1c3VhbGx5IGB0aGlzYCBpbiBjb250ZXh0LlxuICAgKiBAZmlyZXMgUGx1Z2luI2Rlc3Ryb3llZFxuICAgKi9cbiAgdW5yZWdpc3RlclBsdWdpbjogZnVuY3Rpb24ocGx1Z2luKXtcbiAgICB2YXIgcGx1Z2luTmFtZSA9IGh5cGhlbmF0ZShmdW5jdGlvbk5hbWUocGx1Z2luLiRlbGVtZW50LmRhdGEoJ3pmUGx1Z2luJykuY29uc3RydWN0b3IpKTtcblxuICAgIHRoaXMuX3V1aWRzLnNwbGljZSh0aGlzLl91dWlkcy5pbmRleE9mKHBsdWdpbi51dWlkKSwgMSk7XG4gICAgcGx1Z2luLiRlbGVtZW50LnJlbW92ZUF0dHIoYGRhdGEtJHtwbHVnaW5OYW1lfWApLnJlbW92ZURhdGEoJ3pmUGx1Z2luJylcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBGaXJlcyB3aGVuIHRoZSBwbHVnaW4gaGFzIGJlZW4gZGVzdHJveWVkLlxuICAgICAgICAgICAqIEBldmVudCBQbHVnaW4jZGVzdHJveWVkXG4gICAgICAgICAgICovXG4gICAgICAgICAgLnRyaWdnZXIoYGRlc3Ryb3llZC56Zi4ke3BsdWdpbk5hbWV9YCk7XG4gICAgZm9yKHZhciBwcm9wIGluIHBsdWdpbil7XG4gICAgICBwbHVnaW5bcHJvcF0gPSBudWxsOy8vY2xlYW4gdXAgc2NyaXB0IHRvIHByZXAgZm9yIGdhcmJhZ2UgY29sbGVjdGlvbi5cbiAgICB9XG4gICAgcmV0dXJuO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQ2F1c2VzIG9uZSBvciBtb3JlIGFjdGl2ZSBwbHVnaW5zIHRvIHJlLWluaXRpYWxpemUsIHJlc2V0dGluZyBldmVudCBsaXN0ZW5lcnMsIHJlY2FsY3VsYXRpbmcgcG9zaXRpb25zLCBldGMuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwbHVnaW5zIC0gb3B0aW9uYWwgc3RyaW5nIG9mIGFuIGluZGl2aWR1YWwgcGx1Z2luIGtleSwgYXR0YWluZWQgYnkgY2FsbGluZyBgJChlbGVtZW50KS5kYXRhKCdwbHVnaW5OYW1lJylgLCBvciBzdHJpbmcgb2YgYSBwbHVnaW4gY2xhc3MgaS5lLiBgJ2Ryb3Bkb3duJ2BcbiAgICogQGRlZmF1bHQgSWYgbm8gYXJndW1lbnQgaXMgcGFzc2VkLCByZWZsb3cgYWxsIGN1cnJlbnRseSBhY3RpdmUgcGx1Z2lucy5cbiAgICovXG4gICByZUluaXQ6IGZ1bmN0aW9uKHBsdWdpbnMpe1xuICAgICB2YXIgaXNKUSA9IHBsdWdpbnMgaW5zdGFuY2VvZiAkO1xuICAgICB0cnl7XG4gICAgICAgaWYoaXNKUSl7XG4gICAgICAgICBwbHVnaW5zLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgJCh0aGlzKS5kYXRhKCd6ZlBsdWdpbicpLl9pbml0KCk7XG4gICAgICAgICB9KTtcbiAgICAgICB9ZWxzZXtcbiAgICAgICAgIHZhciB0eXBlID0gdHlwZW9mIHBsdWdpbnMsXG4gICAgICAgICBfdGhpcyA9IHRoaXMsXG4gICAgICAgICBmbnMgPSB7XG4gICAgICAgICAgICdvYmplY3QnOiBmdW5jdGlvbihwbGdzKXtcbiAgICAgICAgICAgICBwbGdzLmZvckVhY2goZnVuY3Rpb24ocCl7XG4gICAgICAgICAgICAgICBwID0gaHlwaGVuYXRlKHApO1xuICAgICAgICAgICAgICAgJCgnW2RhdGEtJysgcCArJ10nKS5mb3VuZGF0aW9uKCdfaW5pdCcpO1xuICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICB9LFxuICAgICAgICAgICAnc3RyaW5nJzogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICBwbHVnaW5zID0gaHlwaGVuYXRlKHBsdWdpbnMpO1xuICAgICAgICAgICAgICQoJ1tkYXRhLScrIHBsdWdpbnMgKyddJykuZm91bmRhdGlvbignX2luaXQnKTtcbiAgICAgICAgICAgfSxcbiAgICAgICAgICAgJ3VuZGVmaW5lZCc6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgdGhpc1snb2JqZWN0J10oT2JqZWN0LmtleXMoX3RoaXMuX3BsdWdpbnMpKTtcbiAgICAgICAgICAgfVxuICAgICAgICAgfTtcbiAgICAgICAgIGZuc1t0eXBlXShwbHVnaW5zKTtcbiAgICAgICB9XG4gICAgIH1jYXRjaChlcnIpe1xuICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgfWZpbmFsbHl7XG4gICAgICAgcmV0dXJuIHBsdWdpbnM7XG4gICAgIH1cbiAgIH0sXG5cbiAgLyoqXG4gICAqIHJldHVybnMgYSByYW5kb20gYmFzZS0zNiB1aWQgd2l0aCBuYW1lc3BhY2luZ1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtOdW1iZXJ9IGxlbmd0aCAtIG51bWJlciBvZiByYW5kb20gYmFzZS0zNiBkaWdpdHMgZGVzaXJlZC4gSW5jcmVhc2UgZm9yIG1vcmUgcmFuZG9tIHN0cmluZ3MuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2UgLSBuYW1lIG9mIHBsdWdpbiB0byBiZSBpbmNvcnBvcmF0ZWQgaW4gdWlkLCBvcHRpb25hbC5cbiAgICogQGRlZmF1bHQge1N0cmluZ30gJycgLSBpZiBubyBwbHVnaW4gbmFtZSBpcyBwcm92aWRlZCwgbm90aGluZyBpcyBhcHBlbmRlZCB0byB0aGUgdWlkLlxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSAtIHVuaXF1ZSBpZFxuICAgKi9cbiAgR2V0WW9EaWdpdHM6IGZ1bmN0aW9uKGxlbmd0aCwgbmFtZXNwYWNlKXtcbiAgICBsZW5ndGggPSBsZW5ndGggfHwgNjtcbiAgICByZXR1cm4gTWF0aC5yb3VuZCgoTWF0aC5wb3coMzYsIGxlbmd0aCArIDEpIC0gTWF0aC5yYW5kb20oKSAqIE1hdGgucG93KDM2LCBsZW5ndGgpKSkudG9TdHJpbmcoMzYpLnNsaWNlKDEpICsgKG5hbWVzcGFjZSA/IGAtJHtuYW1lc3BhY2V9YCA6ICcnKTtcbiAgfSxcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgcGx1Z2lucyBvbiBhbnkgZWxlbWVudHMgd2l0aGluIGBlbGVtYCAoYW5kIGBlbGVtYCBpdHNlbGYpIHRoYXQgYXJlbid0IGFscmVhZHkgaW5pdGlhbGl6ZWQuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtIC0galF1ZXJ5IG9iamVjdCBjb250YWluaW5nIHRoZSBlbGVtZW50IHRvIGNoZWNrIGluc2lkZS4gQWxzbyBjaGVja3MgdGhlIGVsZW1lbnQgaXRzZWxmLCB1bmxlc3MgaXQncyB0aGUgYGRvY3VtZW50YCBvYmplY3QuXG4gICAqIEBwYXJhbSB7U3RyaW5nfEFycmF5fSBwbHVnaW5zIC0gQSBsaXN0IG9mIHBsdWdpbnMgdG8gaW5pdGlhbGl6ZS4gTGVhdmUgdGhpcyBvdXQgdG8gaW5pdGlhbGl6ZSBldmVyeXRoaW5nLlxuICAgKi9cbiAgcmVmbG93OiBmdW5jdGlvbihlbGVtLCBwbHVnaW5zKSB7XG5cbiAgICAvLyBJZiBwbHVnaW5zIGlzIHVuZGVmaW5lZCwganVzdCBncmFiIGV2ZXJ5dGhpbmdcbiAgICBpZiAodHlwZW9mIHBsdWdpbnMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBwbHVnaW5zID0gT2JqZWN0LmtleXModGhpcy5fcGx1Z2lucyk7XG4gICAgfVxuICAgIC8vIElmIHBsdWdpbnMgaXMgYSBzdHJpbmcsIGNvbnZlcnQgaXQgdG8gYW4gYXJyYXkgd2l0aCBvbmUgaXRlbVxuICAgIGVsc2UgaWYgKHR5cGVvZiBwbHVnaW5zID09PSAnc3RyaW5nJykge1xuICAgICAgcGx1Z2lucyA9IFtwbHVnaW5zXTtcbiAgICB9XG5cbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGVhY2ggcGx1Z2luXG4gICAgJC5lYWNoKHBsdWdpbnMsIGZ1bmN0aW9uKGksIG5hbWUpIHtcbiAgICAgIC8vIEdldCB0aGUgY3VycmVudCBwbHVnaW5cbiAgICAgIHZhciBwbHVnaW4gPSBfdGhpcy5fcGx1Z2luc1tuYW1lXTtcblxuICAgICAgLy8gTG9jYWxpemUgdGhlIHNlYXJjaCB0byBhbGwgZWxlbWVudHMgaW5zaWRlIGVsZW0sIGFzIHdlbGwgYXMgZWxlbSBpdHNlbGYsIHVubGVzcyBlbGVtID09PSBkb2N1bWVudFxuICAgICAgdmFyICRlbGVtID0gJChlbGVtKS5maW5kKCdbZGF0YS0nK25hbWUrJ10nKS5hZGRCYWNrKCdbZGF0YS0nK25hbWUrJ10nKTtcblxuICAgICAgLy8gRm9yIGVhY2ggcGx1Z2luIGZvdW5kLCBpbml0aWFsaXplIGl0XG4gICAgICAkZWxlbS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgJGVsID0gJCh0aGlzKSxcbiAgICAgICAgICAgIG9wdHMgPSB7fTtcbiAgICAgICAgLy8gRG9uJ3QgZG91YmxlLWRpcCBvbiBwbHVnaW5zXG4gICAgICAgIGlmICgkZWwuZGF0YSgnemZQbHVnaW4nKSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIlRyaWVkIHRvIGluaXRpYWxpemUgXCIrbmFtZStcIiBvbiBhbiBlbGVtZW50IHRoYXQgYWxyZWFkeSBoYXMgYSBGb3VuZGF0aW9uIHBsdWdpbi5cIik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoJGVsLmF0dHIoJ2RhdGEtb3B0aW9ucycpKXtcbiAgICAgICAgICB2YXIgdGhpbmcgPSAkZWwuYXR0cignZGF0YS1vcHRpb25zJykuc3BsaXQoJzsnKS5mb3JFYWNoKGZ1bmN0aW9uKGUsIGkpe1xuICAgICAgICAgICAgdmFyIG9wdCA9IGUuc3BsaXQoJzonKS5tYXAoZnVuY3Rpb24oZWwpeyByZXR1cm4gZWwudHJpbSgpOyB9KTtcbiAgICAgICAgICAgIGlmKG9wdFswXSkgb3B0c1tvcHRbMF1dID0gcGFyc2VWYWx1ZShvcHRbMV0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRyeXtcbiAgICAgICAgICAkZWwuZGF0YSgnemZQbHVnaW4nLCBuZXcgcGx1Z2luKCQodGhpcyksIG9wdHMpKTtcbiAgICAgICAgfWNhdGNoKGVyKXtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGVyKTtcbiAgICAgICAgfWZpbmFsbHl7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSxcbiAgZ2V0Rm5OYW1lOiBmdW5jdGlvbk5hbWUsXG4gIHRyYW5zaXRpb25lbmQ6IGZ1bmN0aW9uKCRlbGVtKXtcbiAgICB2YXIgdHJhbnNpdGlvbnMgPSB7XG4gICAgICAndHJhbnNpdGlvbic6ICd0cmFuc2l0aW9uZW5kJyxcbiAgICAgICdXZWJraXRUcmFuc2l0aW9uJzogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICAgICAgJ01velRyYW5zaXRpb24nOiAndHJhbnNpdGlvbmVuZCcsXG4gICAgICAnT1RyYW5zaXRpb24nOiAnb3RyYW5zaXRpb25lbmQnXG4gICAgfTtcbiAgICB2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgICBlbmQ7XG5cbiAgICBmb3IgKHZhciB0IGluIHRyYW5zaXRpb25zKXtcbiAgICAgIGlmICh0eXBlb2YgZWxlbS5zdHlsZVt0XSAhPT0gJ3VuZGVmaW5lZCcpe1xuICAgICAgICBlbmQgPSB0cmFuc2l0aW9uc1t0XTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYoZW5kKXtcbiAgICAgIHJldHVybiBlbmQ7XG4gICAgfWVsc2V7XG4gICAgICBlbmQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICRlbGVtLnRyaWdnZXJIYW5kbGVyKCd0cmFuc2l0aW9uZW5kJywgWyRlbGVtXSk7XG4gICAgICB9LCAxKTtcbiAgICAgIHJldHVybiAndHJhbnNpdGlvbmVuZCc7XG4gICAgfVxuICB9XG59O1xuXG5Gb3VuZGF0aW9uLnV0aWwgPSB7XG4gIC8qKlxuICAgKiBGdW5jdGlvbiBmb3IgYXBwbHlpbmcgYSBkZWJvdW5jZSBlZmZlY3QgdG8gYSBmdW5jdGlvbiBjYWxsLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyAtIEZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBhdCBlbmQgb2YgdGltZW91dC5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IGRlbGF5IC0gVGltZSBpbiBtcyB0byBkZWxheSB0aGUgY2FsbCBvZiBgZnVuY2AuXG4gICAqIEByZXR1cm5zIGZ1bmN0aW9uXG4gICAqL1xuICB0aHJvdHRsZTogZnVuY3Rpb24gKGZ1bmMsIGRlbGF5KSB7XG4gICAgdmFyIHRpbWVyID0gbnVsbDtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY29udGV4dCA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7XG5cbiAgICAgIGlmICh0aW1lciA9PT0gbnVsbCkge1xuICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgICAgdGltZXIgPSBudWxsO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufTtcblxuLy8gVE9ETzogY29uc2lkZXIgbm90IG1ha2luZyB0aGlzIGEgalF1ZXJ5IGZ1bmN0aW9uXG4vLyBUT0RPOiBuZWVkIHdheSB0byByZWZsb3cgdnMuIHJlLWluaXRpYWxpemVcbi8qKlxuICogVGhlIEZvdW5kYXRpb24galF1ZXJ5IG1ldGhvZC5cbiAqIEBwYXJhbSB7U3RyaW5nfEFycmF5fSBtZXRob2QgLSBBbiBhY3Rpb24gdG8gcGVyZm9ybSBvbiB0aGUgY3VycmVudCBqUXVlcnkgb2JqZWN0LlxuICovXG52YXIgZm91bmRhdGlvbiA9IGZ1bmN0aW9uKG1ldGhvZCkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiBtZXRob2QsXG4gICAgICAkbWV0YSA9ICQoJ21ldGEuZm91bmRhdGlvbi1tcScpLFxuICAgICAgJG5vSlMgPSAkKCcubm8tanMnKTtcblxuICBpZighJG1ldGEubGVuZ3RoKXtcbiAgICAkKCc8bWV0YSBjbGFzcz1cImZvdW5kYXRpb24tbXFcIj4nKS5hcHBlbmRUbyhkb2N1bWVudC5oZWFkKTtcbiAgfVxuICBpZigkbm9KUy5sZW5ndGgpe1xuICAgICRub0pTLnJlbW92ZUNsYXNzKCduby1qcycpO1xuICB9XG5cbiAgaWYodHlwZSA9PT0gJ3VuZGVmaW5lZCcpey8vbmVlZHMgdG8gaW5pdGlhbGl6ZSB0aGUgRm91bmRhdGlvbiBvYmplY3QsIG9yIGFuIGluZGl2aWR1YWwgcGx1Z2luLlxuICAgIEZvdW5kYXRpb24uTWVkaWFRdWVyeS5faW5pdCgpO1xuICAgIEZvdW5kYXRpb24ucmVmbG93KHRoaXMpO1xuICB9ZWxzZSBpZih0eXBlID09PSAnc3RyaW5nJyl7Ly9hbiBpbmRpdmlkdWFsIG1ldGhvZCB0byBpbnZva2Ugb24gYSBwbHVnaW4gb3IgZ3JvdXAgb2YgcGx1Z2luc1xuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTsvL2NvbGxlY3QgYWxsIHRoZSBhcmd1bWVudHMsIGlmIG5lY2Vzc2FyeVxuICAgIHZhciBwbHVnQ2xhc3MgPSB0aGlzLmRhdGEoJ3pmUGx1Z2luJyk7Ly9kZXRlcm1pbmUgdGhlIGNsYXNzIG9mIHBsdWdpblxuXG4gICAgaWYocGx1Z0NsYXNzICE9PSB1bmRlZmluZWQgJiYgcGx1Z0NsYXNzW21ldGhvZF0gIT09IHVuZGVmaW5lZCl7Ly9tYWtlIHN1cmUgYm90aCB0aGUgY2xhc3MgYW5kIG1ldGhvZCBleGlzdFxuICAgICAgaWYodGhpcy5sZW5ndGggPT09IDEpey8vaWYgdGhlcmUncyBvbmx5IG9uZSwgY2FsbCBpdCBkaXJlY3RseS5cbiAgICAgICAgICBwbHVnQ2xhc3NbbWV0aG9kXS5hcHBseShwbHVnQ2xhc3MsIGFyZ3MpO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbihpLCBlbCl7Ly9vdGhlcndpc2UgbG9vcCB0aHJvdWdoIHRoZSBqUXVlcnkgY29sbGVjdGlvbiBhbmQgaW52b2tlIHRoZSBtZXRob2Qgb24gZWFjaFxuICAgICAgICAgIHBsdWdDbGFzc1ttZXRob2RdLmFwcGx5KCQoZWwpLmRhdGEoJ3pmUGx1Z2luJyksIGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9ZWxzZXsvL2Vycm9yIGZvciBubyBjbGFzcyBvciBubyBtZXRob2RcbiAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcIldlJ3JlIHNvcnJ5LCAnXCIgKyBtZXRob2QgKyBcIicgaXMgbm90IGFuIGF2YWlsYWJsZSBtZXRob2QgZm9yIFwiICsgKHBsdWdDbGFzcyA/IGZ1bmN0aW9uTmFtZShwbHVnQ2xhc3MpIDogJ3RoaXMgZWxlbWVudCcpICsgJy4nKTtcbiAgICB9XG4gIH1lbHNley8vZXJyb3IgZm9yIGludmFsaWQgYXJndW1lbnQgdHlwZVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFdlJ3JlIHNvcnJ5LCAke3R5cGV9IGlzIG5vdCBhIHZhbGlkIHBhcmFtZXRlci4gWW91IG11c3QgdXNlIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgbWV0aG9kIHlvdSB3aXNoIHRvIGludm9rZS5gKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbndpbmRvdy5Gb3VuZGF0aW9uID0gRm91bmRhdGlvbjtcbiQuZm4uZm91bmRhdGlvbiA9IGZvdW5kYXRpb247XG5cbi8vIFBvbHlmaWxsIGZvciByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbihmdW5jdGlvbigpIHtcbiAgaWYgKCFEYXRlLm5vdyB8fCAhd2luZG93LkRhdGUubm93KVxuICAgIHdpbmRvdy5EYXRlLm5vdyA9IERhdGUubm93ID0gZnVuY3Rpb24oKSB7IHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTsgfTtcblxuICB2YXIgdmVuZG9ycyA9IFsnd2Via2l0JywgJ21veiddO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHZlbmRvcnMubGVuZ3RoICYmICF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lOyArK2kpIHtcbiAgICAgIHZhciB2cCA9IHZlbmRvcnNbaV07XG4gICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gd2luZG93W3ZwKydSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXTtcbiAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSA9ICh3aW5kb3dbdnArJ0NhbmNlbEFuaW1hdGlvbkZyYW1lJ11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHdpbmRvd1t2cCsnQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ10pO1xuICB9XG4gIGlmICgvaVAoYWR8aG9uZXxvZCkuKk9TIDYvLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpXG4gICAgfHwgIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgIXdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSkge1xuICAgIHZhciBsYXN0VGltZSA9IDA7XG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgbmV4dFRpbWUgPSBNYXRoLm1heChsYXN0VGltZSArIDE2LCBub3cpO1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHsgY2FsbGJhY2sobGFzdFRpbWUgPSBuZXh0VGltZSk7IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRUaW1lIC0gbm93KTtcbiAgICB9O1xuICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGNsZWFyVGltZW91dDtcbiAgfVxuICAvKipcbiAgICogUG9seWZpbGwgZm9yIHBlcmZvcm1hbmNlLm5vdywgcmVxdWlyZWQgYnkgckFGXG4gICAqL1xuICBpZighd2luZG93LnBlcmZvcm1hbmNlIHx8ICF3aW5kb3cucGVyZm9ybWFuY2Uubm93KXtcbiAgICB3aW5kb3cucGVyZm9ybWFuY2UgPSB7XG4gICAgICBzdGFydDogRGF0ZS5ub3coKSxcbiAgICAgIG5vdzogZnVuY3Rpb24oKXsgcmV0dXJuIERhdGUubm93KCkgLSB0aGlzLnN0YXJ0OyB9XG4gICAgfTtcbiAgfVxufSkoKTtcbmlmICghRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQpIHtcbiAgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbihvVGhpcykge1xuICAgIGlmICh0eXBlb2YgdGhpcyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gY2xvc2VzdCB0aGluZyBwb3NzaWJsZSB0byB0aGUgRUNNQVNjcmlwdCA1XG4gICAgICAvLyBpbnRlcm5hbCBJc0NhbGxhYmxlIGZ1bmN0aW9uXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbi5wcm90b3R5cGUuYmluZCAtIHdoYXQgaXMgdHJ5aW5nIHRvIGJlIGJvdW5kIGlzIG5vdCBjYWxsYWJsZScpO1xuICAgIH1cblxuICAgIHZhciBhQXJncyAgID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSxcbiAgICAgICAgZlRvQmluZCA9IHRoaXMsXG4gICAgICAgIGZOT1AgICAgPSBmdW5jdGlvbigpIHt9LFxuICAgICAgICBmQm91bmQgID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIGZUb0JpbmQuYXBwbHkodGhpcyBpbnN0YW5jZW9mIGZOT1BcbiAgICAgICAgICAgICAgICAgPyB0aGlzXG4gICAgICAgICAgICAgICAgIDogb1RoaXMsXG4gICAgICAgICAgICAgICAgIGFBcmdzLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7XG4gICAgICAgIH07XG5cbiAgICBpZiAodGhpcy5wcm90b3R5cGUpIHtcbiAgICAgIC8vIG5hdGl2ZSBmdW5jdGlvbnMgZG9uJ3QgaGF2ZSBhIHByb3RvdHlwZVxuICAgICAgZk5PUC5wcm90b3R5cGUgPSB0aGlzLnByb3RvdHlwZTtcbiAgICB9XG4gICAgZkJvdW5kLnByb3RvdHlwZSA9IG5ldyBmTk9QKCk7XG5cbiAgICByZXR1cm4gZkJvdW5kO1xuICB9O1xufVxuLy8gUG9seWZpbGwgdG8gZ2V0IHRoZSBuYW1lIG9mIGEgZnVuY3Rpb24gaW4gSUU5XG5mdW5jdGlvbiBmdW5jdGlvbk5hbWUoZm4pIHtcbiAgaWYgKEZ1bmN0aW9uLnByb3RvdHlwZS5uYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgZnVuY05hbWVSZWdleCA9IC9mdW5jdGlvblxccyhbXihdezEsfSlcXCgvO1xuICAgIHZhciByZXN1bHRzID0gKGZ1bmNOYW1lUmVnZXgpLmV4ZWMoKGZuKS50b1N0cmluZygpKTtcbiAgICByZXR1cm4gKHJlc3VsdHMgJiYgcmVzdWx0cy5sZW5ndGggPiAxKSA/IHJlc3VsdHNbMV0udHJpbSgpIDogXCJcIjtcbiAgfVxuICBlbHNlIGlmIChmbi5wcm90b3R5cGUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBmbi5jb25zdHJ1Y3Rvci5uYW1lO1xuICB9XG4gIGVsc2Uge1xuICAgIHJldHVybiBmbi5wcm90b3R5cGUuY29uc3RydWN0b3IubmFtZTtcbiAgfVxufVxuZnVuY3Rpb24gcGFyc2VWYWx1ZShzdHIpe1xuICBpZiAoJ3RydWUnID09PSBzdHIpIHJldHVybiB0cnVlO1xuICBlbHNlIGlmICgnZmFsc2UnID09PSBzdHIpIHJldHVybiBmYWxzZTtcbiAgZWxzZSBpZiAoIWlzTmFOKHN0ciAqIDEpKSByZXR1cm4gcGFyc2VGbG9hdChzdHIpO1xuICByZXR1cm4gc3RyO1xufVxuLy8gQ29udmVydCBQYXNjYWxDYXNlIHRvIGtlYmFiLWNhc2Vcbi8vIFRoYW5rIHlvdTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvODk1NTU4MFxuZnVuY3Rpb24gaHlwaGVuYXRlKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csICckMS0kMicpLnRvTG93ZXJDYXNlKCk7XG59XG5cbn0oalF1ZXJ5KTtcbiIsIid1c2Ugc3RyaWN0JztcblxuIWZ1bmN0aW9uKCQpIHtcblxuLyoqXG4gKiBTbGlkZXIgbW9kdWxlLlxuICogQG1vZHVsZSBmb3VuZGF0aW9uLnNsaWRlclxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC5tb3Rpb25cbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwudHJpZ2dlcnNcbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwua2V5Ym9hcmRcbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwudG91Y2hcbiAqL1xuXG5jbGFzcyBTbGlkZXIge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBhIHNsaWRlciBjb250cm9sLlxuICAgKiBAY2xhc3NcbiAgICogQHBhcmFtIHtqUXVlcnl9IGVsZW1lbnQgLSBqUXVlcnkgb2JqZWN0IHRvIG1ha2UgaW50byBhIHNsaWRlciBjb250cm9sLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIE92ZXJyaWRlcyB0byB0aGUgZGVmYXVsdCBwbHVnaW4gc2V0dGluZ3MuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy4kZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIFNsaWRlci5kZWZhdWx0cywgdGhpcy4kZWxlbWVudC5kYXRhKCksIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5faW5pdCgpO1xuXG4gICAgRm91bmRhdGlvbi5yZWdpc3RlclBsdWdpbih0aGlzLCAnU2xpZGVyJyk7XG4gICAgRm91bmRhdGlvbi5LZXlib2FyZC5yZWdpc3RlcignU2xpZGVyJywge1xuICAgICAgJ2x0cic6IHtcbiAgICAgICAgJ0FSUk9XX1JJR0hUJzogJ2luY3JlYXNlJyxcbiAgICAgICAgJ0FSUk9XX1VQJzogJ2luY3JlYXNlJyxcbiAgICAgICAgJ0FSUk9XX0RPV04nOiAnZGVjcmVhc2UnLFxuICAgICAgICAnQVJST1dfTEVGVCc6ICdkZWNyZWFzZScsXG4gICAgICAgICdTSElGVF9BUlJPV19SSUdIVCc6ICdpbmNyZWFzZV9mYXN0JyxcbiAgICAgICAgJ1NISUZUX0FSUk9XX1VQJzogJ2luY3JlYXNlX2Zhc3QnLFxuICAgICAgICAnU0hJRlRfQVJST1dfRE9XTic6ICdkZWNyZWFzZV9mYXN0JyxcbiAgICAgICAgJ1NISUZUX0FSUk9XX0xFRlQnOiAnZGVjcmVhc2VfZmFzdCdcbiAgICAgIH0sXG4gICAgICAncnRsJzoge1xuICAgICAgICAnQVJST1dfTEVGVCc6ICdpbmNyZWFzZScsXG4gICAgICAgICdBUlJPV19SSUdIVCc6ICdkZWNyZWFzZScsXG4gICAgICAgICdTSElGVF9BUlJPV19MRUZUJzogJ2luY3JlYXNlX2Zhc3QnLFxuICAgICAgICAnU0hJRlRfQVJST1dfUklHSFQnOiAnZGVjcmVhc2VfZmFzdCdcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWxpemVzIHRoZSBwbHVnaW4gYnkgcmVhZGluZy9zZXR0aW5nIGF0dHJpYnV0ZXMsIGNyZWF0aW5nIGNvbGxlY3Rpb25zIGFuZCBzZXR0aW5nIHRoZSBpbml0aWFsIHBvc2l0aW9uIG9mIHRoZSBoYW5kbGUocykuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2luaXQoKSB7XG4gICAgdGhpcy5pbnB1dHMgPSB0aGlzLiRlbGVtZW50LmZpbmQoJ2lucHV0Jyk7XG4gICAgdGhpcy5oYW5kbGVzID0gdGhpcy4kZWxlbWVudC5maW5kKCdbZGF0YS1zbGlkZXItaGFuZGxlXScpO1xuXG4gICAgdGhpcy4kaGFuZGxlID0gdGhpcy5oYW5kbGVzLmVxKDApO1xuICAgIHRoaXMuJGlucHV0ID0gdGhpcy5pbnB1dHMubGVuZ3RoID8gdGhpcy5pbnB1dHMuZXEoMCkgOiAkKGAjJHt0aGlzLiRoYW5kbGUuYXR0cignYXJpYS1jb250cm9scycpfWApO1xuICAgIHRoaXMuJGZpbGwgPSB0aGlzLiRlbGVtZW50LmZpbmQoJ1tkYXRhLXNsaWRlci1maWxsXScpLmNzcyh0aGlzLm9wdGlvbnMudmVydGljYWwgPyAnaGVpZ2h0JyA6ICd3aWR0aCcsIDApO1xuXG4gICAgdmFyIGlzRGJsID0gZmFsc2UsXG4gICAgICAgIF90aGlzID0gdGhpcztcbiAgICBpZiAodGhpcy5vcHRpb25zLmRpc2FibGVkIHx8IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3ModGhpcy5vcHRpb25zLmRpc2FibGVkQ2xhc3MpKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgdGhpcy4kZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuZGlzYWJsZWRDbGFzcyk7XG4gICAgfVxuICAgIGlmICghdGhpcy5pbnB1dHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLmlucHV0cyA9ICQoKS5hZGQodGhpcy4kaW5wdXQpO1xuICAgICAgdGhpcy5vcHRpb25zLmJpbmRpbmcgPSB0cnVlO1xuICAgIH1cblxuICAgIHRoaXMuX3NldEluaXRBdHRyKDApO1xuXG4gICAgaWYgKHRoaXMuaGFuZGxlc1sxXSkge1xuICAgICAgdGhpcy5vcHRpb25zLmRvdWJsZVNpZGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuJGhhbmRsZTIgPSB0aGlzLmhhbmRsZXMuZXEoMSk7XG4gICAgICB0aGlzLiRpbnB1dDIgPSB0aGlzLmlucHV0cy5sZW5ndGggPiAxID8gdGhpcy5pbnB1dHMuZXEoMSkgOiAkKGAjJHt0aGlzLiRoYW5kbGUyLmF0dHIoJ2FyaWEtY29udHJvbHMnKX1gKTtcblxuICAgICAgaWYgKCF0aGlzLmlucHV0c1sxXSkge1xuICAgICAgICB0aGlzLmlucHV0cyA9IHRoaXMuaW5wdXRzLmFkZCh0aGlzLiRpbnB1dDIpO1xuICAgICAgfVxuICAgICAgaXNEYmwgPSB0cnVlO1xuXG4gICAgICAvLyB0aGlzLiRoYW5kbGUudHJpZ2dlckhhbmRsZXIoJ2NsaWNrLnpmLnNsaWRlcicpO1xuICAgICAgdGhpcy5fc2V0SW5pdEF0dHIoMSk7XG4gICAgfVxuXG4gICAgLy8gU2V0IGhhbmRsZSBwb3NpdGlvbnNcbiAgICB0aGlzLnNldEhhbmRsZXMoKTtcblxuICAgIHRoaXMuX2V2ZW50cygpO1xuICB9XG5cbiAgc2V0SGFuZGxlcygpIHtcbiAgICBpZih0aGlzLmhhbmRsZXNbMV0pIHtcbiAgICAgIHRoaXMuX3NldEhhbmRsZVBvcyh0aGlzLiRoYW5kbGUsIHRoaXMuaW5wdXRzLmVxKDApLnZhbCgpLCB0cnVlLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX3NldEhhbmRsZVBvcyh0aGlzLiRoYW5kbGUyLCB0aGlzLmlucHV0cy5lcSgxKS52YWwoKSwgdHJ1ZSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2V0SGFuZGxlUG9zKHRoaXMuJGhhbmRsZSwgdGhpcy5pbnB1dHMuZXEoMCkudmFsKCksIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIF9yZWZsb3coKSB7XG4gICAgdGhpcy5zZXRIYW5kbGVzKCk7XG4gIH1cbiAgLyoqXG4gICogQGZ1bmN0aW9uXG4gICogQHByaXZhdGVcbiAgKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgLSBmbG9hdGluZyBwb2ludCAodGhlIHZhbHVlKSB0byBiZSB0cmFuc2Zvcm1lZCB1c2luZyB0byBhIHJlbGF0aXZlIHBvc2l0aW9uIG9uIHRoZSBzbGlkZXIgKHRoZSBpbnZlcnNlIG9mIF92YWx1ZSlcbiAgKi9cbiAgX3BjdE9mQmFyKHZhbHVlKSB7XG4gICAgdmFyIHBjdE9mQmFyID0gcGVyY2VudCh2YWx1ZSAtIHRoaXMub3B0aW9ucy5zdGFydCwgdGhpcy5vcHRpb25zLmVuZCAtIHRoaXMub3B0aW9ucy5zdGFydClcblxuICAgIHN3aXRjaCh0aGlzLm9wdGlvbnMucG9zaXRpb25WYWx1ZUZ1bmN0aW9uKSB7XG4gICAgY2FzZSBcInBvd1wiOlxuICAgICAgcGN0T2ZCYXIgPSB0aGlzLl9sb2dUcmFuc2Zvcm0ocGN0T2ZCYXIpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImxvZ1wiOlxuICAgICAgcGN0T2ZCYXIgPSB0aGlzLl9wb3dUcmFuc2Zvcm0ocGN0T2ZCYXIpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBjdE9mQmFyLnRvRml4ZWQoMilcbiAgfVxuXG4gIC8qKlxuICAqIEBmdW5jdGlvblxuICAqIEBwcml2YXRlXG4gICogQHBhcmFtIHtOdW1iZXJ9IHBjdE9mQmFyIC0gZmxvYXRpbmcgcG9pbnQsIHRoZSByZWxhdGl2ZSBwb3NpdGlvbiBvZiB0aGUgc2xpZGVyICh0eXBpY2FsbHkgYmV0d2VlbiAwLTEpIHRvIGJlIHRyYW5zZm9ybWVkIHRvIGEgdmFsdWVcbiAgKi9cbiAgX3ZhbHVlKHBjdE9mQmFyKSB7XG4gICAgc3dpdGNoKHRoaXMub3B0aW9ucy5wb3NpdGlvblZhbHVlRnVuY3Rpb24pIHtcbiAgICBjYXNlIFwicG93XCI6XG4gICAgICBwY3RPZkJhciA9IHRoaXMuX3Bvd1RyYW5zZm9ybShwY3RPZkJhcik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwibG9nXCI6XG4gICAgICBwY3RPZkJhciA9IHRoaXMuX2xvZ1RyYW5zZm9ybShwY3RPZkJhcik7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgdmFyIHZhbHVlID0gKHRoaXMub3B0aW9ucy5lbmQgLSB0aGlzLm9wdGlvbnMuc3RhcnQpICogcGN0T2ZCYXIgKyB0aGlzLm9wdGlvbnMuc3RhcnQ7XG5cbiAgICByZXR1cm4gdmFsdWVcbiAgfVxuXG4gIC8qKlxuICAqIEBmdW5jdGlvblxuICAqIEBwcml2YXRlXG4gICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlIC0gZmxvYXRpbmcgcG9pbnQgKHR5cGljYWxseSBiZXR3ZWVuIDAtMSkgdG8gYmUgdHJhbnNmb3JtZWQgdXNpbmcgdGhlIGxvZyBmdW5jdGlvblxuICAqL1xuICBfbG9nVHJhbnNmb3JtKHZhbHVlKSB7XG4gICAgcmV0dXJuIGJhc2VMb2codGhpcy5vcHRpb25zLm5vbkxpbmVhckJhc2UsICgodmFsdWUqKHRoaXMub3B0aW9ucy5ub25MaW5lYXJCYXNlLTEpKSsxKSlcbiAgfVxuXG4gIC8qKlxuICAqIEBmdW5jdGlvblxuICAqIEBwcml2YXRlXG4gICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlIC0gZmxvYXRpbmcgcG9pbnQgKHR5cGljYWxseSBiZXR3ZWVuIDAtMSkgdG8gYmUgdHJhbnNmb3JtZWQgdXNpbmcgdGhlIHBvd2VyIGZ1bmN0aW9uXG4gICovXG4gIF9wb3dUcmFuc2Zvcm0odmFsdWUpIHtcbiAgICByZXR1cm4gKE1hdGgucG93KHRoaXMub3B0aW9ucy5ub25MaW5lYXJCYXNlLCB2YWx1ZSkgLSAxKSAvICh0aGlzLm9wdGlvbnMubm9uTGluZWFyQmFzZSAtIDEpXG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgcG9zaXRpb24gb2YgdGhlIHNlbGVjdGVkIGhhbmRsZSBhbmQgZmlsbCBiYXIuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge2pRdWVyeX0gJGhuZGwgLSB0aGUgc2VsZWN0ZWQgaGFuZGxlIHRvIG1vdmUuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBsb2NhdGlvbiAtIGZsb2F0aW5nIHBvaW50IGJldHdlZW4gdGhlIHN0YXJ0IGFuZCBlbmQgdmFsdWVzIG9mIHRoZSBzbGlkZXIgYmFyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiAtIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGZpcmUgb24gY29tcGxldGlvbi5cbiAgICogQGZpcmVzIFNsaWRlciNtb3ZlZFxuICAgKiBAZmlyZXMgU2xpZGVyI2NoYW5nZWRcbiAgICovXG4gIF9zZXRIYW5kbGVQb3MoJGhuZGwsIGxvY2F0aW9uLCBub0ludmVydCwgY2IpIHtcbiAgICAvLyBkb24ndCBtb3ZlIGlmIHRoZSBzbGlkZXIgaGFzIGJlZW4gZGlzYWJsZWQgc2luY2UgaXRzIGluaXRpYWxpemF0aW9uXG4gICAgaWYgKHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3ModGhpcy5vcHRpb25zLmRpc2FibGVkQ2xhc3MpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vbWlnaHQgbmVlZCB0byBhbHRlciB0aGF0IHNsaWdodGx5IGZvciBiYXJzIHRoYXQgd2lsbCBoYXZlIG9kZCBudW1iZXIgc2VsZWN0aW9ucy5cbiAgICBsb2NhdGlvbiA9IHBhcnNlRmxvYXQobG9jYXRpb24pOy8vb24gaW5wdXQgY2hhbmdlIGV2ZW50cywgY29udmVydCBzdHJpbmcgdG8gbnVtYmVyLi4uZ3J1bWJsZS5cblxuICAgIC8vIHByZXZlbnQgc2xpZGVyIGZyb20gcnVubmluZyBvdXQgb2YgYm91bmRzLCBpZiB2YWx1ZSBleGNlZWRzIHRoZSBsaW1pdHMgc2V0IHRocm91Z2ggb3B0aW9ucywgb3ZlcnJpZGUgdGhlIHZhbHVlIHRvIG1pbi9tYXhcbiAgICBpZiAobG9jYXRpb24gPCB0aGlzLm9wdGlvbnMuc3RhcnQpIHsgbG9jYXRpb24gPSB0aGlzLm9wdGlvbnMuc3RhcnQ7IH1cbiAgICBlbHNlIGlmIChsb2NhdGlvbiA+IHRoaXMub3B0aW9ucy5lbmQpIHsgbG9jYXRpb24gPSB0aGlzLm9wdGlvbnMuZW5kOyB9XG5cbiAgICB2YXIgaXNEYmwgPSB0aGlzLm9wdGlvbnMuZG91YmxlU2lkZWQ7XG5cbiAgICBpZiAoaXNEYmwpIHsgLy90aGlzIGJsb2NrIGlzIHRvIHByZXZlbnQgMiBoYW5kbGVzIGZyb20gY3Jvc3NpbmcgZWFjaG90aGVyLiBDb3VsZC9zaG91bGQgYmUgaW1wcm92ZWQuXG4gICAgICBpZiAodGhpcy5oYW5kbGVzLmluZGV4KCRobmRsKSA9PT0gMCkge1xuICAgICAgICB2YXIgaDJWYWwgPSBwYXJzZUZsb2F0KHRoaXMuJGhhbmRsZTIuYXR0cignYXJpYS12YWx1ZW5vdycpKTtcbiAgICAgICAgbG9jYXRpb24gPSBsb2NhdGlvbiA+PSBoMlZhbCA/IGgyVmFsIC0gdGhpcy5vcHRpb25zLnN0ZXAgOiBsb2NhdGlvbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBoMVZhbCA9IHBhcnNlRmxvYXQodGhpcy4kaGFuZGxlLmF0dHIoJ2FyaWEtdmFsdWVub3cnKSk7XG4gICAgICAgIGxvY2F0aW9uID0gbG9jYXRpb24gPD0gaDFWYWwgPyBoMVZhbCArIHRoaXMub3B0aW9ucy5zdGVwIDogbG9jYXRpb247XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy90aGlzIGlzIGZvciBzaW5nbGUtaGFuZGxlZCB2ZXJ0aWNhbCBzbGlkZXJzLCBpdCBhZGp1c3RzIHRoZSB2YWx1ZSB0byBhY2NvdW50IGZvciB0aGUgc2xpZGVyIGJlaW5nIFwidXBzaWRlLWRvd25cIlxuICAgIC8vZm9yIGNsaWNrIGFuZCBkcmFnIGV2ZW50cywgaXQncyB3ZWlyZCBkdWUgdG8gdGhlIHNjYWxlKC0xLCAxKSBjc3MgcHJvcGVydHlcbiAgICBpZiAodGhpcy5vcHRpb25zLnZlcnRpY2FsICYmICFub0ludmVydCkge1xuICAgICAgbG9jYXRpb24gPSB0aGlzLm9wdGlvbnMuZW5kIC0gbG9jYXRpb247XG4gICAgfVxuXG4gICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgdmVydCA9IHRoaXMub3B0aW9ucy52ZXJ0aWNhbCxcbiAgICAgICAgaE9yVyA9IHZlcnQgPyAnaGVpZ2h0JyA6ICd3aWR0aCcsXG4gICAgICAgIGxPclQgPSB2ZXJ0ID8gJ3RvcCcgOiAnbGVmdCcsXG4gICAgICAgIGhhbmRsZURpbSA9ICRobmRsWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW2hPclddLFxuICAgICAgICBlbGVtRGltID0gdGhpcy4kZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVtoT3JXXSxcbiAgICAgICAgLy9wZXJjZW50YWdlIG9mIGJhciBtaW4vbWF4IHZhbHVlIGJhc2VkIG9uIGNsaWNrIG9yIGRyYWcgcG9pbnRcbiAgICAgICAgcGN0T2ZCYXIgPSB0aGlzLl9wY3RPZkJhcihsb2NhdGlvbiksXG4gICAgICAgIC8vbnVtYmVyIG9mIGFjdHVhbCBwaXhlbHMgdG8gc2hpZnQgdGhlIGhhbmRsZSwgYmFzZWQgb24gdGhlIHBlcmNlbnRhZ2Ugb2J0YWluZWQgYWJvdmVcbiAgICAgICAgcHhUb01vdmUgPSAoZWxlbURpbSAtIGhhbmRsZURpbSkgKiBwY3RPZkJhcixcbiAgICAgICAgLy9wZXJjZW50YWdlIG9mIGJhciB0byBzaGlmdCB0aGUgaGFuZGxlXG4gICAgICAgIG1vdmVtZW50ID0gKHBlcmNlbnQocHhUb01vdmUsIGVsZW1EaW0pICogMTAwKS50b0ZpeGVkKHRoaXMub3B0aW9ucy5kZWNpbWFsKTtcbiAgICAgICAgLy9maXhpbmcgdGhlIGRlY2ltYWwgdmFsdWUgZm9yIHRoZSBsb2NhdGlvbiBudW1iZXIsIGlzIHBhc3NlZCB0byBvdGhlciBtZXRob2RzIGFzIGEgZml4ZWQgZmxvYXRpbmctcG9pbnQgdmFsdWVcbiAgICAgICAgbG9jYXRpb24gPSBwYXJzZUZsb2F0KGxvY2F0aW9uLnRvRml4ZWQodGhpcy5vcHRpb25zLmRlY2ltYWwpKTtcbiAgICAgICAgLy8gZGVjbGFyZSBlbXB0eSBvYmplY3QgZm9yIGNzcyBhZGp1c3RtZW50cywgb25seSB1c2VkIHdpdGggMiBoYW5kbGVkLXNsaWRlcnNcbiAgICB2YXIgY3NzID0ge307XG5cbiAgICB0aGlzLl9zZXRWYWx1ZXMoJGhuZGwsIGxvY2F0aW9uKTtcblxuICAgIC8vIFRPRE8gdXBkYXRlIHRvIGNhbGN1bGF0ZSBiYXNlZCBvbiB2YWx1ZXMgc2V0IHRvIHJlc3BlY3RpdmUgaW5wdXRzPz9cbiAgICBpZiAoaXNEYmwpIHtcbiAgICAgIHZhciBpc0xlZnRIbmRsID0gdGhpcy5oYW5kbGVzLmluZGV4KCRobmRsKSA9PT0gMCxcbiAgICAgICAgICAvL2VtcHR5IHZhcmlhYmxlLCB3aWxsIGJlIHVzZWQgZm9yIG1pbi1oZWlnaHQvd2lkdGggZm9yIGZpbGwgYmFyXG4gICAgICAgICAgZGltLFxuICAgICAgICAgIC8vcGVyY2VudGFnZSB3L2ggb2YgdGhlIGhhbmRsZSBjb21wYXJlZCB0byB0aGUgc2xpZGVyIGJhclxuICAgICAgICAgIGhhbmRsZVBjdCA9ICB+fihwZXJjZW50KGhhbmRsZURpbSwgZWxlbURpbSkgKiAxMDApO1xuICAgICAgLy9pZiBsZWZ0IGhhbmRsZSwgdGhlIG1hdGggaXMgc2xpZ2h0bHkgZGlmZmVyZW50IHRoYW4gaWYgaXQncyB0aGUgcmlnaHQgaGFuZGxlLCBhbmQgdGhlIGxlZnQvdG9wIHByb3BlcnR5IG5lZWRzIHRvIGJlIGNoYW5nZWQgZm9yIHRoZSBmaWxsIGJhclxuICAgICAgaWYgKGlzTGVmdEhuZGwpIHtcbiAgICAgICAgLy9sZWZ0IG9yIHRvcCBwZXJjZW50YWdlIHZhbHVlIHRvIGFwcGx5IHRvIHRoZSBmaWxsIGJhci5cbiAgICAgICAgY3NzW2xPclRdID0gYCR7bW92ZW1lbnR9JWA7XG4gICAgICAgIC8vY2FsY3VsYXRlIHRoZSBuZXcgbWluLWhlaWdodC93aWR0aCBmb3IgdGhlIGZpbGwgYmFyLlxuICAgICAgICBkaW0gPSBwYXJzZUZsb2F0KHRoaXMuJGhhbmRsZTJbMF0uc3R5bGVbbE9yVF0pIC0gbW92ZW1lbnQgKyBoYW5kbGVQY3Q7XG4gICAgICAgIC8vdGhpcyBjYWxsYmFjayBpcyBuZWNlc3NhcnkgdG8gcHJldmVudCBlcnJvcnMgYW5kIGFsbG93IHRoZSBwcm9wZXIgcGxhY2VtZW50IGFuZCBpbml0aWFsaXphdGlvbiBvZiBhIDItaGFuZGxlZCBzbGlkZXJcbiAgICAgICAgLy9wbHVzLCBpdCBtZWFucyB3ZSBkb24ndCBjYXJlIGlmICdkaW0nIGlzTmFOIG9uIGluaXQsIGl0IHdvbid0IGJlIGluIHRoZSBmdXR1cmUuXG4gICAgICAgIGlmIChjYiAmJiB0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHsgY2IoKTsgfS8vdGhpcyBpcyBvbmx5IG5lZWRlZCBmb3IgdGhlIGluaXRpYWxpemF0aW9uIG9mIDIgaGFuZGxlZCBzbGlkZXJzXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvL2p1c3QgY2FjaGluZyB0aGUgdmFsdWUgb2YgdGhlIGxlZnQvYm90dG9tIGhhbmRsZSdzIGxlZnQvdG9wIHByb3BlcnR5XG4gICAgICAgIHZhciBoYW5kbGVQb3MgPSBwYXJzZUZsb2F0KHRoaXMuJGhhbmRsZVswXS5zdHlsZVtsT3JUXSk7XG4gICAgICAgIC8vY2FsY3VsYXRlIHRoZSBuZXcgbWluLWhlaWdodC93aWR0aCBmb3IgdGhlIGZpbGwgYmFyLiBVc2UgaXNOYU4gdG8gcHJldmVudCBmYWxzZSBwb3NpdGl2ZXMgZm9yIG51bWJlcnMgPD0gMFxuICAgICAgICAvL2Jhc2VkIG9uIHRoZSBwZXJjZW50YWdlIG9mIG1vdmVtZW50IG9mIHRoZSBoYW5kbGUgYmVpbmcgbWFuaXB1bGF0ZWQsIGxlc3MgdGhlIG9wcG9zaW5nIGhhbmRsZSdzIGxlZnQvdG9wIHBvc2l0aW9uLCBwbHVzIHRoZSBwZXJjZW50YWdlIHcvaCBvZiB0aGUgaGFuZGxlIGl0c2VsZlxuICAgICAgICBkaW0gPSBtb3ZlbWVudCAtIChpc05hTihoYW5kbGVQb3MpID8gKHRoaXMub3B0aW9ucy5pbml0aWFsU3RhcnQgLSB0aGlzLm9wdGlvbnMuc3RhcnQpLygodGhpcy5vcHRpb25zLmVuZC10aGlzLm9wdGlvbnMuc3RhcnQpLzEwMCkgOiBoYW5kbGVQb3MpICsgaGFuZGxlUGN0O1xuICAgICAgfVxuICAgICAgLy8gYXNzaWduIHRoZSBtaW4taGVpZ2h0L3dpZHRoIHRvIG91ciBjc3Mgb2JqZWN0XG4gICAgICBjc3NbYG1pbi0ke2hPcld9YF0gPSBgJHtkaW19JWA7XG4gICAgfVxuXG4gICAgdGhpcy4kZWxlbWVudC5vbmUoJ2ZpbmlzaGVkLnpmLmFuaW1hdGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIEZpcmVzIHdoZW4gdGhlIGhhbmRsZSBpcyBkb25lIG1vdmluZy5cbiAgICAgICAgICAgICAgICAgICAgICogQGV2ZW50IFNsaWRlciNtb3ZlZFxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJGVsZW1lbnQudHJpZ2dlcignbW92ZWQuemYuc2xpZGVyJywgWyRobmRsXSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAvL2JlY2F1c2Ugd2UgZG9uJ3Qga25vdyBleGFjdGx5IGhvdyB0aGUgaGFuZGxlIHdpbGwgYmUgbW92ZWQsIGNoZWNrIHRoZSBhbW91bnQgb2YgdGltZSBpdCBzaG91bGQgdGFrZSB0byBtb3ZlLlxuICAgIHZhciBtb3ZlVGltZSA9IHRoaXMuJGVsZW1lbnQuZGF0YSgnZHJhZ2dpbmcnKSA/IDEwMDAvNjAgOiB0aGlzLm9wdGlvbnMubW92ZVRpbWU7XG5cbiAgICBGb3VuZGF0aW9uLk1vdmUobW92ZVRpbWUsICRobmRsLCBmdW5jdGlvbigpIHtcbiAgICAgIC8vIGFkanVzdGluZyB0aGUgbGVmdC90b3AgcHJvcGVydHkgb2YgdGhlIGhhbmRsZSwgYmFzZWQgb24gdGhlIHBlcmNlbnRhZ2UgY2FsY3VsYXRlZCBhYm92ZVxuICAgICAgLy8gaWYgbW92ZW1lbnQgaXNOYU4sIHRoYXQgaXMgYmVjYXVzZSB0aGUgc2xpZGVyIGlzIGhpZGRlbiBhbmQgd2UgY2Fubm90IGRldGVybWluZSBoYW5kbGUgd2lkdGgsXG4gICAgICAvLyBmYWxsIGJhY2sgdG8gbmV4dCBiZXN0IGd1ZXNzLlxuICAgICAgaWYgKGlzTmFOKG1vdmVtZW50KSkge1xuICAgICAgICAkaG5kbC5jc3MobE9yVCwgYCR7cGN0T2ZCYXIgKiAxMDB9JWApO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgICRobmRsLmNzcyhsT3JULCBgJHttb3ZlbWVudH0lYCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghX3RoaXMub3B0aW9ucy5kb3VibGVTaWRlZCkge1xuICAgICAgICAvL2lmIHNpbmdsZS1oYW5kbGVkLCBhIHNpbXBsZSBtZXRob2QgdG8gZXhwYW5kIHRoZSBmaWxsIGJhclxuICAgICAgICBfdGhpcy4kZmlsbC5jc3MoaE9yVywgYCR7cGN0T2ZCYXIgKiAxMDB9JWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy9vdGhlcndpc2UsIHVzZSB0aGUgY3NzIG9iamVjdCB3ZSBjcmVhdGVkIGFib3ZlXG4gICAgICAgIF90aGlzLiRmaWxsLmNzcyhjc3MpO1xuICAgICAgfVxuICAgIH0pO1xuXG5cbiAgICAvKipcbiAgICAgKiBGaXJlcyB3aGVuIHRoZSB2YWx1ZSBoYXMgbm90IGJlZW4gY2hhbmdlIGZvciBhIGdpdmVuIHRpbWUuXG4gICAgICogQGV2ZW50IFNsaWRlciNjaGFuZ2VkXG4gICAgICovXG4gICAgY2xlYXJUaW1lb3V0KF90aGlzLnRpbWVvdXQpO1xuICAgIF90aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICBfdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdjaGFuZ2VkLnpmLnNsaWRlcicsIFskaG5kbF0pO1xuICAgIH0sIF90aGlzLm9wdGlvbnMuY2hhbmdlZERlbGF5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBpbml0aWFsIGF0dHJpYnV0ZSBmb3IgdGhlIHNsaWRlciBlbGVtZW50LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGlkeCAtIGluZGV4IG9mIHRoZSBjdXJyZW50IGhhbmRsZS9pbnB1dCB0byB1c2UuXG4gICAqL1xuICBfc2V0SW5pdEF0dHIoaWR4KSB7XG4gICAgdmFyIGluaXRWYWwgPSAoaWR4ID09PSAwID8gdGhpcy5vcHRpb25zLmluaXRpYWxTdGFydCA6IHRoaXMub3B0aW9ucy5pbml0aWFsRW5kKVxuICAgIHZhciBpZCA9IHRoaXMuaW5wdXRzLmVxKGlkeCkuYXR0cignaWQnKSB8fCBGb3VuZGF0aW9uLkdldFlvRGlnaXRzKDYsICdzbGlkZXInKTtcbiAgICB0aGlzLmlucHV0cy5lcShpZHgpLmF0dHIoe1xuICAgICAgJ2lkJzogaWQsXG4gICAgICAnbWF4JzogdGhpcy5vcHRpb25zLmVuZCxcbiAgICAgICdtaW4nOiB0aGlzLm9wdGlvbnMuc3RhcnQsXG4gICAgICAnc3RlcCc6IHRoaXMub3B0aW9ucy5zdGVwXG4gICAgfSk7XG4gICAgdGhpcy5pbnB1dHMuZXEoaWR4KS52YWwoaW5pdFZhbCk7XG4gICAgdGhpcy5oYW5kbGVzLmVxKGlkeCkuYXR0cih7XG4gICAgICAncm9sZSc6ICdzbGlkZXInLFxuICAgICAgJ2FyaWEtY29udHJvbHMnOiBpZCxcbiAgICAgICdhcmlhLXZhbHVlbWF4JzogdGhpcy5vcHRpb25zLmVuZCxcbiAgICAgICdhcmlhLXZhbHVlbWluJzogdGhpcy5vcHRpb25zLnN0YXJ0LFxuICAgICAgJ2FyaWEtdmFsdWVub3cnOiBpbml0VmFsLFxuICAgICAgJ2FyaWEtb3JpZW50YXRpb24nOiB0aGlzLm9wdGlvbnMudmVydGljYWwgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnLFxuICAgICAgJ3RhYmluZGV4JzogMFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGlucHV0IGFuZCBgYXJpYS12YWx1ZW5vd2AgdmFsdWVzIGZvciB0aGUgc2xpZGVyIGVsZW1lbnQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge2pRdWVyeX0gJGhhbmRsZSAtIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgaGFuZGxlLlxuICAgKiBAcGFyYW0ge051bWJlcn0gdmFsIC0gZmxvYXRpbmcgcG9pbnQgb2YgdGhlIG5ldyB2YWx1ZS5cbiAgICovXG4gIF9zZXRWYWx1ZXMoJGhhbmRsZSwgdmFsKSB7XG4gICAgdmFyIGlkeCA9IHRoaXMub3B0aW9ucy5kb3VibGVTaWRlZCA/IHRoaXMuaGFuZGxlcy5pbmRleCgkaGFuZGxlKSA6IDA7XG4gICAgdGhpcy5pbnB1dHMuZXEoaWR4KS52YWwodmFsKTtcbiAgICAkaGFuZGxlLmF0dHIoJ2FyaWEtdmFsdWVub3cnLCB2YWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgZXZlbnRzIG9uIHRoZSBzbGlkZXIgZWxlbWVudC5cbiAgICogQ2FsY3VsYXRlcyB0aGUgbmV3IGxvY2F0aW9uIG9mIHRoZSBjdXJyZW50IGhhbmRsZS5cbiAgICogSWYgdGhlcmUgYXJlIHR3byBoYW5kbGVzIGFuZCB0aGUgYmFyIHdhcyBjbGlja2VkLCBpdCBkZXRlcm1pbmVzIHdoaWNoIGhhbmRsZSB0byBtb3ZlLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGUgLSB0aGUgYGV2ZW50YCBvYmplY3QgcGFzc2VkIGZyb20gdGhlIGxpc3RlbmVyLlxuICAgKiBAcGFyYW0ge2pRdWVyeX0gJGhhbmRsZSAtIHRoZSBjdXJyZW50IGhhbmRsZSB0byBjYWxjdWxhdGUgZm9yLCBpZiBzZWxlY3RlZC5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbCAtIGZsb2F0aW5nIHBvaW50IG51bWJlciBmb3IgdGhlIG5ldyB2YWx1ZSBvZiB0aGUgc2xpZGVyLlxuICAgKiBUT0RPIGNsZWFuIHRoaXMgdXAsIHRoZXJlJ3MgYSBsb3Qgb2YgcmVwZWF0ZWQgY29kZSBiZXR3ZWVuIHRoaXMgYW5kIHRoZSBfc2V0SGFuZGxlUG9zIGZuLlxuICAgKi9cbiAgX2hhbmRsZUV2ZW50KGUsICRoYW5kbGUsIHZhbCkge1xuICAgIHZhciB2YWx1ZSwgaGFzVmFsO1xuICAgIGlmICghdmFsKSB7Ly9jbGljayBvciBkcmFnIGV2ZW50c1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgICB2ZXJ0aWNhbCA9IHRoaXMub3B0aW9ucy52ZXJ0aWNhbCxcbiAgICAgICAgICBwYXJhbSA9IHZlcnRpY2FsID8gJ2hlaWdodCcgOiAnd2lkdGgnLFxuICAgICAgICAgIGRpcmVjdGlvbiA9IHZlcnRpY2FsID8gJ3RvcCcgOiAnbGVmdCcsXG4gICAgICAgICAgZXZlbnRPZmZzZXQgPSB2ZXJ0aWNhbCA/IGUucGFnZVkgOiBlLnBhZ2VYLFxuICAgICAgICAgIGhhbGZPZkhhbmRsZSA9IHRoaXMuJGhhbmRsZVswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVtwYXJhbV0gLyAyLFxuICAgICAgICAgIGJhckRpbSA9IHRoaXMuJGVsZW1lbnRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbcGFyYW1dLFxuICAgICAgICAgIHdpbmRvd1Njcm9sbCA9IHZlcnRpY2FsID8gJCh3aW5kb3cpLnNjcm9sbFRvcCgpIDogJCh3aW5kb3cpLnNjcm9sbExlZnQoKTtcblxuXG4gICAgICB2YXIgZWxlbU9mZnNldCA9IHRoaXMuJGVsZW1lbnQub2Zmc2V0KClbZGlyZWN0aW9uXTtcblxuICAgICAgLy8gdG91Y2ggZXZlbnRzIGVtdWxhdGVkIGJ5IHRoZSB0b3VjaCB1dGlsIGdpdmUgcG9zaXRpb24gcmVsYXRpdmUgdG8gc2NyZWVuLCBhZGQgd2luZG93LnNjcm9sbCB0byBldmVudCBjb29yZGluYXRlcy4uLlxuICAgICAgLy8gYmVzdCB3YXkgdG8gZ3Vlc3MgdGhpcyBpcyBzaW11bGF0ZWQgaXMgaWYgY2xpZW50WSA9PSBwYWdlWVxuICAgICAgaWYgKGUuY2xpZW50WSA9PT0gZS5wYWdlWSkgeyBldmVudE9mZnNldCA9IGV2ZW50T2Zmc2V0ICsgd2luZG93U2Nyb2xsOyB9XG4gICAgICB2YXIgZXZlbnRGcm9tQmFyID0gZXZlbnRPZmZzZXQgLSBlbGVtT2Zmc2V0O1xuICAgICAgdmFyIGJhclhZO1xuICAgICAgaWYgKGV2ZW50RnJvbUJhciA8IDApIHtcbiAgICAgICAgYmFyWFkgPSAwO1xuICAgICAgfSBlbHNlIGlmIChldmVudEZyb21CYXIgPiBiYXJEaW0pIHtcbiAgICAgICAgYmFyWFkgPSBiYXJEaW07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYXJYWSA9IGV2ZW50RnJvbUJhcjtcbiAgICAgIH1cbiAgICAgIHZhciBvZmZzZXRQY3QgPSBwZXJjZW50KGJhclhZLCBiYXJEaW0pO1xuXG4gICAgICB2YWx1ZSA9IHRoaXMuX3ZhbHVlKG9mZnNldFBjdCk7XG5cbiAgICAgIC8vIHR1cm4gZXZlcnl0aGluZyBhcm91bmQgZm9yIFJUTCwgeWF5IG1hdGghXG4gICAgICBpZiAoRm91bmRhdGlvbi5ydGwoKSAmJiAhdGhpcy5vcHRpb25zLnZlcnRpY2FsKSB7dmFsdWUgPSB0aGlzLm9wdGlvbnMuZW5kIC0gdmFsdWU7fVxuXG4gICAgICB2YWx1ZSA9IF90aGlzLl9hZGp1c3RWYWx1ZShudWxsLCB2YWx1ZSk7XG4gICAgICAvL2Jvb2xlYW4gZmxhZyBmb3IgdGhlIHNldEhhbmRsZVBvcyBmbiwgc3BlY2lmaWNhbGx5IGZvciB2ZXJ0aWNhbCBzbGlkZXJzXG4gICAgICBoYXNWYWwgPSBmYWxzZTtcblxuICAgICAgaWYgKCEkaGFuZGxlKSB7Ly9maWd1cmUgb3V0IHdoaWNoIGhhbmRsZSBpdCBpcywgcGFzcyBpdCB0byB0aGUgbmV4dCBmdW5jdGlvbi5cbiAgICAgICAgdmFyIGZpcnN0SG5kbFBvcyA9IGFic1Bvc2l0aW9uKHRoaXMuJGhhbmRsZSwgZGlyZWN0aW9uLCBiYXJYWSwgcGFyYW0pLFxuICAgICAgICAgICAgc2VjbmRIbmRsUG9zID0gYWJzUG9zaXRpb24odGhpcy4kaGFuZGxlMiwgZGlyZWN0aW9uLCBiYXJYWSwgcGFyYW0pO1xuICAgICAgICAgICAgJGhhbmRsZSA9IGZpcnN0SG5kbFBvcyA8PSBzZWNuZEhuZGxQb3MgPyB0aGlzLiRoYW5kbGUgOiB0aGlzLiRoYW5kbGUyO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHsvL2NoYW5nZSBldmVudCBvbiBpbnB1dFxuICAgICAgdmFsdWUgPSB0aGlzLl9hZGp1c3RWYWx1ZShudWxsLCB2YWwpO1xuICAgICAgaGFzVmFsID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRIYW5kbGVQb3MoJGhhbmRsZSwgdmFsdWUsIGhhc1ZhbCk7XG4gIH1cblxuICAvKipcbiAgICogQWRqdXN0ZXMgdmFsdWUgZm9yIGhhbmRsZSBpbiByZWdhcmQgdG8gc3RlcCB2YWx1ZS4gcmV0dXJucyBhZGp1c3RlZCB2YWx1ZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtqUXVlcnl9ICRoYW5kbGUgLSB0aGUgc2VsZWN0ZWQgaGFuZGxlLlxuICAgKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgLSB2YWx1ZSB0byBhZGp1c3QuIHVzZWQgaWYgJGhhbmRsZSBpcyBmYWxzeVxuICAgKi9cbiAgX2FkanVzdFZhbHVlKCRoYW5kbGUsIHZhbHVlKSB7XG4gICAgdmFyIHZhbCxcbiAgICAgIHN0ZXAgPSB0aGlzLm9wdGlvbnMuc3RlcCxcbiAgICAgIGRpdiA9IHBhcnNlRmxvYXQoc3RlcC8yKSxcbiAgICAgIGxlZnQsIHByZXZfdmFsLCBuZXh0X3ZhbDtcbiAgICBpZiAoISEkaGFuZGxlKSB7XG4gICAgICB2YWwgPSBwYXJzZUZsb2F0KCRoYW5kbGUuYXR0cignYXJpYS12YWx1ZW5vdycpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB2YWwgPSB2YWx1ZTtcbiAgICB9XG4gICAgbGVmdCA9IHZhbCAlIHN0ZXA7XG4gICAgcHJldl92YWwgPSB2YWwgLSBsZWZ0O1xuICAgIG5leHRfdmFsID0gcHJldl92YWwgKyBzdGVwO1xuICAgIGlmIChsZWZ0ID09PSAwKSB7XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICB2YWwgPSB2YWwgPj0gcHJldl92YWwgKyBkaXYgPyBuZXh0X3ZhbCA6IHByZXZfdmFsO1xuICAgIHJldHVybiB2YWw7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBldmVudCBsaXN0ZW5lcnMgdG8gdGhlIHNsaWRlciBlbGVtZW50cy5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZXZlbnRzKCkge1xuICAgIHRoaXMuX2V2ZW50c0ZvckhhbmRsZSh0aGlzLiRoYW5kbGUpO1xuICAgIGlmKHRoaXMuaGFuZGxlc1sxXSkge1xuICAgICAgdGhpcy5fZXZlbnRzRm9ySGFuZGxlKHRoaXMuJGhhbmRsZTIpO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIEFkZHMgZXZlbnQgbGlzdGVuZXJzIGEgcGFydGljdWxhciBoYW5kbGVcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkaGFuZGxlIC0gdGhlIGN1cnJlbnQgaGFuZGxlIHRvIGFwcGx5IGxpc3RlbmVycyB0by5cbiAgICovXG4gIF9ldmVudHNGb3JIYW5kbGUoJGhhbmRsZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXMsXG4gICAgICAgIGN1ckhhbmRsZSxcbiAgICAgICAgdGltZXI7XG5cbiAgICAgIHRoaXMuaW5wdXRzLm9mZignY2hhbmdlLnpmLnNsaWRlcicpLm9uKCdjaGFuZ2UuemYuc2xpZGVyJywgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgaWR4ID0gX3RoaXMuaW5wdXRzLmluZGV4KCQodGhpcykpO1xuICAgICAgICBfdGhpcy5faGFuZGxlRXZlbnQoZSwgX3RoaXMuaGFuZGxlcy5lcShpZHgpLCAkKHRoaXMpLnZhbCgpKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmNsaWNrU2VsZWN0KSB7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQub2ZmKCdjbGljay56Zi5zbGlkZXInKS5vbignY2xpY2suemYuc2xpZGVyJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIGlmIChfdGhpcy4kZWxlbWVudC5kYXRhKCdkcmFnZ2luZycpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgICAgaWYgKCEkKGUudGFyZ2V0KS5pcygnW2RhdGEtc2xpZGVyLWhhbmRsZV0nKSkge1xuICAgICAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMuZG91YmxlU2lkZWQpIHtcbiAgICAgICAgICAgICAgX3RoaXMuX2hhbmRsZUV2ZW50KGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgX3RoaXMuX2hhbmRsZUV2ZW50KGUsIF90aGlzLiRoYW5kbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmRyYWdnYWJsZSkge1xuICAgICAgdGhpcy5oYW5kbGVzLmFkZFRvdWNoKCk7XG5cbiAgICAgIHZhciAkYm9keSA9ICQoJ2JvZHknKTtcbiAgICAgICRoYW5kbGVcbiAgICAgICAgLm9mZignbW91c2Vkb3duLnpmLnNsaWRlcicpXG4gICAgICAgIC5vbignbW91c2Vkb3duLnpmLnNsaWRlcicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAkaGFuZGxlLmFkZENsYXNzKCdpcy1kcmFnZ2luZycpO1xuICAgICAgICAgIF90aGlzLiRmaWxsLmFkZENsYXNzKCdpcy1kcmFnZ2luZycpOy8vXG4gICAgICAgICAgX3RoaXMuJGVsZW1lbnQuZGF0YSgnZHJhZ2dpbmcnLCB0cnVlKTtcblxuICAgICAgICAgIGN1ckhhbmRsZSA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblxuICAgICAgICAgICRib2R5Lm9uKCdtb3VzZW1vdmUuemYuc2xpZGVyJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgX3RoaXMuX2hhbmRsZUV2ZW50KGUsIGN1ckhhbmRsZSk7XG5cbiAgICAgICAgICB9KS5vbignbW91c2V1cC56Zi5zbGlkZXInLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBfdGhpcy5faGFuZGxlRXZlbnQoZSwgY3VySGFuZGxlKTtcblxuICAgICAgICAgICAgJGhhbmRsZS5yZW1vdmVDbGFzcygnaXMtZHJhZ2dpbmcnKTtcbiAgICAgICAgICAgIF90aGlzLiRmaWxsLnJlbW92ZUNsYXNzKCdpcy1kcmFnZ2luZycpO1xuICAgICAgICAgICAgX3RoaXMuJGVsZW1lbnQuZGF0YSgnZHJhZ2dpbmcnLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICRib2R5Lm9mZignbW91c2Vtb3ZlLnpmLnNsaWRlciBtb3VzZXVwLnpmLnNsaWRlcicpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC8vIHByZXZlbnQgZXZlbnRzIHRyaWdnZXJlZCBieSB0b3VjaFxuICAgICAgLm9uKCdzZWxlY3RzdGFydC56Zi5zbGlkZXIgdG91Y2htb3ZlLnpmLnNsaWRlcicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgJGhhbmRsZS5vZmYoJ2tleWRvd24uemYuc2xpZGVyJykub24oJ2tleWRvd24uemYuc2xpZGVyJywgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIF8kaGFuZGxlID0gJCh0aGlzKSxcbiAgICAgICAgICBpZHggPSBfdGhpcy5vcHRpb25zLmRvdWJsZVNpZGVkID8gX3RoaXMuaGFuZGxlcy5pbmRleChfJGhhbmRsZSkgOiAwLFxuICAgICAgICAgIG9sZFZhbHVlID0gcGFyc2VGbG9hdChfdGhpcy5pbnB1dHMuZXEoaWR4KS52YWwoKSksXG4gICAgICAgICAgbmV3VmFsdWU7XG5cbiAgICAgIC8vIGhhbmRsZSBrZXlib2FyZCBldmVudCB3aXRoIGtleWJvYXJkIHV0aWxcbiAgICAgIEZvdW5kYXRpb24uS2V5Ym9hcmQuaGFuZGxlS2V5KGUsICdTbGlkZXInLCB7XG4gICAgICAgIGRlY3JlYXNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IG9sZFZhbHVlIC0gX3RoaXMub3B0aW9ucy5zdGVwO1xuICAgICAgICB9LFxuICAgICAgICBpbmNyZWFzZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBvbGRWYWx1ZSArIF90aGlzLm9wdGlvbnMuc3RlcDtcbiAgICAgICAgfSxcbiAgICAgICAgZGVjcmVhc2VfZmFzdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBvbGRWYWx1ZSAtIF90aGlzLm9wdGlvbnMuc3RlcCAqIDEwO1xuICAgICAgICB9LFxuICAgICAgICBpbmNyZWFzZV9mYXN0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IG9sZFZhbHVlICsgX3RoaXMub3B0aW9ucy5zdGVwICogMTA7XG4gICAgICAgIH0sXG4gICAgICAgIGhhbmRsZWQ6IGZ1bmN0aW9uKCkgeyAvLyBvbmx5IHNldCBoYW5kbGUgcG9zIHdoZW4gZXZlbnQgd2FzIGhhbmRsZWQgc3BlY2lhbGx5XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIF90aGlzLl9zZXRIYW5kbGVQb3MoXyRoYW5kbGUsIG5ld1ZhbHVlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvKmlmIChuZXdWYWx1ZSkgeyAvLyBpZiBwcmVzc2VkIGtleSBoYXMgc3BlY2lhbCBmdW5jdGlvbiwgdXBkYXRlIHZhbHVlXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgX3RoaXMuX3NldEhhbmRsZVBvcyhfJGhhbmRsZSwgbmV3VmFsdWUpO1xuICAgICAgfSovXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveXMgdGhlIHNsaWRlciBwbHVnaW4uXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuaGFuZGxlcy5vZmYoJy56Zi5zbGlkZXInKTtcbiAgICB0aGlzLmlucHV0cy5vZmYoJy56Zi5zbGlkZXInKTtcbiAgICB0aGlzLiRlbGVtZW50Lm9mZignLnpmLnNsaWRlcicpO1xuXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG5cbiAgICBGb3VuZGF0aW9uLnVucmVnaXN0ZXJQbHVnaW4odGhpcyk7XG4gIH1cbn1cblxuU2xpZGVyLmRlZmF1bHRzID0ge1xuICAvKipcbiAgICogTWluaW11bSB2YWx1ZSBmb3IgdGhlIHNsaWRlciBzY2FsZS5cbiAgICogQG9wdGlvblxuICAgKiBAZXhhbXBsZSAwXG4gICAqL1xuICBzdGFydDogMCxcbiAgLyoqXG4gICAqIE1heGltdW0gdmFsdWUgZm9yIHRoZSBzbGlkZXIgc2NhbGUuXG4gICAqIEBvcHRpb25cbiAgICogQGV4YW1wbGUgMTAwXG4gICAqL1xuICBlbmQ6IDEwMCxcbiAgLyoqXG4gICAqIE1pbmltdW0gdmFsdWUgY2hhbmdlIHBlciBjaGFuZ2UgZXZlbnQuXG4gICAqIEBvcHRpb25cbiAgICogQGV4YW1wbGUgMVxuICAgKi9cbiAgc3RlcDogMSxcbiAgLyoqXG4gICAqIFZhbHVlIGF0IHdoaWNoIHRoZSBoYW5kbGUvaW5wdXQgKihsZWZ0IGhhbmRsZS9maXJzdCBpbnB1dCkqIHNob3VsZCBiZSBzZXQgdG8gb24gaW5pdGlhbGl6YXRpb24uXG4gICAqIEBvcHRpb25cbiAgICogQGV4YW1wbGUgMFxuICAgKi9cbiAgaW5pdGlhbFN0YXJ0OiAwLFxuICAvKipcbiAgICogVmFsdWUgYXQgd2hpY2ggdGhlIHJpZ2h0IGhhbmRsZS9zZWNvbmQgaW5wdXQgc2hvdWxkIGJlIHNldCB0byBvbiBpbml0aWFsaXphdGlvbi5cbiAgICogQG9wdGlvblxuICAgKiBAZXhhbXBsZSAxMDBcbiAgICovXG4gIGluaXRpYWxFbmQ6IDEwMCxcbiAgLyoqXG4gICAqIEFsbG93cyB0aGUgaW5wdXQgdG8gYmUgbG9jYXRlZCBvdXRzaWRlIHRoZSBjb250YWluZXIgYW5kIHZpc2libGUuIFNldCB0byBieSB0aGUgSlNcbiAgICogQG9wdGlvblxuICAgKiBAZXhhbXBsZSBmYWxzZVxuICAgKi9cbiAgYmluZGluZzogZmFsc2UsXG4gIC8qKlxuICAgKiBBbGxvd3MgdGhlIHVzZXIgdG8gY2xpY2svdGFwIG9uIHRoZSBzbGlkZXIgYmFyIHRvIHNlbGVjdCBhIHZhbHVlLlxuICAgKiBAb3B0aW9uXG4gICAqIEBleGFtcGxlIHRydWVcbiAgICovXG4gIGNsaWNrU2VsZWN0OiB0cnVlLFxuICAvKipcbiAgICogU2V0IHRvIHRydWUgYW5kIHVzZSB0aGUgYHZlcnRpY2FsYCBjbGFzcyB0byBjaGFuZ2UgYWxpZ25tZW50IHRvIHZlcnRpY2FsLlxuICAgKiBAb3B0aW9uXG4gICAqIEBleGFtcGxlIGZhbHNlXG4gICAqL1xuICB2ZXJ0aWNhbDogZmFsc2UsXG4gIC8qKlxuICAgKiBBbGxvd3MgdGhlIHVzZXIgdG8gZHJhZyB0aGUgc2xpZGVyIGhhbmRsZShzKSB0byBzZWxlY3QgYSB2YWx1ZS5cbiAgICogQG9wdGlvblxuICAgKiBAZXhhbXBsZSB0cnVlXG4gICAqL1xuICBkcmFnZ2FibGU6IHRydWUsXG4gIC8qKlxuICAgKiBEaXNhYmxlcyB0aGUgc2xpZGVyIGFuZCBwcmV2ZW50cyBldmVudCBsaXN0ZW5lcnMgZnJvbSBiZWluZyBhcHBsaWVkLiBEb3VibGUgY2hlY2tlZCBieSBKUyB3aXRoIGBkaXNhYmxlZENsYXNzYC5cbiAgICogQG9wdGlvblxuICAgKiBAZXhhbXBsZSBmYWxzZVxuICAgKi9cbiAgZGlzYWJsZWQ6IGZhbHNlLFxuICAvKipcbiAgICogQWxsb3dzIHRoZSB1c2Ugb2YgdHdvIGhhbmRsZXMuIERvdWJsZSBjaGVja2VkIGJ5IHRoZSBKUy4gQ2hhbmdlcyBzb21lIGxvZ2ljIGhhbmRsaW5nLlxuICAgKiBAb3B0aW9uXG4gICAqIEBleGFtcGxlIGZhbHNlXG4gICAqL1xuICBkb3VibGVTaWRlZDogZmFsc2UsXG4gIC8qKlxuICAgKiBQb3RlbnRpYWwgZnV0dXJlIGZlYXR1cmUuXG4gICAqL1xuICAvLyBzdGVwczogMTAwLFxuICAvKipcbiAgICogTnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIHRoZSBwbHVnaW4gc2hvdWxkIGdvIHRvIGZvciBmbG9hdGluZyBwb2ludCBwcmVjaXNpb24uXG4gICAqIEBvcHRpb25cbiAgICogQGV4YW1wbGUgMlxuICAgKi9cbiAgZGVjaW1hbDogMixcbiAgLyoqXG4gICAqIFRpbWUgZGVsYXkgZm9yIGRyYWdnZWQgZWxlbWVudHMuXG4gICAqL1xuICAvLyBkcmFnRGVsYXk6IDAsXG4gIC8qKlxuICAgKiBUaW1lLCBpbiBtcywgdG8gYW5pbWF0ZSB0aGUgbW92ZW1lbnQgb2YgYSBzbGlkZXIgaGFuZGxlIGlmIHVzZXIgY2xpY2tzL3RhcHMgb24gdGhlIGJhci4gTmVlZHMgdG8gYmUgbWFudWFsbHkgc2V0IGlmIHVwZGF0aW5nIHRoZSB0cmFuc2l0aW9uIHRpbWUgaW4gdGhlIFNhc3Mgc2V0dGluZ3MuXG4gICAqIEBvcHRpb25cbiAgICogQGV4YW1wbGUgMjAwXG4gICAqL1xuICBtb3ZlVGltZTogMjAwLC8vdXBkYXRlIHRoaXMgaWYgY2hhbmdpbmcgdGhlIHRyYW5zaXRpb24gdGltZSBpbiB0aGUgc2Fzc1xuICAvKipcbiAgICogQ2xhc3MgYXBwbGllZCB0byBkaXNhYmxlZCBzbGlkZXJzLlxuICAgKiBAb3B0aW9uXG4gICAqIEBleGFtcGxlICdkaXNhYmxlZCdcbiAgICovXG4gIGRpc2FibGVkQ2xhc3M6ICdkaXNhYmxlZCcsXG4gIC8qKlxuICAgKiBXaWxsIGludmVydCB0aGUgZGVmYXVsdCBsYXlvdXQgZm9yIGEgdmVydGljYWw8c3BhbiBkYXRhLXRvb2x0aXAgdGl0bGU9XCJ3aG8gd291bGQgZG8gdGhpcz8/P1wiPiA8L3NwYW4+c2xpZGVyLlxuICAgKiBAb3B0aW9uXG4gICAqIEBleGFtcGxlIGZhbHNlXG4gICAqL1xuICBpbnZlcnRWZXJ0aWNhbDogZmFsc2UsXG4gIC8qKlxuICAgKiBNaWxsaXNlY29uZHMgYmVmb3JlIHRoZSBgY2hhbmdlZC56Zi1zbGlkZXJgIGV2ZW50IGlzIHRyaWdnZXJlZCBhZnRlciB2YWx1ZSBjaGFuZ2UuXG4gICAqIEBvcHRpb25cbiAgICogQGV4YW1wbGUgNTAwXG4gICAqL1xuICBjaGFuZ2VkRGVsYXk6IDUwMCxcbiAgLyoqXG4gICogQmFzZXZhbHVlIGZvciBub24tbGluZWFyIHNsaWRlcnNcbiAgKiBAb3B0aW9uXG4gICogQGV4YW1wbGUgNVxuICAqL1xuICBub25MaW5lYXJCYXNlOiA1LFxuICAvKipcbiAgKiBCYXNldmFsdWUgZm9yIG5vbi1saW5lYXIgc2xpZGVycywgcG9zc2libGUgdmFsdWVzIGFyZTogJ2xpbmVhcicsICdwb3cnICYgJ2xvZycuIFBvdyBhbmQgTG9nIHVzZSB0aGUgbm9uTGluZWFyQmFzZSBzZXR0aW5nLlxuICAqIEBvcHRpb25cbiAgKiBAZXhhbXBsZSAnbGluZWFyJ1xuICAqL1xuICBwb3NpdGlvblZhbHVlRnVuY3Rpb246ICdsaW5lYXInLFxufTtcblxuZnVuY3Rpb24gcGVyY2VudChmcmFjLCBudW0pIHtcbiAgcmV0dXJuIChmcmFjIC8gbnVtKTtcbn1cbmZ1bmN0aW9uIGFic1Bvc2l0aW9uKCRoYW5kbGUsIGRpciwgY2xpY2tQb3MsIHBhcmFtKSB7XG4gIHJldHVybiBNYXRoLmFicygoJGhhbmRsZS5wb3NpdGlvbigpW2Rpcl0gKyAoJGhhbmRsZVtwYXJhbV0oKSAvIDIpKSAtIGNsaWNrUG9zKTtcbn1cbmZ1bmN0aW9uIGJhc2VMb2coYmFzZSwgdmFsdWUpIHtcbiAgcmV0dXJuIE1hdGgubG9nKHZhbHVlKS9NYXRoLmxvZyhiYXNlKVxufVxuXG4vLyBXaW5kb3cgZXhwb3J0c1xuRm91bmRhdGlvbi5wbHVnaW4oU2xpZGVyLCAnU2xpZGVyJyk7XG5cbn0oalF1ZXJ5KTtcblxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gKiBUaGlzIHV0aWwgd2FzIGNyZWF0ZWQgYnkgTWFyaXVzIE9sYmVydHogKlxuICogUGxlYXNlIHRoYW5rIE1hcml1cyBvbiBHaXRIdWIgL293bGJlcnR6ICpcbiAqIG9yIHRoZSB3ZWIgaHR0cDovL3d3dy5tYXJpdXNvbGJlcnR6LmRlLyAqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4hZnVuY3Rpb24oJCkge1xuXG5jb25zdCBrZXlDb2RlcyA9IHtcbiAgOTogJ1RBQicsXG4gIDEzOiAnRU5URVInLFxuICAyNzogJ0VTQ0FQRScsXG4gIDMyOiAnU1BBQ0UnLFxuICAzNzogJ0FSUk9XX0xFRlQnLFxuICAzODogJ0FSUk9XX1VQJyxcbiAgMzk6ICdBUlJPV19SSUdIVCcsXG4gIDQwOiAnQVJST1dfRE9XTidcbn1cblxudmFyIGNvbW1hbmRzID0ge31cblxudmFyIEtleWJvYXJkID0ge1xuICBrZXlzOiBnZXRLZXlDb2RlcyhrZXlDb2RlcyksXG5cbiAgLyoqXG4gICAqIFBhcnNlcyB0aGUgKGtleWJvYXJkKSBldmVudCBhbmQgcmV0dXJucyBhIFN0cmluZyB0aGF0IHJlcHJlc2VudHMgaXRzIGtleVxuICAgKiBDYW4gYmUgdXNlZCBsaWtlIEZvdW5kYXRpb24ucGFyc2VLZXkoZXZlbnQpID09PSBGb3VuZGF0aW9uLmtleXMuU1BBQ0VcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSB0aGUgZXZlbnQgZ2VuZXJhdGVkIGJ5IHRoZSBldmVudCBoYW5kbGVyXG4gICAqIEByZXR1cm4gU3RyaW5nIGtleSAtIFN0cmluZyB0aGF0IHJlcHJlc2VudHMgdGhlIGtleSBwcmVzc2VkXG4gICAqL1xuICBwYXJzZUtleShldmVudCkge1xuICAgIHZhciBrZXkgPSBrZXlDb2Rlc1tldmVudC53aGljaCB8fCBldmVudC5rZXlDb2RlXSB8fCBTdHJpbmcuZnJvbUNoYXJDb2RlKGV2ZW50LndoaWNoKS50b1VwcGVyQ2FzZSgpO1xuXG4gICAgLy8gUmVtb3ZlIHVuLXByaW50YWJsZSBjaGFyYWN0ZXJzLCBlLmcuIGZvciBgZnJvbUNoYXJDb2RlYCBjYWxscyBmb3IgQ1RSTCBvbmx5IGV2ZW50c1xuICAgIGtleSA9IGtleS5yZXBsYWNlKC9cXFcrLywgJycpO1xuXG4gICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSBrZXkgPSBgU0hJRlRfJHtrZXl9YDtcbiAgICBpZiAoZXZlbnQuY3RybEtleSkga2V5ID0gYENUUkxfJHtrZXl9YDtcbiAgICBpZiAoZXZlbnQuYWx0S2V5KSBrZXkgPSBgQUxUXyR7a2V5fWA7XG5cbiAgICAvLyBSZW1vdmUgdHJhaWxpbmcgdW5kZXJzY29yZSwgaW4gY2FzZSBvbmx5IG1vZGlmaWVycyB3ZXJlIHVzZWQgKGUuZy4gb25seSBgQ1RSTF9BTFRgKVxuICAgIGtleSA9IGtleS5yZXBsYWNlKC9fJC8sICcnKTtcblxuICAgIHJldHVybiBrZXk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIGdpdmVuIChrZXlib2FyZCkgZXZlbnRcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSB0aGUgZXZlbnQgZ2VuZXJhdGVkIGJ5IHRoZSBldmVudCBoYW5kbGVyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjb21wb25lbnQgLSBGb3VuZGF0aW9uIGNvbXBvbmVudCdzIG5hbWUsIGUuZy4gU2xpZGVyIG9yIFJldmVhbFxuICAgKiBAcGFyYW0ge09iamVjdHN9IGZ1bmN0aW9ucyAtIGNvbGxlY3Rpb24gb2YgZnVuY3Rpb25zIHRoYXQgYXJlIHRvIGJlIGV4ZWN1dGVkXG4gICAqL1xuICBoYW5kbGVLZXkoZXZlbnQsIGNvbXBvbmVudCwgZnVuY3Rpb25zKSB7XG4gICAgdmFyIGNvbW1hbmRMaXN0ID0gY29tbWFuZHNbY29tcG9uZW50XSxcbiAgICAgIGtleUNvZGUgPSB0aGlzLnBhcnNlS2V5KGV2ZW50KSxcbiAgICAgIGNtZHMsXG4gICAgICBjb21tYW5kLFxuICAgICAgZm47XG5cbiAgICBpZiAoIWNvbW1hbmRMaXN0KSByZXR1cm4gY29uc29sZS53YXJuKCdDb21wb25lbnQgbm90IGRlZmluZWQhJyk7XG5cbiAgICBpZiAodHlwZW9mIGNvbW1hbmRMaXN0Lmx0ciA9PT0gJ3VuZGVmaW5lZCcpIHsgLy8gdGhpcyBjb21wb25lbnQgZG9lcyBub3QgZGlmZmVyZW50aWF0ZSBiZXR3ZWVuIGx0ciBhbmQgcnRsXG4gICAgICAgIGNtZHMgPSBjb21tYW5kTGlzdDsgLy8gdXNlIHBsYWluIGxpc3RcbiAgICB9IGVsc2UgeyAvLyBtZXJnZSBsdHIgYW5kIHJ0bDogaWYgZG9jdW1lbnQgaXMgcnRsLCBydGwgb3ZlcndyaXRlcyBsdHIgYW5kIHZpY2UgdmVyc2FcbiAgICAgICAgaWYgKEZvdW5kYXRpb24ucnRsKCkpIGNtZHMgPSAkLmV4dGVuZCh7fSwgY29tbWFuZExpc3QubHRyLCBjb21tYW5kTGlzdC5ydGwpO1xuXG4gICAgICAgIGVsc2UgY21kcyA9ICQuZXh0ZW5kKHt9LCBjb21tYW5kTGlzdC5ydGwsIGNvbW1hbmRMaXN0Lmx0cik7XG4gICAgfVxuICAgIGNvbW1hbmQgPSBjbWRzW2tleUNvZGVdO1xuXG4gICAgZm4gPSBmdW5jdGlvbnNbY29tbWFuZF07XG4gICAgaWYgKGZuICYmIHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykgeyAvLyBleGVjdXRlIGZ1bmN0aW9uICBpZiBleGlzdHNcbiAgICAgIHZhciByZXR1cm5WYWx1ZSA9IGZuLmFwcGx5KCk7XG4gICAgICBpZiAoZnVuY3Rpb25zLmhhbmRsZWQgfHwgdHlwZW9mIGZ1bmN0aW9ucy5oYW5kbGVkID09PSAnZnVuY3Rpb24nKSB7IC8vIGV4ZWN1dGUgZnVuY3Rpb24gd2hlbiBldmVudCB3YXMgaGFuZGxlZFxuICAgICAgICAgIGZ1bmN0aW9ucy5oYW5kbGVkKHJldHVyblZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGZ1bmN0aW9ucy51bmhhbmRsZWQgfHwgdHlwZW9mIGZ1bmN0aW9ucy51bmhhbmRsZWQgPT09ICdmdW5jdGlvbicpIHsgLy8gZXhlY3V0ZSBmdW5jdGlvbiB3aGVuIGV2ZW50IHdhcyBub3QgaGFuZGxlZFxuICAgICAgICAgIGZ1bmN0aW9ucy51bmhhbmRsZWQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEZpbmRzIGFsbCBmb2N1c2FibGUgZWxlbWVudHMgd2l0aGluIHRoZSBnaXZlbiBgJGVsZW1lbnRgXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkZWxlbWVudCAtIGpRdWVyeSBvYmplY3QgdG8gc2VhcmNoIHdpdGhpblxuICAgKiBAcmV0dXJuIHtqUXVlcnl9ICRmb2N1c2FibGUgLSBhbGwgZm9jdXNhYmxlIGVsZW1lbnRzIHdpdGhpbiBgJGVsZW1lbnRgXG4gICAqL1xuICBmaW5kRm9jdXNhYmxlKCRlbGVtZW50KSB7XG4gICAgaWYoISRlbGVtZW50KSB7cmV0dXJuIGZhbHNlOyB9XG4gICAgcmV0dXJuICRlbGVtZW50LmZpbmQoJ2FbaHJlZl0sIGFyZWFbaHJlZl0sIGlucHV0Om5vdChbZGlzYWJsZWRdKSwgc2VsZWN0Om5vdChbZGlzYWJsZWRdKSwgdGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pLCBidXR0b246bm90KFtkaXNhYmxlZF0pLCBpZnJhbWUsIG9iamVjdCwgZW1iZWQsICpbdGFiaW5kZXhdLCAqW2NvbnRlbnRlZGl0YWJsZV0nKS5maWx0ZXIoZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoISQodGhpcykuaXMoJzp2aXNpYmxlJykgfHwgJCh0aGlzKS5hdHRyKCd0YWJpbmRleCcpIDwgMCkgeyByZXR1cm4gZmFsc2U7IH0gLy9vbmx5IGhhdmUgdmlzaWJsZSBlbGVtZW50cyBhbmQgdGhvc2UgdGhhdCBoYXZlIGEgdGFiaW5kZXggZ3JlYXRlciBvciBlcXVhbCAwXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY29tcG9uZW50IG5hbWUgbmFtZVxuICAgKiBAcGFyYW0ge09iamVjdH0gY29tcG9uZW50IC0gRm91bmRhdGlvbiBjb21wb25lbnQsIGUuZy4gU2xpZGVyIG9yIFJldmVhbFxuICAgKiBAcmV0dXJuIFN0cmluZyBjb21wb25lbnROYW1lXG4gICAqL1xuXG4gIHJlZ2lzdGVyKGNvbXBvbmVudE5hbWUsIGNtZHMpIHtcbiAgICBjb21tYW5kc1tjb21wb25lbnROYW1lXSA9IGNtZHM7XG4gIH0sICBcblxuICAvKipcbiAgICogVHJhcHMgdGhlIGZvY3VzIGluIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgKiBAcGFyYW0gIHtqUXVlcnl9ICRlbGVtZW50ICBqUXVlcnkgb2JqZWN0IHRvIHRyYXAgdGhlIGZvdWNzIGludG8uXG4gICAqL1xuICB0cmFwRm9jdXMoJGVsZW1lbnQpIHtcbiAgICB2YXIgJGZvY3VzYWJsZSA9IEZvdW5kYXRpb24uS2V5Ym9hcmQuZmluZEZvY3VzYWJsZSgkZWxlbWVudCksXG4gICAgICAgICRmaXJzdEZvY3VzYWJsZSA9ICRmb2N1c2FibGUuZXEoMCksXG4gICAgICAgICRsYXN0Rm9jdXNhYmxlID0gJGZvY3VzYWJsZS5lcSgtMSk7XG5cbiAgICAkZWxlbWVudC5vbigna2V5ZG93bi56Zi50cmFwZm9jdXMnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gJGxhc3RGb2N1c2FibGVbMF0gJiYgRm91bmRhdGlvbi5LZXlib2FyZC5wYXJzZUtleShldmVudCkgPT09ICdUQUInKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICRmaXJzdEZvY3VzYWJsZS5mb2N1cygpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoZXZlbnQudGFyZ2V0ID09PSAkZmlyc3RGb2N1c2FibGVbMF0gJiYgRm91bmRhdGlvbi5LZXlib2FyZC5wYXJzZUtleShldmVudCkgPT09ICdTSElGVF9UQUInKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICRsYXN0Rm9jdXNhYmxlLmZvY3VzKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIC8qKlxuICAgKiBSZWxlYXNlcyB0aGUgdHJhcHBlZCBmb2N1cyBmcm9tIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgKiBAcGFyYW0gIHtqUXVlcnl9ICRlbGVtZW50ICBqUXVlcnkgb2JqZWN0IHRvIHJlbGVhc2UgdGhlIGZvY3VzIGZvci5cbiAgICovXG4gIHJlbGVhc2VGb2N1cygkZWxlbWVudCkge1xuICAgICRlbGVtZW50Lm9mZigna2V5ZG93bi56Zi50cmFwZm9jdXMnKTtcbiAgfVxufVxuXG4vKlxuICogQ29uc3RhbnRzIGZvciBlYXNpZXIgY29tcGFyaW5nLlxuICogQ2FuIGJlIHVzZWQgbGlrZSBGb3VuZGF0aW9uLnBhcnNlS2V5KGV2ZW50KSA9PT0gRm91bmRhdGlvbi5rZXlzLlNQQUNFXG4gKi9cbmZ1bmN0aW9uIGdldEtleUNvZGVzKGtjcykge1xuICB2YXIgayA9IHt9O1xuICBmb3IgKHZhciBrYyBpbiBrY3MpIGtba2NzW2tjXV0gPSBrY3Nba2NdO1xuICByZXR1cm4gaztcbn1cblxuRm91bmRhdGlvbi5LZXlib2FyZCA9IEtleWJvYXJkO1xuXG59KGpRdWVyeSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbiFmdW5jdGlvbigkKSB7XG5cbi8vIERlZmF1bHQgc2V0IG9mIG1lZGlhIHF1ZXJpZXNcbmNvbnN0IGRlZmF1bHRRdWVyaWVzID0ge1xuICAnZGVmYXVsdCcgOiAnb25seSBzY3JlZW4nLFxuICBsYW5kc2NhcGUgOiAnb25seSBzY3JlZW4gYW5kIChvcmllbnRhdGlvbjogbGFuZHNjYXBlKScsXG4gIHBvcnRyYWl0IDogJ29ubHkgc2NyZWVuIGFuZCAob3JpZW50YXRpb246IHBvcnRyYWl0KScsXG4gIHJldGluYSA6ICdvbmx5IHNjcmVlbiBhbmQgKC13ZWJraXQtbWluLWRldmljZS1waXhlbC1yYXRpbzogMiksJyArXG4gICAgJ29ubHkgc2NyZWVuIGFuZCAobWluLS1tb3otZGV2aWNlLXBpeGVsLXJhdGlvOiAyKSwnICtcbiAgICAnb25seSBzY3JlZW4gYW5kICgtby1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAyLzEpLCcgK1xuICAgICdvbmx5IHNjcmVlbiBhbmQgKG1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86IDIpLCcgK1xuICAgICdvbmx5IHNjcmVlbiBhbmQgKG1pbi1yZXNvbHV0aW9uOiAxOTJkcGkpLCcgK1xuICAgICdvbmx5IHNjcmVlbiBhbmQgKG1pbi1yZXNvbHV0aW9uOiAyZHBweCknXG59O1xuXG52YXIgTWVkaWFRdWVyeSA9IHtcbiAgcXVlcmllczogW10sXG5cbiAgY3VycmVudDogJycsXG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBtZWRpYSBxdWVyeSBoZWxwZXIsIGJ5IGV4dHJhY3RpbmcgdGhlIGJyZWFrcG9pbnQgbGlzdCBmcm9tIHRoZSBDU1MgYW5kIGFjdGl2YXRpbmcgdGhlIGJyZWFrcG9pbnQgd2F0Y2hlci5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaW5pdCgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGV4dHJhY3RlZFN0eWxlcyA9ICQoJy5mb3VuZGF0aW9uLW1xJykuY3NzKCdmb250LWZhbWlseScpO1xuICAgIHZhciBuYW1lZFF1ZXJpZXM7XG5cbiAgICBuYW1lZFF1ZXJpZXMgPSBwYXJzZVN0eWxlVG9PYmplY3QoZXh0cmFjdGVkU3R5bGVzKTtcblxuICAgIGZvciAodmFyIGtleSBpbiBuYW1lZFF1ZXJpZXMpIHtcbiAgICAgIGlmKG5hbWVkUXVlcmllcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIHNlbGYucXVlcmllcy5wdXNoKHtcbiAgICAgICAgICBuYW1lOiBrZXksXG4gICAgICAgICAgdmFsdWU6IGBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogJHtuYW1lZFF1ZXJpZXNba2V5XX0pYFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLl9nZXRDdXJyZW50U2l6ZSgpO1xuXG4gICAgdGhpcy5fd2F0Y2hlcigpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIHNjcmVlbiBpcyBhdCBsZWFzdCBhcyB3aWRlIGFzIGEgYnJlYWtwb2ludC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzaXplIC0gTmFtZSBvZiB0aGUgYnJlYWtwb2ludCB0byBjaGVjay5cbiAgICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgYnJlYWtwb2ludCBtYXRjaGVzLCBgZmFsc2VgIGlmIGl0J3Mgc21hbGxlci5cbiAgICovXG4gIGF0TGVhc3Qoc2l6ZSkge1xuICAgIHZhciBxdWVyeSA9IHRoaXMuZ2V0KHNpemUpO1xuXG4gICAgaWYgKHF1ZXJ5KSB7XG4gICAgICByZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEocXVlcnkpLm1hdGNoZXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIHNjcmVlbiBtYXRjaGVzIHRvIGEgYnJlYWtwb2ludC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzaXplIC0gTmFtZSBvZiB0aGUgYnJlYWtwb2ludCB0byBjaGVjaywgZWl0aGVyICdzbWFsbCBvbmx5JyBvciAnc21hbGwnLiBPbWl0dGluZyAnb25seScgZmFsbHMgYmFjayB0byB1c2luZyBhdExlYXN0KCkgbWV0aG9kLlxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBicmVha3BvaW50IG1hdGNoZXMsIGBmYWxzZWAgaWYgaXQgZG9lcyBub3QuXG4gICAqL1xuICBpcyhzaXplKSB7XG4gICAgc2l6ZSA9IHNpemUudHJpbSgpLnNwbGl0KCcgJyk7XG4gICAgaWYoc2l6ZS5sZW5ndGggPiAxICYmIHNpemVbMV0gPT09ICdvbmx5Jykge1xuICAgICAgaWYoc2l6ZVswXSA9PT0gdGhpcy5fZ2V0Q3VycmVudFNpemUoKSkgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmF0TGVhc3Qoc2l6ZVswXSk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgbWVkaWEgcXVlcnkgb2YgYSBicmVha3BvaW50LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtTdHJpbmd9IHNpemUgLSBOYW1lIG9mIHRoZSBicmVha3BvaW50IHRvIGdldC5cbiAgICogQHJldHVybnMge1N0cmluZ3xudWxsfSAtIFRoZSBtZWRpYSBxdWVyeSBvZiB0aGUgYnJlYWtwb2ludCwgb3IgYG51bGxgIGlmIHRoZSBicmVha3BvaW50IGRvZXNuJ3QgZXhpc3QuXG4gICAqL1xuICBnZXQoc2l6ZSkge1xuICAgIGZvciAodmFyIGkgaW4gdGhpcy5xdWVyaWVzKSB7XG4gICAgICBpZih0aGlzLnF1ZXJpZXMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgdmFyIHF1ZXJ5ID0gdGhpcy5xdWVyaWVzW2ldO1xuICAgICAgICBpZiAoc2l6ZSA9PT0gcXVlcnkubmFtZSkgcmV0dXJuIHF1ZXJ5LnZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjdXJyZW50IGJyZWFrcG9pbnQgbmFtZSBieSB0ZXN0aW5nIGV2ZXJ5IGJyZWFrcG9pbnQgYW5kIHJldHVybmluZyB0aGUgbGFzdCBvbmUgdG8gbWF0Y2ggKHRoZSBiaWdnZXN0IG9uZSkuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBOYW1lIG9mIHRoZSBjdXJyZW50IGJyZWFrcG9pbnQuXG4gICAqL1xuICBfZ2V0Q3VycmVudFNpemUoKSB7XG4gICAgdmFyIG1hdGNoZWQ7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucXVlcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHF1ZXJ5ID0gdGhpcy5xdWVyaWVzW2ldO1xuXG4gICAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEocXVlcnkudmFsdWUpLm1hdGNoZXMpIHtcbiAgICAgICAgbWF0Y2hlZCA9IHF1ZXJ5O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgbWF0Y2hlZCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBtYXRjaGVkLm5hbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBtYXRjaGVkO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQWN0aXZhdGVzIHRoZSBicmVha3BvaW50IHdhdGNoZXIsIHdoaWNoIGZpcmVzIGFuIGV2ZW50IG9uIHRoZSB3aW5kb3cgd2hlbmV2ZXIgdGhlIGJyZWFrcG9pbnQgY2hhbmdlcy5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfd2F0Y2hlcigpIHtcbiAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZS56Zi5tZWRpYXF1ZXJ5JywgKCkgPT4ge1xuICAgICAgdmFyIG5ld1NpemUgPSB0aGlzLl9nZXRDdXJyZW50U2l6ZSgpLCBjdXJyZW50U2l6ZSA9IHRoaXMuY3VycmVudDtcblxuICAgICAgaWYgKG5ld1NpemUgIT09IGN1cnJlbnRTaXplKSB7XG4gICAgICAgIC8vIENoYW5nZSB0aGUgY3VycmVudCBtZWRpYSBxdWVyeVxuICAgICAgICB0aGlzLmN1cnJlbnQgPSBuZXdTaXplO1xuXG4gICAgICAgIC8vIEJyb2FkY2FzdCB0aGUgbWVkaWEgcXVlcnkgY2hhbmdlIG9uIHRoZSB3aW5kb3dcbiAgICAgICAgJCh3aW5kb3cpLnRyaWdnZXIoJ2NoYW5nZWQuemYubWVkaWFxdWVyeScsIFtuZXdTaXplLCBjdXJyZW50U2l6ZV0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuXG5Gb3VuZGF0aW9uLk1lZGlhUXVlcnkgPSBNZWRpYVF1ZXJ5O1xuXG4vLyBtYXRjaE1lZGlhKCkgcG9seWZpbGwgLSBUZXN0IGEgQ1NTIG1lZGlhIHR5cGUvcXVlcnkgaW4gSlMuXG4vLyBBdXRob3JzICYgY29weXJpZ2h0IChjKSAyMDEyOiBTY290dCBKZWhsLCBQYXVsIElyaXNoLCBOaWNob2xhcyBaYWthcywgRGF2aWQgS25pZ2h0LiBEdWFsIE1JVC9CU0QgbGljZW5zZVxud2luZG93Lm1hdGNoTWVkaWEgfHwgKHdpbmRvdy5tYXRjaE1lZGlhID0gZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBGb3IgYnJvd3NlcnMgdGhhdCBzdXBwb3J0IG1hdGNoTWVkaXVtIGFwaSBzdWNoIGFzIElFIDkgYW5kIHdlYmtpdFxuICB2YXIgc3R5bGVNZWRpYSA9ICh3aW5kb3cuc3R5bGVNZWRpYSB8fCB3aW5kb3cubWVkaWEpO1xuXG4gIC8vIEZvciB0aG9zZSB0aGF0IGRvbid0IHN1cHBvcnQgbWF0Y2hNZWRpdW1cbiAgaWYgKCFzdHlsZU1lZGlhKSB7XG4gICAgdmFyIHN0eWxlICAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpLFxuICAgIHNjcmlwdCAgICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdLFxuICAgIGluZm8gICAgICAgID0gbnVsbDtcblxuICAgIHN0eWxlLnR5cGUgID0gJ3RleHQvY3NzJztcbiAgICBzdHlsZS5pZCAgICA9ICdtYXRjaG1lZGlhanMtdGVzdCc7XG5cbiAgICBzY3JpcHQgJiYgc2NyaXB0LnBhcmVudE5vZGUgJiYgc2NyaXB0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHN0eWxlLCBzY3JpcHQpO1xuXG4gICAgLy8gJ3N0eWxlLmN1cnJlbnRTdHlsZScgaXMgdXNlZCBieSBJRSA8PSA4IGFuZCAnd2luZG93LmdldENvbXB1dGVkU3R5bGUnIGZvciBhbGwgb3RoZXIgYnJvd3NlcnNcbiAgICBpbmZvID0gKCdnZXRDb21wdXRlZFN0eWxlJyBpbiB3aW5kb3cpICYmIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHN0eWxlLCBudWxsKSB8fCBzdHlsZS5jdXJyZW50U3R5bGU7XG5cbiAgICBzdHlsZU1lZGlhID0ge1xuICAgICAgbWF0Y2hNZWRpdW0obWVkaWEpIHtcbiAgICAgICAgdmFyIHRleHQgPSBgQG1lZGlhICR7bWVkaWF9eyAjbWF0Y2htZWRpYWpzLXRlc3QgeyB3aWR0aDogMXB4OyB9IH1gO1xuXG4gICAgICAgIC8vICdzdHlsZS5zdHlsZVNoZWV0JyBpcyB1c2VkIGJ5IElFIDw9IDggYW5kICdzdHlsZS50ZXh0Q29udGVudCcgZm9yIGFsbCBvdGhlciBicm93c2Vyc1xuICAgICAgICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgICAgICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHRleHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGVzdCBpZiBtZWRpYSBxdWVyeSBpcyB0cnVlIG9yIGZhbHNlXG4gICAgICAgIHJldHVybiBpbmZvLndpZHRoID09PSAnMXB4JztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24obWVkaWEpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0Y2hlczogc3R5bGVNZWRpYS5tYXRjaE1lZGl1bShtZWRpYSB8fCAnYWxsJyksXG4gICAgICBtZWRpYTogbWVkaWEgfHwgJ2FsbCdcbiAgICB9O1xuICB9XG59KCkpO1xuXG4vLyBUaGFuayB5b3U6IGh0dHBzOi8vZ2l0aHViLmNvbS9zaW5kcmVzb3JodXMvcXVlcnktc3RyaW5nXG5mdW5jdGlvbiBwYXJzZVN0eWxlVG9PYmplY3Qoc3RyKSB7XG4gIHZhciBzdHlsZU9iamVjdCA9IHt9O1xuXG4gIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBzdHlsZU9iamVjdDtcbiAgfVxuXG4gIHN0ciA9IHN0ci50cmltKCkuc2xpY2UoMSwgLTEpOyAvLyBicm93c2VycyByZS1xdW90ZSBzdHJpbmcgc3R5bGUgdmFsdWVzXG5cbiAgaWYgKCFzdHIpIHtcbiAgICByZXR1cm4gc3R5bGVPYmplY3Q7XG4gIH1cblxuICBzdHlsZU9iamVjdCA9IHN0ci5zcGxpdCgnJicpLnJlZHVjZShmdW5jdGlvbihyZXQsIHBhcmFtKSB7XG4gICAgdmFyIHBhcnRzID0gcGFyYW0ucmVwbGFjZSgvXFwrL2csICcgJykuc3BsaXQoJz0nKTtcbiAgICB2YXIga2V5ID0gcGFydHNbMF07XG4gICAgdmFyIHZhbCA9IHBhcnRzWzFdO1xuICAgIGtleSA9IGRlY29kZVVSSUNvbXBvbmVudChrZXkpO1xuXG4gICAgLy8gbWlzc2luZyBgPWAgc2hvdWxkIGJlIGBudWxsYDpcbiAgICAvLyBodHRwOi8vdzMub3JnL1RSLzIwMTIvV0QtdXJsLTIwMTIwNTI0LyNjb2xsZWN0LXVybC1wYXJhbWV0ZXJzXG4gICAgdmFsID0gdmFsID09PSB1bmRlZmluZWQgPyBudWxsIDogZGVjb2RlVVJJQ29tcG9uZW50KHZhbCk7XG5cbiAgICBpZiAoIXJldC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICByZXRba2V5XSA9IHZhbDtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocmV0W2tleV0pKSB7XG4gICAgICByZXRba2V5XS5wdXNoKHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldFtrZXldID0gW3JldFtrZXldLCB2YWxdO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9LCB7fSk7XG5cbiAgcmV0dXJuIHN0eWxlT2JqZWN0O1xufVxuXG5Gb3VuZGF0aW9uLk1lZGlhUXVlcnkgPSBNZWRpYVF1ZXJ5O1xuXG59KGpRdWVyeSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbiFmdW5jdGlvbigkKSB7XG5cbi8qKlxuICogTW90aW9uIG1vZHVsZS5cbiAqIEBtb2R1bGUgZm91bmRhdGlvbi5tb3Rpb25cbiAqL1xuXG5jb25zdCBpbml0Q2xhc3NlcyAgID0gWydtdWktZW50ZXInLCAnbXVpLWxlYXZlJ107XG5jb25zdCBhY3RpdmVDbGFzc2VzID0gWydtdWktZW50ZXItYWN0aXZlJywgJ211aS1sZWF2ZS1hY3RpdmUnXTtcblxuY29uc3QgTW90aW9uID0ge1xuICBhbmltYXRlSW46IGZ1bmN0aW9uKGVsZW1lbnQsIGFuaW1hdGlvbiwgY2IpIHtcbiAgICBhbmltYXRlKHRydWUsIGVsZW1lbnQsIGFuaW1hdGlvbiwgY2IpO1xuICB9LFxuXG4gIGFuaW1hdGVPdXQ6IGZ1bmN0aW9uKGVsZW1lbnQsIGFuaW1hdGlvbiwgY2IpIHtcbiAgICBhbmltYXRlKGZhbHNlLCBlbGVtZW50LCBhbmltYXRpb24sIGNiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBNb3ZlKGR1cmF0aW9uLCBlbGVtLCBmbil7XG4gIHZhciBhbmltLCBwcm9nLCBzdGFydCA9IG51bGw7XG4gIC8vIGNvbnNvbGUubG9nKCdjYWxsZWQnKTtcblxuICBpZiAoZHVyYXRpb24gPT09IDApIHtcbiAgICBmbi5hcHBseShlbGVtKTtcbiAgICBlbGVtLnRyaWdnZXIoJ2ZpbmlzaGVkLnpmLmFuaW1hdGUnLCBbZWxlbV0pLnRyaWdnZXJIYW5kbGVyKCdmaW5pc2hlZC56Zi5hbmltYXRlJywgW2VsZW1dKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBmdW5jdGlvbiBtb3ZlKHRzKXtcbiAgICBpZighc3RhcnQpIHN0YXJ0ID0gdHM7XG4gICAgLy8gY29uc29sZS5sb2coc3RhcnQsIHRzKTtcbiAgICBwcm9nID0gdHMgLSBzdGFydDtcbiAgICBmbi5hcHBseShlbGVtKTtcblxuICAgIGlmKHByb2cgPCBkdXJhdGlvbil7IGFuaW0gPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKG1vdmUsIGVsZW0pOyB9XG4gICAgZWxzZXtcbiAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShhbmltKTtcbiAgICAgIGVsZW0udHJpZ2dlcignZmluaXNoZWQuemYuYW5pbWF0ZScsIFtlbGVtXSkudHJpZ2dlckhhbmRsZXIoJ2ZpbmlzaGVkLnpmLmFuaW1hdGUnLCBbZWxlbV0pO1xuICAgIH1cbiAgfVxuICBhbmltID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShtb3ZlKTtcbn1cblxuLyoqXG4gKiBBbmltYXRlcyBhbiBlbGVtZW50IGluIG9yIG91dCB1c2luZyBhIENTUyB0cmFuc2l0aW9uIGNsYXNzLlxuICogQGZ1bmN0aW9uXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtCb29sZWFufSBpc0luIC0gRGVmaW5lcyBpZiB0aGUgYW5pbWF0aW9uIGlzIGluIG9yIG91dC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50IC0galF1ZXJ5IG9yIEhUTUwgb2JqZWN0IHRvIGFuaW1hdGUuXG4gKiBAcGFyYW0ge1N0cmluZ30gYW5pbWF0aW9uIC0gQ1NTIGNsYXNzIHRvIHVzZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIC0gQ2FsbGJhY2sgdG8gcnVuIHdoZW4gYW5pbWF0aW9uIGlzIGZpbmlzaGVkLlxuICovXG5mdW5jdGlvbiBhbmltYXRlKGlzSW4sIGVsZW1lbnQsIGFuaW1hdGlvbiwgY2IpIHtcbiAgZWxlbWVudCA9ICQoZWxlbWVudCkuZXEoMCk7XG5cbiAgaWYgKCFlbGVtZW50Lmxlbmd0aCkgcmV0dXJuO1xuXG4gIHZhciBpbml0Q2xhc3MgPSBpc0luID8gaW5pdENsYXNzZXNbMF0gOiBpbml0Q2xhc3Nlc1sxXTtcbiAgdmFyIGFjdGl2ZUNsYXNzID0gaXNJbiA/IGFjdGl2ZUNsYXNzZXNbMF0gOiBhY3RpdmVDbGFzc2VzWzFdO1xuXG4gIC8vIFNldCB1cCB0aGUgYW5pbWF0aW9uXG4gIHJlc2V0KCk7XG5cbiAgZWxlbWVudFxuICAgIC5hZGRDbGFzcyhhbmltYXRpb24pXG4gICAgLmNzcygndHJhbnNpdGlvbicsICdub25lJyk7XG5cbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICBlbGVtZW50LmFkZENsYXNzKGluaXRDbGFzcyk7XG4gICAgaWYgKGlzSW4pIGVsZW1lbnQuc2hvdygpO1xuICB9KTtcblxuICAvLyBTdGFydCB0aGUgYW5pbWF0aW9uXG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgZWxlbWVudFswXS5vZmZzZXRXaWR0aDtcbiAgICBlbGVtZW50XG4gICAgICAuY3NzKCd0cmFuc2l0aW9uJywgJycpXG4gICAgICAuYWRkQ2xhc3MoYWN0aXZlQ2xhc3MpO1xuICB9KTtcblxuICAvLyBDbGVhbiB1cCB0aGUgYW5pbWF0aW9uIHdoZW4gaXQgZmluaXNoZXNcbiAgZWxlbWVudC5vbmUoRm91bmRhdGlvbi50cmFuc2l0aW9uZW5kKGVsZW1lbnQpLCBmaW5pc2gpO1xuXG4gIC8vIEhpZGVzIHRoZSBlbGVtZW50IChmb3Igb3V0IGFuaW1hdGlvbnMpLCByZXNldHMgdGhlIGVsZW1lbnQsIGFuZCBydW5zIGEgY2FsbGJhY2tcbiAgZnVuY3Rpb24gZmluaXNoKCkge1xuICAgIGlmICghaXNJbikgZWxlbWVudC5oaWRlKCk7XG4gICAgcmVzZXQoKTtcbiAgICBpZiAoY2IpIGNiLmFwcGx5KGVsZW1lbnQpO1xuICB9XG5cbiAgLy8gUmVzZXRzIHRyYW5zaXRpb25zIGFuZCByZW1vdmVzIG1vdGlvbi1zcGVjaWZpYyBjbGFzc2VzXG4gIGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIGVsZW1lbnRbMF0uc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gMDtcbiAgICBlbGVtZW50LnJlbW92ZUNsYXNzKGAke2luaXRDbGFzc30gJHthY3RpdmVDbGFzc30gJHthbmltYXRpb259YCk7XG4gIH1cbn1cblxuRm91bmRhdGlvbi5Nb3ZlID0gTW92ZTtcbkZvdW5kYXRpb24uTW90aW9uID0gTW90aW9uO1xuXG59KGpRdWVyeSk7XG4iLCIvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vLyoqV29yayBpbnNwaXJlZCBieSBtdWx0aXBsZSBqcXVlcnkgc3dpcGUgcGx1Z2lucyoqXG4vLyoqRG9uZSBieSBZb2hhaSBBcmFyYXQgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4oZnVuY3Rpb24oJCkge1xuXG4gICQuc3BvdFN3aXBlID0ge1xuICAgIHZlcnNpb246ICcxLjAuMCcsXG4gICAgZW5hYmxlZDogJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LFxuICAgIHByZXZlbnREZWZhdWx0OiBmYWxzZSxcbiAgICBtb3ZlVGhyZXNob2xkOiA3NSxcbiAgICB0aW1lVGhyZXNob2xkOiAyMDBcbiAgfTtcblxuICB2YXIgICBzdGFydFBvc1gsXG4gICAgICAgIHN0YXJ0UG9zWSxcbiAgICAgICAgc3RhcnRUaW1lLFxuICAgICAgICBlbGFwc2VkVGltZSxcbiAgICAgICAgaXNNb3ZpbmcgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBvblRvdWNoRW5kKCkge1xuICAgIC8vICBhbGVydCh0aGlzKTtcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIG9uVG91Y2hNb3ZlKTtcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgb25Ub3VjaEVuZCk7XG4gICAgaXNNb3ZpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uVG91Y2hNb3ZlKGUpIHtcbiAgICBpZiAoJC5zcG90U3dpcGUucHJldmVudERlZmF1bHQpIHsgZS5wcmV2ZW50RGVmYXVsdCgpOyB9XG4gICAgaWYoaXNNb3ZpbmcpIHtcbiAgICAgIHZhciB4ID0gZS50b3VjaGVzWzBdLnBhZ2VYO1xuICAgICAgdmFyIHkgPSBlLnRvdWNoZXNbMF0ucGFnZVk7XG4gICAgICB2YXIgZHggPSBzdGFydFBvc1ggLSB4O1xuICAgICAgdmFyIGR5ID0gc3RhcnRQb3NZIC0geTtcbiAgICAgIHZhciBkaXI7XG4gICAgICBlbGFwc2VkVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gc3RhcnRUaW1lO1xuICAgICAgaWYoTWF0aC5hYnMoZHgpID49ICQuc3BvdFN3aXBlLm1vdmVUaHJlc2hvbGQgJiYgZWxhcHNlZFRpbWUgPD0gJC5zcG90U3dpcGUudGltZVRocmVzaG9sZCkge1xuICAgICAgICBkaXIgPSBkeCA+IDAgPyAnbGVmdCcgOiAncmlnaHQnO1xuICAgICAgfVxuICAgICAgLy8gZWxzZSBpZihNYXRoLmFicyhkeSkgPj0gJC5zcG90U3dpcGUubW92ZVRocmVzaG9sZCAmJiBlbGFwc2VkVGltZSA8PSAkLnNwb3RTd2lwZS50aW1lVGhyZXNob2xkKSB7XG4gICAgICAvLyAgIGRpciA9IGR5ID4gMCA/ICdkb3duJyA6ICd1cCc7XG4gICAgICAvLyB9XG4gICAgICBpZihkaXIpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBvblRvdWNoRW5kLmNhbGwodGhpcyk7XG4gICAgICAgICQodGhpcykudHJpZ2dlcignc3dpcGUnLCBkaXIpLnRyaWdnZXIoYHN3aXBlJHtkaXJ9YCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25Ub3VjaFN0YXJ0KGUpIHtcbiAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICBzdGFydFBvc1ggPSBlLnRvdWNoZXNbMF0ucGFnZVg7XG4gICAgICBzdGFydFBvc1kgPSBlLnRvdWNoZXNbMF0ucGFnZVk7XG4gICAgICBpc01vdmluZyA9IHRydWU7XG4gICAgICBzdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgb25Ub3VjaE1vdmUsIGZhbHNlKTtcbiAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBvblRvdWNoRW5kLCBmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIgJiYgdGhpcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgb25Ub3VjaFN0YXJ0LCBmYWxzZSk7XG4gIH1cblxuICBmdW5jdGlvbiB0ZWFyZG93bigpIHtcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBvblRvdWNoU3RhcnQpO1xuICB9XG5cbiAgJC5ldmVudC5zcGVjaWFsLnN3aXBlID0geyBzZXR1cDogaW5pdCB9O1xuXG4gICQuZWFjaChbJ2xlZnQnLCAndXAnLCAnZG93bicsICdyaWdodCddLCBmdW5jdGlvbiAoKSB7XG4gICAgJC5ldmVudC5zcGVjaWFsW2Bzd2lwZSR7dGhpc31gXSA9IHsgc2V0dXA6IGZ1bmN0aW9uKCl7XG4gICAgICAkKHRoaXMpLm9uKCdzd2lwZScsICQubm9vcCk7XG4gICAgfSB9O1xuICB9KTtcbn0pKGpRdWVyeSk7XG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogTWV0aG9kIGZvciBhZGRpbmcgcHN1ZWRvIGRyYWcgZXZlbnRzIHRvIGVsZW1lbnRzICpcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4hZnVuY3Rpb24oJCl7XG4gICQuZm4uYWRkVG91Y2ggPSBmdW5jdGlvbigpe1xuICAgIHRoaXMuZWFjaChmdW5jdGlvbihpLGVsKXtcbiAgICAgICQoZWwpLmJpbmQoJ3RvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsJyxmdW5jdGlvbigpe1xuICAgICAgICAvL3dlIHBhc3MgdGhlIG9yaWdpbmFsIGV2ZW50IG9iamVjdCBiZWNhdXNlIHRoZSBqUXVlcnkgZXZlbnRcbiAgICAgICAgLy9vYmplY3QgaXMgbm9ybWFsaXplZCB0byB3M2Mgc3BlY3MgYW5kIGRvZXMgbm90IHByb3ZpZGUgdGhlIFRvdWNoTGlzdFxuICAgICAgICBoYW5kbGVUb3VjaChldmVudCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHZhciBoYW5kbGVUb3VjaCA9IGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgIHZhciB0b3VjaGVzID0gZXZlbnQuY2hhbmdlZFRvdWNoZXMsXG4gICAgICAgICAgZmlyc3QgPSB0b3VjaGVzWzBdLFxuICAgICAgICAgIGV2ZW50VHlwZXMgPSB7XG4gICAgICAgICAgICB0b3VjaHN0YXJ0OiAnbW91c2Vkb3duJyxcbiAgICAgICAgICAgIHRvdWNobW92ZTogJ21vdXNlbW92ZScsXG4gICAgICAgICAgICB0b3VjaGVuZDogJ21vdXNldXAnXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0eXBlID0gZXZlbnRUeXBlc1tldmVudC50eXBlXSxcbiAgICAgICAgICBzaW11bGF0ZWRFdmVudFxuICAgICAgICA7XG5cbiAgICAgIGlmKCdNb3VzZUV2ZW50JyBpbiB3aW5kb3cgJiYgdHlwZW9mIHdpbmRvdy5Nb3VzZUV2ZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHNpbXVsYXRlZEV2ZW50ID0gbmV3IHdpbmRvdy5Nb3VzZUV2ZW50KHR5cGUsIHtcbiAgICAgICAgICAnYnViYmxlcyc6IHRydWUsXG4gICAgICAgICAgJ2NhbmNlbGFibGUnOiB0cnVlLFxuICAgICAgICAgICdzY3JlZW5YJzogZmlyc3Quc2NyZWVuWCxcbiAgICAgICAgICAnc2NyZWVuWSc6IGZpcnN0LnNjcmVlblksXG4gICAgICAgICAgJ2NsaWVudFgnOiBmaXJzdC5jbGllbnRYLFxuICAgICAgICAgICdjbGllbnRZJzogZmlyc3QuY2xpZW50WVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNpbXVsYXRlZEV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnQnKTtcbiAgICAgICAgc2ltdWxhdGVkRXZlbnQuaW5pdE1vdXNlRXZlbnQodHlwZSwgdHJ1ZSwgdHJ1ZSwgd2luZG93LCAxLCBmaXJzdC5zY3JlZW5YLCBmaXJzdC5zY3JlZW5ZLCBmaXJzdC5jbGllbnRYLCBmaXJzdC5jbGllbnRZLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgMC8qbGVmdCovLCBudWxsKTtcbiAgICAgIH1cbiAgICAgIGZpcnN0LnRhcmdldC5kaXNwYXRjaEV2ZW50KHNpbXVsYXRlZEV2ZW50KTtcbiAgICB9O1xuICB9O1xufShqUXVlcnkpO1xuXG5cbi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLy8qKkZyb20gdGhlIGpRdWVyeSBNb2JpbGUgTGlicmFyeSoqXG4vLyoqbmVlZCB0byByZWNyZWF0ZSBmdW5jdGlvbmFsaXR5Kipcbi8vKiphbmQgdHJ5IHRvIGltcHJvdmUgaWYgcG9zc2libGUqKlxuLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbi8qIFJlbW92aW5nIHRoZSBqUXVlcnkgZnVuY3Rpb24gKioqKlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbihmdW5jdGlvbiggJCwgd2luZG93LCB1bmRlZmluZWQgKSB7XG5cblx0dmFyICRkb2N1bWVudCA9ICQoIGRvY3VtZW50ICksXG5cdFx0Ly8gc3VwcG9ydFRvdWNoID0gJC5tb2JpbGUuc3VwcG9ydC50b3VjaCxcblx0XHR0b3VjaFN0YXJ0RXZlbnQgPSAndG91Y2hzdGFydCcvL3N1cHBvcnRUb3VjaCA/IFwidG91Y2hzdGFydFwiIDogXCJtb3VzZWRvd25cIixcblx0XHR0b3VjaFN0b3BFdmVudCA9ICd0b3VjaGVuZCcvL3N1cHBvcnRUb3VjaCA/IFwidG91Y2hlbmRcIiA6IFwibW91c2V1cFwiLFxuXHRcdHRvdWNoTW92ZUV2ZW50ID0gJ3RvdWNobW92ZScvL3N1cHBvcnRUb3VjaCA/IFwidG91Y2htb3ZlXCIgOiBcIm1vdXNlbW92ZVwiO1xuXG5cdC8vIHNldHVwIG5ldyBldmVudCBzaG9ydGN1dHNcblx0JC5lYWNoKCAoIFwidG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgXCIgK1xuXHRcdFwic3dpcGUgc3dpcGVsZWZ0IHN3aXBlcmlnaHRcIiApLnNwbGl0KCBcIiBcIiApLCBmdW5jdGlvbiggaSwgbmFtZSApIHtcblxuXHRcdCQuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBmbiApIHtcblx0XHRcdHJldHVybiBmbiA/IHRoaXMuYmluZCggbmFtZSwgZm4gKSA6IHRoaXMudHJpZ2dlciggbmFtZSApO1xuXHRcdH07XG5cblx0XHQvLyBqUXVlcnkgPCAxLjhcblx0XHRpZiAoICQuYXR0ckZuICkge1xuXHRcdFx0JC5hdHRyRm5bIG5hbWUgXSA9IHRydWU7XG5cdFx0fVxuXHR9KTtcblxuXHRmdW5jdGlvbiB0cmlnZ2VyQ3VzdG9tRXZlbnQoIG9iaiwgZXZlbnRUeXBlLCBldmVudCwgYnViYmxlICkge1xuXHRcdHZhciBvcmlnaW5hbFR5cGUgPSBldmVudC50eXBlO1xuXHRcdGV2ZW50LnR5cGUgPSBldmVudFR5cGU7XG5cdFx0aWYgKCBidWJibGUgKSB7XG5cdFx0XHQkLmV2ZW50LnRyaWdnZXIoIGV2ZW50LCB1bmRlZmluZWQsIG9iaiApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQkLmV2ZW50LmRpc3BhdGNoLmNhbGwoIG9iaiwgZXZlbnQgKTtcblx0XHR9XG5cdFx0ZXZlbnQudHlwZSA9IG9yaWdpbmFsVHlwZTtcblx0fVxuXG5cdC8vIGFsc28gaGFuZGxlcyB0YXBob2xkXG5cblx0Ly8gQWxzbyBoYW5kbGVzIHN3aXBlbGVmdCwgc3dpcGVyaWdodFxuXHQkLmV2ZW50LnNwZWNpYWwuc3dpcGUgPSB7XG5cblx0XHQvLyBNb3JlIHRoYW4gdGhpcyBob3Jpem9udGFsIGRpc3BsYWNlbWVudCwgYW5kIHdlIHdpbGwgc3VwcHJlc3Mgc2Nyb2xsaW5nLlxuXHRcdHNjcm9sbFN1cHJlc3Npb25UaHJlc2hvbGQ6IDMwLFxuXG5cdFx0Ly8gTW9yZSB0aW1lIHRoYW4gdGhpcywgYW5kIGl0IGlzbid0IGEgc3dpcGUuXG5cdFx0ZHVyYXRpb25UaHJlc2hvbGQ6IDEwMDAsXG5cblx0XHQvLyBTd2lwZSBob3Jpem9udGFsIGRpc3BsYWNlbWVudCBtdXN0IGJlIG1vcmUgdGhhbiB0aGlzLlxuXHRcdGhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZDogd2luZG93LmRldmljZVBpeGVsUmF0aW8gPj0gMiA/IDE1IDogMzAsXG5cblx0XHQvLyBTd2lwZSB2ZXJ0aWNhbCBkaXNwbGFjZW1lbnQgbXVzdCBiZSBsZXNzIHRoYW4gdGhpcy5cblx0XHR2ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkOiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA+PSAyID8gMTUgOiAzMCxcblxuXHRcdGdldExvY2F0aW9uOiBmdW5jdGlvbiAoIGV2ZW50ICkge1xuXHRcdFx0dmFyIHdpblBhZ2VYID0gd2luZG93LnBhZ2VYT2Zmc2V0LFxuXHRcdFx0XHR3aW5QYWdlWSA9IHdpbmRvdy5wYWdlWU9mZnNldCxcblx0XHRcdFx0eCA9IGV2ZW50LmNsaWVudFgsXG5cdFx0XHRcdHkgPSBldmVudC5jbGllbnRZO1xuXG5cdFx0XHRpZiAoIGV2ZW50LnBhZ2VZID09PSAwICYmIE1hdGguZmxvb3IoIHkgKSA+IE1hdGguZmxvb3IoIGV2ZW50LnBhZ2VZICkgfHxcblx0XHRcdFx0ZXZlbnQucGFnZVggPT09IDAgJiYgTWF0aC5mbG9vciggeCApID4gTWF0aC5mbG9vciggZXZlbnQucGFnZVggKSApIHtcblxuXHRcdFx0XHQvLyBpT1M0IGNsaWVudFgvY2xpZW50WSBoYXZlIHRoZSB2YWx1ZSB0aGF0IHNob3VsZCBoYXZlIGJlZW5cblx0XHRcdFx0Ly8gaW4gcGFnZVgvcGFnZVkuIFdoaWxlIHBhZ2VYL3BhZ2UvIGhhdmUgdGhlIHZhbHVlIDBcblx0XHRcdFx0eCA9IHggLSB3aW5QYWdlWDtcblx0XHRcdFx0eSA9IHkgLSB3aW5QYWdlWTtcblx0XHRcdH0gZWxzZSBpZiAoIHkgPCAoIGV2ZW50LnBhZ2VZIC0gd2luUGFnZVkpIHx8IHggPCAoIGV2ZW50LnBhZ2VYIC0gd2luUGFnZVggKSApIHtcblxuXHRcdFx0XHQvLyBTb21lIEFuZHJvaWQgYnJvd3NlcnMgaGF2ZSB0b3RhbGx5IGJvZ3VzIHZhbHVlcyBmb3IgY2xpZW50WC9ZXG5cdFx0XHRcdC8vIHdoZW4gc2Nyb2xsaW5nL3pvb21pbmcgYSBwYWdlLiBEZXRlY3RhYmxlIHNpbmNlIGNsaWVudFgvY2xpZW50WVxuXHRcdFx0XHQvLyBzaG91bGQgbmV2ZXIgYmUgc21hbGxlciB0aGFuIHBhZ2VYL3BhZ2VZIG1pbnVzIHBhZ2Ugc2Nyb2xsXG5cdFx0XHRcdHggPSBldmVudC5wYWdlWCAtIHdpblBhZ2VYO1xuXHRcdFx0XHR5ID0gZXZlbnQucGFnZVkgLSB3aW5QYWdlWTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0eDogeCxcblx0XHRcdFx0eTogeVxuXHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0c3RhcnQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciBkYXRhID0gZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzID9cblx0XHRcdFx0XHRldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbIDAgXSA6IGV2ZW50LFxuXHRcdFx0XHRsb2NhdGlvbiA9ICQuZXZlbnQuc3BlY2lhbC5zd2lwZS5nZXRMb2NhdGlvbiggZGF0YSApO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdHRpbWU6ICggbmV3IERhdGUoKSApLmdldFRpbWUoKSxcblx0XHRcdFx0XHRcdGNvb3JkczogWyBsb2NhdGlvbi54LCBsb2NhdGlvbi55IF0sXG5cdFx0XHRcdFx0XHRvcmlnaW46ICQoIGV2ZW50LnRhcmdldCApXG5cdFx0XHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0c3RvcDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0dmFyIGRhdGEgPSBldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXMgP1xuXHRcdFx0XHRcdGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1sgMCBdIDogZXZlbnQsXG5cdFx0XHRcdGxvY2F0aW9uID0gJC5ldmVudC5zcGVjaWFsLnN3aXBlLmdldExvY2F0aW9uKCBkYXRhICk7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0dGltZTogKCBuZXcgRGF0ZSgpICkuZ2V0VGltZSgpLFxuXHRcdFx0XHRcdFx0Y29vcmRzOiBbIGxvY2F0aW9uLngsIGxvY2F0aW9uLnkgXVxuXHRcdFx0XHRcdH07XG5cdFx0fSxcblxuXHRcdGhhbmRsZVN3aXBlOiBmdW5jdGlvbiggc3RhcnQsIHN0b3AsIHRoaXNPYmplY3QsIG9yaWdUYXJnZXQgKSB7XG5cdFx0XHRpZiAoIHN0b3AudGltZSAtIHN0YXJ0LnRpbWUgPCAkLmV2ZW50LnNwZWNpYWwuc3dpcGUuZHVyYXRpb25UaHJlc2hvbGQgJiZcblx0XHRcdFx0TWF0aC5hYnMoIHN0YXJ0LmNvb3Jkc1sgMCBdIC0gc3RvcC5jb29yZHNbIDAgXSApID4gJC5ldmVudC5zcGVjaWFsLnN3aXBlLmhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZCAmJlxuXHRcdFx0XHRNYXRoLmFicyggc3RhcnQuY29vcmRzWyAxIF0gLSBzdG9wLmNvb3Jkc1sgMSBdICkgPCAkLmV2ZW50LnNwZWNpYWwuc3dpcGUudmVydGljYWxEaXN0YW5jZVRocmVzaG9sZCApIHtcblx0XHRcdFx0dmFyIGRpcmVjdGlvbiA9IHN0YXJ0LmNvb3Jkc1swXSA+IHN0b3AuY29vcmRzWyAwIF0gPyBcInN3aXBlbGVmdFwiIDogXCJzd2lwZXJpZ2h0XCI7XG5cblx0XHRcdFx0dHJpZ2dlckN1c3RvbUV2ZW50KCB0aGlzT2JqZWN0LCBcInN3aXBlXCIsICQuRXZlbnQoIFwic3dpcGVcIiwgeyB0YXJnZXQ6IG9yaWdUYXJnZXQsIHN3aXBlc3RhcnQ6IHN0YXJ0LCBzd2lwZXN0b3A6IHN0b3AgfSksIHRydWUgKTtcblx0XHRcdFx0dHJpZ2dlckN1c3RvbUV2ZW50KCB0aGlzT2JqZWN0LCBkaXJlY3Rpb24sJC5FdmVudCggZGlyZWN0aW9uLCB7IHRhcmdldDogb3JpZ1RhcmdldCwgc3dpcGVzdGFydDogc3RhcnQsIHN3aXBlc3RvcDogc3RvcCB9ICksIHRydWUgKTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cblx0XHR9LFxuXG5cdFx0Ly8gVGhpcyBzZXJ2ZXMgYXMgYSBmbGFnIHRvIGVuc3VyZSB0aGF0IGF0IG1vc3Qgb25lIHN3aXBlIGV2ZW50IGV2ZW50IGlzXG5cdFx0Ly8gaW4gd29yayBhdCBhbnkgZ2l2ZW4gdGltZVxuXHRcdGV2ZW50SW5Qcm9ncmVzczogZmFsc2UsXG5cblx0XHRzZXR1cDogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgZXZlbnRzLFxuXHRcdFx0XHR0aGlzT2JqZWN0ID0gdGhpcyxcblx0XHRcdFx0JHRoaXMgPSAkKCB0aGlzT2JqZWN0ICksXG5cdFx0XHRcdGNvbnRleHQgPSB7fTtcblxuXHRcdFx0Ly8gUmV0cmlldmUgdGhlIGV2ZW50cyBkYXRhIGZvciB0aGlzIGVsZW1lbnQgYW5kIGFkZCB0aGUgc3dpcGUgY29udGV4dFxuXHRcdFx0ZXZlbnRzID0gJC5kYXRhKCB0aGlzLCBcIm1vYmlsZS1ldmVudHNcIiApO1xuXHRcdFx0aWYgKCAhZXZlbnRzICkge1xuXHRcdFx0XHRldmVudHMgPSB7IGxlbmd0aDogMCB9O1xuXHRcdFx0XHQkLmRhdGEoIHRoaXMsIFwibW9iaWxlLWV2ZW50c1wiLCBldmVudHMgKTtcblx0XHRcdH1cblx0XHRcdGV2ZW50cy5sZW5ndGgrKztcblx0XHRcdGV2ZW50cy5zd2lwZSA9IGNvbnRleHQ7XG5cblx0XHRcdGNvbnRleHQuc3RhcnQgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRcdFx0Ly8gQmFpbCBpZiB3ZSdyZSBhbHJlYWR5IHdvcmtpbmcgb24gYSBzd2lwZSBldmVudFxuXHRcdFx0XHRpZiAoICQuZXZlbnQuc3BlY2lhbC5zd2lwZS5ldmVudEluUHJvZ3Jlc3MgKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdCQuZXZlbnQuc3BlY2lhbC5zd2lwZS5ldmVudEluUHJvZ3Jlc3MgPSB0cnVlO1xuXG5cdFx0XHRcdHZhciBzdG9wLFxuXHRcdFx0XHRcdHN0YXJ0ID0gJC5ldmVudC5zcGVjaWFsLnN3aXBlLnN0YXJ0KCBldmVudCApLFxuXHRcdFx0XHRcdG9yaWdUYXJnZXQgPSBldmVudC50YXJnZXQsXG5cdFx0XHRcdFx0ZW1pdHRlZCA9IGZhbHNlO1xuXG5cdFx0XHRcdGNvbnRleHQubW92ZSA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0XHRpZiAoICFzdGFydCB8fCBldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRzdG9wID0gJC5ldmVudC5zcGVjaWFsLnN3aXBlLnN0b3AoIGV2ZW50ICk7XG5cdFx0XHRcdFx0aWYgKCAhZW1pdHRlZCApIHtcblx0XHRcdFx0XHRcdGVtaXR0ZWQgPSAkLmV2ZW50LnNwZWNpYWwuc3dpcGUuaGFuZGxlU3dpcGUoIHN0YXJ0LCBzdG9wLCB0aGlzT2JqZWN0LCBvcmlnVGFyZ2V0ICk7XG5cdFx0XHRcdFx0XHRpZiAoIGVtaXR0ZWQgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gUmVzZXQgdGhlIGNvbnRleHQgdG8gbWFrZSB3YXkgZm9yIHRoZSBuZXh0IHN3aXBlIGV2ZW50XG5cdFx0XHRcdFx0XHRcdCQuZXZlbnQuc3BlY2lhbC5zd2lwZS5ldmVudEluUHJvZ3Jlc3MgPSBmYWxzZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gcHJldmVudCBzY3JvbGxpbmdcblx0XHRcdFx0XHRpZiAoIE1hdGguYWJzKCBzdGFydC5jb29yZHNbIDAgXSAtIHN0b3AuY29vcmRzWyAwIF0gKSA+ICQuZXZlbnQuc3BlY2lhbC5zd2lwZS5zY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkICkge1xuXHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0Y29udGV4dC5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRlbWl0dGVkID0gdHJ1ZTtcblxuXHRcdFx0XHRcdFx0Ly8gUmVzZXQgdGhlIGNvbnRleHQgdG8gbWFrZSB3YXkgZm9yIHRoZSBuZXh0IHN3aXBlIGV2ZW50XG5cdFx0XHRcdFx0XHQkLmV2ZW50LnNwZWNpYWwuc3dpcGUuZXZlbnRJblByb2dyZXNzID0gZmFsc2U7XG5cdFx0XHRcdFx0XHQkZG9jdW1lbnQub2ZmKCB0b3VjaE1vdmVFdmVudCwgY29udGV4dC5tb3ZlICk7XG5cdFx0XHRcdFx0XHRjb250ZXh0Lm1vdmUgPSBudWxsO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdCRkb2N1bWVudC5vbiggdG91Y2hNb3ZlRXZlbnQsIGNvbnRleHQubW92ZSApXG5cdFx0XHRcdFx0Lm9uZSggdG91Y2hTdG9wRXZlbnQsIGNvbnRleHQuc3RvcCApO1xuXHRcdFx0fTtcblx0XHRcdCR0aGlzLm9uKCB0b3VjaFN0YXJ0RXZlbnQsIGNvbnRleHQuc3RhcnQgKTtcblx0XHR9LFxuXG5cdFx0dGVhcmRvd246IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGV2ZW50cywgY29udGV4dDtcblxuXHRcdFx0ZXZlbnRzID0gJC5kYXRhKCB0aGlzLCBcIm1vYmlsZS1ldmVudHNcIiApO1xuXHRcdFx0aWYgKCBldmVudHMgKSB7XG5cdFx0XHRcdGNvbnRleHQgPSBldmVudHMuc3dpcGU7XG5cdFx0XHRcdGRlbGV0ZSBldmVudHMuc3dpcGU7XG5cdFx0XHRcdGV2ZW50cy5sZW5ndGgtLTtcblx0XHRcdFx0aWYgKCBldmVudHMubGVuZ3RoID09PSAwICkge1xuXHRcdFx0XHRcdCQucmVtb3ZlRGF0YSggdGhpcywgXCJtb2JpbGUtZXZlbnRzXCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGNvbnRleHQgKSB7XG5cdFx0XHRcdGlmICggY29udGV4dC5zdGFydCApIHtcblx0XHRcdFx0XHQkKCB0aGlzICkub2ZmKCB0b3VjaFN0YXJ0RXZlbnQsIGNvbnRleHQuc3RhcnQgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIGNvbnRleHQubW92ZSApIHtcblx0XHRcdFx0XHQkZG9jdW1lbnQub2ZmKCB0b3VjaE1vdmVFdmVudCwgY29udGV4dC5tb3ZlICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBjb250ZXh0LnN0b3AgKSB7XG5cdFx0XHRcdFx0JGRvY3VtZW50Lm9mZiggdG91Y2hTdG9wRXZlbnQsIGNvbnRleHQuc3RvcCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHQkLmVhY2goe1xuXHRcdHN3aXBlbGVmdDogXCJzd2lwZS5sZWZ0XCIsXG5cdFx0c3dpcGVyaWdodDogXCJzd2lwZS5yaWdodFwiXG5cdH0sIGZ1bmN0aW9uKCBldmVudCwgc291cmNlRXZlbnQgKSB7XG5cblx0XHQkLmV2ZW50LnNwZWNpYWxbIGV2ZW50IF0gPSB7XG5cdFx0XHRzZXR1cDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCQoIHRoaXMgKS5iaW5kKCBzb3VyY2VFdmVudCwgJC5ub29wICk7XG5cdFx0XHR9LFxuXHRcdFx0dGVhcmRvd246IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQkKCB0aGlzICkudW5iaW5kKCBzb3VyY2VFdmVudCApO1xuXHRcdFx0fVxuXHRcdH07XG5cdH0pO1xufSkoIGpRdWVyeSwgdGhpcyApO1xuKi9cbiIsIid1c2Ugc3RyaWN0JztcblxuIWZ1bmN0aW9uKCQpIHtcblxuY29uc3QgTXV0YXRpb25PYnNlcnZlciA9IChmdW5jdGlvbiAoKSB7XG4gIHZhciBwcmVmaXhlcyA9IFsnV2ViS2l0JywgJ01veicsICdPJywgJ01zJywgJyddO1xuICBmb3IgKHZhciBpPTA7IGkgPCBwcmVmaXhlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChgJHtwcmVmaXhlc1tpXX1NdXRhdGlvbk9ic2VydmVyYCBpbiB3aW5kb3cpIHtcbiAgICAgIHJldHVybiB3aW5kb3dbYCR7cHJlZml4ZXNbaV19TXV0YXRpb25PYnNlcnZlcmBdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59KCkpO1xuXG5jb25zdCB0cmlnZ2VycyA9IChlbCwgdHlwZSkgPT4ge1xuICBlbC5kYXRhKHR5cGUpLnNwbGl0KCcgJykuZm9yRWFjaChpZCA9PiB7XG4gICAgJChgIyR7aWR9YClbIHR5cGUgPT09ICdjbG9zZScgPyAndHJpZ2dlcicgOiAndHJpZ2dlckhhbmRsZXInXShgJHt0eXBlfS56Zi50cmlnZ2VyYCwgW2VsXSk7XG4gIH0pO1xufTtcbi8vIEVsZW1lbnRzIHdpdGggW2RhdGEtb3Blbl0gd2lsbCByZXZlYWwgYSBwbHVnaW4gdGhhdCBzdXBwb3J0cyBpdCB3aGVuIGNsaWNrZWQuXG4kKGRvY3VtZW50KS5vbignY2xpY2suemYudHJpZ2dlcicsICdbZGF0YS1vcGVuXScsIGZ1bmN0aW9uKCkge1xuICB0cmlnZ2VycygkKHRoaXMpLCAnb3BlbicpO1xufSk7XG5cbi8vIEVsZW1lbnRzIHdpdGggW2RhdGEtY2xvc2VdIHdpbGwgY2xvc2UgYSBwbHVnaW4gdGhhdCBzdXBwb3J0cyBpdCB3aGVuIGNsaWNrZWQuXG4vLyBJZiB1c2VkIHdpdGhvdXQgYSB2YWx1ZSBvbiBbZGF0YS1jbG9zZV0sIHRoZSBldmVudCB3aWxsIGJ1YmJsZSwgYWxsb3dpbmcgaXQgdG8gY2xvc2UgYSBwYXJlbnQgY29tcG9uZW50LlxuJChkb2N1bWVudCkub24oJ2NsaWNrLnpmLnRyaWdnZXInLCAnW2RhdGEtY2xvc2VdJywgZnVuY3Rpb24oKSB7XG4gIGxldCBpZCA9ICQodGhpcykuZGF0YSgnY2xvc2UnKTtcbiAgaWYgKGlkKSB7XG4gICAgdHJpZ2dlcnMoJCh0aGlzKSwgJ2Nsb3NlJyk7XG4gIH1cbiAgZWxzZSB7XG4gICAgJCh0aGlzKS50cmlnZ2VyKCdjbG9zZS56Zi50cmlnZ2VyJyk7XG4gIH1cbn0pO1xuXG4vLyBFbGVtZW50cyB3aXRoIFtkYXRhLXRvZ2dsZV0gd2lsbCB0b2dnbGUgYSBwbHVnaW4gdGhhdCBzdXBwb3J0cyBpdCB3aGVuIGNsaWNrZWQuXG4kKGRvY3VtZW50KS5vbignY2xpY2suemYudHJpZ2dlcicsICdbZGF0YS10b2dnbGVdJywgZnVuY3Rpb24oKSB7XG4gIGxldCBpZCA9ICQodGhpcykuZGF0YSgndG9nZ2xlJyk7XG4gIGlmIChpZCkge1xuICAgIHRyaWdnZXJzKCQodGhpcyksICd0b2dnbGUnKTtcbiAgfSBlbHNlIHtcbiAgICAkKHRoaXMpLnRyaWdnZXIoJ3RvZ2dsZS56Zi50cmlnZ2VyJyk7XG4gIH1cbn0pO1xuXG4vLyBFbGVtZW50cyB3aXRoIFtkYXRhLWNsb3NhYmxlXSB3aWxsIHJlc3BvbmQgdG8gY2xvc2UuemYudHJpZ2dlciBldmVudHMuXG4kKGRvY3VtZW50KS5vbignY2xvc2UuemYudHJpZ2dlcicsICdbZGF0YS1jbG9zYWJsZV0nLCBmdW5jdGlvbihlKXtcbiAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgbGV0IGFuaW1hdGlvbiA9ICQodGhpcykuZGF0YSgnY2xvc2FibGUnKTtcblxuICBpZihhbmltYXRpb24gIT09ICcnKXtcbiAgICBGb3VuZGF0aW9uLk1vdGlvbi5hbmltYXRlT3V0KCQodGhpcyksIGFuaW1hdGlvbiwgZnVuY3Rpb24oKSB7XG4gICAgICAkKHRoaXMpLnRyaWdnZXIoJ2Nsb3NlZC56ZicpO1xuICAgIH0pO1xuICB9ZWxzZXtcbiAgICAkKHRoaXMpLmZhZGVPdXQoKS50cmlnZ2VyKCdjbG9zZWQuemYnKTtcbiAgfVxufSk7XG5cbiQoZG9jdW1lbnQpLm9uKCdmb2N1cy56Zi50cmlnZ2VyIGJsdXIuemYudHJpZ2dlcicsICdbZGF0YS10b2dnbGUtZm9jdXNdJywgZnVuY3Rpb24oKSB7XG4gIGxldCBpZCA9ICQodGhpcykuZGF0YSgndG9nZ2xlLWZvY3VzJyk7XG4gICQoYCMke2lkfWApLnRyaWdnZXJIYW5kbGVyKCd0b2dnbGUuemYudHJpZ2dlcicsIFskKHRoaXMpXSk7XG59KTtcblxuLyoqXG4qIEZpcmVzIG9uY2UgYWZ0ZXIgYWxsIG90aGVyIHNjcmlwdHMgaGF2ZSBsb2FkZWRcbiogQGZ1bmN0aW9uXG4qIEBwcml2YXRlXG4qL1xuJCh3aW5kb3cpLm9uKCdsb2FkJywgKCkgPT4ge1xuICBjaGVja0xpc3RlbmVycygpO1xufSk7XG5cbmZ1bmN0aW9uIGNoZWNrTGlzdGVuZXJzKCkge1xuICBldmVudHNMaXN0ZW5lcigpO1xuICByZXNpemVMaXN0ZW5lcigpO1xuICBzY3JvbGxMaXN0ZW5lcigpO1xuICBtdXRhdGVMaXN0ZW5lcigpO1xuICBjbG9zZW1lTGlzdGVuZXIoKTtcbn1cblxuLy8qKioqKioqKiBvbmx5IGZpcmVzIHRoaXMgZnVuY3Rpb24gb25jZSBvbiBsb2FkLCBpZiB0aGVyZSdzIHNvbWV0aGluZyB0byB3YXRjaCAqKioqKioqKlxuZnVuY3Rpb24gY2xvc2VtZUxpc3RlbmVyKHBsdWdpbk5hbWUpIHtcbiAgdmFyIHlldGlCb3hlcyA9ICQoJ1tkYXRhLXlldGktYm94XScpLFxuICAgICAgcGx1Z05hbWVzID0gWydkcm9wZG93bicsICd0b29sdGlwJywgJ3JldmVhbCddO1xuXG4gIGlmKHBsdWdpbk5hbWUpe1xuICAgIGlmKHR5cGVvZiBwbHVnaW5OYW1lID09PSAnc3RyaW5nJyl7XG4gICAgICBwbHVnTmFtZXMucHVzaChwbHVnaW5OYW1lKTtcbiAgICB9ZWxzZSBpZih0eXBlb2YgcGx1Z2luTmFtZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHBsdWdpbk5hbWVbMF0gPT09ICdzdHJpbmcnKXtcbiAgICAgIHBsdWdOYW1lcy5jb25jYXQocGx1Z2luTmFtZSk7XG4gICAgfWVsc2V7XG4gICAgICBjb25zb2xlLmVycm9yKCdQbHVnaW4gbmFtZXMgbXVzdCBiZSBzdHJpbmdzJyk7XG4gICAgfVxuICB9XG4gIGlmKHlldGlCb3hlcy5sZW5ndGgpe1xuICAgIGxldCBsaXN0ZW5lcnMgPSBwbHVnTmFtZXMubWFwKChuYW1lKSA9PiB7XG4gICAgICByZXR1cm4gYGNsb3NlbWUuemYuJHtuYW1lfWA7XG4gICAgfSkuam9pbignICcpO1xuXG4gICAgJCh3aW5kb3cpLm9mZihsaXN0ZW5lcnMpLm9uKGxpc3RlbmVycywgZnVuY3Rpb24oZSwgcGx1Z2luSWQpe1xuICAgICAgbGV0IHBsdWdpbiA9IGUubmFtZXNwYWNlLnNwbGl0KCcuJylbMF07XG4gICAgICBsZXQgcGx1Z2lucyA9ICQoYFtkYXRhLSR7cGx1Z2lufV1gKS5ub3QoYFtkYXRhLXlldGktYm94PVwiJHtwbHVnaW5JZH1cIl1gKTtcblxuICAgICAgcGx1Z2lucy5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgIGxldCBfdGhpcyA9ICQodGhpcyk7XG5cbiAgICAgICAgX3RoaXMudHJpZ2dlckhhbmRsZXIoJ2Nsb3NlLnpmLnRyaWdnZXInLCBbX3RoaXNdKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlc2l6ZUxpc3RlbmVyKGRlYm91bmNlKXtcbiAgbGV0IHRpbWVyLFxuICAgICAgJG5vZGVzID0gJCgnW2RhdGEtcmVzaXplXScpO1xuICBpZigkbm9kZXMubGVuZ3RoKXtcbiAgICAkKHdpbmRvdykub2ZmKCdyZXNpemUuemYudHJpZ2dlcicpXG4gICAgLm9uKCdyZXNpemUuemYudHJpZ2dlcicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICh0aW1lcikgeyBjbGVhclRpbWVvdXQodGltZXIpOyB9XG5cbiAgICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuXG4gICAgICAgIGlmKCFNdXRhdGlvbk9ic2VydmVyKXsvL2ZhbGxiYWNrIGZvciBJRSA5XG4gICAgICAgICAgJG5vZGVzLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICQodGhpcykudHJpZ2dlckhhbmRsZXIoJ3Jlc2l6ZW1lLnpmLnRyaWdnZXInKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvL3RyaWdnZXIgYWxsIGxpc3RlbmluZyBlbGVtZW50cyBhbmQgc2lnbmFsIGEgcmVzaXplIGV2ZW50XG4gICAgICAgICRub2Rlcy5hdHRyKCdkYXRhLWV2ZW50cycsIFwicmVzaXplXCIpO1xuICAgICAgfSwgZGVib3VuY2UgfHwgMTApOy8vZGVmYXVsdCB0aW1lIHRvIGVtaXQgcmVzaXplIGV2ZW50XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2Nyb2xsTGlzdGVuZXIoZGVib3VuY2Upe1xuICBsZXQgdGltZXIsXG4gICAgICAkbm9kZXMgPSAkKCdbZGF0YS1zY3JvbGxdJyk7XG4gIGlmKCRub2Rlcy5sZW5ndGgpe1xuICAgICQod2luZG93KS5vZmYoJ3Njcm9sbC56Zi50cmlnZ2VyJylcbiAgICAub24oJ3Njcm9sbC56Zi50cmlnZ2VyJywgZnVuY3Rpb24oZSl7XG4gICAgICBpZih0aW1lcil7IGNsZWFyVGltZW91dCh0aW1lcik7IH1cblxuICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgaWYoIU11dGF0aW9uT2JzZXJ2ZXIpey8vZmFsbGJhY2sgZm9yIElFIDlcbiAgICAgICAgICAkbm9kZXMuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgJCh0aGlzKS50cmlnZ2VySGFuZGxlcignc2Nyb2xsbWUuemYudHJpZ2dlcicpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vdHJpZ2dlciBhbGwgbGlzdGVuaW5nIGVsZW1lbnRzIGFuZCBzaWduYWwgYSBzY3JvbGwgZXZlbnRcbiAgICAgICAgJG5vZGVzLmF0dHIoJ2RhdGEtZXZlbnRzJywgXCJzY3JvbGxcIik7XG4gICAgICB9LCBkZWJvdW5jZSB8fCAxMCk7Ly9kZWZhdWx0IHRpbWUgdG8gZW1pdCBzY3JvbGwgZXZlbnRcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtdXRhdGVMaXN0ZW5lcihkZWJvdW5jZSkge1xuICAgIGxldCAkbm9kZXMgPSAkKCdbZGF0YS1tdXRhdGVdJyk7XG4gICAgaWYgKCRub2Rlcy5sZW5ndGggJiYgTXV0YXRpb25PYnNlcnZlcil7XG5cdFx0XHQvL3RyaWdnZXIgYWxsIGxpc3RlbmluZyBlbGVtZW50cyBhbmQgc2lnbmFsIGEgbXV0YXRlIGV2ZW50XG4gICAgICAvL25vIElFIDkgb3IgMTBcblx0XHRcdCRub2Rlcy5lYWNoKGZ1bmN0aW9uICgpIHtcblx0XHRcdCAgJCh0aGlzKS50cmlnZ2VySGFuZGxlcignbXV0YXRlbWUuemYudHJpZ2dlcicpO1xuXHRcdFx0fSk7XG4gICAgfVxuIH1cblxuZnVuY3Rpb24gZXZlbnRzTGlzdGVuZXIoKSB7XG4gIGlmKCFNdXRhdGlvbk9ic2VydmVyKXsgcmV0dXJuIGZhbHNlOyB9XG4gIGxldCBub2RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXJlc2l6ZV0sIFtkYXRhLXNjcm9sbF0sIFtkYXRhLW11dGF0ZV0nKTtcblxuICAvL2VsZW1lbnQgY2FsbGJhY2tcbiAgdmFyIGxpc3RlbmluZ0VsZW1lbnRzTXV0YXRpb24gPSBmdW5jdGlvbiAobXV0YXRpb25SZWNvcmRzTGlzdCkge1xuICAgICAgdmFyICR0YXJnZXQgPSAkKG11dGF0aW9uUmVjb3Jkc0xpc3RbMF0udGFyZ2V0KTtcblxuXHQgIC8vdHJpZ2dlciB0aGUgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGVsZW1lbnQgZGVwZW5kaW5nIG9uIHR5cGVcbiAgICAgIHN3aXRjaCAobXV0YXRpb25SZWNvcmRzTGlzdFswXS50eXBlKSB7XG5cbiAgICAgICAgY2FzZSBcImF0dHJpYnV0ZXNcIjpcbiAgICAgICAgICBpZiAoJHRhcmdldC5hdHRyKFwiZGF0YS1ldmVudHNcIikgPT09IFwic2Nyb2xsXCIgJiYgbXV0YXRpb25SZWNvcmRzTGlzdFswXS5hdHRyaWJ1dGVOYW1lID09PSBcImRhdGEtZXZlbnRzXCIpIHtcblx0XHQgIFx0JHRhcmdldC50cmlnZ2VySGFuZGxlcignc2Nyb2xsbWUuemYudHJpZ2dlcicsIFskdGFyZ2V0LCB3aW5kb3cucGFnZVlPZmZzZXRdKTtcblx0XHQgIH1cblx0XHQgIGlmICgkdGFyZ2V0LmF0dHIoXCJkYXRhLWV2ZW50c1wiKSA9PT0gXCJyZXNpemVcIiAmJiBtdXRhdGlvblJlY29yZHNMaXN0WzBdLmF0dHJpYnV0ZU5hbWUgPT09IFwiZGF0YS1ldmVudHNcIikge1xuXHRcdCAgXHQkdGFyZ2V0LnRyaWdnZXJIYW5kbGVyKCdyZXNpemVtZS56Zi50cmlnZ2VyJywgWyR0YXJnZXRdKTtcblx0XHQgICB9XG5cdFx0ICBpZiAobXV0YXRpb25SZWNvcmRzTGlzdFswXS5hdHRyaWJ1dGVOYW1lID09PSBcInN0eWxlXCIpIHtcblx0XHRcdCAgJHRhcmdldC5jbG9zZXN0KFwiW2RhdGEtbXV0YXRlXVwiKS5hdHRyKFwiZGF0YS1ldmVudHNcIixcIm11dGF0ZVwiKTtcblx0XHRcdCAgJHRhcmdldC5jbG9zZXN0KFwiW2RhdGEtbXV0YXRlXVwiKS50cmlnZ2VySGFuZGxlcignbXV0YXRlbWUuemYudHJpZ2dlcicsIFskdGFyZ2V0LmNsb3Nlc3QoXCJbZGF0YS1tdXRhdGVdXCIpXSk7XG5cdFx0ICB9XG5cdFx0ICBicmVhaztcblxuICAgICAgICBjYXNlIFwiY2hpbGRMaXN0XCI6XG5cdFx0ICAkdGFyZ2V0LmNsb3Nlc3QoXCJbZGF0YS1tdXRhdGVdXCIpLmF0dHIoXCJkYXRhLWV2ZW50c1wiLFwibXV0YXRlXCIpO1xuXHRcdCAgJHRhcmdldC5jbG9zZXN0KFwiW2RhdGEtbXV0YXRlXVwiKS50cmlnZ2VySGFuZGxlcignbXV0YXRlbWUuemYudHJpZ2dlcicsIFskdGFyZ2V0LmNsb3Nlc3QoXCJbZGF0YS1tdXRhdGVdXCIpXSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vbm90aGluZ1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAobm9kZXMubGVuZ3RoKSB7XG4gICAgICAvL2ZvciBlYWNoIGVsZW1lbnQgdGhhdCBuZWVkcyB0byBsaXN0ZW4gZm9yIHJlc2l6aW5nLCBzY3JvbGxpbmcsIG9yIG11dGF0aW9uIGFkZCBhIHNpbmdsZSBvYnNlcnZlclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gbm9kZXMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgIHZhciBlbGVtZW50T2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihsaXN0ZW5pbmdFbGVtZW50c011dGF0aW9uKTtcbiAgICAgICAgZWxlbWVudE9ic2VydmVyLm9ic2VydmUobm9kZXNbaV0sIHsgYXR0cmlidXRlczogdHJ1ZSwgY2hpbGRMaXN0OiB0cnVlLCBjaGFyYWN0ZXJEYXRhOiBmYWxzZSwgc3VidHJlZTogdHJ1ZSwgYXR0cmlidXRlRmlsdGVyOiBbXCJkYXRhLWV2ZW50c1wiLCBcInN0eWxlXCJdIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy8gW1BIXVxuLy8gRm91bmRhdGlvbi5DaGVja1dhdGNoZXJzID0gY2hlY2tXYXRjaGVycztcbkZvdW5kYXRpb24uSUhlYXJZb3UgPSBjaGVja0xpc3RlbmVycztcbi8vIEZvdW5kYXRpb24uSVNlZVlvdSA9IHNjcm9sbExpc3RlbmVyO1xuLy8gRm91bmRhdGlvbi5JRmVlbFlvdSA9IGNsb3NlbWVMaXN0ZW5lcjtcblxufShqUXVlcnkpO1xuXG4vLyBmdW5jdGlvbiBkb21NdXRhdGlvbk9ic2VydmVyKGRlYm91bmNlKSB7XG4vLyAgIC8vICEhISBUaGlzIGlzIGNvbWluZyBzb29uIGFuZCBuZWVkcyBtb3JlIHdvcms7IG5vdCBhY3RpdmUgICEhISAvL1xuLy8gICB2YXIgdGltZXIsXG4vLyAgIG5vZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbXV0YXRlXScpO1xuLy8gICAvL1xuLy8gICBpZiAobm9kZXMubGVuZ3RoKSB7XG4vLyAgICAgLy8gdmFyIE11dGF0aW9uT2JzZXJ2ZXIgPSAoZnVuY3Rpb24gKCkge1xuLy8gICAgIC8vICAgdmFyIHByZWZpeGVzID0gWydXZWJLaXQnLCAnTW96JywgJ08nLCAnTXMnLCAnJ107XG4vLyAgICAgLy8gICBmb3IgKHZhciBpPTA7IGkgPCBwcmVmaXhlcy5sZW5ndGg7IGkrKykge1xuLy8gICAgIC8vICAgICBpZiAocHJlZml4ZXNbaV0gKyAnTXV0YXRpb25PYnNlcnZlcicgaW4gd2luZG93KSB7XG4vLyAgICAgLy8gICAgICAgcmV0dXJuIHdpbmRvd1twcmVmaXhlc1tpXSArICdNdXRhdGlvbk9ic2VydmVyJ107XG4vLyAgICAgLy8gICAgIH1cbi8vICAgICAvLyAgIH1cbi8vICAgICAvLyAgIHJldHVybiBmYWxzZTtcbi8vICAgICAvLyB9KCkpO1xuLy9cbi8vXG4vLyAgICAgLy9mb3IgdGhlIGJvZHksIHdlIG5lZWQgdG8gbGlzdGVuIGZvciBhbGwgY2hhbmdlcyBlZmZlY3RpbmcgdGhlIHN0eWxlIGFuZCBjbGFzcyBhdHRyaWJ1dGVzXG4vLyAgICAgdmFyIGJvZHlPYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGJvZHlNdXRhdGlvbik7XG4vLyAgICAgYm9keU9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwgeyBhdHRyaWJ1dGVzOiB0cnVlLCBjaGlsZExpc3Q6IHRydWUsIGNoYXJhY3RlckRhdGE6IGZhbHNlLCBzdWJ0cmVlOnRydWUsIGF0dHJpYnV0ZUZpbHRlcjpbXCJzdHlsZVwiLCBcImNsYXNzXCJdfSk7XG4vL1xuLy9cbi8vICAgICAvL2JvZHkgY2FsbGJhY2tcbi8vICAgICBmdW5jdGlvbiBib2R5TXV0YXRpb24obXV0YXRlKSB7XG4vLyAgICAgICAvL3RyaWdnZXIgYWxsIGxpc3RlbmluZyBlbGVtZW50cyBhbmQgc2lnbmFsIGEgbXV0YXRpb24gZXZlbnRcbi8vICAgICAgIGlmICh0aW1lcikgeyBjbGVhclRpbWVvdXQodGltZXIpOyB9XG4vL1xuLy8gICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuLy8gICAgICAgICBib2R5T2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuLy8gICAgICAgICAkKCdbZGF0YS1tdXRhdGVdJykuYXR0cignZGF0YS1ldmVudHMnLFwibXV0YXRlXCIpO1xuLy8gICAgICAgfSwgZGVib3VuY2UgfHwgMTUwKTtcbi8vICAgICB9XG4vLyAgIH1cbi8vIH1cbiIsIi8qIVxuICogalF1ZXJ5IEphdmFTY3JpcHQgTGlicmFyeSB2Mi4xLjFcbiAqIGh0dHA6Ly9qcXVlcnkuY29tL1xuICpcbiAqIEluY2x1ZGVzIFNpenpsZS5qc1xuICogaHR0cDovL3NpenpsZWpzLmNvbS9cbiAqXG4gKiBDb3B5cmlnaHQgMjAwNSwgMjAxNCBqUXVlcnkgRm91bmRhdGlvbiwgSW5jLiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBEYXRlOiAyMDE0LTA1LTAxVDE3OjExWlxuICovXG5cbihmdW5jdGlvbiggZ2xvYmFsLCBmYWN0b3J5ICkge1xuXG5cdGlmICggdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0Ly8gRm9yIENvbW1vbkpTIGFuZCBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB3aGVyZSBhIHByb3BlciB3aW5kb3cgaXMgcHJlc2VudCxcblx0XHQvLyBleGVjdXRlIHRoZSBmYWN0b3J5IGFuZCBnZXQgalF1ZXJ5XG5cdFx0Ly8gRm9yIGVudmlyb25tZW50cyB0aGF0IGRvIG5vdCBpbmhlcmVudGx5IHBvc3NlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnRcblx0XHQvLyAoc3VjaCBhcyBOb2RlLmpzKSwgZXhwb3NlIGEgalF1ZXJ5LW1ha2luZyBmYWN0b3J5IGFzIG1vZHVsZS5leHBvcnRzXG5cdFx0Ly8gVGhpcyBhY2NlbnR1YXRlcyB0aGUgbmVlZCBmb3IgdGhlIGNyZWF0aW9uIG9mIGEgcmVhbCB3aW5kb3dcblx0XHQvLyBlLmcuIHZhciBqUXVlcnkgPSByZXF1aXJlKFwianF1ZXJ5XCIpKHdpbmRvdyk7XG5cdFx0Ly8gU2VlIHRpY2tldCAjMTQ1NDkgZm9yIG1vcmUgaW5mb1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZ2xvYmFsLmRvY3VtZW50ID9cblx0XHRcdGZhY3RvcnkoIGdsb2JhbCwgdHJ1ZSApIDpcblx0XHRcdGZ1bmN0aW9uKCB3ICkge1xuXHRcdFx0XHRpZiAoICF3LmRvY3VtZW50ICkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvciggXCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50XCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gZmFjdG9yeSggdyApO1xuXHRcdFx0fTtcblx0fSBlbHNlIHtcblx0XHRmYWN0b3J5KCBnbG9iYWwgKTtcblx0fVxuXG4vLyBQYXNzIHRoaXMgaWYgd2luZG93IGlzIG5vdCBkZWZpbmVkIHlldFxufSh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24oIHdpbmRvdywgbm9HbG9iYWwgKSB7XG5cbi8vIENhbid0IGRvIHRoaXMgYmVjYXVzZSBzZXZlcmFsIGFwcHMgaW5jbHVkaW5nIEFTUC5ORVQgdHJhY2Vcbi8vIHRoZSBzdGFjayB2aWEgYXJndW1lbnRzLmNhbGxlci5jYWxsZWUgYW5kIEZpcmVmb3ggZGllcyBpZlxuLy8geW91IHRyeSB0byB0cmFjZSB0aHJvdWdoIFwidXNlIHN0cmljdFwiIGNhbGwgY2hhaW5zLiAoIzEzMzM1KVxuLy8gU3VwcG9ydDogRmlyZWZveCAxOCtcbi8vXG5cbnZhciBhcnIgPSBbXTtcblxudmFyIHNsaWNlID0gYXJyLnNsaWNlO1xuXG52YXIgY29uY2F0ID0gYXJyLmNvbmNhdDtcblxudmFyIHB1c2ggPSBhcnIucHVzaDtcblxudmFyIGluZGV4T2YgPSBhcnIuaW5kZXhPZjtcblxudmFyIGNsYXNzMnR5cGUgPSB7fTtcblxudmFyIHRvU3RyaW5nID0gY2xhc3MydHlwZS50b1N0cmluZztcblxudmFyIGhhc093biA9IGNsYXNzMnR5cGUuaGFzT3duUHJvcGVydHk7XG5cbnZhciBzdXBwb3J0ID0ge307XG5cblxuXG52YXJcblx0Ly8gVXNlIHRoZSBjb3JyZWN0IGRvY3VtZW50IGFjY29yZGluZ2x5IHdpdGggd2luZG93IGFyZ3VtZW50IChzYW5kYm94KVxuXHRkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudCxcblxuXHR2ZXJzaW9uID0gXCIyLjEuMVwiLFxuXG5cdC8vIERlZmluZSBhIGxvY2FsIGNvcHkgb2YgalF1ZXJ5XG5cdGpRdWVyeSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcblx0XHQvLyBUaGUgalF1ZXJ5IG9iamVjdCBpcyBhY3R1YWxseSBqdXN0IHRoZSBpbml0IGNvbnN0cnVjdG9yICdlbmhhbmNlZCdcblx0XHQvLyBOZWVkIGluaXQgaWYgalF1ZXJ5IGlzIGNhbGxlZCAoanVzdCBhbGxvdyBlcnJvciB0byBiZSB0aHJvd24gaWYgbm90IGluY2x1ZGVkKVxuXHRcdHJldHVybiBuZXcgalF1ZXJ5LmZuLmluaXQoIHNlbGVjdG9yLCBjb250ZXh0ICk7XG5cdH0sXG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZDw0LjFcblx0Ly8gTWFrZSBzdXJlIHdlIHRyaW0gQk9NIGFuZCBOQlNQXG5cdHJ0cmltID0gL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLFxuXG5cdC8vIE1hdGNoZXMgZGFzaGVkIHN0cmluZyBmb3IgY2FtZWxpemluZ1xuXHRybXNQcmVmaXggPSAvXi1tcy0vLFxuXHRyZGFzaEFscGhhID0gLy0oW1xcZGEtel0pL2dpLFxuXG5cdC8vIFVzZWQgYnkgalF1ZXJ5LmNhbWVsQ2FzZSBhcyBjYWxsYmFjayB0byByZXBsYWNlKClcblx0ZmNhbWVsQ2FzZSA9IGZ1bmN0aW9uKCBhbGwsIGxldHRlciApIHtcblx0XHRyZXR1cm4gbGV0dGVyLnRvVXBwZXJDYXNlKCk7XG5cdH07XG5cbmpRdWVyeS5mbiA9IGpRdWVyeS5wcm90b3R5cGUgPSB7XG5cdC8vIFRoZSBjdXJyZW50IHZlcnNpb24gb2YgalF1ZXJ5IGJlaW5nIHVzZWRcblx0anF1ZXJ5OiB2ZXJzaW9uLFxuXG5cdGNvbnN0cnVjdG9yOiBqUXVlcnksXG5cblx0Ly8gU3RhcnQgd2l0aCBhbiBlbXB0eSBzZWxlY3RvclxuXHRzZWxlY3RvcjogXCJcIixcblxuXHQvLyBUaGUgZGVmYXVsdCBsZW5ndGggb2YgYSBqUXVlcnkgb2JqZWN0IGlzIDBcblx0bGVuZ3RoOiAwLFxuXG5cdHRvQXJyYXk6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBzbGljZS5jYWxsKCB0aGlzICk7XG5cdH0sXG5cblx0Ly8gR2V0IHRoZSBOdGggZWxlbWVudCBpbiB0aGUgbWF0Y2hlZCBlbGVtZW50IHNldCBPUlxuXHQvLyBHZXQgdGhlIHdob2xlIG1hdGNoZWQgZWxlbWVudCBzZXQgYXMgYSBjbGVhbiBhcnJheVxuXHRnZXQ6IGZ1bmN0aW9uKCBudW0gKSB7XG5cdFx0cmV0dXJuIG51bSAhPSBudWxsID9cblxuXHRcdFx0Ly8gUmV0dXJuIGp1c3QgdGhlIG9uZSBlbGVtZW50IGZyb20gdGhlIHNldFxuXHRcdFx0KCBudW0gPCAwID8gdGhpc1sgbnVtICsgdGhpcy5sZW5ndGggXSA6IHRoaXNbIG51bSBdICkgOlxuXG5cdFx0XHQvLyBSZXR1cm4gYWxsIHRoZSBlbGVtZW50cyBpbiBhIGNsZWFuIGFycmF5XG5cdFx0XHRzbGljZS5jYWxsKCB0aGlzICk7XG5cdH0sXG5cblx0Ly8gVGFrZSBhbiBhcnJheSBvZiBlbGVtZW50cyBhbmQgcHVzaCBpdCBvbnRvIHRoZSBzdGFja1xuXHQvLyAocmV0dXJuaW5nIHRoZSBuZXcgbWF0Y2hlZCBlbGVtZW50IHNldClcblx0cHVzaFN0YWNrOiBmdW5jdGlvbiggZWxlbXMgKSB7XG5cblx0XHQvLyBCdWlsZCBhIG5ldyBqUXVlcnkgbWF0Y2hlZCBlbGVtZW50IHNldFxuXHRcdHZhciByZXQgPSBqUXVlcnkubWVyZ2UoIHRoaXMuY29uc3RydWN0b3IoKSwgZWxlbXMgKTtcblxuXHRcdC8vIEFkZCB0aGUgb2xkIG9iamVjdCBvbnRvIHRoZSBzdGFjayAoYXMgYSByZWZlcmVuY2UpXG5cdFx0cmV0LnByZXZPYmplY3QgPSB0aGlzO1xuXHRcdHJldC5jb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuXG5cdFx0Ly8gUmV0dXJuIHRoZSBuZXdseS1mb3JtZWQgZWxlbWVudCBzZXRcblx0XHRyZXR1cm4gcmV0O1xuXHR9LFxuXG5cdC8vIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZXZlcnkgZWxlbWVudCBpbiB0aGUgbWF0Y2hlZCBzZXQuXG5cdC8vIChZb3UgY2FuIHNlZWQgdGhlIGFyZ3VtZW50cyB3aXRoIGFuIGFycmF5IG9mIGFyZ3MsIGJ1dCB0aGlzIGlzXG5cdC8vIG9ubHkgdXNlZCBpbnRlcm5hbGx5Lilcblx0ZWFjaDogZnVuY3Rpb24oIGNhbGxiYWNrLCBhcmdzICkge1xuXHRcdHJldHVybiBqUXVlcnkuZWFjaCggdGhpcywgY2FsbGJhY2ssIGFyZ3MgKTtcblx0fSxcblxuXHRtYXA6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeS5tYXAodGhpcywgZnVuY3Rpb24oIGVsZW0sIGkgKSB7XG5cdFx0XHRyZXR1cm4gY2FsbGJhY2suY2FsbCggZWxlbSwgaSwgZWxlbSApO1xuXHRcdH0pKTtcblx0fSxcblxuXHRzbGljZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBzbGljZS5hcHBseSggdGhpcywgYXJndW1lbnRzICkgKTtcblx0fSxcblxuXHRmaXJzdDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZXEoIDAgKTtcblx0fSxcblxuXHRsYXN0OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5lcSggLTEgKTtcblx0fSxcblxuXHRlcTogZnVuY3Rpb24oIGkgKSB7XG5cdFx0dmFyIGxlbiA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0aiA9ICtpICsgKCBpIDwgMCA/IGxlbiA6IDAgKTtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGogPj0gMCAmJiBqIDwgbGVuID8gWyB0aGlzW2pdIF0gOiBbXSApO1xuXHR9LFxuXG5cdGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMucHJldk9iamVjdCB8fCB0aGlzLmNvbnN0cnVjdG9yKG51bGwpO1xuXHR9LFxuXG5cdC8vIEZvciBpbnRlcm5hbCB1c2Ugb25seS5cblx0Ly8gQmVoYXZlcyBsaWtlIGFuIEFycmF5J3MgbWV0aG9kLCBub3QgbGlrZSBhIGpRdWVyeSBtZXRob2QuXG5cdHB1c2g6IHB1c2gsXG5cdHNvcnQ6IGFyci5zb3J0LFxuXHRzcGxpY2U6IGFyci5zcGxpY2Vcbn07XG5cbmpRdWVyeS5leHRlbmQgPSBqUXVlcnkuZm4uZXh0ZW5kID0gZnVuY3Rpb24oKSB7XG5cdHZhciBvcHRpb25zLCBuYW1lLCBzcmMsIGNvcHksIGNvcHlJc0FycmF5LCBjbG9uZSxcblx0XHR0YXJnZXQgPSBhcmd1bWVudHNbMF0gfHwge30sXG5cdFx0aSA9IDEsXG5cdFx0bGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcblx0XHRkZWVwID0gZmFsc2U7XG5cblx0Ly8gSGFuZGxlIGEgZGVlcCBjb3B5IHNpdHVhdGlvblxuXHRpZiAoIHR5cGVvZiB0YXJnZXQgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdGRlZXAgPSB0YXJnZXQ7XG5cblx0XHQvLyBza2lwIHRoZSBib29sZWFuIGFuZCB0aGUgdGFyZ2V0XG5cdFx0dGFyZ2V0ID0gYXJndW1lbnRzWyBpIF0gfHwge307XG5cdFx0aSsrO1xuXHR9XG5cblx0Ly8gSGFuZGxlIGNhc2Ugd2hlbiB0YXJnZXQgaXMgYSBzdHJpbmcgb3Igc29tZXRoaW5nIChwb3NzaWJsZSBpbiBkZWVwIGNvcHkpXG5cdGlmICggdHlwZW9mIHRhcmdldCAhPT0gXCJvYmplY3RcIiAmJiAhalF1ZXJ5LmlzRnVuY3Rpb24odGFyZ2V0KSApIHtcblx0XHR0YXJnZXQgPSB7fTtcblx0fVxuXG5cdC8vIGV4dGVuZCBqUXVlcnkgaXRzZWxmIGlmIG9ubHkgb25lIGFyZ3VtZW50IGlzIHBhc3NlZFxuXHRpZiAoIGkgPT09IGxlbmd0aCApIHtcblx0XHR0YXJnZXQgPSB0aGlzO1xuXHRcdGktLTtcblx0fVxuXG5cdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdC8vIE9ubHkgZGVhbCB3aXRoIG5vbi1udWxsL3VuZGVmaW5lZCB2YWx1ZXNcblx0XHRpZiAoIChvcHRpb25zID0gYXJndW1lbnRzWyBpIF0pICE9IG51bGwgKSB7XG5cdFx0XHQvLyBFeHRlbmQgdGhlIGJhc2Ugb2JqZWN0XG5cdFx0XHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0XHRcdHNyYyA9IHRhcmdldFsgbmFtZSBdO1xuXHRcdFx0XHRjb3B5ID0gb3B0aW9uc1sgbmFtZSBdO1xuXG5cdFx0XHRcdC8vIFByZXZlbnQgbmV2ZXItZW5kaW5nIGxvb3Bcblx0XHRcdFx0aWYgKCB0YXJnZXQgPT09IGNvcHkgKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZWN1cnNlIGlmIHdlJ3JlIG1lcmdpbmcgcGxhaW4gb2JqZWN0cyBvciBhcnJheXNcblx0XHRcdFx0aWYgKCBkZWVwICYmIGNvcHkgJiYgKCBqUXVlcnkuaXNQbGFpbk9iamVjdChjb3B5KSB8fCAoY29weUlzQXJyYXkgPSBqUXVlcnkuaXNBcnJheShjb3B5KSkgKSApIHtcblx0XHRcdFx0XHRpZiAoIGNvcHlJc0FycmF5ICkge1xuXHRcdFx0XHRcdFx0Y29weUlzQXJyYXkgPSBmYWxzZTtcblx0XHRcdFx0XHRcdGNsb25lID0gc3JjICYmIGpRdWVyeS5pc0FycmF5KHNyYykgPyBzcmMgOiBbXTtcblxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjbG9uZSA9IHNyYyAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdChzcmMpID8gc3JjIDoge307XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gTmV2ZXIgbW92ZSBvcmlnaW5hbCBvYmplY3RzLCBjbG9uZSB0aGVtXG5cdFx0XHRcdFx0dGFyZ2V0WyBuYW1lIF0gPSBqUXVlcnkuZXh0ZW5kKCBkZWVwLCBjbG9uZSwgY29weSApO1xuXG5cdFx0XHRcdC8vIERvbid0IGJyaW5nIGluIHVuZGVmaW5lZCB2YWx1ZXNcblx0XHRcdFx0fSBlbHNlIGlmICggY29weSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHRhcmdldFsgbmFtZSBdID0gY29weTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgbW9kaWZpZWQgb2JqZWN0XG5cdHJldHVybiB0YXJnZXQ7XG59O1xuXG5qUXVlcnkuZXh0ZW5kKHtcblx0Ly8gVW5pcXVlIGZvciBlYWNoIGNvcHkgb2YgalF1ZXJ5IG9uIHRoZSBwYWdlXG5cdGV4cGFuZG86IFwialF1ZXJ5XCIgKyAoIHZlcnNpb24gKyBNYXRoLnJhbmRvbSgpICkucmVwbGFjZSggL1xcRC9nLCBcIlwiICksXG5cblx0Ly8gQXNzdW1lIGpRdWVyeSBpcyByZWFkeSB3aXRob3V0IHRoZSByZWFkeSBtb2R1bGVcblx0aXNSZWFkeTogdHJ1ZSxcblxuXHRlcnJvcjogZnVuY3Rpb24oIG1zZyApIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoIG1zZyApO1xuXHR9LFxuXG5cdG5vb3A6IGZ1bmN0aW9uKCkge30sXG5cblx0Ly8gU2VlIHRlc3QvdW5pdC9jb3JlLmpzIGZvciBkZXRhaWxzIGNvbmNlcm5pbmcgaXNGdW5jdGlvbi5cblx0Ly8gU2luY2UgdmVyc2lvbiAxLjMsIERPTSBtZXRob2RzIGFuZCBmdW5jdGlvbnMgbGlrZSBhbGVydFxuXHQvLyBhcmVuJ3Qgc3VwcG9ydGVkLiBUaGV5IHJldHVybiBmYWxzZSBvbiBJRSAoIzI5NjgpLlxuXHRpc0Z1bmN0aW9uOiBmdW5jdGlvbiggb2JqICkge1xuXHRcdHJldHVybiBqUXVlcnkudHlwZShvYmopID09PSBcImZ1bmN0aW9uXCI7XG5cdH0sXG5cblx0aXNBcnJheTogQXJyYXkuaXNBcnJheSxcblxuXHRpc1dpbmRvdzogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRyZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqID09PSBvYmoud2luZG93O1xuXHR9LFxuXG5cdGlzTnVtZXJpYzogZnVuY3Rpb24oIG9iaiApIHtcblx0XHQvLyBwYXJzZUZsb2F0IE5hTnMgbnVtZXJpYy1jYXN0IGZhbHNlIHBvc2l0aXZlcyAobnVsbHx0cnVlfGZhbHNlfFwiXCIpXG5cdFx0Ly8gLi4uYnV0IG1pc2ludGVycHJldHMgbGVhZGluZy1udW1iZXIgc3RyaW5ncywgcGFydGljdWxhcmx5IGhleCBsaXRlcmFscyAoXCIweC4uLlwiKVxuXHRcdC8vIHN1YnRyYWN0aW9uIGZvcmNlcyBpbmZpbml0aWVzIHRvIE5hTlxuXHRcdHJldHVybiAhalF1ZXJ5LmlzQXJyYXkoIG9iaiApICYmIG9iaiAtIHBhcnNlRmxvYXQoIG9iaiApID49IDA7XG5cdH0sXG5cblx0aXNQbGFpbk9iamVjdDogZnVuY3Rpb24oIG9iaiApIHtcblx0XHQvLyBOb3QgcGxhaW4gb2JqZWN0czpcblx0XHQvLyAtIEFueSBvYmplY3Qgb3IgdmFsdWUgd2hvc2UgaW50ZXJuYWwgW1tDbGFzc11dIHByb3BlcnR5IGlzIG5vdCBcIltvYmplY3QgT2JqZWN0XVwiXG5cdFx0Ly8gLSBET00gbm9kZXNcblx0XHQvLyAtIHdpbmRvd1xuXHRcdGlmICggalF1ZXJ5LnR5cGUoIG9iaiApICE9PSBcIm9iamVjdFwiIHx8IG9iai5ub2RlVHlwZSB8fCBqUXVlcnkuaXNXaW5kb3coIG9iaiApICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmICggb2JqLmNvbnN0cnVjdG9yICYmXG5cdFx0XHRcdCFoYXNPd24uY2FsbCggb2JqLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwgXCJpc1Byb3RvdHlwZU9mXCIgKSApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBJZiB0aGUgZnVuY3Rpb24gaGFzbid0IHJldHVybmVkIGFscmVhZHksIHdlJ3JlIGNvbmZpZGVudCB0aGF0XG5cdFx0Ly8gfG9ianwgaXMgYSBwbGFpbiBvYmplY3QsIGNyZWF0ZWQgYnkge30gb3IgY29uc3RydWN0ZWQgd2l0aCBuZXcgT2JqZWN0XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0aXNFbXB0eU9iamVjdDogZnVuY3Rpb24oIG9iaiApIHtcblx0XHR2YXIgbmFtZTtcblx0XHRmb3IgKCBuYW1lIGluIG9iaiApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0dHlwZTogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRpZiAoIG9iaiA9PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIG9iaiArIFwiXCI7XG5cdFx0fVxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPCA0LjAsIGlPUyA8IDYgKGZ1bmN0aW9uaXNoIFJlZ0V4cClcblx0XHRyZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCIgP1xuXHRcdFx0Y2xhc3MydHlwZVsgdG9TdHJpbmcuY2FsbChvYmopIF0gfHwgXCJvYmplY3RcIiA6XG5cdFx0XHR0eXBlb2Ygb2JqO1xuXHR9LFxuXG5cdC8vIEV2YWx1YXRlcyBhIHNjcmlwdCBpbiBhIGdsb2JhbCBjb250ZXh0XG5cdGdsb2JhbEV2YWw6IGZ1bmN0aW9uKCBjb2RlICkge1xuXHRcdHZhciBzY3JpcHQsXG5cdFx0XHRpbmRpcmVjdCA9IGV2YWw7XG5cblx0XHRjb2RlID0galF1ZXJ5LnRyaW0oIGNvZGUgKTtcblxuXHRcdGlmICggY29kZSApIHtcblx0XHRcdC8vIElmIHRoZSBjb2RlIGluY2x1ZGVzIGEgdmFsaWQsIHByb2xvZ3VlIHBvc2l0aW9uXG5cdFx0XHQvLyBzdHJpY3QgbW9kZSBwcmFnbWEsIGV4ZWN1dGUgY29kZSBieSBpbmplY3RpbmcgYVxuXHRcdFx0Ly8gc2NyaXB0IHRhZyBpbnRvIHRoZSBkb2N1bWVudC5cblx0XHRcdGlmICggY29kZS5pbmRleE9mKFwidXNlIHN0cmljdFwiKSA9PT0gMSApIHtcblx0XHRcdFx0c2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcblx0XHRcdFx0c2NyaXB0LnRleHQgPSBjb2RlO1xuXHRcdFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKCBzY3JpcHQgKS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBzY3JpcHQgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBPdGhlcndpc2UsIGF2b2lkIHRoZSBET00gbm9kZSBjcmVhdGlvbiwgaW5zZXJ0aW9uXG5cdFx0XHQvLyBhbmQgcmVtb3ZhbCBieSB1c2luZyBhbiBpbmRpcmVjdCBnbG9iYWwgZXZhbFxuXHRcdFx0XHRpbmRpcmVjdCggY29kZSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHQvLyBDb252ZXJ0IGRhc2hlZCB0byBjYW1lbENhc2U7IHVzZWQgYnkgdGhlIGNzcyBhbmQgZGF0YSBtb2R1bGVzXG5cdC8vIE1pY3Jvc29mdCBmb3Jnb3QgdG8gaHVtcCB0aGVpciB2ZW5kb3IgcHJlZml4ICgjOTU3Milcblx0Y2FtZWxDYXNlOiBmdW5jdGlvbiggc3RyaW5nICkge1xuXHRcdHJldHVybiBzdHJpbmcucmVwbGFjZSggcm1zUHJlZml4LCBcIm1zLVwiICkucmVwbGFjZSggcmRhc2hBbHBoYSwgZmNhbWVsQ2FzZSApO1xuXHR9LFxuXG5cdG5vZGVOYW1lOiBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcblx0XHRyZXR1cm4gZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKTtcblx0fSxcblxuXHQvLyBhcmdzIGlzIGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5XG5cdGVhY2g6IGZ1bmN0aW9uKCBvYmosIGNhbGxiYWNrLCBhcmdzICkge1xuXHRcdHZhciB2YWx1ZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0bGVuZ3RoID0gb2JqLmxlbmd0aCxcblx0XHRcdGlzQXJyYXkgPSBpc0FycmF5bGlrZSggb2JqICk7XG5cblx0XHRpZiAoIGFyZ3MgKSB7XG5cdFx0XHRpZiAoIGlzQXJyYXkgKSB7XG5cdFx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHRcdHZhbHVlID0gY2FsbGJhY2suYXBwbHkoIG9ialsgaSBdLCBhcmdzICk7XG5cblx0XHRcdFx0XHRpZiAoIHZhbHVlID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yICggaSBpbiBvYmogKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSBjYWxsYmFjay5hcHBseSggb2JqWyBpIF0sIGFyZ3MgKTtcblxuXHRcdFx0XHRcdGlmICggdmFsdWUgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBBIHNwZWNpYWwsIGZhc3QsIGNhc2UgZm9yIHRoZSBtb3N0IGNvbW1vbiB1c2Ugb2YgZWFjaFxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoIGlzQXJyYXkgKSB7XG5cdFx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHRcdHZhbHVlID0gY2FsbGJhY2suY2FsbCggb2JqWyBpIF0sIGksIG9ialsgaSBdICk7XG5cblx0XHRcdFx0XHRpZiAoIHZhbHVlID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yICggaSBpbiBvYmogKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSBjYWxsYmFjay5jYWxsKCBvYmpbIGkgXSwgaSwgb2JqWyBpIF0gKTtcblxuXHRcdFx0XHRcdGlmICggdmFsdWUgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9iajtcblx0fSxcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkPDQuMVxuXHR0cmltOiBmdW5jdGlvbiggdGV4dCApIHtcblx0XHRyZXR1cm4gdGV4dCA9PSBudWxsID9cblx0XHRcdFwiXCIgOlxuXHRcdFx0KCB0ZXh0ICsgXCJcIiApLnJlcGxhY2UoIHJ0cmltLCBcIlwiICk7XG5cdH0sXG5cblx0Ly8gcmVzdWx0cyBpcyBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seVxuXHRtYWtlQXJyYXk6IGZ1bmN0aW9uKCBhcnIsIHJlc3VsdHMgKSB7XG5cdFx0dmFyIHJldCA9IHJlc3VsdHMgfHwgW107XG5cblx0XHRpZiAoIGFyciAhPSBudWxsICkge1xuXHRcdFx0aWYgKCBpc0FycmF5bGlrZSggT2JqZWN0KGFycikgKSApIHtcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCByZXQsXG5cdFx0XHRcdFx0dHlwZW9mIGFyciA9PT0gXCJzdHJpbmdcIiA/XG5cdFx0XHRcdFx0WyBhcnIgXSA6IGFyclxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cHVzaC5jYWxsKCByZXQsIGFyciApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiByZXQ7XG5cdH0sXG5cblx0aW5BcnJheTogZnVuY3Rpb24oIGVsZW0sIGFyciwgaSApIHtcblx0XHRyZXR1cm4gYXJyID09IG51bGwgPyAtMSA6IGluZGV4T2YuY2FsbCggYXJyLCBlbGVtLCBpICk7XG5cdH0sXG5cblx0bWVyZ2U6IGZ1bmN0aW9uKCBmaXJzdCwgc2Vjb25kICkge1xuXHRcdHZhciBsZW4gPSArc2Vjb25kLmxlbmd0aCxcblx0XHRcdGogPSAwLFxuXHRcdFx0aSA9IGZpcnN0Lmxlbmd0aDtcblxuXHRcdGZvciAoIDsgaiA8IGxlbjsgaisrICkge1xuXHRcdFx0Zmlyc3RbIGkrKyBdID0gc2Vjb25kWyBqIF07XG5cdFx0fVxuXG5cdFx0Zmlyc3QubGVuZ3RoID0gaTtcblxuXHRcdHJldHVybiBmaXJzdDtcblx0fSxcblxuXHRncmVwOiBmdW5jdGlvbiggZWxlbXMsIGNhbGxiYWNrLCBpbnZlcnQgKSB7XG5cdFx0dmFyIGNhbGxiYWNrSW52ZXJzZSxcblx0XHRcdG1hdGNoZXMgPSBbXSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0bGVuZ3RoID0gZWxlbXMubGVuZ3RoLFxuXHRcdFx0Y2FsbGJhY2tFeHBlY3QgPSAhaW52ZXJ0O1xuXG5cdFx0Ly8gR28gdGhyb3VnaCB0aGUgYXJyYXksIG9ubHkgc2F2aW5nIHRoZSBpdGVtc1xuXHRcdC8vIHRoYXQgcGFzcyB0aGUgdmFsaWRhdG9yIGZ1bmN0aW9uXG5cdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRjYWxsYmFja0ludmVyc2UgPSAhY2FsbGJhY2soIGVsZW1zWyBpIF0sIGkgKTtcblx0XHRcdGlmICggY2FsbGJhY2tJbnZlcnNlICE9PSBjYWxsYmFja0V4cGVjdCApIHtcblx0XHRcdFx0bWF0Y2hlcy5wdXNoKCBlbGVtc1sgaSBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1hdGNoZXM7XG5cdH0sXG5cblx0Ly8gYXJnIGlzIGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5XG5cdG1hcDogZnVuY3Rpb24oIGVsZW1zLCBjYWxsYmFjaywgYXJnICkge1xuXHRcdHZhciB2YWx1ZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0bGVuZ3RoID0gZWxlbXMubGVuZ3RoLFxuXHRcdFx0aXNBcnJheSA9IGlzQXJyYXlsaWtlKCBlbGVtcyApLFxuXHRcdFx0cmV0ID0gW107XG5cblx0XHQvLyBHbyB0aHJvdWdoIHRoZSBhcnJheSwgdHJhbnNsYXRpbmcgZWFjaCBvZiB0aGUgaXRlbXMgdG8gdGhlaXIgbmV3IHZhbHVlc1xuXHRcdGlmICggaXNBcnJheSApIHtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHR2YWx1ZSA9IGNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpLCBhcmcgKTtcblxuXHRcdFx0XHRpZiAoIHZhbHVlICE9IG51bGwgKSB7XG5cdFx0XHRcdFx0cmV0LnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdC8vIEdvIHRocm91Z2ggZXZlcnkga2V5IG9uIHRoZSBvYmplY3QsXG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAoIGkgaW4gZWxlbXMgKSB7XG5cdFx0XHRcdHZhbHVlID0gY2FsbGJhY2soIGVsZW1zWyBpIF0sIGksIGFyZyApO1xuXG5cdFx0XHRcdGlmICggdmFsdWUgIT0gbnVsbCApIHtcblx0XHRcdFx0XHRyZXQucHVzaCggdmFsdWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcblx0XHRyZXR1cm4gY29uY2F0LmFwcGx5KCBbXSwgcmV0ICk7XG5cdH0sXG5cblx0Ly8gQSBnbG9iYWwgR1VJRCBjb3VudGVyIGZvciBvYmplY3RzXG5cdGd1aWQ6IDEsXG5cblx0Ly8gQmluZCBhIGZ1bmN0aW9uIHRvIGEgY29udGV4dCwgb3B0aW9uYWxseSBwYXJ0aWFsbHkgYXBwbHlpbmcgYW55XG5cdC8vIGFyZ3VtZW50cy5cblx0cHJveHk6IGZ1bmN0aW9uKCBmbiwgY29udGV4dCApIHtcblx0XHR2YXIgdG1wLCBhcmdzLCBwcm94eTtcblxuXHRcdGlmICggdHlwZW9mIGNvbnRleHQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHR0bXAgPSBmblsgY29udGV4dCBdO1xuXHRcdFx0Y29udGV4dCA9IGZuO1xuXHRcdFx0Zm4gPSB0bXA7XG5cdFx0fVxuXG5cdFx0Ly8gUXVpY2sgY2hlY2sgdG8gZGV0ZXJtaW5lIGlmIHRhcmdldCBpcyBjYWxsYWJsZSwgaW4gdGhlIHNwZWNcblx0XHQvLyB0aGlzIHRocm93cyBhIFR5cGVFcnJvciwgYnV0IHdlIHdpbGwganVzdCByZXR1cm4gdW5kZWZpbmVkLlxuXHRcdGlmICggIWpRdWVyeS5pc0Z1bmN0aW9uKCBmbiApICkge1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHQvLyBTaW11bGF0ZWQgYmluZFxuXHRcdGFyZ3MgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMsIDIgKTtcblx0XHRwcm94eSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGZuLmFwcGx5KCBjb250ZXh0IHx8IHRoaXMsIGFyZ3MuY29uY2F0KCBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSApICk7XG5cdFx0fTtcblxuXHRcdC8vIFNldCB0aGUgZ3VpZCBvZiB1bmlxdWUgaGFuZGxlciB0byB0aGUgc2FtZSBvZiBvcmlnaW5hbCBoYW5kbGVyLCBzbyBpdCBjYW4gYmUgcmVtb3ZlZFxuXHRcdHByb3h5Lmd1aWQgPSBmbi5ndWlkID0gZm4uZ3VpZCB8fCBqUXVlcnkuZ3VpZCsrO1xuXG5cdFx0cmV0dXJuIHByb3h5O1xuXHR9LFxuXG5cdG5vdzogRGF0ZS5ub3csXG5cblx0Ly8galF1ZXJ5LnN1cHBvcnQgaXMgbm90IHVzZWQgaW4gQ29yZSBidXQgb3RoZXIgcHJvamVjdHMgYXR0YWNoIHRoZWlyXG5cdC8vIHByb3BlcnRpZXMgdG8gaXQgc28gaXQgbmVlZHMgdG8gZXhpc3QuXG5cdHN1cHBvcnQ6IHN1cHBvcnRcbn0pO1xuXG4vLyBQb3B1bGF0ZSB0aGUgY2xhc3MydHlwZSBtYXBcbmpRdWVyeS5lYWNoKFwiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvclwiLnNwbGl0KFwiIFwiKSwgZnVuY3Rpb24oaSwgbmFtZSkge1xuXHRjbGFzczJ0eXBlWyBcIltvYmplY3QgXCIgKyBuYW1lICsgXCJdXCIgXSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbn0pO1xuXG5mdW5jdGlvbiBpc0FycmF5bGlrZSggb2JqICkge1xuXHR2YXIgbGVuZ3RoID0gb2JqLmxlbmd0aCxcblx0XHR0eXBlID0galF1ZXJ5LnR5cGUoIG9iaiApO1xuXG5cdGlmICggdHlwZSA9PT0gXCJmdW5jdGlvblwiIHx8IGpRdWVyeS5pc1dpbmRvdyggb2JqICkgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0aWYgKCBvYmoubm9kZVR5cGUgPT09IDEgJiYgbGVuZ3RoICkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0cmV0dXJuIHR5cGUgPT09IFwiYXJyYXlcIiB8fCBsZW5ndGggPT09IDAgfHxcblx0XHR0eXBlb2YgbGVuZ3RoID09PSBcIm51bWJlclwiICYmIGxlbmd0aCA+IDAgJiYgKCBsZW5ndGggLSAxICkgaW4gb2JqO1xufVxudmFyIFNpenpsZSA9XG4vKiFcbiAqIFNpenpsZSBDU1MgU2VsZWN0b3IgRW5naW5lIHYxLjEwLjE5XG4gKiBodHRwOi8vc2l6emxlanMuY29tL1xuICpcbiAqIENvcHlyaWdodCAyMDEzIGpRdWVyeSBGb3VuZGF0aW9uLCBJbmMuIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIERhdGU6IDIwMTQtMDQtMThcbiAqL1xuKGZ1bmN0aW9uKCB3aW5kb3cgKSB7XG5cbnZhciBpLFxuXHRzdXBwb3J0LFxuXHRFeHByLFxuXHRnZXRUZXh0LFxuXHRpc1hNTCxcblx0dG9rZW5pemUsXG5cdGNvbXBpbGUsXG5cdHNlbGVjdCxcblx0b3V0ZXJtb3N0Q29udGV4dCxcblx0c29ydElucHV0LFxuXHRoYXNEdXBsaWNhdGUsXG5cblx0Ly8gTG9jYWwgZG9jdW1lbnQgdmFyc1xuXHRzZXREb2N1bWVudCxcblx0ZG9jdW1lbnQsXG5cdGRvY0VsZW0sXG5cdGRvY3VtZW50SXNIVE1MLFxuXHRyYnVnZ3lRU0EsXG5cdHJidWdneU1hdGNoZXMsXG5cdG1hdGNoZXMsXG5cdGNvbnRhaW5zLFxuXG5cdC8vIEluc3RhbmNlLXNwZWNpZmljIGRhdGFcblx0ZXhwYW5kbyA9IFwic2l6emxlXCIgKyAtKG5ldyBEYXRlKCkpLFxuXHRwcmVmZXJyZWREb2MgPSB3aW5kb3cuZG9jdW1lbnQsXG5cdGRpcnJ1bnMgPSAwLFxuXHRkb25lID0gMCxcblx0Y2xhc3NDYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG5cdHRva2VuQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLFxuXHRjb21waWxlckNhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0c29ydE9yZGVyID0gZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHR9XG5cdFx0cmV0dXJuIDA7XG5cdH0sXG5cblx0Ly8gR2VuZXJhbC1wdXJwb3NlIGNvbnN0YW50c1xuXHRzdHJ1bmRlZmluZWQgPSB0eXBlb2YgdW5kZWZpbmVkLFxuXHRNQVhfTkVHQVRJVkUgPSAxIDw8IDMxLFxuXG5cdC8vIEluc3RhbmNlIG1ldGhvZHNcblx0aGFzT3duID0gKHt9KS5oYXNPd25Qcm9wZXJ0eSxcblx0YXJyID0gW10sXG5cdHBvcCA9IGFyci5wb3AsXG5cdHB1c2hfbmF0aXZlID0gYXJyLnB1c2gsXG5cdHB1c2ggPSBhcnIucHVzaCxcblx0c2xpY2UgPSBhcnIuc2xpY2UsXG5cdC8vIFVzZSBhIHN0cmlwcGVkLWRvd24gaW5kZXhPZiBpZiB3ZSBjYW4ndCB1c2UgYSBuYXRpdmUgb25lXG5cdGluZGV4T2YgPSBhcnIuaW5kZXhPZiB8fCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHR2YXIgaSA9IDAsXG5cdFx0XHRsZW4gPSB0aGlzLmxlbmd0aDtcblx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdGlmICggdGhpc1tpXSA9PT0gZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIGk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiAtMTtcblx0fSxcblxuXHRib29sZWFucyA9IFwiY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWRcIixcblxuXHQvLyBSZWd1bGFyIGV4cHJlc3Npb25zXG5cblx0Ly8gV2hpdGVzcGFjZSBjaGFyYWN0ZXJzIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtc2VsZWN0b3JzLyN3aGl0ZXNwYWNlXG5cdHdoaXRlc3BhY2UgPSBcIltcXFxceDIwXFxcXHRcXFxcclxcXFxuXFxcXGZdXCIsXG5cdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtc3ludGF4LyNjaGFyYWN0ZXJzXG5cdGNoYXJhY3RlckVuY29kaW5nID0gXCIoPzpcXFxcXFxcXC58W1xcXFx3LV18W15cXFxceDAwLVxcXFx4YTBdKStcIixcblxuXHQvLyBMb29zZWx5IG1vZGVsZWQgb24gQ1NTIGlkZW50aWZpZXIgY2hhcmFjdGVyc1xuXHQvLyBBbiB1bnF1b3RlZCB2YWx1ZSBzaG91bGQgYmUgYSBDU1MgaWRlbnRpZmllciBodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLXNlbGVjdG9ycy8jYXR0cmlidXRlLXNlbGVjdG9yc1xuXHQvLyBQcm9wZXIgc3ludGF4OiBodHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyMS9zeW5kYXRhLmh0bWwjdmFsdWUtZGVmLWlkZW50aWZpZXJcblx0aWRlbnRpZmllciA9IGNoYXJhY3RlckVuY29kaW5nLnJlcGxhY2UoIFwid1wiLCBcIncjXCIgKSxcblxuXHQvLyBBdHRyaWJ1dGUgc2VsZWN0b3JzOiBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2F0dHJpYnV0ZS1zZWxlY3RvcnNcblx0YXR0cmlidXRlcyA9IFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIiooXCIgKyBjaGFyYWN0ZXJFbmNvZGluZyArIFwiKSg/OlwiICsgd2hpdGVzcGFjZSArXG5cdFx0Ly8gT3BlcmF0b3IgKGNhcHR1cmUgMilcblx0XHRcIiooWypeJHwhfl0/PSlcIiArIHdoaXRlc3BhY2UgK1xuXHRcdC8vIFwiQXR0cmlidXRlIHZhbHVlcyBtdXN0IGJlIENTUyBpZGVudGlmaWVycyBbY2FwdHVyZSA1XSBvciBzdHJpbmdzIFtjYXB0dXJlIDMgb3IgY2FwdHVyZSA0XVwiXG5cdFx0XCIqKD86JygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwifChcIiArIGlkZW50aWZpZXIgKyBcIikpfClcIiArIHdoaXRlc3BhY2UgK1xuXHRcdFwiKlxcXFxdXCIsXG5cblx0cHNldWRvcyA9IFwiOihcIiArIGNoYXJhY3RlckVuY29kaW5nICsgXCIpKD86XFxcXCgoXCIgK1xuXHRcdC8vIFRvIHJlZHVjZSB0aGUgbnVtYmVyIG9mIHNlbGVjdG9ycyBuZWVkaW5nIHRva2VuaXplIGluIHRoZSBwcmVGaWx0ZXIsIHByZWZlciBhcmd1bWVudHM6XG5cdFx0Ly8gMS4gcXVvdGVkIChjYXB0dXJlIDM7IGNhcHR1cmUgNCBvciBjYXB0dXJlIDUpXG5cdFx0XCIoJygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwiKXxcIiArXG5cdFx0Ly8gMi4gc2ltcGxlIChjYXB0dXJlIDYpXG5cdFx0XCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFwoKVtcXFxcXV18XCIgKyBhdHRyaWJ1dGVzICsgXCIpKil8XCIgK1xuXHRcdC8vIDMuIGFueXRoaW5nIGVsc2UgKGNhcHR1cmUgMilcblx0XHRcIi4qXCIgK1xuXHRcdFwiKVxcXFwpfClcIixcblxuXHQvLyBMZWFkaW5nIGFuZCBub24tZXNjYXBlZCB0cmFpbGluZyB3aGl0ZXNwYWNlLCBjYXB0dXJpbmcgc29tZSBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXJzIHByZWNlZGluZyB0aGUgbGF0dGVyXG5cdHJ0cmltID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIrfCgoPzpefFteXFxcXFxcXFxdKSg/OlxcXFxcXFxcLikqKVwiICsgd2hpdGVzcGFjZSArIFwiKyRcIiwgXCJnXCIgKSxcblxuXHRyY29tbWEgPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIiosXCIgKyB3aGl0ZXNwYWNlICsgXCIqXCIgKSxcblx0cmNvbWJpbmF0b3JzID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqKFs+K35dfFwiICsgd2hpdGVzcGFjZSArIFwiKVwiICsgd2hpdGVzcGFjZSArIFwiKlwiICksXG5cblx0cmF0dHJpYnV0ZVF1b3RlcyA9IG5ldyBSZWdFeHAoIFwiPVwiICsgd2hpdGVzcGFjZSArIFwiKihbXlxcXFxdJ1xcXCJdKj8pXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXF1cIiwgXCJnXCIgKSxcblxuXHRycHNldWRvID0gbmV3IFJlZ0V4cCggcHNldWRvcyApLFxuXHRyaWRlbnRpZmllciA9IG5ldyBSZWdFeHAoIFwiXlwiICsgaWRlbnRpZmllciArIFwiJFwiICksXG5cblx0bWF0Y2hFeHByID0ge1xuXHRcdFwiSURcIjogbmV3IFJlZ0V4cCggXCJeIyhcIiArIGNoYXJhY3RlckVuY29kaW5nICsgXCIpXCIgKSxcblx0XHRcIkNMQVNTXCI6IG5ldyBSZWdFeHAoIFwiXlxcXFwuKFwiICsgY2hhcmFjdGVyRW5jb2RpbmcgKyBcIilcIiApLFxuXHRcdFwiVEFHXCI6IG5ldyBSZWdFeHAoIFwiXihcIiArIGNoYXJhY3RlckVuY29kaW5nLnJlcGxhY2UoIFwid1wiLCBcIncqXCIgKSArIFwiKVwiICksXG5cdFx0XCJBVFRSXCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgYXR0cmlidXRlcyApLFxuXHRcdFwiUFNFVURPXCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgcHNldWRvcyApLFxuXHRcdFwiQ0hJTERcIjogbmV3IFJlZ0V4cCggXCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXFxcKFwiICsgd2hpdGVzcGFjZSArXG5cdFx0XHRcIiooZXZlbnxvZGR8KChbKy1dfCkoXFxcXGQqKW58KVwiICsgd2hpdGVzcGFjZSArIFwiKig/OihbKy1dfClcIiArIHdoaXRlc3BhY2UgK1xuXHRcdFx0XCIqKFxcXFxkKyl8KSlcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcKXwpXCIsIFwiaVwiICksXG5cdFx0XCJib29sXCI6IG5ldyBSZWdFeHAoIFwiXig/OlwiICsgYm9vbGVhbnMgKyBcIikkXCIsIFwiaVwiICksXG5cdFx0Ly8gRm9yIHVzZSBpbiBsaWJyYXJpZXMgaW1wbGVtZW50aW5nIC5pcygpXG5cdFx0Ly8gV2UgdXNlIHRoaXMgZm9yIFBPUyBtYXRjaGluZyBpbiBgc2VsZWN0YFxuXHRcdFwibmVlZHNDb250ZXh0XCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFxcXChcIiArXG5cdFx0XHR3aGl0ZXNwYWNlICsgXCIqKCg/Oi1cXFxcZCk/XFxcXGQqKVwiICsgd2hpdGVzcGFjZSArIFwiKlxcXFwpfCkoPz1bXi1dfCQpXCIsIFwiaVwiIClcblx0fSxcblxuXHRyaW5wdXRzID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxcblx0cmhlYWRlciA9IC9eaFxcZCQvaSxcblxuXHRybmF0aXZlID0gL15bXntdK1xce1xccypcXFtuYXRpdmUgXFx3LyxcblxuXHQvLyBFYXNpbHktcGFyc2VhYmxlL3JldHJpZXZhYmxlIElEIG9yIFRBRyBvciBDTEFTUyBzZWxlY3RvcnNcblx0cnF1aWNrRXhwciA9IC9eKD86IyhbXFx3LV0rKXwoXFx3Kyl8XFwuKFtcXHctXSspKSQvLFxuXG5cdHJzaWJsaW5nID0gL1srfl0vLFxuXHRyZXNjYXBlID0gLyd8XFxcXC9nLFxuXG5cdC8vIENTUyBlc2NhcGVzIGh0dHA6Ly93d3cudzMub3JnL1RSL0NTUzIxL3N5bmRhdGEuaHRtbCNlc2NhcGVkLWNoYXJhY3RlcnNcblx0cnVuZXNjYXBlID0gbmV3IFJlZ0V4cCggXCJcXFxcXFxcXChbXFxcXGRhLWZdezEsNn1cIiArIHdoaXRlc3BhY2UgKyBcIj98KFwiICsgd2hpdGVzcGFjZSArIFwiKXwuKVwiLCBcImlnXCIgKSxcblx0ZnVuZXNjYXBlID0gZnVuY3Rpb24oIF8sIGVzY2FwZWQsIGVzY2FwZWRXaGl0ZXNwYWNlICkge1xuXHRcdHZhciBoaWdoID0gXCIweFwiICsgZXNjYXBlZCAtIDB4MTAwMDA7XG5cdFx0Ly8gTmFOIG1lYW5zIG5vbi1jb2RlcG9pbnRcblx0XHQvLyBTdXBwb3J0OiBGaXJlZm94PDI0XG5cdFx0Ly8gV29ya2Fyb3VuZCBlcnJvbmVvdXMgbnVtZXJpYyBpbnRlcnByZXRhdGlvbiBvZiArXCIweFwiXG5cdFx0cmV0dXJuIGhpZ2ggIT09IGhpZ2ggfHwgZXNjYXBlZFdoaXRlc3BhY2UgP1xuXHRcdFx0ZXNjYXBlZCA6XG5cdFx0XHRoaWdoIDwgMCA/XG5cdFx0XHRcdC8vIEJNUCBjb2RlcG9pbnRcblx0XHRcdFx0U3RyaW5nLmZyb21DaGFyQ29kZSggaGlnaCArIDB4MTAwMDAgKSA6XG5cdFx0XHRcdC8vIFN1cHBsZW1lbnRhbCBQbGFuZSBjb2RlcG9pbnQgKHN1cnJvZ2F0ZSBwYWlyKVxuXHRcdFx0XHRTdHJpbmcuZnJvbUNoYXJDb2RlKCBoaWdoID4+IDEwIHwgMHhEODAwLCBoaWdoICYgMHgzRkYgfCAweERDMDAgKTtcblx0fTtcblxuLy8gT3B0aW1pemUgZm9yIHB1c2guYXBwbHkoIF8sIE5vZGVMaXN0IClcbnRyeSB7XG5cdHB1c2guYXBwbHkoXG5cdFx0KGFyciA9IHNsaWNlLmNhbGwoIHByZWZlcnJlZERvYy5jaGlsZE5vZGVzICkpLFxuXHRcdHByZWZlcnJlZERvYy5jaGlsZE5vZGVzXG5cdCk7XG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQ8NC4wXG5cdC8vIERldGVjdCBzaWxlbnRseSBmYWlsaW5nIHB1c2guYXBwbHlcblx0YXJyWyBwcmVmZXJyZWREb2MuY2hpbGROb2Rlcy5sZW5ndGggXS5ub2RlVHlwZTtcbn0gY2F0Y2ggKCBlICkge1xuXHRwdXNoID0geyBhcHBseTogYXJyLmxlbmd0aCA/XG5cblx0XHQvLyBMZXZlcmFnZSBzbGljZSBpZiBwb3NzaWJsZVxuXHRcdGZ1bmN0aW9uKCB0YXJnZXQsIGVscyApIHtcblx0XHRcdHB1c2hfbmF0aXZlLmFwcGx5KCB0YXJnZXQsIHNsaWNlLmNhbGwoZWxzKSApO1xuXHRcdH0gOlxuXG5cdFx0Ly8gU3VwcG9ydDogSUU8OVxuXHRcdC8vIE90aGVyd2lzZSBhcHBlbmQgZGlyZWN0bHlcblx0XHRmdW5jdGlvbiggdGFyZ2V0LCBlbHMgKSB7XG5cdFx0XHR2YXIgaiA9IHRhcmdldC5sZW5ndGgsXG5cdFx0XHRcdGkgPSAwO1xuXHRcdFx0Ly8gQ2FuJ3QgdHJ1c3QgTm9kZUxpc3QubGVuZ3RoXG5cdFx0XHR3aGlsZSAoICh0YXJnZXRbaisrXSA9IGVsc1tpKytdKSApIHt9XG5cdFx0XHR0YXJnZXQubGVuZ3RoID0gaiAtIDE7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBTaXp6bGUoIHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICkge1xuXHR2YXIgbWF0Y2gsIGVsZW0sIG0sIG5vZGVUeXBlLFxuXHRcdC8vIFFTQSB2YXJzXG5cdFx0aSwgZ3JvdXBzLCBvbGQsIG5pZCwgbmV3Q29udGV4dCwgbmV3U2VsZWN0b3I7XG5cblx0aWYgKCAoIGNvbnRleHQgPyBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCA6IHByZWZlcnJlZERvYyApICE9PSBkb2N1bWVudCApIHtcblx0XHRzZXREb2N1bWVudCggY29udGV4dCApO1xuXHR9XG5cblx0Y29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7XG5cdHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xuXG5cdGlmICggIXNlbGVjdG9yIHx8IHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRyZXR1cm4gcmVzdWx0cztcblx0fVxuXG5cdGlmICggKG5vZGVUeXBlID0gY29udGV4dC5ub2RlVHlwZSkgIT09IDEgJiYgbm9kZVR5cGUgIT09IDkgKSB7XG5cdFx0cmV0dXJuIFtdO1xuXHR9XG5cblx0aWYgKCBkb2N1bWVudElzSFRNTCAmJiAhc2VlZCApIHtcblxuXHRcdC8vIFNob3J0Y3V0c1xuXHRcdGlmICggKG1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApKSApIHtcblx0XHRcdC8vIFNwZWVkLXVwOiBTaXp6bGUoXCIjSURcIilcblx0XHRcdGlmICggKG0gPSBtYXRjaFsxXSkgKSB7XG5cdFx0XHRcdGlmICggbm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0ZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIG0gKTtcblx0XHRcdFx0XHQvLyBDaGVjayBwYXJlbnROb2RlIHRvIGNhdGNoIHdoZW4gQmxhY2tiZXJyeSA0LjYgcmV0dXJuc1xuXHRcdFx0XHRcdC8vIG5vZGVzIHRoYXQgYXJlIG5vIGxvbmdlciBpbiB0aGUgZG9jdW1lbnQgKGpRdWVyeSAjNjk2Mylcblx0XHRcdFx0XHRpZiAoIGVsZW0gJiYgZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRcdFx0Ly8gSGFuZGxlIHRoZSBjYXNlIHdoZXJlIElFLCBPcGVyYSwgYW5kIFdlYmtpdCByZXR1cm4gaXRlbXNcblx0XHRcdFx0XHRcdC8vIGJ5IG5hbWUgaW5zdGVhZCBvZiBJRFxuXHRcdFx0XHRcdFx0aWYgKCBlbGVtLmlkID09PSBtICkge1xuXHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBDb250ZXh0IGlzIG5vdCBhIGRvY3VtZW50XG5cdFx0XHRcdFx0aWYgKCBjb250ZXh0Lm93bmVyRG9jdW1lbnQgJiYgKGVsZW0gPSBjb250ZXh0Lm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIG0gKSkgJiZcblx0XHRcdFx0XHRcdGNvbnRhaW5zKCBjb250ZXh0LCBlbGVtICkgJiYgZWxlbS5pZCA9PT0gbSApIHtcblx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdC8vIFNwZWVkLXVwOiBTaXp6bGUoXCJUQUdcIilcblx0XHRcdH0gZWxzZSBpZiAoIG1hdGNoWzJdICkge1xuXHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCBzZWxlY3RvciApICk7XG5cdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXG5cdFx0XHQvLyBTcGVlZC11cDogU2l6emxlKFwiLkNMQVNTXCIpXG5cdFx0XHR9IGVsc2UgaWYgKCAobSA9IG1hdGNoWzNdKSAmJiBzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgJiYgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICkge1xuXHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIG0gKSApO1xuXHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBRU0EgcGF0aFxuXHRcdGlmICggc3VwcG9ydC5xc2EgJiYgKCFyYnVnZ3lRU0EgfHwgIXJidWdneVFTQS50ZXN0KCBzZWxlY3RvciApKSApIHtcblx0XHRcdG5pZCA9IG9sZCA9IGV4cGFuZG87XG5cdFx0XHRuZXdDb250ZXh0ID0gY29udGV4dDtcblx0XHRcdG5ld1NlbGVjdG9yID0gbm9kZVR5cGUgPT09IDkgJiYgc2VsZWN0b3I7XG5cblx0XHRcdC8vIHFTQSB3b3JrcyBzdHJhbmdlbHkgb24gRWxlbWVudC1yb290ZWQgcXVlcmllc1xuXHRcdFx0Ly8gV2UgY2FuIHdvcmsgYXJvdW5kIHRoaXMgYnkgc3BlY2lmeWluZyBhbiBleHRyYSBJRCBvbiB0aGUgcm9vdFxuXHRcdFx0Ly8gYW5kIHdvcmtpbmcgdXAgZnJvbSB0aGVyZSAoVGhhbmtzIHRvIEFuZHJldyBEdXBvbnQgZm9yIHRoZSB0ZWNobmlxdWUpXG5cdFx0XHQvLyBJRSA4IGRvZXNuJ3Qgd29yayBvbiBvYmplY3QgZWxlbWVudHNcblx0XHRcdGlmICggbm9kZVR5cGUgPT09IDEgJiYgY29udGV4dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSBcIm9iamVjdFwiICkge1xuXHRcdFx0XHRncm91cHMgPSB0b2tlbml6ZSggc2VsZWN0b3IgKTtcblxuXHRcdFx0XHRpZiAoIChvbGQgPSBjb250ZXh0LmdldEF0dHJpYnV0ZShcImlkXCIpKSApIHtcblx0XHRcdFx0XHRuaWQgPSBvbGQucmVwbGFjZSggcmVzY2FwZSwgXCJcXFxcJCZcIiApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnRleHQuc2V0QXR0cmlidXRlKCBcImlkXCIsIG5pZCApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG5pZCA9IFwiW2lkPSdcIiArIG5pZCArIFwiJ10gXCI7XG5cblx0XHRcdFx0aSA9IGdyb3Vwcy5sZW5ndGg7XG5cdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdGdyb3Vwc1tpXSA9IG5pZCArIHRvU2VsZWN0b3IoIGdyb3Vwc1tpXSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG5ld0NvbnRleHQgPSByc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fCBjb250ZXh0O1xuXHRcdFx0XHRuZXdTZWxlY3RvciA9IGdyb3Vwcy5qb2luKFwiLFwiKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBuZXdTZWxlY3RvciApIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLFxuXHRcdFx0XHRcdFx0bmV3Q29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCBuZXdTZWxlY3RvciApXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0fSBjYXRjaChxc2FFcnJvcikge1xuXHRcdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRcdGlmICggIW9sZCApIHtcblx0XHRcdFx0XHRcdGNvbnRleHQucmVtb3ZlQXR0cmlidXRlKFwiaWRcIik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gQWxsIG90aGVyc1xuXHRyZXR1cm4gc2VsZWN0KCBzZWxlY3Rvci5yZXBsYWNlKCBydHJpbSwgXCIkMVwiICksIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUga2V5LXZhbHVlIGNhY2hlcyBvZiBsaW1pdGVkIHNpemVcbiAqIEByZXR1cm5zIHtGdW5jdGlvbihzdHJpbmcsIE9iamVjdCl9IFJldHVybnMgdGhlIE9iamVjdCBkYXRhIGFmdGVyIHN0b3JpbmcgaXQgb24gaXRzZWxmIHdpdGhcbiAqXHRwcm9wZXJ0eSBuYW1lIHRoZSAoc3BhY2Utc3VmZml4ZWQpIHN0cmluZyBhbmQgKGlmIHRoZSBjYWNoZSBpcyBsYXJnZXIgdGhhbiBFeHByLmNhY2hlTGVuZ3RoKVxuICpcdGRlbGV0aW5nIHRoZSBvbGRlc3QgZW50cnlcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ2FjaGUoKSB7XG5cdHZhciBrZXlzID0gW107XG5cblx0ZnVuY3Rpb24gY2FjaGUoIGtleSwgdmFsdWUgKSB7XG5cdFx0Ly8gVXNlIChrZXkgKyBcIiBcIikgdG8gYXZvaWQgY29sbGlzaW9uIHdpdGggbmF0aXZlIHByb3RvdHlwZSBwcm9wZXJ0aWVzIChzZWUgSXNzdWUgIzE1Nylcblx0XHRpZiAoIGtleXMucHVzaCgga2V5ICsgXCIgXCIgKSA+IEV4cHIuY2FjaGVMZW5ndGggKSB7XG5cdFx0XHQvLyBPbmx5IGtlZXAgdGhlIG1vc3QgcmVjZW50IGVudHJpZXNcblx0XHRcdGRlbGV0ZSBjYWNoZVsga2V5cy5zaGlmdCgpIF07XG5cdFx0fVxuXHRcdHJldHVybiAoY2FjaGVbIGtleSArIFwiIFwiIF0gPSB2YWx1ZSk7XG5cdH1cblx0cmV0dXJuIGNhY2hlO1xufVxuXG4vKipcbiAqIE1hcmsgYSBmdW5jdGlvbiBmb3Igc3BlY2lhbCB1c2UgYnkgU2l6emxlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gbWFya1xuICovXG5mdW5jdGlvbiBtYXJrRnVuY3Rpb24oIGZuICkge1xuXHRmblsgZXhwYW5kbyBdID0gdHJ1ZTtcblx0cmV0dXJuIGZuO1xufVxuXG4vKipcbiAqIFN1cHBvcnQgdGVzdGluZyB1c2luZyBhbiBlbGVtZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBQYXNzZWQgdGhlIGNyZWF0ZWQgZGl2IGFuZCBleHBlY3RzIGEgYm9vbGVhbiByZXN1bHRcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0KCBmbiApIHtcblx0dmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cblx0dHJ5IHtcblx0XHRyZXR1cm4gISFmbiggZGl2ICk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0gZmluYWxseSB7XG5cdFx0Ly8gUmVtb3ZlIGZyb20gaXRzIHBhcmVudCBieSBkZWZhdWx0XG5cdFx0aWYgKCBkaXYucGFyZW50Tm9kZSApIHtcblx0XHRcdGRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBkaXYgKTtcblx0XHR9XG5cdFx0Ly8gcmVsZWFzZSBtZW1vcnkgaW4gSUVcblx0XHRkaXYgPSBudWxsO1xuXHR9XG59XG5cbi8qKlxuICogQWRkcyB0aGUgc2FtZSBoYW5kbGVyIGZvciBhbGwgb2YgdGhlIHNwZWNpZmllZCBhdHRyc1xuICogQHBhcmFtIHtTdHJpbmd9IGF0dHJzIFBpcGUtc2VwYXJhdGVkIGxpc3Qgb2YgYXR0cmlidXRlc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciBUaGUgbWV0aG9kIHRoYXQgd2lsbCBiZSBhcHBsaWVkXG4gKi9cbmZ1bmN0aW9uIGFkZEhhbmRsZSggYXR0cnMsIGhhbmRsZXIgKSB7XG5cdHZhciBhcnIgPSBhdHRycy5zcGxpdChcInxcIiksXG5cdFx0aSA9IGF0dHJzLmxlbmd0aDtcblxuXHR3aGlsZSAoIGktLSApIHtcblx0XHRFeHByLmF0dHJIYW5kbGVbIGFycltpXSBdID0gaGFuZGxlcjtcblx0fVxufVxuXG4vKipcbiAqIENoZWNrcyBkb2N1bWVudCBvcmRlciBvZiB0d28gc2libGluZ3NcbiAqIEBwYXJhbSB7RWxlbWVudH0gYVxuICogQHBhcmFtIHtFbGVtZW50fSBiXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBSZXR1cm5zIGxlc3MgdGhhbiAwIGlmIGEgcHJlY2VkZXMgYiwgZ3JlYXRlciB0aGFuIDAgaWYgYSBmb2xsb3dzIGJcbiAqL1xuZnVuY3Rpb24gc2libGluZ0NoZWNrKCBhLCBiICkge1xuXHR2YXIgY3VyID0gYiAmJiBhLFxuXHRcdGRpZmYgPSBjdXIgJiYgYS5ub2RlVHlwZSA9PT0gMSAmJiBiLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHQoIH5iLnNvdXJjZUluZGV4IHx8IE1BWF9ORUdBVElWRSApIC1cblx0XHRcdCggfmEuc291cmNlSW5kZXggfHwgTUFYX05FR0FUSVZFICk7XG5cblx0Ly8gVXNlIElFIHNvdXJjZUluZGV4IGlmIGF2YWlsYWJsZSBvbiBib3RoIG5vZGVzXG5cdGlmICggZGlmZiApIHtcblx0XHRyZXR1cm4gZGlmZjtcblx0fVxuXG5cdC8vIENoZWNrIGlmIGIgZm9sbG93cyBhXG5cdGlmICggY3VyICkge1xuXHRcdHdoaWxlICggKGN1ciA9IGN1ci5uZXh0U2libGluZykgKSB7XG5cdFx0XHRpZiAoIGN1ciA9PT0gYiApIHtcblx0XHRcdFx0cmV0dXJuIC0xO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBhID8gMSA6IC0xO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgaW5wdXQgdHlwZXNcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUlucHV0UHNldWRvKCB0eXBlICkge1xuXHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0cmV0dXJuIG5hbWUgPT09IFwiaW5wdXRcIiAmJiBlbGVtLnR5cGUgPT09IHR5cGU7XG5cdH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBidXR0b25zXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICovXG5mdW5jdGlvbiBjcmVhdGVCdXR0b25Qc2V1ZG8oIHR5cGUgKSB7XG5cdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHR2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRyZXR1cm4gKG5hbWUgPT09IFwiaW5wdXRcIiB8fCBuYW1lID09PSBcImJ1dHRvblwiKSAmJiBlbGVtLnR5cGUgPT09IHR5cGU7XG5cdH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBwb3NpdGlvbmFsc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZm4gKSB7XG5cdHJldHVybiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIGFyZ3VtZW50ICkge1xuXHRcdGFyZ3VtZW50ID0gK2FyZ3VtZW50O1xuXHRcdHJldHVybiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMgKSB7XG5cdFx0XHR2YXIgaixcblx0XHRcdFx0bWF0Y2hJbmRleGVzID0gZm4oIFtdLCBzZWVkLmxlbmd0aCwgYXJndW1lbnQgKSxcblx0XHRcdFx0aSA9IG1hdGNoSW5kZXhlcy5sZW5ndGg7XG5cblx0XHRcdC8vIE1hdGNoIGVsZW1lbnRzIGZvdW5kIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXhlc1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGlmICggc2VlZFsgKGogPSBtYXRjaEluZGV4ZXNbaV0pIF0gKSB7XG5cdFx0XHRcdFx0c2VlZFtqXSA9ICEobWF0Y2hlc1tqXSA9IHNlZWRbal0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xufVxuXG4vKipcbiAqIENoZWNrcyBhIG5vZGUgZm9yIHZhbGlkaXR5IGFzIGEgU2l6emxlIGNvbnRleHRcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3Q9fSBjb250ZXh0XG4gKiBAcmV0dXJucyB7RWxlbWVudHxPYmplY3R8Qm9vbGVhbn0gVGhlIGlucHV0IG5vZGUgaWYgYWNjZXB0YWJsZSwgb3RoZXJ3aXNlIGEgZmFsc3kgdmFsdWVcbiAqL1xuZnVuY3Rpb24gdGVzdENvbnRleHQoIGNvbnRleHQgKSB7XG5cdHJldHVybiBjb250ZXh0ICYmIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBzdHJ1bmRlZmluZWQgJiYgY29udGV4dDtcbn1cblxuLy8gRXhwb3NlIHN1cHBvcnQgdmFycyBmb3IgY29udmVuaWVuY2VcbnN1cHBvcnQgPSBTaXp6bGUuc3VwcG9ydCA9IHt9O1xuXG4vKipcbiAqIERldGVjdHMgWE1MIG5vZGVzXG4gKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSBlbGVtIEFuIGVsZW1lbnQgb3IgYSBkb2N1bWVudFxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWZmIGVsZW0gaXMgYSBub24tSFRNTCBYTUwgbm9kZVxuICovXG5pc1hNTCA9IFNpenpsZS5pc1hNTCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHQvLyBkb2N1bWVudEVsZW1lbnQgaXMgdmVyaWZpZWQgZm9yIGNhc2VzIHdoZXJlIGl0IGRvZXNuJ3QgeWV0IGV4aXN0XG5cdC8vIChzdWNoIGFzIGxvYWRpbmcgaWZyYW1lcyBpbiBJRSAtICM0ODMzKVxuXHR2YXIgZG9jdW1lbnRFbGVtZW50ID0gZWxlbSAmJiAoZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0pLmRvY3VtZW50RWxlbWVudDtcblx0cmV0dXJuIGRvY3VtZW50RWxlbWVudCA/IGRvY3VtZW50RWxlbWVudC5ub2RlTmFtZSAhPT0gXCJIVE1MXCIgOiBmYWxzZTtcbn07XG5cbi8qKlxuICogU2V0cyBkb2N1bWVudC1yZWxhdGVkIHZhcmlhYmxlcyBvbmNlIGJhc2VkIG9uIHRoZSBjdXJyZW50IGRvY3VtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSBbZG9jXSBBbiBlbGVtZW50IG9yIGRvY3VtZW50IG9iamVjdCB0byB1c2UgdG8gc2V0IHRoZSBkb2N1bWVudFxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY3VycmVudCBkb2N1bWVudFxuICovXG5zZXREb2N1bWVudCA9IFNpenpsZS5zZXREb2N1bWVudCA9IGZ1bmN0aW9uKCBub2RlICkge1xuXHR2YXIgaGFzQ29tcGFyZSxcblx0XHRkb2MgPSBub2RlID8gbm9kZS5vd25lckRvY3VtZW50IHx8IG5vZGUgOiBwcmVmZXJyZWREb2MsXG5cdFx0cGFyZW50ID0gZG9jLmRlZmF1bHRWaWV3O1xuXG5cdC8vIElmIG5vIGRvY3VtZW50IGFuZCBkb2N1bWVudEVsZW1lbnQgaXMgYXZhaWxhYmxlLCByZXR1cm5cblx0aWYgKCBkb2MgPT09IGRvY3VtZW50IHx8IGRvYy5ub2RlVHlwZSAhPT0gOSB8fCAhZG9jLmRvY3VtZW50RWxlbWVudCApIHtcblx0XHRyZXR1cm4gZG9jdW1lbnQ7XG5cdH1cblxuXHQvLyBTZXQgb3VyIGRvY3VtZW50XG5cdGRvY3VtZW50ID0gZG9jO1xuXHRkb2NFbGVtID0gZG9jLmRvY3VtZW50RWxlbWVudDtcblxuXHQvLyBTdXBwb3J0IHRlc3RzXG5cdGRvY3VtZW50SXNIVE1MID0gIWlzWE1MKCBkb2MgKTtcblxuXHQvLyBTdXBwb3J0OiBJRT44XG5cdC8vIElmIGlmcmFtZSBkb2N1bWVudCBpcyBhc3NpZ25lZCB0byBcImRvY3VtZW50XCIgdmFyaWFibGUgYW5kIGlmIGlmcmFtZSBoYXMgYmVlbiByZWxvYWRlZCxcblx0Ly8gSUUgd2lsbCB0aHJvdyBcInBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBhY2Nlc3NpbmcgXCJkb2N1bWVudFwiIHZhcmlhYmxlLCBzZWUgalF1ZXJ5ICMxMzkzNlxuXHQvLyBJRTYtOCBkbyBub3Qgc3VwcG9ydCB0aGUgZGVmYXVsdFZpZXcgcHJvcGVydHkgc28gcGFyZW50IHdpbGwgYmUgdW5kZWZpbmVkXG5cdGlmICggcGFyZW50ICYmIHBhcmVudCAhPT0gcGFyZW50LnRvcCApIHtcblx0XHQvLyBJRTExIGRvZXMgbm90IGhhdmUgYXR0YWNoRXZlbnQsIHNvIGFsbCBtdXN0IHN1ZmZlclxuXHRcdGlmICggcGFyZW50LmFkZEV2ZW50TGlzdGVuZXIgKSB7XG5cdFx0XHRwYXJlbnQuYWRkRXZlbnRMaXN0ZW5lciggXCJ1bmxvYWRcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNldERvY3VtZW50KCk7XG5cdFx0XHR9LCBmYWxzZSApO1xuXHRcdH0gZWxzZSBpZiAoIHBhcmVudC5hdHRhY2hFdmVudCApIHtcblx0XHRcdHBhcmVudC5hdHRhY2hFdmVudCggXCJvbnVubG9hZFwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2V0RG9jdW1lbnQoKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdC8qIEF0dHJpYnV0ZXNcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIFN1cHBvcnQ6IElFPDhcblx0Ly8gVmVyaWZ5IHRoYXQgZ2V0QXR0cmlidXRlIHJlYWxseSByZXR1cm5zIGF0dHJpYnV0ZXMgYW5kIG5vdCBwcm9wZXJ0aWVzIChleGNlcHRpbmcgSUU4IGJvb2xlYW5zKVxuXHRzdXBwb3J0LmF0dHJpYnV0ZXMgPSBhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHtcblx0XHRkaXYuY2xhc3NOYW1lID0gXCJpXCI7XG5cdFx0cmV0dXJuICFkaXYuZ2V0QXR0cmlidXRlKFwiY2xhc3NOYW1lXCIpO1xuXHR9KTtcblxuXHQvKiBnZXRFbGVtZW50KHMpQnkqXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBDaGVjayBpZiBnZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikgcmV0dXJucyBvbmx5IGVsZW1lbnRzXG5cdHN1cHBvcnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgPSBhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHtcblx0XHRkaXYuYXBwZW5kQ2hpbGQoIGRvYy5jcmVhdGVDb21tZW50KFwiXCIpICk7XG5cdFx0cmV0dXJuICFkaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLmxlbmd0aDtcblx0fSk7XG5cblx0Ly8gQ2hlY2sgaWYgZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSBjYW4gYmUgdHJ1c3RlZFxuXHRzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgPSBybmF0aXZlLnRlc3QoIGRvYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICkgJiYgYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG5cdFx0ZGl2LmlubmVySFRNTCA9IFwiPGRpdiBjbGFzcz0nYSc+PC9kaXY+PGRpdiBjbGFzcz0nYSBpJz48L2Rpdj5cIjtcblxuXHRcdC8vIFN1cHBvcnQ6IFNhZmFyaTw0XG5cdFx0Ly8gQ2F0Y2ggY2xhc3Mgb3Zlci1jYWNoaW5nXG5cdFx0ZGl2LmZpcnN0Q2hpbGQuY2xhc3NOYW1lID0gXCJpXCI7XG5cdFx0Ly8gU3VwcG9ydDogT3BlcmE8MTBcblx0XHQvLyBDYXRjaCBnRUJDTiBmYWlsdXJlIHRvIGZpbmQgbm9uLWxlYWRpbmcgY2xhc3Nlc1xuXHRcdHJldHVybiBkaXYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImlcIikubGVuZ3RoID09PSAyO1xuXHR9KTtcblxuXHQvLyBTdXBwb3J0OiBJRTwxMFxuXHQvLyBDaGVjayBpZiBnZXRFbGVtZW50QnlJZCByZXR1cm5zIGVsZW1lbnRzIGJ5IG5hbWVcblx0Ly8gVGhlIGJyb2tlbiBnZXRFbGVtZW50QnlJZCBtZXRob2RzIGRvbid0IHBpY2sgdXAgcHJvZ3JhbWF0aWNhbGx5LXNldCBuYW1lcyxcblx0Ly8gc28gdXNlIGEgcm91bmRhYm91dCBnZXRFbGVtZW50c0J5TmFtZSB0ZXN0XG5cdHN1cHBvcnQuZ2V0QnlJZCA9IGFzc2VydChmdW5jdGlvbiggZGl2ICkge1xuXHRcdGRvY0VsZW0uYXBwZW5kQ2hpbGQoIGRpdiApLmlkID0gZXhwYW5kbztcblx0XHRyZXR1cm4gIWRvYy5nZXRFbGVtZW50c0J5TmFtZSB8fCAhZG9jLmdldEVsZW1lbnRzQnlOYW1lKCBleHBhbmRvICkubGVuZ3RoO1xuXHR9KTtcblxuXHQvLyBJRCBmaW5kIGFuZCBmaWx0ZXJcblx0aWYgKCBzdXBwb3J0LmdldEJ5SWQgKSB7XG5cdFx0RXhwci5maW5kW1wiSURcIl0gPSBmdW5jdGlvbiggaWQsIGNvbnRleHQgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRCeUlkICE9PSBzdHJ1bmRlZmluZWQgJiYgZG9jdW1lbnRJc0hUTUwgKSB7XG5cdFx0XHRcdHZhciBtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggaWQgKTtcblx0XHRcdFx0Ly8gQ2hlY2sgcGFyZW50Tm9kZSB0byBjYXRjaCB3aGVuIEJsYWNrYmVycnkgNC42IHJldHVybnNcblx0XHRcdFx0Ly8gbm9kZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIGluIHRoZSBkb2N1bWVudCAjNjk2M1xuXHRcdFx0XHRyZXR1cm4gbSAmJiBtLnBhcmVudE5vZGUgPyBbIG0gXSA6IFtdO1xuXHRcdFx0fVxuXHRcdH07XG5cdFx0RXhwci5maWx0ZXJbXCJJRFwiXSA9IGZ1bmN0aW9uKCBpZCApIHtcblx0XHRcdHZhciBhdHRySWQgPSBpZC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoXCJpZFwiKSA9PT0gYXR0cklkO1xuXHRcdFx0fTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdC8vIFN1cHBvcnQ6IElFNi83XG5cdFx0Ly8gZ2V0RWxlbWVudEJ5SWQgaXMgbm90IHJlbGlhYmxlIGFzIGEgZmluZCBzaG9ydGN1dFxuXHRcdGRlbGV0ZSBFeHByLmZpbmRbXCJJRFwiXTtcblxuXHRcdEV4cHIuZmlsdGVyW1wiSURcIl0gPSAgZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciBub2RlID0gdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlTm9kZSAhPT0gc3RydW5kZWZpbmVkICYmIGVsZW0uZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO1xuXHRcdFx0XHRyZXR1cm4gbm9kZSAmJiBub2RlLnZhbHVlID09PSBhdHRySWQ7XG5cdFx0XHR9O1xuXHRcdH07XG5cdH1cblxuXHQvLyBUYWdcblx0RXhwci5maW5kW1wiVEFHXCJdID0gc3VwcG9ydC5nZXRFbGVtZW50c0J5VGFnTmFtZSA/XG5cdFx0ZnVuY3Rpb24oIHRhZywgY29udGV4dCApIHtcblx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IHN0cnVuZGVmaW5lZCApIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyApO1xuXHRcdFx0fVxuXHRcdH0gOlxuXHRcdGZ1bmN0aW9uKCB0YWcsIGNvbnRleHQgKSB7XG5cdFx0XHR2YXIgZWxlbSxcblx0XHRcdFx0dG1wID0gW10sXG5cdFx0XHRcdGkgPSAwLFxuXHRcdFx0XHRyZXN1bHRzID0gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnICk7XG5cblx0XHRcdC8vIEZpbHRlciBvdXQgcG9zc2libGUgY29tbWVudHNcblx0XHRcdGlmICggdGFnID09PSBcIipcIiApIHtcblx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IHJlc3VsdHNbaSsrXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0XHRcdFx0dG1wLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdG1wO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0fTtcblxuXHQvLyBDbGFzc1xuXHRFeHByLmZpbmRbXCJDTEFTU1wiXSA9IHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAmJiBmdW5jdGlvbiggY2xhc3NOYW1lLCBjb250ZXh0ICkge1xuXHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAhPT0gc3RydW5kZWZpbmVkICYmIGRvY3VtZW50SXNIVE1MICkge1xuXHRcdFx0cmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggY2xhc3NOYW1lICk7XG5cdFx0fVxuXHR9O1xuXG5cdC8qIFFTQS9tYXRjaGVzU2VsZWN0b3Jcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIFFTQSBhbmQgbWF0Y2hlc1NlbGVjdG9yIHN1cHBvcnRcblxuXHQvLyBtYXRjaGVzU2VsZWN0b3IoOmFjdGl2ZSkgcmVwb3J0cyBmYWxzZSB3aGVuIHRydWUgKElFOS9PcGVyYSAxMS41KVxuXHRyYnVnZ3lNYXRjaGVzID0gW107XG5cblx0Ly8gcVNhKDpmb2N1cykgcmVwb3J0cyBmYWxzZSB3aGVuIHRydWUgKENocm9tZSAyMSlcblx0Ly8gV2UgYWxsb3cgdGhpcyBiZWNhdXNlIG9mIGEgYnVnIGluIElFOC85IHRoYXQgdGhyb3dzIGFuIGVycm9yXG5cdC8vIHdoZW5ldmVyIGBkb2N1bWVudC5hY3RpdmVFbGVtZW50YCBpcyBhY2Nlc3NlZCBvbiBhbiBpZnJhbWVcblx0Ly8gU28sIHdlIGFsbG93IDpmb2N1cyB0byBwYXNzIHRocm91Z2ggUVNBIGFsbCB0aGUgdGltZSB0byBhdm9pZCB0aGUgSUUgZXJyb3Jcblx0Ly8gU2VlIGh0dHA6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzEzMzc4XG5cdHJidWdneVFTQSA9IFtdO1xuXG5cdGlmICggKHN1cHBvcnQucXNhID0gcm5hdGl2ZS50ZXN0KCBkb2MucXVlcnlTZWxlY3RvckFsbCApKSApIHtcblx0XHQvLyBCdWlsZCBRU0EgcmVnZXhcblx0XHQvLyBSZWdleCBzdHJhdGVneSBhZG9wdGVkIGZyb20gRGllZ28gUGVyaW5pXG5cdFx0YXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG5cdFx0XHQvLyBTZWxlY3QgaXMgc2V0IHRvIGVtcHR5IHN0cmluZyBvbiBwdXJwb3NlXG5cdFx0XHQvLyBUaGlzIGlzIHRvIHRlc3QgSUUncyB0cmVhdG1lbnQgb2Ygbm90IGV4cGxpY2l0bHlcblx0XHRcdC8vIHNldHRpbmcgYSBib29sZWFuIGNvbnRlbnQgYXR0cmlidXRlLFxuXHRcdFx0Ly8gc2luY2UgaXRzIHByZXNlbmNlIHNob3VsZCBiZSBlbm91Z2hcblx0XHRcdC8vIGh0dHA6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzEyMzU5XG5cdFx0XHRkaXYuaW5uZXJIVE1MID0gXCI8c2VsZWN0IG1zYWxsb3djbGlwPScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+XCI7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOCwgT3BlcmEgMTEtMTIuMTZcblx0XHRcdC8vIE5vdGhpbmcgc2hvdWxkIGJlIHNlbGVjdGVkIHdoZW4gZW1wdHkgc3RyaW5ncyBmb2xsb3cgXj0gb3IgJD0gb3IgKj1cblx0XHRcdC8vIFRoZSB0ZXN0IGF0dHJpYnV0ZSBtdXN0IGJlIHVua25vd24gaW4gT3BlcmEgYnV0IFwic2FmZVwiIGZvciBXaW5SVFxuXHRcdFx0Ly8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2hoNDY1Mzg4LmFzcHgjYXR0cmlidXRlX3NlY3Rpb25cblx0XHRcdGlmICggZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbbXNhbGxvd2NsaXBePScnXVwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIlsqXiRdPVwiICsgd2hpdGVzcGFjZSArIFwiKig/OicnfFxcXCJcXFwiKVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOFxuXHRcdFx0Ly8gQm9vbGVhbiBhdHRyaWJ1dGVzIGFuZCBcInZhbHVlXCIgYXJlIG5vdCB0cmVhdGVkIGNvcnJlY3RseVxuXHRcdFx0aWYgKCAhZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbc2VsZWN0ZWRdXCIpLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIiooPzp2YWx1ZXxcIiArIGJvb2xlYW5zICsgXCIpXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gV2Via2l0L09wZXJhIC0gOmNoZWNrZWQgc2hvdWxkIHJldHVybiBzZWxlY3RlZCBvcHRpb24gZWxlbWVudHNcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXG5cdFx0XHQvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0c1xuXHRcdFx0aWYgKCAhZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoXCI6Y2hlY2tlZFwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKFwiOmNoZWNrZWRcIik7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHtcblx0XHRcdC8vIFN1cHBvcnQ6IFdpbmRvd3MgOCBOYXRpdmUgQXBwc1xuXHRcdFx0Ly8gVGhlIHR5cGUgYW5kIG5hbWUgYXR0cmlidXRlcyBhcmUgcmVzdHJpY3RlZCBkdXJpbmcgLmlubmVySFRNTCBhc3NpZ25tZW50XG5cdFx0XHR2YXIgaW5wdXQgPSBkb2MuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuXHRcdFx0aW5wdXQuc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgXCJoaWRkZW5cIiApO1xuXHRcdFx0ZGl2LmFwcGVuZENoaWxkKCBpbnB1dCApLnNldEF0dHJpYnV0ZSggXCJuYW1lXCIsIFwiRFwiICk7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOFxuXHRcdFx0Ly8gRW5mb3JjZSBjYXNlLXNlbnNpdGl2aXR5IG9mIG5hbWUgYXR0cmlidXRlXG5cdFx0XHRpZiAoIGRpdi5xdWVyeVNlbGVjdG9yQWxsKFwiW25hbWU9ZF1cIikubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJuYW1lXCIgKyB3aGl0ZXNwYWNlICsgXCIqWypeJHwhfl0/PVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEZGIDMuNSAtIDplbmFibGVkLzpkaXNhYmxlZCBhbmQgaGlkZGVuIGVsZW1lbnRzIChoaWRkZW4gZWxlbWVudHMgYXJlIHN0aWxsIGVuYWJsZWQpXG5cdFx0XHQvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0c1xuXHRcdFx0aWYgKCAhZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZW5hYmxlZFwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIjplbmFibGVkXCIsIFwiOmRpc2FibGVkXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gT3BlcmEgMTAtMTEgZG9lcyBub3QgdGhyb3cgb24gcG9zdC1jb21tYSBpbnZhbGlkIHBzZXVkb3Ncblx0XHRcdGRpdi5xdWVyeVNlbGVjdG9yQWxsKFwiKiw6eFwiKTtcblx0XHRcdHJidWdneVFTQS5wdXNoKFwiLC4qOlwiKTtcblx0XHR9KTtcblx0fVxuXG5cdGlmICggKHN1cHBvcnQubWF0Y2hlc1NlbGVjdG9yID0gcm5hdGl2ZS50ZXN0KCAobWF0Y2hlcyA9IGRvY0VsZW0ubWF0Y2hlcyB8fFxuXHRcdGRvY0VsZW0ud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XG5cdFx0ZG9jRWxlbS5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm9NYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm1zTWF0Y2hlc1NlbGVjdG9yKSApKSApIHtcblxuXHRcdGFzc2VydChmdW5jdGlvbiggZGl2ICkge1xuXHRcdFx0Ly8gQ2hlY2sgdG8gc2VlIGlmIGl0J3MgcG9zc2libGUgdG8gZG8gbWF0Y2hlc1NlbGVjdG9yXG5cdFx0XHQvLyBvbiBhIGRpc2Nvbm5lY3RlZCBub2RlIChJRSA5KVxuXHRcdFx0c3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaCA9IG1hdGNoZXMuY2FsbCggZGl2LCBcImRpdlwiICk7XG5cblx0XHRcdC8vIFRoaXMgc2hvdWxkIGZhaWwgd2l0aCBhbiBleGNlcHRpb25cblx0XHRcdC8vIEdlY2tvIGRvZXMgbm90IGVycm9yLCByZXR1cm5zIGZhbHNlIGluc3RlYWRcblx0XHRcdG1hdGNoZXMuY2FsbCggZGl2LCBcIltzIT0nJ106eFwiICk7XG5cdFx0XHRyYnVnZ3lNYXRjaGVzLnB1c2goIFwiIT1cIiwgcHNldWRvcyApO1xuXHRcdH0pO1xuXHR9XG5cblx0cmJ1Z2d5UVNBID0gcmJ1Z2d5UVNBLmxlbmd0aCAmJiBuZXcgUmVnRXhwKCByYnVnZ3lRU0Euam9pbihcInxcIikgKTtcblx0cmJ1Z2d5TWF0Y2hlcyA9IHJidWdneU1hdGNoZXMubGVuZ3RoICYmIG5ldyBSZWdFeHAoIHJidWdneU1hdGNoZXMuam9pbihcInxcIikgKTtcblxuXHQvKiBDb250YWluc1xuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cdGhhc0NvbXBhcmUgPSBybmF0aXZlLnRlc3QoIGRvY0VsZW0uY29tcGFyZURvY3VtZW50UG9zaXRpb24gKTtcblxuXHQvLyBFbGVtZW50IGNvbnRhaW5zIGFub3RoZXJcblx0Ly8gUHVycG9zZWZ1bGx5IGRvZXMgbm90IGltcGxlbWVudCBpbmNsdXNpdmUgZGVzY2VuZGVudFxuXHQvLyBBcyBpbiwgYW4gZWxlbWVudCBkb2VzIG5vdCBjb250YWluIGl0c2VsZlxuXHRjb250YWlucyA9IGhhc0NvbXBhcmUgfHwgcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbnRhaW5zICkgP1xuXHRcdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdFx0dmFyIGFkb3duID0gYS5ub2RlVHlwZSA9PT0gOSA/IGEuZG9jdW1lbnRFbGVtZW50IDogYSxcblx0XHRcdFx0YnVwID0gYiAmJiBiLnBhcmVudE5vZGU7XG5cdFx0XHRyZXR1cm4gYSA9PT0gYnVwIHx8ICEhKCBidXAgJiYgYnVwLm5vZGVUeXBlID09PSAxICYmIChcblx0XHRcdFx0YWRvd24uY29udGFpbnMgP1xuXHRcdFx0XHRcdGFkb3duLmNvbnRhaW5zKCBidXAgKSA6XG5cdFx0XHRcdFx0YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAmJiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBidXAgKSAmIDE2XG5cdFx0XHQpKTtcblx0XHR9IDpcblx0XHRmdW5jdGlvbiggYSwgYiApIHtcblx0XHRcdGlmICggYiApIHtcblx0XHRcdFx0d2hpbGUgKCAoYiA9IGIucGFyZW50Tm9kZSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBiID09PSBhICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fTtcblxuXHQvKiBTb3J0aW5nXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBEb2N1bWVudCBvcmRlciBzb3J0aW5nXG5cdHNvcnRPcmRlciA9IGhhc0NvbXBhcmUgP1xuXHRmdW5jdGlvbiggYSwgYiApIHtcblxuXHRcdC8vIEZsYWcgZm9yIGR1cGxpY2F0ZSByZW1vdmFsXG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdC8vIFNvcnQgb24gbWV0aG9kIGV4aXN0ZW5jZSBpZiBvbmx5IG9uZSBpbnB1dCBoYXMgY29tcGFyZURvY3VtZW50UG9zaXRpb25cblx0XHR2YXIgY29tcGFyZSA9ICFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIC0gIWIuY29tcGFyZURvY3VtZW50UG9zaXRpb247XG5cdFx0aWYgKCBjb21wYXJlICkge1xuXHRcdFx0cmV0dXJuIGNvbXBhcmU7XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsY3VsYXRlIHBvc2l0aW9uIGlmIGJvdGggaW5wdXRzIGJlbG9uZyB0byB0aGUgc2FtZSBkb2N1bWVudFxuXHRcdGNvbXBhcmUgPSAoIGEub3duZXJEb2N1bWVudCB8fCBhICkgPT09ICggYi5vd25lckRvY3VtZW50IHx8IGIgKSA/XG5cdFx0XHRhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBiICkgOlxuXG5cdFx0XHQvLyBPdGhlcndpc2Ugd2Uga25vdyB0aGV5IGFyZSBkaXNjb25uZWN0ZWRcblx0XHRcdDE7XG5cblx0XHQvLyBEaXNjb25uZWN0ZWQgbm9kZXNcblx0XHRpZiAoIGNvbXBhcmUgJiAxIHx8XG5cdFx0XHQoIXN1cHBvcnQuc29ydERldGFjaGVkICYmIGIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGEgKSA9PT0gY29tcGFyZSkgKSB7XG5cblx0XHRcdC8vIENob29zZSB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IGlzIHJlbGF0ZWQgdG8gb3VyIHByZWZlcnJlZCBkb2N1bWVudFxuXHRcdFx0aWYgKCBhID09PSBkb2MgfHwgYS5vd25lckRvY3VtZW50ID09PSBwcmVmZXJyZWREb2MgJiYgY29udGFpbnMocHJlZmVycmVkRG9jLCBhKSApIHtcblx0XHRcdFx0cmV0dXJuIC0xO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBiID09PSBkb2MgfHwgYi5vd25lckRvY3VtZW50ID09PSBwcmVmZXJyZWREb2MgJiYgY29udGFpbnMocHJlZmVycmVkRG9jLCBiKSApIHtcblx0XHRcdFx0cmV0dXJuIDE7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE1haW50YWluIG9yaWdpbmFsIG9yZGVyXG5cdFx0XHRyZXR1cm4gc29ydElucHV0ID9cblx0XHRcdFx0KCBpbmRleE9mLmNhbGwoIHNvcnRJbnB1dCwgYSApIC0gaW5kZXhPZi5jYWxsKCBzb3J0SW5wdXQsIGIgKSApIDpcblx0XHRcdFx0MDtcblx0XHR9XG5cblx0XHRyZXR1cm4gY29tcGFyZSAmIDQgPyAtMSA6IDE7XG5cdH0gOlxuXHRmdW5jdGlvbiggYSwgYiApIHtcblx0XHQvLyBFeGl0IGVhcmx5IGlmIHRoZSBub2RlcyBhcmUgaWRlbnRpY2FsXG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdHZhciBjdXIsXG5cdFx0XHRpID0gMCxcblx0XHRcdGF1cCA9IGEucGFyZW50Tm9kZSxcblx0XHRcdGJ1cCA9IGIucGFyZW50Tm9kZSxcblx0XHRcdGFwID0gWyBhIF0sXG5cdFx0XHRicCA9IFsgYiBdO1xuXG5cdFx0Ly8gUGFyZW50bGVzcyBub2RlcyBhcmUgZWl0aGVyIGRvY3VtZW50cyBvciBkaXNjb25uZWN0ZWRcblx0XHRpZiAoICFhdXAgfHwgIWJ1cCApIHtcblx0XHRcdHJldHVybiBhID09PSBkb2MgPyAtMSA6XG5cdFx0XHRcdGIgPT09IGRvYyA/IDEgOlxuXHRcdFx0XHRhdXAgPyAtMSA6XG5cdFx0XHRcdGJ1cCA/IDEgOlxuXHRcdFx0XHRzb3J0SW5wdXQgP1xuXHRcdFx0XHQoIGluZGV4T2YuY2FsbCggc29ydElucHV0LCBhICkgLSBpbmRleE9mLmNhbGwoIHNvcnRJbnB1dCwgYiApICkgOlxuXHRcdFx0XHQwO1xuXG5cdFx0Ly8gSWYgdGhlIG5vZGVzIGFyZSBzaWJsaW5ncywgd2UgY2FuIGRvIGEgcXVpY2sgY2hlY2tcblx0XHR9IGVsc2UgaWYgKCBhdXAgPT09IGJ1cCApIHtcblx0XHRcdHJldHVybiBzaWJsaW5nQ2hlY2soIGEsIGIgKTtcblx0XHR9XG5cblx0XHQvLyBPdGhlcndpc2Ugd2UgbmVlZCBmdWxsIGxpc3RzIG9mIHRoZWlyIGFuY2VzdG9ycyBmb3IgY29tcGFyaXNvblxuXHRcdGN1ciA9IGE7XG5cdFx0d2hpbGUgKCAoY3VyID0gY3VyLnBhcmVudE5vZGUpICkge1xuXHRcdFx0YXAudW5zaGlmdCggY3VyICk7XG5cdFx0fVxuXHRcdGN1ciA9IGI7XG5cdFx0d2hpbGUgKCAoY3VyID0gY3VyLnBhcmVudE5vZGUpICkge1xuXHRcdFx0YnAudW5zaGlmdCggY3VyICk7XG5cdFx0fVxuXG5cdFx0Ly8gV2FsayBkb3duIHRoZSB0cmVlIGxvb2tpbmcgZm9yIGEgZGlzY3JlcGFuY3lcblx0XHR3aGlsZSAoIGFwW2ldID09PSBicFtpXSApIHtcblx0XHRcdGkrKztcblx0XHR9XG5cblx0XHRyZXR1cm4gaSA/XG5cdFx0XHQvLyBEbyBhIHNpYmxpbmcgY2hlY2sgaWYgdGhlIG5vZGVzIGhhdmUgYSBjb21tb24gYW5jZXN0b3Jcblx0XHRcdHNpYmxpbmdDaGVjayggYXBbaV0sIGJwW2ldICkgOlxuXG5cdFx0XHQvLyBPdGhlcndpc2Ugbm9kZXMgaW4gb3VyIGRvY3VtZW50IHNvcnQgZmlyc3Rcblx0XHRcdGFwW2ldID09PSBwcmVmZXJyZWREb2MgPyAtMSA6XG5cdFx0XHRicFtpXSA9PT0gcHJlZmVycmVkRG9jID8gMSA6XG5cdFx0XHQwO1xuXHR9O1xuXG5cdHJldHVybiBkb2M7XG59O1xuXG5TaXp6bGUubWF0Y2hlcyA9IGZ1bmN0aW9uKCBleHByLCBlbGVtZW50cyApIHtcblx0cmV0dXJuIFNpenpsZSggZXhwciwgbnVsbCwgbnVsbCwgZWxlbWVudHMgKTtcbn07XG5cblNpenpsZS5tYXRjaGVzU2VsZWN0b3IgPSBmdW5jdGlvbiggZWxlbSwgZXhwciApIHtcblx0Ly8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG5cdGlmICggKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSApICE9PSBkb2N1bWVudCApIHtcblx0XHRzZXREb2N1bWVudCggZWxlbSApO1xuXHR9XG5cblx0Ly8gTWFrZSBzdXJlIHRoYXQgYXR0cmlidXRlIHNlbGVjdG9ycyBhcmUgcXVvdGVkXG5cdGV4cHIgPSBleHByLnJlcGxhY2UoIHJhdHRyaWJ1dGVRdW90ZXMsIFwiPSckMSddXCIgKTtcblxuXHRpZiAoIHN1cHBvcnQubWF0Y2hlc1NlbGVjdG9yICYmIGRvY3VtZW50SXNIVE1MICYmXG5cdFx0KCAhcmJ1Z2d5TWF0Y2hlcyB8fCAhcmJ1Z2d5TWF0Y2hlcy50ZXN0KCBleHByICkgKSAmJlxuXHRcdCggIXJidWdneVFTQSAgICAgfHwgIXJidWdneVFTQS50ZXN0KCBleHByICkgKSApIHtcblxuXHRcdHRyeSB7XG5cdFx0XHR2YXIgcmV0ID0gbWF0Y2hlcy5jYWxsKCBlbGVtLCBleHByICk7XG5cblx0XHRcdC8vIElFIDkncyBtYXRjaGVzU2VsZWN0b3IgcmV0dXJucyBmYWxzZSBvbiBkaXNjb25uZWN0ZWQgbm9kZXNcblx0XHRcdGlmICggcmV0IHx8IHN1cHBvcnQuZGlzY29ubmVjdGVkTWF0Y2ggfHxcblx0XHRcdFx0XHQvLyBBcyB3ZWxsLCBkaXNjb25uZWN0ZWQgbm9kZXMgYXJlIHNhaWQgdG8gYmUgaW4gYSBkb2N1bWVudFxuXHRcdFx0XHRcdC8vIGZyYWdtZW50IGluIElFIDlcblx0XHRcdFx0XHRlbGVtLmRvY3VtZW50ICYmIGVsZW0uZG9jdW1lbnQubm9kZVR5cGUgIT09IDExICkge1xuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2goZSkge31cblx0fVxuXG5cdHJldHVybiBTaXp6bGUoIGV4cHIsIGRvY3VtZW50LCBudWxsLCBbIGVsZW0gXSApLmxlbmd0aCA+IDA7XG59O1xuXG5TaXp6bGUuY29udGFpbnMgPSBmdW5jdGlvbiggY29udGV4dCwgZWxlbSApIHtcblx0Ly8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG5cdGlmICggKCBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCApICE9PSBkb2N1bWVudCApIHtcblx0XHRzZXREb2N1bWVudCggY29udGV4dCApO1xuXHR9XG5cdHJldHVybiBjb250YWlucyggY29udGV4dCwgZWxlbSApO1xufTtcblxuU2l6emxlLmF0dHIgPSBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcblx0Ly8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG5cdGlmICggKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSApICE9PSBkb2N1bWVudCApIHtcblx0XHRzZXREb2N1bWVudCggZWxlbSApO1xuXHR9XG5cblx0dmFyIGZuID0gRXhwci5hdHRySGFuZGxlWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSxcblx0XHQvLyBEb24ndCBnZXQgZm9vbGVkIGJ5IE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAoalF1ZXJ5ICMxMzgwNylcblx0XHR2YWwgPSBmbiAmJiBoYXNPd24uY2FsbCggRXhwci5hdHRySGFuZGxlLCBuYW1lLnRvTG93ZXJDYXNlKCkgKSA/XG5cdFx0XHRmbiggZWxlbSwgbmFtZSwgIWRvY3VtZW50SXNIVE1MICkgOlxuXHRcdFx0dW5kZWZpbmVkO1xuXG5cdHJldHVybiB2YWwgIT09IHVuZGVmaW5lZCA/XG5cdFx0dmFsIDpcblx0XHRzdXBwb3J0LmF0dHJpYnV0ZXMgfHwgIWRvY3VtZW50SXNIVE1MID9cblx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lICkgOlxuXHRcdFx0KHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZShuYW1lKSkgJiYgdmFsLnNwZWNpZmllZCA/XG5cdFx0XHRcdHZhbC52YWx1ZSA6XG5cdFx0XHRcdG51bGw7XG59O1xuXG5TaXp6bGUuZXJyb3IgPSBmdW5jdGlvbiggbXNnICkge1xuXHR0aHJvdyBuZXcgRXJyb3IoIFwiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogXCIgKyBtc2cgKTtcbn07XG5cbi8qKlxuICogRG9jdW1lbnQgc29ydGluZyBhbmQgcmVtb3ZpbmcgZHVwbGljYXRlc1xuICogQHBhcmFtIHtBcnJheUxpa2V9IHJlc3VsdHNcbiAqL1xuU2l6emxlLnVuaXF1ZVNvcnQgPSBmdW5jdGlvbiggcmVzdWx0cyApIHtcblx0dmFyIGVsZW0sXG5cdFx0ZHVwbGljYXRlcyA9IFtdLFxuXHRcdGogPSAwLFxuXHRcdGkgPSAwO1xuXG5cdC8vIFVubGVzcyB3ZSAqa25vdyogd2UgY2FuIGRldGVjdCBkdXBsaWNhdGVzLCBhc3N1bWUgdGhlaXIgcHJlc2VuY2Vcblx0aGFzRHVwbGljYXRlID0gIXN1cHBvcnQuZGV0ZWN0RHVwbGljYXRlcztcblx0c29ydElucHV0ID0gIXN1cHBvcnQuc29ydFN0YWJsZSAmJiByZXN1bHRzLnNsaWNlKCAwICk7XG5cdHJlc3VsdHMuc29ydCggc29ydE9yZGVyICk7XG5cblx0aWYgKCBoYXNEdXBsaWNhdGUgKSB7XG5cdFx0d2hpbGUgKCAoZWxlbSA9IHJlc3VsdHNbaSsrXSkgKSB7XG5cdFx0XHRpZiAoIGVsZW0gPT09IHJlc3VsdHNbIGkgXSApIHtcblx0XHRcdFx0aiA9IGR1cGxpY2F0ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdHJlc3VsdHMuc3BsaWNlKCBkdXBsaWNhdGVzWyBqIF0sIDEgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBDbGVhciBpbnB1dCBhZnRlciBzb3J0aW5nIHRvIHJlbGVhc2Ugb2JqZWN0c1xuXHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9zaXp6bGUvcHVsbC8yMjVcblx0c29ydElucHV0ID0gbnVsbDtcblxuXHRyZXR1cm4gcmVzdWx0cztcbn07XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiBmb3IgcmV0cmlldmluZyB0aGUgdGV4dCB2YWx1ZSBvZiBhbiBhcnJheSBvZiBET00gbm9kZXNcbiAqIEBwYXJhbSB7QXJyYXl8RWxlbWVudH0gZWxlbVxuICovXG5nZXRUZXh0ID0gU2l6emxlLmdldFRleHQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0dmFyIG5vZGUsXG5cdFx0cmV0ID0gXCJcIixcblx0XHRpID0gMCxcblx0XHRub2RlVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cblx0aWYgKCAhbm9kZVR5cGUgKSB7XG5cdFx0Ly8gSWYgbm8gbm9kZVR5cGUsIHRoaXMgaXMgZXhwZWN0ZWQgdG8gYmUgYW4gYXJyYXlcblx0XHR3aGlsZSAoIChub2RlID0gZWxlbVtpKytdKSApIHtcblx0XHRcdC8vIERvIG5vdCB0cmF2ZXJzZSBjb21tZW50IG5vZGVzXG5cdFx0XHRyZXQgKz0gZ2V0VGV4dCggbm9kZSApO1xuXHRcdH1cblx0fSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDEgfHwgbm9kZVR5cGUgPT09IDkgfHwgbm9kZVR5cGUgPT09IDExICkge1xuXHRcdC8vIFVzZSB0ZXh0Q29udGVudCBmb3IgZWxlbWVudHNcblx0XHQvLyBpbm5lclRleHQgdXNhZ2UgcmVtb3ZlZCBmb3IgY29uc2lzdGVuY3kgb2YgbmV3IGxpbmVzIChqUXVlcnkgIzExMTUzKVxuXHRcdGlmICggdHlwZW9mIGVsZW0udGV4dENvbnRlbnQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS50ZXh0Q29udGVudDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gVHJhdmVyc2UgaXRzIGNoaWxkcmVuXG5cdFx0XHRmb3IgKCBlbGVtID0gZWxlbS5maXJzdENoaWxkOyBlbGVtOyBlbGVtID0gZWxlbS5uZXh0U2libGluZyApIHtcblx0XHRcdFx0cmV0ICs9IGdldFRleHQoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSBpZiAoIG5vZGVUeXBlID09PSAzIHx8IG5vZGVUeXBlID09PSA0ICkge1xuXHRcdHJldHVybiBlbGVtLm5vZGVWYWx1ZTtcblx0fVxuXHQvLyBEbyBub3QgaW5jbHVkZSBjb21tZW50IG9yIHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24gbm9kZXNcblxuXHRyZXR1cm4gcmV0O1xufTtcblxuRXhwciA9IFNpenpsZS5zZWxlY3RvcnMgPSB7XG5cblx0Ly8gQ2FuIGJlIGFkanVzdGVkIGJ5IHRoZSB1c2VyXG5cdGNhY2hlTGVuZ3RoOiA1MCxcblxuXHRjcmVhdGVQc2V1ZG86IG1hcmtGdW5jdGlvbixcblxuXHRtYXRjaDogbWF0Y2hFeHByLFxuXG5cdGF0dHJIYW5kbGU6IHt9LFxuXG5cdGZpbmQ6IHt9LFxuXG5cdHJlbGF0aXZlOiB7XG5cdFx0XCI+XCI6IHsgZGlyOiBcInBhcmVudE5vZGVcIiwgZmlyc3Q6IHRydWUgfSxcblx0XHRcIiBcIjogeyBkaXI6IFwicGFyZW50Tm9kZVwiIH0sXG5cdFx0XCIrXCI6IHsgZGlyOiBcInByZXZpb3VzU2libGluZ1wiLCBmaXJzdDogdHJ1ZSB9LFxuXHRcdFwiflwiOiB7IGRpcjogXCJwcmV2aW91c1NpYmxpbmdcIiB9XG5cdH0sXG5cblx0cHJlRmlsdGVyOiB7XG5cdFx0XCJBVFRSXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcblx0XHRcdG1hdGNoWzFdID0gbWF0Y2hbMV0ucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblxuXHRcdFx0Ly8gTW92ZSB0aGUgZ2l2ZW4gdmFsdWUgdG8gbWF0Y2hbM10gd2hldGhlciBxdW90ZWQgb3IgdW5xdW90ZWRcblx0XHRcdG1hdGNoWzNdID0gKCBtYXRjaFszXSB8fCBtYXRjaFs0XSB8fCBtYXRjaFs1XSB8fCBcIlwiICkucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblxuXHRcdFx0aWYgKCBtYXRjaFsyXSA9PT0gXCJ+PVwiICkge1xuXHRcdFx0XHRtYXRjaFszXSA9IFwiIFwiICsgbWF0Y2hbM10gKyBcIiBcIjtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG1hdGNoLnNsaWNlKCAwLCA0ICk7XG5cdFx0fSxcblxuXHRcdFwiQ0hJTERcIjogZnVuY3Rpb24oIG1hdGNoICkge1xuXHRcdFx0LyogbWF0Y2hlcyBmcm9tIG1hdGNoRXhwcltcIkNISUxEXCJdXG5cdFx0XHRcdDEgdHlwZSAob25seXxudGh8Li4uKVxuXHRcdFx0XHQyIHdoYXQgKGNoaWxkfG9mLXR5cGUpXG5cdFx0XHRcdDMgYXJndW1lbnQgKGV2ZW58b2RkfFxcZCp8XFxkKm4oWystXVxcZCspP3wuLi4pXG5cdFx0XHRcdDQgeG4tY29tcG9uZW50IG9mIHhuK3kgYXJndW1lbnQgKFsrLV0/XFxkKm58KVxuXHRcdFx0XHQ1IHNpZ24gb2YgeG4tY29tcG9uZW50XG5cdFx0XHRcdDYgeCBvZiB4bi1jb21wb25lbnRcblx0XHRcdFx0NyBzaWduIG9mIHktY29tcG9uZW50XG5cdFx0XHRcdDggeSBvZiB5LWNvbXBvbmVudFxuXHRcdFx0Ki9cblx0XHRcdG1hdGNoWzFdID0gbWF0Y2hbMV0udG9Mb3dlckNhc2UoKTtcblxuXHRcdFx0aWYgKCBtYXRjaFsxXS5zbGljZSggMCwgMyApID09PSBcIm50aFwiICkge1xuXHRcdFx0XHQvLyBudGgtKiByZXF1aXJlcyBhcmd1bWVudFxuXHRcdFx0XHRpZiAoICFtYXRjaFszXSApIHtcblx0XHRcdFx0XHRTaXp6bGUuZXJyb3IoIG1hdGNoWzBdICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBudW1lcmljIHggYW5kIHkgcGFyYW1ldGVycyBmb3IgRXhwci5maWx0ZXIuQ0hJTERcblx0XHRcdFx0Ly8gcmVtZW1iZXIgdGhhdCBmYWxzZS90cnVlIGNhc3QgcmVzcGVjdGl2ZWx5IHRvIDAvMVxuXHRcdFx0XHRtYXRjaFs0XSA9ICsoIG1hdGNoWzRdID8gbWF0Y2hbNV0gKyAobWF0Y2hbNl0gfHwgMSkgOiAyICogKCBtYXRjaFszXSA9PT0gXCJldmVuXCIgfHwgbWF0Y2hbM10gPT09IFwib2RkXCIgKSApO1xuXHRcdFx0XHRtYXRjaFs1XSA9ICsoICggbWF0Y2hbN10gKyBtYXRjaFs4XSApIHx8IG1hdGNoWzNdID09PSBcIm9kZFwiICk7XG5cblx0XHRcdC8vIG90aGVyIHR5cGVzIHByb2hpYml0IGFyZ3VtZW50c1xuXHRcdFx0fSBlbHNlIGlmICggbWF0Y2hbM10gKSB7XG5cdFx0XHRcdFNpenpsZS5lcnJvciggbWF0Y2hbMF0gKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG1hdGNoO1xuXHRcdH0sXG5cblx0XHRcIlBTRVVET1wiOiBmdW5jdGlvbiggbWF0Y2ggKSB7XG5cdFx0XHR2YXIgZXhjZXNzLFxuXHRcdFx0XHR1bnF1b3RlZCA9ICFtYXRjaFs2XSAmJiBtYXRjaFsyXTtcblxuXHRcdFx0aWYgKCBtYXRjaEV4cHJbXCJDSElMRFwiXS50ZXN0KCBtYXRjaFswXSApICkge1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWNjZXB0IHF1b3RlZCBhcmd1bWVudHMgYXMtaXNcblx0XHRcdGlmICggbWF0Y2hbM10gKSB7XG5cdFx0XHRcdG1hdGNoWzJdID0gbWF0Y2hbNF0gfHwgbWF0Y2hbNV0gfHwgXCJcIjtcblxuXHRcdFx0Ly8gU3RyaXAgZXhjZXNzIGNoYXJhY3RlcnMgZnJvbSB1bnF1b3RlZCBhcmd1bWVudHNcblx0XHRcdH0gZWxzZSBpZiAoIHVucXVvdGVkICYmIHJwc2V1ZG8udGVzdCggdW5xdW90ZWQgKSAmJlxuXHRcdFx0XHQvLyBHZXQgZXhjZXNzIGZyb20gdG9rZW5pemUgKHJlY3Vyc2l2ZWx5KVxuXHRcdFx0XHQoZXhjZXNzID0gdG9rZW5pemUoIHVucXVvdGVkLCB0cnVlICkpICYmXG5cdFx0XHRcdC8vIGFkdmFuY2UgdG8gdGhlIG5leHQgY2xvc2luZyBwYXJlbnRoZXNpc1xuXHRcdFx0XHQoZXhjZXNzID0gdW5xdW90ZWQuaW5kZXhPZiggXCIpXCIsIHVucXVvdGVkLmxlbmd0aCAtIGV4Y2VzcyApIC0gdW5xdW90ZWQubGVuZ3RoKSApIHtcblxuXHRcdFx0XHQvLyBleGNlc3MgaXMgYSBuZWdhdGl2ZSBpbmRleFxuXHRcdFx0XHRtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKCAwLCBleGNlc3MgKTtcblx0XHRcdFx0bWF0Y2hbMl0gPSB1bnF1b3RlZC5zbGljZSggMCwgZXhjZXNzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJldHVybiBvbmx5IGNhcHR1cmVzIG5lZWRlZCBieSB0aGUgcHNldWRvIGZpbHRlciBtZXRob2QgKHR5cGUgYW5kIGFyZ3VtZW50KVxuXHRcdFx0cmV0dXJuIG1hdGNoLnNsaWNlKCAwLCAzICk7XG5cdFx0fVxuXHR9LFxuXG5cdGZpbHRlcjoge1xuXG5cdFx0XCJUQUdcIjogZnVuY3Rpb24oIG5vZGVOYW1lU2VsZWN0b3IgKSB7XG5cdFx0XHR2YXIgbm9kZU5hbWUgPSBub2RlTmFtZVNlbGVjdG9yLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiBub2RlTmFtZVNlbGVjdG9yID09PSBcIipcIiA/XG5cdFx0XHRcdGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfSA6XG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbm9kZU5hbWU7XG5cdFx0XHRcdH07XG5cdFx0fSxcblxuXHRcdFwiQ0xBU1NcIjogZnVuY3Rpb24oIGNsYXNzTmFtZSApIHtcblx0XHRcdHZhciBwYXR0ZXJuID0gY2xhc3NDYWNoZVsgY2xhc3NOYW1lICsgXCIgXCIgXTtcblxuXHRcdFx0cmV0dXJuIHBhdHRlcm4gfHxcblx0XHRcdFx0KHBhdHRlcm4gPSBuZXcgUmVnRXhwKCBcIihefFwiICsgd2hpdGVzcGFjZSArIFwiKVwiICsgY2xhc3NOYW1lICsgXCIoXCIgKyB3aGl0ZXNwYWNlICsgXCJ8JClcIiApKSAmJlxuXHRcdFx0XHRjbGFzc0NhY2hlKCBjbGFzc05hbWUsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHJldHVybiBwYXR0ZXJuLnRlc3QoIHR5cGVvZiBlbGVtLmNsYXNzTmFtZSA9PT0gXCJzdHJpbmdcIiAmJiBlbGVtLmNsYXNzTmFtZSB8fCB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUgIT09IHN0cnVuZGVmaW5lZCAmJiBlbGVtLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpIHx8IFwiXCIgKTtcblx0XHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdFwiQVRUUlwiOiBmdW5jdGlvbiggbmFtZSwgb3BlcmF0b3IsIGNoZWNrICkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgcmVzdWx0ID0gU2l6emxlLmF0dHIoIGVsZW0sIG5hbWUgKTtcblxuXHRcdFx0XHRpZiAoIHJlc3VsdCA9PSBudWxsICkge1xuXHRcdFx0XHRcdHJldHVybiBvcGVyYXRvciA9PT0gXCIhPVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggIW9wZXJhdG9yICkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmVzdWx0ICs9IFwiXCI7XG5cblx0XHRcdFx0cmV0dXJuIG9wZXJhdG9yID09PSBcIj1cIiA/IHJlc3VsdCA9PT0gY2hlY2sgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIiE9XCIgPyByZXN1bHQgIT09IGNoZWNrIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCJePVwiID8gY2hlY2sgJiYgcmVzdWx0LmluZGV4T2YoIGNoZWNrICkgPT09IDAgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIio9XCIgPyBjaGVjayAmJiByZXN1bHQuaW5kZXhPZiggY2hlY2sgKSA+IC0xIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIkPVwiID8gY2hlY2sgJiYgcmVzdWx0LnNsaWNlKCAtY2hlY2subGVuZ3RoICkgPT09IGNoZWNrIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCJ+PVwiID8gKCBcIiBcIiArIHJlc3VsdCArIFwiIFwiICkuaW5kZXhPZiggY2hlY2sgKSA+IC0xIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCJ8PVwiID8gcmVzdWx0ID09PSBjaGVjayB8fCByZXN1bHQuc2xpY2UoIDAsIGNoZWNrLmxlbmd0aCArIDEgKSA9PT0gY2hlY2sgKyBcIi1cIiA6XG5cdFx0XHRcdFx0ZmFsc2U7XG5cdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRcIkNISUxEXCI6IGZ1bmN0aW9uKCB0eXBlLCB3aGF0LCBhcmd1bWVudCwgZmlyc3QsIGxhc3QgKSB7XG5cdFx0XHR2YXIgc2ltcGxlID0gdHlwZS5zbGljZSggMCwgMyApICE9PSBcIm50aFwiLFxuXHRcdFx0XHRmb3J3YXJkID0gdHlwZS5zbGljZSggLTQgKSAhPT0gXCJsYXN0XCIsXG5cdFx0XHRcdG9mVHlwZSA9IHdoYXQgPT09IFwib2YtdHlwZVwiO1xuXG5cdFx0XHRyZXR1cm4gZmlyc3QgPT09IDEgJiYgbGFzdCA9PT0gMCA/XG5cblx0XHRcdFx0Ly8gU2hvcnRjdXQgZm9yIDpudGgtKihuKVxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRyZXR1cm4gISFlbGVtLnBhcmVudE5vZGU7XG5cdFx0XHRcdH0gOlxuXG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHRcdFx0dmFyIGNhY2hlLCBvdXRlckNhY2hlLCBub2RlLCBkaWZmLCBub2RlSW5kZXgsIHN0YXJ0LFxuXHRcdFx0XHRcdFx0ZGlyID0gc2ltcGxlICE9PSBmb3J3YXJkID8gXCJuZXh0U2libGluZ1wiIDogXCJwcmV2aW91c1NpYmxpbmdcIixcblx0XHRcdFx0XHRcdHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZSxcblx0XHRcdFx0XHRcdG5hbWUgPSBvZlR5cGUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLFxuXHRcdFx0XHRcdFx0dXNlQ2FjaGUgPSAheG1sICYmICFvZlR5cGU7XG5cblx0XHRcdFx0XHRpZiAoIHBhcmVudCApIHtcblxuXHRcdFx0XHRcdFx0Ly8gOihmaXJzdHxsYXN0fG9ubHkpLShjaGlsZHxvZi10eXBlKVxuXHRcdFx0XHRcdFx0aWYgKCBzaW1wbGUgKSB7XG5cdFx0XHRcdFx0XHRcdHdoaWxlICggZGlyICkge1xuXHRcdFx0XHRcdFx0XHRcdG5vZGUgPSBlbGVtO1xuXHRcdFx0XHRcdFx0XHRcdHdoaWxlICggKG5vZGUgPSBub2RlWyBkaXIgXSkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIG9mVHlwZSA/IG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZSA6IG5vZGUubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0Ly8gUmV2ZXJzZSBkaXJlY3Rpb24gZm9yIDpvbmx5LSogKGlmIHdlIGhhdmVuJ3QgeWV0IGRvbmUgc28pXG5cdFx0XHRcdFx0XHRcdFx0c3RhcnQgPSBkaXIgPSB0eXBlID09PSBcIm9ubHlcIiAmJiAhc3RhcnQgJiYgXCJuZXh0U2libGluZ1wiO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRzdGFydCA9IFsgZm9yd2FyZCA/IHBhcmVudC5maXJzdENoaWxkIDogcGFyZW50Lmxhc3RDaGlsZCBdO1xuXG5cdFx0XHRcdFx0XHQvLyBub24teG1sIDpudGgtY2hpbGQoLi4uKSBzdG9yZXMgY2FjaGUgZGF0YSBvbiBgcGFyZW50YFxuXHRcdFx0XHRcdFx0aWYgKCBmb3J3YXJkICYmIHVzZUNhY2hlICkge1xuXHRcdFx0XHRcdFx0XHQvLyBTZWVrIGBlbGVtYCBmcm9tIGEgcHJldmlvdXNseS1jYWNoZWQgaW5kZXhcblx0XHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IHBhcmVudFsgZXhwYW5kbyBdIHx8IChwYXJlbnRbIGV4cGFuZG8gXSA9IHt9KTtcblx0XHRcdFx0XHRcdFx0Y2FjaGUgPSBvdXRlckNhY2hlWyB0eXBlIF0gfHwgW107XG5cdFx0XHRcdFx0XHRcdG5vZGVJbmRleCA9IGNhY2hlWzBdID09PSBkaXJydW5zICYmIGNhY2hlWzFdO1xuXHRcdFx0XHRcdFx0XHRkaWZmID0gY2FjaGVbMF0gPT09IGRpcnJ1bnMgJiYgY2FjaGVbMl07XG5cdFx0XHRcdFx0XHRcdG5vZGUgPSBub2RlSW5kZXggJiYgcGFyZW50LmNoaWxkTm9kZXNbIG5vZGVJbmRleCBdO1xuXG5cdFx0XHRcdFx0XHRcdHdoaWxlICggKG5vZGUgPSArK25vZGVJbmRleCAmJiBub2RlICYmIG5vZGVbIGRpciBdIHx8XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBGYWxsYmFjayB0byBzZWVraW5nIGBlbGVtYCBmcm9tIHRoZSBzdGFydFxuXHRcdFx0XHRcdFx0XHRcdChkaWZmID0gbm9kZUluZGV4ID0gMCkgfHwgc3RhcnQucG9wKCkpICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gV2hlbiBmb3VuZCwgY2FjaGUgaW5kZXhlcyBvbiBgcGFyZW50YCBhbmQgYnJlYWtcblx0XHRcdFx0XHRcdFx0XHRpZiAoIG5vZGUubm9kZVR5cGUgPT09IDEgJiYgKytkaWZmICYmIG5vZGUgPT09IGVsZW0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIG5vZGVJbmRleCwgZGlmZiBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIFVzZSBwcmV2aW91c2x5LWNhY2hlZCBlbGVtZW50IGluZGV4IGlmIGF2YWlsYWJsZVxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmICggdXNlQ2FjaGUgJiYgKGNhY2hlID0gKGVsZW1bIGV4cGFuZG8gXSB8fCAoZWxlbVsgZXhwYW5kbyBdID0ge30pKVsgdHlwZSBdKSAmJiBjYWNoZVswXSA9PT0gZGlycnVucyApIHtcblx0XHRcdFx0XHRcdFx0ZGlmZiA9IGNhY2hlWzFdO1xuXG5cdFx0XHRcdFx0XHQvLyB4bWwgOm50aC1jaGlsZCguLi4pIG9yIDpudGgtbGFzdC1jaGlsZCguLi4pIG9yIDpudGgoLWxhc3QpPy1vZi10eXBlKC4uLilcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdC8vIFVzZSB0aGUgc2FtZSBsb29wIGFzIGFib3ZlIHRvIHNlZWsgYGVsZW1gIGZyb20gdGhlIHN0YXJ0XG5cdFx0XHRcdFx0XHRcdHdoaWxlICggKG5vZGUgPSArK25vZGVJbmRleCAmJiBub2RlICYmIG5vZGVbIGRpciBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0KGRpZmYgPSBub2RlSW5kZXggPSAwKSB8fCBzdGFydC5wb3AoKSkgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoICggb2ZUeXBlID8gbm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lIDogbm9kZS5ub2RlVHlwZSA9PT0gMSApICYmICsrZGlmZiApIHtcblx0XHRcdFx0XHRcdFx0XHRcdC8vIENhY2hlIHRoZSBpbmRleCBvZiBlYWNoIGVuY291bnRlcmVkIGVsZW1lbnRcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggdXNlQ2FjaGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdChub2RlWyBleHBhbmRvIF0gfHwgKG5vZGVbIGV4cGFuZG8gXSA9IHt9KSlbIHR5cGUgXSA9IFsgZGlycnVucywgZGlmZiBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIG5vZGUgPT09IGVsZW0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBJbmNvcnBvcmF0ZSB0aGUgb2Zmc2V0LCB0aGVuIGNoZWNrIGFnYWluc3QgY3ljbGUgc2l6ZVxuXHRcdFx0XHRcdFx0ZGlmZiAtPSBsYXN0O1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRpZmYgPT09IGZpcnN0IHx8ICggZGlmZiAlIGZpcnN0ID09PSAwICYmIGRpZmYgLyBmaXJzdCA+PSAwICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRcIlBTRVVET1wiOiBmdW5jdGlvbiggcHNldWRvLCBhcmd1bWVudCApIHtcblx0XHRcdC8vIHBzZXVkby1jbGFzcyBuYW1lcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZVxuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNwc2V1ZG8tY2xhc3Nlc1xuXHRcdFx0Ly8gUHJpb3JpdGl6ZSBieSBjYXNlIHNlbnNpdGl2aXR5IGluIGNhc2UgY3VzdG9tIHBzZXVkb3MgYXJlIGFkZGVkIHdpdGggdXBwZXJjYXNlIGxldHRlcnNcblx0XHRcdC8vIFJlbWVtYmVyIHRoYXQgc2V0RmlsdGVycyBpbmhlcml0cyBmcm9tIHBzZXVkb3Ncblx0XHRcdHZhciBhcmdzLFxuXHRcdFx0XHRmbiA9IEV4cHIucHNldWRvc1sgcHNldWRvIF0gfHwgRXhwci5zZXRGaWx0ZXJzWyBwc2V1ZG8udG9Mb3dlckNhc2UoKSBdIHx8XG5cdFx0XHRcdFx0U2l6emxlLmVycm9yKCBcInVuc3VwcG9ydGVkIHBzZXVkbzogXCIgKyBwc2V1ZG8gKTtcblxuXHRcdFx0Ly8gVGhlIHVzZXIgbWF5IHVzZSBjcmVhdGVQc2V1ZG8gdG8gaW5kaWNhdGUgdGhhdFxuXHRcdFx0Ly8gYXJndW1lbnRzIGFyZSBuZWVkZWQgdG8gY3JlYXRlIHRoZSBmaWx0ZXIgZnVuY3Rpb25cblx0XHRcdC8vIGp1c3QgYXMgU2l6emxlIGRvZXNcblx0XHRcdGlmICggZm5bIGV4cGFuZG8gXSApIHtcblx0XHRcdFx0cmV0dXJuIGZuKCBhcmd1bWVudCApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBCdXQgbWFpbnRhaW4gc3VwcG9ydCBmb3Igb2xkIHNpZ25hdHVyZXNcblx0XHRcdGlmICggZm4ubGVuZ3RoID4gMSApIHtcblx0XHRcdFx0YXJncyA9IFsgcHNldWRvLCBwc2V1ZG8sIFwiXCIsIGFyZ3VtZW50IF07XG5cdFx0XHRcdHJldHVybiBFeHByLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoIHBzZXVkby50b0xvd2VyQ2FzZSgpICkgP1xuXHRcdFx0XHRcdG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcyApIHtcblx0XHRcdFx0XHRcdHZhciBpZHgsXG5cdFx0XHRcdFx0XHRcdG1hdGNoZWQgPSBmbiggc2VlZCwgYXJndW1lbnQgKSxcblx0XHRcdFx0XHRcdFx0aSA9IG1hdGNoZWQubGVuZ3RoO1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRcdGlkeCA9IGluZGV4T2YuY2FsbCggc2VlZCwgbWF0Y2hlZFtpXSApO1xuXHRcdFx0XHRcdFx0XHRzZWVkWyBpZHggXSA9ICEoIG1hdGNoZXNbIGlkeCBdID0gbWF0Y2hlZFtpXSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pIDpcblx0XHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRcdHJldHVybiBmbiggZWxlbSwgMCwgYXJncyApO1xuXHRcdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBmbjtcblx0XHR9XG5cdH0sXG5cblx0cHNldWRvczoge1xuXHRcdC8vIFBvdGVudGlhbGx5IGNvbXBsZXggcHNldWRvc1xuXHRcdFwibm90XCI6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHQvLyBUcmltIHRoZSBzZWxlY3RvciBwYXNzZWQgdG8gY29tcGlsZVxuXHRcdFx0Ly8gdG8gYXZvaWQgdHJlYXRpbmcgbGVhZGluZyBhbmQgdHJhaWxpbmdcblx0XHRcdC8vIHNwYWNlcyBhcyBjb21iaW5hdG9yc1xuXHRcdFx0dmFyIGlucHV0ID0gW10sXG5cdFx0XHRcdHJlc3VsdHMgPSBbXSxcblx0XHRcdFx0bWF0Y2hlciA9IGNvbXBpbGUoIHNlbGVjdG9yLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSApO1xuXG5cdFx0XHRyZXR1cm4gbWF0Y2hlclsgZXhwYW5kbyBdID9cblx0XHRcdFx0bWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHRcdFx0dmFyIGVsZW0sXG5cdFx0XHRcdFx0XHR1bm1hdGNoZWQgPSBtYXRjaGVyKCBzZWVkLCBudWxsLCB4bWwsIFtdICksXG5cdFx0XHRcdFx0XHRpID0gc2VlZC5sZW5ndGg7XG5cblx0XHRcdFx0XHQvLyBNYXRjaCBlbGVtZW50cyB1bm1hdGNoZWQgYnkgYG1hdGNoZXJgXG5cdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRpZiAoIChlbGVtID0gdW5tYXRjaGVkW2ldKSApIHtcblx0XHRcdFx0XHRcdFx0c2VlZFtpXSA9ICEobWF0Y2hlc1tpXSA9IGVsZW0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSkgOlxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdGlucHV0WzBdID0gZWxlbTtcblx0XHRcdFx0XHRtYXRjaGVyKCBpbnB1dCwgbnVsbCwgeG1sLCByZXN1bHRzICk7XG5cdFx0XHRcdFx0cmV0dXJuICFyZXN1bHRzLnBvcCgpO1xuXHRcdFx0XHR9O1xuXHRcdH0pLFxuXG5cdFx0XCJoYXNcIjogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIFNpenpsZSggc2VsZWN0b3IsIGVsZW0gKS5sZW5ndGggPiAwO1xuXHRcdFx0fTtcblx0XHR9KSxcblxuXHRcdFwiY29udGFpbnNcIjogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gKCBlbGVtLnRleHRDb250ZW50IHx8IGVsZW0uaW5uZXJUZXh0IHx8IGdldFRleHQoIGVsZW0gKSApLmluZGV4T2YoIHRleHQgKSA+IC0xO1xuXHRcdFx0fTtcblx0XHR9KSxcblxuXHRcdC8vIFwiV2hldGhlciBhbiBlbGVtZW50IGlzIHJlcHJlc2VudGVkIGJ5IGEgOmxhbmcoKSBzZWxlY3RvclxuXHRcdC8vIGlzIGJhc2VkIHNvbGVseSBvbiB0aGUgZWxlbWVudCdzIGxhbmd1YWdlIHZhbHVlXG5cdFx0Ly8gYmVpbmcgZXF1YWwgdG8gdGhlIGlkZW50aWZpZXIgQyxcblx0XHQvLyBvciBiZWdpbm5pbmcgd2l0aCB0aGUgaWRlbnRpZmllciBDIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IFwiLVwiLlxuXHRcdC8vIFRoZSBtYXRjaGluZyBvZiBDIGFnYWluc3QgdGhlIGVsZW1lbnQncyBsYW5ndWFnZSB2YWx1ZSBpcyBwZXJmb3JtZWQgY2FzZS1pbnNlbnNpdGl2ZWx5LlxuXHRcdC8vIFRoZSBpZGVudGlmaWVyIEMgZG9lcyBub3QgaGF2ZSB0byBiZSBhIHZhbGlkIGxhbmd1YWdlIG5hbWUuXCJcblx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2xhbmctcHNldWRvXG5cdFx0XCJsYW5nXCI6IG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIGxhbmcgKSB7XG5cdFx0XHQvLyBsYW5nIHZhbHVlIG11c3QgYmUgYSB2YWxpZCBpZGVudGlmaWVyXG5cdFx0XHRpZiAoICFyaWRlbnRpZmllci50ZXN0KGxhbmcgfHwgXCJcIikgKSB7XG5cdFx0XHRcdFNpenpsZS5lcnJvciggXCJ1bnN1cHBvcnRlZCBsYW5nOiBcIiArIGxhbmcgKTtcblx0XHRcdH1cblx0XHRcdGxhbmcgPSBsYW5nLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIGVsZW1MYW5nO1xuXHRcdFx0XHRkbyB7XG5cdFx0XHRcdFx0aWYgKCAoZWxlbUxhbmcgPSBkb2N1bWVudElzSFRNTCA/XG5cdFx0XHRcdFx0XHRlbGVtLmxhbmcgOlxuXHRcdFx0XHRcdFx0ZWxlbS5nZXRBdHRyaWJ1dGUoXCJ4bWw6bGFuZ1wiKSB8fCBlbGVtLmdldEF0dHJpYnV0ZShcImxhbmdcIikpICkge1xuXG5cdFx0XHRcdFx0XHRlbGVtTGFuZyA9IGVsZW1MYW5nLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbUxhbmcgPT09IGxhbmcgfHwgZWxlbUxhbmcuaW5kZXhPZiggbGFuZyArIFwiLVwiICkgPT09IDA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IHdoaWxlICggKGVsZW0gPSBlbGVtLnBhcmVudE5vZGUpICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fTtcblx0XHR9KSxcblxuXHRcdC8vIE1pc2NlbGxhbmVvdXNcblx0XHRcInRhcmdldFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uICYmIHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuXHRcdFx0cmV0dXJuIGhhc2ggJiYgaGFzaC5zbGljZSggMSApID09PSBlbGVtLmlkO1xuXHRcdH0sXG5cblx0XHRcInJvb3RcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbSA9PT0gZG9jRWxlbTtcblx0XHR9LFxuXG5cdFx0XCJmb2N1c1wiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmICghZG9jdW1lbnQuaGFzRm9jdXMgfHwgZG9jdW1lbnQuaGFzRm9jdXMoKSkgJiYgISEoZWxlbS50eXBlIHx8IGVsZW0uaHJlZiB8fCB+ZWxlbS50YWJJbmRleCk7XG5cdFx0fSxcblxuXHRcdC8vIEJvb2xlYW4gcHJvcGVydGllc1xuXHRcdFwiZW5hYmxlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtLmRpc2FibGVkID09PSBmYWxzZTtcblx0XHR9LFxuXG5cdFx0XCJkaXNhYmxlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtLmRpc2FibGVkID09PSB0cnVlO1xuXHRcdH0sXG5cblx0XHRcImNoZWNrZWRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHQvLyBJbiBDU1MzLCA6Y2hlY2tlZCBzaG91bGQgcmV0dXJuIGJvdGggY2hlY2tlZCBhbmQgc2VsZWN0ZWQgZWxlbWVudHNcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXG5cdFx0XHR2YXIgbm9kZU5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRyZXR1cm4gKG5vZGVOYW1lID09PSBcImlucHV0XCIgJiYgISFlbGVtLmNoZWNrZWQpIHx8IChub2RlTmFtZSA9PT0gXCJvcHRpb25cIiAmJiAhIWVsZW0uc2VsZWN0ZWQpO1xuXHRcdH0sXG5cblx0XHRcInNlbGVjdGVkXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0Ly8gQWNjZXNzaW5nIHRoaXMgcHJvcGVydHkgbWFrZXMgc2VsZWN0ZWQtYnktZGVmYXVsdFxuXHRcdFx0Ly8gb3B0aW9ucyBpbiBTYWZhcmkgd29yayBwcm9wZXJseVxuXHRcdFx0aWYgKCBlbGVtLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdGVsZW0ucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZWxlbS5zZWxlY3RlZCA9PT0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0Ly8gQ29udGVudHNcblx0XHRcImVtcHR5XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNlbXB0eS1wc2V1ZG9cblx0XHRcdC8vIDplbXB0eSBpcyBuZWdhdGVkIGJ5IGVsZW1lbnQgKDEpIG9yIGNvbnRlbnQgbm9kZXMgKHRleHQ6IDM7IGNkYXRhOiA0OyBlbnRpdHkgcmVmOiA1KSxcblx0XHRcdC8vICAgYnV0IG5vdCBieSBvdGhlcnMgKGNvbW1lbnQ6IDg7IHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb246IDc7IGV0Yy4pXG5cdFx0XHQvLyBub2RlVHlwZSA8IDYgd29ya3MgYmVjYXVzZSBhdHRyaWJ1dGVzICgyKSBkbyBub3QgYXBwZWFyIGFzIGNoaWxkcmVuXG5cdFx0XHRmb3IgKCBlbGVtID0gZWxlbS5maXJzdENoaWxkOyBlbGVtOyBlbGVtID0gZWxlbS5uZXh0U2libGluZyApIHtcblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlIDwgNiApIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0sXG5cblx0XHRcInBhcmVudFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiAhRXhwci5wc2V1ZG9zW1wiZW1wdHlcIl0oIGVsZW0gKTtcblx0XHR9LFxuXG5cdFx0Ly8gRWxlbWVudC9pbnB1dCB0eXBlc1xuXHRcdFwiaGVhZGVyXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIHJoZWFkZXIudGVzdCggZWxlbS5ub2RlTmFtZSApO1xuXHRcdH0sXG5cblx0XHRcImlucHV0XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIHJpbnB1dHMudGVzdCggZWxlbS5ub2RlTmFtZSApO1xuXHRcdH0sXG5cblx0XHRcImJ1dHRvblwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIG5hbWUgPT09IFwiaW5wdXRcIiAmJiBlbGVtLnR5cGUgPT09IFwiYnV0dG9uXCIgfHwgbmFtZSA9PT0gXCJidXR0b25cIjtcblx0XHR9LFxuXG5cdFx0XCJ0ZXh0XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIGF0dHI7XG5cdFx0XHRyZXR1cm4gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImlucHV0XCIgJiZcblx0XHRcdFx0ZWxlbS50eXBlID09PSBcInRleHRcIiAmJlxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFPDhcblx0XHRcdFx0Ly8gTmV3IEhUTUw1IGF0dHJpYnV0ZSB2YWx1ZXMgKGUuZy4sIFwic2VhcmNoXCIpIGFwcGVhciB3aXRoIGVsZW0udHlwZSA9PT0gXCJ0ZXh0XCJcblx0XHRcdFx0KCAoYXR0ciA9IGVsZW0uZ2V0QXR0cmlidXRlKFwidHlwZVwiKSkgPT0gbnVsbCB8fCBhdHRyLnRvTG93ZXJDYXNlKCkgPT09IFwidGV4dFwiICk7XG5cdFx0fSxcblxuXHRcdC8vIFBvc2l0aW9uLWluLWNvbGxlY3Rpb25cblx0XHRcImZpcnN0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gWyAwIF07XG5cdFx0fSksXG5cblx0XHRcImxhc3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4gWyBsZW5ndGggLSAxIF07XG5cdFx0fSksXG5cblx0XHRcImVxXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcblx0XHRcdHJldHVybiBbIGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQgXTtcblx0XHR9KSxcblxuXHRcdFwiZXZlblwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcblx0XHRcdHZhciBpID0gMDtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9KSxcblxuXHRcdFwib2RkXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuXHRcdFx0dmFyIGkgPSAxO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpICs9IDIgKSB7XG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdH0pLFxuXG5cdFx0XCJsdFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7XG5cdFx0XHR2YXIgaSA9IGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQ7XG5cdFx0XHRmb3IgKCA7IC0taSA+PSAwOyApIHtcblx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0fSksXG5cblx0XHRcImd0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcblx0XHRcdHZhciBpID0gYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudDtcblx0XHRcdGZvciAoIDsgKytpIDwgbGVuZ3RoOyApIHtcblx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0fSlcblx0fVxufTtcblxuRXhwci5wc2V1ZG9zW1wibnRoXCJdID0gRXhwci5wc2V1ZG9zW1wiZXFcIl07XG5cbi8vIEFkZCBidXR0b24vaW5wdXQgdHlwZSBwc2V1ZG9zXG5mb3IgKCBpIGluIHsgcmFkaW86IHRydWUsIGNoZWNrYm94OiB0cnVlLCBmaWxlOiB0cnVlLCBwYXNzd29yZDogdHJ1ZSwgaW1hZ2U6IHRydWUgfSApIHtcblx0RXhwci5wc2V1ZG9zWyBpIF0gPSBjcmVhdGVJbnB1dFBzZXVkbyggaSApO1xufVxuZm9yICggaSBpbiB7IHN1Ym1pdDogdHJ1ZSwgcmVzZXQ6IHRydWUgfSApIHtcblx0RXhwci5wc2V1ZG9zWyBpIF0gPSBjcmVhdGVCdXR0b25Qc2V1ZG8oIGkgKTtcbn1cblxuLy8gRWFzeSBBUEkgZm9yIGNyZWF0aW5nIG5ldyBzZXRGaWx0ZXJzXG5mdW5jdGlvbiBzZXRGaWx0ZXJzKCkge31cbnNldEZpbHRlcnMucHJvdG90eXBlID0gRXhwci5maWx0ZXJzID0gRXhwci5wc2V1ZG9zO1xuRXhwci5zZXRGaWx0ZXJzID0gbmV3IHNldEZpbHRlcnMoKTtcblxudG9rZW5pemUgPSBTaXp6bGUudG9rZW5pemUgPSBmdW5jdGlvbiggc2VsZWN0b3IsIHBhcnNlT25seSApIHtcblx0dmFyIG1hdGNoZWQsIG1hdGNoLCB0b2tlbnMsIHR5cGUsXG5cdFx0c29GYXIsIGdyb3VwcywgcHJlRmlsdGVycyxcblx0XHRjYWNoZWQgPSB0b2tlbkNhY2hlWyBzZWxlY3RvciArIFwiIFwiIF07XG5cblx0aWYgKCBjYWNoZWQgKSB7XG5cdFx0cmV0dXJuIHBhcnNlT25seSA/IDAgOiBjYWNoZWQuc2xpY2UoIDAgKTtcblx0fVxuXG5cdHNvRmFyID0gc2VsZWN0b3I7XG5cdGdyb3VwcyA9IFtdO1xuXHRwcmVGaWx0ZXJzID0gRXhwci5wcmVGaWx0ZXI7XG5cblx0d2hpbGUgKCBzb0ZhciApIHtcblxuXHRcdC8vIENvbW1hIGFuZCBmaXJzdCBydW5cblx0XHRpZiAoICFtYXRjaGVkIHx8IChtYXRjaCA9IHJjb21tYS5leGVjKCBzb0ZhciApKSApIHtcblx0XHRcdGlmICggbWF0Y2ggKSB7XG5cdFx0XHRcdC8vIERvbid0IGNvbnN1bWUgdHJhaWxpbmcgY29tbWFzIGFzIHZhbGlkXG5cdFx0XHRcdHNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoWzBdLmxlbmd0aCApIHx8IHNvRmFyO1xuXHRcdFx0fVxuXHRcdFx0Z3JvdXBzLnB1c2goICh0b2tlbnMgPSBbXSkgKTtcblx0XHR9XG5cblx0XHRtYXRjaGVkID0gZmFsc2U7XG5cblx0XHQvLyBDb21iaW5hdG9yc1xuXHRcdGlmICggKG1hdGNoID0gcmNvbWJpbmF0b3JzLmV4ZWMoIHNvRmFyICkpICkge1xuXHRcdFx0bWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7XG5cdFx0XHR0b2tlbnMucHVzaCh7XG5cdFx0XHRcdHZhbHVlOiBtYXRjaGVkLFxuXHRcdFx0XHQvLyBDYXN0IGRlc2NlbmRhbnQgY29tYmluYXRvcnMgdG8gc3BhY2Vcblx0XHRcdFx0dHlwZTogbWF0Y2hbMF0ucmVwbGFjZSggcnRyaW0sIFwiIFwiIClcblx0XHRcdH0pO1xuXHRcdFx0c29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hlZC5sZW5ndGggKTtcblx0XHR9XG5cblx0XHQvLyBGaWx0ZXJzXG5cdFx0Zm9yICggdHlwZSBpbiBFeHByLmZpbHRlciApIHtcblx0XHRcdGlmICggKG1hdGNoID0gbWF0Y2hFeHByWyB0eXBlIF0uZXhlYyggc29GYXIgKSkgJiYgKCFwcmVGaWx0ZXJzWyB0eXBlIF0gfHxcblx0XHRcdFx0KG1hdGNoID0gcHJlRmlsdGVyc1sgdHlwZSBdKCBtYXRjaCApKSkgKSB7XG5cdFx0XHRcdG1hdGNoZWQgPSBtYXRjaC5zaGlmdCgpO1xuXHRcdFx0XHR0b2tlbnMucHVzaCh7XG5cdFx0XHRcdFx0dmFsdWU6IG1hdGNoZWQsXG5cdFx0XHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdFx0XHRtYXRjaGVzOiBtYXRjaFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0c29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hlZC5sZW5ndGggKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoICFtYXRjaGVkICkge1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmV0dXJuIHRoZSBsZW5ndGggb2YgdGhlIGludmFsaWQgZXhjZXNzXG5cdC8vIGlmIHdlJ3JlIGp1c3QgcGFyc2luZ1xuXHQvLyBPdGhlcndpc2UsIHRocm93IGFuIGVycm9yIG9yIHJldHVybiB0b2tlbnNcblx0cmV0dXJuIHBhcnNlT25seSA/XG5cdFx0c29GYXIubGVuZ3RoIDpcblx0XHRzb0ZhciA/XG5cdFx0XHRTaXp6bGUuZXJyb3IoIHNlbGVjdG9yICkgOlxuXHRcdFx0Ly8gQ2FjaGUgdGhlIHRva2Vuc1xuXHRcdFx0dG9rZW5DYWNoZSggc2VsZWN0b3IsIGdyb3VwcyApLnNsaWNlKCAwICk7XG59O1xuXG5mdW5jdGlvbiB0b1NlbGVjdG9yKCB0b2tlbnMgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsZW4gPSB0b2tlbnMubGVuZ3RoLFxuXHRcdHNlbGVjdG9yID0gXCJcIjtcblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0c2VsZWN0b3IgKz0gdG9rZW5zW2ldLnZhbHVlO1xuXHR9XG5cdHJldHVybiBzZWxlY3Rvcjtcbn1cblxuZnVuY3Rpb24gYWRkQ29tYmluYXRvciggbWF0Y2hlciwgY29tYmluYXRvciwgYmFzZSApIHtcblx0dmFyIGRpciA9IGNvbWJpbmF0b3IuZGlyLFxuXHRcdGNoZWNrTm9uRWxlbWVudHMgPSBiYXNlICYmIGRpciA9PT0gXCJwYXJlbnROb2RlXCIsXG5cdFx0ZG9uZU5hbWUgPSBkb25lKys7XG5cblx0cmV0dXJuIGNvbWJpbmF0b3IuZmlyc3QgP1xuXHRcdC8vIENoZWNrIGFnYWluc3QgY2xvc2VzdCBhbmNlc3Rvci9wcmVjZWRpbmcgZWxlbWVudFxuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHR3aGlsZSAoIChlbGVtID0gZWxlbVsgZGlyIF0pICkge1xuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHtcblx0XHRcdFx0XHRyZXR1cm4gbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IDpcblxuXHRcdC8vIENoZWNrIGFnYWluc3QgYWxsIGFuY2VzdG9yL3ByZWNlZGluZyBlbGVtZW50c1xuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHR2YXIgb2xkQ2FjaGUsIG91dGVyQ2FjaGUsXG5cdFx0XHRcdG5ld0NhY2hlID0gWyBkaXJydW5zLCBkb25lTmFtZSBdO1xuXG5cdFx0XHQvLyBXZSBjYW4ndCBzZXQgYXJiaXRyYXJ5IGRhdGEgb24gWE1MIG5vZGVzLCBzbyB0aGV5IGRvbid0IGJlbmVmaXQgZnJvbSBkaXIgY2FjaGluZ1xuXHRcdFx0aWYgKCB4bWwgKSB7XG5cdFx0XHRcdHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gZWxlbVsgZXhwYW5kbyBdIHx8IChlbGVtWyBleHBhbmRvIF0gPSB7fSk7XG5cdFx0XHRcdFx0XHRpZiAoIChvbGRDYWNoZSA9IG91dGVyQ2FjaGVbIGRpciBdKSAmJlxuXHRcdFx0XHRcdFx0XHRvbGRDYWNoZVsgMCBdID09PSBkaXJydW5zICYmIG9sZENhY2hlWyAxIF0gPT09IGRvbmVOYW1lICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIEFzc2lnbiB0byBuZXdDYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzXG5cdFx0XHRcdFx0XHRcdHJldHVybiAobmV3Q2FjaGVbIDIgXSA9IG9sZENhY2hlWyAyIF0pO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly8gUmV1c2UgbmV3Y2FjaGUgc28gcmVzdWx0cyBiYWNrLXByb3BhZ2F0ZSB0byBwcmV2aW91cyBlbGVtZW50c1xuXHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlWyBkaXIgXSA9IG5ld0NhY2hlO1xuXG5cdFx0XHRcdFx0XHRcdC8vIEEgbWF0Y2ggbWVhbnMgd2UncmUgZG9uZTsgYSBmYWlsIG1lYW5zIHdlIGhhdmUgdG8ga2VlcCBjaGVja2luZ1xuXHRcdFx0XHRcdFx0XHRpZiAoIChuZXdDYWNoZVsgMiBdID0gbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICkpICkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcbn1cblxuZnVuY3Rpb24gZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICkge1xuXHRyZXR1cm4gbWF0Y2hlcnMubGVuZ3RoID4gMSA/XG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHZhciBpID0gbWF0Y2hlcnMubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGlmICggIW1hdGNoZXJzW2ldKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0gOlxuXHRcdG1hdGNoZXJzWzBdO1xufVxuXG5mdW5jdGlvbiBtdWx0aXBsZUNvbnRleHRzKCBzZWxlY3RvciwgY29udGV4dHMsIHJlc3VsdHMgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsZW4gPSBjb250ZXh0cy5sZW5ndGg7XG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFNpenpsZSggc2VsZWN0b3IsIGNvbnRleHRzW2ldLCByZXN1bHRzICk7XG5cdH1cblx0cmV0dXJuIHJlc3VsdHM7XG59XG5cbmZ1bmN0aW9uIGNvbmRlbnNlKCB1bm1hdGNoZWQsIG1hcCwgZmlsdGVyLCBjb250ZXh0LCB4bWwgKSB7XG5cdHZhciBlbGVtLFxuXHRcdG5ld1VubWF0Y2hlZCA9IFtdLFxuXHRcdGkgPSAwLFxuXHRcdGxlbiA9IHVubWF0Y2hlZC5sZW5ndGgsXG5cdFx0bWFwcGVkID0gbWFwICE9IG51bGw7XG5cblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0aWYgKCAoZWxlbSA9IHVubWF0Y2hlZFtpXSkgKSB7XG5cdFx0XHRpZiAoICFmaWx0ZXIgfHwgZmlsdGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0bmV3VW5tYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0aWYgKCBtYXBwZWQgKSB7XG5cdFx0XHRcdFx0bWFwLnB1c2goIGkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBuZXdVbm1hdGNoZWQ7XG59XG5cbmZ1bmN0aW9uIHNldE1hdGNoZXIoIHByZUZpbHRlciwgc2VsZWN0b3IsIG1hdGNoZXIsIHBvc3RGaWx0ZXIsIHBvc3RGaW5kZXIsIHBvc3RTZWxlY3RvciApIHtcblx0aWYgKCBwb3N0RmlsdGVyICYmICFwb3N0RmlsdGVyWyBleHBhbmRvIF0gKSB7XG5cdFx0cG9zdEZpbHRlciA9IHNldE1hdGNoZXIoIHBvc3RGaWx0ZXIgKTtcblx0fVxuXHRpZiAoIHBvc3RGaW5kZXIgJiYgIXBvc3RGaW5kZXJbIGV4cGFuZG8gXSApIHtcblx0XHRwb3N0RmluZGVyID0gc2V0TWF0Y2hlciggcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yICk7XG5cdH1cblx0cmV0dXJuIG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgcmVzdWx0cywgY29udGV4dCwgeG1sICkge1xuXHRcdHZhciB0ZW1wLCBpLCBlbGVtLFxuXHRcdFx0cHJlTWFwID0gW10sXG5cdFx0XHRwb3N0TWFwID0gW10sXG5cdFx0XHRwcmVleGlzdGluZyA9IHJlc3VsdHMubGVuZ3RoLFxuXG5cdFx0XHQvLyBHZXQgaW5pdGlhbCBlbGVtZW50cyBmcm9tIHNlZWQgb3IgY29udGV4dFxuXHRcdFx0ZWxlbXMgPSBzZWVkIHx8IG11bHRpcGxlQ29udGV4dHMoIHNlbGVjdG9yIHx8IFwiKlwiLCBjb250ZXh0Lm5vZGVUeXBlID8gWyBjb250ZXh0IF0gOiBjb250ZXh0LCBbXSApLFxuXG5cdFx0XHQvLyBQcmVmaWx0ZXIgdG8gZ2V0IG1hdGNoZXIgaW5wdXQsIHByZXNlcnZpbmcgYSBtYXAgZm9yIHNlZWQtcmVzdWx0cyBzeW5jaHJvbml6YXRpb25cblx0XHRcdG1hdGNoZXJJbiA9IHByZUZpbHRlciAmJiAoIHNlZWQgfHwgIXNlbGVjdG9yICkgP1xuXHRcdFx0XHRjb25kZW5zZSggZWxlbXMsIHByZU1hcCwgcHJlRmlsdGVyLCBjb250ZXh0LCB4bWwgKSA6XG5cdFx0XHRcdGVsZW1zLFxuXG5cdFx0XHRtYXRjaGVyT3V0ID0gbWF0Y2hlciA/XG5cdFx0XHRcdC8vIElmIHdlIGhhdmUgYSBwb3N0RmluZGVyLCBvciBmaWx0ZXJlZCBzZWVkLCBvciBub24tc2VlZCBwb3N0RmlsdGVyIG9yIHByZWV4aXN0aW5nIHJlc3VsdHMsXG5cdFx0XHRcdHBvc3RGaW5kZXIgfHwgKCBzZWVkID8gcHJlRmlsdGVyIDogcHJlZXhpc3RpbmcgfHwgcG9zdEZpbHRlciApID9cblxuXHRcdFx0XHRcdC8vIC4uLmludGVybWVkaWF0ZSBwcm9jZXNzaW5nIGlzIG5lY2Vzc2FyeVxuXHRcdFx0XHRcdFtdIDpcblxuXHRcdFx0XHRcdC8vIC4uLm90aGVyd2lzZSB1c2UgcmVzdWx0cyBkaXJlY3RseVxuXHRcdFx0XHRcdHJlc3VsdHMgOlxuXHRcdFx0XHRtYXRjaGVySW47XG5cblx0XHQvLyBGaW5kIHByaW1hcnkgbWF0Y2hlc1xuXHRcdGlmICggbWF0Y2hlciApIHtcblx0XHRcdG1hdGNoZXIoIG1hdGNoZXJJbiwgbWF0Y2hlck91dCwgY29udGV4dCwgeG1sICk7XG5cdFx0fVxuXG5cdFx0Ly8gQXBwbHkgcG9zdEZpbHRlclxuXHRcdGlmICggcG9zdEZpbHRlciApIHtcblx0XHRcdHRlbXAgPSBjb25kZW5zZSggbWF0Y2hlck91dCwgcG9zdE1hcCApO1xuXHRcdFx0cG9zdEZpbHRlciggdGVtcCwgW10sIGNvbnRleHQsIHhtbCApO1xuXG5cdFx0XHQvLyBVbi1tYXRjaCBmYWlsaW5nIGVsZW1lbnRzIGJ5IG1vdmluZyB0aGVtIGJhY2sgdG8gbWF0Y2hlckluXG5cdFx0XHRpID0gdGVtcC5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0aWYgKCAoZWxlbSA9IHRlbXBbaV0pICkge1xuXHRcdFx0XHRcdG1hdGNoZXJPdXRbIHBvc3RNYXBbaV0gXSA9ICEobWF0Y2hlckluWyBwb3N0TWFwW2ldIF0gPSBlbGVtKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggc2VlZCApIHtcblx0XHRcdGlmICggcG9zdEZpbmRlciB8fCBwcmVGaWx0ZXIgKSB7XG5cdFx0XHRcdGlmICggcG9zdEZpbmRlciApIHtcblx0XHRcdFx0XHQvLyBHZXQgdGhlIGZpbmFsIG1hdGNoZXJPdXQgYnkgY29uZGVuc2luZyB0aGlzIGludGVybWVkaWF0ZSBpbnRvIHBvc3RGaW5kZXIgY29udGV4dHNcblx0XHRcdFx0XHR0ZW1wID0gW107XG5cdFx0XHRcdFx0aSA9IG1hdGNoZXJPdXQubGVuZ3RoO1xuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoZWxlbSA9IG1hdGNoZXJPdXRbaV0pICkge1xuXHRcdFx0XHRcdFx0XHQvLyBSZXN0b3JlIG1hdGNoZXJJbiBzaW5jZSBlbGVtIGlzIG5vdCB5ZXQgYSBmaW5hbCBtYXRjaFxuXHRcdFx0XHRcdFx0XHR0ZW1wLnB1c2goIChtYXRjaGVySW5baV0gPSBlbGVtKSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRwb3N0RmluZGVyKCBudWxsLCAobWF0Y2hlck91dCA9IFtdKSwgdGVtcCwgeG1sICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBNb3ZlIG1hdGNoZWQgZWxlbWVudHMgZnJvbSBzZWVkIHRvIHJlc3VsdHMgdG8ga2VlcCB0aGVtIHN5bmNocm9uaXplZFxuXHRcdFx0XHRpID0gbWF0Y2hlck91dC5sZW5ndGg7XG5cdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdGlmICggKGVsZW0gPSBtYXRjaGVyT3V0W2ldKSAmJlxuXHRcdFx0XHRcdFx0KHRlbXAgPSBwb3N0RmluZGVyID8gaW5kZXhPZi5jYWxsKCBzZWVkLCBlbGVtICkgOiBwcmVNYXBbaV0pID4gLTEgKSB7XG5cblx0XHRcdFx0XHRcdHNlZWRbdGVtcF0gPSAhKHJlc3VsdHNbdGVtcF0gPSBlbGVtKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdC8vIEFkZCBlbGVtZW50cyB0byByZXN1bHRzLCB0aHJvdWdoIHBvc3RGaW5kZXIgaWYgZGVmaW5lZFxuXHRcdH0gZWxzZSB7XG5cdFx0XHRtYXRjaGVyT3V0ID0gY29uZGVuc2UoXG5cdFx0XHRcdG1hdGNoZXJPdXQgPT09IHJlc3VsdHMgP1xuXHRcdFx0XHRcdG1hdGNoZXJPdXQuc3BsaWNlKCBwcmVleGlzdGluZywgbWF0Y2hlck91dC5sZW5ndGggKSA6XG5cdFx0XHRcdFx0bWF0Y2hlck91dFxuXHRcdFx0KTtcblx0XHRcdGlmICggcG9zdEZpbmRlciApIHtcblx0XHRcdFx0cG9zdEZpbmRlciggbnVsbCwgcmVzdWx0cywgbWF0Y2hlck91dCwgeG1sICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBtYXRjaGVyT3V0ICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcbn1cblxuZnVuY3Rpb24gbWF0Y2hlckZyb21Ub2tlbnMoIHRva2VucyApIHtcblx0dmFyIGNoZWNrQ29udGV4dCwgbWF0Y2hlciwgaixcblx0XHRsZW4gPSB0b2tlbnMubGVuZ3RoLFxuXHRcdGxlYWRpbmdSZWxhdGl2ZSA9IEV4cHIucmVsYXRpdmVbIHRva2Vuc1swXS50eXBlIF0sXG5cdFx0aW1wbGljaXRSZWxhdGl2ZSA9IGxlYWRpbmdSZWxhdGl2ZSB8fCBFeHByLnJlbGF0aXZlW1wiIFwiXSxcblx0XHRpID0gbGVhZGluZ1JlbGF0aXZlID8gMSA6IDAsXG5cblx0XHQvLyBUaGUgZm91bmRhdGlvbmFsIG1hdGNoZXIgZW5zdXJlcyB0aGF0IGVsZW1lbnRzIGFyZSByZWFjaGFibGUgZnJvbSB0b3AtbGV2ZWwgY29udGV4dChzKVxuXHRcdG1hdGNoQ29udGV4dCA9IGFkZENvbWJpbmF0b3IoIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0gPT09IGNoZWNrQ29udGV4dDtcblx0XHR9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVlICksXG5cdFx0bWF0Y2hBbnlDb250ZXh0ID0gYWRkQ29tYmluYXRvciggZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gaW5kZXhPZi5jYWxsKCBjaGVja0NvbnRleHQsIGVsZW0gKSA+IC0xO1xuXHRcdH0sIGltcGxpY2l0UmVsYXRpdmUsIHRydWUgKSxcblx0XHRtYXRjaGVycyA9IFsgZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHJldHVybiAoICFsZWFkaW5nUmVsYXRpdmUgJiYgKCB4bWwgfHwgY29udGV4dCAhPT0gb3V0ZXJtb3N0Q29udGV4dCApICkgfHwgKFxuXHRcdFx0XHQoY2hlY2tDb250ZXh0ID0gY29udGV4dCkubm9kZVR5cGUgP1xuXHRcdFx0XHRcdG1hdGNoQ29udGV4dCggZWxlbSwgY29udGV4dCwgeG1sICkgOlxuXHRcdFx0XHRcdG1hdGNoQW55Q29udGV4dCggZWxlbSwgY29udGV4dCwgeG1sICkgKTtcblx0XHR9IF07XG5cblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0aWYgKCAobWF0Y2hlciA9IEV4cHIucmVsYXRpdmVbIHRva2Vuc1tpXS50eXBlIF0pICkge1xuXHRcdFx0bWF0Y2hlcnMgPSBbIGFkZENvbWJpbmF0b3IoZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICksIG1hdGNoZXIpIF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdG1hdGNoZXIgPSBFeHByLmZpbHRlclsgdG9rZW5zW2ldLnR5cGUgXS5hcHBseSggbnVsbCwgdG9rZW5zW2ldLm1hdGNoZXMgKTtcblxuXHRcdFx0Ly8gUmV0dXJuIHNwZWNpYWwgdXBvbiBzZWVpbmcgYSBwb3NpdGlvbmFsIG1hdGNoZXJcblx0XHRcdGlmICggbWF0Y2hlclsgZXhwYW5kbyBdICkge1xuXHRcdFx0XHQvLyBGaW5kIHRoZSBuZXh0IHJlbGF0aXZlIG9wZXJhdG9yIChpZiBhbnkpIGZvciBwcm9wZXIgaGFuZGxpbmdcblx0XHRcdFx0aiA9ICsraTtcblx0XHRcdFx0Zm9yICggOyBqIDwgbGVuOyBqKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBFeHByLnJlbGF0aXZlWyB0b2tlbnNbal0udHlwZSBdICkge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBzZXRNYXRjaGVyKFxuXHRcdFx0XHRcdGkgPiAxICYmIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApLFxuXHRcdFx0XHRcdGkgPiAxICYmIHRvU2VsZWN0b3IoXG5cdFx0XHRcdFx0XHQvLyBJZiB0aGUgcHJlY2VkaW5nIHRva2VuIHdhcyBhIGRlc2NlbmRhbnQgY29tYmluYXRvciwgaW5zZXJ0IGFuIGltcGxpY2l0IGFueS1lbGVtZW50IGAqYFxuXHRcdFx0XHRcdFx0dG9rZW5zLnNsaWNlKCAwLCBpIC0gMSApLmNvbmNhdCh7IHZhbHVlOiB0b2tlbnNbIGkgLSAyIF0udHlwZSA9PT0gXCIgXCIgPyBcIipcIiA6IFwiXCIgfSlcblx0XHRcdFx0XHQpLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSxcblx0XHRcdFx0XHRtYXRjaGVyLFxuXHRcdFx0XHRcdGkgPCBqICYmIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMuc2xpY2UoIGksIGogKSApLFxuXHRcdFx0XHRcdGogPCBsZW4gJiYgbWF0Y2hlckZyb21Ub2tlbnMoICh0b2tlbnMgPSB0b2tlbnMuc2xpY2UoIGogKSkgKSxcblx0XHRcdFx0XHRqIDwgbGVuICYmIHRvU2VsZWN0b3IoIHRva2VucyApXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRtYXRjaGVycy5wdXNoKCBtYXRjaGVyICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApO1xufVxuXG5mdW5jdGlvbiBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMgKSB7XG5cdHZhciBieVNldCA9IHNldE1hdGNoZXJzLmxlbmd0aCA+IDAsXG5cdFx0YnlFbGVtZW50ID0gZWxlbWVudE1hdGNoZXJzLmxlbmd0aCA+IDAsXG5cdFx0c3VwZXJNYXRjaGVyID0gZnVuY3Rpb24oIHNlZWQsIGNvbnRleHQsIHhtbCwgcmVzdWx0cywgb3V0ZXJtb3N0ICkge1xuXHRcdFx0dmFyIGVsZW0sIGosIG1hdGNoZXIsXG5cdFx0XHRcdG1hdGNoZWRDb3VudCA9IDAsXG5cdFx0XHRcdGkgPSBcIjBcIixcblx0XHRcdFx0dW5tYXRjaGVkID0gc2VlZCAmJiBbXSxcblx0XHRcdFx0c2V0TWF0Y2hlZCA9IFtdLFxuXHRcdFx0XHRjb250ZXh0QmFja3VwID0gb3V0ZXJtb3N0Q29udGV4dCxcblx0XHRcdFx0Ly8gV2UgbXVzdCBhbHdheXMgaGF2ZSBlaXRoZXIgc2VlZCBlbGVtZW50cyBvciBvdXRlcm1vc3QgY29udGV4dFxuXHRcdFx0XHRlbGVtcyA9IHNlZWQgfHwgYnlFbGVtZW50ICYmIEV4cHIuZmluZFtcIlRBR1wiXSggXCIqXCIsIG91dGVybW9zdCApLFxuXHRcdFx0XHQvLyBVc2UgaW50ZWdlciBkaXJydW5zIGlmZiB0aGlzIGlzIHRoZSBvdXRlcm1vc3QgbWF0Y2hlclxuXHRcdFx0XHRkaXJydW5zVW5pcXVlID0gKGRpcnJ1bnMgKz0gY29udGV4dEJhY2t1cCA9PSBudWxsID8gMSA6IE1hdGgucmFuZG9tKCkgfHwgMC4xKSxcblx0XHRcdFx0bGVuID0gZWxlbXMubGVuZ3RoO1xuXG5cdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0b3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHQgIT09IGRvY3VtZW50ICYmIGNvbnRleHQ7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCBlbGVtZW50cyBwYXNzaW5nIGVsZW1lbnRNYXRjaGVycyBkaXJlY3RseSB0byByZXN1bHRzXG5cdFx0XHQvLyBLZWVwIGBpYCBhIHN0cmluZyBpZiB0aGVyZSBhcmUgbm8gZWxlbWVudHMgc28gYG1hdGNoZWRDb3VudGAgd2lsbCBiZSBcIjAwXCIgYmVsb3dcblx0XHRcdC8vIFN1cHBvcnQ6IElFPDksIFNhZmFyaVxuXHRcdFx0Ly8gVG9sZXJhdGUgTm9kZUxpc3QgcHJvcGVydGllcyAoSUU6IFwibGVuZ3RoXCI7IFNhZmFyaTogPG51bWJlcj4pIG1hdGNoaW5nIGVsZW1lbnRzIGJ5IGlkXG5cdFx0XHRmb3IgKCA7IGkgIT09IGxlbiAmJiAoZWxlbSA9IGVsZW1zW2ldKSAhPSBudWxsOyBpKysgKSB7XG5cdFx0XHRcdGlmICggYnlFbGVtZW50ICYmIGVsZW0gKSB7XG5cdFx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdFx0d2hpbGUgKCAobWF0Y2hlciA9IGVsZW1lbnRNYXRjaGVyc1tqKytdKSApIHtcblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7XG5cdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCBvdXRlcm1vc3QgKSB7XG5cdFx0XHRcdFx0XHRkaXJydW5zID0gZGlycnVuc1VuaXF1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBUcmFjayB1bm1hdGNoZWQgZWxlbWVudHMgZm9yIHNldCBmaWx0ZXJzXG5cdFx0XHRcdGlmICggYnlTZXQgKSB7XG5cdFx0XHRcdFx0Ly8gVGhleSB3aWxsIGhhdmUgZ29uZSB0aHJvdWdoIGFsbCBwb3NzaWJsZSBtYXRjaGVyc1xuXHRcdFx0XHRcdGlmICggKGVsZW0gPSAhbWF0Y2hlciAmJiBlbGVtKSApIHtcblx0XHRcdFx0XHRcdG1hdGNoZWRDb3VudC0tO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIExlbmd0aGVuIHRoZSBhcnJheSBmb3IgZXZlcnkgZWxlbWVudCwgbWF0Y2hlZCBvciBub3Rcblx0XHRcdFx0XHRpZiAoIHNlZWQgKSB7XG5cdFx0XHRcdFx0XHR1bm1hdGNoZWQucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBBcHBseSBzZXQgZmlsdGVycyB0byB1bm1hdGNoZWQgZWxlbWVudHNcblx0XHRcdG1hdGNoZWRDb3VudCArPSBpO1xuXHRcdFx0aWYgKCBieVNldCAmJiBpICE9PSBtYXRjaGVkQ291bnQgKSB7XG5cdFx0XHRcdGogPSAwO1xuXHRcdFx0XHR3aGlsZSAoIChtYXRjaGVyID0gc2V0TWF0Y2hlcnNbaisrXSkgKSB7XG5cdFx0XHRcdFx0bWF0Y2hlciggdW5tYXRjaGVkLCBzZXRNYXRjaGVkLCBjb250ZXh0LCB4bWwgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggc2VlZCApIHtcblx0XHRcdFx0XHQvLyBSZWludGVncmF0ZSBlbGVtZW50IG1hdGNoZXMgdG8gZWxpbWluYXRlIHRoZSBuZWVkIGZvciBzb3J0aW5nXG5cdFx0XHRcdFx0aWYgKCBtYXRjaGVkQ291bnQgPiAwICkge1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggISh1bm1hdGNoZWRbaV0gfHwgc2V0TWF0Y2hlZFtpXSkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2V0TWF0Y2hlZFtpXSA9IHBvcC5jYWxsKCByZXN1bHRzICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBEaXNjYXJkIGluZGV4IHBsYWNlaG9sZGVyIHZhbHVlcyB0byBnZXQgb25seSBhY3R1YWwgbWF0Y2hlc1xuXHRcdFx0XHRcdHNldE1hdGNoZWQgPSBjb25kZW5zZSggc2V0TWF0Y2hlZCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQWRkIG1hdGNoZXMgdG8gcmVzdWx0c1xuXHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBzZXRNYXRjaGVkICk7XG5cblx0XHRcdFx0Ly8gU2VlZGxlc3Mgc2V0IG1hdGNoZXMgc3VjY2VlZGluZyBtdWx0aXBsZSBzdWNjZXNzZnVsIG1hdGNoZXJzIHN0aXB1bGF0ZSBzb3J0aW5nXG5cdFx0XHRcdGlmICggb3V0ZXJtb3N0ICYmICFzZWVkICYmIHNldE1hdGNoZWQubGVuZ3RoID4gMCAmJlxuXHRcdFx0XHRcdCggbWF0Y2hlZENvdW50ICsgc2V0TWF0Y2hlcnMubGVuZ3RoICkgPiAxICkge1xuXG5cdFx0XHRcdFx0U2l6emxlLnVuaXF1ZVNvcnQoIHJlc3VsdHMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBPdmVycmlkZSBtYW5pcHVsYXRpb24gb2YgZ2xvYmFscyBieSBuZXN0ZWQgbWF0Y2hlcnNcblx0XHRcdGlmICggb3V0ZXJtb3N0ICkge1xuXHRcdFx0XHRkaXJydW5zID0gZGlycnVuc1VuaXF1ZTtcblx0XHRcdFx0b3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHRCYWNrdXA7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB1bm1hdGNoZWQ7XG5cdFx0fTtcblxuXHRyZXR1cm4gYnlTZXQgP1xuXHRcdG1hcmtGdW5jdGlvbiggc3VwZXJNYXRjaGVyICkgOlxuXHRcdHN1cGVyTWF0Y2hlcjtcbn1cblxuY29tcGlsZSA9IFNpenpsZS5jb21waWxlID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBtYXRjaCAvKiBJbnRlcm5hbCBVc2UgT25seSAqLyApIHtcblx0dmFyIGksXG5cdFx0c2V0TWF0Y2hlcnMgPSBbXSxcblx0XHRlbGVtZW50TWF0Y2hlcnMgPSBbXSxcblx0XHRjYWNoZWQgPSBjb21waWxlckNhY2hlWyBzZWxlY3RvciArIFwiIFwiIF07XG5cblx0aWYgKCAhY2FjaGVkICkge1xuXHRcdC8vIEdlbmVyYXRlIGEgZnVuY3Rpb24gb2YgcmVjdXJzaXZlIGZ1bmN0aW9ucyB0aGF0IGNhbiBiZSB1c2VkIHRvIGNoZWNrIGVhY2ggZWxlbWVudFxuXHRcdGlmICggIW1hdGNoICkge1xuXHRcdFx0bWF0Y2ggPSB0b2tlbml6ZSggc2VsZWN0b3IgKTtcblx0XHR9XG5cdFx0aSA9IG1hdGNoLmxlbmd0aDtcblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdGNhY2hlZCA9IG1hdGNoZXJGcm9tVG9rZW5zKCBtYXRjaFtpXSApO1xuXHRcdFx0aWYgKCBjYWNoZWRbIGV4cGFuZG8gXSApIHtcblx0XHRcdFx0c2V0TWF0Y2hlcnMucHVzaCggY2FjaGVkICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlbGVtZW50TWF0Y2hlcnMucHVzaCggY2FjaGVkICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ2FjaGUgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uXG5cdFx0Y2FjaGVkID0gY29tcGlsZXJDYWNoZSggc2VsZWN0b3IsIG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyggZWxlbWVudE1hdGNoZXJzLCBzZXRNYXRjaGVycyApICk7XG5cblx0XHQvLyBTYXZlIHNlbGVjdG9yIGFuZCB0b2tlbml6YXRpb25cblx0XHRjYWNoZWQuc2VsZWN0b3IgPSBzZWxlY3Rvcjtcblx0fVxuXHRyZXR1cm4gY2FjaGVkO1xufTtcblxuLyoqXG4gKiBBIGxvdy1sZXZlbCBzZWxlY3Rpb24gZnVuY3Rpb24gdGhhdCB3b3JrcyB3aXRoIFNpenpsZSdzIGNvbXBpbGVkXG4gKiAgc2VsZWN0b3IgZnVuY3Rpb25zXG4gKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gc2VsZWN0b3IgQSBzZWxlY3RvciBvciBhIHByZS1jb21waWxlZFxuICogIHNlbGVjdG9yIGZ1bmN0aW9uIGJ1aWx0IHdpdGggU2l6emxlLmNvbXBpbGVcbiAqIEBwYXJhbSB7RWxlbWVudH0gY29udGV4dFxuICogQHBhcmFtIHtBcnJheX0gW3Jlc3VsdHNdXG4gKiBAcGFyYW0ge0FycmF5fSBbc2VlZF0gQSBzZXQgb2YgZWxlbWVudHMgdG8gbWF0Y2ggYWdhaW5zdFxuICovXG5zZWxlY3QgPSBTaXp6bGUuc2VsZWN0ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICkge1xuXHR2YXIgaSwgdG9rZW5zLCB0b2tlbiwgdHlwZSwgZmluZCxcblx0XHRjb21waWxlZCA9IHR5cGVvZiBzZWxlY3RvciA9PT0gXCJmdW5jdGlvblwiICYmIHNlbGVjdG9yLFxuXHRcdG1hdGNoID0gIXNlZWQgJiYgdG9rZW5pemUoIChzZWxlY3RvciA9IGNvbXBpbGVkLnNlbGVjdG9yIHx8IHNlbGVjdG9yKSApO1xuXG5cdHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xuXG5cdC8vIFRyeSB0byBtaW5pbWl6ZSBvcGVyYXRpb25zIGlmIHRoZXJlIGlzIG5vIHNlZWQgYW5kIG9ubHkgb25lIGdyb3VwXG5cdGlmICggbWF0Y2gubGVuZ3RoID09PSAxICkge1xuXG5cdFx0Ly8gVGFrZSBhIHNob3J0Y3V0IGFuZCBzZXQgdGhlIGNvbnRleHQgaWYgdGhlIHJvb3Qgc2VsZWN0b3IgaXMgYW4gSURcblx0XHR0b2tlbnMgPSBtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKCAwICk7XG5cdFx0aWYgKCB0b2tlbnMubGVuZ3RoID4gMiAmJiAodG9rZW4gPSB0b2tlbnNbMF0pLnR5cGUgPT09IFwiSURcIiAmJlxuXHRcdFx0XHRzdXBwb3J0LmdldEJ5SWQgJiYgY29udGV4dC5ub2RlVHlwZSA9PT0gOSAmJiBkb2N1bWVudElzSFRNTCAmJlxuXHRcdFx0XHRFeHByLnJlbGF0aXZlWyB0b2tlbnNbMV0udHlwZSBdICkge1xuXG5cdFx0XHRjb250ZXh0ID0gKCBFeHByLmZpbmRbXCJJRFwiXSggdG9rZW4ubWF0Y2hlc1swXS5yZXBsYWNlKHJ1bmVzY2FwZSwgZnVuZXNjYXBlKSwgY29udGV4dCApIHx8IFtdIClbMF07XG5cdFx0XHRpZiAoICFjb250ZXh0ICkge1xuXHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblxuXHRcdFx0Ly8gUHJlY29tcGlsZWQgbWF0Y2hlcnMgd2lsbCBzdGlsbCB2ZXJpZnkgYW5jZXN0cnksIHNvIHN0ZXAgdXAgYSBsZXZlbFxuXHRcdFx0fSBlbHNlIGlmICggY29tcGlsZWQgKSB7XG5cdFx0XHRcdGNvbnRleHQgPSBjb250ZXh0LnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cblx0XHRcdHNlbGVjdG9yID0gc2VsZWN0b3Iuc2xpY2UoIHRva2Vucy5zaGlmdCgpLnZhbHVlLmxlbmd0aCApO1xuXHRcdH1cblxuXHRcdC8vIEZldGNoIGEgc2VlZCBzZXQgZm9yIHJpZ2h0LXRvLWxlZnQgbWF0Y2hpbmdcblx0XHRpID0gbWF0Y2hFeHByW1wibmVlZHNDb250ZXh0XCJdLnRlc3QoIHNlbGVjdG9yICkgPyAwIDogdG9rZW5zLmxlbmd0aDtcblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdHRva2VuID0gdG9rZW5zW2ldO1xuXG5cdFx0XHQvLyBBYm9ydCBpZiB3ZSBoaXQgYSBjb21iaW5hdG9yXG5cdFx0XHRpZiAoIEV4cHIucmVsYXRpdmVbICh0eXBlID0gdG9rZW4udHlwZSkgXSApIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIChmaW5kID0gRXhwci5maW5kWyB0eXBlIF0pICkge1xuXHRcdFx0XHQvLyBTZWFyY2gsIGV4cGFuZGluZyBjb250ZXh0IGZvciBsZWFkaW5nIHNpYmxpbmcgY29tYmluYXRvcnNcblx0XHRcdFx0aWYgKCAoc2VlZCA9IGZpbmQoXG5cdFx0XHRcdFx0dG9rZW4ubWF0Y2hlc1swXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLFxuXHRcdFx0XHRcdHJzaWJsaW5nLnRlc3QoIHRva2Vuc1swXS50eXBlICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8IGNvbnRleHRcblx0XHRcdFx0KSkgKSB7XG5cblx0XHRcdFx0XHQvLyBJZiBzZWVkIGlzIGVtcHR5IG9yIG5vIHRva2VucyByZW1haW4sIHdlIGNhbiByZXR1cm4gZWFybHlcblx0XHRcdFx0XHR0b2tlbnMuc3BsaWNlKCBpLCAxICk7XG5cdFx0XHRcdFx0c2VsZWN0b3IgPSBzZWVkLmxlbmd0aCAmJiB0b1NlbGVjdG9yKCB0b2tlbnMgKTtcblx0XHRcdFx0XHRpZiAoICFzZWxlY3RvciApIHtcblx0XHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIHNlZWQgKTtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ29tcGlsZSBhbmQgZXhlY3V0ZSBhIGZpbHRlcmluZyBmdW5jdGlvbiBpZiBvbmUgaXMgbm90IHByb3ZpZGVkXG5cdC8vIFByb3ZpZGUgYG1hdGNoYCB0byBhdm9pZCByZXRva2VuaXphdGlvbiBpZiB3ZSBtb2RpZmllZCB0aGUgc2VsZWN0b3IgYWJvdmVcblx0KCBjb21waWxlZCB8fCBjb21waWxlKCBzZWxlY3RvciwgbWF0Y2ggKSApKFxuXHRcdHNlZWQsXG5cdFx0Y29udGV4dCxcblx0XHQhZG9jdW1lbnRJc0hUTUwsXG5cdFx0cmVzdWx0cyxcblx0XHRyc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fCBjb250ZXh0XG5cdCk7XG5cdHJldHVybiByZXN1bHRzO1xufTtcblxuLy8gT25lLXRpbWUgYXNzaWdubWVudHNcblxuLy8gU29ydCBzdGFiaWxpdHlcbnN1cHBvcnQuc29ydFN0YWJsZSA9IGV4cGFuZG8uc3BsaXQoXCJcIikuc29ydCggc29ydE9yZGVyICkuam9pbihcIlwiKSA9PT0gZXhwYW5kbztcblxuLy8gU3VwcG9ydDogQ2hyb21lPDE0XG4vLyBBbHdheXMgYXNzdW1lIGR1cGxpY2F0ZXMgaWYgdGhleSBhcmVuJ3QgcGFzc2VkIHRvIHRoZSBjb21wYXJpc29uIGZ1bmN0aW9uXG5zdXBwb3J0LmRldGVjdER1cGxpY2F0ZXMgPSAhIWhhc0R1cGxpY2F0ZTtcblxuLy8gSW5pdGlhbGl6ZSBhZ2FpbnN0IHRoZSBkZWZhdWx0IGRvY3VtZW50XG5zZXREb2N1bWVudCgpO1xuXG4vLyBTdXBwb3J0OiBXZWJraXQ8NTM3LjMyIC0gU2FmYXJpIDYuMC4zL0Nocm9tZSAyNSAoZml4ZWQgaW4gQ2hyb21lIDI3KVxuLy8gRGV0YWNoZWQgbm9kZXMgY29uZm91bmRpbmdseSBmb2xsb3cgKmVhY2ggb3RoZXIqXG5zdXBwb3J0LnNvcnREZXRhY2hlZCA9IGFzc2VydChmdW5jdGlvbiggZGl2MSApIHtcblx0Ly8gU2hvdWxkIHJldHVybiAxLCBidXQgcmV0dXJucyA0IChmb2xsb3dpbmcpXG5cdHJldHVybiBkaXYxLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpICkgJiAxO1xufSk7XG5cbi8vIFN1cHBvcnQ6IElFPDhcbi8vIFByZXZlbnQgYXR0cmlidXRlL3Byb3BlcnR5IFwiaW50ZXJwb2xhdGlvblwiXG4vLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXM1MzY0MjklMjhWUy44NSUyOS5hc3B4XG5pZiAoICFhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHtcblx0ZGl2LmlubmVySFRNTCA9IFwiPGEgaHJlZj0nIyc+PC9hPlwiO1xuXHRyZXR1cm4gZGl2LmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSA9PT0gXCIjXCIgO1xufSkgKSB7XG5cdGFkZEhhbmRsZSggXCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoXCIsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcblx0XHRpZiAoICFpc1hNTCApIHtcblx0XHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSwgbmFtZS50b0xvd2VyQ2FzZSgpID09PSBcInR5cGVcIiA/IDEgOiAyICk7XG5cdFx0fVxuXHR9KTtcbn1cblxuLy8gU3VwcG9ydDogSUU8OVxuLy8gVXNlIGRlZmF1bHRWYWx1ZSBpbiBwbGFjZSBvZiBnZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKVxuaWYgKCAhc3VwcG9ydC5hdHRyaWJ1dGVzIHx8ICFhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHtcblx0ZGl2LmlubmVySFRNTCA9IFwiPGlucHV0Lz5cIjtcblx0ZGl2LmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCBcInZhbHVlXCIsIFwiXCIgKTtcblx0cmV0dXJuIGRpdi5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiICkgPT09IFwiXCI7XG59KSApIHtcblx0YWRkSGFuZGxlKCBcInZhbHVlXCIsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcblx0XHRpZiAoICFpc1hNTCAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiaW5wdXRcIiApIHtcblx0XHRcdHJldHVybiBlbGVtLmRlZmF1bHRWYWx1ZTtcblx0XHR9XG5cdH0pO1xufVxuXG4vLyBTdXBwb3J0OiBJRTw5XG4vLyBVc2UgZ2V0QXR0cmlidXRlTm9kZSB0byBmZXRjaCBib29sZWFucyB3aGVuIGdldEF0dHJpYnV0ZSBsaWVzXG5pZiAoICFhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHtcblx0cmV0dXJuIGRpdi5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSA9PSBudWxsO1xufSkgKSB7XG5cdGFkZEhhbmRsZSggYm9vbGVhbnMsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcblx0XHR2YXIgdmFsO1xuXHRcdGlmICggIWlzWE1MICkge1xuXHRcdFx0cmV0dXJuIGVsZW1bIG5hbWUgXSA9PT0gdHJ1ZSA/IG5hbWUudG9Mb3dlckNhc2UoKSA6XG5cdFx0XHRcdFx0KHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggbmFtZSApKSAmJiB2YWwuc3BlY2lmaWVkID9cblx0XHRcdFx0XHR2YWwudmFsdWUgOlxuXHRcdFx0XHRudWxsO1xuXHRcdH1cblx0fSk7XG59XG5cbnJldHVybiBTaXp6bGU7XG5cbn0pKCB3aW5kb3cgKTtcblxuXG5cbmpRdWVyeS5maW5kID0gU2l6emxlO1xualF1ZXJ5LmV4cHIgPSBTaXp6bGUuc2VsZWN0b3JzO1xualF1ZXJ5LmV4cHJbXCI6XCJdID0galF1ZXJ5LmV4cHIucHNldWRvcztcbmpRdWVyeS51bmlxdWUgPSBTaXp6bGUudW5pcXVlU29ydDtcbmpRdWVyeS50ZXh0ID0gU2l6emxlLmdldFRleHQ7XG5qUXVlcnkuaXNYTUxEb2MgPSBTaXp6bGUuaXNYTUw7XG5qUXVlcnkuY29udGFpbnMgPSBTaXp6bGUuY29udGFpbnM7XG5cblxuXG52YXIgcm5lZWRzQ29udGV4dCA9IGpRdWVyeS5leHByLm1hdGNoLm5lZWRzQ29udGV4dDtcblxudmFyIHJzaW5nbGVUYWcgPSAoL148KFxcdyspXFxzKlxcLz8+KD86PFxcL1xcMT58KSQvKTtcblxuXG5cbnZhciByaXNTaW1wbGUgPSAvXi5bXjojXFxbXFwuLF0qJC87XG5cbi8vIEltcGxlbWVudCB0aGUgaWRlbnRpY2FsIGZ1bmN0aW9uYWxpdHkgZm9yIGZpbHRlciBhbmQgbm90XG5mdW5jdGlvbiB3aW5ub3coIGVsZW1lbnRzLCBxdWFsaWZpZXIsIG5vdCApIHtcblx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcXVhbGlmaWVyICkgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0sIGkgKSB7XG5cdFx0XHQvKiBqc2hpbnQgLVcwMTggKi9cblx0XHRcdHJldHVybiAhIXF1YWxpZmllci5jYWxsKCBlbGVtLCBpLCBlbGVtICkgIT09IG5vdDtcblx0XHR9KTtcblxuXHR9XG5cblx0aWYgKCBxdWFsaWZpZXIubm9kZVR5cGUgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gKCBlbGVtID09PSBxdWFsaWZpZXIgKSAhPT0gbm90O1xuXHRcdH0pO1xuXG5cdH1cblxuXHRpZiAoIHR5cGVvZiBxdWFsaWZpZXIgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0aWYgKCByaXNTaW1wbGUudGVzdCggcXVhbGlmaWVyICkgKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmZpbHRlciggcXVhbGlmaWVyLCBlbGVtZW50cywgbm90ICk7XG5cdFx0fVxuXG5cdFx0cXVhbGlmaWVyID0galF1ZXJ5LmZpbHRlciggcXVhbGlmaWVyLCBlbGVtZW50cyApO1xuXHR9XG5cblx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuICggaW5kZXhPZi5jYWxsKCBxdWFsaWZpZXIsIGVsZW0gKSA+PSAwICkgIT09IG5vdDtcblx0fSk7XG59XG5cbmpRdWVyeS5maWx0ZXIgPSBmdW5jdGlvbiggZXhwciwgZWxlbXMsIG5vdCApIHtcblx0dmFyIGVsZW0gPSBlbGVtc1sgMCBdO1xuXG5cdGlmICggbm90ICkge1xuXHRcdGV4cHIgPSBcIjpub3QoXCIgKyBleHByICsgXCIpXCI7XG5cdH1cblxuXHRyZXR1cm4gZWxlbXMubGVuZ3RoID09PSAxICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgP1xuXHRcdGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggZWxlbSwgZXhwciApID8gWyBlbGVtIF0gOiBbXSA6XG5cdFx0alF1ZXJ5LmZpbmQubWF0Y2hlcyggZXhwciwgalF1ZXJ5LmdyZXAoIGVsZW1zLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtLm5vZGVUeXBlID09PSAxO1xuXHRcdH0pKTtcbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoe1xuXHRmaW5kOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0dmFyIGksXG5cdFx0XHRsZW4gPSB0aGlzLmxlbmd0aCxcblx0XHRcdHJldCA9IFtdLFxuXHRcdFx0c2VsZiA9IHRoaXM7XG5cblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5KCBzZWxlY3RvciApLmZpbHRlcihmdW5jdGlvbigpIHtcblx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0XHRpZiAoIGpRdWVyeS5jb250YWlucyggc2VsZlsgaSBdLCB0aGlzICkgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pICk7XG5cdFx0fVxuXG5cdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdGpRdWVyeS5maW5kKCBzZWxlY3Rvciwgc2VsZlsgaSBdLCByZXQgKTtcblx0XHR9XG5cblx0XHQvLyBOZWVkZWQgYmVjYXVzZSAkKCBzZWxlY3RvciwgY29udGV4dCApIGJlY29tZXMgJCggY29udGV4dCApLmZpbmQoIHNlbGVjdG9yIClcblx0XHRyZXQgPSB0aGlzLnB1c2hTdGFjayggbGVuID4gMSA/IGpRdWVyeS51bmlxdWUoIHJldCApIDogcmV0ICk7XG5cdFx0cmV0LnNlbGVjdG9yID0gdGhpcy5zZWxlY3RvciA/IHRoaXMuc2VsZWN0b3IgKyBcIiBcIiArIHNlbGVjdG9yIDogc2VsZWN0b3I7XG5cdFx0cmV0dXJuIHJldDtcblx0fSxcblx0ZmlsdGVyOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCB3aW5ub3codGhpcywgc2VsZWN0b3IgfHwgW10sIGZhbHNlKSApO1xuXHR9LFxuXHRub3Q6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHdpbm5vdyh0aGlzLCBzZWxlY3RvciB8fCBbXSwgdHJ1ZSkgKTtcblx0fSxcblx0aXM6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gISF3aW5ub3coXG5cdFx0XHR0aGlzLFxuXG5cdFx0XHQvLyBJZiB0aGlzIGlzIGEgcG9zaXRpb25hbC9yZWxhdGl2ZSBzZWxlY3RvciwgY2hlY2sgbWVtYmVyc2hpcCBpbiB0aGUgcmV0dXJuZWQgc2V0XG5cdFx0XHQvLyBzbyAkKFwicDpmaXJzdFwiKS5pcyhcInA6bGFzdFwiKSB3b24ndCByZXR1cm4gdHJ1ZSBmb3IgYSBkb2Mgd2l0aCB0d28gXCJwXCIuXG5cdFx0XHR0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgJiYgcm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvciApID9cblx0XHRcdFx0alF1ZXJ5KCBzZWxlY3RvciApIDpcblx0XHRcdFx0c2VsZWN0b3IgfHwgW10sXG5cdFx0XHRmYWxzZVxuXHRcdCkubGVuZ3RoO1xuXHR9XG59KTtcblxuXG4vLyBJbml0aWFsaXplIGEgalF1ZXJ5IG9iamVjdFxuXG5cbi8vIEEgY2VudHJhbCByZWZlcmVuY2UgdG8gdGhlIHJvb3QgalF1ZXJ5KGRvY3VtZW50KVxudmFyIHJvb3RqUXVlcnksXG5cblx0Ly8gQSBzaW1wbGUgd2F5IHRvIGNoZWNrIGZvciBIVE1MIHN0cmluZ3Ncblx0Ly8gUHJpb3JpdGl6ZSAjaWQgb3ZlciA8dGFnPiB0byBhdm9pZCBYU1MgdmlhIGxvY2F0aW9uLmhhc2ggKCM5NTIxKVxuXHQvLyBTdHJpY3QgSFRNTCByZWNvZ25pdGlvbiAoIzExMjkwOiBtdXN0IHN0YXJ0IHdpdGggPClcblx0cnF1aWNrRXhwciA9IC9eKD86XFxzKig8W1xcd1xcV10rPilbXj5dKnwjKFtcXHctXSopKSQvLFxuXG5cdGluaXQgPSBqUXVlcnkuZm4uaW5pdCA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcblx0XHR2YXIgbWF0Y2gsIGVsZW07XG5cblx0XHQvLyBIQU5ETEU6ICQoXCJcIiksICQobnVsbCksICQodW5kZWZpbmVkKSwgJChmYWxzZSlcblx0XHRpZiAoICFzZWxlY3RvciApIHtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblxuXHRcdC8vIEhhbmRsZSBIVE1MIHN0cmluZ3Ncblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGlmICggc2VsZWN0b3JbMF0gPT09IFwiPFwiICYmIHNlbGVjdG9yWyBzZWxlY3Rvci5sZW5ndGggLSAxIF0gPT09IFwiPlwiICYmIHNlbGVjdG9yLmxlbmd0aCA+PSAzICkge1xuXHRcdFx0XHQvLyBBc3N1bWUgdGhhdCBzdHJpbmdzIHRoYXQgc3RhcnQgYW5kIGVuZCB3aXRoIDw+IGFyZSBIVE1MIGFuZCBza2lwIHRoZSByZWdleCBjaGVja1xuXHRcdFx0XHRtYXRjaCA9IFsgbnVsbCwgc2VsZWN0b3IsIG51bGwgXTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bWF0Y2ggPSBycXVpY2tFeHByLmV4ZWMoIHNlbGVjdG9yICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE1hdGNoIGh0bWwgb3IgbWFrZSBzdXJlIG5vIGNvbnRleHQgaXMgc3BlY2lmaWVkIGZvciAjaWRcblx0XHRcdGlmICggbWF0Y2ggJiYgKG1hdGNoWzFdIHx8ICFjb250ZXh0KSApIHtcblxuXHRcdFx0XHQvLyBIQU5ETEU6ICQoaHRtbCkgLT4gJChhcnJheSlcblx0XHRcdFx0aWYgKCBtYXRjaFsxXSApIHtcblx0XHRcdFx0XHRjb250ZXh0ID0gY29udGV4dCBpbnN0YW5jZW9mIGpRdWVyeSA/IGNvbnRleHRbMF0gOiBjb250ZXh0O1xuXG5cdFx0XHRcdFx0Ly8gc2NyaXB0cyBpcyB0cnVlIGZvciBiYWNrLWNvbXBhdFxuXHRcdFx0XHRcdC8vIEludGVudGlvbmFsbHkgbGV0IHRoZSBlcnJvciBiZSB0aHJvd24gaWYgcGFyc2VIVE1MIGlzIG5vdCBwcmVzZW50XG5cdFx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCB0aGlzLCBqUXVlcnkucGFyc2VIVE1MKFxuXHRcdFx0XHRcdFx0bWF0Y2hbMV0sXG5cdFx0XHRcdFx0XHRjb250ZXh0ICYmIGNvbnRleHQubm9kZVR5cGUgPyBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCA6IGRvY3VtZW50LFxuXHRcdFx0XHRcdFx0dHJ1ZVxuXHRcdFx0XHRcdCkgKTtcblxuXHRcdFx0XHRcdC8vIEhBTkRMRTogJChodG1sLCBwcm9wcylcblx0XHRcdFx0XHRpZiAoIHJzaW5nbGVUYWcudGVzdCggbWF0Y2hbMV0gKSAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29udGV4dCApICkge1xuXHRcdFx0XHRcdFx0Zm9yICggbWF0Y2ggaW4gY29udGV4dCApIHtcblx0XHRcdFx0XHRcdFx0Ly8gUHJvcGVydGllcyBvZiBjb250ZXh0IGFyZSBjYWxsZWQgYXMgbWV0aG9kcyBpZiBwb3NzaWJsZVxuXHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB0aGlzWyBtYXRjaCBdICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpc1sgbWF0Y2ggXSggY29udGV4dFsgbWF0Y2ggXSApO1xuXG5cdFx0XHRcdFx0XHRcdC8vIC4uLmFuZCBvdGhlcndpc2Ugc2V0IGFzIGF0dHJpYnV0ZXNcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmF0dHIoIG1hdGNoLCBjb250ZXh0WyBtYXRjaCBdICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblxuXHRcdFx0XHQvLyBIQU5ETEU6ICQoI2lkKVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggbWF0Y2hbMl0gKTtcblxuXHRcdFx0XHRcdC8vIENoZWNrIHBhcmVudE5vZGUgdG8gY2F0Y2ggd2hlbiBCbGFja2JlcnJ5IDQuNiByZXR1cm5zXG5cdFx0XHRcdFx0Ly8gbm9kZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIGluIHRoZSBkb2N1bWVudCAjNjk2M1xuXHRcdFx0XHRcdGlmICggZWxlbSAmJiBlbGVtLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdFx0XHQvLyBJbmplY3QgdGhlIGVsZW1lbnQgZGlyZWN0bHkgaW50byB0aGUgalF1ZXJ5IG9iamVjdFxuXHRcdFx0XHRcdFx0dGhpcy5sZW5ndGggPSAxO1xuXHRcdFx0XHRcdFx0dGhpc1swXSA9IGVsZW07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhpcy5jb250ZXh0ID0gZG9jdW1lbnQ7XG5cdFx0XHRcdFx0dGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cblx0XHRcdC8vIEhBTkRMRTogJChleHByLCAkKC4uLikpXG5cdFx0XHR9IGVsc2UgaWYgKCAhY29udGV4dCB8fCBjb250ZXh0LmpxdWVyeSApIHtcblx0XHRcdFx0cmV0dXJuICggY29udGV4dCB8fCByb290alF1ZXJ5ICkuZmluZCggc2VsZWN0b3IgKTtcblxuXHRcdFx0Ly8gSEFORExFOiAkKGV4cHIsIGNvbnRleHQpXG5cdFx0XHQvLyAod2hpY2ggaXMganVzdCBlcXVpdmFsZW50IHRvOiAkKGNvbnRleHQpLmZpbmQoZXhwcilcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmNvbnN0cnVjdG9yKCBjb250ZXh0ICkuZmluZCggc2VsZWN0b3IgKTtcblx0XHRcdH1cblxuXHRcdC8vIEhBTkRMRTogJChET01FbGVtZW50KVxuXHRcdH0gZWxzZSBpZiAoIHNlbGVjdG9yLm5vZGVUeXBlICkge1xuXHRcdFx0dGhpcy5jb250ZXh0ID0gdGhpc1swXSA9IHNlbGVjdG9yO1xuXHRcdFx0dGhpcy5sZW5ndGggPSAxO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cblx0XHQvLyBIQU5ETEU6ICQoZnVuY3Rpb24pXG5cdFx0Ly8gU2hvcnRjdXQgZm9yIGRvY3VtZW50IHJlYWR5XG5cdFx0fSBlbHNlIGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHNlbGVjdG9yICkgKSB7XG5cdFx0XHRyZXR1cm4gdHlwZW9mIHJvb3RqUXVlcnkucmVhZHkgIT09IFwidW5kZWZpbmVkXCIgP1xuXHRcdFx0XHRyb290alF1ZXJ5LnJlYWR5KCBzZWxlY3RvciApIDpcblx0XHRcdFx0Ly8gRXhlY3V0ZSBpbW1lZGlhdGVseSBpZiByZWFkeSBpcyBub3QgcHJlc2VudFxuXHRcdFx0XHRzZWxlY3RvciggalF1ZXJ5ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBzZWxlY3Rvci5zZWxlY3RvciAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0dGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yLnNlbGVjdG9yO1xuXHRcdFx0dGhpcy5jb250ZXh0ID0gc2VsZWN0b3IuY29udGV4dDtcblx0XHR9XG5cblx0XHRyZXR1cm4galF1ZXJ5Lm1ha2VBcnJheSggc2VsZWN0b3IsIHRoaXMgKTtcblx0fTtcblxuLy8gR2l2ZSB0aGUgaW5pdCBmdW5jdGlvbiB0aGUgalF1ZXJ5IHByb3RvdHlwZSBmb3IgbGF0ZXIgaW5zdGFudGlhdGlvblxuaW5pdC5wcm90b3R5cGUgPSBqUXVlcnkuZm47XG5cbi8vIEluaXRpYWxpemUgY2VudHJhbCByZWZlcmVuY2VcbnJvb3RqUXVlcnkgPSBqUXVlcnkoIGRvY3VtZW50ICk7XG5cblxudmFyIHJwYXJlbnRzcHJldiA9IC9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLFxuXHQvLyBtZXRob2RzIGd1YXJhbnRlZWQgdG8gcHJvZHVjZSBhIHVuaXF1ZSBzZXQgd2hlbiBzdGFydGluZyBmcm9tIGEgdW5pcXVlIHNldFxuXHRndWFyYW50ZWVkVW5pcXVlID0ge1xuXHRcdGNoaWxkcmVuOiB0cnVlLFxuXHRcdGNvbnRlbnRzOiB0cnVlLFxuXHRcdG5leHQ6IHRydWUsXG5cdFx0cHJldjogdHJ1ZVxuXHR9O1xuXG5qUXVlcnkuZXh0ZW5kKHtcblx0ZGlyOiBmdW5jdGlvbiggZWxlbSwgZGlyLCB1bnRpbCApIHtcblx0XHR2YXIgbWF0Y2hlZCA9IFtdLFxuXHRcdFx0dHJ1bmNhdGUgPSB1bnRpbCAhPT0gdW5kZWZpbmVkO1xuXG5cdFx0d2hpbGUgKCAoZWxlbSA9IGVsZW1bIGRpciBdKSAmJiBlbGVtLm5vZGVUeXBlICE9PSA5ICkge1xuXHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0XHRpZiAoIHRydW5jYXRlICYmIGpRdWVyeSggZWxlbSApLmlzKCB1bnRpbCApICkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG1hdGNoZWQucHVzaCggZWxlbSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gbWF0Y2hlZDtcblx0fSxcblxuXHRzaWJsaW5nOiBmdW5jdGlvbiggbiwgZWxlbSApIHtcblx0XHR2YXIgbWF0Y2hlZCA9IFtdO1xuXG5cdFx0Zm9yICggOyBuOyBuID0gbi5uZXh0U2libGluZyApIHtcblx0XHRcdGlmICggbi5ub2RlVHlwZSA9PT0gMSAmJiBuICE9PSBlbGVtICkge1xuXHRcdFx0XHRtYXRjaGVkLnB1c2goIG4gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gbWF0Y2hlZDtcblx0fVxufSk7XG5cbmpRdWVyeS5mbi5leHRlbmQoe1xuXHRoYXM6IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XG5cdFx0dmFyIHRhcmdldHMgPSBqUXVlcnkoIHRhcmdldCwgdGhpcyApLFxuXHRcdFx0bCA9IHRhcmdldHMubGVuZ3RoO1xuXG5cdFx0cmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGkgPSAwO1xuXHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIGpRdWVyeS5jb250YWlucyggdGhpcywgdGFyZ2V0c1tpXSApICkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0sXG5cblx0Y2xvc2VzdDogZnVuY3Rpb24oIHNlbGVjdG9ycywgY29udGV4dCApIHtcblx0XHR2YXIgY3VyLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRsID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRtYXRjaGVkID0gW10sXG5cdFx0XHRwb3MgPSBybmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9ycyApIHx8IHR5cGVvZiBzZWxlY3RvcnMgIT09IFwic3RyaW5nXCIgP1xuXHRcdFx0XHRqUXVlcnkoIHNlbGVjdG9ycywgY29udGV4dCB8fCB0aGlzLmNvbnRleHQgKSA6XG5cdFx0XHRcdDA7XG5cblx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRmb3IgKCBjdXIgPSB0aGlzW2ldOyBjdXIgJiYgY3VyICE9PSBjb250ZXh0OyBjdXIgPSBjdXIucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0Ly8gQWx3YXlzIHNraXAgZG9jdW1lbnQgZnJhZ21lbnRzXG5cdFx0XHRcdGlmICggY3VyLm5vZGVUeXBlIDwgMTEgJiYgKHBvcyA/XG5cdFx0XHRcdFx0cG9zLmluZGV4KGN1cikgPiAtMSA6XG5cblx0XHRcdFx0XHQvLyBEb24ndCBwYXNzIG5vbi1lbGVtZW50cyB0byBTaXp6bGVcblx0XHRcdFx0XHRjdXIubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0XHRcdGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvcihjdXIsIHNlbGVjdG9ycykpICkge1xuXG5cdFx0XHRcdFx0bWF0Y2hlZC5wdXNoKCBjdXIgKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggbWF0Y2hlZC5sZW5ndGggPiAxID8galF1ZXJ5LnVuaXF1ZSggbWF0Y2hlZCApIDogbWF0Y2hlZCApO1xuXHR9LFxuXG5cdC8vIERldGVybWluZSB0aGUgcG9zaXRpb24gb2YgYW4gZWxlbWVudCB3aXRoaW5cblx0Ly8gdGhlIG1hdGNoZWQgc2V0IG9mIGVsZW1lbnRzXG5cdGluZGV4OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdC8vIE5vIGFyZ3VtZW50LCByZXR1cm4gaW5kZXggaW4gcGFyZW50XG5cdFx0aWYgKCAhZWxlbSApIHtcblx0XHRcdHJldHVybiAoIHRoaXNbIDAgXSAmJiB0aGlzWyAwIF0ucGFyZW50Tm9kZSApID8gdGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGggOiAtMTtcblx0XHR9XG5cblx0XHQvLyBpbmRleCBpbiBzZWxlY3RvclxuXHRcdGlmICggdHlwZW9mIGVsZW0gPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gaW5kZXhPZi5jYWxsKCBqUXVlcnkoIGVsZW0gKSwgdGhpc1sgMCBdICk7XG5cdFx0fVxuXG5cdFx0Ly8gTG9jYXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgZGVzaXJlZCBlbGVtZW50XG5cdFx0cmV0dXJuIGluZGV4T2YuY2FsbCggdGhpcyxcblxuXHRcdFx0Ly8gSWYgaXQgcmVjZWl2ZXMgYSBqUXVlcnkgb2JqZWN0LCB0aGUgZmlyc3QgZWxlbWVudCBpcyB1c2VkXG5cdFx0XHRlbGVtLmpxdWVyeSA/IGVsZW1bIDAgXSA6IGVsZW1cblx0XHQpO1xuXHR9LFxuXG5cdGFkZDogZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0ICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayhcblx0XHRcdGpRdWVyeS51bmlxdWUoXG5cdFx0XHRcdGpRdWVyeS5tZXJnZSggdGhpcy5nZXQoKSwgalF1ZXJ5KCBzZWxlY3RvciwgY29udGV4dCApIClcblx0XHRcdClcblx0XHQpO1xuXHR9LFxuXG5cdGFkZEJhY2s6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gdGhpcy5hZGQoIHNlbGVjdG9yID09IG51bGwgP1xuXHRcdFx0dGhpcy5wcmV2T2JqZWN0IDogdGhpcy5wcmV2T2JqZWN0LmZpbHRlcihzZWxlY3Rvcilcblx0XHQpO1xuXHR9XG59KTtcblxuZnVuY3Rpb24gc2libGluZyggY3VyLCBkaXIgKSB7XG5cdHdoaWxlICggKGN1ciA9IGN1cltkaXJdKSAmJiBjdXIubm9kZVR5cGUgIT09IDEgKSB7fVxuXHRyZXR1cm4gY3VyO1xufVxuXG5qUXVlcnkuZWFjaCh7XG5cdHBhcmVudDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0dmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcblx0XHRyZXR1cm4gcGFyZW50ICYmIHBhcmVudC5ub2RlVHlwZSAhPT0gMTEgPyBwYXJlbnQgOiBudWxsO1xuXHR9LFxuXHRwYXJlbnRzOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIgKTtcblx0fSxcblx0cGFyZW50c1VudGlsOiBmdW5jdGlvbiggZWxlbSwgaSwgdW50aWwgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5kaXIoIGVsZW0sIFwicGFyZW50Tm9kZVwiLCB1bnRpbCApO1xuXHR9LFxuXHRuZXh0OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gc2libGluZyggZWxlbSwgXCJuZXh0U2libGluZ1wiICk7XG5cdH0sXG5cdHByZXY6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5nKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiICk7XG5cdH0sXG5cdG5leHRBbGw6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBqUXVlcnkuZGlyKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIgKTtcblx0fSxcblx0cHJldkFsbDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5kaXIoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIgKTtcblx0fSxcblx0bmV4dFVudGlsOiBmdW5jdGlvbiggZWxlbSwgaSwgdW50aWwgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5kaXIoIGVsZW0sIFwibmV4dFNpYmxpbmdcIiwgdW50aWwgKTtcblx0fSxcblx0cHJldlVudGlsOiBmdW5jdGlvbiggZWxlbSwgaSwgdW50aWwgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5kaXIoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIsIHVudGlsICk7XG5cdH0sXG5cdHNpYmxpbmdzOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LnNpYmxpbmcoICggZWxlbS5wYXJlbnROb2RlIHx8IHt9ICkuZmlyc3RDaGlsZCwgZWxlbSApO1xuXHR9LFxuXHRjaGlsZHJlbjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5zaWJsaW5nKCBlbGVtLmZpcnN0Q2hpbGQgKTtcblx0fSxcblx0Y29udGVudHM6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBlbGVtLmNvbnRlbnREb2N1bWVudCB8fCBqUXVlcnkubWVyZ2UoIFtdLCBlbGVtLmNoaWxkTm9kZXMgKTtcblx0fVxufSwgZnVuY3Rpb24oIG5hbWUsIGZuICkge1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCB1bnRpbCwgc2VsZWN0b3IgKSB7XG5cdFx0dmFyIG1hdGNoZWQgPSBqUXVlcnkubWFwKCB0aGlzLCBmbiwgdW50aWwgKTtcblxuXHRcdGlmICggbmFtZS5zbGljZSggLTUgKSAhPT0gXCJVbnRpbFwiICkge1xuXHRcdFx0c2VsZWN0b3IgPSB1bnRpbDtcblx0XHR9XG5cblx0XHRpZiAoIHNlbGVjdG9yICYmIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdG1hdGNoZWQgPSBqUXVlcnkuZmlsdGVyKCBzZWxlY3RvciwgbWF0Y2hlZCApO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5sZW5ndGggPiAxICkge1xuXHRcdFx0Ly8gUmVtb3ZlIGR1cGxpY2F0ZXNcblx0XHRcdGlmICggIWd1YXJhbnRlZWRVbmlxdWVbIG5hbWUgXSApIHtcblx0XHRcdFx0alF1ZXJ5LnVuaXF1ZSggbWF0Y2hlZCApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZXZlcnNlIG9yZGVyIGZvciBwYXJlbnRzKiBhbmQgcHJldi1kZXJpdmF0aXZlc1xuXHRcdFx0aWYgKCBycGFyZW50c3ByZXYudGVzdCggbmFtZSApICkge1xuXHRcdFx0XHRtYXRjaGVkLnJldmVyc2UoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIG1hdGNoZWQgKTtcblx0fTtcbn0pO1xudmFyIHJub3R3aGl0ZSA9ICgvXFxTKy9nKTtcblxuXG5cbi8vIFN0cmluZyB0byBPYmplY3Qgb3B0aW9ucyBmb3JtYXQgY2FjaGVcbnZhciBvcHRpb25zQ2FjaGUgPSB7fTtcblxuLy8gQ29udmVydCBTdHJpbmctZm9ybWF0dGVkIG9wdGlvbnMgaW50byBPYmplY3QtZm9ybWF0dGVkIG9uZXMgYW5kIHN0b3JlIGluIGNhY2hlXG5mdW5jdGlvbiBjcmVhdGVPcHRpb25zKCBvcHRpb25zICkge1xuXHR2YXIgb2JqZWN0ID0gb3B0aW9uc0NhY2hlWyBvcHRpb25zIF0gPSB7fTtcblx0alF1ZXJ5LmVhY2goIG9wdGlvbnMubWF0Y2goIHJub3R3aGl0ZSApIHx8IFtdLCBmdW5jdGlvbiggXywgZmxhZyApIHtcblx0XHRvYmplY3RbIGZsYWcgXSA9IHRydWU7XG5cdH0pO1xuXHRyZXR1cm4gb2JqZWN0O1xufVxuXG4vKlxuICogQ3JlYXRlIGEgY2FsbGJhY2sgbGlzdCB1c2luZyB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XG4gKlxuICpcdG9wdGlvbnM6IGFuIG9wdGlvbmFsIGxpc3Qgb2Ygc3BhY2Utc2VwYXJhdGVkIG9wdGlvbnMgdGhhdCB3aWxsIGNoYW5nZSBob3dcbiAqXHRcdFx0dGhlIGNhbGxiYWNrIGxpc3QgYmVoYXZlcyBvciBhIG1vcmUgdHJhZGl0aW9uYWwgb3B0aW9uIG9iamVjdFxuICpcbiAqIEJ5IGRlZmF1bHQgYSBjYWxsYmFjayBsaXN0IHdpbGwgYWN0IGxpa2UgYW4gZXZlbnQgY2FsbGJhY2sgbGlzdCBhbmQgY2FuIGJlXG4gKiBcImZpcmVkXCIgbXVsdGlwbGUgdGltZXMuXG4gKlxuICogUG9zc2libGUgb3B0aW9uczpcbiAqXG4gKlx0b25jZTpcdFx0XHR3aWxsIGVuc3VyZSB0aGUgY2FsbGJhY2sgbGlzdCBjYW4gb25seSBiZSBmaXJlZCBvbmNlIChsaWtlIGEgRGVmZXJyZWQpXG4gKlxuICpcdG1lbW9yeTpcdFx0XHR3aWxsIGtlZXAgdHJhY2sgb2YgcHJldmlvdXMgdmFsdWVzIGFuZCB3aWxsIGNhbGwgYW55IGNhbGxiYWNrIGFkZGVkXG4gKlx0XHRcdFx0XHRhZnRlciB0aGUgbGlzdCBoYXMgYmVlbiBmaXJlZCByaWdodCBhd2F5IHdpdGggdGhlIGxhdGVzdCBcIm1lbW9yaXplZFwiXG4gKlx0XHRcdFx0XHR2YWx1ZXMgKGxpa2UgYSBEZWZlcnJlZClcbiAqXG4gKlx0dW5pcXVlOlx0XHRcdHdpbGwgZW5zdXJlIGEgY2FsbGJhY2sgY2FuIG9ubHkgYmUgYWRkZWQgb25jZSAobm8gZHVwbGljYXRlIGluIHRoZSBsaXN0KVxuICpcbiAqXHRzdG9wT25GYWxzZTpcdGludGVycnVwdCBjYWxsaW5ncyB3aGVuIGEgY2FsbGJhY2sgcmV0dXJucyBmYWxzZVxuICpcbiAqL1xualF1ZXJ5LkNhbGxiYWNrcyA9IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG5cdC8vIENvbnZlcnQgb3B0aW9ucyBmcm9tIFN0cmluZy1mb3JtYXR0ZWQgdG8gT2JqZWN0LWZvcm1hdHRlZCBpZiBuZWVkZWRcblx0Ly8gKHdlIGNoZWNrIGluIGNhY2hlIGZpcnN0KVxuXHRvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIgP1xuXHRcdCggb3B0aW9uc0NhY2hlWyBvcHRpb25zIF0gfHwgY3JlYXRlT3B0aW9ucyggb3B0aW9ucyApICkgOlxuXHRcdGpRdWVyeS5leHRlbmQoIHt9LCBvcHRpb25zICk7XG5cblx0dmFyIC8vIExhc3QgZmlyZSB2YWx1ZSAoZm9yIG5vbi1mb3JnZXR0YWJsZSBsaXN0cylcblx0XHRtZW1vcnksXG5cdFx0Ly8gRmxhZyB0byBrbm93IGlmIGxpc3Qgd2FzIGFscmVhZHkgZmlyZWRcblx0XHRmaXJlZCxcblx0XHQvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCBpcyBjdXJyZW50bHkgZmlyaW5nXG5cdFx0ZmlyaW5nLFxuXHRcdC8vIEZpcnN0IGNhbGxiYWNrIHRvIGZpcmUgKHVzZWQgaW50ZXJuYWxseSBieSBhZGQgYW5kIGZpcmVXaXRoKVxuXHRcdGZpcmluZ1N0YXJ0LFxuXHRcdC8vIEVuZCBvZiB0aGUgbG9vcCB3aGVuIGZpcmluZ1xuXHRcdGZpcmluZ0xlbmd0aCxcblx0XHQvLyBJbmRleCBvZiBjdXJyZW50bHkgZmlyaW5nIGNhbGxiYWNrIChtb2RpZmllZCBieSByZW1vdmUgaWYgbmVlZGVkKVxuXHRcdGZpcmluZ0luZGV4LFxuXHRcdC8vIEFjdHVhbCBjYWxsYmFjayBsaXN0XG5cdFx0bGlzdCA9IFtdLFxuXHRcdC8vIFN0YWNrIG9mIGZpcmUgY2FsbHMgZm9yIHJlcGVhdGFibGUgbGlzdHNcblx0XHRzdGFjayA9ICFvcHRpb25zLm9uY2UgJiYgW10sXG5cdFx0Ly8gRmlyZSBjYWxsYmFja3Ncblx0XHRmaXJlID0gZnVuY3Rpb24oIGRhdGEgKSB7XG5cdFx0XHRtZW1vcnkgPSBvcHRpb25zLm1lbW9yeSAmJiBkYXRhO1xuXHRcdFx0ZmlyZWQgPSB0cnVlO1xuXHRcdFx0ZmlyaW5nSW5kZXggPSBmaXJpbmdTdGFydCB8fCAwO1xuXHRcdFx0ZmlyaW5nU3RhcnQgPSAwO1xuXHRcdFx0ZmlyaW5nTGVuZ3RoID0gbGlzdC5sZW5ndGg7XG5cdFx0XHRmaXJpbmcgPSB0cnVlO1xuXHRcdFx0Zm9yICggOyBsaXN0ICYmIGZpcmluZ0luZGV4IDwgZmlyaW5nTGVuZ3RoOyBmaXJpbmdJbmRleCsrICkge1xuXHRcdFx0XHRpZiAoIGxpc3RbIGZpcmluZ0luZGV4IF0uYXBwbHkoIGRhdGFbIDAgXSwgZGF0YVsgMSBdICkgPT09IGZhbHNlICYmIG9wdGlvbnMuc3RvcE9uRmFsc2UgKSB7XG5cdFx0XHRcdFx0bWVtb3J5ID0gZmFsc2U7IC8vIFRvIHByZXZlbnQgZnVydGhlciBjYWxscyB1c2luZyBhZGRcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0ZmlyaW5nID0gZmFsc2U7XG5cdFx0XHRpZiAoIGxpc3QgKSB7XG5cdFx0XHRcdGlmICggc3RhY2sgKSB7XG5cdFx0XHRcdFx0aWYgKCBzdGFjay5sZW5ndGggKSB7XG5cdFx0XHRcdFx0XHRmaXJlKCBzdGFjay5zaGlmdCgpICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2UgaWYgKCBtZW1vcnkgKSB7XG5cdFx0XHRcdFx0bGlzdCA9IFtdO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHNlbGYuZGlzYWJsZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQvLyBBY3R1YWwgQ2FsbGJhY2tzIG9iamVjdFxuXHRcdHNlbGYgPSB7XG5cdFx0XHQvLyBBZGQgYSBjYWxsYmFjayBvciBhIGNvbGxlY3Rpb24gb2YgY2FsbGJhY2tzIHRvIHRoZSBsaXN0XG5cdFx0XHRhZGQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIGxpc3QgKSB7XG5cdFx0XHRcdFx0Ly8gRmlyc3QsIHdlIHNhdmUgdGhlIGN1cnJlbnQgbGVuZ3RoXG5cdFx0XHRcdFx0dmFyIHN0YXJ0ID0gbGlzdC5sZW5ndGg7XG5cdFx0XHRcdFx0KGZ1bmN0aW9uIGFkZCggYXJncyApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCBhcmdzLCBmdW5jdGlvbiggXywgYXJnICkge1xuXHRcdFx0XHRcdFx0XHR2YXIgdHlwZSA9IGpRdWVyeS50eXBlKCBhcmcgKTtcblx0XHRcdFx0XHRcdFx0aWYgKCB0eXBlID09PSBcImZ1bmN0aW9uXCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCAhb3B0aW9ucy51bmlxdWUgfHwgIXNlbGYuaGFzKCBhcmcgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGxpc3QucHVzaCggYXJnICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBhcmcgJiYgYXJnLmxlbmd0aCAmJiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIEluc3BlY3QgcmVjdXJzaXZlbHlcblx0XHRcdFx0XHRcdFx0XHRhZGQoIGFyZyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KSggYXJndW1lbnRzICk7XG5cdFx0XHRcdFx0Ly8gRG8gd2UgbmVlZCB0byBhZGQgdGhlIGNhbGxiYWNrcyB0byB0aGVcblx0XHRcdFx0XHQvLyBjdXJyZW50IGZpcmluZyBiYXRjaD9cblx0XHRcdFx0XHRpZiAoIGZpcmluZyApIHtcblx0XHRcdFx0XHRcdGZpcmluZ0xlbmd0aCA9IGxpc3QubGVuZ3RoO1xuXHRcdFx0XHRcdC8vIFdpdGggbWVtb3J5LCBpZiB3ZSdyZSBub3QgZmlyaW5nIHRoZW5cblx0XHRcdFx0XHQvLyB3ZSBzaG91bGQgY2FsbCByaWdodCBhd2F5XG5cdFx0XHRcdFx0fSBlbHNlIGlmICggbWVtb3J5ICkge1xuXHRcdFx0XHRcdFx0ZmlyaW5nU3RhcnQgPSBzdGFydDtcblx0XHRcdFx0XHRcdGZpcmUoIG1lbW9yeSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cdFx0XHQvLyBSZW1vdmUgYSBjYWxsYmFjayBmcm9tIHRoZSBsaXN0XG5cdFx0XHRyZW1vdmU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIGxpc3QgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmVhY2goIGFyZ3VtZW50cywgZnVuY3Rpb24oIF8sIGFyZyApIHtcblx0XHRcdFx0XHRcdHZhciBpbmRleDtcblx0XHRcdFx0XHRcdHdoaWxlICggKCBpbmRleCA9IGpRdWVyeS5pbkFycmF5KCBhcmcsIGxpc3QsIGluZGV4ICkgKSA+IC0xICkge1xuXHRcdFx0XHRcdFx0XHRsaXN0LnNwbGljZSggaW5kZXgsIDEgKTtcblx0XHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGZpcmluZyBpbmRleGVzXG5cdFx0XHRcdFx0XHRcdGlmICggZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICggaW5kZXggPD0gZmlyaW5nTGVuZ3RoICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZmlyaW5nTGVuZ3RoLS07XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGlmICggaW5kZXggPD0gZmlyaW5nSW5kZXggKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRmaXJpbmdJbmRleC0tO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblx0XHRcdC8vIENoZWNrIGlmIGEgZ2l2ZW4gY2FsbGJhY2sgaXMgaW4gdGhlIGxpc3QuXG5cdFx0XHQvLyBJZiBubyBhcmd1bWVudCBpcyBnaXZlbiwgcmV0dXJuIHdoZXRoZXIgb3Igbm90IGxpc3QgaGFzIGNhbGxiYWNrcyBhdHRhY2hlZC5cblx0XHRcdGhhczogZnVuY3Rpb24oIGZuICkge1xuXHRcdFx0XHRyZXR1cm4gZm4gPyBqUXVlcnkuaW5BcnJheSggZm4sIGxpc3QgKSA+IC0xIDogISEoIGxpc3QgJiYgbGlzdC5sZW5ndGggKTtcblx0XHRcdH0sXG5cdFx0XHQvLyBSZW1vdmUgYWxsIGNhbGxiYWNrcyBmcm9tIHRoZSBsaXN0XG5cdFx0XHRlbXB0eTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGxpc3QgPSBbXTtcblx0XHRcdFx0ZmlyaW5nTGVuZ3RoID0gMDtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXHRcdFx0Ly8gSGF2ZSB0aGUgbGlzdCBkbyBub3RoaW5nIGFueW1vcmVcblx0XHRcdGRpc2FibGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRsaXN0ID0gc3RhY2sgPSBtZW1vcnkgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblx0XHRcdC8vIElzIGl0IGRpc2FibGVkP1xuXHRcdFx0ZGlzYWJsZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gIWxpc3Q7XG5cdFx0XHR9LFxuXHRcdFx0Ly8gTG9jayB0aGUgbGlzdCBpbiBpdHMgY3VycmVudCBzdGF0ZVxuXHRcdFx0bG9jazogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHN0YWNrID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRpZiAoICFtZW1vcnkgKSB7XG5cdFx0XHRcdFx0c2VsZi5kaXNhYmxlKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXHRcdFx0Ly8gSXMgaXQgbG9ja2VkP1xuXHRcdFx0bG9ja2VkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICFzdGFjaztcblx0XHRcdH0sXG5cdFx0XHQvLyBDYWxsIGFsbCBjYWxsYmFja3Mgd2l0aCB0aGUgZ2l2ZW4gY29udGV4dCBhbmQgYXJndW1lbnRzXG5cdFx0XHRmaXJlV2l0aDogZnVuY3Rpb24oIGNvbnRleHQsIGFyZ3MgKSB7XG5cdFx0XHRcdGlmICggbGlzdCAmJiAoICFmaXJlZCB8fCBzdGFjayApICkge1xuXHRcdFx0XHRcdGFyZ3MgPSBhcmdzIHx8IFtdO1xuXHRcdFx0XHRcdGFyZ3MgPSBbIGNvbnRleHQsIGFyZ3Muc2xpY2UgPyBhcmdzLnNsaWNlKCkgOiBhcmdzIF07XG5cdFx0XHRcdFx0aWYgKCBmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRzdGFjay5wdXNoKCBhcmdzICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGZpcmUoIGFyZ3MgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXHRcdFx0Ly8gQ2FsbCBhbGwgdGhlIGNhbGxiYWNrcyB3aXRoIHRoZSBnaXZlbiBhcmd1bWVudHNcblx0XHRcdGZpcmU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLmZpcmVXaXRoKCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXHRcdFx0Ly8gVG8ga25vdyBpZiB0aGUgY2FsbGJhY2tzIGhhdmUgYWxyZWFkeSBiZWVuIGNhbGxlZCBhdCBsZWFzdCBvbmNlXG5cdFx0XHRmaXJlZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAhIWZpcmVkO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0cmV0dXJuIHNlbGY7XG59O1xuXG5cbmpRdWVyeS5leHRlbmQoe1xuXG5cdERlZmVycmVkOiBmdW5jdGlvbiggZnVuYyApIHtcblx0XHR2YXIgdHVwbGVzID0gW1xuXHRcdFx0XHQvLyBhY3Rpb24sIGFkZCBsaXN0ZW5lciwgbGlzdGVuZXIgbGlzdCwgZmluYWwgc3RhdGVcblx0XHRcdFx0WyBcInJlc29sdmVcIiwgXCJkb25lXCIsIGpRdWVyeS5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSwgXCJyZXNvbHZlZFwiIF0sXG5cdFx0XHRcdFsgXCJyZWplY3RcIiwgXCJmYWlsXCIsIGpRdWVyeS5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSwgXCJyZWplY3RlZFwiIF0sXG5cdFx0XHRcdFsgXCJub3RpZnlcIiwgXCJwcm9ncmVzc1wiLCBqUXVlcnkuQ2FsbGJhY2tzKFwibWVtb3J5XCIpIF1cblx0XHRcdF0sXG5cdFx0XHRzdGF0ZSA9IFwicGVuZGluZ1wiLFxuXHRcdFx0cHJvbWlzZSA9IHtcblx0XHRcdFx0c3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiBzdGF0ZTtcblx0XHRcdFx0fSxcblx0XHRcdFx0YWx3YXlzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRkZWZlcnJlZC5kb25lKCBhcmd1bWVudHMgKS5mYWlsKCBhcmd1bWVudHMgKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XHRcdFx0dGhlbjogZnVuY3Rpb24oIC8qIGZuRG9uZSwgZm5GYWlsLCBmblByb2dyZXNzICovICkge1xuXHRcdFx0XHRcdHZhciBmbnMgPSBhcmd1bWVudHM7XG5cdFx0XHRcdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZChmdW5jdGlvbiggbmV3RGVmZXIgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkuZWFjaCggdHVwbGVzLCBmdW5jdGlvbiggaSwgdHVwbGUgKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBmbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCBmbnNbIGkgXSApICYmIGZuc1sgaSBdO1xuXHRcdFx0XHRcdFx0XHQvLyBkZWZlcnJlZFsgZG9uZSB8IGZhaWwgfCBwcm9ncmVzcyBdIGZvciBmb3J3YXJkaW5nIGFjdGlvbnMgdG8gbmV3RGVmZXJcblx0XHRcdFx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWzFdIF0oZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHJldHVybmVkID0gZm4gJiYgZm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdFx0XHRcdGlmICggcmV0dXJuZWQgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oIHJldHVybmVkLnByb21pc2UgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLnByb21pc2UoKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQuZG9uZSggbmV3RGVmZXIucmVzb2x2ZSApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5mYWlsKCBuZXdEZWZlci5yZWplY3QgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQucHJvZ3Jlc3MoIG5ld0RlZmVyLm5vdGlmeSApO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlclsgdHVwbGVbIDAgXSArIFwiV2l0aFwiIF0oIHRoaXMgPT09IHByb21pc2UgPyBuZXdEZWZlci5wcm9taXNlKCkgOiB0aGlzLCBmbiA/IFsgcmV0dXJuZWQgXSA6IGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdGZucyA9IG51bGw7XG5cdFx0XHRcdFx0fSkucHJvbWlzZSgpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvLyBHZXQgYSBwcm9taXNlIGZvciB0aGlzIGRlZmVycmVkXG5cdFx0XHRcdC8vIElmIG9iaiBpcyBwcm92aWRlZCwgdGhlIHByb21pc2UgYXNwZWN0IGlzIGFkZGVkIHRvIHRoZSBvYmplY3Rcblx0XHRcdFx0cHJvbWlzZTogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRcdFx0XHRyZXR1cm4gb2JqICE9IG51bGwgPyBqUXVlcnkuZXh0ZW5kKCBvYmosIHByb21pc2UgKSA6IHByb21pc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRkZWZlcnJlZCA9IHt9O1xuXG5cdFx0Ly8gS2VlcCBwaXBlIGZvciBiYWNrLWNvbXBhdFxuXHRcdHByb21pc2UucGlwZSA9IHByb21pc2UudGhlbjtcblxuXHRcdC8vIEFkZCBsaXN0LXNwZWNpZmljIG1ldGhvZHNcblx0XHRqUXVlcnkuZWFjaCggdHVwbGVzLCBmdW5jdGlvbiggaSwgdHVwbGUgKSB7XG5cdFx0XHR2YXIgbGlzdCA9IHR1cGxlWyAyIF0sXG5cdFx0XHRcdHN0YXRlU3RyaW5nID0gdHVwbGVbIDMgXTtcblxuXHRcdFx0Ly8gcHJvbWlzZVsgZG9uZSB8IGZhaWwgfCBwcm9ncmVzcyBdID0gbGlzdC5hZGRcblx0XHRcdHByb21pc2VbIHR1cGxlWzFdIF0gPSBsaXN0LmFkZDtcblxuXHRcdFx0Ly8gSGFuZGxlIHN0YXRlXG5cdFx0XHRpZiAoIHN0YXRlU3RyaW5nICkge1xuXHRcdFx0XHRsaXN0LmFkZChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQvLyBzdGF0ZSA9IFsgcmVzb2x2ZWQgfCByZWplY3RlZCBdXG5cdFx0XHRcdFx0c3RhdGUgPSBzdGF0ZVN0cmluZztcblxuXHRcdFx0XHQvLyBbIHJlamVjdF9saXN0IHwgcmVzb2x2ZV9saXN0IF0uZGlzYWJsZTsgcHJvZ3Jlc3NfbGlzdC5sb2NrXG5cdFx0XHRcdH0sIHR1cGxlc1sgaSBeIDEgXVsgMiBdLmRpc2FibGUsIHR1cGxlc1sgMiBdWyAyIF0ubG9jayApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBkZWZlcnJlZFsgcmVzb2x2ZSB8IHJlamVjdCB8IG5vdGlmeSBdXG5cdFx0XHRkZWZlcnJlZFsgdHVwbGVbMF0gXSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRkZWZlcnJlZFsgdHVwbGVbMF0gKyBcIldpdGhcIiBdKCB0aGlzID09PSBkZWZlcnJlZCA/IHByb21pc2UgOiB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9O1xuXHRcdFx0ZGVmZXJyZWRbIHR1cGxlWzBdICsgXCJXaXRoXCIgXSA9IGxpc3QuZmlyZVdpdGg7XG5cdFx0fSk7XG5cblx0XHQvLyBNYWtlIHRoZSBkZWZlcnJlZCBhIHByb21pc2Vcblx0XHRwcm9taXNlLnByb21pc2UoIGRlZmVycmVkICk7XG5cblx0XHQvLyBDYWxsIGdpdmVuIGZ1bmMgaWYgYW55XG5cdFx0aWYgKCBmdW5jICkge1xuXHRcdFx0ZnVuYy5jYWxsKCBkZWZlcnJlZCwgZGVmZXJyZWQgKTtcblx0XHR9XG5cblx0XHQvLyBBbGwgZG9uZSFcblx0XHRyZXR1cm4gZGVmZXJyZWQ7XG5cdH0sXG5cblx0Ly8gRGVmZXJyZWQgaGVscGVyXG5cdHdoZW46IGZ1bmN0aW9uKCBzdWJvcmRpbmF0ZSAvKiAsIC4uLiwgc3Vib3JkaW5hdGVOICovICkge1xuXHRcdHZhciBpID0gMCxcblx0XHRcdHJlc29sdmVWYWx1ZXMgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSxcblx0XHRcdGxlbmd0aCA9IHJlc29sdmVWYWx1ZXMubGVuZ3RoLFxuXG5cdFx0XHQvLyB0aGUgY291bnQgb2YgdW5jb21wbGV0ZWQgc3Vib3JkaW5hdGVzXG5cdFx0XHRyZW1haW5pbmcgPSBsZW5ndGggIT09IDEgfHwgKCBzdWJvcmRpbmF0ZSAmJiBqUXVlcnkuaXNGdW5jdGlvbiggc3Vib3JkaW5hdGUucHJvbWlzZSApICkgPyBsZW5ndGggOiAwLFxuXG5cdFx0XHQvLyB0aGUgbWFzdGVyIERlZmVycmVkLiBJZiByZXNvbHZlVmFsdWVzIGNvbnNpc3Qgb2Ygb25seSBhIHNpbmdsZSBEZWZlcnJlZCwganVzdCB1c2UgdGhhdC5cblx0XHRcdGRlZmVycmVkID0gcmVtYWluaW5nID09PSAxID8gc3Vib3JkaW5hdGUgOiBqUXVlcnkuRGVmZXJyZWQoKSxcblxuXHRcdFx0Ly8gVXBkYXRlIGZ1bmN0aW9uIGZvciBib3RoIHJlc29sdmUgYW5kIHByb2dyZXNzIHZhbHVlc1xuXHRcdFx0dXBkYXRlRnVuYyA9IGZ1bmN0aW9uKCBpLCBjb250ZXh0cywgdmFsdWVzICkge1xuXHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRcdGNvbnRleHRzWyBpIF0gPSB0aGlzO1xuXHRcdFx0XHRcdHZhbHVlc1sgaSBdID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSA6IHZhbHVlO1xuXHRcdFx0XHRcdGlmICggdmFsdWVzID09PSBwcm9ncmVzc1ZhbHVlcyApIHtcblx0XHRcdFx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGgoIGNvbnRleHRzLCB2YWx1ZXMgKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCAhKCAtLXJlbWFpbmluZyApICkge1xuXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGNvbnRleHRzLCB2YWx1ZXMgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHR9LFxuXG5cdFx0XHRwcm9ncmVzc1ZhbHVlcywgcHJvZ3Jlc3NDb250ZXh0cywgcmVzb2x2ZUNvbnRleHRzO1xuXG5cdFx0Ly8gYWRkIGxpc3RlbmVycyB0byBEZWZlcnJlZCBzdWJvcmRpbmF0ZXM7IHRyZWF0IG90aGVycyBhcyByZXNvbHZlZFxuXHRcdGlmICggbGVuZ3RoID4gMSApIHtcblx0XHRcdHByb2dyZXNzVmFsdWVzID0gbmV3IEFycmF5KCBsZW5ndGggKTtcblx0XHRcdHByb2dyZXNzQ29udGV4dHMgPSBuZXcgQXJyYXkoIGxlbmd0aCApO1xuXHRcdFx0cmVzb2x2ZUNvbnRleHRzID0gbmV3IEFycmF5KCBsZW5ndGggKTtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIHJlc29sdmVWYWx1ZXNbIGkgXSAmJiBqUXVlcnkuaXNGdW5jdGlvbiggcmVzb2x2ZVZhbHVlc1sgaSBdLnByb21pc2UgKSApIHtcblx0XHRcdFx0XHRyZXNvbHZlVmFsdWVzWyBpIF0ucHJvbWlzZSgpXG5cdFx0XHRcdFx0XHQuZG9uZSggdXBkYXRlRnVuYyggaSwgcmVzb2x2ZUNvbnRleHRzLCByZXNvbHZlVmFsdWVzICkgKVxuXHRcdFx0XHRcdFx0LmZhaWwoIGRlZmVycmVkLnJlamVjdCApXG5cdFx0XHRcdFx0XHQucHJvZ3Jlc3MoIHVwZGF0ZUZ1bmMoIGksIHByb2dyZXNzQ29udGV4dHMsIHByb2dyZXNzVmFsdWVzICkgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQtLXJlbWFpbmluZztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIGlmIHdlJ3JlIG5vdCB3YWl0aW5nIG9uIGFueXRoaW5nLCByZXNvbHZlIHRoZSBtYXN0ZXJcblx0XHRpZiAoICFyZW1haW5pbmcgKSB7XG5cdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggcmVzb2x2ZUNvbnRleHRzLCByZXNvbHZlVmFsdWVzICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2UoKTtcblx0fVxufSk7XG5cblxuLy8gVGhlIGRlZmVycmVkIHVzZWQgb24gRE9NIHJlYWR5XG52YXIgcmVhZHlMaXN0O1xuXG5qUXVlcnkuZm4ucmVhZHkgPSBmdW5jdGlvbiggZm4gKSB7XG5cdC8vIEFkZCB0aGUgY2FsbGJhY2tcblx0alF1ZXJ5LnJlYWR5LnByb21pc2UoKS5kb25lKCBmbiApO1xuXG5cdHJldHVybiB0aGlzO1xufTtcblxualF1ZXJ5LmV4dGVuZCh7XG5cdC8vIElzIHRoZSBET00gcmVhZHkgdG8gYmUgdXNlZD8gU2V0IHRvIHRydWUgb25jZSBpdCBvY2N1cnMuXG5cdGlzUmVhZHk6IGZhbHNlLFxuXG5cdC8vIEEgY291bnRlciB0byB0cmFjayBob3cgbWFueSBpdGVtcyB0byB3YWl0IGZvciBiZWZvcmVcblx0Ly8gdGhlIHJlYWR5IGV2ZW50IGZpcmVzLiBTZWUgIzY3ODFcblx0cmVhZHlXYWl0OiAxLFxuXG5cdC8vIEhvbGQgKG9yIHJlbGVhc2UpIHRoZSByZWFkeSBldmVudFxuXHRob2xkUmVhZHk6IGZ1bmN0aW9uKCBob2xkICkge1xuXHRcdGlmICggaG9sZCApIHtcblx0XHRcdGpRdWVyeS5yZWFkeVdhaXQrKztcblx0XHR9IGVsc2Uge1xuXHRcdFx0alF1ZXJ5LnJlYWR5KCB0cnVlICk7XG5cdFx0fVxuXHR9LFxuXG5cdC8vIEhhbmRsZSB3aGVuIHRoZSBET00gaXMgcmVhZHlcblx0cmVhZHk6IGZ1bmN0aW9uKCB3YWl0ICkge1xuXG5cdFx0Ly8gQWJvcnQgaWYgdGhlcmUgYXJlIHBlbmRpbmcgaG9sZHMgb3Igd2UncmUgYWxyZWFkeSByZWFkeVxuXHRcdGlmICggd2FpdCA9PT0gdHJ1ZSA/IC0talF1ZXJ5LnJlYWR5V2FpdCA6IGpRdWVyeS5pc1JlYWR5ICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIFJlbWVtYmVyIHRoYXQgdGhlIERPTSBpcyByZWFkeVxuXHRcdGpRdWVyeS5pc1JlYWR5ID0gdHJ1ZTtcblxuXHRcdC8vIElmIGEgbm9ybWFsIERPTSBSZWFkeSBldmVudCBmaXJlZCwgZGVjcmVtZW50LCBhbmQgd2FpdCBpZiBuZWVkIGJlXG5cdFx0aWYgKCB3YWl0ICE9PSB0cnVlICYmIC0talF1ZXJ5LnJlYWR5V2FpdCA+IDAgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gSWYgdGhlcmUgYXJlIGZ1bmN0aW9ucyBib3VuZCwgdG8gZXhlY3V0ZVxuXHRcdHJlYWR5TGlzdC5yZXNvbHZlV2l0aCggZG9jdW1lbnQsIFsgalF1ZXJ5IF0gKTtcblxuXHRcdC8vIFRyaWdnZXIgYW55IGJvdW5kIHJlYWR5IGV2ZW50c1xuXHRcdGlmICggalF1ZXJ5LmZuLnRyaWdnZXJIYW5kbGVyICkge1xuXHRcdFx0alF1ZXJ5KCBkb2N1bWVudCApLnRyaWdnZXJIYW5kbGVyKCBcInJlYWR5XCIgKTtcblx0XHRcdGpRdWVyeSggZG9jdW1lbnQgKS5vZmYoIFwicmVhZHlcIiApO1xuXHRcdH1cblx0fVxufSk7XG5cbi8qKlxuICogVGhlIHJlYWR5IGV2ZW50IGhhbmRsZXIgYW5kIHNlbGYgY2xlYW51cCBtZXRob2RcbiAqL1xuZnVuY3Rpb24gY29tcGxldGVkKCkge1xuXHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCBcIkRPTUNvbnRlbnRMb2FkZWRcIiwgY29tcGxldGVkLCBmYWxzZSApO1xuXHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJsb2FkXCIsIGNvbXBsZXRlZCwgZmFsc2UgKTtcblx0alF1ZXJ5LnJlYWR5KCk7XG59XG5cbmpRdWVyeS5yZWFkeS5wcm9taXNlID0gZnVuY3Rpb24oIG9iaiApIHtcblx0aWYgKCAhcmVhZHlMaXN0ICkge1xuXG5cdFx0cmVhZHlMaXN0ID0galF1ZXJ5LkRlZmVycmVkKCk7XG5cblx0XHQvLyBDYXRjaCBjYXNlcyB3aGVyZSAkKGRvY3VtZW50KS5yZWFkeSgpIGlzIGNhbGxlZCBhZnRlciB0aGUgYnJvd3NlciBldmVudCBoYXMgYWxyZWFkeSBvY2N1cnJlZC5cblx0XHQvLyB3ZSBvbmNlIHRyaWVkIHRvIHVzZSByZWFkeVN0YXRlIFwiaW50ZXJhY3RpdmVcIiBoZXJlLCBidXQgaXQgY2F1c2VkIGlzc3VlcyBsaWtlIHRoZSBvbmVcblx0XHQvLyBkaXNjb3ZlcmVkIGJ5IENocmlzUyBoZXJlOiBodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMjI4MiNjb21tZW50OjE1XG5cdFx0aWYgKCBkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIgKSB7XG5cdFx0XHQvLyBIYW5kbGUgaXQgYXN5bmNocm9ub3VzbHkgdG8gYWxsb3cgc2NyaXB0cyB0aGUgb3Bwb3J0dW5pdHkgdG8gZGVsYXkgcmVhZHlcblx0XHRcdHNldFRpbWVvdXQoIGpRdWVyeS5yZWFkeSApO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gVXNlIHRoZSBoYW5keSBldmVudCBjYWxsYmFja1xuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggXCJET01Db250ZW50TG9hZGVkXCIsIGNvbXBsZXRlZCwgZmFsc2UgKTtcblxuXHRcdFx0Ly8gQSBmYWxsYmFjayB0byB3aW5kb3cub25sb2FkLCB0aGF0IHdpbGwgYWx3YXlzIHdvcmtcblx0XHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBcImxvYWRcIiwgY29tcGxldGVkLCBmYWxzZSApO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVhZHlMaXN0LnByb21pc2UoIG9iaiApO1xufTtcblxuLy8gS2ljayBvZmYgdGhlIERPTSByZWFkeSBjaGVjayBldmVuIGlmIHRoZSB1c2VyIGRvZXMgbm90XG5qUXVlcnkucmVhZHkucHJvbWlzZSgpO1xuXG5cblxuXG4vLyBNdWx0aWZ1bmN0aW9uYWwgbWV0aG9kIHRvIGdldCBhbmQgc2V0IHZhbHVlcyBvZiBhIGNvbGxlY3Rpb25cbi8vIFRoZSB2YWx1ZS9zIGNhbiBvcHRpb25hbGx5IGJlIGV4ZWN1dGVkIGlmIGl0J3MgYSBmdW5jdGlvblxudmFyIGFjY2VzcyA9IGpRdWVyeS5hY2Nlc3MgPSBmdW5jdGlvbiggZWxlbXMsIGZuLCBrZXksIHZhbHVlLCBjaGFpbmFibGUsIGVtcHR5R2V0LCByYXcgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsZW4gPSBlbGVtcy5sZW5ndGgsXG5cdFx0YnVsayA9IGtleSA9PSBudWxsO1xuXG5cdC8vIFNldHMgbWFueSB2YWx1ZXNcblx0aWYgKCBqUXVlcnkudHlwZSgga2V5ICkgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0Y2hhaW5hYmxlID0gdHJ1ZTtcblx0XHRmb3IgKCBpIGluIGtleSApIHtcblx0XHRcdGpRdWVyeS5hY2Nlc3MoIGVsZW1zLCBmbiwgaSwga2V5W2ldLCB0cnVlLCBlbXB0eUdldCwgcmF3ICk7XG5cdFx0fVxuXG5cdC8vIFNldHMgb25lIHZhbHVlXG5cdH0gZWxzZSBpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0Y2hhaW5hYmxlID0gdHJ1ZTtcblxuXHRcdGlmICggIWpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmF3ID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRpZiAoIGJ1bGsgKSB7XG5cdFx0XHQvLyBCdWxrIG9wZXJhdGlvbnMgcnVuIGFnYWluc3QgdGhlIGVudGlyZSBzZXRcblx0XHRcdGlmICggcmF3ICkge1xuXHRcdFx0XHRmbi5jYWxsKCBlbGVtcywgdmFsdWUgKTtcblx0XHRcdFx0Zm4gPSBudWxsO1xuXG5cdFx0XHQvLyAuLi5leGNlcHQgd2hlbiBleGVjdXRpbmcgZnVuY3Rpb24gdmFsdWVzXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRidWxrID0gZm47XG5cdFx0XHRcdGZuID0gZnVuY3Rpb24oIGVsZW0sIGtleSwgdmFsdWUgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGJ1bGsuY2FsbCggalF1ZXJ5KCBlbGVtICksIHZhbHVlICk7XG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCBmbiApIHtcblx0XHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0XHRmbiggZWxlbXNbaV0sIGtleSwgcmF3ID8gdmFsdWUgOiB2YWx1ZS5jYWxsKCBlbGVtc1tpXSwgaSwgZm4oIGVsZW1zW2ldLCBrZXkgKSApICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGNoYWluYWJsZSA/XG5cdFx0ZWxlbXMgOlxuXG5cdFx0Ly8gR2V0c1xuXHRcdGJ1bGsgP1xuXHRcdFx0Zm4uY2FsbCggZWxlbXMgKSA6XG5cdFx0XHRsZW4gPyBmbiggZWxlbXNbMF0sIGtleSApIDogZW1wdHlHZXQ7XG59O1xuXG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIGFuIG9iamVjdCBjYW4gaGF2ZSBkYXRhXG4gKi9cbmpRdWVyeS5hY2NlcHREYXRhID0gZnVuY3Rpb24oIG93bmVyICkge1xuXHQvLyBBY2NlcHRzIG9ubHk6XG5cdC8vICAtIE5vZGVcblx0Ly8gICAgLSBOb2RlLkVMRU1FTlRfTk9ERVxuXHQvLyAgICAtIE5vZGUuRE9DVU1FTlRfTk9ERVxuXHQvLyAgLSBPYmplY3Rcblx0Ly8gICAgLSBBbnlcblx0LyoganNoaW50IC1XMDE4ICovXG5cdHJldHVybiBvd25lci5ub2RlVHlwZSA9PT0gMSB8fCBvd25lci5ub2RlVHlwZSA9PT0gOSB8fCAhKCArb3duZXIubm9kZVR5cGUgKTtcbn07XG5cblxuZnVuY3Rpb24gRGF0YSgpIHtcblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8IDQsXG5cdC8vIE9sZCBXZWJLaXQgZG9lcyBub3QgaGF2ZSBPYmplY3QucHJldmVudEV4dGVuc2lvbnMvZnJlZXplIG1ldGhvZCxcblx0Ly8gcmV0dXJuIG5ldyBlbXB0eSBvYmplY3QgaW5zdGVhZCB3aXRoIG5vIFtbc2V0XV0gYWNjZXNzb3Jcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCB0aGlzLmNhY2hlID0ge30sIDAsIHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHt9O1xuXHRcdH1cblx0fSk7XG5cblx0dGhpcy5leHBhbmRvID0galF1ZXJ5LmV4cGFuZG8gKyBNYXRoLnJhbmRvbSgpO1xufVxuXG5EYXRhLnVpZCA9IDE7XG5EYXRhLmFjY2VwdHMgPSBqUXVlcnkuYWNjZXB0RGF0YTtcblxuRGF0YS5wcm90b3R5cGUgPSB7XG5cdGtleTogZnVuY3Rpb24oIG93bmVyICkge1xuXHRcdC8vIFdlIGNhbiBhY2NlcHQgZGF0YSBmb3Igbm9uLWVsZW1lbnQgbm9kZXMgaW4gbW9kZXJuIGJyb3dzZXJzLFxuXHRcdC8vIGJ1dCB3ZSBzaG91bGQgbm90LCBzZWUgIzgzMzUuXG5cdFx0Ly8gQWx3YXlzIHJldHVybiB0aGUga2V5IGZvciBhIGZyb3plbiBvYmplY3QuXG5cdFx0aWYgKCAhRGF0YS5hY2NlcHRzKCBvd25lciApICkge1xuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fVxuXG5cdFx0dmFyIGRlc2NyaXB0b3IgPSB7fSxcblx0XHRcdC8vIENoZWNrIGlmIHRoZSBvd25lciBvYmplY3QgYWxyZWFkeSBoYXMgYSBjYWNoZSBrZXlcblx0XHRcdHVubG9jayA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblxuXHRcdC8vIElmIG5vdCwgY3JlYXRlIG9uZVxuXHRcdGlmICggIXVubG9jayApIHtcblx0XHRcdHVubG9jayA9IERhdGEudWlkKys7XG5cblx0XHRcdC8vIFNlY3VyZSBpdCBpbiBhIG5vbi1lbnVtZXJhYmxlLCBub24td3JpdGFibGUgcHJvcGVydHlcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRlc2NyaXB0b3JbIHRoaXMuZXhwYW5kbyBdID0geyB2YWx1ZTogdW5sb2NrIH07XG5cdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBvd25lciwgZGVzY3JpcHRvciApO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDwgNFxuXHRcdFx0Ly8gRmFsbGJhY2sgdG8gYSBsZXNzIHNlY3VyZSBkZWZpbml0aW9uXG5cdFx0XHR9IGNhdGNoICggZSApIHtcblx0XHRcdFx0ZGVzY3JpcHRvclsgdGhpcy5leHBhbmRvIF0gPSB1bmxvY2s7XG5cdFx0XHRcdGpRdWVyeS5leHRlbmQoIG93bmVyLCBkZXNjcmlwdG9yICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gRW5zdXJlIHRoZSBjYWNoZSBvYmplY3Rcblx0XHRpZiAoICF0aGlzLmNhY2hlWyB1bmxvY2sgXSApIHtcblx0XHRcdHRoaXMuY2FjaGVbIHVubG9jayBdID0ge307XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHVubG9jaztcblx0fSxcblx0c2V0OiBmdW5jdGlvbiggb3duZXIsIGRhdGEsIHZhbHVlICkge1xuXHRcdHZhciBwcm9wLFxuXHRcdFx0Ly8gVGhlcmUgbWF5IGJlIGFuIHVubG9jayBhc3NpZ25lZCB0byB0aGlzIG5vZGUsXG5cdFx0XHQvLyBpZiB0aGVyZSBpcyBubyBlbnRyeSBmb3IgdGhpcyBcIm93bmVyXCIsIGNyZWF0ZSBvbmUgaW5saW5lXG5cdFx0XHQvLyBhbmQgc2V0IHRoZSB1bmxvY2sgYXMgdGhvdWdoIGFuIG93bmVyIGVudHJ5IGhhZCBhbHdheXMgZXhpc3RlZFxuXHRcdFx0dW5sb2NrID0gdGhpcy5rZXkoIG93bmVyICksXG5cdFx0XHRjYWNoZSA9IHRoaXMuY2FjaGVbIHVubG9jayBdO1xuXG5cdFx0Ly8gSGFuZGxlOiBbIG93bmVyLCBrZXksIHZhbHVlIF0gYXJnc1xuXHRcdGlmICggdHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRjYWNoZVsgZGF0YSBdID0gdmFsdWU7XG5cblx0XHQvLyBIYW5kbGU6IFsgb3duZXIsIHsgcHJvcGVydGllcyB9IF0gYXJnc1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBGcmVzaCBhc3NpZ25tZW50cyBieSBvYmplY3QgYXJlIHNoYWxsb3cgY29waWVkXG5cdFx0XHRpZiAoIGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBjYWNoZSApICkge1xuXHRcdFx0XHRqUXVlcnkuZXh0ZW5kKCB0aGlzLmNhY2hlWyB1bmxvY2sgXSwgZGF0YSApO1xuXHRcdFx0Ly8gT3RoZXJ3aXNlLCBjb3B5IHRoZSBwcm9wZXJ0aWVzIG9uZS1ieS1vbmUgdG8gdGhlIGNhY2hlIG9iamVjdFxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yICggcHJvcCBpbiBkYXRhICkge1xuXHRcdFx0XHRcdGNhY2hlWyBwcm9wIF0gPSBkYXRhWyBwcm9wIF07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGNhY2hlO1xuXHR9LFxuXHRnZXQ6IGZ1bmN0aW9uKCBvd25lciwga2V5ICkge1xuXHRcdC8vIEVpdGhlciBhIHZhbGlkIGNhY2hlIGlzIGZvdW5kLCBvciB3aWxsIGJlIGNyZWF0ZWQuXG5cdFx0Ly8gTmV3IGNhY2hlcyB3aWxsIGJlIGNyZWF0ZWQgYW5kIHRoZSB1bmxvY2sgcmV0dXJuZWQsXG5cdFx0Ly8gYWxsb3dpbmcgZGlyZWN0IGFjY2VzcyB0byB0aGUgbmV3bHkgY3JlYXRlZFxuXHRcdC8vIGVtcHR5IGRhdGEgb2JqZWN0LiBBIHZhbGlkIG93bmVyIG9iamVjdCBtdXN0IGJlIHByb3ZpZGVkLlxuXHRcdHZhciBjYWNoZSA9IHRoaXMuY2FjaGVbIHRoaXMua2V5KCBvd25lciApIF07XG5cblx0XHRyZXR1cm4ga2V5ID09PSB1bmRlZmluZWQgP1xuXHRcdFx0Y2FjaGUgOiBjYWNoZVsga2V5IF07XG5cdH0sXG5cdGFjY2VzczogZnVuY3Rpb24oIG93bmVyLCBrZXksIHZhbHVlICkge1xuXHRcdHZhciBzdG9yZWQ7XG5cdFx0Ly8gSW4gY2FzZXMgd2hlcmUgZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBObyBrZXkgd2FzIHNwZWNpZmllZFxuXHRcdC8vICAgMi4gQSBzdHJpbmcga2V5IHdhcyBzcGVjaWZpZWQsIGJ1dCBubyB2YWx1ZSBwcm92aWRlZFxuXHRcdC8vXG5cdFx0Ly8gVGFrZSB0aGUgXCJyZWFkXCIgcGF0aCBhbmQgYWxsb3cgdGhlIGdldCBtZXRob2QgdG8gZGV0ZXJtaW5lXG5cdFx0Ly8gd2hpY2ggdmFsdWUgdG8gcmV0dXJuLCByZXNwZWN0aXZlbHkgZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBUaGUgZW50aXJlIGNhY2hlIG9iamVjdFxuXHRcdC8vICAgMi4gVGhlIGRhdGEgc3RvcmVkIGF0IHRoZSBrZXlcblx0XHQvL1xuXHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgfHxcblx0XHRcdFx0KChrZXkgJiYgdHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIikgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgKSB7XG5cblx0XHRcdHN0b3JlZCA9IHRoaXMuZ2V0KCBvd25lciwga2V5ICk7XG5cblx0XHRcdHJldHVybiBzdG9yZWQgIT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdHN0b3JlZCA6IHRoaXMuZ2V0KCBvd25lciwgalF1ZXJ5LmNhbWVsQ2FzZShrZXkpICk7XG5cdFx0fVxuXG5cdFx0Ly8gWypdV2hlbiB0aGUga2V5IGlzIG5vdCBhIHN0cmluZywgb3IgYm90aCBhIGtleSBhbmQgdmFsdWVcblx0XHQvLyBhcmUgc3BlY2lmaWVkLCBzZXQgb3IgZXh0ZW5kIChleGlzdGluZyBvYmplY3RzKSB3aXRoIGVpdGhlcjpcblx0XHQvL1xuXHRcdC8vICAgMS4gQW4gb2JqZWN0IG9mIHByb3BlcnRpZXNcblx0XHQvLyAgIDIuIEEga2V5IGFuZCB2YWx1ZVxuXHRcdC8vXG5cdFx0dGhpcy5zZXQoIG93bmVyLCBrZXksIHZhbHVlICk7XG5cblx0XHQvLyBTaW5jZSB0aGUgXCJzZXRcIiBwYXRoIGNhbiBoYXZlIHR3byBwb3NzaWJsZSBlbnRyeSBwb2ludHNcblx0XHQvLyByZXR1cm4gdGhlIGV4cGVjdGVkIGRhdGEgYmFzZWQgb24gd2hpY2ggcGF0aCB3YXMgdGFrZW5bKl1cblx0XHRyZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDoga2V5O1xuXHR9LFxuXHRyZW1vdmU6IGZ1bmN0aW9uKCBvd25lciwga2V5ICkge1xuXHRcdHZhciBpLCBuYW1lLCBjYW1lbCxcblx0XHRcdHVubG9jayA9IHRoaXMua2V5KCBvd25lciApLFxuXHRcdFx0Y2FjaGUgPSB0aGlzLmNhY2hlWyB1bmxvY2sgXTtcblxuXHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR0aGlzLmNhY2hlWyB1bmxvY2sgXSA9IHt9O1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIFN1cHBvcnQgYXJyYXkgb3Igc3BhY2Ugc2VwYXJhdGVkIHN0cmluZyBvZiBrZXlzXG5cdFx0XHRpZiAoIGpRdWVyeS5pc0FycmF5KCBrZXkgKSApIHtcblx0XHRcdFx0Ly8gSWYgXCJuYW1lXCIgaXMgYW4gYXJyYXkgb2Yga2V5cy4uLlxuXHRcdFx0XHQvLyBXaGVuIGRhdGEgaXMgaW5pdGlhbGx5IGNyZWF0ZWQsIHZpYSAoXCJrZXlcIiwgXCJ2YWxcIikgc2lnbmF0dXJlLFxuXHRcdFx0XHQvLyBrZXlzIHdpbGwgYmUgY29udmVydGVkIHRvIGNhbWVsQ2FzZS5cblx0XHRcdFx0Ly8gU2luY2UgdGhlcmUgaXMgbm8gd2F5IHRvIHRlbGwgX2hvd18gYSBrZXkgd2FzIGFkZGVkLCByZW1vdmVcblx0XHRcdFx0Ly8gYm90aCBwbGFpbiBrZXkgYW5kIGNhbWVsQ2FzZSBrZXkuICMxMjc4NlxuXHRcdFx0XHQvLyBUaGlzIHdpbGwgb25seSBwZW5hbGl6ZSB0aGUgYXJyYXkgYXJndW1lbnQgcGF0aC5cblx0XHRcdFx0bmFtZSA9IGtleS5jb25jYXQoIGtleS5tYXAoIGpRdWVyeS5jYW1lbENhc2UgKSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y2FtZWwgPSBqUXVlcnkuY2FtZWxDYXNlKCBrZXkgKTtcblx0XHRcdFx0Ly8gVHJ5IHRoZSBzdHJpbmcgYXMgYSBrZXkgYmVmb3JlIGFueSBtYW5pcHVsYXRpb25cblx0XHRcdFx0aWYgKCBrZXkgaW4gY2FjaGUgKSB7XG5cdFx0XHRcdFx0bmFtZSA9IFsga2V5LCBjYW1lbCBdO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIElmIGEga2V5IHdpdGggdGhlIHNwYWNlcyBleGlzdHMsIHVzZSBpdC5cblx0XHRcdFx0XHQvLyBPdGhlcndpc2UsIGNyZWF0ZSBhbiBhcnJheSBieSBtYXRjaGluZyBub24td2hpdGVzcGFjZVxuXHRcdFx0XHRcdG5hbWUgPSBjYW1lbDtcblx0XHRcdFx0XHRuYW1lID0gbmFtZSBpbiBjYWNoZSA/XG5cdFx0XHRcdFx0XHRbIG5hbWUgXSA6ICggbmFtZS5tYXRjaCggcm5vdHdoaXRlICkgfHwgW10gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpID0gbmFtZS5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0ZGVsZXRlIGNhY2hlWyBuYW1lWyBpIF0gXTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cdGhhc0RhdGE6IGZ1bmN0aW9uKCBvd25lciApIHtcblx0XHRyZXR1cm4gIWpRdWVyeS5pc0VtcHR5T2JqZWN0KFxuXHRcdFx0dGhpcy5jYWNoZVsgb3duZXJbIHRoaXMuZXhwYW5kbyBdIF0gfHwge31cblx0XHQpO1xuXHR9LFxuXHRkaXNjYXJkOiBmdW5jdGlvbiggb3duZXIgKSB7XG5cdFx0aWYgKCBvd25lclsgdGhpcy5leHBhbmRvIF0gKSB7XG5cdFx0XHRkZWxldGUgdGhpcy5jYWNoZVsgb3duZXJbIHRoaXMuZXhwYW5kbyBdIF07XG5cdFx0fVxuXHR9XG59O1xudmFyIGRhdGFfcHJpdiA9IG5ldyBEYXRhKCk7XG5cbnZhciBkYXRhX3VzZXIgPSBuZXcgRGF0YSgpO1xuXG5cblxuLypcblx0SW1wbGVtZW50YXRpb24gU3VtbWFyeVxuXG5cdDEuIEVuZm9yY2UgQVBJIHN1cmZhY2UgYW5kIHNlbWFudGljIGNvbXBhdGliaWxpdHkgd2l0aCAxLjkueCBicmFuY2hcblx0Mi4gSW1wcm92ZSB0aGUgbW9kdWxlJ3MgbWFpbnRhaW5hYmlsaXR5IGJ5IHJlZHVjaW5nIHRoZSBzdG9yYWdlXG5cdFx0cGF0aHMgdG8gYSBzaW5nbGUgbWVjaGFuaXNtLlxuXHQzLiBVc2UgdGhlIHNhbWUgc2luZ2xlIG1lY2hhbmlzbSB0byBzdXBwb3J0IFwicHJpdmF0ZVwiIGFuZCBcInVzZXJcIiBkYXRhLlxuXHQ0LiBfTmV2ZXJfIGV4cG9zZSBcInByaXZhdGVcIiBkYXRhIHRvIHVzZXIgY29kZSAoVE9ETzogRHJvcCBfZGF0YSwgX3JlbW92ZURhdGEpXG5cdDUuIEF2b2lkIGV4cG9zaW5nIGltcGxlbWVudGF0aW9uIGRldGFpbHMgb24gdXNlciBvYmplY3RzIChlZy4gZXhwYW5kbyBwcm9wZXJ0aWVzKVxuXHQ2LiBQcm92aWRlIGEgY2xlYXIgcGF0aCBmb3IgaW1wbGVtZW50YXRpb24gdXBncmFkZSB0byBXZWFrTWFwIGluIDIwMTRcbiovXG52YXIgcmJyYWNlID0gL14oPzpcXHtbXFx3XFxXXSpcXH18XFxbW1xcd1xcV10qXFxdKSQvLFxuXHRybXVsdGlEYXNoID0gLyhbQS1aXSkvZztcblxuZnVuY3Rpb24gZGF0YUF0dHIoIGVsZW0sIGtleSwgZGF0YSApIHtcblx0dmFyIG5hbWU7XG5cblx0Ly8gSWYgbm90aGluZyB3YXMgZm91bmQgaW50ZXJuYWxseSwgdHJ5IHRvIGZldGNoIGFueVxuXHQvLyBkYXRhIGZyb20gdGhlIEhUTUw1IGRhdGEtKiBhdHRyaWJ1dGVcblx0aWYgKCBkYXRhID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRuYW1lID0gXCJkYXRhLVwiICsga2V5LnJlcGxhY2UoIHJtdWx0aURhc2gsIFwiLSQxXCIgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdGRhdGEgPSBlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSApO1xuXG5cdFx0aWYgKCB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRhdGEgPSBkYXRhID09PSBcInRydWVcIiA/IHRydWUgOlxuXHRcdFx0XHRcdGRhdGEgPT09IFwiZmFsc2VcIiA/IGZhbHNlIDpcblx0XHRcdFx0XHRkYXRhID09PSBcIm51bGxcIiA/IG51bGwgOlxuXHRcdFx0XHRcdC8vIE9ubHkgY29udmVydCB0byBhIG51bWJlciBpZiBpdCBkb2Vzbid0IGNoYW5nZSB0aGUgc3RyaW5nXG5cdFx0XHRcdFx0K2RhdGEgKyBcIlwiID09PSBkYXRhID8gK2RhdGEgOlxuXHRcdFx0XHRcdHJicmFjZS50ZXN0KCBkYXRhICkgPyBqUXVlcnkucGFyc2VKU09OKCBkYXRhICkgOlxuXHRcdFx0XHRcdGRhdGE7XG5cdFx0XHR9IGNhdGNoKCBlICkge31cblxuXHRcdFx0Ly8gTWFrZSBzdXJlIHdlIHNldCB0aGUgZGF0YSBzbyBpdCBpc24ndCBjaGFuZ2VkIGxhdGVyXG5cdFx0XHRkYXRhX3VzZXIuc2V0KCBlbGVtLCBrZXksIGRhdGEgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGRhdGE7XG59XG5cbmpRdWVyeS5leHRlbmQoe1xuXHRoYXNEYXRhOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZGF0YV91c2VyLmhhc0RhdGEoIGVsZW0gKSB8fCBkYXRhX3ByaXYuaGFzRGF0YSggZWxlbSApO1xuXHR9LFxuXG5cdGRhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBkYXRhICkge1xuXHRcdHJldHVybiBkYXRhX3VzZXIuYWNjZXNzKCBlbGVtLCBuYW1lLCBkYXRhICk7XG5cdH0sXG5cblx0cmVtb3ZlRGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cdFx0ZGF0YV91c2VyLnJlbW92ZSggZWxlbSwgbmFtZSApO1xuXHR9LFxuXG5cdC8vIFRPRE86IE5vdyB0aGF0IGFsbCBjYWxscyB0byBfZGF0YSBhbmQgX3JlbW92ZURhdGEgaGF2ZSBiZWVuIHJlcGxhY2VkXG5cdC8vIHdpdGggZGlyZWN0IGNhbGxzIHRvIGRhdGFfcHJpdiBtZXRob2RzLCB0aGVzZSBjYW4gYmUgZGVwcmVjYXRlZC5cblx0X2RhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBkYXRhICkge1xuXHRcdHJldHVybiBkYXRhX3ByaXYuYWNjZXNzKCBlbGVtLCBuYW1lLCBkYXRhICk7XG5cdH0sXG5cblx0X3JlbW92ZURhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdGRhdGFfcHJpdi5yZW1vdmUoIGVsZW0sIG5hbWUgKTtcblx0fVxufSk7XG5cbmpRdWVyeS5mbi5leHRlbmQoe1xuXHRkYXRhOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHR2YXIgaSwgbmFtZSwgZGF0YSxcblx0XHRcdGVsZW0gPSB0aGlzWyAwIF0sXG5cdFx0XHRhdHRycyA9IGVsZW0gJiYgZWxlbS5hdHRyaWJ1dGVzO1xuXG5cdFx0Ly8gR2V0cyBhbGwgdmFsdWVzXG5cdFx0aWYgKCBrZXkgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGlmICggdGhpcy5sZW5ndGggKSB7XG5cdFx0XHRcdGRhdGEgPSBkYXRhX3VzZXIuZ2V0KCBlbGVtICk7XG5cblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmICFkYXRhX3ByaXYuZ2V0KCBlbGVtLCBcImhhc0RhdGFBdHRyc1wiICkgKSB7XG5cdFx0XHRcdFx0aSA9IGF0dHJzLmxlbmd0aDtcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUxMStcblx0XHRcdFx0XHRcdC8vIFRoZSBhdHRycyBlbGVtZW50cyBjYW4gYmUgbnVsbCAoIzE0ODk0KVxuXHRcdFx0XHRcdFx0aWYgKCBhdHRyc1sgaSBdICkge1xuXHRcdFx0XHRcdFx0XHRuYW1lID0gYXR0cnNbIGkgXS5uYW1lO1xuXHRcdFx0XHRcdFx0XHRpZiAoIG5hbWUuaW5kZXhPZiggXCJkYXRhLVwiICkgPT09IDAgKSB7XG5cdFx0XHRcdFx0XHRcdFx0bmFtZSA9IGpRdWVyeS5jYW1lbENhc2UoIG5hbWUuc2xpY2UoNSkgKTtcblx0XHRcdFx0XHRcdFx0XHRkYXRhQXR0ciggZWxlbSwgbmFtZSwgZGF0YVsgbmFtZSBdICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZGF0YV9wcml2LnNldCggZWxlbSwgXCJoYXNEYXRhQXR0cnNcIiwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBkYXRhO1xuXHRcdH1cblxuXHRcdC8vIFNldHMgbXVsdGlwbGUgdmFsdWVzXG5cdFx0aWYgKCB0eXBlb2Yga2V5ID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0ZGF0YV91c2VyLnNldCggdGhpcywga2V5ICk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgZGF0YSxcblx0XHRcdFx0Y2FtZWxLZXkgPSBqUXVlcnkuY2FtZWxDYXNlKCBrZXkgKTtcblxuXHRcdFx0Ly8gVGhlIGNhbGxpbmcgalF1ZXJ5IG9iamVjdCAoZWxlbWVudCBtYXRjaGVzKSBpcyBub3QgZW1wdHlcblx0XHRcdC8vIChhbmQgdGhlcmVmb3JlIGhhcyBhbiBlbGVtZW50IGFwcGVhcnMgYXQgdGhpc1sgMCBdKSBhbmQgdGhlXG5cdFx0XHQvLyBgdmFsdWVgIHBhcmFtZXRlciB3YXMgbm90IHVuZGVmaW5lZC4gQW4gZW1wdHkgalF1ZXJ5IG9iamVjdFxuXHRcdFx0Ly8gd2lsbCByZXN1bHQgaW4gYHVuZGVmaW5lZGAgZm9yIGVsZW0gPSB0aGlzWyAwIF0gd2hpY2ggd2lsbFxuXHRcdFx0Ly8gdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFuIGF0dGVtcHQgdG8gcmVhZCBhIGRhdGEgY2FjaGUgaXMgbWFkZS5cblx0XHRcdGlmICggZWxlbSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHQvLyBBdHRlbXB0IHRvIGdldCBkYXRhIGZyb20gdGhlIGNhY2hlXG5cdFx0XHRcdC8vIHdpdGggdGhlIGtleSBhcy1pc1xuXHRcdFx0XHRkYXRhID0gZGF0YV91c2VyLmdldCggZWxlbSwga2V5ICk7XG5cdFx0XHRcdGlmICggZGF0YSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQXR0ZW1wdCB0byBnZXQgZGF0YSBmcm9tIHRoZSBjYWNoZVxuXHRcdFx0XHQvLyB3aXRoIHRoZSBrZXkgY2FtZWxpemVkXG5cdFx0XHRcdGRhdGEgPSBkYXRhX3VzZXIuZ2V0KCBlbGVtLCBjYW1lbEtleSApO1xuXHRcdFx0XHRpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEF0dGVtcHQgdG8gXCJkaXNjb3ZlclwiIHRoZSBkYXRhIGluXG5cdFx0XHRcdC8vIEhUTUw1IGN1c3RvbSBkYXRhLSogYXR0cnNcblx0XHRcdFx0ZGF0YSA9IGRhdGFBdHRyKCBlbGVtLCBjYW1lbEtleSwgdW5kZWZpbmVkICk7XG5cdFx0XHRcdGlmICggZGF0YSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gV2UgdHJpZWQgcmVhbGx5IGhhcmQsIGJ1dCB0aGUgZGF0YSBkb2Vzbid0IGV4aXN0LlxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNldCB0aGUgZGF0YS4uLlxuXHRcdFx0dGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQvLyBGaXJzdCwgYXR0ZW1wdCB0byBzdG9yZSBhIGNvcHkgb3IgcmVmZXJlbmNlIG9mIGFueVxuXHRcdFx0XHQvLyBkYXRhIHRoYXQgbWlnaHQndmUgYmVlbiBzdG9yZSB3aXRoIGEgY2FtZWxDYXNlZCBrZXkuXG5cdFx0XHRcdHZhciBkYXRhID0gZGF0YV91c2VyLmdldCggdGhpcywgY2FtZWxLZXkgKTtcblxuXHRcdFx0XHQvLyBGb3IgSFRNTDUgZGF0YS0qIGF0dHJpYnV0ZSBpbnRlcm9wLCB3ZSBoYXZlIHRvXG5cdFx0XHRcdC8vIHN0b3JlIHByb3BlcnR5IG5hbWVzIHdpdGggZGFzaGVzIGluIGEgY2FtZWxDYXNlIGZvcm0uXG5cdFx0XHRcdC8vIFRoaXMgbWlnaHQgbm90IGFwcGx5IHRvIGFsbCBwcm9wZXJ0aWVzLi4uKlxuXHRcdFx0XHRkYXRhX3VzZXIuc2V0KCB0aGlzLCBjYW1lbEtleSwgdmFsdWUgKTtcblxuXHRcdFx0XHQvLyAqLi4uIEluIHRoZSBjYXNlIG9mIHByb3BlcnRpZXMgdGhhdCBtaWdodCBfYWN0dWFsbHlfXG5cdFx0XHRcdC8vIGhhdmUgZGFzaGVzLCB3ZSBuZWVkIHRvIGFsc28gc3RvcmUgYSBjb3B5IG9mIHRoYXRcblx0XHRcdFx0Ly8gdW5jaGFuZ2VkIHByb3BlcnR5LlxuXHRcdFx0XHRpZiAoIGtleS5pbmRleE9mKFwiLVwiKSAhPT0gLTEgJiYgZGF0YSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdGRhdGFfdXNlci5zZXQoIHRoaXMsIGtleSwgdmFsdWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxLCBudWxsLCB0cnVlICk7XG5cdH0sXG5cblx0cmVtb3ZlRGF0YTogZnVuY3Rpb24oIGtleSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0ZGF0YV91c2VyLnJlbW92ZSggdGhpcywga2V5ICk7XG5cdFx0fSk7XG5cdH1cbn0pO1xuXG5cbmpRdWVyeS5leHRlbmQoe1xuXHRxdWV1ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGUsIGRhdGEgKSB7XG5cdFx0dmFyIHF1ZXVlO1xuXG5cdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0dHlwZSA9ICggdHlwZSB8fCBcImZ4XCIgKSArIFwicXVldWVcIjtcblx0XHRcdHF1ZXVlID0gZGF0YV9wcml2LmdldCggZWxlbSwgdHlwZSApO1xuXG5cdFx0XHQvLyBTcGVlZCB1cCBkZXF1ZXVlIGJ5IGdldHRpbmcgb3V0IHF1aWNrbHkgaWYgdGhpcyBpcyBqdXN0IGEgbG9va3VwXG5cdFx0XHRpZiAoIGRhdGEgKSB7XG5cdFx0XHRcdGlmICggIXF1ZXVlIHx8IGpRdWVyeS5pc0FycmF5KCBkYXRhICkgKSB7XG5cdFx0XHRcdFx0cXVldWUgPSBkYXRhX3ByaXYuYWNjZXNzKCBlbGVtLCB0eXBlLCBqUXVlcnkubWFrZUFycmF5KGRhdGEpICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cXVldWUucHVzaCggZGF0YSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcXVldWUgfHwgW107XG5cdFx0fVxuXHR9LFxuXG5cdGRlcXVldWU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlICkge1xuXHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblxuXHRcdHZhciBxdWV1ZSA9IGpRdWVyeS5xdWV1ZSggZWxlbSwgdHlwZSApLFxuXHRcdFx0c3RhcnRMZW5ndGggPSBxdWV1ZS5sZW5ndGgsXG5cdFx0XHRmbiA9IHF1ZXVlLnNoaWZ0KCksXG5cdFx0XHRob29rcyA9IGpRdWVyeS5fcXVldWVIb29rcyggZWxlbSwgdHlwZSApLFxuXHRcdFx0bmV4dCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggZWxlbSwgdHlwZSApO1xuXHRcdFx0fTtcblxuXHRcdC8vIElmIHRoZSBmeCBxdWV1ZSBpcyBkZXF1ZXVlZCwgYWx3YXlzIHJlbW92ZSB0aGUgcHJvZ3Jlc3Mgc2VudGluZWxcblx0XHRpZiAoIGZuID09PSBcImlucHJvZ3Jlc3NcIiApIHtcblx0XHRcdGZuID0gcXVldWUuc2hpZnQoKTtcblx0XHRcdHN0YXJ0TGVuZ3RoLS07XG5cdFx0fVxuXG5cdFx0aWYgKCBmbiApIHtcblxuXHRcdFx0Ly8gQWRkIGEgcHJvZ3Jlc3Mgc2VudGluZWwgdG8gcHJldmVudCB0aGUgZnggcXVldWUgZnJvbSBiZWluZ1xuXHRcdFx0Ly8gYXV0b21hdGljYWxseSBkZXF1ZXVlZFxuXHRcdFx0aWYgKCB0eXBlID09PSBcImZ4XCIgKSB7XG5cdFx0XHRcdHF1ZXVlLnVuc2hpZnQoIFwiaW5wcm9ncmVzc1wiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGNsZWFyIHVwIHRoZSBsYXN0IHF1ZXVlIHN0b3AgZnVuY3Rpb25cblx0XHRcdGRlbGV0ZSBob29rcy5zdG9wO1xuXHRcdFx0Zm4uY2FsbCggZWxlbSwgbmV4dCwgaG9va3MgKTtcblx0XHR9XG5cblx0XHRpZiAoICFzdGFydExlbmd0aCAmJiBob29rcyApIHtcblx0XHRcdGhvb2tzLmVtcHR5LmZpcmUoKTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gbm90IGludGVuZGVkIGZvciBwdWJsaWMgY29uc3VtcHRpb24gLSBnZW5lcmF0ZXMgYSBxdWV1ZUhvb2tzIG9iamVjdCwgb3IgcmV0dXJucyB0aGUgY3VycmVudCBvbmVcblx0X3F1ZXVlSG9va3M6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlICkge1xuXHRcdHZhciBrZXkgPSB0eXBlICsgXCJxdWV1ZUhvb2tzXCI7XG5cdFx0cmV0dXJuIGRhdGFfcHJpdi5nZXQoIGVsZW0sIGtleSApIHx8IGRhdGFfcHJpdi5hY2Nlc3MoIGVsZW0sIGtleSwge1xuXHRcdFx0ZW1wdHk6IGpRdWVyeS5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKS5hZGQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRhdGFfcHJpdi5yZW1vdmUoIGVsZW0sIFsgdHlwZSArIFwicXVldWVcIiwga2V5IF0gKTtcblx0XHRcdH0pXG5cdFx0fSk7XG5cdH1cbn0pO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKHtcblx0cXVldWU6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdHZhciBzZXR0ZXIgPSAyO1xuXG5cdFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGRhdGEgPSB0eXBlO1xuXHRcdFx0dHlwZSA9IFwiZnhcIjtcblx0XHRcdHNldHRlci0tO1xuXHRcdH1cblxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCA8IHNldHRlciApIHtcblx0XHRcdHJldHVybiBqUXVlcnkucXVldWUoIHRoaXNbMF0sIHR5cGUgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGF0YSA9PT0gdW5kZWZpbmVkID9cblx0XHRcdHRoaXMgOlxuXHRcdFx0dGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgcXVldWUgPSBqUXVlcnkucXVldWUoIHRoaXMsIHR5cGUsIGRhdGEgKTtcblxuXHRcdFx0XHQvLyBlbnN1cmUgYSBob29rcyBmb3IgdGhpcyBxdWV1ZVxuXHRcdFx0XHRqUXVlcnkuX3F1ZXVlSG9va3MoIHRoaXMsIHR5cGUgKTtcblxuXHRcdFx0XHRpZiAoIHR5cGUgPT09IFwiZnhcIiAmJiBxdWV1ZVswXSAhPT0gXCJpbnByb2dyZXNzXCIgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdH0sXG5cdGRlcXVldWU6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xuXHRcdH0pO1xuXHR9LFxuXHRjbGVhclF1ZXVlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRyZXR1cm4gdGhpcy5xdWV1ZSggdHlwZSB8fCBcImZ4XCIsIFtdICk7XG5cdH0sXG5cdC8vIEdldCBhIHByb21pc2UgcmVzb2x2ZWQgd2hlbiBxdWV1ZXMgb2YgYSBjZXJ0YWluIHR5cGVcblx0Ly8gYXJlIGVtcHRpZWQgKGZ4IGlzIHRoZSB0eXBlIGJ5IGRlZmF1bHQpXG5cdHByb21pc2U6IGZ1bmN0aW9uKCB0eXBlLCBvYmogKSB7XG5cdFx0dmFyIHRtcCxcblx0XHRcdGNvdW50ID0gMSxcblx0XHRcdGRlZmVyID0galF1ZXJ5LkRlZmVycmVkKCksXG5cdFx0XHRlbGVtZW50cyA9IHRoaXMsXG5cdFx0XHRpID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRyZXNvbHZlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggISggLS1jb3VudCApICkge1xuXHRcdFx0XHRcdGRlZmVyLnJlc29sdmVXaXRoKCBlbGVtZW50cywgWyBlbGVtZW50cyBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0b2JqID0gdHlwZTtcblx0XHRcdHR5cGUgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblxuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0dG1wID0gZGF0YV9wcml2LmdldCggZWxlbWVudHNbIGkgXSwgdHlwZSArIFwicXVldWVIb29rc1wiICk7XG5cdFx0XHRpZiAoIHRtcCAmJiB0bXAuZW1wdHkgKSB7XG5cdFx0XHRcdGNvdW50Kys7XG5cdFx0XHRcdHRtcC5lbXB0eS5hZGQoIHJlc29sdmUgKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmVzb2x2ZSgpO1xuXHRcdHJldHVybiBkZWZlci5wcm9taXNlKCBvYmogKTtcblx0fVxufSk7XG52YXIgcG51bSA9ICgvWystXT8oPzpcXGQqXFwufClcXGQrKD86W2VFXVsrLV0/XFxkK3wpLykuc291cmNlO1xuXG52YXIgY3NzRXhwYW5kID0gWyBcIlRvcFwiLCBcIlJpZ2h0XCIsIFwiQm90dG9tXCIsIFwiTGVmdFwiIF07XG5cbnZhciBpc0hpZGRlbiA9IGZ1bmN0aW9uKCBlbGVtLCBlbCApIHtcblx0XHQvLyBpc0hpZGRlbiBtaWdodCBiZSBjYWxsZWQgZnJvbSBqUXVlcnkjZmlsdGVyIGZ1bmN0aW9uO1xuXHRcdC8vIGluIHRoYXQgY2FzZSwgZWxlbWVudCB3aWxsIGJlIHNlY29uZCBhcmd1bWVudFxuXHRcdGVsZW0gPSBlbCB8fCBlbGVtO1xuXHRcdHJldHVybiBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApID09PSBcIm5vbmVcIiB8fCAhalF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKTtcblx0fTtcblxudmFyIHJjaGVja2FibGVUeXBlID0gKC9eKD86Y2hlY2tib3h8cmFkaW8pJC9pKTtcblxuXG5cbihmdW5jdGlvbigpIHtcblx0dmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuXHRcdGRpdiA9IGZyYWdtZW50LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkgKSxcblx0XHRpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApO1xuXG5cdC8vICMxMTIxNyAtIFdlYktpdCBsb3NlcyBjaGVjayB3aGVuIHRoZSBuYW1lIGlzIGFmdGVyIHRoZSBjaGVja2VkIGF0dHJpYnV0ZVxuXHQvLyBTdXBwb3J0OiBXaW5kb3dzIFdlYiBBcHBzIChXV0EpXG5cdC8vIGBuYW1lYCBhbmQgYHR5cGVgIG5lZWQgLnNldEF0dHJpYnV0ZSBmb3IgV1dBXG5cdGlucHV0LnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIFwicmFkaW9cIiApO1xuXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwiY2hlY2tlZFwiLCBcImNoZWNrZWRcIiApO1xuXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwibmFtZVwiLCBcInRcIiApO1xuXG5cdGRpdi5hcHBlbmRDaGlsZCggaW5wdXQgKTtcblxuXHQvLyBTdXBwb3J0OiBTYWZhcmkgNS4xLCBpT1MgNS4xLCBBbmRyb2lkIDQueCwgQW5kcm9pZCAyLjNcblx0Ly8gb2xkIFdlYktpdCBkb2Vzbid0IGNsb25lIGNoZWNrZWQgc3RhdGUgY29ycmVjdGx5IGluIGZyYWdtZW50c1xuXHRzdXBwb3J0LmNoZWNrQ2xvbmUgPSBkaXYuY2xvbmVOb2RlKCB0cnVlICkuY2xvbmVOb2RlKCB0cnVlICkubGFzdENoaWxkLmNoZWNrZWQ7XG5cblx0Ly8gTWFrZSBzdXJlIHRleHRhcmVhIChhbmQgY2hlY2tib3gpIGRlZmF1bHRWYWx1ZSBpcyBwcm9wZXJseSBjbG9uZWRcblx0Ly8gU3VwcG9ydDogSUU5LUlFMTErXG5cdGRpdi5pbm5lckhUTUwgPSBcIjx0ZXh0YXJlYT54PC90ZXh0YXJlYT5cIjtcblx0c3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCA9ICEhZGl2LmNsb25lTm9kZSggdHJ1ZSApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWU7XG59KSgpO1xudmFyIHN0cnVuZGVmaW5lZCA9IHR5cGVvZiB1bmRlZmluZWQ7XG5cblxuXG5zdXBwb3J0LmZvY3VzaW5CdWJibGVzID0gXCJvbmZvY3VzaW5cIiBpbiB3aW5kb3c7XG5cblxudmFyXG5cdHJrZXlFdmVudCA9IC9ea2V5Lyxcblx0cm1vdXNlRXZlbnQgPSAvXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnUpfGNsaWNrLyxcblx0cmZvY3VzTW9ycGggPSAvXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sXG5cdHJ0eXBlbmFtZXNwYWNlID0gL14oW14uXSopKD86XFwuKC4rKXwpJC87XG5cbmZ1bmN0aW9uIHJldHVyblRydWUoKSB7XG5cdHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiByZXR1cm5GYWxzZSgpIHtcblx0cmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBzYWZlQWN0aXZlRWxlbWVudCgpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblx0fSBjYXRjaCAoIGVyciApIHsgfVxufVxuXG4vKlxuICogSGVscGVyIGZ1bmN0aW9ucyBmb3IgbWFuYWdpbmcgZXZlbnRzIC0tIG5vdCBwYXJ0IG9mIHRoZSBwdWJsaWMgaW50ZXJmYWNlLlxuICogUHJvcHMgdG8gRGVhbiBFZHdhcmRzJyBhZGRFdmVudCBsaWJyYXJ5IGZvciBtYW55IG9mIHRoZSBpZGVhcy5cbiAqL1xualF1ZXJ5LmV2ZW50ID0ge1xuXG5cdGdsb2JhbDoge30sXG5cblx0YWRkOiBmdW5jdGlvbiggZWxlbSwgdHlwZXMsIGhhbmRsZXIsIGRhdGEsIHNlbGVjdG9yICkge1xuXG5cdFx0dmFyIGhhbmRsZU9iakluLCBldmVudEhhbmRsZSwgdG1wLFxuXHRcdFx0ZXZlbnRzLCB0LCBoYW5kbGVPYmosXG5cdFx0XHRzcGVjaWFsLCBoYW5kbGVycywgdHlwZSwgbmFtZXNwYWNlcywgb3JpZ1R5cGUsXG5cdFx0XHRlbGVtRGF0YSA9IGRhdGFfcHJpdi5nZXQoIGVsZW0gKTtcblxuXHRcdC8vIERvbid0IGF0dGFjaCBldmVudHMgdG8gbm9EYXRhIG9yIHRleHQvY29tbWVudCBub2RlcyAoYnV0IGFsbG93IHBsYWluIG9iamVjdHMpXG5cdFx0aWYgKCAhZWxlbURhdGEgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsbGVyIGNhbiBwYXNzIGluIGFuIG9iamVjdCBvZiBjdXN0b20gZGF0YSBpbiBsaWV1IG9mIHRoZSBoYW5kbGVyXG5cdFx0aWYgKCBoYW5kbGVyLmhhbmRsZXIgKSB7XG5cdFx0XHRoYW5kbGVPYmpJbiA9IGhhbmRsZXI7XG5cdFx0XHRoYW5kbGVyID0gaGFuZGxlT2JqSW4uaGFuZGxlcjtcblx0XHRcdHNlbGVjdG9yID0gaGFuZGxlT2JqSW4uc2VsZWN0b3I7XG5cdFx0fVxuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgdGhlIGhhbmRsZXIgaGFzIGEgdW5pcXVlIElELCB1c2VkIHRvIGZpbmQvcmVtb3ZlIGl0IGxhdGVyXG5cdFx0aWYgKCAhaGFuZGxlci5ndWlkICkge1xuXHRcdFx0aGFuZGxlci5ndWlkID0galF1ZXJ5Lmd1aWQrKztcblx0XHR9XG5cblx0XHQvLyBJbml0IHRoZSBlbGVtZW50J3MgZXZlbnQgc3RydWN0dXJlIGFuZCBtYWluIGhhbmRsZXIsIGlmIHRoaXMgaXMgdGhlIGZpcnN0XG5cdFx0aWYgKCAhKGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cykgKSB7XG5cdFx0XHRldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgPSB7fTtcblx0XHR9XG5cdFx0aWYgKCAhKGV2ZW50SGFuZGxlID0gZWxlbURhdGEuaGFuZGxlKSApIHtcblx0XHRcdGV2ZW50SGFuZGxlID0gZWxlbURhdGEuaGFuZGxlID0gZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRcdC8vIERpc2NhcmQgdGhlIHNlY29uZCBldmVudCBvZiBhIGpRdWVyeS5ldmVudC50cmlnZ2VyKCkgYW5kXG5cdFx0XHRcdC8vIHdoZW4gYW4gZXZlbnQgaXMgY2FsbGVkIGFmdGVyIGEgcGFnZSBoYXMgdW5sb2FkZWRcblx0XHRcdFx0cmV0dXJuIHR5cGVvZiBqUXVlcnkgIT09IHN0cnVuZGVmaW5lZCAmJiBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkICE9PSBlLnR5cGUgP1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5kaXNwYXRjaC5hcHBseSggZWxlbSwgYXJndW1lbnRzICkgOiB1bmRlZmluZWQ7XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIEhhbmRsZSBtdWx0aXBsZSBldmVudHMgc2VwYXJhdGVkIGJ5IGEgc3BhY2Vcblx0XHR0eXBlcyA9ICggdHlwZXMgfHwgXCJcIiApLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbIFwiXCIgXTtcblx0XHR0ID0gdHlwZXMubGVuZ3RoO1xuXHRcdHdoaWxlICggdC0tICkge1xuXHRcdFx0dG1wID0gcnR5cGVuYW1lc3BhY2UuZXhlYyggdHlwZXNbdF0gKSB8fCBbXTtcblx0XHRcdHR5cGUgPSBvcmlnVHlwZSA9IHRtcFsxXTtcblx0XHRcdG5hbWVzcGFjZXMgPSAoIHRtcFsyXSB8fCBcIlwiICkuc3BsaXQoIFwiLlwiICkuc29ydCgpO1xuXG5cdFx0XHQvLyBUaGVyZSAqbXVzdCogYmUgYSB0eXBlLCBubyBhdHRhY2hpbmcgbmFtZXNwYWNlLW9ubHkgaGFuZGxlcnNcblx0XHRcdGlmICggIXR5cGUgKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBldmVudCBjaGFuZ2VzIGl0cyB0eXBlLCB1c2UgdGhlIHNwZWNpYWwgZXZlbnQgaGFuZGxlcnMgZm9yIHRoZSBjaGFuZ2VkIHR5cGVcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXG5cdFx0XHQvLyBJZiBzZWxlY3RvciBkZWZpbmVkLCBkZXRlcm1pbmUgc3BlY2lhbCBldmVudCBhcGkgdHlwZSwgb3RoZXJ3aXNlIGdpdmVuIHR5cGVcblx0XHRcdHR5cGUgPSAoIHNlbGVjdG9yID8gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgOiBzcGVjaWFsLmJpbmRUeXBlICkgfHwgdHlwZTtcblxuXHRcdFx0Ly8gVXBkYXRlIHNwZWNpYWwgYmFzZWQgb24gbmV3bHkgcmVzZXQgdHlwZVxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cblx0XHRcdC8vIGhhbmRsZU9iaiBpcyBwYXNzZWQgdG8gYWxsIGV2ZW50IGhhbmRsZXJzXG5cdFx0XHRoYW5kbGVPYmogPSBqUXVlcnkuZXh0ZW5kKHtcblx0XHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdFx0b3JpZ1R5cGU6IG9yaWdUeXBlLFxuXHRcdFx0XHRkYXRhOiBkYXRhLFxuXHRcdFx0XHRoYW5kbGVyOiBoYW5kbGVyLFxuXHRcdFx0XHRndWlkOiBoYW5kbGVyLmd1aWQsXG5cdFx0XHRcdHNlbGVjdG9yOiBzZWxlY3Rvcixcblx0XHRcdFx0bmVlZHNDb250ZXh0OiBzZWxlY3RvciAmJiBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3IgKSxcblx0XHRcdFx0bmFtZXNwYWNlOiBuYW1lc3BhY2VzLmpvaW4oXCIuXCIpXG5cdFx0XHR9LCBoYW5kbGVPYmpJbiApO1xuXG5cdFx0XHQvLyBJbml0IHRoZSBldmVudCBoYW5kbGVyIHF1ZXVlIGlmIHdlJ3JlIHRoZSBmaXJzdFxuXHRcdFx0aWYgKCAhKGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0pICkge1xuXHRcdFx0XHRoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdID0gW107XG5cdFx0XHRcdGhhbmRsZXJzLmRlbGVnYXRlQ291bnQgPSAwO1xuXG5cdFx0XHRcdC8vIE9ubHkgdXNlIGFkZEV2ZW50TGlzdGVuZXIgaWYgdGhlIHNwZWNpYWwgZXZlbnRzIGhhbmRsZXIgcmV0dXJucyBmYWxzZVxuXHRcdFx0XHRpZiAoICFzcGVjaWFsLnNldHVwIHx8IHNwZWNpYWwuc2V0dXAuY2FsbCggZWxlbSwgZGF0YSwgbmFtZXNwYWNlcywgZXZlbnRIYW5kbGUgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLmFkZEV2ZW50TGlzdGVuZXIgKSB7XG5cdFx0XHRcdFx0XHRlbGVtLmFkZEV2ZW50TGlzdGVuZXIoIHR5cGUsIGV2ZW50SGFuZGxlLCBmYWxzZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHNwZWNpYWwuYWRkICkge1xuXHRcdFx0XHRzcGVjaWFsLmFkZC5jYWxsKCBlbGVtLCBoYW5kbGVPYmogKTtcblxuXHRcdFx0XHRpZiAoICFoYW5kbGVPYmouaGFuZGxlci5ndWlkICkge1xuXHRcdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyLmd1aWQgPSBoYW5kbGVyLmd1aWQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIHRvIHRoZSBlbGVtZW50J3MgaGFuZGxlciBsaXN0LCBkZWxlZ2F0ZXMgaW4gZnJvbnRcblx0XHRcdGlmICggc2VsZWN0b3IgKSB7XG5cdFx0XHRcdGhhbmRsZXJzLnNwbGljZSggaGFuZGxlcnMuZGVsZWdhdGVDb3VudCsrLCAwLCBoYW5kbGVPYmogKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGhhbmRsZXJzLnB1c2goIGhhbmRsZU9iaiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBLZWVwIHRyYWNrIG9mIHdoaWNoIGV2ZW50cyBoYXZlIGV2ZXIgYmVlbiB1c2VkLCBmb3IgZXZlbnQgb3B0aW1pemF0aW9uXG5cdFx0XHRqUXVlcnkuZXZlbnQuZ2xvYmFsWyB0eXBlIF0gPSB0cnVlO1xuXHRcdH1cblxuXHR9LFxuXG5cdC8vIERldGFjaCBhbiBldmVudCBvciBzZXQgb2YgZXZlbnRzIGZyb20gYW4gZWxlbWVudFxuXHRyZW1vdmU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlcywgaGFuZGxlciwgc2VsZWN0b3IsIG1hcHBlZFR5cGVzICkge1xuXG5cdFx0dmFyIGosIG9yaWdDb3VudCwgdG1wLFxuXHRcdFx0ZXZlbnRzLCB0LCBoYW5kbGVPYmosXG5cdFx0XHRzcGVjaWFsLCBoYW5kbGVycywgdHlwZSwgbmFtZXNwYWNlcywgb3JpZ1R5cGUsXG5cdFx0XHRlbGVtRGF0YSA9IGRhdGFfcHJpdi5oYXNEYXRhKCBlbGVtICkgJiYgZGF0YV9wcml2LmdldCggZWxlbSApO1xuXG5cdFx0aWYgKCAhZWxlbURhdGEgfHwgIShldmVudHMgPSBlbGVtRGF0YS5ldmVudHMpICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIE9uY2UgZm9yIGVhY2ggdHlwZS5uYW1lc3BhY2UgaW4gdHlwZXM7IHR5cGUgbWF5IGJlIG9taXR0ZWRcblx0XHR0eXBlcyA9ICggdHlwZXMgfHwgXCJcIiApLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbIFwiXCIgXTtcblx0XHR0ID0gdHlwZXMubGVuZ3RoO1xuXHRcdHdoaWxlICggdC0tICkge1xuXHRcdFx0dG1wID0gcnR5cGVuYW1lc3BhY2UuZXhlYyggdHlwZXNbdF0gKSB8fCBbXTtcblx0XHRcdHR5cGUgPSBvcmlnVHlwZSA9IHRtcFsxXTtcblx0XHRcdG5hbWVzcGFjZXMgPSAoIHRtcFsyXSB8fCBcIlwiICkuc3BsaXQoIFwiLlwiICkuc29ydCgpO1xuXG5cdFx0XHQvLyBVbmJpbmQgYWxsIGV2ZW50cyAob24gdGhpcyBuYW1lc3BhY2UsIGlmIHByb3ZpZGVkKSBmb3IgdGhlIGVsZW1lbnRcblx0XHRcdGlmICggIXR5cGUgKSB7XG5cdFx0XHRcdGZvciAoIHR5cGUgaW4gZXZlbnRzICkge1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIGVsZW0sIHR5cGUgKyB0eXBlc1sgdCBdLCBoYW5kbGVyLCBzZWxlY3RvciwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblx0XHRcdHR5cGUgPSAoIHNlbGVjdG9yID8gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgOiBzcGVjaWFsLmJpbmRUeXBlICkgfHwgdHlwZTtcblx0XHRcdGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gfHwgW107XG5cdFx0XHR0bXAgPSB0bXBbMl0gJiYgbmV3IFJlZ0V4cCggXCIoXnxcXFxcLilcIiArIG5hbWVzcGFjZXMuam9pbihcIlxcXFwuKD86LipcXFxcLnwpXCIpICsgXCIoXFxcXC58JClcIiApO1xuXG5cdFx0XHQvLyBSZW1vdmUgbWF0Y2hpbmcgZXZlbnRzXG5cdFx0XHRvcmlnQ291bnQgPSBqID0gaGFuZGxlcnMubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBqLS0gKSB7XG5cdFx0XHRcdGhhbmRsZU9iaiA9IGhhbmRsZXJzWyBqIF07XG5cblx0XHRcdFx0aWYgKCAoIG1hcHBlZFR5cGVzIHx8IG9yaWdUeXBlID09PSBoYW5kbGVPYmoub3JpZ1R5cGUgKSAmJlxuXHRcdFx0XHRcdCggIWhhbmRsZXIgfHwgaGFuZGxlci5ndWlkID09PSBoYW5kbGVPYmouZ3VpZCApICYmXG5cdFx0XHRcdFx0KCAhdG1wIHx8IHRtcC50ZXN0KCBoYW5kbGVPYmoubmFtZXNwYWNlICkgKSAmJlxuXHRcdFx0XHRcdCggIXNlbGVjdG9yIHx8IHNlbGVjdG9yID09PSBoYW5kbGVPYmouc2VsZWN0b3IgfHwgc2VsZWN0b3IgPT09IFwiKipcIiAmJiBoYW5kbGVPYmouc2VsZWN0b3IgKSApIHtcblx0XHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGosIDEgKTtcblxuXHRcdFx0XHRcdGlmICggaGFuZGxlT2JqLnNlbGVjdG9yICkge1xuXHRcdFx0XHRcdFx0aGFuZGxlcnMuZGVsZWdhdGVDb3VudC0tO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIHNwZWNpYWwucmVtb3ZlICkge1xuXHRcdFx0XHRcdFx0c3BlY2lhbC5yZW1vdmUuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlbW92ZSBnZW5lcmljIGV2ZW50IGhhbmRsZXIgaWYgd2UgcmVtb3ZlZCBzb21ldGhpbmcgYW5kIG5vIG1vcmUgaGFuZGxlcnMgZXhpc3Rcblx0XHRcdC8vIChhdm9pZHMgcG90ZW50aWFsIGZvciBlbmRsZXNzIHJlY3Vyc2lvbiBkdXJpbmcgcmVtb3ZhbCBvZiBzcGVjaWFsIGV2ZW50IGhhbmRsZXJzKVxuXHRcdFx0aWYgKCBvcmlnQ291bnQgJiYgIWhhbmRsZXJzLmxlbmd0aCApIHtcblx0XHRcdFx0aWYgKCAhc3BlY2lhbC50ZWFyZG93biB8fCBzcGVjaWFsLnRlYXJkb3duLmNhbGwoIGVsZW0sIG5hbWVzcGFjZXMsIGVsZW1EYXRhLmhhbmRsZSApID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRqUXVlcnkucmVtb3ZlRXZlbnQoIGVsZW0sIHR5cGUsIGVsZW1EYXRhLmhhbmRsZSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGVsZXRlIGV2ZW50c1sgdHlwZSBdO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFJlbW92ZSB0aGUgZXhwYW5kbyBpZiBpdCdzIG5vIGxvbmdlciB1c2VkXG5cdFx0aWYgKCBqUXVlcnkuaXNFbXB0eU9iamVjdCggZXZlbnRzICkgKSB7XG5cdFx0XHRkZWxldGUgZWxlbURhdGEuaGFuZGxlO1xuXHRcdFx0ZGF0YV9wcml2LnJlbW92ZSggZWxlbSwgXCJldmVudHNcIiApO1xuXHRcdH1cblx0fSxcblxuXHR0cmlnZ2VyOiBmdW5jdGlvbiggZXZlbnQsIGRhdGEsIGVsZW0sIG9ubHlIYW5kbGVycyApIHtcblxuXHRcdHZhciBpLCBjdXIsIHRtcCwgYnViYmxlVHlwZSwgb250eXBlLCBoYW5kbGUsIHNwZWNpYWwsXG5cdFx0XHRldmVudFBhdGggPSBbIGVsZW0gfHwgZG9jdW1lbnQgXSxcblx0XHRcdHR5cGUgPSBoYXNPd24uY2FsbCggZXZlbnQsIFwidHlwZVwiICkgPyBldmVudC50eXBlIDogZXZlbnQsXG5cdFx0XHRuYW1lc3BhY2VzID0gaGFzT3duLmNhbGwoIGV2ZW50LCBcIm5hbWVzcGFjZVwiICkgPyBldmVudC5uYW1lc3BhY2Uuc3BsaXQoXCIuXCIpIDogW107XG5cblx0XHRjdXIgPSB0bXAgPSBlbGVtID0gZWxlbSB8fCBkb2N1bWVudDtcblxuXHRcdC8vIERvbid0IGRvIGV2ZW50cyBvbiB0ZXh0IGFuZCBjb21tZW50IG5vZGVzXG5cdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gZm9jdXMvYmx1ciBtb3JwaHMgdG8gZm9jdXNpbi9vdXQ7IGVuc3VyZSB3ZSdyZSBub3QgZmlyaW5nIHRoZW0gcmlnaHQgbm93XG5cdFx0aWYgKCByZm9jdXNNb3JwaC50ZXN0KCB0eXBlICsgalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggdHlwZS5pbmRleE9mKFwiLlwiKSA+PSAwICkge1xuXHRcdFx0Ly8gTmFtZXNwYWNlZCB0cmlnZ2VyOyBjcmVhdGUgYSByZWdleHAgdG8gbWF0Y2ggZXZlbnQgdHlwZSBpbiBoYW5kbGUoKVxuXHRcdFx0bmFtZXNwYWNlcyA9IHR5cGUuc3BsaXQoXCIuXCIpO1xuXHRcdFx0dHlwZSA9IG5hbWVzcGFjZXMuc2hpZnQoKTtcblx0XHRcdG5hbWVzcGFjZXMuc29ydCgpO1xuXHRcdH1cblx0XHRvbnR5cGUgPSB0eXBlLmluZGV4T2YoXCI6XCIpIDwgMCAmJiBcIm9uXCIgKyB0eXBlO1xuXG5cdFx0Ly8gQ2FsbGVyIGNhbiBwYXNzIGluIGEgalF1ZXJ5LkV2ZW50IG9iamVjdCwgT2JqZWN0LCBvciBqdXN0IGFuIGV2ZW50IHR5cGUgc3RyaW5nXG5cdFx0ZXZlbnQgPSBldmVudFsgalF1ZXJ5LmV4cGFuZG8gXSA/XG5cdFx0XHRldmVudCA6XG5cdFx0XHRuZXcgalF1ZXJ5LkV2ZW50KCB0eXBlLCB0eXBlb2YgZXZlbnQgPT09IFwib2JqZWN0XCIgJiYgZXZlbnQgKTtcblxuXHRcdC8vIFRyaWdnZXIgYml0bWFzazogJiAxIGZvciBuYXRpdmUgaGFuZGxlcnM7ICYgMiBmb3IgalF1ZXJ5IChhbHdheXMgdHJ1ZSlcblx0XHRldmVudC5pc1RyaWdnZXIgPSBvbmx5SGFuZGxlcnMgPyAyIDogMztcblx0XHRldmVudC5uYW1lc3BhY2UgPSBuYW1lc3BhY2VzLmpvaW4oXCIuXCIpO1xuXHRcdGV2ZW50Lm5hbWVzcGFjZV9yZSA9IGV2ZW50Lm5hbWVzcGFjZSA/XG5cdFx0XHRuZXcgUmVnRXhwKCBcIihefFxcXFwuKVwiICsgbmFtZXNwYWNlcy5qb2luKFwiXFxcXC4oPzouKlxcXFwufClcIikgKyBcIihcXFxcLnwkKVwiICkgOlxuXHRcdFx0bnVsbDtcblxuXHRcdC8vIENsZWFuIHVwIHRoZSBldmVudCBpbiBjYXNlIGl0IGlzIGJlaW5nIHJldXNlZFxuXHRcdGV2ZW50LnJlc3VsdCA9IHVuZGVmaW5lZDtcblx0XHRpZiAoICFldmVudC50YXJnZXQgKSB7XG5cdFx0XHRldmVudC50YXJnZXQgPSBlbGVtO1xuXHRcdH1cblxuXHRcdC8vIENsb25lIGFueSBpbmNvbWluZyBkYXRhIGFuZCBwcmVwZW5kIHRoZSBldmVudCwgY3JlYXRpbmcgdGhlIGhhbmRsZXIgYXJnIGxpc3Rcblx0XHRkYXRhID0gZGF0YSA9PSBudWxsID9cblx0XHRcdFsgZXZlbnQgXSA6XG5cdFx0XHRqUXVlcnkubWFrZUFycmF5KCBkYXRhLCBbIGV2ZW50IF0gKTtcblxuXHRcdC8vIEFsbG93IHNwZWNpYWwgZXZlbnRzIHRvIGRyYXcgb3V0c2lkZSB0aGUgbGluZXNcblx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgc3BlY2lhbC50cmlnZ2VyICYmIHNwZWNpYWwudHJpZ2dlci5hcHBseSggZWxlbSwgZGF0YSApID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBEZXRlcm1pbmUgZXZlbnQgcHJvcGFnYXRpb24gcGF0aCBpbiBhZHZhbmNlLCBwZXIgVzNDIGV2ZW50cyBzcGVjICgjOTk1MSlcblx0XHQvLyBCdWJibGUgdXAgdG8gZG9jdW1lbnQsIHRoZW4gdG8gd2luZG93OyB3YXRjaCBmb3IgYSBnbG9iYWwgb3duZXJEb2N1bWVudCB2YXIgKCM5NzI0KVxuXHRcdGlmICggIW9ubHlIYW5kbGVycyAmJiAhc3BlY2lhbC5ub0J1YmJsZSAmJiAhalF1ZXJ5LmlzV2luZG93KCBlbGVtICkgKSB7XG5cblx0XHRcdGJ1YmJsZVR5cGUgPSBzcGVjaWFsLmRlbGVnYXRlVHlwZSB8fCB0eXBlO1xuXHRcdFx0aWYgKCAhcmZvY3VzTW9ycGgudGVzdCggYnViYmxlVHlwZSArIHR5cGUgKSApIHtcblx0XHRcdFx0Y3VyID0gY3VyLnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cdFx0XHRmb3IgKCA7IGN1cjsgY3VyID0gY3VyLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdGV2ZW50UGF0aC5wdXNoKCBjdXIgKTtcblx0XHRcdFx0dG1wID0gY3VyO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBPbmx5IGFkZCB3aW5kb3cgaWYgd2UgZ290IHRvIGRvY3VtZW50IChlLmcuLCBub3QgcGxhaW4gb2JqIG9yIGRldGFjaGVkIERPTSlcblx0XHRcdGlmICggdG1wID09PSAoZWxlbS5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50KSApIHtcblx0XHRcdFx0ZXZlbnRQYXRoLnB1c2goIHRtcC5kZWZhdWx0VmlldyB8fCB0bXAucGFyZW50V2luZG93IHx8IHdpbmRvdyApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEZpcmUgaGFuZGxlcnMgb24gdGhlIGV2ZW50IHBhdGhcblx0XHRpID0gMDtcblx0XHR3aGlsZSAoIChjdXIgPSBldmVudFBhdGhbaSsrXSkgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cblx0XHRcdGV2ZW50LnR5cGUgPSBpID4gMSA/XG5cdFx0XHRcdGJ1YmJsZVR5cGUgOlxuXHRcdFx0XHRzcGVjaWFsLmJpbmRUeXBlIHx8IHR5cGU7XG5cblx0XHRcdC8vIGpRdWVyeSBoYW5kbGVyXG5cdFx0XHRoYW5kbGUgPSAoIGRhdGFfcHJpdi5nZXQoIGN1ciwgXCJldmVudHNcIiApIHx8IHt9IClbIGV2ZW50LnR5cGUgXSAmJiBkYXRhX3ByaXYuZ2V0KCBjdXIsIFwiaGFuZGxlXCIgKTtcblx0XHRcdGlmICggaGFuZGxlICkge1xuXHRcdFx0XHRoYW5kbGUuYXBwbHkoIGN1ciwgZGF0YSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBOYXRpdmUgaGFuZGxlclxuXHRcdFx0aGFuZGxlID0gb250eXBlICYmIGN1clsgb250eXBlIF07XG5cdFx0XHRpZiAoIGhhbmRsZSAmJiBoYW5kbGUuYXBwbHkgJiYgalF1ZXJ5LmFjY2VwdERhdGEoIGN1ciApICkge1xuXHRcdFx0XHRldmVudC5yZXN1bHQgPSBoYW5kbGUuYXBwbHkoIGN1ciwgZGF0YSApO1xuXHRcdFx0XHRpZiAoIGV2ZW50LnJlc3VsdCA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRldmVudC50eXBlID0gdHlwZTtcblxuXHRcdC8vIElmIG5vYm9keSBwcmV2ZW50ZWQgdGhlIGRlZmF1bHQgYWN0aW9uLCBkbyBpdCBub3dcblx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgIWV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICkge1xuXG5cdFx0XHRpZiAoICghc3BlY2lhbC5fZGVmYXVsdCB8fCBzcGVjaWFsLl9kZWZhdWx0LmFwcGx5KCBldmVudFBhdGgucG9wKCksIGRhdGEgKSA9PT0gZmFsc2UpICYmXG5cdFx0XHRcdGpRdWVyeS5hY2NlcHREYXRhKCBlbGVtICkgKSB7XG5cblx0XHRcdFx0Ly8gQ2FsbCBhIG5hdGl2ZSBET00gbWV0aG9kIG9uIHRoZSB0YXJnZXQgd2l0aCB0aGUgc2FtZSBuYW1lIG5hbWUgYXMgdGhlIGV2ZW50LlxuXHRcdFx0XHQvLyBEb24ndCBkbyBkZWZhdWx0IGFjdGlvbnMgb24gd2luZG93LCB0aGF0J3Mgd2hlcmUgZ2xvYmFsIHZhcmlhYmxlcyBiZSAoIzYxNzApXG5cdFx0XHRcdGlmICggb250eXBlICYmIGpRdWVyeS5pc0Z1bmN0aW9uKCBlbGVtWyB0eXBlIF0gKSAmJiAhalF1ZXJ5LmlzV2luZG93KCBlbGVtICkgKSB7XG5cblx0XHRcdFx0XHQvLyBEb24ndCByZS10cmlnZ2VyIGFuIG9uRk9PIGV2ZW50IHdoZW4gd2UgY2FsbCBpdHMgRk9PKCkgbWV0aG9kXG5cdFx0XHRcdFx0dG1wID0gZWxlbVsgb250eXBlIF07XG5cblx0XHRcdFx0XHRpZiAoIHRtcCApIHtcblx0XHRcdFx0XHRcdGVsZW1bIG9udHlwZSBdID0gbnVsbDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBQcmV2ZW50IHJlLXRyaWdnZXJpbmcgb2YgdGhlIHNhbWUgZXZlbnQsIHNpbmNlIHdlIGFscmVhZHkgYnViYmxlZCBpdCBhYm92ZVxuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB0eXBlO1xuXHRcdFx0XHRcdGVsZW1bIHR5cGUgXSgpO1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoIHRtcCApIHtcblx0XHRcdFx0XHRcdGVsZW1bIG9udHlwZSBdID0gdG1wO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBldmVudC5yZXN1bHQ7XG5cdH0sXG5cblx0ZGlzcGF0Y2g6IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdC8vIE1ha2UgYSB3cml0YWJsZSBqUXVlcnkuRXZlbnQgZnJvbSB0aGUgbmF0aXZlIGV2ZW50IG9iamVjdFxuXHRcdGV2ZW50ID0galF1ZXJ5LmV2ZW50LmZpeCggZXZlbnQgKTtcblxuXHRcdHZhciBpLCBqLCByZXQsIG1hdGNoZWQsIGhhbmRsZU9iaixcblx0XHRcdGhhbmRsZXJRdWV1ZSA9IFtdLFxuXHRcdFx0YXJncyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApLFxuXHRcdFx0aGFuZGxlcnMgPSAoIGRhdGFfcHJpdi5nZXQoIHRoaXMsIFwiZXZlbnRzXCIgKSB8fCB7fSApWyBldmVudC50eXBlIF0gfHwgW10sXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGV2ZW50LnR5cGUgXSB8fCB7fTtcblxuXHRcdC8vIFVzZSB0aGUgZml4LWVkIGpRdWVyeS5FdmVudCByYXRoZXIgdGhhbiB0aGUgKHJlYWQtb25seSkgbmF0aXZlIGV2ZW50XG5cdFx0YXJnc1swXSA9IGV2ZW50O1xuXHRcdGV2ZW50LmRlbGVnYXRlVGFyZ2V0ID0gdGhpcztcblxuXHRcdC8vIENhbGwgdGhlIHByZURpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZSwgYW5kIGxldCBpdCBiYWlsIGlmIGRlc2lyZWRcblx0XHRpZiAoIHNwZWNpYWwucHJlRGlzcGF0Y2ggJiYgc3BlY2lhbC5wcmVEaXNwYXRjaC5jYWxsKCB0aGlzLCBldmVudCApID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBEZXRlcm1pbmUgaGFuZGxlcnNcblx0XHRoYW5kbGVyUXVldWUgPSBqUXVlcnkuZXZlbnQuaGFuZGxlcnMuY2FsbCggdGhpcywgZXZlbnQsIGhhbmRsZXJzICk7XG5cblx0XHQvLyBSdW4gZGVsZWdhdGVzIGZpcnN0OyB0aGV5IG1heSB3YW50IHRvIHN0b3AgcHJvcGFnYXRpb24gYmVuZWF0aCB1c1xuXHRcdGkgPSAwO1xuXHRcdHdoaWxlICggKG1hdGNoZWQgPSBoYW5kbGVyUXVldWVbIGkrKyBdKSAmJiAhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblx0XHRcdGV2ZW50LmN1cnJlbnRUYXJnZXQgPSBtYXRjaGVkLmVsZW07XG5cblx0XHRcdGogPSAwO1xuXHRcdFx0d2hpbGUgKCAoaGFuZGxlT2JqID0gbWF0Y2hlZC5oYW5kbGVyc1sgaisrIF0pICYmICFldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXG5cdFx0XHRcdC8vIFRyaWdnZXJlZCBldmVudCBtdXN0IGVpdGhlciAxKSBoYXZlIG5vIG5hbWVzcGFjZSwgb3Jcblx0XHRcdFx0Ly8gMikgaGF2ZSBuYW1lc3BhY2UocykgYSBzdWJzZXQgb3IgZXF1YWwgdG8gdGhvc2UgaW4gdGhlIGJvdW5kIGV2ZW50IChib3RoIGNhbiBoYXZlIG5vIG5hbWVzcGFjZSkuXG5cdFx0XHRcdGlmICggIWV2ZW50Lm5hbWVzcGFjZV9yZSB8fCBldmVudC5uYW1lc3BhY2VfcmUudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkge1xuXG5cdFx0XHRcdFx0ZXZlbnQuaGFuZGxlT2JqID0gaGFuZGxlT2JqO1xuXHRcdFx0XHRcdGV2ZW50LmRhdGEgPSBoYW5kbGVPYmouZGF0YTtcblxuXHRcdFx0XHRcdHJldCA9ICggKGpRdWVyeS5ldmVudC5zcGVjaWFsWyBoYW5kbGVPYmoub3JpZ1R5cGUgXSB8fCB7fSkuaGFuZGxlIHx8IGhhbmRsZU9iai5oYW5kbGVyIClcblx0XHRcdFx0XHRcdFx0LmFwcGx5KCBtYXRjaGVkLmVsZW0sIGFyZ3MgKTtcblxuXHRcdFx0XHRcdGlmICggcmV0ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIChldmVudC5yZXN1bHQgPSByZXQpID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsbCB0aGUgcG9zdERpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZVxuXHRcdGlmICggc3BlY2lhbC5wb3N0RGlzcGF0Y2ggKSB7XG5cdFx0XHRzcGVjaWFsLnBvc3REaXNwYXRjaC5jYWxsKCB0aGlzLCBldmVudCApO1xuXHRcdH1cblxuXHRcdHJldHVybiBldmVudC5yZXN1bHQ7XG5cdH0sXG5cblx0aGFuZGxlcnM6IGZ1bmN0aW9uKCBldmVudCwgaGFuZGxlcnMgKSB7XG5cdFx0dmFyIGksIG1hdGNoZXMsIHNlbCwgaGFuZGxlT2JqLFxuXHRcdFx0aGFuZGxlclF1ZXVlID0gW10sXG5cdFx0XHRkZWxlZ2F0ZUNvdW50ID0gaGFuZGxlcnMuZGVsZWdhdGVDb3VudCxcblx0XHRcdGN1ciA9IGV2ZW50LnRhcmdldDtcblxuXHRcdC8vIEZpbmQgZGVsZWdhdGUgaGFuZGxlcnNcblx0XHQvLyBCbGFjay1ob2xlIFNWRyA8dXNlPiBpbnN0YW5jZSB0cmVlcyAoIzEzMTgwKVxuXHRcdC8vIEF2b2lkIG5vbi1sZWZ0LWNsaWNrIGJ1YmJsaW5nIGluIEZpcmVmb3ggKCMzODYxKVxuXHRcdGlmICggZGVsZWdhdGVDb3VudCAmJiBjdXIubm9kZVR5cGUgJiYgKCFldmVudC5idXR0b24gfHwgZXZlbnQudHlwZSAhPT0gXCJjbGlja1wiKSApIHtcblxuXHRcdFx0Zm9yICggOyBjdXIgIT09IHRoaXM7IGN1ciA9IGN1ci5wYXJlbnROb2RlIHx8IHRoaXMgKSB7XG5cblx0XHRcdFx0Ly8gRG9uJ3QgcHJvY2VzcyBjbGlja3Mgb24gZGlzYWJsZWQgZWxlbWVudHMgKCM2OTExLCAjODE2NSwgIzExMzgyLCAjMTE3NjQpXG5cdFx0XHRcdGlmICggY3VyLmRpc2FibGVkICE9PSB0cnVlIHx8IGV2ZW50LnR5cGUgIT09IFwiY2xpY2tcIiApIHtcblx0XHRcdFx0XHRtYXRjaGVzID0gW107XG5cdFx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBkZWxlZ2F0ZUNvdW50OyBpKysgKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVPYmogPSBoYW5kbGVyc1sgaSBdO1xuXG5cdFx0XHRcdFx0XHQvLyBEb24ndCBjb25mbGljdCB3aXRoIE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAoIzEzMjAzKVxuXHRcdFx0XHRcdFx0c2VsID0gaGFuZGxlT2JqLnNlbGVjdG9yICsgXCIgXCI7XG5cblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlc1sgc2VsIF0gPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdFx0bWF0Y2hlc1sgc2VsIF0gPSBoYW5kbGVPYmoubmVlZHNDb250ZXh0ID9cblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIHNlbCwgdGhpcyApLmluZGV4KCBjdXIgKSA+PSAwIDpcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuZmluZCggc2VsLCB0aGlzLCBudWxsLCBbIGN1ciBdICkubGVuZ3RoO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVzWyBzZWwgXSApIHtcblx0XHRcdFx0XHRcdFx0bWF0Y2hlcy5wdXNoKCBoYW5kbGVPYmogKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCBtYXRjaGVzLmxlbmd0aCApIHtcblx0XHRcdFx0XHRcdGhhbmRsZXJRdWV1ZS5wdXNoKHsgZWxlbTogY3VyLCBoYW5kbGVyczogbWF0Y2hlcyB9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBBZGQgdGhlIHJlbWFpbmluZyAoZGlyZWN0bHktYm91bmQpIGhhbmRsZXJzXG5cdFx0aWYgKCBkZWxlZ2F0ZUNvdW50IDwgaGFuZGxlcnMubGVuZ3RoICkge1xuXHRcdFx0aGFuZGxlclF1ZXVlLnB1c2goeyBlbGVtOiB0aGlzLCBoYW5kbGVyczogaGFuZGxlcnMuc2xpY2UoIGRlbGVnYXRlQ291bnQgKSB9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gaGFuZGxlclF1ZXVlO1xuXHR9LFxuXG5cdC8vIEluY2x1ZGVzIHNvbWUgZXZlbnQgcHJvcHMgc2hhcmVkIGJ5IEtleUV2ZW50IGFuZCBNb3VzZUV2ZW50XG5cdHByb3BzOiBcImFsdEtleSBidWJibGVzIGNhbmNlbGFibGUgY3RybEtleSBjdXJyZW50VGFyZ2V0IGV2ZW50UGhhc2UgbWV0YUtleSByZWxhdGVkVGFyZ2V0IHNoaWZ0S2V5IHRhcmdldCB0aW1lU3RhbXAgdmlldyB3aGljaFwiLnNwbGl0KFwiIFwiKSxcblxuXHRmaXhIb29rczoge30sXG5cblx0a2V5SG9va3M6IHtcblx0XHRwcm9wczogXCJjaGFyIGNoYXJDb2RlIGtleSBrZXlDb2RlXCIuc3BsaXQoXCIgXCIpLFxuXHRcdGZpbHRlcjogZnVuY3Rpb24oIGV2ZW50LCBvcmlnaW5hbCApIHtcblxuXHRcdFx0Ly8gQWRkIHdoaWNoIGZvciBrZXkgZXZlbnRzXG5cdFx0XHRpZiAoIGV2ZW50LndoaWNoID09IG51bGwgKSB7XG5cdFx0XHRcdGV2ZW50LndoaWNoID0gb3JpZ2luYWwuY2hhckNvZGUgIT0gbnVsbCA/IG9yaWdpbmFsLmNoYXJDb2RlIDogb3JpZ2luYWwua2V5Q29kZTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGV2ZW50O1xuXHRcdH1cblx0fSxcblxuXHRtb3VzZUhvb2tzOiB7XG5cdFx0cHJvcHM6IFwiYnV0dG9uIGJ1dHRvbnMgY2xpZW50WCBjbGllbnRZIG9mZnNldFggb2Zmc2V0WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkgdG9FbGVtZW50XCIuc3BsaXQoXCIgXCIpLFxuXHRcdGZpbHRlcjogZnVuY3Rpb24oIGV2ZW50LCBvcmlnaW5hbCApIHtcblx0XHRcdHZhciBldmVudERvYywgZG9jLCBib2R5LFxuXHRcdFx0XHRidXR0b24gPSBvcmlnaW5hbC5idXR0b247XG5cblx0XHRcdC8vIENhbGN1bGF0ZSBwYWdlWC9ZIGlmIG1pc3NpbmcgYW5kIGNsaWVudFgvWSBhdmFpbGFibGVcblx0XHRcdGlmICggZXZlbnQucGFnZVggPT0gbnVsbCAmJiBvcmlnaW5hbC5jbGllbnRYICE9IG51bGwgKSB7XG5cdFx0XHRcdGV2ZW50RG9jID0gZXZlbnQudGFyZ2V0Lm93bmVyRG9jdW1lbnQgfHwgZG9jdW1lbnQ7XG5cdFx0XHRcdGRvYyA9IGV2ZW50RG9jLmRvY3VtZW50RWxlbWVudDtcblx0XHRcdFx0Ym9keSA9IGV2ZW50RG9jLmJvZHk7XG5cblx0XHRcdFx0ZXZlbnQucGFnZVggPSBvcmlnaW5hbC5jbGllbnRYICsgKCBkb2MgJiYgZG9jLnNjcm9sbExlZnQgfHwgYm9keSAmJiBib2R5LnNjcm9sbExlZnQgfHwgMCApIC0gKCBkb2MgJiYgZG9jLmNsaWVudExlZnQgfHwgYm9keSAmJiBib2R5LmNsaWVudExlZnQgfHwgMCApO1xuXHRcdFx0XHRldmVudC5wYWdlWSA9IG9yaWdpbmFsLmNsaWVudFkgKyAoIGRvYyAmJiBkb2Muc2Nyb2xsVG9wICB8fCBib2R5ICYmIGJvZHkuc2Nyb2xsVG9wICB8fCAwICkgLSAoIGRvYyAmJiBkb2MuY2xpZW50VG9wICB8fCBib2R5ICYmIGJvZHkuY2xpZW50VG9wICB8fCAwICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCB3aGljaCBmb3IgY2xpY2s6IDEgPT09IGxlZnQ7IDIgPT09IG1pZGRsZTsgMyA9PT0gcmlnaHRcblx0XHRcdC8vIE5vdGU6IGJ1dHRvbiBpcyBub3Qgbm9ybWFsaXplZCwgc28gZG9uJ3QgdXNlIGl0XG5cdFx0XHRpZiAoICFldmVudC53aGljaCAmJiBidXR0b24gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0ZXZlbnQud2hpY2ggPSAoIGJ1dHRvbiAmIDEgPyAxIDogKCBidXR0b24gJiAyID8gMyA6ICggYnV0dG9uICYgNCA/IDIgOiAwICkgKSApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZXZlbnQ7XG5cdFx0fVxuXHR9LFxuXG5cdGZpeDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdGlmICggZXZlbnRbIGpRdWVyeS5leHBhbmRvIF0gKSB7XG5cdFx0XHRyZXR1cm4gZXZlbnQ7XG5cdFx0fVxuXG5cdFx0Ly8gQ3JlYXRlIGEgd3JpdGFibGUgY29weSBvZiB0aGUgZXZlbnQgb2JqZWN0IGFuZCBub3JtYWxpemUgc29tZSBwcm9wZXJ0aWVzXG5cdFx0dmFyIGksIHByb3AsIGNvcHksXG5cdFx0XHR0eXBlID0gZXZlbnQudHlwZSxcblx0XHRcdG9yaWdpbmFsRXZlbnQgPSBldmVudCxcblx0XHRcdGZpeEhvb2sgPSB0aGlzLmZpeEhvb2tzWyB0eXBlIF07XG5cblx0XHRpZiAoICFmaXhIb29rICkge1xuXHRcdFx0dGhpcy5maXhIb29rc1sgdHlwZSBdID0gZml4SG9vayA9XG5cdFx0XHRcdHJtb3VzZUV2ZW50LnRlc3QoIHR5cGUgKSA/IHRoaXMubW91c2VIb29rcyA6XG5cdFx0XHRcdHJrZXlFdmVudC50ZXN0KCB0eXBlICkgPyB0aGlzLmtleUhvb2tzIDpcblx0XHRcdFx0e307XG5cdFx0fVxuXHRcdGNvcHkgPSBmaXhIb29rLnByb3BzID8gdGhpcy5wcm9wcy5jb25jYXQoIGZpeEhvb2sucHJvcHMgKSA6IHRoaXMucHJvcHM7XG5cblx0XHRldmVudCA9IG5ldyBqUXVlcnkuRXZlbnQoIG9yaWdpbmFsRXZlbnQgKTtcblxuXHRcdGkgPSBjb3B5Lmxlbmd0aDtcblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdHByb3AgPSBjb3B5WyBpIF07XG5cdFx0XHRldmVudFsgcHJvcCBdID0gb3JpZ2luYWxFdmVudFsgcHJvcCBdO1xuXHRcdH1cblxuXHRcdC8vIFN1cHBvcnQ6IENvcmRvdmEgMi41IChXZWJLaXQpICgjMTMyNTUpXG5cdFx0Ly8gQWxsIGV2ZW50cyBzaG91bGQgaGF2ZSBhIHRhcmdldDsgQ29yZG92YSBkZXZpY2VyZWFkeSBkb2Vzbid0XG5cdFx0aWYgKCAhZXZlbnQudGFyZ2V0ICkge1xuXHRcdFx0ZXZlbnQudGFyZ2V0ID0gZG9jdW1lbnQ7XG5cdFx0fVxuXG5cdFx0Ly8gU3VwcG9ydDogU2FmYXJpIDYuMCssIENocm9tZSA8IDI4XG5cdFx0Ly8gVGFyZ2V0IHNob3VsZCBub3QgYmUgYSB0ZXh0IG5vZGUgKCM1MDQsICMxMzE0Mylcblx0XHRpZiAoIGV2ZW50LnRhcmdldC5ub2RlVHlwZSA9PT0gMyApIHtcblx0XHRcdGV2ZW50LnRhcmdldCA9IGV2ZW50LnRhcmdldC5wYXJlbnROb2RlO1xuXHRcdH1cblxuXHRcdHJldHVybiBmaXhIb29rLmZpbHRlciA/IGZpeEhvb2suZmlsdGVyKCBldmVudCwgb3JpZ2luYWxFdmVudCApIDogZXZlbnQ7XG5cdH0sXG5cblx0c3BlY2lhbDoge1xuXHRcdGxvYWQ6IHtcblx0XHRcdC8vIFByZXZlbnQgdHJpZ2dlcmVkIGltYWdlLmxvYWQgZXZlbnRzIGZyb20gYnViYmxpbmcgdG8gd2luZG93LmxvYWRcblx0XHRcdG5vQnViYmxlOiB0cnVlXG5cdFx0fSxcblx0XHRmb2N1czoge1xuXHRcdFx0Ly8gRmlyZSBuYXRpdmUgZXZlbnQgaWYgcG9zc2libGUgc28gYmx1ci9mb2N1cyBzZXF1ZW5jZSBpcyBjb3JyZWN0XG5cdFx0XHR0cmlnZ2VyOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCB0aGlzICE9PSBzYWZlQWN0aXZlRWxlbWVudCgpICYmIHRoaXMuZm9jdXMgKSB7XG5cdFx0XHRcdFx0dGhpcy5mb2N1cygpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGRlbGVnYXRlVHlwZTogXCJmb2N1c2luXCJcblx0XHR9LFxuXHRcdGJsdXI6IHtcblx0XHRcdHRyaWdnZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIHRoaXMgPT09IHNhZmVBY3RpdmVFbGVtZW50KCkgJiYgdGhpcy5ibHVyICkge1xuXHRcdFx0XHRcdHRoaXMuYmx1cigpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGRlbGVnYXRlVHlwZTogXCJmb2N1c291dFwiXG5cdFx0fSxcblx0XHRjbGljazoge1xuXHRcdFx0Ly8gRm9yIGNoZWNrYm94LCBmaXJlIG5hdGl2ZSBldmVudCBzbyBjaGVja2VkIHN0YXRlIHdpbGwgYmUgcmlnaHRcblx0XHRcdHRyaWdnZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIHRoaXMudHlwZSA9PT0gXCJjaGVja2JveFwiICYmIHRoaXMuY2xpY2sgJiYgalF1ZXJ5Lm5vZGVOYW1lKCB0aGlzLCBcImlucHV0XCIgKSApIHtcblx0XHRcdFx0XHR0aGlzLmNsaWNrKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBGb3IgY3Jvc3MtYnJvd3NlciBjb25zaXN0ZW5jeSwgZG9uJ3QgZmlyZSBuYXRpdmUgLmNsaWNrKCkgb24gbGlua3Ncblx0XHRcdF9kZWZhdWx0OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdHJldHVybiBqUXVlcnkubm9kZU5hbWUoIGV2ZW50LnRhcmdldCwgXCJhXCIgKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0YmVmb3JldW5sb2FkOiB7XG5cdFx0XHRwb3N0RGlzcGF0Y2g6IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDIwK1xuXHRcdFx0XHQvLyBGaXJlZm94IGRvZXNuJ3QgYWxlcnQgaWYgdGhlIHJldHVyblZhbHVlIGZpZWxkIGlzIG5vdCBzZXQuXG5cdFx0XHRcdGlmICggZXZlbnQucmVzdWx0ICE9PSB1bmRlZmluZWQgJiYgZXZlbnQub3JpZ2luYWxFdmVudCApIHtcblx0XHRcdFx0XHRldmVudC5vcmlnaW5hbEV2ZW50LnJldHVyblZhbHVlID0gZXZlbnQucmVzdWx0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdHNpbXVsYXRlOiBmdW5jdGlvbiggdHlwZSwgZWxlbSwgZXZlbnQsIGJ1YmJsZSApIHtcblx0XHQvLyBQaWdneWJhY2sgb24gYSBkb25vciBldmVudCB0byBzaW11bGF0ZSBhIGRpZmZlcmVudCBvbmUuXG5cdFx0Ly8gRmFrZSBvcmlnaW5hbEV2ZW50IHRvIGF2b2lkIGRvbm9yJ3Mgc3RvcFByb3BhZ2F0aW9uLCBidXQgaWYgdGhlXG5cdFx0Ly8gc2ltdWxhdGVkIGV2ZW50IHByZXZlbnRzIGRlZmF1bHQgdGhlbiB3ZSBkbyB0aGUgc2FtZSBvbiB0aGUgZG9ub3IuXG5cdFx0dmFyIGUgPSBqUXVlcnkuZXh0ZW5kKFxuXHRcdFx0bmV3IGpRdWVyeS5FdmVudCgpLFxuXHRcdFx0ZXZlbnQsXG5cdFx0XHR7XG5cdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdGlzU2ltdWxhdGVkOiB0cnVlLFxuXHRcdFx0XHRvcmlnaW5hbEV2ZW50OiB7fVxuXHRcdFx0fVxuXHRcdCk7XG5cdFx0aWYgKCBidWJibGUgKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggZSwgbnVsbCwgZWxlbSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQuZGlzcGF0Y2guY2FsbCggZWxlbSwgZSApO1xuXHRcdH1cblx0XHRpZiAoIGUuaXNEZWZhdWx0UHJldmVudGVkKCkgKSB7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblx0fVxufTtcblxualF1ZXJ5LnJlbW92ZUV2ZW50ID0gZnVuY3Rpb24oIGVsZW0sIHR5cGUsIGhhbmRsZSApIHtcblx0aWYgKCBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIgKSB7XG5cdFx0ZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCB0eXBlLCBoYW5kbGUsIGZhbHNlICk7XG5cdH1cbn07XG5cbmpRdWVyeS5FdmVudCA9IGZ1bmN0aW9uKCBzcmMsIHByb3BzICkge1xuXHQvLyBBbGxvdyBpbnN0YW50aWF0aW9uIHdpdGhvdXQgdGhlICduZXcnIGtleXdvcmRcblx0aWYgKCAhKHRoaXMgaW5zdGFuY2VvZiBqUXVlcnkuRXZlbnQpICkge1xuXHRcdHJldHVybiBuZXcgalF1ZXJ5LkV2ZW50KCBzcmMsIHByb3BzICk7XG5cdH1cblxuXHQvLyBFdmVudCBvYmplY3Rcblx0aWYgKCBzcmMgJiYgc3JjLnR5cGUgKSB7XG5cdFx0dGhpcy5vcmlnaW5hbEV2ZW50ID0gc3JjO1xuXHRcdHRoaXMudHlwZSA9IHNyYy50eXBlO1xuXG5cdFx0Ly8gRXZlbnRzIGJ1YmJsaW5nIHVwIHRoZSBkb2N1bWVudCBtYXkgaGF2ZSBiZWVuIG1hcmtlZCBhcyBwcmV2ZW50ZWRcblx0XHQvLyBieSBhIGhhbmRsZXIgbG93ZXIgZG93biB0aGUgdHJlZTsgcmVmbGVjdCB0aGUgY29ycmVjdCB2YWx1ZS5cblx0XHR0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IHNyYy5kZWZhdWx0UHJldmVudGVkIHx8XG5cdFx0XHRcdHNyYy5kZWZhdWx0UHJldmVudGVkID09PSB1bmRlZmluZWQgJiZcblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8IDQuMFxuXHRcdFx0XHRzcmMucmV0dXJuVmFsdWUgPT09IGZhbHNlID9cblx0XHRcdHJldHVyblRydWUgOlxuXHRcdFx0cmV0dXJuRmFsc2U7XG5cblx0Ly8gRXZlbnQgdHlwZVxuXHR9IGVsc2Uge1xuXHRcdHRoaXMudHlwZSA9IHNyYztcblx0fVxuXG5cdC8vIFB1dCBleHBsaWNpdGx5IHByb3ZpZGVkIHByb3BlcnRpZXMgb250byB0aGUgZXZlbnQgb2JqZWN0XG5cdGlmICggcHJvcHMgKSB7XG5cdFx0alF1ZXJ5LmV4dGVuZCggdGhpcywgcHJvcHMgKTtcblx0fVxuXG5cdC8vIENyZWF0ZSBhIHRpbWVzdGFtcCBpZiBpbmNvbWluZyBldmVudCBkb2Vzbid0IGhhdmUgb25lXG5cdHRoaXMudGltZVN0YW1wID0gc3JjICYmIHNyYy50aW1lU3RhbXAgfHwgalF1ZXJ5Lm5vdygpO1xuXG5cdC8vIE1hcmsgaXQgYXMgZml4ZWRcblx0dGhpc1sgalF1ZXJ5LmV4cGFuZG8gXSA9IHRydWU7XG59O1xuXG4vLyBqUXVlcnkuRXZlbnQgaXMgYmFzZWQgb24gRE9NMyBFdmVudHMgYXMgc3BlY2lmaWVkIGJ5IHRoZSBFQ01BU2NyaXB0IExhbmd1YWdlIEJpbmRpbmdcbi8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDMvV0QtRE9NLUxldmVsLTMtRXZlbnRzLTIwMDMwMzMxL2VjbWEtc2NyaXB0LWJpbmRpbmcuaHRtbFxualF1ZXJ5LkV2ZW50LnByb3RvdHlwZSA9IHtcblx0aXNEZWZhdWx0UHJldmVudGVkOiByZXR1cm5GYWxzZSxcblx0aXNQcm9wYWdhdGlvblN0b3BwZWQ6IHJldHVybkZhbHNlLFxuXHRpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDogcmV0dXJuRmFsc2UsXG5cblx0cHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuXG5cdFx0dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSByZXR1cm5UcnVlO1xuXG5cdFx0aWYgKCBlICYmIGUucHJldmVudERlZmF1bHQgKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXHR9LFxuXHRzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuXG5cdFx0dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XG5cblx0XHRpZiAoIGUgJiYgZS5zdG9wUHJvcGFnYXRpb24gKSB7XG5cdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdH1cblx0fSxcblx0c3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblxuXHRcdHRoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlO1xuXG5cdFx0aWYgKCBlICYmIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uICkge1xuXHRcdFx0ZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0XHR9XG5cblx0XHR0aGlzLnN0b3BQcm9wYWdhdGlvbigpO1xuXHR9XG59O1xuXG4vLyBDcmVhdGUgbW91c2VlbnRlci9sZWF2ZSBldmVudHMgdXNpbmcgbW91c2VvdmVyL291dCBhbmQgZXZlbnQtdGltZSBjaGVja3Ncbi8vIFN1cHBvcnQ6IENocm9tZSAxNStcbmpRdWVyeS5lYWNoKHtcblx0bW91c2VlbnRlcjogXCJtb3VzZW92ZXJcIixcblx0bW91c2VsZWF2ZTogXCJtb3VzZW91dFwiLFxuXHRwb2ludGVyZW50ZXI6IFwicG9pbnRlcm92ZXJcIixcblx0cG9pbnRlcmxlYXZlOiBcInBvaW50ZXJvdXRcIlxufSwgZnVuY3Rpb24oIG9yaWcsIGZpeCApIHtcblx0alF1ZXJ5LmV2ZW50LnNwZWNpYWxbIG9yaWcgXSA9IHtcblx0XHRkZWxlZ2F0ZVR5cGU6IGZpeCxcblx0XHRiaW5kVHlwZTogZml4LFxuXG5cdFx0aGFuZGxlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHR2YXIgcmV0LFxuXHRcdFx0XHR0YXJnZXQgPSB0aGlzLFxuXHRcdFx0XHRyZWxhdGVkID0gZXZlbnQucmVsYXRlZFRhcmdldCxcblx0XHRcdFx0aGFuZGxlT2JqID0gZXZlbnQuaGFuZGxlT2JqO1xuXG5cdFx0XHQvLyBGb3IgbW91c2VudGVyL2xlYXZlIGNhbGwgdGhlIGhhbmRsZXIgaWYgcmVsYXRlZCBpcyBvdXRzaWRlIHRoZSB0YXJnZXQuXG5cdFx0XHQvLyBOQjogTm8gcmVsYXRlZFRhcmdldCBpZiB0aGUgbW91c2UgbGVmdC9lbnRlcmVkIHRoZSBicm93c2VyIHdpbmRvd1xuXHRcdFx0aWYgKCAhcmVsYXRlZCB8fCAocmVsYXRlZCAhPT0gdGFyZ2V0ICYmICFqUXVlcnkuY29udGFpbnMoIHRhcmdldCwgcmVsYXRlZCApKSApIHtcblx0XHRcdFx0ZXZlbnQudHlwZSA9IGhhbmRsZU9iai5vcmlnVHlwZTtcblx0XHRcdFx0cmV0ID0gaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRldmVudC50eXBlID0gZml4O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9XG5cdH07XG59KTtcblxuLy8gQ3JlYXRlIFwiYnViYmxpbmdcIiBmb2N1cyBhbmQgYmx1ciBldmVudHNcbi8vIFN1cHBvcnQ6IEZpcmVmb3gsIENocm9tZSwgU2FmYXJpXG5pZiAoICFzdXBwb3J0LmZvY3VzaW5CdWJibGVzICkge1xuXHRqUXVlcnkuZWFjaCh7IGZvY3VzOiBcImZvY3VzaW5cIiwgYmx1cjogXCJmb2N1c291dFwiIH0sIGZ1bmN0aW9uKCBvcmlnLCBmaXggKSB7XG5cblx0XHQvLyBBdHRhY2ggYSBzaW5nbGUgY2FwdHVyaW5nIGhhbmRsZXIgb24gdGhlIGRvY3VtZW50IHdoaWxlIHNvbWVvbmUgd2FudHMgZm9jdXNpbi9mb2N1c291dFxuXHRcdHZhciBoYW5kbGVyID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRqUXVlcnkuZXZlbnQuc2ltdWxhdGUoIGZpeCwgZXZlbnQudGFyZ2V0LCBqUXVlcnkuZXZlbnQuZml4KCBldmVudCApLCB0cnVlICk7XG5cdFx0XHR9O1xuXG5cdFx0alF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGZpeCBdID0ge1xuXHRcdFx0c2V0dXA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZG9jID0gdGhpcy5vd25lckRvY3VtZW50IHx8IHRoaXMsXG5cdFx0XHRcdFx0YXR0YWNoZXMgPSBkYXRhX3ByaXYuYWNjZXNzKCBkb2MsIGZpeCApO1xuXG5cdFx0XHRcdGlmICggIWF0dGFjaGVzICkge1xuXHRcdFx0XHRcdGRvYy5hZGRFdmVudExpc3RlbmVyKCBvcmlnLCBoYW5kbGVyLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZGF0YV9wcml2LmFjY2VzcyggZG9jLCBmaXgsICggYXR0YWNoZXMgfHwgMCApICsgMSApO1xuXHRcdFx0fSxcblx0XHRcdHRlYXJkb3duOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGRvYyA9IHRoaXMub3duZXJEb2N1bWVudCB8fCB0aGlzLFxuXHRcdFx0XHRcdGF0dGFjaGVzID0gZGF0YV9wcml2LmFjY2VzcyggZG9jLCBmaXggKSAtIDE7XG5cblx0XHRcdFx0aWYgKCAhYXR0YWNoZXMgKSB7XG5cdFx0XHRcdFx0ZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoIG9yaWcsIGhhbmRsZXIsIHRydWUgKTtcblx0XHRcdFx0XHRkYXRhX3ByaXYucmVtb3ZlKCBkb2MsIGZpeCApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGF0YV9wcml2LmFjY2VzcyggZG9jLCBmaXgsIGF0dGFjaGVzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9KTtcbn1cblxualF1ZXJ5LmZuLmV4dGVuZCh7XG5cblx0b246IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuLCAvKklOVEVSTkFMKi8gb25lICkge1xuXHRcdHZhciBvcmlnRm4sIHR5cGU7XG5cblx0XHQvLyBUeXBlcyBjYW4gYmUgYSBtYXAgb2YgdHlwZXMvaGFuZGxlcnNcblx0XHRpZiAoIHR5cGVvZiB0eXBlcyA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRcdC8vICggdHlwZXMtT2JqZWN0LCBzZWxlY3RvciwgZGF0YSApXG5cdFx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0Ly8gKCB0eXBlcy1PYmplY3QsIGRhdGEgKVxuXHRcdFx0XHRkYXRhID0gZGF0YSB8fCBzZWxlY3Rvcjtcblx0XHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cdFx0XHRmb3IgKCB0eXBlIGluIHR5cGVzICkge1xuXHRcdFx0XHR0aGlzLm9uKCB0eXBlLCBzZWxlY3RvciwgZGF0YSwgdHlwZXNbIHR5cGUgXSwgb25lICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cblx0XHRpZiAoIGRhdGEgPT0gbnVsbCAmJiBmbiA9PSBudWxsICkge1xuXHRcdFx0Ly8gKCB0eXBlcywgZm4gKVxuXHRcdFx0Zm4gPSBzZWxlY3Rvcjtcblx0XHRcdGRhdGEgPSBzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XHR9IGVsc2UgaWYgKCBmbiA9PSBudWxsICkge1xuXHRcdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdC8vICggdHlwZXMsIHNlbGVjdG9yLCBmbiApXG5cdFx0XHRcdGZuID0gZGF0YTtcblx0XHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vICggdHlwZXMsIGRhdGEsIGZuIClcblx0XHRcdFx0Zm4gPSBkYXRhO1xuXHRcdFx0XHRkYXRhID0gc2VsZWN0b3I7XG5cdFx0XHRcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoIGZuID09PSBmYWxzZSApIHtcblx0XHRcdGZuID0gcmV0dXJuRmFsc2U7XG5cdFx0fSBlbHNlIGlmICggIWZuICkge1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKCBvbmUgPT09IDEgKSB7XG5cdFx0XHRvcmlnRm4gPSBmbjtcblx0XHRcdGZuID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHQvLyBDYW4gdXNlIGFuIGVtcHR5IHNldCwgc2luY2UgZXZlbnQgY29udGFpbnMgdGhlIGluZm9cblx0XHRcdFx0alF1ZXJ5KCkub2ZmKCBldmVudCApO1xuXHRcdFx0XHRyZXR1cm4gb3JpZ0ZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdH07XG5cdFx0XHQvLyBVc2Ugc2FtZSBndWlkIHNvIGNhbGxlciBjYW4gcmVtb3ZlIHVzaW5nIG9yaWdGblxuXHRcdFx0Zm4uZ3VpZCA9IG9yaWdGbi5ndWlkIHx8ICggb3JpZ0ZuLmd1aWQgPSBqUXVlcnkuZ3VpZCsrICk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LmFkZCggdGhpcywgdHlwZXMsIGZuLCBkYXRhLCBzZWxlY3RvciApO1xuXHRcdH0pO1xuXHR9LFxuXHRvbmU6IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuLCAxICk7XG5cdH0sXG5cdG9mZjogZnVuY3Rpb24oIHR5cGVzLCBzZWxlY3RvciwgZm4gKSB7XG5cdFx0dmFyIGhhbmRsZU9iaiwgdHlwZTtcblx0XHRpZiAoIHR5cGVzICYmIHR5cGVzLnByZXZlbnREZWZhdWx0ICYmIHR5cGVzLmhhbmRsZU9iaiApIHtcblx0XHRcdC8vICggZXZlbnQgKSAgZGlzcGF0Y2hlZCBqUXVlcnkuRXZlbnRcblx0XHRcdGhhbmRsZU9iaiA9IHR5cGVzLmhhbmRsZU9iajtcblx0XHRcdGpRdWVyeSggdHlwZXMuZGVsZWdhdGVUYXJnZXQgKS5vZmYoXG5cdFx0XHRcdGhhbmRsZU9iai5uYW1lc3BhY2UgPyBoYW5kbGVPYmoub3JpZ1R5cGUgKyBcIi5cIiArIGhhbmRsZU9iai5uYW1lc3BhY2UgOiBoYW5kbGVPYmoub3JpZ1R5cGUsXG5cdFx0XHRcdGhhbmRsZU9iai5zZWxlY3Rvcixcblx0XHRcdFx0aGFuZGxlT2JqLmhhbmRsZXJcblx0XHRcdCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdFx0aWYgKCB0eXBlb2YgdHlwZXMgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0XHQvLyAoIHR5cGVzLW9iamVjdCBbLCBzZWxlY3Rvcl0gKVxuXHRcdFx0Zm9yICggdHlwZSBpbiB0eXBlcyApIHtcblx0XHRcdFx0dGhpcy5vZmYoIHR5cGUsIHNlbGVjdG9yLCB0eXBlc1sgdHlwZSBdICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdFx0aWYgKCBzZWxlY3RvciA9PT0gZmFsc2UgfHwgdHlwZW9mIHNlbGVjdG9yID09PSBcImZ1bmN0aW9uXCIgKSB7XG5cdFx0XHQvLyAoIHR5cGVzIFssIGZuXSApXG5cdFx0XHRmbiA9IHNlbGVjdG9yO1xuXHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGlmICggZm4gPT09IGZhbHNlICkge1xuXHRcdFx0Zm4gPSByZXR1cm5GYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIHRoaXMsIHR5cGVzLCBmbiwgc2VsZWN0b3IgKTtcblx0XHR9KTtcblx0fSxcblxuXHR0cmlnZ2VyOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIHRoaXMgKTtcblx0XHR9KTtcblx0fSxcblx0dHJpZ2dlckhhbmRsZXI6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdHZhciBlbGVtID0gdGhpc1swXTtcblx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIGVsZW0sIHRydWUgKTtcblx0XHR9XG5cdH1cbn0pO1xuXG5cbnZhclxuXHRyeGh0bWxUYWcgPSAvPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXFx3Ol0rKVtePl0qKVxcLz4vZ2ksXG5cdHJ0YWdOYW1lID0gLzwoW1xcdzpdKykvLFxuXHRyaHRtbCA9IC88fCYjP1xcdys7Lyxcblx0cm5vSW5uZXJodG1sID0gLzwoPzpzY3JpcHR8c3R5bGV8bGluaykvaSxcblx0Ly8gY2hlY2tlZD1cImNoZWNrZWRcIiBvciBjaGVja2VkXG5cdHJjaGVja2VkID0gL2NoZWNrZWRcXHMqKD86W149XXw9XFxzKi5jaGVja2VkLikvaSxcblx0cnNjcmlwdFR5cGUgPSAvXiR8XFwvKD86amF2YXxlY21hKXNjcmlwdC9pLFxuXHRyc2NyaXB0VHlwZU1hc2tlZCA9IC9edHJ1ZVxcLyguKikvLFxuXHRyY2xlYW5TY3JpcHQgPSAvXlxccyo8ISg/OlxcW0NEQVRBXFxbfC0tKXwoPzpcXF1cXF18LS0pPlxccyokL2csXG5cblx0Ly8gV2UgaGF2ZSB0byBjbG9zZSB0aGVzZSB0YWdzIHRvIHN1cHBvcnQgWEhUTUwgKCMxMzIwMClcblx0d3JhcE1hcCA9IHtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDlcblx0XHRvcHRpb246IFsgMSwgXCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+XCIsIFwiPC9zZWxlY3Q+XCIgXSxcblxuXHRcdHRoZWFkOiBbIDEsIFwiPHRhYmxlPlwiLCBcIjwvdGFibGU+XCIgXSxcblx0XHRjb2w6IFsgMiwgXCI8dGFibGU+PGNvbGdyb3VwPlwiLCBcIjwvY29sZ3JvdXA+PC90YWJsZT5cIiBdLFxuXHRcdHRyOiBbIDIsIFwiPHRhYmxlPjx0Ym9keT5cIiwgXCI8L3Rib2R5PjwvdGFibGU+XCIgXSxcblx0XHR0ZDogWyAzLCBcIjx0YWJsZT48dGJvZHk+PHRyPlwiLCBcIjwvdHI+PC90Ym9keT48L3RhYmxlPlwiIF0sXG5cblx0XHRfZGVmYXVsdDogWyAwLCBcIlwiLCBcIlwiIF1cblx0fTtcblxuLy8gU3VwcG9ydDogSUUgOVxud3JhcE1hcC5vcHRncm91cCA9IHdyYXBNYXAub3B0aW9uO1xuXG53cmFwTWFwLnRib2R5ID0gd3JhcE1hcC50Zm9vdCA9IHdyYXBNYXAuY29sZ3JvdXAgPSB3cmFwTWFwLmNhcHRpb24gPSB3cmFwTWFwLnRoZWFkO1xud3JhcE1hcC50aCA9IHdyYXBNYXAudGQ7XG5cbi8vIFN1cHBvcnQ6IDEueCBjb21wYXRpYmlsaXR5XG4vLyBNYW5pcHVsYXRpbmcgdGFibGVzIHJlcXVpcmVzIGEgdGJvZHlcbmZ1bmN0aW9uIG1hbmlwdWxhdGlvblRhcmdldCggZWxlbSwgY29udGVudCApIHtcblx0cmV0dXJuIGpRdWVyeS5ub2RlTmFtZSggZWxlbSwgXCJ0YWJsZVwiICkgJiZcblx0XHRqUXVlcnkubm9kZU5hbWUoIGNvbnRlbnQubm9kZVR5cGUgIT09IDExID8gY29udGVudCA6IGNvbnRlbnQuZmlyc3RDaGlsZCwgXCJ0clwiICkgP1xuXG5cdFx0ZWxlbS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRib2R5XCIpWzBdIHx8XG5cdFx0XHRlbGVtLmFwcGVuZENoaWxkKCBlbGVtLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRib2R5XCIpICkgOlxuXHRcdGVsZW07XG59XG5cbi8vIFJlcGxhY2UvcmVzdG9yZSB0aGUgdHlwZSBhdHRyaWJ1dGUgb2Ygc2NyaXB0IGVsZW1lbnRzIGZvciBzYWZlIERPTSBtYW5pcHVsYXRpb25cbmZ1bmN0aW9uIGRpc2FibGVTY3JpcHQoIGVsZW0gKSB7XG5cdGVsZW0udHlwZSA9IChlbGVtLmdldEF0dHJpYnV0ZShcInR5cGVcIikgIT09IG51bGwpICsgXCIvXCIgKyBlbGVtLnR5cGU7XG5cdHJldHVybiBlbGVtO1xufVxuZnVuY3Rpb24gcmVzdG9yZVNjcmlwdCggZWxlbSApIHtcblx0dmFyIG1hdGNoID0gcnNjcmlwdFR5cGVNYXNrZWQuZXhlYyggZWxlbS50eXBlICk7XG5cblx0aWYgKCBtYXRjaCApIHtcblx0XHRlbGVtLnR5cGUgPSBtYXRjaFsgMSBdO1xuXHR9IGVsc2Uge1xuXHRcdGVsZW0ucmVtb3ZlQXR0cmlidXRlKFwidHlwZVwiKTtcblx0fVxuXG5cdHJldHVybiBlbGVtO1xufVxuXG4vLyBNYXJrIHNjcmlwdHMgYXMgaGF2aW5nIGFscmVhZHkgYmVlbiBldmFsdWF0ZWRcbmZ1bmN0aW9uIHNldEdsb2JhbEV2YWwoIGVsZW1zLCByZWZFbGVtZW50cyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGwgPSBlbGVtcy5sZW5ndGg7XG5cblx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdGRhdGFfcHJpdi5zZXQoXG5cdFx0XHRlbGVtc1sgaSBdLCBcImdsb2JhbEV2YWxcIiwgIXJlZkVsZW1lbnRzIHx8IGRhdGFfcHJpdi5nZXQoIHJlZkVsZW1lbnRzWyBpIF0sIFwiZ2xvYmFsRXZhbFwiIClcblx0XHQpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNsb25lQ29weUV2ZW50KCBzcmMsIGRlc3QgKSB7XG5cdHZhciBpLCBsLCB0eXBlLCBwZGF0YU9sZCwgcGRhdGFDdXIsIHVkYXRhT2xkLCB1ZGF0YUN1ciwgZXZlbnRzO1xuXG5cdGlmICggZGVzdC5ub2RlVHlwZSAhPT0gMSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyAxLiBDb3B5IHByaXZhdGUgZGF0YTogZXZlbnRzLCBoYW5kbGVycywgZXRjLlxuXHRpZiAoIGRhdGFfcHJpdi5oYXNEYXRhKCBzcmMgKSApIHtcblx0XHRwZGF0YU9sZCA9IGRhdGFfcHJpdi5hY2Nlc3MoIHNyYyApO1xuXHRcdHBkYXRhQ3VyID0gZGF0YV9wcml2LnNldCggZGVzdCwgcGRhdGFPbGQgKTtcblx0XHRldmVudHMgPSBwZGF0YU9sZC5ldmVudHM7XG5cblx0XHRpZiAoIGV2ZW50cyApIHtcblx0XHRcdGRlbGV0ZSBwZGF0YUN1ci5oYW5kbGU7XG5cdFx0XHRwZGF0YUN1ci5ldmVudHMgPSB7fTtcblxuXHRcdFx0Zm9yICggdHlwZSBpbiBldmVudHMgKSB7XG5cdFx0XHRcdGZvciAoIGkgPSAwLCBsID0gZXZlbnRzWyB0eXBlIF0ubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5hZGQoIGRlc3QsIHR5cGUsIGV2ZW50c1sgdHlwZSBdWyBpIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIDIuIENvcHkgdXNlciBkYXRhXG5cdGlmICggZGF0YV91c2VyLmhhc0RhdGEoIHNyYyApICkge1xuXHRcdHVkYXRhT2xkID0gZGF0YV91c2VyLmFjY2Vzcyggc3JjICk7XG5cdFx0dWRhdGFDdXIgPSBqUXVlcnkuZXh0ZW5kKCB7fSwgdWRhdGFPbGQgKTtcblxuXHRcdGRhdGFfdXNlci5zZXQoIGRlc3QsIHVkYXRhQ3VyICk7XG5cdH1cbn1cblxuZnVuY3Rpb24gZ2V0QWxsKCBjb250ZXh0LCB0YWcgKSB7XG5cdHZhciByZXQgPSBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lID8gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnIHx8IFwiKlwiICkgOlxuXHRcdFx0Y29udGV4dC5xdWVyeVNlbGVjdG9yQWxsID8gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCB0YWcgfHwgXCIqXCIgKSA6XG5cdFx0XHRbXTtcblxuXHRyZXR1cm4gdGFnID09PSB1bmRlZmluZWQgfHwgdGFnICYmIGpRdWVyeS5ub2RlTmFtZSggY29udGV4dCwgdGFnICkgP1xuXHRcdGpRdWVyeS5tZXJnZSggWyBjb250ZXh0IF0sIHJldCApIDpcblx0XHRyZXQ7XG59XG5cbi8vIFN1cHBvcnQ6IElFID49IDlcbmZ1bmN0aW9uIGZpeElucHV0KCBzcmMsIGRlc3QgKSB7XG5cdHZhciBub2RlTmFtZSA9IGRlc3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblxuXHQvLyBGYWlscyB0byBwZXJzaXN0IHRoZSBjaGVja2VkIHN0YXRlIG9mIGEgY2xvbmVkIGNoZWNrYm94IG9yIHJhZGlvIGJ1dHRvbi5cblx0aWYgKCBub2RlTmFtZSA9PT0gXCJpbnB1dFwiICYmIHJjaGVja2FibGVUeXBlLnRlc3QoIHNyYy50eXBlICkgKSB7XG5cdFx0ZGVzdC5jaGVja2VkID0gc3JjLmNoZWNrZWQ7XG5cblx0Ly8gRmFpbHMgdG8gcmV0dXJuIHRoZSBzZWxlY3RlZCBvcHRpb24gdG8gdGhlIGRlZmF1bHQgc2VsZWN0ZWQgc3RhdGUgd2hlbiBjbG9uaW5nIG9wdGlvbnNcblx0fSBlbHNlIGlmICggbm9kZU5hbWUgPT09IFwiaW5wdXRcIiB8fCBub2RlTmFtZSA9PT0gXCJ0ZXh0YXJlYVwiICkge1xuXHRcdGRlc3QuZGVmYXVsdFZhbHVlID0gc3JjLmRlZmF1bHRWYWx1ZTtcblx0fVxufVxuXG5qUXVlcnkuZXh0ZW5kKHtcblx0Y2xvbmU6IGZ1bmN0aW9uKCBlbGVtLCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHR2YXIgaSwgbCwgc3JjRWxlbWVudHMsIGRlc3RFbGVtZW50cyxcblx0XHRcdGNsb25lID0gZWxlbS5jbG9uZU5vZGUoIHRydWUgKSxcblx0XHRcdGluUGFnZSA9IGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICk7XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA+PSA5XG5cdFx0Ly8gRml4IENsb25pbmcgaXNzdWVzXG5cdFx0aWYgKCAhc3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCAmJiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgZWxlbS5ub2RlVHlwZSA9PT0gMTEgKSAmJlxuXHRcdFx0XHQhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7XG5cblx0XHRcdC8vIFdlIGVzY2hldyBTaXp6bGUgaGVyZSBmb3IgcGVyZm9ybWFuY2UgcmVhc29uczogaHR0cDovL2pzcGVyZi5jb20vZ2V0YWxsLXZzLXNpenpsZS8yXG5cdFx0XHRkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lICk7XG5cdFx0XHRzcmNFbGVtZW50cyA9IGdldEFsbCggZWxlbSApO1xuXG5cdFx0XHRmb3IgKCBpID0gMCwgbCA9IHNyY0VsZW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0Zml4SW5wdXQoIHNyY0VsZW1lbnRzWyBpIF0sIGRlc3RFbGVtZW50c1sgaSBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ29weSB0aGUgZXZlbnRzIGZyb20gdGhlIG9yaWdpbmFsIHRvIHRoZSBjbG9uZVxuXHRcdGlmICggZGF0YUFuZEV2ZW50cyApIHtcblx0XHRcdGlmICggZGVlcERhdGFBbmRFdmVudHMgKSB7XG5cdFx0XHRcdHNyY0VsZW1lbnRzID0gc3JjRWxlbWVudHMgfHwgZ2V0QWxsKCBlbGVtICk7XG5cdFx0XHRcdGRlc3RFbGVtZW50cyA9IGRlc3RFbGVtZW50cyB8fCBnZXRBbGwoIGNsb25lICk7XG5cblx0XHRcdFx0Zm9yICggaSA9IDAsIGwgPSBzcmNFbGVtZW50cy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0Y2xvbmVDb3B5RXZlbnQoIHNyY0VsZW1lbnRzWyBpIF0sIGRlc3RFbGVtZW50c1sgaSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNsb25lQ29weUV2ZW50KCBlbGVtLCBjbG9uZSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFByZXNlcnZlIHNjcmlwdCBldmFsdWF0aW9uIGhpc3Rvcnlcblx0XHRkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lLCBcInNjcmlwdFwiICk7XG5cdFx0aWYgKCBkZXN0RWxlbWVudHMubGVuZ3RoID4gMCApIHtcblx0XHRcdHNldEdsb2JhbEV2YWwoIGRlc3RFbGVtZW50cywgIWluUGFnZSAmJiBnZXRBbGwoIGVsZW0sIFwic2NyaXB0XCIgKSApO1xuXHRcdH1cblxuXHRcdC8vIFJldHVybiB0aGUgY2xvbmVkIHNldFxuXHRcdHJldHVybiBjbG9uZTtcblx0fSxcblxuXHRidWlsZEZyYWdtZW50OiBmdW5jdGlvbiggZWxlbXMsIGNvbnRleHQsIHNjcmlwdHMsIHNlbGVjdGlvbiApIHtcblx0XHR2YXIgZWxlbSwgdG1wLCB0YWcsIHdyYXAsIGNvbnRhaW5zLCBqLFxuXHRcdFx0ZnJhZ21lbnQgPSBjb250ZXh0LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcblx0XHRcdG5vZGVzID0gW10sXG5cdFx0XHRpID0gMCxcblx0XHRcdGwgPSBlbGVtcy5sZW5ndGg7XG5cblx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRlbGVtID0gZWxlbXNbIGkgXTtcblxuXHRcdFx0aWYgKCBlbGVtIHx8IGVsZW0gPT09IDAgKSB7XG5cblx0XHRcdFx0Ly8gQWRkIG5vZGVzIGRpcmVjdGx5XG5cdFx0XHRcdGlmICggalF1ZXJ5LnR5cGUoIGVsZW0gKSA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBRdFdlYktpdFxuXHRcdFx0XHRcdC8vIGpRdWVyeS5tZXJnZSBiZWNhdXNlIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Ncblx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIG5vZGVzLCBlbGVtLm5vZGVUeXBlID8gWyBlbGVtIF0gOiBlbGVtICk7XG5cblx0XHRcdFx0Ly8gQ29udmVydCBub24taHRtbCBpbnRvIGEgdGV4dCBub2RlXG5cdFx0XHRcdH0gZWxzZSBpZiAoICFyaHRtbC50ZXN0KCBlbGVtICkgKSB7XG5cdFx0XHRcdFx0bm9kZXMucHVzaCggY29udGV4dC5jcmVhdGVUZXh0Tm9kZSggZWxlbSApICk7XG5cblx0XHRcdFx0Ly8gQ29udmVydCBodG1sIGludG8gRE9NIG5vZGVzXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dG1wID0gdG1wIHx8IGZyYWdtZW50LmFwcGVuZENoaWxkKCBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikgKTtcblxuXHRcdFx0XHRcdC8vIERlc2VyaWFsaXplIGEgc3RhbmRhcmQgcmVwcmVzZW50YXRpb25cblx0XHRcdFx0XHR0YWcgPSAoIHJ0YWdOYW1lLmV4ZWMoIGVsZW0gKSB8fCBbIFwiXCIsIFwiXCIgXSApWyAxIF0udG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0XHR3cmFwID0gd3JhcE1hcFsgdGFnIF0gfHwgd3JhcE1hcC5fZGVmYXVsdDtcblx0XHRcdFx0XHR0bXAuaW5uZXJIVE1MID0gd3JhcFsgMSBdICsgZWxlbS5yZXBsYWNlKCByeGh0bWxUYWcsIFwiPCQxPjwvJDI+XCIgKSArIHdyYXBbIDIgXTtcblxuXHRcdFx0XHRcdC8vIERlc2NlbmQgdGhyb3VnaCB3cmFwcGVycyB0byB0aGUgcmlnaHQgY29udGVudFxuXHRcdFx0XHRcdGogPSB3cmFwWyAwIF07XG5cdFx0XHRcdFx0d2hpbGUgKCBqLS0gKSB7XG5cdFx0XHRcdFx0XHR0bXAgPSB0bXAubGFzdENoaWxkO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFF0V2ViS2l0XG5cdFx0XHRcdFx0Ly8galF1ZXJ5Lm1lcmdlIGJlY2F1c2UgcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93c1xuXHRcdFx0XHRcdGpRdWVyeS5tZXJnZSggbm9kZXMsIHRtcC5jaGlsZE5vZGVzICk7XG5cblx0XHRcdFx0XHQvLyBSZW1lbWJlciB0aGUgdG9wLWxldmVsIGNvbnRhaW5lclxuXHRcdFx0XHRcdHRtcCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cblx0XHRcdFx0XHQvLyBGaXhlcyAjMTIzNDZcblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBXZWJraXQsIElFXG5cdFx0XHRcdFx0dG1wLnRleHRDb250ZW50ID0gXCJcIjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFJlbW92ZSB3cmFwcGVyIGZyb20gZnJhZ21lbnRcblx0XHRmcmFnbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG5cblx0XHRpID0gMDtcblx0XHR3aGlsZSAoIChlbGVtID0gbm9kZXNbIGkrKyBdKSApIHtcblxuXHRcdFx0Ly8gIzQwODcgLSBJZiBvcmlnaW4gYW5kIGRlc3RpbmF0aW9uIGVsZW1lbnRzIGFyZSB0aGUgc2FtZSwgYW5kIHRoaXMgaXNcblx0XHRcdC8vIHRoYXQgZWxlbWVudCwgZG8gbm90IGRvIGFueXRoaW5nXG5cdFx0XHRpZiAoIHNlbGVjdGlvbiAmJiBqUXVlcnkuaW5BcnJheSggZWxlbSwgc2VsZWN0aW9uICkgIT09IC0xICkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Y29udGFpbnMgPSBqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApO1xuXG5cdFx0XHQvLyBBcHBlbmQgdG8gZnJhZ21lbnRcblx0XHRcdHRtcCA9IGdldEFsbCggZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGVsZW0gKSwgXCJzY3JpcHRcIiApO1xuXG5cdFx0XHQvLyBQcmVzZXJ2ZSBzY3JpcHQgZXZhbHVhdGlvbiBoaXN0b3J5XG5cdFx0XHRpZiAoIGNvbnRhaW5zICkge1xuXHRcdFx0XHRzZXRHbG9iYWxFdmFsKCB0bXAgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2FwdHVyZSBleGVjdXRhYmxlc1xuXHRcdFx0aWYgKCBzY3JpcHRzICkge1xuXHRcdFx0XHRqID0gMDtcblx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IHRtcFsgaisrIF0pICkge1xuXHRcdFx0XHRcdGlmICggcnNjcmlwdFR5cGUudGVzdCggZWxlbS50eXBlIHx8IFwiXCIgKSApIHtcblx0XHRcdFx0XHRcdHNjcmlwdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmcmFnbWVudDtcblx0fSxcblxuXHRjbGVhbkRhdGE6IGZ1bmN0aW9uKCBlbGVtcyApIHtcblx0XHR2YXIgZGF0YSwgZWxlbSwgdHlwZSwga2V5LFxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRmb3IgKCA7IChlbGVtID0gZWxlbXNbIGkgXSkgIT09IHVuZGVmaW5lZDsgaSsrICkge1xuXHRcdFx0aWYgKCBqUXVlcnkuYWNjZXB0RGF0YSggZWxlbSApICkge1xuXHRcdFx0XHRrZXkgPSBlbGVtWyBkYXRhX3ByaXYuZXhwYW5kbyBdO1xuXG5cdFx0XHRcdGlmICgga2V5ICYmIChkYXRhID0gZGF0YV9wcml2LmNhY2hlWyBrZXkgXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBkYXRhLmV2ZW50cyApIHtcblx0XHRcdFx0XHRcdGZvciAoIHR5cGUgaW4gZGF0YS5ldmVudHMgKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggc3BlY2lhbFsgdHlwZSBdICkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIGVsZW0sIHR5cGUgKTtcblxuXHRcdFx0XHRcdFx0XHQvLyBUaGlzIGlzIGEgc2hvcnRjdXQgdG8gYXZvaWQgalF1ZXJ5LmV2ZW50LnJlbW92ZSdzIG92ZXJoZWFkXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBkYXRhLmhhbmRsZSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggZGF0YV9wcml2LmNhY2hlWyBrZXkgXSApIHtcblx0XHRcdFx0XHRcdC8vIERpc2NhcmQgYW55IHJlbWFpbmluZyBgcHJpdmF0ZWAgZGF0YVxuXHRcdFx0XHRcdFx0ZGVsZXRlIGRhdGFfcHJpdi5jYWNoZVsga2V5IF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHQvLyBEaXNjYXJkIGFueSByZW1haW5pbmcgYHVzZXJgIGRhdGFcblx0XHRcdGRlbGV0ZSBkYXRhX3VzZXIuY2FjaGVbIGVsZW1bIGRhdGFfdXNlci5leHBhbmRvIF0gXTtcblx0XHR9XG5cdH1cbn0pO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKHtcblx0dGV4dDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID9cblx0XHRcdFx0alF1ZXJ5LnRleHQoIHRoaXMgKSA6XG5cdFx0XHRcdHRoaXMuZW1wdHkoKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHRcdFx0dGhpcy50ZXh0Q29udGVudCA9IHZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggKTtcblx0fSxcblxuXHRhcHBlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmRvbU1hbmlwKCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdHZhciB0YXJnZXQgPSBtYW5pcHVsYXRpb25UYXJnZXQoIHRoaXMsIGVsZW0gKTtcblx0XHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKCBlbGVtICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0sXG5cblx0cHJlcGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZG9tTWFuaXAoIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0dmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCggdGhpcywgZWxlbSApO1xuXHRcdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0YXJnZXQuZmlyc3RDaGlsZCApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LFxuXG5cdGJlZm9yZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZG9tTWFuaXAoIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZWxlbSwgdGhpcyApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LFxuXG5cdGFmdGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5kb21NYW5pcCggYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGlmICggdGhpcy5wYXJlbnROb2RlICkge1xuXHRcdFx0XHR0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0aGlzLm5leHRTaWJsaW5nICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0sXG5cblx0cmVtb3ZlOiBmdW5jdGlvbiggc2VsZWN0b3IsIGtlZXBEYXRhIC8qIEludGVybmFsIFVzZSBPbmx5ICovICkge1xuXHRcdHZhciBlbGVtLFxuXHRcdFx0ZWxlbXMgPSBzZWxlY3RvciA/IGpRdWVyeS5maWx0ZXIoIHNlbGVjdG9yLCB0aGlzICkgOiB0aGlzLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRmb3IgKCA7IChlbGVtID0gZWxlbXNbaV0pICE9IG51bGw7IGkrKyApIHtcblx0XHRcdGlmICggIWtlZXBEYXRhICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggZWxlbSApICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRpZiAoIGtlZXBEYXRhICYmIGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICkgKSB7XG5cdFx0XHRcdFx0c2V0R2xvYmFsRXZhbCggZ2V0QWxsKCBlbGVtLCBcInNjcmlwdFwiICkgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRlbXB0eTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGVsZW0sXG5cdFx0XHRpID0gMDtcblxuXHRcdGZvciAoIDsgKGVsZW0gPSB0aGlzW2ldKSAhPSBudWxsOyBpKysgKSB7XG5cdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cblx0XHRcdFx0Ly8gUHJldmVudCBtZW1vcnkgbGVha3Ncblx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBlbGVtLCBmYWxzZSApICk7XG5cblx0XHRcdFx0Ly8gUmVtb3ZlIGFueSByZW1haW5pbmcgbm9kZXNcblx0XHRcdFx0ZWxlbS50ZXh0Q29udGVudCA9IFwiXCI7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Y2xvbmU6IGZ1bmN0aW9uKCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHRkYXRhQW5kRXZlbnRzID0gZGF0YUFuZEV2ZW50cyA9PSBudWxsID8gZmFsc2UgOiBkYXRhQW5kRXZlbnRzO1xuXHRcdGRlZXBEYXRhQW5kRXZlbnRzID0gZGVlcERhdGFBbmRFdmVudHMgPT0gbnVsbCA/IGRhdGFBbmRFdmVudHMgOiBkZWVwRGF0YUFuZEV2ZW50cztcblxuXHRcdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBqUXVlcnkuY2xvbmUoIHRoaXMsIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICk7XG5cdFx0fSk7XG5cdH0sXG5cblx0aHRtbDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciBlbGVtID0gdGhpc1sgMCBdIHx8IHt9LFxuXHRcdFx0XHRpID0gMCxcblx0XHRcdFx0bCA9IHRoaXMubGVuZ3RoO1xuXG5cdFx0XHRpZiAoIHZhbHVlID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0cmV0dXJuIGVsZW0uaW5uZXJIVE1MO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTZWUgaWYgd2UgY2FuIHRha2UgYSBzaG9ydGN1dCBhbmQganVzdCB1c2UgaW5uZXJIVE1MXG5cdFx0XHRpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiAhcm5vSW5uZXJodG1sLnRlc3QoIHZhbHVlICkgJiZcblx0XHRcdFx0IXdyYXBNYXBbICggcnRhZ05hbWUuZXhlYyggdmFsdWUgKSB8fCBbIFwiXCIsIFwiXCIgXSApWyAxIF0udG9Mb3dlckNhc2UoKSBdICkge1xuXG5cdFx0XHRcdHZhbHVlID0gdmFsdWUucmVwbGFjZSggcnhodG1sVGFnLCBcIjwkMT48LyQyPlwiICk7XG5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0XHRlbGVtID0gdGhpc1sgaSBdIHx8IHt9O1xuXG5cdFx0XHRcdFx0XHQvLyBSZW1vdmUgZWxlbWVudCBub2RlcyBhbmQgcHJldmVudCBtZW1vcnkgbGVha3Ncblx0XHRcdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBlbGVtLCBmYWxzZSApICk7XG5cdFx0XHRcdFx0XHRcdGVsZW0uaW5uZXJIVE1MID0gdmFsdWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZWxlbSA9IDA7XG5cblx0XHRcdFx0Ly8gSWYgdXNpbmcgaW5uZXJIVE1MIHRocm93cyBhbiBleGNlcHRpb24sIHVzZSB0aGUgZmFsbGJhY2sgbWV0aG9kXG5cdFx0XHRcdH0gY2F0Y2goIGUgKSB7fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRcdHRoaXMuZW1wdHkoKS5hcHBlbmQoIHZhbHVlICk7XG5cdFx0XHR9XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggKTtcblx0fSxcblxuXHRyZXBsYWNlV2l0aDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGFyZyA9IGFyZ3VtZW50c1sgMCBdO1xuXG5cdFx0Ly8gTWFrZSB0aGUgY2hhbmdlcywgcmVwbGFjaW5nIGVhY2ggY29udGV4dCBlbGVtZW50IHdpdGggdGhlIG5ldyBjb250ZW50XG5cdFx0dGhpcy5kb21NYW5pcCggYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGFyZyA9IHRoaXMucGFyZW50Tm9kZTtcblxuXHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCB0aGlzICkgKTtcblxuXHRcdFx0aWYgKCBhcmcgKSB7XG5cdFx0XHRcdGFyZy5yZXBsYWNlQ2hpbGQoIGVsZW0sIHRoaXMgKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIEZvcmNlIHJlbW92YWwgaWYgdGhlcmUgd2FzIG5vIG5ldyBjb250ZW50IChlLmcuLCBmcm9tIGVtcHR5IGFyZ3VtZW50cylcblx0XHRyZXR1cm4gYXJnICYmIChhcmcubGVuZ3RoIHx8IGFyZy5ub2RlVHlwZSkgPyB0aGlzIDogdGhpcy5yZW1vdmUoKTtcblx0fSxcblxuXHRkZXRhY2g6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gdGhpcy5yZW1vdmUoIHNlbGVjdG9yLCB0cnVlICk7XG5cdH0sXG5cblx0ZG9tTWFuaXA6IGZ1bmN0aW9uKCBhcmdzLCBjYWxsYmFjayApIHtcblxuXHRcdC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcblx0XHRhcmdzID0gY29uY2F0LmFwcGx5KCBbXSwgYXJncyApO1xuXG5cdFx0dmFyIGZyYWdtZW50LCBmaXJzdCwgc2NyaXB0cywgaGFzU2NyaXB0cywgbm9kZSwgZG9jLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRsID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRzZXQgPSB0aGlzLFxuXHRcdFx0aU5vQ2xvbmUgPSBsIC0gMSxcblx0XHRcdHZhbHVlID0gYXJnc1sgMCBdLFxuXHRcdFx0aXNGdW5jdGlvbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXG5cdFx0Ly8gV2UgY2FuJ3QgY2xvbmVOb2RlIGZyYWdtZW50cyB0aGF0IGNvbnRhaW4gY2hlY2tlZCwgaW4gV2ViS2l0XG5cdFx0aWYgKCBpc0Z1bmN0aW9uIHx8XG5cdFx0XHRcdCggbCA+IDEgJiYgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmXG5cdFx0XHRcdFx0IXN1cHBvcnQuY2hlY2tDbG9uZSAmJiByY2hlY2tlZC50ZXN0KCB2YWx1ZSApICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCBpbmRleCApIHtcblx0XHRcdFx0dmFyIHNlbGYgPSBzZXQuZXEoIGluZGV4ICk7XG5cdFx0XHRcdGlmICggaXNGdW5jdGlvbiApIHtcblx0XHRcdFx0XHRhcmdzWyAwIF0gPSB2YWx1ZS5jYWxsKCB0aGlzLCBpbmRleCwgc2VsZi5odG1sKCkgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRzZWxmLmRvbU1hbmlwKCBhcmdzLCBjYWxsYmFjayApO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0aWYgKCBsICkge1xuXHRcdFx0ZnJhZ21lbnQgPSBqUXVlcnkuYnVpbGRGcmFnbWVudCggYXJncywgdGhpc1sgMCBdLm93bmVyRG9jdW1lbnQsIGZhbHNlLCB0aGlzICk7XG5cdFx0XHRmaXJzdCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cblx0XHRcdGlmICggZnJhZ21lbnQuY2hpbGROb2Rlcy5sZW5ndGggPT09IDEgKSB7XG5cdFx0XHRcdGZyYWdtZW50ID0gZmlyc3Q7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggZmlyc3QgKSB7XG5cdFx0XHRcdHNjcmlwdHMgPSBqUXVlcnkubWFwKCBnZXRBbGwoIGZyYWdtZW50LCBcInNjcmlwdFwiICksIGRpc2FibGVTY3JpcHQgKTtcblx0XHRcdFx0aGFzU2NyaXB0cyA9IHNjcmlwdHMubGVuZ3RoO1xuXG5cdFx0XHRcdC8vIFVzZSB0aGUgb3JpZ2luYWwgZnJhZ21lbnQgZm9yIHRoZSBsYXN0IGl0ZW0gaW5zdGVhZCBvZiB0aGUgZmlyc3QgYmVjYXVzZSBpdCBjYW4gZW5kIHVwXG5cdFx0XHRcdC8vIGJlaW5nIGVtcHRpZWQgaW5jb3JyZWN0bHkgaW4gY2VydGFpbiBzaXR1YXRpb25zICgjODA3MCkuXG5cdFx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0XHRub2RlID0gZnJhZ21lbnQ7XG5cblx0XHRcdFx0XHRpZiAoIGkgIT09IGlOb0Nsb25lICkge1xuXHRcdFx0XHRcdFx0bm9kZSA9IGpRdWVyeS5jbG9uZSggbm9kZSwgdHJ1ZSwgdHJ1ZSApO1xuXG5cdFx0XHRcdFx0XHQvLyBLZWVwIHJlZmVyZW5jZXMgdG8gY2xvbmVkIHNjcmlwdHMgZm9yIGxhdGVyIHJlc3RvcmF0aW9uXG5cdFx0XHRcdFx0XHRpZiAoIGhhc1NjcmlwdHMgKSB7XG5cdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFF0V2ViS2l0XG5cdFx0XHRcdFx0XHRcdC8vIGpRdWVyeS5tZXJnZSBiZWNhdXNlIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Ncblx0XHRcdFx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCBzY3JpcHRzLCBnZXRBbGwoIG5vZGUsIFwic2NyaXB0XCIgKSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwoIHRoaXNbIGkgXSwgbm9kZSwgaSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCBoYXNTY3JpcHRzICkge1xuXHRcdFx0XHRcdGRvYyA9IHNjcmlwdHNbIHNjcmlwdHMubGVuZ3RoIC0gMSBdLm93bmVyRG9jdW1lbnQ7XG5cblx0XHRcdFx0XHQvLyBSZWVuYWJsZSBzY3JpcHRzXG5cdFx0XHRcdFx0alF1ZXJ5Lm1hcCggc2NyaXB0cywgcmVzdG9yZVNjcmlwdCApO1xuXG5cdFx0XHRcdFx0Ly8gRXZhbHVhdGUgZXhlY3V0YWJsZSBzY3JpcHRzIG9uIGZpcnN0IGRvY3VtZW50IGluc2VydGlvblxuXHRcdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgaGFzU2NyaXB0czsgaSsrICkge1xuXHRcdFx0XHRcdFx0bm9kZSA9IHNjcmlwdHNbIGkgXTtcblx0XHRcdFx0XHRcdGlmICggcnNjcmlwdFR5cGUudGVzdCggbm9kZS50eXBlIHx8IFwiXCIgKSAmJlxuXHRcdFx0XHRcdFx0XHQhZGF0YV9wcml2LmFjY2Vzcyggbm9kZSwgXCJnbG9iYWxFdmFsXCIgKSAmJiBqUXVlcnkuY29udGFpbnMoIGRvYywgbm9kZSApICkge1xuXG5cdFx0XHRcdFx0XHRcdGlmICggbm9kZS5zcmMgKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gT3B0aW9uYWwgQUpBWCBkZXBlbmRlbmN5LCBidXQgd29uJ3QgcnVuIHNjcmlwdHMgaWYgbm90IHByZXNlbnRcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5fZXZhbFVybCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5fZXZhbFVybCggbm9kZS5zcmMgKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5Lmdsb2JhbEV2YWwoIG5vZGUudGV4dENvbnRlbnQucmVwbGFjZSggcmNsZWFuU2NyaXB0LCBcIlwiICkgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG59KTtcblxualF1ZXJ5LmVhY2goe1xuXHRhcHBlbmRUbzogXCJhcHBlbmRcIixcblx0cHJlcGVuZFRvOiBcInByZXBlbmRcIixcblx0aW5zZXJ0QmVmb3JlOiBcImJlZm9yZVwiLFxuXHRpbnNlcnRBZnRlcjogXCJhZnRlclwiLFxuXHRyZXBsYWNlQWxsOiBcInJlcGxhY2VXaXRoXCJcbn0sIGZ1bmN0aW9uKCBuYW1lLCBvcmlnaW5hbCApIHtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0dmFyIGVsZW1zLFxuXHRcdFx0cmV0ID0gW10sXG5cdFx0XHRpbnNlcnQgPSBqUXVlcnkoIHNlbGVjdG9yICksXG5cdFx0XHRsYXN0ID0gaW5zZXJ0Lmxlbmd0aCAtIDEsXG5cdFx0XHRpID0gMDtcblxuXHRcdGZvciAoIDsgaSA8PSBsYXN0OyBpKysgKSB7XG5cdFx0XHRlbGVtcyA9IGkgPT09IGxhc3QgPyB0aGlzIDogdGhpcy5jbG9uZSggdHJ1ZSApO1xuXHRcdFx0alF1ZXJ5KCBpbnNlcnRbIGkgXSApWyBvcmlnaW5hbCBdKCBlbGVtcyApO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBRdFdlYktpdFxuXHRcdFx0Ly8gLmdldCgpIGJlY2F1c2UgcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93c1xuXHRcdFx0cHVzaC5hcHBseSggcmV0LCBlbGVtcy5nZXQoKSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggcmV0ICk7XG5cdH07XG59KTtcblxuXG52YXIgaWZyYW1lLFxuXHRlbGVtZGlzcGxheSA9IHt9O1xuXG4vKipcbiAqIFJldHJpZXZlIHRoZSBhY3R1YWwgZGlzcGxheSBvZiBhIGVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIG5vZGVOYW1lIG9mIHRoZSBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gZG9jIERvY3VtZW50IG9iamVjdFxuICovXG4vLyBDYWxsZWQgb25seSBmcm9tIHdpdGhpbiBkZWZhdWx0RGlzcGxheVxuZnVuY3Rpb24gYWN0dWFsRGlzcGxheSggbmFtZSwgZG9jICkge1xuXHR2YXIgc3R5bGUsXG5cdFx0ZWxlbSA9IGpRdWVyeSggZG9jLmNyZWF0ZUVsZW1lbnQoIG5hbWUgKSApLmFwcGVuZFRvKCBkb2MuYm9keSApLFxuXG5cdFx0Ly8gZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUgbWlnaHQgYmUgcmVsaWFibHkgdXNlZCBvbmx5IG9uIGF0dGFjaGVkIGVsZW1lbnRcblx0XHRkaXNwbGF5ID0gd2luZG93LmdldERlZmF1bHRDb21wdXRlZFN0eWxlICYmICggc3R5bGUgPSB3aW5kb3cuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUoIGVsZW1bIDAgXSApICkgP1xuXG5cdFx0XHQvLyBVc2Ugb2YgdGhpcyBtZXRob2QgaXMgYSB0ZW1wb3JhcnkgZml4IChtb3JlIGxpa2Ugb3B0bWl6YXRpb24pIHVudGlsIHNvbWV0aGluZyBiZXR0ZXIgY29tZXMgYWxvbmcsXG5cdFx0XHQvLyBzaW5jZSBpdCB3YXMgcmVtb3ZlZCBmcm9tIHNwZWNpZmljYXRpb24gYW5kIHN1cHBvcnRlZCBvbmx5IGluIEZGXG5cdFx0XHRzdHlsZS5kaXNwbGF5IDogalF1ZXJ5LmNzcyggZWxlbVsgMCBdLCBcImRpc3BsYXlcIiApO1xuXG5cdC8vIFdlIGRvbid0IGhhdmUgYW55IGRhdGEgc3RvcmVkIG9uIHRoZSBlbGVtZW50LFxuXHQvLyBzbyB1c2UgXCJkZXRhY2hcIiBtZXRob2QgYXMgZmFzdCB3YXkgdG8gZ2V0IHJpZCBvZiB0aGUgZWxlbWVudFxuXHRlbGVtLmRldGFjaCgpO1xuXG5cdHJldHVybiBkaXNwbGF5O1xufVxuXG4vKipcbiAqIFRyeSB0byBkZXRlcm1pbmUgdGhlIGRlZmF1bHQgZGlzcGxheSB2YWx1ZSBvZiBhbiBlbGVtZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gbm9kZU5hbWVcbiAqL1xuZnVuY3Rpb24gZGVmYXVsdERpc3BsYXkoIG5vZGVOYW1lICkge1xuXHR2YXIgZG9jID0gZG9jdW1lbnQsXG5cdFx0ZGlzcGxheSA9IGVsZW1kaXNwbGF5WyBub2RlTmFtZSBdO1xuXG5cdGlmICggIWRpc3BsYXkgKSB7XG5cdFx0ZGlzcGxheSA9IGFjdHVhbERpc3BsYXkoIG5vZGVOYW1lLCBkb2MgKTtcblxuXHRcdC8vIElmIHRoZSBzaW1wbGUgd2F5IGZhaWxzLCByZWFkIGZyb20gaW5zaWRlIGFuIGlmcmFtZVxuXHRcdGlmICggZGlzcGxheSA9PT0gXCJub25lXCIgfHwgIWRpc3BsYXkgKSB7XG5cblx0XHRcdC8vIFVzZSB0aGUgYWxyZWFkeS1jcmVhdGVkIGlmcmFtZSBpZiBwb3NzaWJsZVxuXHRcdFx0aWZyYW1lID0gKGlmcmFtZSB8fCBqUXVlcnkoIFwiPGlmcmFtZSBmcmFtZWJvcmRlcj0nMCcgd2lkdGg9JzAnIGhlaWdodD0nMCcvPlwiICkpLmFwcGVuZFRvKCBkb2MuZG9jdW1lbnRFbGVtZW50ICk7XG5cblx0XHRcdC8vIEFsd2F5cyB3cml0ZSBhIG5ldyBIVE1MIHNrZWxldG9uIHNvIFdlYmtpdCBhbmQgRmlyZWZveCBkb24ndCBjaG9rZSBvbiByZXVzZVxuXHRcdFx0ZG9jID0gaWZyYW1lWyAwIF0uY29udGVudERvY3VtZW50O1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRVxuXHRcdFx0ZG9jLndyaXRlKCk7XG5cdFx0XHRkb2MuY2xvc2UoKTtcblxuXHRcdFx0ZGlzcGxheSA9IGFjdHVhbERpc3BsYXkoIG5vZGVOYW1lLCBkb2MgKTtcblx0XHRcdGlmcmFtZS5kZXRhY2goKTtcblx0XHR9XG5cblx0XHQvLyBTdG9yZSB0aGUgY29ycmVjdCBkZWZhdWx0IGRpc3BsYXlcblx0XHRlbGVtZGlzcGxheVsgbm9kZU5hbWUgXSA9IGRpc3BsYXk7XG5cdH1cblxuXHRyZXR1cm4gZGlzcGxheTtcbn1cbnZhciBybWFyZ2luID0gKC9ebWFyZ2luLyk7XG5cbnZhciBybnVtbm9ucHggPSBuZXcgUmVnRXhwKCBcIl4oXCIgKyBwbnVtICsgXCIpKD8hcHgpW2EteiVdKyRcIiwgXCJpXCIgKTtcblxudmFyIGdldFN0eWxlcyA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBlbGVtLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSggZWxlbSwgbnVsbCApO1xuXHR9O1xuXG5cblxuZnVuY3Rpb24gY3VyQ1NTKCBlbGVtLCBuYW1lLCBjb21wdXRlZCApIHtcblx0dmFyIHdpZHRoLCBtaW5XaWR0aCwgbWF4V2lkdGgsIHJldCxcblx0XHRzdHlsZSA9IGVsZW0uc3R5bGU7XG5cblx0Y29tcHV0ZWQgPSBjb21wdXRlZCB8fCBnZXRTdHlsZXMoIGVsZW0gKTtcblxuXHQvLyBTdXBwb3J0OiBJRTlcblx0Ly8gZ2V0UHJvcGVydHlWYWx1ZSBpcyBvbmx5IG5lZWRlZCBmb3IgLmNzcygnZmlsdGVyJykgaW4gSUU5LCBzZWUgIzEyNTM3XG5cdGlmICggY29tcHV0ZWQgKSB7XG5cdFx0cmV0ID0gY29tcHV0ZWQuZ2V0UHJvcGVydHlWYWx1ZSggbmFtZSApIHx8IGNvbXB1dGVkWyBuYW1lIF07XG5cdH1cblxuXHRpZiAoIGNvbXB1dGVkICkge1xuXG5cdFx0aWYgKCByZXQgPT09IFwiXCIgJiYgIWpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICkgKSB7XG5cdFx0XHRyZXQgPSBqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUgKTtcblx0XHR9XG5cblx0XHQvLyBTdXBwb3J0OiBpT1MgPCA2XG5cdFx0Ly8gQSB0cmlidXRlIHRvIHRoZSBcImF3ZXNvbWUgaGFjayBieSBEZWFuIEVkd2FyZHNcIlxuXHRcdC8vIGlPUyA8IDYgKGF0IGxlYXN0KSByZXR1cm5zIHBlcmNlbnRhZ2UgZm9yIGEgbGFyZ2VyIHNldCBvZiB2YWx1ZXMsIGJ1dCB3aWR0aCBzZWVtcyB0byBiZSByZWxpYWJseSBwaXhlbHNcblx0XHQvLyB0aGlzIGlzIGFnYWluc3QgdGhlIENTU09NIGRyYWZ0IHNwZWM6IGh0dHA6Ly9kZXYudzMub3JnL2Nzc3dnL2Nzc29tLyNyZXNvbHZlZC12YWx1ZXNcblx0XHRpZiAoIHJudW1ub25weC50ZXN0KCByZXQgKSAmJiBybWFyZ2luLnRlc3QoIG5hbWUgKSApIHtcblxuXHRcdFx0Ly8gUmVtZW1iZXIgdGhlIG9yaWdpbmFsIHZhbHVlc1xuXHRcdFx0d2lkdGggPSBzdHlsZS53aWR0aDtcblx0XHRcdG1pbldpZHRoID0gc3R5bGUubWluV2lkdGg7XG5cdFx0XHRtYXhXaWR0aCA9IHN0eWxlLm1heFdpZHRoO1xuXG5cdFx0XHQvLyBQdXQgaW4gdGhlIG5ldyB2YWx1ZXMgdG8gZ2V0IGEgY29tcHV0ZWQgdmFsdWUgb3V0XG5cdFx0XHRzdHlsZS5taW5XaWR0aCA9IHN0eWxlLm1heFdpZHRoID0gc3R5bGUud2lkdGggPSByZXQ7XG5cdFx0XHRyZXQgPSBjb21wdXRlZC53aWR0aDtcblxuXHRcdFx0Ly8gUmV2ZXJ0IHRoZSBjaGFuZ2VkIHZhbHVlc1xuXHRcdFx0c3R5bGUud2lkdGggPSB3aWR0aDtcblx0XHRcdHN0eWxlLm1pbldpZHRoID0gbWluV2lkdGg7XG5cdFx0XHRzdHlsZS5tYXhXaWR0aCA9IG1heFdpZHRoO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXQgIT09IHVuZGVmaW5lZCA/XG5cdFx0Ly8gU3VwcG9ydDogSUVcblx0XHQvLyBJRSByZXR1cm5zIHpJbmRleCB2YWx1ZSBhcyBhbiBpbnRlZ2VyLlxuXHRcdHJldCArIFwiXCIgOlxuXHRcdHJldDtcbn1cblxuXG5mdW5jdGlvbiBhZGRHZXRIb29rSWYoIGNvbmRpdGlvbkZuLCBob29rRm4gKSB7XG5cdC8vIERlZmluZSB0aGUgaG9vaywgd2UnbGwgY2hlY2sgb24gdGhlIGZpcnN0IHJ1biBpZiBpdCdzIHJlYWxseSBuZWVkZWQuXG5cdHJldHVybiB7XG5cdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggY29uZGl0aW9uRm4oKSApIHtcblx0XHRcdFx0Ly8gSG9vayBub3QgbmVlZGVkIChvciBpdCdzIG5vdCBwb3NzaWJsZSB0byB1c2UgaXQgZHVlIHRvIG1pc3NpbmcgZGVwZW5kZW5jeSksXG5cdFx0XHRcdC8vIHJlbW92ZSBpdC5cblx0XHRcdFx0Ly8gU2luY2UgdGhlcmUgYXJlIG5vIG90aGVyIGhvb2tzIGZvciBtYXJnaW5SaWdodCwgcmVtb3ZlIHRoZSB3aG9sZSBvYmplY3QuXG5cdFx0XHRcdGRlbGV0ZSB0aGlzLmdldDtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBIb29rIG5lZWRlZDsgcmVkZWZpbmUgaXQgc28gdGhhdCB0aGUgc3VwcG9ydCB0ZXN0IGlzIG5vdCBleGVjdXRlZCBhZ2Fpbi5cblxuXHRcdFx0cmV0dXJuICh0aGlzLmdldCA9IGhvb2tGbikuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0fTtcbn1cblxuXG4oZnVuY3Rpb24oKSB7XG5cdHZhciBwaXhlbFBvc2l0aW9uVmFsLCBib3hTaXppbmdSZWxpYWJsZVZhbCxcblx0XHRkb2NFbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LFxuXHRcdGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSxcblx0XHRkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICk7XG5cblx0aWYgKCAhZGl2LnN0eWxlICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9IFwiY29udGVudC1ib3hcIjtcblx0ZGl2LmNsb25lTm9kZSggdHJ1ZSApLnN0eWxlLmJhY2tncm91bmRDbGlwID0gXCJcIjtcblx0c3VwcG9ydC5jbGVhckNsb25lU3R5bGUgPSBkaXYuc3R5bGUuYmFja2dyb3VuZENsaXAgPT09IFwiY29udGVudC1ib3hcIjtcblxuXHRjb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IFwiYm9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHg7bWFyZ2luLXRvcDoxcHg7XCIgK1xuXHRcdFwicG9zaXRpb246YWJzb2x1dGVcIjtcblx0Y29udGFpbmVyLmFwcGVuZENoaWxkKCBkaXYgKTtcblxuXHQvLyBFeGVjdXRpbmcgYm90aCBwaXhlbFBvc2l0aW9uICYgYm94U2l6aW5nUmVsaWFibGUgdGVzdHMgcmVxdWlyZSBvbmx5IG9uZSBsYXlvdXRcblx0Ly8gc28gdGhleSdyZSBleGVjdXRlZCBhdCB0aGUgc2FtZSB0aW1lIHRvIHNhdmUgdGhlIHNlY29uZCBjb21wdXRhdGlvbi5cblx0ZnVuY3Rpb24gY29tcHV0ZVBpeGVsUG9zaXRpb25BbmRCb3hTaXppbmdSZWxpYWJsZSgpIHtcblx0XHRkaXYuc3R5bGUuY3NzVGV4dCA9XG5cdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94PDI5LCBBbmRyb2lkIDIuM1xuXHRcdFx0Ly8gVmVuZG9yLXByZWZpeCBib3gtc2l6aW5nXG5cdFx0XHRcIi13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94O1wiICtcblx0XHRcdFwiYm94LXNpemluZzpib3JkZXItYm94O2Rpc3BsYXk6YmxvY2s7bWFyZ2luLXRvcDoxJTt0b3A6MSU7XCIgK1xuXHRcdFx0XCJib3JkZXI6MXB4O3BhZGRpbmc6MXB4O3dpZHRoOjRweDtwb3NpdGlvbjphYnNvbHV0ZVwiO1xuXHRcdGRpdi5pbm5lckhUTUwgPSBcIlwiO1xuXHRcdGRvY0VsZW0uYXBwZW5kQ2hpbGQoIGNvbnRhaW5lciApO1xuXG5cdFx0dmFyIGRpdlN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoIGRpdiwgbnVsbCApO1xuXHRcdHBpeGVsUG9zaXRpb25WYWwgPSBkaXZTdHlsZS50b3AgIT09IFwiMSVcIjtcblx0XHRib3hTaXppbmdSZWxpYWJsZVZhbCA9IGRpdlN0eWxlLndpZHRoID09PSBcIjRweFwiO1xuXG5cdFx0ZG9jRWxlbS5yZW1vdmVDaGlsZCggY29udGFpbmVyICk7XG5cdH1cblxuXHQvLyBTdXBwb3J0OiBub2RlLmpzIGpzZG9tXG5cdC8vIERvbid0IGFzc3VtZSB0aGF0IGdldENvbXB1dGVkU3R5bGUgaXMgYSBwcm9wZXJ0eSBvZiB0aGUgZ2xvYmFsIG9iamVjdFxuXHRpZiAoIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlICkge1xuXHRcdGpRdWVyeS5leHRlbmQoIHN1cHBvcnQsIHtcblx0XHRcdHBpeGVsUG9zaXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQvLyBUaGlzIHRlc3QgaXMgZXhlY3V0ZWQgb25seSBvbmNlIGJ1dCB3ZSBzdGlsbCBkbyBtZW1vaXppbmdcblx0XHRcdFx0Ly8gc2luY2Ugd2UgY2FuIHVzZSB0aGUgYm94U2l6aW5nUmVsaWFibGUgcHJlLWNvbXB1dGluZy5cblx0XHRcdFx0Ly8gTm8gbmVlZCB0byBjaGVjayBpZiB0aGUgdGVzdCB3YXMgYWxyZWFkeSBwZXJmb3JtZWQsIHRob3VnaC5cblx0XHRcdFx0Y29tcHV0ZVBpeGVsUG9zaXRpb25BbmRCb3hTaXppbmdSZWxpYWJsZSgpO1xuXHRcdFx0XHRyZXR1cm4gcGl4ZWxQb3NpdGlvblZhbDtcblx0XHRcdH0sXG5cdFx0XHRib3hTaXppbmdSZWxpYWJsZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggYm94U2l6aW5nUmVsaWFibGVWYWwgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRjb21wdXRlUGl4ZWxQb3NpdGlvbkFuZEJveFNpemluZ1JlbGlhYmxlKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGJveFNpemluZ1JlbGlhYmxlVmFsO1xuXHRcdFx0fSxcblx0XHRcdHJlbGlhYmxlTWFyZ2luUmlnaHQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDIuM1xuXHRcdFx0XHQvLyBDaGVjayBpZiBkaXYgd2l0aCBleHBsaWNpdCB3aWR0aCBhbmQgbm8gbWFyZ2luLXJpZ2h0IGluY29ycmVjdGx5XG5cdFx0XHRcdC8vIGdldHMgY29tcHV0ZWQgbWFyZ2luLXJpZ2h0IGJhc2VkIG9uIHdpZHRoIG9mIGNvbnRhaW5lci4gKCMzMzMzKVxuXHRcdFx0XHQvLyBXZWJLaXQgQnVnIDEzMzQzIC0gZ2V0Q29tcHV0ZWRTdHlsZSByZXR1cm5zIHdyb25nIHZhbHVlIGZvciBtYXJnaW4tcmlnaHRcblx0XHRcdFx0Ly8gVGhpcyBzdXBwb3J0IGZ1bmN0aW9uIGlzIG9ubHkgZXhlY3V0ZWQgb25jZSBzbyBubyBtZW1vaXppbmcgaXMgbmVlZGVkLlxuXHRcdFx0XHR2YXIgcmV0LFxuXHRcdFx0XHRcdG1hcmdpbkRpdiA9IGRpdi5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApICk7XG5cblx0XHRcdFx0Ly8gUmVzZXQgQ1NTOiBib3gtc2l6aW5nOyBkaXNwbGF5OyBtYXJnaW47IGJvcmRlcjsgcGFkZGluZ1xuXHRcdFx0XHRtYXJnaW5EaXYuc3R5bGUuY3NzVGV4dCA9IGRpdi5zdHlsZS5jc3NUZXh0ID1cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94PDI5LCBBbmRyb2lkIDIuM1xuXHRcdFx0XHRcdC8vIFZlbmRvci1wcmVmaXggYm94LXNpemluZ1xuXHRcdFx0XHRcdFwiLXdlYmtpdC1ib3gtc2l6aW5nOmNvbnRlbnQtYm94Oy1tb3otYm94LXNpemluZzpjb250ZW50LWJveDtcIiArXG5cdFx0XHRcdFx0XCJib3gtc2l6aW5nOmNvbnRlbnQtYm94O2Rpc3BsYXk6YmxvY2s7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzowXCI7XG5cdFx0XHRcdG1hcmdpbkRpdi5zdHlsZS5tYXJnaW5SaWdodCA9IG1hcmdpbkRpdi5zdHlsZS53aWR0aCA9IFwiMFwiO1xuXHRcdFx0XHRkaXYuc3R5bGUud2lkdGggPSBcIjFweFwiO1xuXHRcdFx0XHRkb2NFbGVtLmFwcGVuZENoaWxkKCBjb250YWluZXIgKTtcblxuXHRcdFx0XHRyZXQgPSAhcGFyc2VGbG9hdCggd2luZG93LmdldENvbXB1dGVkU3R5bGUoIG1hcmdpbkRpdiwgbnVsbCApLm1hcmdpblJpZ2h0ICk7XG5cblx0XHRcdFx0ZG9jRWxlbS5yZW1vdmVDaGlsZCggY29udGFpbmVyICk7XG5cblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxufSkoKTtcblxuXG4vLyBBIG1ldGhvZCBmb3IgcXVpY2tseSBzd2FwcGluZyBpbi9vdXQgQ1NTIHByb3BlcnRpZXMgdG8gZ2V0IGNvcnJlY3QgY2FsY3VsYXRpb25zLlxualF1ZXJ5LnN3YXAgPSBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgY2FsbGJhY2ssIGFyZ3MgKSB7XG5cdHZhciByZXQsIG5hbWUsXG5cdFx0b2xkID0ge307XG5cblx0Ly8gUmVtZW1iZXIgdGhlIG9sZCB2YWx1ZXMsIGFuZCBpbnNlcnQgdGhlIG5ldyBvbmVzXG5cdGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcblx0XHRvbGRbIG5hbWUgXSA9IGVsZW0uc3R5bGVbIG5hbWUgXTtcblx0XHRlbGVtLnN0eWxlWyBuYW1lIF0gPSBvcHRpb25zWyBuYW1lIF07XG5cdH1cblxuXHRyZXQgPSBjYWxsYmFjay5hcHBseSggZWxlbSwgYXJncyB8fCBbXSApO1xuXG5cdC8vIFJldmVydCB0aGUgb2xkIHZhbHVlc1xuXHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0ZWxlbS5zdHlsZVsgbmFtZSBdID0gb2xkWyBuYW1lIF07XG5cdH1cblxuXHRyZXR1cm4gcmV0O1xufTtcblxuXG52YXJcblx0Ly8gc3dhcHBhYmxlIGlmIGRpc3BsYXkgaXMgbm9uZSBvciBzdGFydHMgd2l0aCB0YWJsZSBleGNlcHQgXCJ0YWJsZVwiLCBcInRhYmxlLWNlbGxcIiwgb3IgXCJ0YWJsZS1jYXB0aW9uXCJcblx0Ly8gc2VlIGhlcmUgZm9yIGRpc3BsYXkgdmFsdWVzOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0NTUy9kaXNwbGF5XG5cdHJkaXNwbGF5c3dhcCA9IC9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxcblx0cm51bXNwbGl0ID0gbmV3IFJlZ0V4cCggXCJeKFwiICsgcG51bSArIFwiKSguKikkXCIsIFwiaVwiICksXG5cdHJyZWxOdW0gPSBuZXcgUmVnRXhwKCBcIl4oWystXSk9KFwiICsgcG51bSArIFwiKVwiLCBcImlcIiApLFxuXG5cdGNzc1Nob3cgPSB7IHBvc2l0aW9uOiBcImFic29sdXRlXCIsIHZpc2liaWxpdHk6IFwiaGlkZGVuXCIsIGRpc3BsYXk6IFwiYmxvY2tcIiB9LFxuXHRjc3NOb3JtYWxUcmFuc2Zvcm0gPSB7XG5cdFx0bGV0dGVyU3BhY2luZzogXCIwXCIsXG5cdFx0Zm9udFdlaWdodDogXCI0MDBcIlxuXHR9LFxuXG5cdGNzc1ByZWZpeGVzID0gWyBcIldlYmtpdFwiLCBcIk9cIiwgXCJNb3pcIiwgXCJtc1wiIF07XG5cbi8vIHJldHVybiBhIGNzcyBwcm9wZXJ0eSBtYXBwZWQgdG8gYSBwb3RlbnRpYWxseSB2ZW5kb3IgcHJlZml4ZWQgcHJvcGVydHlcbmZ1bmN0aW9uIHZlbmRvclByb3BOYW1lKCBzdHlsZSwgbmFtZSApIHtcblxuXHQvLyBzaG9ydGN1dCBmb3IgbmFtZXMgdGhhdCBhcmUgbm90IHZlbmRvciBwcmVmaXhlZFxuXHRpZiAoIG5hbWUgaW4gc3R5bGUgKSB7XG5cdFx0cmV0dXJuIG5hbWU7XG5cdH1cblxuXHQvLyBjaGVjayBmb3IgdmVuZG9yIHByZWZpeGVkIG5hbWVzXG5cdHZhciBjYXBOYW1lID0gbmFtZVswXS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSgxKSxcblx0XHRvcmlnTmFtZSA9IG5hbWUsXG5cdFx0aSA9IGNzc1ByZWZpeGVzLmxlbmd0aDtcblxuXHR3aGlsZSAoIGktLSApIHtcblx0XHRuYW1lID0gY3NzUHJlZml4ZXNbIGkgXSArIGNhcE5hbWU7XG5cdFx0aWYgKCBuYW1lIGluIHN0eWxlICkge1xuXHRcdFx0cmV0dXJuIG5hbWU7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIG9yaWdOYW1lO1xufVxuXG5mdW5jdGlvbiBzZXRQb3NpdGl2ZU51bWJlciggZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICkge1xuXHR2YXIgbWF0Y2hlcyA9IHJudW1zcGxpdC5leGVjKCB2YWx1ZSApO1xuXHRyZXR1cm4gbWF0Y2hlcyA/XG5cdFx0Ly8gR3VhcmQgYWdhaW5zdCB1bmRlZmluZWQgXCJzdWJ0cmFjdFwiLCBlLmcuLCB3aGVuIHVzZWQgYXMgaW4gY3NzSG9va3Ncblx0XHRNYXRoLm1heCggMCwgbWF0Y2hlc1sgMSBdIC0gKCBzdWJ0cmFjdCB8fCAwICkgKSArICggbWF0Y2hlc1sgMiBdIHx8IFwicHhcIiApIDpcblx0XHR2YWx1ZTtcbn1cblxuZnVuY3Rpb24gYXVnbWVudFdpZHRoT3JIZWlnaHQoIGVsZW0sIG5hbWUsIGV4dHJhLCBpc0JvcmRlckJveCwgc3R5bGVzICkge1xuXHR2YXIgaSA9IGV4dHJhID09PSAoIGlzQm9yZGVyQm94ID8gXCJib3JkZXJcIiA6IFwiY29udGVudFwiICkgP1xuXHRcdC8vIElmIHdlIGFscmVhZHkgaGF2ZSB0aGUgcmlnaHQgbWVhc3VyZW1lbnQsIGF2b2lkIGF1Z21lbnRhdGlvblxuXHRcdDQgOlxuXHRcdC8vIE90aGVyd2lzZSBpbml0aWFsaXplIGZvciBob3Jpem9udGFsIG9yIHZlcnRpY2FsIHByb3BlcnRpZXNcblx0XHRuYW1lID09PSBcIndpZHRoXCIgPyAxIDogMCxcblxuXHRcdHZhbCA9IDA7XG5cblx0Zm9yICggOyBpIDwgNDsgaSArPSAyICkge1xuXHRcdC8vIGJvdGggYm94IG1vZGVscyBleGNsdWRlIG1hcmdpbiwgc28gYWRkIGl0IGlmIHdlIHdhbnQgaXRcblx0XHRpZiAoIGV4dHJhID09PSBcIm1hcmdpblwiICkge1xuXHRcdFx0dmFsICs9IGpRdWVyeS5jc3MoIGVsZW0sIGV4dHJhICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApO1xuXHRcdH1cblxuXHRcdGlmICggaXNCb3JkZXJCb3ggKSB7XG5cdFx0XHQvLyBib3JkZXItYm94IGluY2x1ZGVzIHBhZGRpbmcsIHNvIHJlbW92ZSBpdCBpZiB3ZSB3YW50IGNvbnRlbnRcblx0XHRcdGlmICggZXh0cmEgPT09IFwiY29udGVudFwiICkge1xuXHRcdFx0XHR2YWwgLT0galF1ZXJ5LmNzcyggZWxlbSwgXCJwYWRkaW5nXCIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGF0IHRoaXMgcG9pbnQsIGV4dHJhIGlzbid0IGJvcmRlciBub3IgbWFyZ2luLCBzbyByZW1vdmUgYm9yZGVyXG5cdFx0XHRpZiAoIGV4dHJhICE9PSBcIm1hcmdpblwiICkge1xuXHRcdFx0XHR2YWwgLT0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3JkZXJcIiArIGNzc0V4cGFuZFsgaSBdICsgXCJXaWR0aFwiLCB0cnVlLCBzdHlsZXMgKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gYXQgdGhpcyBwb2ludCwgZXh0cmEgaXNuJ3QgY29udGVudCwgc28gYWRkIHBhZGRpbmdcblx0XHRcdHZhbCArPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBhZGRpbmdcIiArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcblxuXHRcdFx0Ly8gYXQgdGhpcyBwb2ludCwgZXh0cmEgaXNuJ3QgY29udGVudCBub3IgcGFkZGluZywgc28gYWRkIGJvcmRlclxuXHRcdFx0aWYgKCBleHRyYSAhPT0gXCJwYWRkaW5nXCIgKSB7XG5cdFx0XHRcdHZhbCArPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kWyBpIF0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB2YWw7XG59XG5cbmZ1bmN0aW9uIGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIG5hbWUsIGV4dHJhICkge1xuXG5cdC8vIFN0YXJ0IHdpdGggb2Zmc2V0IHByb3BlcnR5LCB3aGljaCBpcyBlcXVpdmFsZW50IHRvIHRoZSBib3JkZXItYm94IHZhbHVlXG5cdHZhciB2YWx1ZUlzQm9yZGVyQm94ID0gdHJ1ZSxcblx0XHR2YWwgPSBuYW1lID09PSBcIndpZHRoXCIgPyBlbGVtLm9mZnNldFdpZHRoIDogZWxlbS5vZmZzZXRIZWlnaHQsXG5cdFx0c3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICksXG5cdFx0aXNCb3JkZXJCb3ggPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJveFNpemluZ1wiLCBmYWxzZSwgc3R5bGVzICkgPT09IFwiYm9yZGVyLWJveFwiO1xuXG5cdC8vIHNvbWUgbm9uLWh0bWwgZWxlbWVudHMgcmV0dXJuIHVuZGVmaW5lZCBmb3Igb2Zmc2V0V2lkdGgsIHNvIGNoZWNrIGZvciBudWxsL3VuZGVmaW5lZFxuXHQvLyBzdmcgLSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02NDkyODVcblx0Ly8gTWF0aE1MIC0gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NDkxNjY4XG5cdGlmICggdmFsIDw9IDAgfHwgdmFsID09IG51bGwgKSB7XG5cdFx0Ly8gRmFsbCBiYWNrIHRvIGNvbXB1dGVkIHRoZW4gdW5jb21wdXRlZCBjc3MgaWYgbmVjZXNzYXJ5XG5cdFx0dmFsID0gY3VyQ1NTKCBlbGVtLCBuYW1lLCBzdHlsZXMgKTtcblx0XHRpZiAoIHZhbCA8IDAgfHwgdmFsID09IG51bGwgKSB7XG5cdFx0XHR2YWwgPSBlbGVtLnN0eWxlWyBuYW1lIF07XG5cdFx0fVxuXG5cdFx0Ly8gQ29tcHV0ZWQgdW5pdCBpcyBub3QgcGl4ZWxzLiBTdG9wIGhlcmUgYW5kIHJldHVybi5cblx0XHRpZiAoIHJudW1ub25weC50ZXN0KHZhbCkgKSB7XG5cdFx0XHRyZXR1cm4gdmFsO1xuXHRcdH1cblxuXHRcdC8vIHdlIG5lZWQgdGhlIGNoZWNrIGZvciBzdHlsZSBpbiBjYXNlIGEgYnJvd3NlciB3aGljaCByZXR1cm5zIHVucmVsaWFibGUgdmFsdWVzXG5cdFx0Ly8gZm9yIGdldENvbXB1dGVkU3R5bGUgc2lsZW50bHkgZmFsbHMgYmFjayB0byB0aGUgcmVsaWFibGUgZWxlbS5zdHlsZVxuXHRcdHZhbHVlSXNCb3JkZXJCb3ggPSBpc0JvcmRlckJveCAmJlxuXHRcdFx0KCBzdXBwb3J0LmJveFNpemluZ1JlbGlhYmxlKCkgfHwgdmFsID09PSBlbGVtLnN0eWxlWyBuYW1lIF0gKTtcblxuXHRcdC8vIE5vcm1hbGl6ZSBcIlwiLCBhdXRvLCBhbmQgcHJlcGFyZSBmb3IgZXh0cmFcblx0XHR2YWwgPSBwYXJzZUZsb2F0KCB2YWwgKSB8fCAwO1xuXHR9XG5cblx0Ly8gdXNlIHRoZSBhY3RpdmUgYm94LXNpemluZyBtb2RlbCB0byBhZGQvc3VidHJhY3QgaXJyZWxldmFudCBzdHlsZXNcblx0cmV0dXJuICggdmFsICtcblx0XHRhdWdtZW50V2lkdGhPckhlaWdodChcblx0XHRcdGVsZW0sXG5cdFx0XHRuYW1lLFxuXHRcdFx0ZXh0cmEgfHwgKCBpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIiApLFxuXHRcdFx0dmFsdWVJc0JvcmRlckJveCxcblx0XHRcdHN0eWxlc1xuXHRcdClcblx0KSArIFwicHhcIjtcbn1cblxuZnVuY3Rpb24gc2hvd0hpZGUoIGVsZW1lbnRzLCBzaG93ICkge1xuXHR2YXIgZGlzcGxheSwgZWxlbSwgaGlkZGVuLFxuXHRcdHZhbHVlcyA9IFtdLFxuXHRcdGluZGV4ID0gMCxcblx0XHRsZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7XG5cblx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRlbGVtID0gZWxlbWVudHNbIGluZGV4IF07XG5cdFx0aWYgKCAhZWxlbS5zdHlsZSApIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdHZhbHVlc1sgaW5kZXggXSA9IGRhdGFfcHJpdi5nZXQoIGVsZW0sIFwib2xkZGlzcGxheVwiICk7XG5cdFx0ZGlzcGxheSA9IGVsZW0uc3R5bGUuZGlzcGxheTtcblx0XHRpZiAoIHNob3cgKSB7XG5cdFx0XHQvLyBSZXNldCB0aGUgaW5saW5lIGRpc3BsYXkgb2YgdGhpcyBlbGVtZW50IHRvIGxlYXJuIGlmIGl0IGlzXG5cdFx0XHQvLyBiZWluZyBoaWRkZW4gYnkgY2FzY2FkZWQgcnVsZXMgb3Igbm90XG5cdFx0XHRpZiAoICF2YWx1ZXNbIGluZGV4IF0gJiYgZGlzcGxheSA9PT0gXCJub25lXCIgKSB7XG5cdFx0XHRcdGVsZW0uc3R5bGUuZGlzcGxheSA9IFwiXCI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNldCBlbGVtZW50cyB3aGljaCBoYXZlIGJlZW4gb3ZlcnJpZGRlbiB3aXRoIGRpc3BsYXk6IG5vbmVcblx0XHRcdC8vIGluIGEgc3R5bGVzaGVldCB0byB3aGF0ZXZlciB0aGUgZGVmYXVsdCBicm93c2VyIHN0eWxlIGlzXG5cdFx0XHQvLyBmb3Igc3VjaCBhbiBlbGVtZW50XG5cdFx0XHRpZiAoIGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJcIiAmJiBpc0hpZGRlbiggZWxlbSApICkge1xuXHRcdFx0XHR2YWx1ZXNbIGluZGV4IF0gPSBkYXRhX3ByaXYuYWNjZXNzKCBlbGVtLCBcIm9sZGRpc3BsYXlcIiwgZGVmYXVsdERpc3BsYXkoZWxlbS5ub2RlTmFtZSkgKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0aGlkZGVuID0gaXNIaWRkZW4oIGVsZW0gKTtcblxuXHRcdFx0aWYgKCBkaXNwbGF5ICE9PSBcIm5vbmVcIiB8fCAhaGlkZGVuICkge1xuXHRcdFx0XHRkYXRhX3ByaXYuc2V0KCBlbGVtLCBcIm9sZGRpc3BsYXlcIiwgaGlkZGVuID8gZGlzcGxheSA6IGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICkgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBTZXQgdGhlIGRpc3BsYXkgb2YgbW9zdCBvZiB0aGUgZWxlbWVudHMgaW4gYSBzZWNvbmQgbG9vcFxuXHQvLyB0byBhdm9pZCB0aGUgY29uc3RhbnQgcmVmbG93XG5cdGZvciAoIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0ZWxlbSA9IGVsZW1lbnRzWyBpbmRleCBdO1xuXHRcdGlmICggIWVsZW0uc3R5bGUgKSB7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cdFx0aWYgKCAhc2hvdyB8fCBlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiIHx8IGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJcIiApIHtcblx0XHRcdGVsZW0uc3R5bGUuZGlzcGxheSA9IHNob3cgPyB2YWx1ZXNbIGluZGV4IF0gfHwgXCJcIiA6IFwibm9uZVwiO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBlbGVtZW50cztcbn1cblxualF1ZXJ5LmV4dGVuZCh7XG5cdC8vIEFkZCBpbiBzdHlsZSBwcm9wZXJ0eSBob29rcyBmb3Igb3ZlcnJpZGluZyB0aGUgZGVmYXVsdFxuXHQvLyBiZWhhdmlvciBvZiBnZXR0aW5nIGFuZCBzZXR0aW5nIGEgc3R5bGUgcHJvcGVydHlcblx0Y3NzSG9va3M6IHtcblx0XHRvcGFjaXR5OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRcdFx0XHQvLyBXZSBzaG91bGQgYWx3YXlzIGdldCBhIG51bWJlciBiYWNrIGZyb20gb3BhY2l0eVxuXHRcdFx0XHRcdHZhciByZXQgPSBjdXJDU1MoIGVsZW0sIFwib3BhY2l0eVwiICk7XG5cdFx0XHRcdFx0cmV0dXJuIHJldCA9PT0gXCJcIiA/IFwiMVwiIDogcmV0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdC8vIERvbid0IGF1dG9tYXRpY2FsbHkgYWRkIFwicHhcIiB0byB0aGVzZSBwb3NzaWJseS11bml0bGVzcyBwcm9wZXJ0aWVzXG5cdGNzc051bWJlcjoge1xuXHRcdFwiY29sdW1uQ291bnRcIjogdHJ1ZSxcblx0XHRcImZpbGxPcGFjaXR5XCI6IHRydWUsXG5cdFx0XCJmbGV4R3Jvd1wiOiB0cnVlLFxuXHRcdFwiZmxleFNocmlua1wiOiB0cnVlLFxuXHRcdFwiZm9udFdlaWdodFwiOiB0cnVlLFxuXHRcdFwibGluZUhlaWdodFwiOiB0cnVlLFxuXHRcdFwib3BhY2l0eVwiOiB0cnVlLFxuXHRcdFwib3JkZXJcIjogdHJ1ZSxcblx0XHRcIm9ycGhhbnNcIjogdHJ1ZSxcblx0XHRcIndpZG93c1wiOiB0cnVlLFxuXHRcdFwiekluZGV4XCI6IHRydWUsXG5cdFx0XCJ6b29tXCI6IHRydWVcblx0fSxcblxuXHQvLyBBZGQgaW4gcHJvcGVydGllcyB3aG9zZSBuYW1lcyB5b3Ugd2lzaCB0byBmaXggYmVmb3JlXG5cdC8vIHNldHRpbmcgb3IgZ2V0dGluZyB0aGUgdmFsdWVcblx0Y3NzUHJvcHM6IHtcblx0XHQvLyBub3JtYWxpemUgZmxvYXQgY3NzIHByb3BlcnR5XG5cdFx0XCJmbG9hdFwiOiBcImNzc0Zsb2F0XCJcblx0fSxcblxuXHQvLyBHZXQgYW5kIHNldCB0aGUgc3R5bGUgcHJvcGVydHkgb24gYSBET00gTm9kZVxuXHRzdHlsZTogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlLCBleHRyYSApIHtcblx0XHQvLyBEb24ndCBzZXQgc3R5bGVzIG9uIHRleHQgYW5kIGNvbW1lbnQgbm9kZXNcblx0XHRpZiAoICFlbGVtIHx8IGVsZW0ubm9kZVR5cGUgPT09IDMgfHwgZWxlbS5ub2RlVHlwZSA9PT0gOCB8fCAhZWxlbS5zdHlsZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWVcblx0XHR2YXIgcmV0LCB0eXBlLCBob29rcyxcblx0XHRcdG9yaWdOYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZSApLFxuXHRcdFx0c3R5bGUgPSBlbGVtLnN0eWxlO1xuXG5cdFx0bmFtZSA9IGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSB8fCAoIGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSA9IHZlbmRvclByb3BOYW1lKCBzdHlsZSwgb3JpZ05hbWUgKSApO1xuXG5cdFx0Ly8gZ2V0cyBob29rIGZvciB0aGUgcHJlZml4ZWQgdmVyc2lvblxuXHRcdC8vIGZvbGxvd2VkIGJ5IHRoZSB1bnByZWZpeGVkIHZlcnNpb25cblx0XHRob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdIHx8IGpRdWVyeS5jc3NIb29rc1sgb3JpZ05hbWUgXTtcblxuXHRcdC8vIENoZWNrIGlmIHdlJ3JlIHNldHRpbmcgYSB2YWx1ZVxuXHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cblx0XHRcdC8vIGNvbnZlcnQgcmVsYXRpdmUgbnVtYmVyIHN0cmluZ3MgKCs9IG9yIC09KSB0byByZWxhdGl2ZSBudW1iZXJzLiAjNzM0NVxuXHRcdFx0aWYgKCB0eXBlID09PSBcInN0cmluZ1wiICYmIChyZXQgPSBycmVsTnVtLmV4ZWMoIHZhbHVlICkpICkge1xuXHRcdFx0XHR2YWx1ZSA9ICggcmV0WzFdICsgMSApICogcmV0WzJdICsgcGFyc2VGbG9hdCggalF1ZXJ5LmNzcyggZWxlbSwgbmFtZSApICk7XG5cdFx0XHRcdC8vIEZpeGVzIGJ1ZyAjOTIzN1xuXHRcdFx0XHR0eXBlID0gXCJudW1iZXJcIjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTWFrZSBzdXJlIHRoYXQgbnVsbCBhbmQgTmFOIHZhbHVlcyBhcmVuJ3Qgc2V0LiBTZWU6ICM3MTE2XG5cdFx0XHRpZiAoIHZhbHVlID09IG51bGwgfHwgdmFsdWUgIT09IHZhbHVlICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIGEgbnVtYmVyIHdhcyBwYXNzZWQgaW4sIGFkZCAncHgnIHRvIHRoZSAoZXhjZXB0IGZvciBjZXJ0YWluIENTUyBwcm9wZXJ0aWVzKVxuXHRcdFx0aWYgKCB0eXBlID09PSBcIm51bWJlclwiICYmICFqUXVlcnkuY3NzTnVtYmVyWyBvcmlnTmFtZSBdICkge1xuXHRcdFx0XHR2YWx1ZSArPSBcInB4XCI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEZpeGVzICM4OTA4LCBpdCBjYW4gYmUgZG9uZSBtb3JlIGNvcnJlY3RseSBieSBzcGVjaWZ5aW5nIHNldHRlcnMgaW4gY3NzSG9va3MsXG5cdFx0XHQvLyBidXQgaXQgd291bGQgbWVhbiB0byBkZWZpbmUgZWlnaHQgKGZvciBldmVyeSBwcm9ibGVtYXRpYyBwcm9wZXJ0eSkgaWRlbnRpY2FsIGZ1bmN0aW9uc1xuXHRcdFx0aWYgKCAhc3VwcG9ydC5jbGVhckNsb25lU3R5bGUgJiYgdmFsdWUgPT09IFwiXCIgJiYgbmFtZS5pbmRleE9mKCBcImJhY2tncm91bmRcIiApID09PSAwICkge1xuXHRcdFx0XHRzdHlsZVsgbmFtZSBdID0gXCJpbmhlcml0XCI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQsIHVzZSB0aGF0IHZhbHVlLCBvdGhlcndpc2UganVzdCBzZXQgdGhlIHNwZWNpZmllZCB2YWx1ZVxuXHRcdFx0aWYgKCAhaG9va3MgfHwgIShcInNldFwiIGluIGhvb2tzKSB8fCAodmFsdWUgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBleHRyYSApKSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRzdHlsZVsgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHR9XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIG5vbi1jb21wdXRlZCB2YWx1ZSBmcm9tIHRoZXJlXG5cdFx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiYgKHJldCA9IGhvb2tzLmdldCggZWxlbSwgZmFsc2UsIGV4dHJhICkpICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE90aGVyd2lzZSBqdXN0IGdldCB0aGUgdmFsdWUgZnJvbSB0aGUgc3R5bGUgb2JqZWN0XG5cdFx0XHRyZXR1cm4gc3R5bGVbIG5hbWUgXTtcblx0XHR9XG5cdH0sXG5cblx0Y3NzOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZXh0cmEsIHN0eWxlcyApIHtcblx0XHR2YXIgdmFsLCBudW0sIGhvb2tzLFxuXHRcdFx0b3JpZ05hbWUgPSBqUXVlcnkuY2FtZWxDYXNlKCBuYW1lICk7XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWVcblx0XHRuYW1lID0galF1ZXJ5LmNzc1Byb3BzWyBvcmlnTmFtZSBdIHx8ICggalF1ZXJ5LmNzc1Byb3BzWyBvcmlnTmFtZSBdID0gdmVuZG9yUHJvcE5hbWUoIGVsZW0uc3R5bGUsIG9yaWdOYW1lICkgKTtcblxuXHRcdC8vIGdldHMgaG9vayBmb3IgdGhlIHByZWZpeGVkIHZlcnNpb25cblx0XHQvLyBmb2xsb3dlZCBieSB0aGUgdW5wcmVmaXhlZCB2ZXJzaW9uXG5cdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXSB8fCBqUXVlcnkuY3NzSG9va3NbIG9yaWdOYW1lIF07XG5cblx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkIGdldCB0aGUgY29tcHV0ZWQgdmFsdWUgZnJvbSB0aGVyZVxuXHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyApIHtcblx0XHRcdHZhbCA9IGhvb2tzLmdldCggZWxlbSwgdHJ1ZSwgZXh0cmEgKTtcblx0XHR9XG5cblx0XHQvLyBPdGhlcndpc2UsIGlmIGEgd2F5IHRvIGdldCB0aGUgY29tcHV0ZWQgdmFsdWUgZXhpc3RzLCB1c2UgdGhhdFxuXHRcdGlmICggdmFsID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR2YWwgPSBjdXJDU1MoIGVsZW0sIG5hbWUsIHN0eWxlcyApO1xuXHRcdH1cblxuXHRcdC8vY29udmVydCBcIm5vcm1hbFwiIHRvIGNvbXB1dGVkIHZhbHVlXG5cdFx0aWYgKCB2YWwgPT09IFwibm9ybWFsXCIgJiYgbmFtZSBpbiBjc3NOb3JtYWxUcmFuc2Zvcm0gKSB7XG5cdFx0XHR2YWwgPSBjc3NOb3JtYWxUcmFuc2Zvcm1bIG5hbWUgXTtcblx0XHR9XG5cblx0XHQvLyBSZXR1cm4sIGNvbnZlcnRpbmcgdG8gbnVtYmVyIGlmIGZvcmNlZCBvciBhIHF1YWxpZmllciB3YXMgcHJvdmlkZWQgYW5kIHZhbCBsb29rcyBudW1lcmljXG5cdFx0aWYgKCBleHRyYSA9PT0gXCJcIiB8fCBleHRyYSApIHtcblx0XHRcdG51bSA9IHBhcnNlRmxvYXQoIHZhbCApO1xuXHRcdFx0cmV0dXJuIGV4dHJhID09PSB0cnVlIHx8IGpRdWVyeS5pc051bWVyaWMoIG51bSApID8gbnVtIHx8IDAgOiB2YWw7XG5cdFx0fVxuXHRcdHJldHVybiB2YWw7XG5cdH1cbn0pO1xuXG5qUXVlcnkuZWFjaChbIFwiaGVpZ2h0XCIsIFwid2lkdGhcIiBdLCBmdW5jdGlvbiggaSwgbmFtZSApIHtcblx0alF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gPSB7XG5cdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQsIGV4dHJhICkge1xuXHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRcdFx0Ly8gY2VydGFpbiBlbGVtZW50cyBjYW4gaGF2ZSBkaW1lbnNpb24gaW5mbyBpZiB3ZSBpbnZpc2libHkgc2hvdyB0aGVtXG5cdFx0XHRcdC8vIGhvd2V2ZXIsIGl0IG11c3QgaGF2ZSBhIGN1cnJlbnQgZGlzcGxheSBzdHlsZSB0aGF0IHdvdWxkIGJlbmVmaXQgZnJvbSB0aGlzXG5cdFx0XHRcdHJldHVybiByZGlzcGxheXN3YXAudGVzdCggalF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSApICYmIGVsZW0ub2Zmc2V0V2lkdGggPT09IDAgP1xuXHRcdFx0XHRcdGpRdWVyeS5zd2FwKCBlbGVtLCBjc3NTaG93LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHJldHVybiBnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSApO1xuXHRcdFx0XHRcdH0pIDpcblx0XHRcdFx0XHRnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSApO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSwgZXh0cmEgKSB7XG5cdFx0XHR2YXIgc3R5bGVzID0gZXh0cmEgJiYgZ2V0U3R5bGVzKCBlbGVtICk7XG5cdFx0XHRyZXR1cm4gc2V0UG9zaXRpdmVOdW1iZXIoIGVsZW0sIHZhbHVlLCBleHRyYSA/XG5cdFx0XHRcdGF1Z21lbnRXaWR0aE9ySGVpZ2h0KFxuXHRcdFx0XHRcdGVsZW0sXG5cdFx0XHRcdFx0bmFtZSxcblx0XHRcdFx0XHRleHRyYSxcblx0XHRcdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBcImJveFNpemluZ1wiLCBmYWxzZSwgc3R5bGVzICkgPT09IFwiYm9yZGVyLWJveFwiLFxuXHRcdFx0XHRcdHN0eWxlc1xuXHRcdFx0XHQpIDogMFxuXHRcdFx0KTtcblx0XHR9XG5cdH07XG59KTtcblxuLy8gU3VwcG9ydDogQW5kcm9pZCAyLjNcbmpRdWVyeS5jc3NIb29rcy5tYXJnaW5SaWdodCA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5yZWxpYWJsZU1hcmdpblJpZ2h0LFxuXHRmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7XG5cdFx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRcdC8vIFdlYktpdCBCdWcgMTMzNDMgLSBnZXRDb21wdXRlZFN0eWxlIHJldHVybnMgd3JvbmcgdmFsdWUgZm9yIG1hcmdpbi1yaWdodFxuXHRcdFx0Ly8gV29yayBhcm91bmQgYnkgdGVtcG9yYXJpbHkgc2V0dGluZyBlbGVtZW50IGRpc3BsYXkgdG8gaW5saW5lLWJsb2NrXG5cdFx0XHRyZXR1cm4galF1ZXJ5LnN3YXAoIGVsZW0sIHsgXCJkaXNwbGF5XCI6IFwiaW5saW5lLWJsb2NrXCIgfSxcblx0XHRcdFx0Y3VyQ1NTLCBbIGVsZW0sIFwibWFyZ2luUmlnaHRcIiBdICk7XG5cdFx0fVxuXHR9XG4pO1xuXG4vLyBUaGVzZSBob29rcyBhcmUgdXNlZCBieSBhbmltYXRlIHRvIGV4cGFuZCBwcm9wZXJ0aWVzXG5qUXVlcnkuZWFjaCh7XG5cdG1hcmdpbjogXCJcIixcblx0cGFkZGluZzogXCJcIixcblx0Ym9yZGVyOiBcIldpZHRoXCJcbn0sIGZ1bmN0aW9uKCBwcmVmaXgsIHN1ZmZpeCApIHtcblx0alF1ZXJ5LmNzc0hvb2tzWyBwcmVmaXggKyBzdWZmaXggXSA9IHtcblx0XHRleHBhbmQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciBpID0gMCxcblx0XHRcdFx0ZXhwYW5kZWQgPSB7fSxcblxuXHRcdFx0XHQvLyBhc3N1bWVzIGEgc2luZ2xlIG51bWJlciBpZiBub3QgYSBzdHJpbmdcblx0XHRcdFx0cGFydHMgPSB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyB2YWx1ZS5zcGxpdChcIiBcIikgOiBbIHZhbHVlIF07XG5cblx0XHRcdGZvciAoIDsgaSA8IDQ7IGkrKyApIHtcblx0XHRcdFx0ZXhwYW5kZWRbIHByZWZpeCArIGNzc0V4cGFuZFsgaSBdICsgc3VmZml4IF0gPVxuXHRcdFx0XHRcdHBhcnRzWyBpIF0gfHwgcGFydHNbIGkgLSAyIF0gfHwgcGFydHNbIDAgXTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGV4cGFuZGVkO1xuXHRcdH1cblx0fTtcblxuXHRpZiAoICFybWFyZ2luLnRlc3QoIHByZWZpeCApICkge1xuXHRcdGpRdWVyeS5jc3NIb29rc1sgcHJlZml4ICsgc3VmZml4IF0uc2V0ID0gc2V0UG9zaXRpdmVOdW1iZXI7XG5cdH1cbn0pO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKHtcblx0Y3NzOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdFx0dmFyIHN0eWxlcywgbGVuLFxuXHRcdFx0XHRtYXAgPSB7fSxcblx0XHRcdFx0aSA9IDA7XG5cblx0XHRcdGlmICggalF1ZXJ5LmlzQXJyYXkoIG5hbWUgKSApIHtcblx0XHRcdFx0c3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICk7XG5cdFx0XHRcdGxlbiA9IG5hbWUubGVuZ3RoO1xuXG5cdFx0XHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0XHRcdG1hcFsgbmFtZVsgaSBdIF0gPSBqUXVlcnkuY3NzKCBlbGVtLCBuYW1lWyBpIF0sIGZhbHNlLCBzdHlsZXMgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBtYXA7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkID9cblx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBuYW1lLCB2YWx1ZSApIDpcblx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgbmFtZSApO1xuXHRcdH0sIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuXHR9LFxuXHRzaG93OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc2hvd0hpZGUoIHRoaXMsIHRydWUgKTtcblx0fSxcblx0aGlkZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNob3dIaWRlKCB0aGlzICk7XG5cdH0sXG5cdHRvZ2dsZTogZnVuY3Rpb24oIHN0YXRlICkge1xuXHRcdGlmICggdHlwZW9mIHN0YXRlID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRcdHJldHVybiBzdGF0ZSA/IHRoaXMuc2hvdygpIDogdGhpcy5oaWRlKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdGlmICggaXNIaWRkZW4oIHRoaXMgKSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuc2hvdygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59KTtcblxuXG5mdW5jdGlvbiBUd2VlbiggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcgKSB7XG5cdHJldHVybiBuZXcgVHdlZW4ucHJvdG90eXBlLmluaXQoIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nICk7XG59XG5qUXVlcnkuVHdlZW4gPSBUd2VlbjtcblxuVHdlZW4ucHJvdG90eXBlID0ge1xuXHRjb25zdHJ1Y3RvcjogVHdlZW4sXG5cdGluaXQ6IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZywgdW5pdCApIHtcblx0XHR0aGlzLmVsZW0gPSBlbGVtO1xuXHRcdHRoaXMucHJvcCA9IHByb3A7XG5cdFx0dGhpcy5lYXNpbmcgPSBlYXNpbmcgfHwgXCJzd2luZ1wiO1xuXHRcdHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cdFx0dGhpcy5zdGFydCA9IHRoaXMubm93ID0gdGhpcy5jdXIoKTtcblx0XHR0aGlzLmVuZCA9IGVuZDtcblx0XHR0aGlzLnVuaXQgPSB1bml0IHx8ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdID8gXCJcIiA6IFwicHhcIiApO1xuXHR9LFxuXHRjdXI6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBob29rcyA9IFR3ZWVuLnByb3BIb29rc1sgdGhpcy5wcm9wIF07XG5cblx0XHRyZXR1cm4gaG9va3MgJiYgaG9va3MuZ2V0ID9cblx0XHRcdGhvb2tzLmdldCggdGhpcyApIDpcblx0XHRcdFR3ZWVuLnByb3BIb29rcy5fZGVmYXVsdC5nZXQoIHRoaXMgKTtcblx0fSxcblx0cnVuOiBmdW5jdGlvbiggcGVyY2VudCApIHtcblx0XHR2YXIgZWFzZWQsXG5cdFx0XHRob29rcyA9IFR3ZWVuLnByb3BIb29rc1sgdGhpcy5wcm9wIF07XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5kdXJhdGlvbiApIHtcblx0XHRcdHRoaXMucG9zID0gZWFzZWQgPSBqUXVlcnkuZWFzaW5nWyB0aGlzLmVhc2luZyBdKFxuXHRcdFx0XHRwZXJjZW50LCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gKiBwZXJjZW50LCAwLCAxLCB0aGlzLm9wdGlvbnMuZHVyYXRpb25cblx0XHRcdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMucG9zID0gZWFzZWQgPSBwZXJjZW50O1xuXHRcdH1cblx0XHR0aGlzLm5vdyA9ICggdGhpcy5lbmQgLSB0aGlzLnN0YXJ0ICkgKiBlYXNlZCArIHRoaXMuc3RhcnQ7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5zdGVwICkge1xuXHRcdFx0dGhpcy5vcHRpb25zLnN0ZXAuY2FsbCggdGhpcy5lbGVtLCB0aGlzLm5vdywgdGhpcyApO1xuXHRcdH1cblxuXHRcdGlmICggaG9va3MgJiYgaG9va3Muc2V0ICkge1xuXHRcdFx0aG9va3Muc2V0KCB0aGlzICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdFR3ZWVuLnByb3BIb29rcy5fZGVmYXVsdC5zZXQoIHRoaXMgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cbn07XG5cblR3ZWVuLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZSA9IFR3ZWVuLnByb3RvdHlwZTtcblxuVHdlZW4ucHJvcEhvb2tzID0ge1xuXHRfZGVmYXVsdDoge1xuXHRcdGdldDogZnVuY3Rpb24oIHR3ZWVuICkge1xuXHRcdFx0dmFyIHJlc3VsdDtcblxuXHRcdFx0aWYgKCB0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gIT0gbnVsbCAmJlxuXHRcdFx0XHQoIXR3ZWVuLmVsZW0uc3R5bGUgfHwgdHdlZW4uZWxlbS5zdHlsZVsgdHdlZW4ucHJvcCBdID09IG51bGwpICkge1xuXHRcdFx0XHRyZXR1cm4gdHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBwYXNzaW5nIGFuIGVtcHR5IHN0cmluZyBhcyBhIDNyZCBwYXJhbWV0ZXIgdG8gLmNzcyB3aWxsIGF1dG9tYXRpY2FsbHlcblx0XHRcdC8vIGF0dGVtcHQgYSBwYXJzZUZsb2F0IGFuZCBmYWxsYmFjayB0byBhIHN0cmluZyBpZiB0aGUgcGFyc2UgZmFpbHNcblx0XHRcdC8vIHNvLCBzaW1wbGUgdmFsdWVzIHN1Y2ggYXMgXCIxMHB4XCIgYXJlIHBhcnNlZCB0byBGbG9hdC5cblx0XHRcdC8vIGNvbXBsZXggdmFsdWVzIHN1Y2ggYXMgXCJyb3RhdGUoMXJhZClcIiBhcmUgcmV0dXJuZWQgYXMgaXMuXG5cdFx0XHRyZXN1bHQgPSBqUXVlcnkuY3NzKCB0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCBcIlwiICk7XG5cdFx0XHQvLyBFbXB0eSBzdHJpbmdzLCBudWxsLCB1bmRlZmluZWQgYW5kIFwiYXV0b1wiIGFyZSBjb252ZXJ0ZWQgdG8gMC5cblx0XHRcdHJldHVybiAhcmVzdWx0IHx8IHJlc3VsdCA9PT0gXCJhdXRvXCIgPyAwIDogcmVzdWx0O1xuXHRcdH0sXG5cdFx0c2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cdFx0XHQvLyB1c2Ugc3RlcCBob29rIGZvciBiYWNrIGNvbXBhdCAtIHVzZSBjc3NIb29rIGlmIGl0cyB0aGVyZSAtIHVzZSAuc3R5bGUgaWYgaXRzXG5cdFx0XHQvLyBhdmFpbGFibGUgYW5kIHVzZSBwbGFpbiBwcm9wZXJ0aWVzIHdoZXJlIGF2YWlsYWJsZVxuXHRcdFx0aWYgKCBqUXVlcnkuZnguc3RlcFsgdHdlZW4ucHJvcCBdICkge1xuXHRcdFx0XHRqUXVlcnkuZnguc3RlcFsgdHdlZW4ucHJvcCBdKCB0d2VlbiApO1xuXHRcdFx0fSBlbHNlIGlmICggdHdlZW4uZWxlbS5zdHlsZSAmJiAoIHR3ZWVuLmVsZW0uc3R5bGVbIGpRdWVyeS5jc3NQcm9wc1sgdHdlZW4ucHJvcCBdIF0gIT0gbnVsbCB8fCBqUXVlcnkuY3NzSG9va3NbIHR3ZWVuLnByb3AgXSApICkge1xuXHRcdFx0XHRqUXVlcnkuc3R5bGUoIHR3ZWVuLmVsZW0sIHR3ZWVuLnByb3AsIHR3ZWVuLm5vdyArIHR3ZWVuLnVuaXQgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdztcblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG5cbi8vIFN1cHBvcnQ6IElFOVxuLy8gUGFuaWMgYmFzZWQgYXBwcm9hY2ggdG8gc2V0dGluZyB0aGluZ3Mgb24gZGlzY29ubmVjdGVkIG5vZGVzXG5cblR3ZWVuLnByb3BIb29rcy5zY3JvbGxUb3AgPSBUd2Vlbi5wcm9wSG9va3Muc2Nyb2xsTGVmdCA9IHtcblx0c2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cdFx0aWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlICYmIHR3ZWVuLmVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdztcblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5lYXNpbmcgPSB7XG5cdGxpbmVhcjogZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIHA7XG5cdH0sXG5cdHN3aW5nOiBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gMC41IC0gTWF0aC5jb3MoIHAgKiBNYXRoLlBJICkgLyAyO1xuXHR9XG59O1xuXG5qUXVlcnkuZnggPSBUd2Vlbi5wcm90b3R5cGUuaW5pdDtcblxuLy8gQmFjayBDb21wYXQgPDEuOCBleHRlbnNpb24gcG9pbnRcbmpRdWVyeS5meC5zdGVwID0ge307XG5cblxuXG5cbnZhclxuXHRmeE5vdywgdGltZXJJZCxcblx0cmZ4dHlwZXMgPSAvXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sXG5cdHJmeG51bSA9IG5ldyBSZWdFeHAoIFwiXig/OihbKy1dKT18KShcIiArIHBudW0gKyBcIikoW2EteiVdKikkXCIsIFwiaVwiICksXG5cdHJydW4gPSAvcXVldWVIb29rcyQvLFxuXHRhbmltYXRpb25QcmVmaWx0ZXJzID0gWyBkZWZhdWx0UHJlZmlsdGVyIF0sXG5cdHR3ZWVuZXJzID0ge1xuXHRcdFwiKlwiOiBbIGZ1bmN0aW9uKCBwcm9wLCB2YWx1ZSApIHtcblx0XHRcdHZhciB0d2VlbiA9IHRoaXMuY3JlYXRlVHdlZW4oIHByb3AsIHZhbHVlICksXG5cdFx0XHRcdHRhcmdldCA9IHR3ZWVuLmN1cigpLFxuXHRcdFx0XHRwYXJ0cyA9IHJmeG51bS5leGVjKCB2YWx1ZSApLFxuXHRcdFx0XHR1bml0ID0gcGFydHMgJiYgcGFydHNbIDMgXSB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSA/IFwiXCIgOiBcInB4XCIgKSxcblxuXHRcdFx0XHQvLyBTdGFydGluZyB2YWx1ZSBjb21wdXRhdGlvbiBpcyByZXF1aXJlZCBmb3IgcG90ZW50aWFsIHVuaXQgbWlzbWF0Y2hlc1xuXHRcdFx0XHRzdGFydCA9ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdIHx8IHVuaXQgIT09IFwicHhcIiAmJiArdGFyZ2V0ICkgJiZcblx0XHRcdFx0XHRyZnhudW0uZXhlYyggalF1ZXJ5LmNzcyggdHdlZW4uZWxlbSwgcHJvcCApICksXG5cdFx0XHRcdHNjYWxlID0gMSxcblx0XHRcdFx0bWF4SXRlcmF0aW9ucyA9IDIwO1xuXG5cdFx0XHRpZiAoIHN0YXJ0ICYmIHN0YXJ0WyAzIF0gIT09IHVuaXQgKSB7XG5cdFx0XHRcdC8vIFRydXN0IHVuaXRzIHJlcG9ydGVkIGJ5IGpRdWVyeS5jc3Ncblx0XHRcdFx0dW5pdCA9IHVuaXQgfHwgc3RhcnRbIDMgXTtcblxuXHRcdFx0XHQvLyBNYWtlIHN1cmUgd2UgdXBkYXRlIHRoZSB0d2VlbiBwcm9wZXJ0aWVzIGxhdGVyIG9uXG5cdFx0XHRcdHBhcnRzID0gcGFydHMgfHwgW107XG5cblx0XHRcdFx0Ly8gSXRlcmF0aXZlbHkgYXBwcm94aW1hdGUgZnJvbSBhIG5vbnplcm8gc3RhcnRpbmcgcG9pbnRcblx0XHRcdFx0c3RhcnQgPSArdGFyZ2V0IHx8IDE7XG5cblx0XHRcdFx0ZG8ge1xuXHRcdFx0XHRcdC8vIElmIHByZXZpb3VzIGl0ZXJhdGlvbiB6ZXJvZWQgb3V0LCBkb3VibGUgdW50aWwgd2UgZ2V0ICpzb21ldGhpbmcqXG5cdFx0XHRcdFx0Ly8gVXNlIGEgc3RyaW5nIGZvciBkb3VibGluZyBmYWN0b3Igc28gd2UgZG9uJ3QgYWNjaWRlbnRhbGx5IHNlZSBzY2FsZSBhcyB1bmNoYW5nZWQgYmVsb3dcblx0XHRcdFx0XHRzY2FsZSA9IHNjYWxlIHx8IFwiLjVcIjtcblxuXHRcdFx0XHRcdC8vIEFkanVzdCBhbmQgYXBwbHlcblx0XHRcdFx0XHRzdGFydCA9IHN0YXJ0IC8gc2NhbGU7XG5cdFx0XHRcdFx0alF1ZXJ5LnN0eWxlKCB0d2Vlbi5lbGVtLCBwcm9wLCBzdGFydCArIHVuaXQgKTtcblxuXHRcdFx0XHQvLyBVcGRhdGUgc2NhbGUsIHRvbGVyYXRpbmcgemVybyBvciBOYU4gZnJvbSB0d2Vlbi5jdXIoKVxuXHRcdFx0XHQvLyBBbmQgYnJlYWtpbmcgdGhlIGxvb3AgaWYgc2NhbGUgaXMgdW5jaGFuZ2VkIG9yIHBlcmZlY3QsIG9yIGlmIHdlJ3ZlIGp1c3QgaGFkIGVub3VnaFxuXHRcdFx0XHR9IHdoaWxlICggc2NhbGUgIT09IChzY2FsZSA9IHR3ZWVuLmN1cigpIC8gdGFyZ2V0KSAmJiBzY2FsZSAhPT0gMSAmJiAtLW1heEl0ZXJhdGlvbnMgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVXBkYXRlIHR3ZWVuIHByb3BlcnRpZXNcblx0XHRcdGlmICggcGFydHMgKSB7XG5cdFx0XHRcdHN0YXJ0ID0gdHdlZW4uc3RhcnQgPSArc3RhcnQgfHwgK3RhcmdldCB8fCAwO1xuXHRcdFx0XHR0d2Vlbi51bml0ID0gdW5pdDtcblx0XHRcdFx0Ly8gSWYgYSArPS8tPSB0b2tlbiB3YXMgcHJvdmlkZWQsIHdlJ3JlIGRvaW5nIGEgcmVsYXRpdmUgYW5pbWF0aW9uXG5cdFx0XHRcdHR3ZWVuLmVuZCA9IHBhcnRzWyAxIF0gP1xuXHRcdFx0XHRcdHN0YXJ0ICsgKCBwYXJ0c1sgMSBdICsgMSApICogcGFydHNbIDIgXSA6XG5cdFx0XHRcdFx0K3BhcnRzWyAyIF07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0d2Vlbjtcblx0XHR9IF1cblx0fTtcblxuLy8gQW5pbWF0aW9ucyBjcmVhdGVkIHN5bmNocm9ub3VzbHkgd2lsbCBydW4gc3luY2hyb25vdXNseVxuZnVuY3Rpb24gY3JlYXRlRnhOb3coKSB7XG5cdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0ZnhOb3cgPSB1bmRlZmluZWQ7XG5cdH0pO1xuXHRyZXR1cm4gKCBmeE5vdyA9IGpRdWVyeS5ub3coKSApO1xufVxuXG4vLyBHZW5lcmF0ZSBwYXJhbWV0ZXJzIHRvIGNyZWF0ZSBhIHN0YW5kYXJkIGFuaW1hdGlvblxuZnVuY3Rpb24gZ2VuRngoIHR5cGUsIGluY2x1ZGVXaWR0aCApIHtcblx0dmFyIHdoaWNoLFxuXHRcdGkgPSAwLFxuXHRcdGF0dHJzID0geyBoZWlnaHQ6IHR5cGUgfTtcblxuXHQvLyBpZiB3ZSBpbmNsdWRlIHdpZHRoLCBzdGVwIHZhbHVlIGlzIDEgdG8gZG8gYWxsIGNzc0V4cGFuZCB2YWx1ZXMsXG5cdC8vIGlmIHdlIGRvbid0IGluY2x1ZGUgd2lkdGgsIHN0ZXAgdmFsdWUgaXMgMiB0byBza2lwIG92ZXIgTGVmdCBhbmQgUmlnaHRcblx0aW5jbHVkZVdpZHRoID0gaW5jbHVkZVdpZHRoID8gMSA6IDA7XG5cdGZvciAoIDsgaSA8IDQgOyBpICs9IDIgLSBpbmNsdWRlV2lkdGggKSB7XG5cdFx0d2hpY2ggPSBjc3NFeHBhbmRbIGkgXTtcblx0XHRhdHRyc1sgXCJtYXJnaW5cIiArIHdoaWNoIF0gPSBhdHRyc1sgXCJwYWRkaW5nXCIgKyB3aGljaCBdID0gdHlwZTtcblx0fVxuXG5cdGlmICggaW5jbHVkZVdpZHRoICkge1xuXHRcdGF0dHJzLm9wYWNpdHkgPSBhdHRycy53aWR0aCA9IHR5cGU7XG5cdH1cblxuXHRyZXR1cm4gYXR0cnM7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVR3ZWVuKCB2YWx1ZSwgcHJvcCwgYW5pbWF0aW9uICkge1xuXHR2YXIgdHdlZW4sXG5cdFx0Y29sbGVjdGlvbiA9ICggdHdlZW5lcnNbIHByb3AgXSB8fCBbXSApLmNvbmNhdCggdHdlZW5lcnNbIFwiKlwiIF0gKSxcblx0XHRpbmRleCA9IDAsXG5cdFx0bGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGg7XG5cdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0aWYgKCAodHdlZW4gPSBjb2xsZWN0aW9uWyBpbmRleCBdLmNhbGwoIGFuaW1hdGlvbiwgcHJvcCwgdmFsdWUgKSkgKSB7XG5cblx0XHRcdC8vIHdlJ3JlIGRvbmUgd2l0aCB0aGlzIHByb3BlcnR5XG5cdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRQcmVmaWx0ZXIoIGVsZW0sIHByb3BzLCBvcHRzICkge1xuXHQvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG5cdHZhciBwcm9wLCB2YWx1ZSwgdG9nZ2xlLCB0d2VlbiwgaG9va3MsIG9sZGZpcmUsIGRpc3BsYXksIGNoZWNrRGlzcGxheSxcblx0XHRhbmltID0gdGhpcyxcblx0XHRvcmlnID0ge30sXG5cdFx0c3R5bGUgPSBlbGVtLnN0eWxlLFxuXHRcdGhpZGRlbiA9IGVsZW0ubm9kZVR5cGUgJiYgaXNIaWRkZW4oIGVsZW0gKSxcblx0XHRkYXRhU2hvdyA9IGRhdGFfcHJpdi5nZXQoIGVsZW0sIFwiZnhzaG93XCIgKTtcblxuXHQvLyBoYW5kbGUgcXVldWU6IGZhbHNlIHByb21pc2VzXG5cdGlmICggIW9wdHMucXVldWUgKSB7XG5cdFx0aG9va3MgPSBqUXVlcnkuX3F1ZXVlSG9va3MoIGVsZW0sIFwiZnhcIiApO1xuXHRcdGlmICggaG9va3MudW5xdWV1ZWQgPT0gbnVsbCApIHtcblx0XHRcdGhvb2tzLnVucXVldWVkID0gMDtcblx0XHRcdG9sZGZpcmUgPSBob29rcy5lbXB0eS5maXJlO1xuXHRcdFx0aG9va3MuZW1wdHkuZmlyZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoICFob29rcy51bnF1ZXVlZCApIHtcblx0XHRcdFx0XHRvbGRmaXJlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fVxuXHRcdGhvb2tzLnVucXVldWVkKys7XG5cblx0XHRhbmltLmFsd2F5cyhmdW5jdGlvbigpIHtcblx0XHRcdC8vIGRvaW5nIHRoaXMgbWFrZXMgc3VyZSB0aGF0IHRoZSBjb21wbGV0ZSBoYW5kbGVyIHdpbGwgYmUgY2FsbGVkXG5cdFx0XHQvLyBiZWZvcmUgdGhpcyBjb21wbGV0ZXNcblx0XHRcdGFuaW0uYWx3YXlzKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRob29rcy51bnF1ZXVlZC0tO1xuXHRcdFx0XHRpZiAoICFqUXVlcnkucXVldWUoIGVsZW0sIFwiZnhcIiApLmxlbmd0aCApIHtcblx0XHRcdFx0XHRob29rcy5lbXB0eS5maXJlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0Ly8gaGVpZ2h0L3dpZHRoIG92ZXJmbG93IHBhc3Ncblx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmICggXCJoZWlnaHRcIiBpbiBwcm9wcyB8fCBcIndpZHRoXCIgaW4gcHJvcHMgKSApIHtcblx0XHQvLyBNYWtlIHN1cmUgdGhhdCBub3RoaW5nIHNuZWFrcyBvdXRcblx0XHQvLyBSZWNvcmQgYWxsIDMgb3ZlcmZsb3cgYXR0cmlidXRlcyBiZWNhdXNlIElFOS0xMCBkbyBub3Rcblx0XHQvLyBjaGFuZ2UgdGhlIG92ZXJmbG93IGF0dHJpYnV0ZSB3aGVuIG92ZXJmbG93WCBhbmRcblx0XHQvLyBvdmVyZmxvd1kgYXJlIHNldCB0byB0aGUgc2FtZSB2YWx1ZVxuXHRcdG9wdHMub3ZlcmZsb3cgPSBbIHN0eWxlLm92ZXJmbG93LCBzdHlsZS5vdmVyZmxvd1gsIHN0eWxlLm92ZXJmbG93WSBdO1xuXG5cdFx0Ly8gU2V0IGRpc3BsYXkgcHJvcGVydHkgdG8gaW5saW5lLWJsb2NrIGZvciBoZWlnaHQvd2lkdGhcblx0XHQvLyBhbmltYXRpb25zIG9uIGlubGluZSBlbGVtZW50cyB0aGF0IGFyZSBoYXZpbmcgd2lkdGgvaGVpZ2h0IGFuaW1hdGVkXG5cdFx0ZGlzcGxheSA9IGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICk7XG5cblx0XHQvLyBUZXN0IGRlZmF1bHQgZGlzcGxheSBpZiBkaXNwbGF5IGlzIGN1cnJlbnRseSBcIm5vbmVcIlxuXHRcdGNoZWNrRGlzcGxheSA9IGRpc3BsYXkgPT09IFwibm9uZVwiID9cblx0XHRcdGRhdGFfcHJpdi5nZXQoIGVsZW0sIFwib2xkZGlzcGxheVwiICkgfHwgZGVmYXVsdERpc3BsYXkoIGVsZW0ubm9kZU5hbWUgKSA6IGRpc3BsYXk7XG5cblx0XHRpZiAoIGNoZWNrRGlzcGxheSA9PT0gXCJpbmxpbmVcIiAmJiBqUXVlcnkuY3NzKCBlbGVtLCBcImZsb2F0XCIgKSA9PT0gXCJub25lXCIgKSB7XG5cdFx0XHRzdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcblx0XHR9XG5cdH1cblxuXHRpZiAoIG9wdHMub3ZlcmZsb3cgKSB7XG5cdFx0c3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuXHRcdGFuaW0uYWx3YXlzKGZ1bmN0aW9uKCkge1xuXHRcdFx0c3R5bGUub3ZlcmZsb3cgPSBvcHRzLm92ZXJmbG93WyAwIF07XG5cdFx0XHRzdHlsZS5vdmVyZmxvd1ggPSBvcHRzLm92ZXJmbG93WyAxIF07XG5cdFx0XHRzdHlsZS5vdmVyZmxvd1kgPSBvcHRzLm92ZXJmbG93WyAyIF07XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBzaG93L2hpZGUgcGFzc1xuXHRmb3IgKCBwcm9wIGluIHByb3BzICkge1xuXHRcdHZhbHVlID0gcHJvcHNbIHByb3AgXTtcblx0XHRpZiAoIHJmeHR5cGVzLmV4ZWMoIHZhbHVlICkgKSB7XG5cdFx0XHRkZWxldGUgcHJvcHNbIHByb3AgXTtcblx0XHRcdHRvZ2dsZSA9IHRvZ2dsZSB8fCB2YWx1ZSA9PT0gXCJ0b2dnbGVcIjtcblx0XHRcdGlmICggdmFsdWUgPT09ICggaGlkZGVuID8gXCJoaWRlXCIgOiBcInNob3dcIiApICkge1xuXG5cdFx0XHRcdC8vIElmIHRoZXJlIGlzIGRhdGFTaG93IGxlZnQgb3ZlciBmcm9tIGEgc3RvcHBlZCBoaWRlIG9yIHNob3cgYW5kIHdlIGFyZSBnb2luZyB0byBwcm9jZWVkIHdpdGggc2hvdywgd2Ugc2hvdWxkIHByZXRlbmQgdG8gYmUgaGlkZGVuXG5cdFx0XHRcdGlmICggdmFsdWUgPT09IFwic2hvd1wiICYmIGRhdGFTaG93ICYmIGRhdGFTaG93WyBwcm9wIF0gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRoaWRkZW4gPSB0cnVlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRvcmlnWyBwcm9wIF0gPSBkYXRhU2hvdyAmJiBkYXRhU2hvd1sgcHJvcCBdIHx8IGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCApO1xuXG5cdFx0Ly8gQW55IG5vbi1meCB2YWx1ZSBzdG9wcyB1cyBmcm9tIHJlc3RvcmluZyB0aGUgb3JpZ2luYWwgZGlzcGxheSB2YWx1ZVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRkaXNwbGF5ID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0fVxuXG5cdGlmICggIWpRdWVyeS5pc0VtcHR5T2JqZWN0KCBvcmlnICkgKSB7XG5cdFx0aWYgKCBkYXRhU2hvdyApIHtcblx0XHRcdGlmICggXCJoaWRkZW5cIiBpbiBkYXRhU2hvdyApIHtcblx0XHRcdFx0aGlkZGVuID0gZGF0YVNob3cuaGlkZGVuO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRkYXRhU2hvdyA9IGRhdGFfcHJpdi5hY2Nlc3MoIGVsZW0sIFwiZnhzaG93XCIsIHt9ICk7XG5cdFx0fVxuXG5cdFx0Ly8gc3RvcmUgc3RhdGUgaWYgaXRzIHRvZ2dsZSAtIGVuYWJsZXMgLnN0b3AoKS50b2dnbGUoKSB0byBcInJldmVyc2VcIlxuXHRcdGlmICggdG9nZ2xlICkge1xuXHRcdFx0ZGF0YVNob3cuaGlkZGVuID0gIWhpZGRlbjtcblx0XHR9XG5cdFx0aWYgKCBoaWRkZW4gKSB7XG5cdFx0XHRqUXVlcnkoIGVsZW0gKS5zaG93KCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGFuaW0uZG9uZShmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5KCBlbGVtICkuaGlkZSgpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdGFuaW0uZG9uZShmdW5jdGlvbigpIHtcblx0XHRcdHZhciBwcm9wO1xuXG5cdFx0XHRkYXRhX3ByaXYucmVtb3ZlKCBlbGVtLCBcImZ4c2hvd1wiICk7XG5cdFx0XHRmb3IgKCBwcm9wIGluIG9yaWcgKSB7XG5cdFx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCwgb3JpZ1sgcHJvcCBdICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0Zm9yICggcHJvcCBpbiBvcmlnICkge1xuXHRcdFx0dHdlZW4gPSBjcmVhdGVUd2VlbiggaGlkZGVuID8gZGF0YVNob3dbIHByb3AgXSA6IDAsIHByb3AsIGFuaW0gKTtcblxuXHRcdFx0aWYgKCAhKCBwcm9wIGluIGRhdGFTaG93ICkgKSB7XG5cdFx0XHRcdGRhdGFTaG93WyBwcm9wIF0gPSB0d2Vlbi5zdGFydDtcblx0XHRcdFx0aWYgKCBoaWRkZW4gKSB7XG5cdFx0XHRcdFx0dHdlZW4uZW5kID0gdHdlZW4uc3RhcnQ7XG5cdFx0XHRcdFx0dHdlZW4uc3RhcnQgPSBwcm9wID09PSBcIndpZHRoXCIgfHwgcHJvcCA9PT0gXCJoZWlnaHRcIiA/IDEgOiAwO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdC8vIElmIHRoaXMgaXMgYSBub29wIGxpa2UgLmhpZGUoKS5oaWRlKCksIHJlc3RvcmUgYW4gb3ZlcndyaXR0ZW4gZGlzcGxheSB2YWx1ZVxuXHR9IGVsc2UgaWYgKCAoZGlzcGxheSA9PT0gXCJub25lXCIgPyBkZWZhdWx0RGlzcGxheSggZWxlbS5ub2RlTmFtZSApIDogZGlzcGxheSkgPT09IFwiaW5saW5lXCIgKSB7XG5cdFx0c3R5bGUuZGlzcGxheSA9IGRpc3BsYXk7XG5cdH1cbn1cblxuZnVuY3Rpb24gcHJvcEZpbHRlciggcHJvcHMsIHNwZWNpYWxFYXNpbmcgKSB7XG5cdHZhciBpbmRleCwgbmFtZSwgZWFzaW5nLCB2YWx1ZSwgaG9va3M7XG5cblx0Ly8gY2FtZWxDYXNlLCBzcGVjaWFsRWFzaW5nIGFuZCBleHBhbmQgY3NzSG9vayBwYXNzXG5cdGZvciAoIGluZGV4IGluIHByb3BzICkge1xuXHRcdG5hbWUgPSBqUXVlcnkuY2FtZWxDYXNlKCBpbmRleCApO1xuXHRcdGVhc2luZyA9IHNwZWNpYWxFYXNpbmdbIG5hbWUgXTtcblx0XHR2YWx1ZSA9IHByb3BzWyBpbmRleCBdO1xuXHRcdGlmICggalF1ZXJ5LmlzQXJyYXkoIHZhbHVlICkgKSB7XG5cdFx0XHRlYXNpbmcgPSB2YWx1ZVsgMSBdO1xuXHRcdFx0dmFsdWUgPSBwcm9wc1sgaW5kZXggXSA9IHZhbHVlWyAwIF07XG5cdFx0fVxuXG5cdFx0aWYgKCBpbmRleCAhPT0gbmFtZSApIHtcblx0XHRcdHByb3BzWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdGRlbGV0ZSBwcm9wc1sgaW5kZXggXTtcblx0XHR9XG5cblx0XHRob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdO1xuXHRcdGlmICggaG9va3MgJiYgXCJleHBhbmRcIiBpbiBob29rcyApIHtcblx0XHRcdHZhbHVlID0gaG9va3MuZXhwYW5kKCB2YWx1ZSApO1xuXHRcdFx0ZGVsZXRlIHByb3BzWyBuYW1lIF07XG5cblx0XHRcdC8vIG5vdCBxdWl0ZSAkLmV4dGVuZCwgdGhpcyB3b250IG92ZXJ3cml0ZSBrZXlzIGFscmVhZHkgcHJlc2VudC5cblx0XHRcdC8vIGFsc28gLSByZXVzaW5nICdpbmRleCcgZnJvbSBhYm92ZSBiZWNhdXNlIHdlIGhhdmUgdGhlIGNvcnJlY3QgXCJuYW1lXCJcblx0XHRcdGZvciAoIGluZGV4IGluIHZhbHVlICkge1xuXHRcdFx0XHRpZiAoICEoIGluZGV4IGluIHByb3BzICkgKSB7XG5cdFx0XHRcdFx0cHJvcHNbIGluZGV4IF0gPSB2YWx1ZVsgaW5kZXggXTtcblx0XHRcdFx0XHRzcGVjaWFsRWFzaW5nWyBpbmRleCBdID0gZWFzaW5nO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNwZWNpYWxFYXNpbmdbIG5hbWUgXSA9IGVhc2luZztcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gQW5pbWF0aW9uKCBlbGVtLCBwcm9wZXJ0aWVzLCBvcHRpb25zICkge1xuXHR2YXIgcmVzdWx0LFxuXHRcdHN0b3BwZWQsXG5cdFx0aW5kZXggPSAwLFxuXHRcdGxlbmd0aCA9IGFuaW1hdGlvblByZWZpbHRlcnMubGVuZ3RoLFxuXHRcdGRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCkuYWx3YXlzKCBmdW5jdGlvbigpIHtcblx0XHRcdC8vIGRvbid0IG1hdGNoIGVsZW0gaW4gdGhlIDphbmltYXRlZCBzZWxlY3RvclxuXHRcdFx0ZGVsZXRlIHRpY2suZWxlbTtcblx0XHR9KSxcblx0XHR0aWNrID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIHN0b3BwZWQgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHZhciBjdXJyZW50VGltZSA9IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksXG5cdFx0XHRcdHJlbWFpbmluZyA9IE1hdGgubWF4KCAwLCBhbmltYXRpb24uc3RhcnRUaW1lICsgYW5pbWF0aW9uLmR1cmF0aW9uIC0gY3VycmVudFRpbWUgKSxcblx0XHRcdFx0Ly8gYXJjaGFpYyBjcmFzaCBidWcgd29uJ3QgYWxsb3cgdXMgdG8gdXNlIDEgLSAoIDAuNSB8fCAwICkgKCMxMjQ5Nylcblx0XHRcdFx0dGVtcCA9IHJlbWFpbmluZyAvIGFuaW1hdGlvbi5kdXJhdGlvbiB8fCAwLFxuXHRcdFx0XHRwZXJjZW50ID0gMSAtIHRlbXAsXG5cdFx0XHRcdGluZGV4ID0gMCxcblx0XHRcdFx0bGVuZ3RoID0gYW5pbWF0aW9uLnR3ZWVucy5sZW5ndGg7XG5cblx0XHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGggOyBpbmRleCsrICkge1xuXHRcdFx0XHRhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggcGVyY2VudCApO1xuXHRcdFx0fVxuXG5cdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgcGVyY2VudCwgcmVtYWluaW5nIF0pO1xuXG5cdFx0XHRpZiAoIHBlcmNlbnQgPCAxICYmIGxlbmd0aCApIHtcblx0XHRcdFx0cmV0dXJuIHJlbWFpbmluZztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiBdICk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGFuaW1hdGlvbiA9IGRlZmVycmVkLnByb21pc2Uoe1xuXHRcdFx0ZWxlbTogZWxlbSxcblx0XHRcdHByb3BzOiBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcGVydGllcyApLFxuXHRcdFx0b3B0czogalF1ZXJ5LmV4dGVuZCggdHJ1ZSwgeyBzcGVjaWFsRWFzaW5nOiB7fSB9LCBvcHRpb25zICksXG5cdFx0XHRvcmlnaW5hbFByb3BlcnRpZXM6IHByb3BlcnRpZXMsXG5cdFx0XHRvcmlnaW5hbE9wdGlvbnM6IG9wdGlvbnMsXG5cdFx0XHRzdGFydFRpbWU6IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksXG5cdFx0XHRkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbixcblx0XHRcdHR3ZWVuczogW10sXG5cdFx0XHRjcmVhdGVUd2VlbjogZnVuY3Rpb24oIHByb3AsIGVuZCApIHtcblx0XHRcdFx0dmFyIHR3ZWVuID0galF1ZXJ5LlR3ZWVuKCBlbGVtLCBhbmltYXRpb24ub3B0cywgcHJvcCwgZW5kLFxuXHRcdFx0XHRcdFx0YW5pbWF0aW9uLm9wdHMuc3BlY2lhbEVhc2luZ1sgcHJvcCBdIHx8IGFuaW1hdGlvbi5vcHRzLmVhc2luZyApO1xuXHRcdFx0XHRhbmltYXRpb24udHdlZW5zLnB1c2goIHR3ZWVuICk7XG5cdFx0XHRcdHJldHVybiB0d2Vlbjtcblx0XHRcdH0sXG5cdFx0XHRzdG9wOiBmdW5jdGlvbiggZ290b0VuZCApIHtcblx0XHRcdFx0dmFyIGluZGV4ID0gMCxcblx0XHRcdFx0XHQvLyBpZiB3ZSBhcmUgZ29pbmcgdG8gdGhlIGVuZCwgd2Ugd2FudCB0byBydW4gYWxsIHRoZSB0d2VlbnNcblx0XHRcdFx0XHQvLyBvdGhlcndpc2Ugd2Ugc2tpcCB0aGlzIHBhcnRcblx0XHRcdFx0XHRsZW5ndGggPSBnb3RvRW5kID8gYW5pbWF0aW9uLnR3ZWVucy5sZW5ndGggOiAwO1xuXHRcdFx0XHRpZiAoIHN0b3BwZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH1cblx0XHRcdFx0c3RvcHBlZCA9IHRydWU7XG5cdFx0XHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGggOyBpbmRleCsrICkge1xuXHRcdFx0XHRcdGFuaW1hdGlvbi50d2VlbnNbIGluZGV4IF0ucnVuKCAxICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyByZXNvbHZlIHdoZW4gd2UgcGxheWVkIHRoZSBsYXN0IGZyYW1lXG5cdFx0XHRcdC8vIG90aGVyd2lzZSwgcmVqZWN0XG5cdFx0XHRcdGlmICggZ290b0VuZCApIHtcblx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggZWxlbSwgWyBhbmltYXRpb24sIGdvdG9FbmQgXSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdFdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBnb3RvRW5kIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH1cblx0XHR9KSxcblx0XHRwcm9wcyA9IGFuaW1hdGlvbi5wcm9wcztcblxuXHRwcm9wRmlsdGVyKCBwcm9wcywgYW5pbWF0aW9uLm9wdHMuc3BlY2lhbEVhc2luZyApO1xuXG5cdGZvciAoIDsgaW5kZXggPCBsZW5ndGggOyBpbmRleCsrICkge1xuXHRcdHJlc3VsdCA9IGFuaW1hdGlvblByZWZpbHRlcnNbIGluZGV4IF0uY2FsbCggYW5pbWF0aW9uLCBlbGVtLCBwcm9wcywgYW5pbWF0aW9uLm9wdHMgKTtcblx0XHRpZiAoIHJlc3VsdCApIHtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXHR9XG5cblx0alF1ZXJ5Lm1hcCggcHJvcHMsIGNyZWF0ZVR3ZWVuLCBhbmltYXRpb24gKTtcblxuXHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBhbmltYXRpb24ub3B0cy5zdGFydCApICkge1xuXHRcdGFuaW1hdGlvbi5vcHRzLnN0YXJ0LmNhbGwoIGVsZW0sIGFuaW1hdGlvbiApO1xuXHR9XG5cblx0alF1ZXJ5LmZ4LnRpbWVyKFxuXHRcdGpRdWVyeS5leHRlbmQoIHRpY2ssIHtcblx0XHRcdGVsZW06IGVsZW0sXG5cdFx0XHRhbmltOiBhbmltYXRpb24sXG5cdFx0XHRxdWV1ZTogYW5pbWF0aW9uLm9wdHMucXVldWVcblx0XHR9KVxuXHQpO1xuXG5cdC8vIGF0dGFjaCBjYWxsYmFja3MgZnJvbSBvcHRpb25zXG5cdHJldHVybiBhbmltYXRpb24ucHJvZ3Jlc3MoIGFuaW1hdGlvbi5vcHRzLnByb2dyZXNzIClcblx0XHQuZG9uZSggYW5pbWF0aW9uLm9wdHMuZG9uZSwgYW5pbWF0aW9uLm9wdHMuY29tcGxldGUgKVxuXHRcdC5mYWlsKCBhbmltYXRpb24ub3B0cy5mYWlsIClcblx0XHQuYWx3YXlzKCBhbmltYXRpb24ub3B0cy5hbHdheXMgKTtcbn1cblxualF1ZXJ5LkFuaW1hdGlvbiA9IGpRdWVyeS5leHRlbmQoIEFuaW1hdGlvbiwge1xuXG5cdHR3ZWVuZXI6IGZ1bmN0aW9uKCBwcm9wcywgY2FsbGJhY2sgKSB7XG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcHJvcHMgKSApIHtcblx0XHRcdGNhbGxiYWNrID0gcHJvcHM7XG5cdFx0XHRwcm9wcyA9IFsgXCIqXCIgXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cHJvcHMgPSBwcm9wcy5zcGxpdChcIiBcIik7XG5cdFx0fVxuXG5cdFx0dmFyIHByb3AsXG5cdFx0XHRpbmRleCA9IDAsXG5cdFx0XHRsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cblx0XHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoIDsgaW5kZXgrKyApIHtcblx0XHRcdHByb3AgPSBwcm9wc1sgaW5kZXggXTtcblx0XHRcdHR3ZWVuZXJzWyBwcm9wIF0gPSB0d2VlbmVyc1sgcHJvcCBdIHx8IFtdO1xuXHRcdFx0dHdlZW5lcnNbIHByb3AgXS51bnNoaWZ0KCBjYWxsYmFjayApO1xuXHRcdH1cblx0fSxcblxuXHRwcmVmaWx0ZXI6IGZ1bmN0aW9uKCBjYWxsYmFjaywgcHJlcGVuZCApIHtcblx0XHRpZiAoIHByZXBlbmQgKSB7XG5cdFx0XHRhbmltYXRpb25QcmVmaWx0ZXJzLnVuc2hpZnQoIGNhbGxiYWNrICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGFuaW1hdGlvblByZWZpbHRlcnMucHVzaCggY2FsbGJhY2sgKTtcblx0XHR9XG5cdH1cbn0pO1xuXG5qUXVlcnkuc3BlZWQgPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgZm4gKSB7XG5cdHZhciBvcHQgPSBzcGVlZCAmJiB0eXBlb2Ygc3BlZWQgPT09IFwib2JqZWN0XCIgPyBqUXVlcnkuZXh0ZW5kKCB7fSwgc3BlZWQgKSA6IHtcblx0XHRjb21wbGV0ZTogZm4gfHwgIWZuICYmIGVhc2luZyB8fFxuXHRcdFx0alF1ZXJ5LmlzRnVuY3Rpb24oIHNwZWVkICkgJiYgc3BlZWQsXG5cdFx0ZHVyYXRpb246IHNwZWVkLFxuXHRcdGVhc2luZzogZm4gJiYgZWFzaW5nIHx8IGVhc2luZyAmJiAhalF1ZXJ5LmlzRnVuY3Rpb24oIGVhc2luZyApICYmIGVhc2luZ1xuXHR9O1xuXG5cdG9wdC5kdXJhdGlvbiA9IGpRdWVyeS5meC5vZmYgPyAwIDogdHlwZW9mIG9wdC5kdXJhdGlvbiA9PT0gXCJudW1iZXJcIiA/IG9wdC5kdXJhdGlvbiA6XG5cdFx0b3B0LmR1cmF0aW9uIGluIGpRdWVyeS5meC5zcGVlZHMgPyBqUXVlcnkuZnguc3BlZWRzWyBvcHQuZHVyYXRpb24gXSA6IGpRdWVyeS5meC5zcGVlZHMuX2RlZmF1bHQ7XG5cblx0Ly8gbm9ybWFsaXplIG9wdC5xdWV1ZSAtIHRydWUvdW5kZWZpbmVkL251bGwgLT4gXCJmeFwiXG5cdGlmICggb3B0LnF1ZXVlID09IG51bGwgfHwgb3B0LnF1ZXVlID09PSB0cnVlICkge1xuXHRcdG9wdC5xdWV1ZSA9IFwiZnhcIjtcblx0fVxuXG5cdC8vIFF1ZXVlaW5nXG5cdG9wdC5vbGQgPSBvcHQuY29tcGxldGU7XG5cblx0b3B0LmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggb3B0Lm9sZCApICkge1xuXHRcdFx0b3B0Lm9sZC5jYWxsKCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBvcHQucXVldWUgKSB7XG5cdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgb3B0LnF1ZXVlICk7XG5cdFx0fVxuXHR9O1xuXG5cdHJldHVybiBvcHQ7XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKHtcblx0ZmFkZVRvOiBmdW5jdGlvbiggc3BlZWQsIHRvLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXG5cdFx0Ly8gc2hvdyBhbnkgaGlkZGVuIGVsZW1lbnRzIGFmdGVyIHNldHRpbmcgb3BhY2l0eSB0byAwXG5cdFx0cmV0dXJuIHRoaXMuZmlsdGVyKCBpc0hpZGRlbiApLmNzcyggXCJvcGFjaXR5XCIsIDAgKS5zaG93KClcblxuXHRcdFx0Ly8gYW5pbWF0ZSB0byB0aGUgdmFsdWUgc3BlY2lmaWVkXG5cdFx0XHQuZW5kKCkuYW5pbWF0ZSh7IG9wYWNpdHk6IHRvIH0sIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdH0sXG5cdGFuaW1hdGU6IGZ1bmN0aW9uKCBwcm9wLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHR2YXIgZW1wdHkgPSBqUXVlcnkuaXNFbXB0eU9iamVjdCggcHJvcCApLFxuXHRcdFx0b3B0YWxsID0galF1ZXJ5LnNwZWVkKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApLFxuXHRcdFx0ZG9BbmltYXRpb24gPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0Ly8gT3BlcmF0ZSBvbiBhIGNvcHkgb2YgcHJvcCBzbyBwZXItcHJvcGVydHkgZWFzaW5nIHdvbid0IGJlIGxvc3Rcblx0XHRcdFx0dmFyIGFuaW0gPSBBbmltYXRpb24oIHRoaXMsIGpRdWVyeS5leHRlbmQoIHt9LCBwcm9wICksIG9wdGFsbCApO1xuXG5cdFx0XHRcdC8vIEVtcHR5IGFuaW1hdGlvbnMsIG9yIGZpbmlzaGluZyByZXNvbHZlcyBpbW1lZGlhdGVseVxuXHRcdFx0XHRpZiAoIGVtcHR5IHx8IGRhdGFfcHJpdi5nZXQoIHRoaXMsIFwiZmluaXNoXCIgKSApIHtcblx0XHRcdFx0XHRhbmltLnN0b3AoIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdGRvQW5pbWF0aW9uLmZpbmlzaCA9IGRvQW5pbWF0aW9uO1xuXG5cdFx0cmV0dXJuIGVtcHR5IHx8IG9wdGFsbC5xdWV1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0dGhpcy5lYWNoKCBkb0FuaW1hdGlvbiApIDpcblx0XHRcdHRoaXMucXVldWUoIG9wdGFsbC5xdWV1ZSwgZG9BbmltYXRpb24gKTtcblx0fSxcblx0c3RvcDogZnVuY3Rpb24oIHR5cGUsIGNsZWFyUXVldWUsIGdvdG9FbmQgKSB7XG5cdFx0dmFyIHN0b3BRdWV1ZSA9IGZ1bmN0aW9uKCBob29rcyApIHtcblx0XHRcdHZhciBzdG9wID0gaG9va3Muc3RvcDtcblx0XHRcdGRlbGV0ZSBob29rcy5zdG9wO1xuXHRcdFx0c3RvcCggZ290b0VuZCApO1xuXHRcdH07XG5cblx0XHRpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0Z290b0VuZCA9IGNsZWFyUXVldWU7XG5cdFx0XHRjbGVhclF1ZXVlID0gdHlwZTtcblx0XHRcdHR5cGUgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGlmICggY2xlYXJRdWV1ZSAmJiB0eXBlICE9PSBmYWxzZSApIHtcblx0XHRcdHRoaXMucXVldWUoIHR5cGUgfHwgXCJmeFwiLCBbXSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgZGVxdWV1ZSA9IHRydWUsXG5cdFx0XHRcdGluZGV4ID0gdHlwZSAhPSBudWxsICYmIHR5cGUgKyBcInF1ZXVlSG9va3NcIixcblx0XHRcdFx0dGltZXJzID0galF1ZXJ5LnRpbWVycyxcblx0XHRcdFx0ZGF0YSA9IGRhdGFfcHJpdi5nZXQoIHRoaXMgKTtcblxuXHRcdFx0aWYgKCBpbmRleCApIHtcblx0XHRcdFx0aWYgKCBkYXRhWyBpbmRleCBdICYmIGRhdGFbIGluZGV4IF0uc3RvcCApIHtcblx0XHRcdFx0XHRzdG9wUXVldWUoIGRhdGFbIGluZGV4IF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yICggaW5kZXggaW4gZGF0YSApIHtcblx0XHRcdFx0XHRpZiAoIGRhdGFbIGluZGV4IF0gJiYgZGF0YVsgaW5kZXggXS5zdG9wICYmIHJydW4udGVzdCggaW5kZXggKSApIHtcblx0XHRcdFx0XHRcdHN0b3BRdWV1ZSggZGF0YVsgaW5kZXggXSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkge1xuXHRcdFx0XHRpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmICh0eXBlID09IG51bGwgfHwgdGltZXJzWyBpbmRleCBdLnF1ZXVlID09PSB0eXBlKSApIHtcblx0XHRcdFx0XHR0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCBnb3RvRW5kICk7XG5cdFx0XHRcdFx0ZGVxdWV1ZSA9IGZhbHNlO1xuXHRcdFx0XHRcdHRpbWVycy5zcGxpY2UoIGluZGV4LCAxICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gc3RhcnQgdGhlIG5leHQgaW4gdGhlIHF1ZXVlIGlmIHRoZSBsYXN0IHN0ZXAgd2Fzbid0IGZvcmNlZFxuXHRcdFx0Ly8gdGltZXJzIGN1cnJlbnRseSB3aWxsIGNhbGwgdGhlaXIgY29tcGxldGUgY2FsbGJhY2tzLCB3aGljaCB3aWxsIGRlcXVldWVcblx0XHRcdC8vIGJ1dCBvbmx5IGlmIHRoZXkgd2VyZSBnb3RvRW5kXG5cdFx0XHRpZiAoIGRlcXVldWUgfHwgIWdvdG9FbmQgKSB7XG5cdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0sXG5cdGZpbmlzaDogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0aWYgKCB0eXBlICE9PSBmYWxzZSApIHtcblx0XHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpbmRleCxcblx0XHRcdFx0ZGF0YSA9IGRhdGFfcHJpdi5nZXQoIHRoaXMgKSxcblx0XHRcdFx0cXVldWUgPSBkYXRhWyB0eXBlICsgXCJxdWV1ZVwiIF0sXG5cdFx0XHRcdGhvb2tzID0gZGF0YVsgdHlwZSArIFwicXVldWVIb29rc1wiIF0sXG5cdFx0XHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnMsXG5cdFx0XHRcdGxlbmd0aCA9IHF1ZXVlID8gcXVldWUubGVuZ3RoIDogMDtcblxuXHRcdFx0Ly8gZW5hYmxlIGZpbmlzaGluZyBmbGFnIG9uIHByaXZhdGUgZGF0YVxuXHRcdFx0ZGF0YS5maW5pc2ggPSB0cnVlO1xuXG5cdFx0XHQvLyBlbXB0eSB0aGUgcXVldWUgZmlyc3Rcblx0XHRcdGpRdWVyeS5xdWV1ZSggdGhpcywgdHlwZSwgW10gKTtcblxuXHRcdFx0aWYgKCBob29rcyAmJiBob29rcy5zdG9wICkge1xuXHRcdFx0XHRob29rcy5zdG9wLmNhbGwoIHRoaXMsIHRydWUgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gbG9vayBmb3IgYW55IGFjdGl2ZSBhbmltYXRpb25zLCBhbmQgZmluaXNoIHRoZW1cblx0XHRcdGZvciAoIGluZGV4ID0gdGltZXJzLmxlbmd0aDsgaW5kZXgtLTsgKSB7XG5cdFx0XHRcdGlmICggdGltZXJzWyBpbmRleCBdLmVsZW0gPT09IHRoaXMgJiYgdGltZXJzWyBpbmRleCBdLnF1ZXVlID09PSB0eXBlICkge1xuXHRcdFx0XHRcdHRpbWVyc1sgaW5kZXggXS5hbmltLnN0b3AoIHRydWUgKTtcblx0XHRcdFx0XHR0aW1lcnMuc3BsaWNlKCBpbmRleCwgMSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIGxvb2sgZm9yIGFueSBhbmltYXRpb25zIGluIHRoZSBvbGQgcXVldWUgYW5kIGZpbmlzaCB0aGVtXG5cdFx0XHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0XHRpZiAoIHF1ZXVlWyBpbmRleCBdICYmIHF1ZXVlWyBpbmRleCBdLmZpbmlzaCApIHtcblx0XHRcdFx0XHRxdWV1ZVsgaW5kZXggXS5maW5pc2guY2FsbCggdGhpcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIHR1cm4gb2ZmIGZpbmlzaGluZyBmbGFnXG5cdFx0XHRkZWxldGUgZGF0YS5maW5pc2g7XG5cdFx0fSk7XG5cdH1cbn0pO1xuXG5qUXVlcnkuZWFjaChbIFwidG9nZ2xlXCIsIFwic2hvd1wiLCBcImhpZGVcIiBdLCBmdW5jdGlvbiggaSwgbmFtZSApIHtcblx0dmFyIGNzc0ZuID0galF1ZXJ5LmZuWyBuYW1lIF07XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiBzcGVlZCA9PSBudWxsIHx8IHR5cGVvZiBzcGVlZCA9PT0gXCJib29sZWFuXCIgP1xuXHRcdFx0Y3NzRm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApIDpcblx0XHRcdHRoaXMuYW5pbWF0ZSggZ2VuRngoIG5hbWUsIHRydWUgKSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0fTtcbn0pO1xuXG4vLyBHZW5lcmF0ZSBzaG9ydGN1dHMgZm9yIGN1c3RvbSBhbmltYXRpb25zXG5qUXVlcnkuZWFjaCh7XG5cdHNsaWRlRG93bjogZ2VuRngoXCJzaG93XCIpLFxuXHRzbGlkZVVwOiBnZW5GeChcImhpZGVcIiksXG5cdHNsaWRlVG9nZ2xlOiBnZW5GeChcInRvZ2dsZVwiKSxcblx0ZmFkZUluOiB7IG9wYWNpdHk6IFwic2hvd1wiIH0sXG5cdGZhZGVPdXQ6IHsgb3BhY2l0eTogXCJoaWRlXCIgfSxcblx0ZmFkZVRvZ2dsZTogeyBvcGFjaXR5OiBcInRvZ2dsZVwiIH1cbn0sIGZ1bmN0aW9uKCBuYW1lLCBwcm9wcyApIHtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIHRoaXMuYW5pbWF0ZSggcHJvcHMsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdH07XG59KTtcblxualF1ZXJ5LnRpbWVycyA9IFtdO1xualF1ZXJ5LmZ4LnRpY2sgPSBmdW5jdGlvbigpIHtcblx0dmFyIHRpbWVyLFxuXHRcdGkgPSAwLFxuXHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnM7XG5cblx0ZnhOb3cgPSBqUXVlcnkubm93KCk7XG5cblx0Zm9yICggOyBpIDwgdGltZXJzLmxlbmd0aDsgaSsrICkge1xuXHRcdHRpbWVyID0gdGltZXJzWyBpIF07XG5cdFx0Ly8gQ2hlY2tzIHRoZSB0aW1lciBoYXMgbm90IGFscmVhZHkgYmVlbiByZW1vdmVkXG5cdFx0aWYgKCAhdGltZXIoKSAmJiB0aW1lcnNbIGkgXSA9PT0gdGltZXIgKSB7XG5cdFx0XHR0aW1lcnMuc3BsaWNlKCBpLS0sIDEgKTtcblx0XHR9XG5cdH1cblxuXHRpZiAoICF0aW1lcnMubGVuZ3RoICkge1xuXHRcdGpRdWVyeS5meC5zdG9wKCk7XG5cdH1cblx0ZnhOb3cgPSB1bmRlZmluZWQ7XG59O1xuXG5qUXVlcnkuZngudGltZXIgPSBmdW5jdGlvbiggdGltZXIgKSB7XG5cdGpRdWVyeS50aW1lcnMucHVzaCggdGltZXIgKTtcblx0aWYgKCB0aW1lcigpICkge1xuXHRcdGpRdWVyeS5meC5zdGFydCgpO1xuXHR9IGVsc2Uge1xuXHRcdGpRdWVyeS50aW1lcnMucG9wKCk7XG5cdH1cbn07XG5cbmpRdWVyeS5meC5pbnRlcnZhbCA9IDEzO1xuXG5qUXVlcnkuZnguc3RhcnQgPSBmdW5jdGlvbigpIHtcblx0aWYgKCAhdGltZXJJZCApIHtcblx0XHR0aW1lcklkID0gc2V0SW50ZXJ2YWwoIGpRdWVyeS5meC50aWNrLCBqUXVlcnkuZnguaW50ZXJ2YWwgKTtcblx0fVxufTtcblxualF1ZXJ5LmZ4LnN0b3AgPSBmdW5jdGlvbigpIHtcblx0Y2xlYXJJbnRlcnZhbCggdGltZXJJZCApO1xuXHR0aW1lcklkID0gbnVsbDtcbn07XG5cbmpRdWVyeS5meC5zcGVlZHMgPSB7XG5cdHNsb3c6IDYwMCxcblx0ZmFzdDogMjAwLFxuXHQvLyBEZWZhdWx0IHNwZWVkXG5cdF9kZWZhdWx0OiA0MDBcbn07XG5cblxuLy8gQmFzZWQgb2ZmIG9mIHRoZSBwbHVnaW4gYnkgQ2xpbnQgSGVsZmVycywgd2l0aCBwZXJtaXNzaW9uLlxuLy8gaHR0cDovL2JsaW5kc2lnbmFscy5jb20vaW5kZXgucGhwLzIwMDkvMDcvanF1ZXJ5LWRlbGF5L1xualF1ZXJ5LmZuLmRlbGF5ID0gZnVuY3Rpb24oIHRpbWUsIHR5cGUgKSB7XG5cdHRpbWUgPSBqUXVlcnkuZnggPyBqUXVlcnkuZnguc3BlZWRzWyB0aW1lIF0gfHwgdGltZSA6IHRpbWU7XG5cdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblxuXHRyZXR1cm4gdGhpcy5xdWV1ZSggdHlwZSwgZnVuY3Rpb24oIG5leHQsIGhvb2tzICkge1xuXHRcdHZhciB0aW1lb3V0ID0gc2V0VGltZW91dCggbmV4dCwgdGltZSApO1xuXHRcdGhvb2tzLnN0b3AgPSBmdW5jdGlvbigpIHtcblx0XHRcdGNsZWFyVGltZW91dCggdGltZW91dCApO1xuXHRcdH07XG5cdH0pO1xufTtcblxuXG4oZnVuY3Rpb24oKSB7XG5cdHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApLFxuXHRcdHNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwic2VsZWN0XCIgKSxcblx0XHRvcHQgPSBzZWxlY3QuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwib3B0aW9uXCIgKSApO1xuXG5cdGlucHV0LnR5cGUgPSBcImNoZWNrYm94XCI7XG5cblx0Ly8gU3VwcG9ydDogaU9TIDUuMSwgQW5kcm9pZCA0LngsIEFuZHJvaWQgMi4zXG5cdC8vIENoZWNrIHRoZSBkZWZhdWx0IGNoZWNrYm94L3JhZGlvIHZhbHVlIChcIlwiIG9uIG9sZCBXZWJLaXQ7IFwib25cIiBlbHNld2hlcmUpXG5cdHN1cHBvcnQuY2hlY2tPbiA9IGlucHV0LnZhbHVlICE9PSBcIlwiO1xuXG5cdC8vIE11c3QgYWNjZXNzIHRoZSBwYXJlbnQgdG8gbWFrZSBhbiBvcHRpb24gc2VsZWN0IHByb3Blcmx5XG5cdC8vIFN1cHBvcnQ6IElFOSwgSUUxMFxuXHRzdXBwb3J0Lm9wdFNlbGVjdGVkID0gb3B0LnNlbGVjdGVkO1xuXG5cdC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBvcHRpb25zIGluc2lkZSBkaXNhYmxlZCBzZWxlY3RzIGFyZW4ndCBtYXJrZWQgYXMgZGlzYWJsZWRcblx0Ly8gKFdlYktpdCBtYXJrcyB0aGVtIGFzIGRpc2FibGVkKVxuXHRzZWxlY3QuZGlzYWJsZWQgPSB0cnVlO1xuXHRzdXBwb3J0Lm9wdERpc2FibGVkID0gIW9wdC5kaXNhYmxlZDtcblxuXHQvLyBDaGVjayBpZiBhbiBpbnB1dCBtYWludGFpbnMgaXRzIHZhbHVlIGFmdGVyIGJlY29taW5nIGEgcmFkaW9cblx0Ly8gU3VwcG9ydDogSUU5LCBJRTEwXG5cdGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICk7XG5cdGlucHV0LnZhbHVlID0gXCJ0XCI7XG5cdGlucHV0LnR5cGUgPSBcInJhZGlvXCI7XG5cdHN1cHBvcnQucmFkaW9WYWx1ZSA9IGlucHV0LnZhbHVlID09PSBcInRcIjtcbn0pKCk7XG5cblxudmFyIG5vZGVIb29rLCBib29sSG9vayxcblx0YXR0ckhhbmRsZSA9IGpRdWVyeS5leHByLmF0dHJIYW5kbGU7XG5cbmpRdWVyeS5mbi5leHRlbmQoe1xuXHRhdHRyOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgalF1ZXJ5LmF0dHIsIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuXHR9LFxuXG5cdHJlbW92ZUF0dHI6IGZ1bmN0aW9uKCBuYW1lICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggdGhpcywgbmFtZSApO1xuXHRcdH0pO1xuXHR9XG59KTtcblxualF1ZXJ5LmV4dGVuZCh7XG5cdGF0dHI6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHtcblx0XHR2YXIgaG9va3MsIHJldCxcblx0XHRcdG5UeXBlID0gZWxlbS5ub2RlVHlwZTtcblxuXHRcdC8vIGRvbid0IGdldC9zZXQgYXR0cmlidXRlcyBvbiB0ZXh0LCBjb21tZW50IGFuZCBhdHRyaWJ1dGUgbm9kZXNcblx0XHRpZiAoICFlbGVtIHx8IG5UeXBlID09PSAzIHx8IG5UeXBlID09PSA4IHx8IG5UeXBlID09PSAyICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIEZhbGxiYWNrIHRvIHByb3Agd2hlbiBhdHRyaWJ1dGVzIGFyZSBub3Qgc3VwcG9ydGVkXG5cdFx0aWYgKCB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUgPT09IHN0cnVuZGVmaW5lZCApIHtcblx0XHRcdHJldHVybiBqUXVlcnkucHJvcCggZWxlbSwgbmFtZSwgdmFsdWUgKTtcblx0XHR9XG5cblx0XHQvLyBBbGwgYXR0cmlidXRlcyBhcmUgbG93ZXJjYXNlXG5cdFx0Ly8gR3JhYiBuZWNlc3NhcnkgaG9vayBpZiBvbmUgaXMgZGVmaW5lZFxuXHRcdGlmICggblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuXHRcdFx0bmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdGhvb2tzID0galF1ZXJ5LmF0dHJIb29rc1sgbmFtZSBdIHx8XG5cdFx0XHRcdCggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC50ZXN0KCBuYW1lICkgPyBib29sSG9vayA6IG5vZGVIb29rICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRpZiAoIHZhbHVlID09PSBudWxsICkge1xuXHRcdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggZWxlbSwgbmFtZSApO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBob29rcyAmJiBcInNldFwiIGluIGhvb2tzICYmIChyZXQgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBuYW1lICkpICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCB2YWx1ZSArIFwiXCIgKTtcblx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAocmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBuYW1lICkpICE9PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIHJldDtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXQgPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBuYW1lICk7XG5cblx0XHRcdC8vIE5vbi1leGlzdGVudCBhdHRyaWJ1dGVzIHJldHVybiBudWxsLCB3ZSBub3JtYWxpemUgdG8gdW5kZWZpbmVkXG5cdFx0XHRyZXR1cm4gcmV0ID09IG51bGwgP1xuXHRcdFx0XHR1bmRlZmluZWQgOlxuXHRcdFx0XHRyZXQ7XG5cdFx0fVxuXHR9LFxuXG5cdHJlbW92ZUF0dHI6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHR2YXIgbmFtZSwgcHJvcE5hbWUsXG5cdFx0XHRpID0gMCxcblx0XHRcdGF0dHJOYW1lcyA9IHZhbHVlICYmIHZhbHVlLm1hdGNoKCBybm90d2hpdGUgKTtcblxuXHRcdGlmICggYXR0ck5hbWVzICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHR3aGlsZSAoIChuYW1lID0gYXR0ck5hbWVzW2krK10pICkge1xuXHRcdFx0XHRwcm9wTmFtZSA9IGpRdWVyeS5wcm9wRml4WyBuYW1lIF0gfHwgbmFtZTtcblxuXHRcdFx0XHQvLyBCb29sZWFuIGF0dHJpYnV0ZXMgZ2V0IHNwZWNpYWwgdHJlYXRtZW50ICgjMTA4NzApXG5cdFx0XHRcdGlmICggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC50ZXN0KCBuYW1lICkgKSB7XG5cdFx0XHRcdFx0Ly8gU2V0IGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgdG8gZmFsc2Vcblx0XHRcdFx0XHRlbGVtWyBwcm9wTmFtZSBdID0gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRlbGVtLnJlbW92ZUF0dHJpYnV0ZSggbmFtZSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRhdHRySG9va3M6IHtcblx0XHR0eXBlOiB7XG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdFx0aWYgKCAhc3VwcG9ydC5yYWRpb1ZhbHVlICYmIHZhbHVlID09PSBcInJhZGlvXCIgJiZcblx0XHRcdFx0XHRqUXVlcnkubm9kZU5hbWUoIGVsZW0sIFwiaW5wdXRcIiApICkge1xuXHRcdFx0XHRcdC8vIFNldHRpbmcgdGhlIHR5cGUgb24gYSByYWRpbyBidXR0b24gYWZ0ZXIgdGhlIHZhbHVlIHJlc2V0cyB0aGUgdmFsdWUgaW4gSUU2LTlcblx0XHRcdFx0XHQvLyBSZXNldCB2YWx1ZSB0byBkZWZhdWx0IGluIGNhc2UgdHlwZSBpcyBzZXQgYWZ0ZXIgdmFsdWUgZHVyaW5nIGNyZWF0aW9uXG5cdFx0XHRcdFx0dmFyIHZhbCA9IGVsZW0udmFsdWU7XG5cdFx0XHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCB2YWx1ZSApO1xuXHRcdFx0XHRcdGlmICggdmFsICkge1xuXHRcdFx0XHRcdFx0ZWxlbS52YWx1ZSA9IHZhbDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59KTtcblxuLy8gSG9va3MgZm9yIGJvb2xlYW4gYXR0cmlidXRlc1xuYm9vbEhvb2sgPSB7XG5cdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBuYW1lICkge1xuXHRcdGlmICggdmFsdWUgPT09IGZhbHNlICkge1xuXHRcdFx0Ly8gUmVtb3ZlIGJvb2xlYW4gYXR0cmlidXRlcyB3aGVuIHNldCB0byBmYWxzZVxuXHRcdFx0alF1ZXJ5LnJlbW92ZUF0dHIoIGVsZW0sIG5hbWUgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIG5hbWUsIG5hbWUgKTtcblx0XHR9XG5cdFx0cmV0dXJuIG5hbWU7XG5cdH1cbn07XG5qUXVlcnkuZWFjaCggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goIC9cXHcrL2cgKSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdHZhciBnZXR0ZXIgPSBhdHRySGFuZGxlWyBuYW1lIF0gfHwgalF1ZXJ5LmZpbmQuYXR0cjtcblxuXHRhdHRySGFuZGxlWyBuYW1lIF0gPSBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0dmFyIHJldCwgaGFuZGxlO1xuXHRcdGlmICggIWlzWE1MICkge1xuXHRcdFx0Ly8gQXZvaWQgYW4gaW5maW5pdGUgbG9vcCBieSB0ZW1wb3JhcmlseSByZW1vdmluZyB0aGlzIGZ1bmN0aW9uIGZyb20gdGhlIGdldHRlclxuXHRcdFx0aGFuZGxlID0gYXR0ckhhbmRsZVsgbmFtZSBdO1xuXHRcdFx0YXR0ckhhbmRsZVsgbmFtZSBdID0gcmV0O1xuXHRcdFx0cmV0ID0gZ2V0dGVyKCBlbGVtLCBuYW1lLCBpc1hNTCApICE9IG51bGwgP1xuXHRcdFx0XHRuYW1lLnRvTG93ZXJDYXNlKCkgOlxuXHRcdFx0XHRudWxsO1xuXHRcdFx0YXR0ckhhbmRsZVsgbmFtZSBdID0gaGFuZGxlO1xuXHRcdH1cblx0XHRyZXR1cm4gcmV0O1xuXHR9O1xufSk7XG5cblxuXG5cbnZhciByZm9jdXNhYmxlID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaTtcblxualF1ZXJ5LmZuLmV4dGVuZCh7XG5cdHByb3A6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBqUXVlcnkucHJvcCwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdH0sXG5cblx0cmVtb3ZlUHJvcDogZnVuY3Rpb24oIG5hbWUgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdGRlbGV0ZSB0aGlzWyBqUXVlcnkucHJvcEZpeFsgbmFtZSBdIHx8IG5hbWUgXTtcblx0XHR9KTtcblx0fVxufSk7XG5cbmpRdWVyeS5leHRlbmQoe1xuXHRwcm9wRml4OiB7XG5cdFx0XCJmb3JcIjogXCJodG1sRm9yXCIsXG5cdFx0XCJjbGFzc1wiOiBcImNsYXNzTmFtZVwiXG5cdH0sXG5cblx0cHJvcDogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdHZhciByZXQsIGhvb2tzLCBub3R4bWwsXG5cdFx0XHRuVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cblx0XHQvLyBkb24ndCBnZXQvc2V0IHByb3BlcnRpZXMgb24gdGV4dCwgY29tbWVudCBhbmQgYXR0cmlidXRlIG5vZGVzXG5cdFx0aWYgKCAhZWxlbSB8fCBuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRub3R4bWwgPSBuVHlwZSAhPT0gMSB8fCAhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICk7XG5cblx0XHRpZiAoIG5vdHhtbCApIHtcblx0XHRcdC8vIEZpeCBuYW1lIGFuZCBhdHRhY2ggaG9va3Ncblx0XHRcdG5hbWUgPSBqUXVlcnkucHJvcEZpeFsgbmFtZSBdIHx8IG5hbWU7XG5cdFx0XHRob29rcyA9IGpRdWVyeS5wcm9wSG9va3NbIG5hbWUgXTtcblx0XHR9XG5cblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRyZXR1cm4gaG9va3MgJiYgXCJzZXRcIiBpbiBob29rcyAmJiAocmV0ID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgbmFtZSApKSAhPT0gdW5kZWZpbmVkID9cblx0XHRcdFx0cmV0IDpcblx0XHRcdFx0KCBlbGVtWyBuYW1lIF0gPSB2YWx1ZSApO1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmIChyZXQgPSBob29rcy5nZXQoIGVsZW0sIG5hbWUgKSkgIT09IG51bGwgP1xuXHRcdFx0XHRyZXQgOlxuXHRcdFx0XHRlbGVtWyBuYW1lIF07XG5cdFx0fVxuXHR9LFxuXG5cdHByb3BIb29rczoge1xuXHRcdHRhYkluZGV4OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbS5oYXNBdHRyaWJ1dGUoIFwidGFiaW5kZXhcIiApIHx8IHJmb2N1c2FibGUudGVzdCggZWxlbS5ub2RlTmFtZSApIHx8IGVsZW0uaHJlZiA/XG5cdFx0XHRcdFx0ZWxlbS50YWJJbmRleCA6XG5cdFx0XHRcdFx0LTE7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59KTtcblxuLy8gU3VwcG9ydDogSUU5K1xuLy8gU2VsZWN0ZWRuZXNzIGZvciBhbiBvcHRpb24gaW4gYW4gb3B0Z3JvdXAgY2FuIGJlIGluYWNjdXJhdGVcbmlmICggIXN1cHBvcnQub3B0U2VsZWN0ZWQgKSB7XG5cdGpRdWVyeS5wcm9wSG9va3Muc2VsZWN0ZWQgPSB7XG5cdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cdFx0XHRpZiAoIHBhcmVudCAmJiBwYXJlbnQucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0cGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdH1cblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0fTtcbn1cblxualF1ZXJ5LmVhY2goW1xuXHRcInRhYkluZGV4XCIsXG5cdFwicmVhZE9ubHlcIixcblx0XCJtYXhMZW5ndGhcIixcblx0XCJjZWxsU3BhY2luZ1wiLFxuXHRcImNlbGxQYWRkaW5nXCIsXG5cdFwicm93U3BhblwiLFxuXHRcImNvbFNwYW5cIixcblx0XCJ1c2VNYXBcIixcblx0XCJmcmFtZUJvcmRlclwiLFxuXHRcImNvbnRlbnRFZGl0YWJsZVwiXG5dLCBmdW5jdGlvbigpIHtcblx0alF1ZXJ5LnByb3BGaXhbIHRoaXMudG9Mb3dlckNhc2UoKSBdID0gdGhpcztcbn0pO1xuXG5cblxuXG52YXIgcmNsYXNzID0gL1tcXHRcXHJcXG5cXGZdL2c7XG5cbmpRdWVyeS5mbi5leHRlbmQoe1xuXHRhZGRDbGFzczogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBjbGFzc2VzLCBlbGVtLCBjdXIsIGNsYXp6LCBqLCBmaW5hbFZhbHVlLFxuXHRcdFx0cHJvY2VlZCA9IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiB2YWx1ZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0bGVuID0gdGhpcy5sZW5ndGg7XG5cblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiggaiApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuYWRkQ2xhc3MoIHZhbHVlLmNhbGwoIHRoaXMsIGosIHRoaXMuY2xhc3NOYW1lICkgKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGlmICggcHJvY2VlZCApIHtcblx0XHRcdC8vIFRoZSBkaXNqdW5jdGlvbiBoZXJlIGlzIGZvciBiZXR0ZXIgY29tcHJlc3NpYmlsaXR5IChzZWUgcmVtb3ZlQ2xhc3MpXG5cdFx0XHRjbGFzc2VzID0gKCB2YWx1ZSB8fCBcIlwiICkubWF0Y2goIHJub3R3aGl0ZSApIHx8IFtdO1xuXG5cdFx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0ZWxlbSA9IHRoaXNbIGkgXTtcblx0XHRcdFx0Y3VyID0gZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAoIGVsZW0uY2xhc3NOYW1lID9cblx0XHRcdFx0XHQoIFwiIFwiICsgZWxlbS5jbGFzc05hbWUgKyBcIiBcIiApLnJlcGxhY2UoIHJjbGFzcywgXCIgXCIgKSA6XG5cdFx0XHRcdFx0XCIgXCJcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRpZiAoIGN1ciApIHtcblx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHR3aGlsZSAoIChjbGF6eiA9IGNsYXNzZXNbaisrXSkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGN1ci5pbmRleE9mKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIgKSA8IDAgKSB7XG5cdFx0XHRcdFx0XHRcdGN1ciArPSBjbGF6eiArIFwiIFwiO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIG9ubHkgYXNzaWduIGlmIGRpZmZlcmVudCB0byBhdm9pZCB1bm5lZWRlZCByZW5kZXJpbmcuXG5cdFx0XHRcdFx0ZmluYWxWYWx1ZSA9IGpRdWVyeS50cmltKCBjdXIgKTtcblx0XHRcdFx0XHRpZiAoIGVsZW0uY2xhc3NOYW1lICE9PSBmaW5hbFZhbHVlICkge1xuXHRcdFx0XHRcdFx0ZWxlbS5jbGFzc05hbWUgPSBmaW5hbFZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdHJlbW92ZUNsYXNzOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGNsYXNzZXMsIGVsZW0sIGN1ciwgY2xhenosIGosIGZpbmFsVmFsdWUsXG5cdFx0XHRwcm9jZWVkID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMCB8fCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgdmFsdWUsXG5cdFx0XHRpID0gMCxcblx0XHRcdGxlbiA9IHRoaXMubGVuZ3RoO1xuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oIGogKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnJlbW92ZUNsYXNzKCB2YWx1ZS5jYWxsKCB0aGlzLCBqLCB0aGlzLmNsYXNzTmFtZSApICk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0aWYgKCBwcm9jZWVkICkge1xuXHRcdFx0Y2xhc3NlcyA9ICggdmFsdWUgfHwgXCJcIiApLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbXTtcblxuXHRcdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdGVsZW0gPSB0aGlzWyBpIF07XG5cdFx0XHRcdC8vIFRoaXMgZXhwcmVzc2lvbiBpcyBoZXJlIGZvciBiZXR0ZXIgY29tcHJlc3NpYmlsaXR5IChzZWUgYWRkQ2xhc3MpXG5cdFx0XHRcdGN1ciA9IGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgKCBlbGVtLmNsYXNzTmFtZSA/XG5cdFx0XHRcdFx0KCBcIiBcIiArIGVsZW0uY2xhc3NOYW1lICsgXCIgXCIgKS5yZXBsYWNlKCByY2xhc3MsIFwiIFwiICkgOlxuXHRcdFx0XHRcdFwiXCJcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRpZiAoIGN1ciApIHtcblx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHR3aGlsZSAoIChjbGF6eiA9IGNsYXNzZXNbaisrXSkgKSB7XG5cdFx0XHRcdFx0XHQvLyBSZW1vdmUgKmFsbCogaW5zdGFuY2VzXG5cdFx0XHRcdFx0XHR3aGlsZSAoIGN1ci5pbmRleE9mKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIgKSA+PSAwICkge1xuXHRcdFx0XHRcdFx0XHRjdXIgPSBjdXIucmVwbGFjZSggXCIgXCIgKyBjbGF6eiArIFwiIFwiLCBcIiBcIiApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIG9ubHkgYXNzaWduIGlmIGRpZmZlcmVudCB0byBhdm9pZCB1bm5lZWRlZCByZW5kZXJpbmcuXG5cdFx0XHRcdFx0ZmluYWxWYWx1ZSA9IHZhbHVlID8galF1ZXJ5LnRyaW0oIGN1ciApIDogXCJcIjtcblx0XHRcdFx0XHRpZiAoIGVsZW0uY2xhc3NOYW1lICE9PSBmaW5hbFZhbHVlICkge1xuXHRcdFx0XHRcdFx0ZWxlbS5jbGFzc05hbWUgPSBmaW5hbFZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdHRvZ2dsZUNsYXNzOiBmdW5jdGlvbiggdmFsdWUsIHN0YXRlVmFsICkge1xuXHRcdHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuXG5cdFx0aWYgKCB0eXBlb2Ygc3RhdGVWYWwgPT09IFwiYm9vbGVhblwiICYmIHR5cGUgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gc3RhdGVWYWwgPyB0aGlzLmFkZENsYXNzKCB2YWx1ZSApIDogdGhpcy5yZW1vdmVDbGFzcyggdmFsdWUgKTtcblx0XHR9XG5cblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkudG9nZ2xlQ2xhc3MoIHZhbHVlLmNhbGwodGhpcywgaSwgdGhpcy5jbGFzc05hbWUsIHN0YXRlVmFsKSwgc3RhdGVWYWwgKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIHR5cGUgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdC8vIHRvZ2dsZSBpbmRpdmlkdWFsIGNsYXNzIG5hbWVzXG5cdFx0XHRcdHZhciBjbGFzc05hbWUsXG5cdFx0XHRcdFx0aSA9IDAsXG5cdFx0XHRcdFx0c2VsZiA9IGpRdWVyeSggdGhpcyApLFxuXHRcdFx0XHRcdGNsYXNzTmFtZXMgPSB2YWx1ZS5tYXRjaCggcm5vdHdoaXRlICkgfHwgW107XG5cblx0XHRcdFx0d2hpbGUgKCAoY2xhc3NOYW1lID0gY2xhc3NOYW1lc1sgaSsrIF0pICkge1xuXHRcdFx0XHRcdC8vIGNoZWNrIGVhY2ggY2xhc3NOYW1lIGdpdmVuLCBzcGFjZSBzZXBhcmF0ZWQgbGlzdFxuXHRcdFx0XHRcdGlmICggc2VsZi5oYXNDbGFzcyggY2xhc3NOYW1lICkgKSB7XG5cdFx0XHRcdFx0XHRzZWxmLnJlbW92ZUNsYXNzKCBjbGFzc05hbWUgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c2VsZi5hZGRDbGFzcyggY2xhc3NOYW1lICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdC8vIFRvZ2dsZSB3aG9sZSBjbGFzcyBuYW1lXG5cdFx0XHR9IGVsc2UgaWYgKCB0eXBlID09PSBzdHJ1bmRlZmluZWQgfHwgdHlwZSA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0XHRcdGlmICggdGhpcy5jbGFzc05hbWUgKSB7XG5cdFx0XHRcdFx0Ly8gc3RvcmUgY2xhc3NOYW1lIGlmIHNldFxuXHRcdFx0XHRcdGRhdGFfcHJpdi5zZXQoIHRoaXMsIFwiX19jbGFzc05hbWVfX1wiLCB0aGlzLmNsYXNzTmFtZSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gSWYgdGhlIGVsZW1lbnQgaGFzIGEgY2xhc3MgbmFtZSBvciBpZiB3ZSdyZSBwYXNzZWQgXCJmYWxzZVwiLFxuXHRcdFx0XHQvLyB0aGVuIHJlbW92ZSB0aGUgd2hvbGUgY2xhc3NuYW1lIChpZiB0aGVyZSB3YXMgb25lLCB0aGUgYWJvdmUgc2F2ZWQgaXQpLlxuXHRcdFx0XHQvLyBPdGhlcndpc2UgYnJpbmcgYmFjayB3aGF0ZXZlciB3YXMgcHJldmlvdXNseSBzYXZlZCAoaWYgYW55dGhpbmcpLFxuXHRcdFx0XHQvLyBmYWxsaW5nIGJhY2sgdG8gdGhlIGVtcHR5IHN0cmluZyBpZiBub3RoaW5nIHdhcyBzdG9yZWQuXG5cdFx0XHRcdHRoaXMuY2xhc3NOYW1lID0gdGhpcy5jbGFzc05hbWUgfHwgdmFsdWUgPT09IGZhbHNlID8gXCJcIiA6IGRhdGFfcHJpdi5nZXQoIHRoaXMsIFwiX19jbGFzc05hbWVfX1wiICkgfHwgXCJcIjtcblx0XHRcdH1cblx0XHR9KTtcblx0fSxcblxuXHRoYXNDbGFzczogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHZhciBjbGFzc05hbWUgPSBcIiBcIiArIHNlbGVjdG9yICsgXCIgXCIsXG5cdFx0XHRpID0gMCxcblx0XHRcdGwgPSB0aGlzLmxlbmd0aDtcblx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRpZiAoIHRoaXNbaV0ubm9kZVR5cGUgPT09IDEgJiYgKFwiIFwiICsgdGhpc1tpXS5jbGFzc05hbWUgKyBcIiBcIikucmVwbGFjZShyY2xhc3MsIFwiIFwiKS5pbmRleE9mKCBjbGFzc05hbWUgKSA+PSAwICkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn0pO1xuXG5cblxuXG52YXIgcnJldHVybiA9IC9cXHIvZztcblxualF1ZXJ5LmZuLmV4dGVuZCh7XG5cdHZhbDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBob29rcywgcmV0LCBpc0Z1bmN0aW9uLFxuXHRcdFx0ZWxlbSA9IHRoaXNbMF07XG5cblx0XHRpZiAoICFhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0XHRob29rcyA9IGpRdWVyeS52YWxIb29rc1sgZWxlbS50eXBlIF0gfHwgalF1ZXJ5LnZhbEhvb2tzWyBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTtcblxuXHRcdFx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiYgKHJldCA9IGhvb2tzLmdldCggZWxlbSwgXCJ2YWx1ZVwiICkpICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldCA9IGVsZW0udmFsdWU7XG5cblx0XHRcdFx0cmV0dXJuIHR5cGVvZiByZXQgPT09IFwic3RyaW5nXCIgP1xuXHRcdFx0XHRcdC8vIGhhbmRsZSBtb3N0IGNvbW1vbiBzdHJpbmcgY2FzZXNcblx0XHRcdFx0XHRyZXQucmVwbGFjZShycmV0dXJuLCBcIlwiKSA6XG5cdFx0XHRcdFx0Ly8gaGFuZGxlIGNhc2VzIHdoZXJlIHZhbHVlIGlzIG51bGwvdW5kZWYgb3IgbnVtYmVyXG5cdFx0XHRcdFx0cmV0ID09IG51bGwgPyBcIlwiIDogcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aXNGdW5jdGlvbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiggaSApIHtcblx0XHRcdHZhciB2YWw7XG5cblx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSAhPT0gMSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGlzRnVuY3Rpb24gKSB7XG5cdFx0XHRcdHZhbCA9IHZhbHVlLmNhbGwoIHRoaXMsIGksIGpRdWVyeSggdGhpcyApLnZhbCgpICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YWwgPSB2YWx1ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVHJlYXQgbnVsbC91bmRlZmluZWQgYXMgXCJcIjsgY29udmVydCBudW1iZXJzIHRvIHN0cmluZ1xuXHRcdFx0aWYgKCB2YWwgPT0gbnVsbCApIHtcblx0XHRcdFx0dmFsID0gXCJcIjtcblxuXHRcdFx0fSBlbHNlIGlmICggdHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIiApIHtcblx0XHRcdFx0dmFsICs9IFwiXCI7XG5cblx0XHRcdH0gZWxzZSBpZiAoIGpRdWVyeS5pc0FycmF5KCB2YWwgKSApIHtcblx0XHRcdFx0dmFsID0galF1ZXJ5Lm1hcCggdmFsLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHZhbHVlID09IG51bGwgPyBcIlwiIDogdmFsdWUgKyBcIlwiO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0aG9va3MgPSBqUXVlcnkudmFsSG9va3NbIHRoaXMudHlwZSBdIHx8IGpRdWVyeS52YWxIb29rc1sgdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIF07XG5cblx0XHRcdC8vIElmIHNldCByZXR1cm5zIHVuZGVmaW5lZCwgZmFsbCBiYWNrIHRvIG5vcm1hbCBzZXR0aW5nXG5cdFx0XHRpZiAoICFob29rcyB8fCAhKFwic2V0XCIgaW4gaG9va3MpIHx8IGhvb2tzLnNldCggdGhpcywgdmFsLCBcInZhbHVlXCIgKSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHR0aGlzLnZhbHVlID0gdmFsO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59KTtcblxualF1ZXJ5LmV4dGVuZCh7XG5cdHZhbEhvb2tzOiB7XG5cdFx0b3B0aW9uOiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgdmFsID0galF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgXCJ2YWx1ZVwiICk7XG5cdFx0XHRcdHJldHVybiB2YWwgIT0gbnVsbCA/XG5cdFx0XHRcdFx0dmFsIDpcblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRTEwLTExK1xuXHRcdFx0XHRcdC8vIG9wdGlvbi50ZXh0IHRocm93cyBleGNlcHRpb25zICgjMTQ2ODYsICMxNDg1OClcblx0XHRcdFx0XHRqUXVlcnkudHJpbSggalF1ZXJ5LnRleHQoIGVsZW0gKSApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0c2VsZWN0OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgdmFsdWUsIG9wdGlvbixcblx0XHRcdFx0XHRvcHRpb25zID0gZWxlbS5vcHRpb25zLFxuXHRcdFx0XHRcdGluZGV4ID0gZWxlbS5zZWxlY3RlZEluZGV4LFxuXHRcdFx0XHRcdG9uZSA9IGVsZW0udHlwZSA9PT0gXCJzZWxlY3Qtb25lXCIgfHwgaW5kZXggPCAwLFxuXHRcdFx0XHRcdHZhbHVlcyA9IG9uZSA/IG51bGwgOiBbXSxcblx0XHRcdFx0XHRtYXggPSBvbmUgPyBpbmRleCArIDEgOiBvcHRpb25zLmxlbmd0aCxcblx0XHRcdFx0XHRpID0gaW5kZXggPCAwID9cblx0XHRcdFx0XHRcdG1heCA6XG5cdFx0XHRcdFx0XHRvbmUgPyBpbmRleCA6IDA7XG5cblx0XHRcdFx0Ly8gTG9vcCB0aHJvdWdoIGFsbCB0aGUgc2VsZWN0ZWQgb3B0aW9uc1xuXHRcdFx0XHRmb3IgKCA7IGkgPCBtYXg7IGkrKyApIHtcblx0XHRcdFx0XHRvcHRpb24gPSBvcHRpb25zWyBpIF07XG5cblx0XHRcdFx0XHQvLyBJRTYtOSBkb2Vzbid0IHVwZGF0ZSBzZWxlY3RlZCBhZnRlciBmb3JtIHJlc2V0ICgjMjU1MSlcblx0XHRcdFx0XHRpZiAoICggb3B0aW9uLnNlbGVjdGVkIHx8IGkgPT09IGluZGV4ICkgJiZcblx0XHRcdFx0XHRcdFx0Ly8gRG9uJ3QgcmV0dXJuIG9wdGlvbnMgdGhhdCBhcmUgZGlzYWJsZWQgb3IgaW4gYSBkaXNhYmxlZCBvcHRncm91cFxuXHRcdFx0XHRcdFx0XHQoIHN1cHBvcnQub3B0RGlzYWJsZWQgPyAhb3B0aW9uLmRpc2FibGVkIDogb3B0aW9uLmdldEF0dHJpYnV0ZSggXCJkaXNhYmxlZFwiICkgPT09IG51bGwgKSAmJlxuXHRcdFx0XHRcdFx0XHQoICFvcHRpb24ucGFyZW50Tm9kZS5kaXNhYmxlZCB8fCAhalF1ZXJ5Lm5vZGVOYW1lKCBvcHRpb24ucGFyZW50Tm9kZSwgXCJvcHRncm91cFwiICkgKSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gR2V0IHRoZSBzcGVjaWZpYyB2YWx1ZSBmb3IgdGhlIG9wdGlvblxuXHRcdFx0XHRcdFx0dmFsdWUgPSBqUXVlcnkoIG9wdGlvbiApLnZhbCgpO1xuXG5cdFx0XHRcdFx0XHQvLyBXZSBkb24ndCBuZWVkIGFuIGFycmF5IGZvciBvbmUgc2VsZWN0c1xuXHRcdFx0XHRcdFx0aWYgKCBvbmUgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gTXVsdGktU2VsZWN0cyByZXR1cm4gYW4gYXJyYXlcblx0XHRcdFx0XHRcdHZhbHVlcy5wdXNoKCB2YWx1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB2YWx1ZXM7XG5cdFx0XHR9LFxuXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdFx0dmFyIG9wdGlvblNldCwgb3B0aW9uLFxuXHRcdFx0XHRcdG9wdGlvbnMgPSBlbGVtLm9wdGlvbnMsXG5cdFx0XHRcdFx0dmFsdWVzID0galF1ZXJ5Lm1ha2VBcnJheSggdmFsdWUgKSxcblx0XHRcdFx0XHRpID0gb3B0aW9ucy5sZW5ndGg7XG5cblx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0b3B0aW9uID0gb3B0aW9uc1sgaSBdO1xuXHRcdFx0XHRcdGlmICggKG9wdGlvbi5zZWxlY3RlZCA9IGpRdWVyeS5pbkFycmF5KCBvcHRpb24udmFsdWUsIHZhbHVlcyApID49IDApICkge1xuXHRcdFx0XHRcdFx0b3B0aW9uU2V0ID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBmb3JjZSBicm93c2VycyB0byBiZWhhdmUgY29uc2lzdGVudGx5IHdoZW4gbm9uLW1hdGNoaW5nIHZhbHVlIGlzIHNldFxuXHRcdFx0XHRpZiAoICFvcHRpb25TZXQgKSB7XG5cdFx0XHRcdFx0ZWxlbS5zZWxlY3RlZEluZGV4ID0gLTE7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHZhbHVlcztcblx0XHRcdH1cblx0XHR9XG5cdH1cbn0pO1xuXG4vLyBSYWRpb3MgYW5kIGNoZWNrYm94ZXMgZ2V0dGVyL3NldHRlclxualF1ZXJ5LmVhY2goWyBcInJhZGlvXCIsIFwiY2hlY2tib3hcIiBdLCBmdW5jdGlvbigpIHtcblx0alF1ZXJ5LnZhbEhvb2tzWyB0aGlzIF0gPSB7XG5cdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0XHRpZiAoIGpRdWVyeS5pc0FycmF5KCB2YWx1ZSApICkge1xuXHRcdFx0XHRyZXR1cm4gKCBlbGVtLmNoZWNrZWQgPSBqUXVlcnkuaW5BcnJheSggalF1ZXJ5KGVsZW0pLnZhbCgpLCB2YWx1ZSApID49IDAgKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdGlmICggIXN1cHBvcnQuY2hlY2tPbiApIHtcblx0XHRqUXVlcnkudmFsSG9va3NbIHRoaXMgXS5nZXQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdC8vIFN1cHBvcnQ6IFdlYmtpdFxuXHRcdFx0Ly8gXCJcIiBpcyByZXR1cm5lZCBpbnN0ZWFkIG9mIFwib25cIiBpZiBhIHZhbHVlIGlzbid0IHNwZWNpZmllZFxuXHRcdFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKFwidmFsdWVcIikgPT09IG51bGwgPyBcIm9uXCIgOiBlbGVtLnZhbHVlO1xuXHRcdH07XG5cdH1cbn0pO1xuXG5cblxuXG4vLyBSZXR1cm4galF1ZXJ5IGZvciBhdHRyaWJ1dGVzLW9ubHkgaW5jbHVzaW9uXG5cblxualF1ZXJ5LmVhY2goIChcImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIFwiICtcblx0XCJtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBcIiArXG5cdFwiY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBlcnJvciBjb250ZXh0bWVudVwiKS5zcGxpdChcIiBcIiksIGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXG5cdC8vIEhhbmRsZSBldmVudCBiaW5kaW5nXG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiBhcmd1bWVudHMubGVuZ3RoID4gMCA/XG5cdFx0XHR0aGlzLm9uKCBuYW1lLCBudWxsLCBkYXRhLCBmbiApIDpcblx0XHRcdHRoaXMudHJpZ2dlciggbmFtZSApO1xuXHR9O1xufSk7XG5cbmpRdWVyeS5mbi5leHRlbmQoe1xuXHRob3ZlcjogZnVuY3Rpb24oIGZuT3ZlciwgZm5PdXQgKSB7XG5cdFx0cmV0dXJuIHRoaXMubW91c2VlbnRlciggZm5PdmVyICkubW91c2VsZWF2ZSggZm5PdXQgfHwgZm5PdmVyICk7XG5cdH0sXG5cblx0YmluZDogZnVuY3Rpb24oIHR5cGVzLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gdGhpcy5vbiggdHlwZXMsIG51bGwsIGRhdGEsIGZuICk7XG5cdH0sXG5cdHVuYmluZDogZnVuY3Rpb24oIHR5cGVzLCBmbiApIHtcblx0XHRyZXR1cm4gdGhpcy5vZmYoIHR5cGVzLCBudWxsLCBmbiApO1xuXHR9LFxuXG5cdGRlbGVnYXRlOiBmdW5jdGlvbiggc2VsZWN0b3IsIHR5cGVzLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gdGhpcy5vbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApO1xuXHR9LFxuXHR1bmRlbGVnYXRlOiBmdW5jdGlvbiggc2VsZWN0b3IsIHR5cGVzLCBmbiApIHtcblx0XHQvLyAoIG5hbWVzcGFjZSApIG9yICggc2VsZWN0b3IsIHR5cGVzIFssIGZuXSApXG5cdFx0cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgPyB0aGlzLm9mZiggc2VsZWN0b3IsIFwiKipcIiApIDogdGhpcy5vZmYoIHR5cGVzLCBzZWxlY3RvciB8fCBcIioqXCIsIGZuICk7XG5cdH1cbn0pO1xuXG5cbnZhciBub25jZSA9IGpRdWVyeS5ub3coKTtcblxudmFyIHJxdWVyeSA9ICgvXFw/Lyk7XG5cblxuXG4vLyBTdXBwb3J0OiBBbmRyb2lkIDIuM1xuLy8gV29ya2Fyb3VuZCBmYWlsdXJlIHRvIHN0cmluZy1jYXN0IG51bGwgaW5wdXRcbmpRdWVyeS5wYXJzZUpTT04gPSBmdW5jdGlvbiggZGF0YSApIHtcblx0cmV0dXJuIEpTT04ucGFyc2UoIGRhdGEgKyBcIlwiICk7XG59O1xuXG5cbi8vIENyb3NzLWJyb3dzZXIgeG1sIHBhcnNpbmdcbmpRdWVyeS5wYXJzZVhNTCA9IGZ1bmN0aW9uKCBkYXRhICkge1xuXHR2YXIgeG1sLCB0bXA7XG5cdGlmICggIWRhdGEgfHwgdHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHQvLyBTdXBwb3J0OiBJRTlcblx0dHJ5IHtcblx0XHR0bXAgPSBuZXcgRE9NUGFyc2VyKCk7XG5cdFx0eG1sID0gdG1wLnBhcnNlRnJvbVN0cmluZyggZGF0YSwgXCJ0ZXh0L3htbFwiICk7XG5cdH0gY2F0Y2ggKCBlICkge1xuXHRcdHhtbCA9IHVuZGVmaW5lZDtcblx0fVxuXG5cdGlmICggIXhtbCB8fCB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwicGFyc2VyZXJyb3JcIiApLmxlbmd0aCApIHtcblx0XHRqUXVlcnkuZXJyb3IoIFwiSW52YWxpZCBYTUw6IFwiICsgZGF0YSApO1xuXHR9XG5cdHJldHVybiB4bWw7XG59O1xuXG5cbnZhclxuXHQvLyBEb2N1bWVudCBsb2NhdGlvblxuXHRhamF4TG9jUGFydHMsXG5cdGFqYXhMb2NhdGlvbixcblxuXHRyaGFzaCA9IC8jLiokLyxcblx0cnRzID0gLyhbPyZdKV89W14mXSovLFxuXHRyaGVhZGVycyA9IC9eKC4qPyk6WyBcXHRdKihbXlxcclxcbl0qKSQvbWcsXG5cdC8vICM3NjUzLCAjODEyNSwgIzgxNTI6IGxvY2FsIHByb3RvY29sIGRldGVjdGlvblxuXHRybG9jYWxQcm90b2NvbCA9IC9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLFxuXHRybm9Db250ZW50ID0gL14oPzpHRVR8SEVBRCkkLyxcblx0cnByb3RvY29sID0gL15cXC9cXC8vLFxuXHRydXJsID0gL14oW1xcdy4rLV0rOikoPzpcXC9cXC8oPzpbXlxcLz8jXSpAfCkoW15cXC8/IzpdKikoPzo6KFxcZCspfCl8KS8sXG5cblx0LyogUHJlZmlsdGVyc1xuXHQgKiAxKSBUaGV5IGFyZSB1c2VmdWwgdG8gaW50cm9kdWNlIGN1c3RvbSBkYXRhVHlwZXMgKHNlZSBhamF4L2pzb25wLmpzIGZvciBhbiBleGFtcGxlKVxuXHQgKiAyKSBUaGVzZSBhcmUgY2FsbGVkOlxuXHQgKiAgICAtIEJFRk9SRSBhc2tpbmcgZm9yIGEgdHJhbnNwb3J0XG5cdCAqICAgIC0gQUZURVIgcGFyYW0gc2VyaWFsaXphdGlvbiAocy5kYXRhIGlzIGEgc3RyaW5nIGlmIHMucHJvY2Vzc0RhdGEgaXMgdHJ1ZSlcblx0ICogMykga2V5IGlzIHRoZSBkYXRhVHlwZVxuXHQgKiA0KSB0aGUgY2F0Y2hhbGwgc3ltYm9sIFwiKlwiIGNhbiBiZSB1c2VkXG5cdCAqIDUpIGV4ZWN1dGlvbiB3aWxsIHN0YXJ0IHdpdGggdHJhbnNwb3J0IGRhdGFUeXBlIGFuZCBUSEVOIGNvbnRpbnVlIGRvd24gdG8gXCIqXCIgaWYgbmVlZGVkXG5cdCAqL1xuXHRwcmVmaWx0ZXJzID0ge30sXG5cblx0LyogVHJhbnNwb3J0cyBiaW5kaW5nc1xuXHQgKiAxKSBrZXkgaXMgdGhlIGRhdGFUeXBlXG5cdCAqIDIpIHRoZSBjYXRjaGFsbCBzeW1ib2wgXCIqXCIgY2FuIGJlIHVzZWRcblx0ICogMykgc2VsZWN0aW9uIHdpbGwgc3RhcnQgd2l0aCB0cmFuc3BvcnQgZGF0YVR5cGUgYW5kIFRIRU4gZ28gdG8gXCIqXCIgaWYgbmVlZGVkXG5cdCAqL1xuXHR0cmFuc3BvcnRzID0ge30sXG5cblx0Ly8gQXZvaWQgY29tbWVudC1wcm9sb2cgY2hhciBzZXF1ZW5jZSAoIzEwMDk4KTsgbXVzdCBhcHBlYXNlIGxpbnQgYW5kIGV2YWRlIGNvbXByZXNzaW9uXG5cdGFsbFR5cGVzID0gXCIqL1wiLmNvbmNhdChcIipcIik7XG5cbi8vICM4MTM4LCBJRSBtYXkgdGhyb3cgYW4gZXhjZXB0aW9uIHdoZW4gYWNjZXNzaW5nXG4vLyBhIGZpZWxkIGZyb20gd2luZG93LmxvY2F0aW9uIGlmIGRvY3VtZW50LmRvbWFpbiBoYXMgYmVlbiBzZXRcbnRyeSB7XG5cdGFqYXhMb2NhdGlvbiA9IGxvY2F0aW9uLmhyZWY7XG59IGNhdGNoKCBlICkge1xuXHQvLyBVc2UgdGhlIGhyZWYgYXR0cmlidXRlIG9mIGFuIEEgZWxlbWVudFxuXHQvLyBzaW5jZSBJRSB3aWxsIG1vZGlmeSBpdCBnaXZlbiBkb2N1bWVudC5sb2NhdGlvblxuXHRhamF4TG9jYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImFcIiApO1xuXHRhamF4TG9jYXRpb24uaHJlZiA9IFwiXCI7XG5cdGFqYXhMb2NhdGlvbiA9IGFqYXhMb2NhdGlvbi5ocmVmO1xufVxuXG4vLyBTZWdtZW50IGxvY2F0aW9uIGludG8gcGFydHNcbmFqYXhMb2NQYXJ0cyA9IHJ1cmwuZXhlYyggYWpheExvY2F0aW9uLnRvTG93ZXJDYXNlKCkgKSB8fCBbXTtcblxuLy8gQmFzZSBcImNvbnN0cnVjdG9yXCIgZm9yIGpRdWVyeS5hamF4UHJlZmlsdGVyIGFuZCBqUXVlcnkuYWpheFRyYW5zcG9ydFxuZnVuY3Rpb24gYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBzdHJ1Y3R1cmUgKSB7XG5cblx0Ly8gZGF0YVR5cGVFeHByZXNzaW9uIGlzIG9wdGlvbmFsIGFuZCBkZWZhdWx0cyB0byBcIipcIlxuXHRyZXR1cm4gZnVuY3Rpb24oIGRhdGFUeXBlRXhwcmVzc2lvbiwgZnVuYyApIHtcblxuXHRcdGlmICggdHlwZW9mIGRhdGFUeXBlRXhwcmVzc2lvbiAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGZ1bmMgPSBkYXRhVHlwZUV4cHJlc3Npb247XG5cdFx0XHRkYXRhVHlwZUV4cHJlc3Npb24gPSBcIipcIjtcblx0XHR9XG5cblx0XHR2YXIgZGF0YVR5cGUsXG5cdFx0XHRpID0gMCxcblx0XHRcdGRhdGFUeXBlcyA9IGRhdGFUeXBlRXhwcmVzc2lvbi50b0xvd2VyQ2FzZSgpLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbXTtcblxuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGZ1bmMgKSApIHtcblx0XHRcdC8vIEZvciBlYWNoIGRhdGFUeXBlIGluIHRoZSBkYXRhVHlwZUV4cHJlc3Npb25cblx0XHRcdHdoaWxlICggKGRhdGFUeXBlID0gZGF0YVR5cGVzW2krK10pICkge1xuXHRcdFx0XHQvLyBQcmVwZW5kIGlmIHJlcXVlc3RlZFxuXHRcdFx0XHRpZiAoIGRhdGFUeXBlWzBdID09PSBcIitcIiApIHtcblx0XHRcdFx0XHRkYXRhVHlwZSA9IGRhdGFUeXBlLnNsaWNlKCAxICkgfHwgXCIqXCI7XG5cdFx0XHRcdFx0KHN0cnVjdHVyZVsgZGF0YVR5cGUgXSA9IHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSkudW5zaGlmdCggZnVuYyApO1xuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSBhcHBlbmRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQoc3RydWN0dXJlWyBkYXRhVHlwZSBdID0gc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdKS5wdXNoKCBmdW5jICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vIEJhc2UgaW5zcGVjdGlvbiBmdW5jdGlvbiBmb3IgcHJlZmlsdGVycyBhbmQgdHJhbnNwb3J0c1xuZnVuY3Rpb24gaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHN0cnVjdHVyZSwgb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zLCBqcVhIUiApIHtcblxuXHR2YXIgaW5zcGVjdGVkID0ge30sXG5cdFx0c2Vla2luZ1RyYW5zcG9ydCA9ICggc3RydWN0dXJlID09PSB0cmFuc3BvcnRzICk7XG5cblx0ZnVuY3Rpb24gaW5zcGVjdCggZGF0YVR5cGUgKSB7XG5cdFx0dmFyIHNlbGVjdGVkO1xuXHRcdGluc3BlY3RlZFsgZGF0YVR5cGUgXSA9IHRydWU7XG5cdFx0alF1ZXJ5LmVhY2goIHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSwgZnVuY3Rpb24oIF8sIHByZWZpbHRlck9yRmFjdG9yeSApIHtcblx0XHRcdHZhciBkYXRhVHlwZU9yVHJhbnNwb3J0ID0gcHJlZmlsdGVyT3JGYWN0b3J5KCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMsIGpxWEhSICk7XG5cdFx0XHRpZiAoIHR5cGVvZiBkYXRhVHlwZU9yVHJhbnNwb3J0ID09PSBcInN0cmluZ1wiICYmICFzZWVraW5nVHJhbnNwb3J0ICYmICFpbnNwZWN0ZWRbIGRhdGFUeXBlT3JUcmFuc3BvcnQgXSApIHtcblx0XHRcdFx0b3B0aW9ucy5kYXRhVHlwZXMudW5zaGlmdCggZGF0YVR5cGVPclRyYW5zcG9ydCApO1xuXHRcdFx0XHRpbnNwZWN0KCBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0gZWxzZSBpZiAoIHNlZWtpbmdUcmFuc3BvcnQgKSB7XG5cdFx0XHRcdHJldHVybiAhKCBzZWxlY3RlZCA9IGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRyZXR1cm4gc2VsZWN0ZWQ7XG5cdH1cblxuXHRyZXR1cm4gaW5zcGVjdCggb3B0aW9ucy5kYXRhVHlwZXNbIDAgXSApIHx8ICFpbnNwZWN0ZWRbIFwiKlwiIF0gJiYgaW5zcGVjdCggXCIqXCIgKTtcbn1cblxuLy8gQSBzcGVjaWFsIGV4dGVuZCBmb3IgYWpheCBvcHRpb25zXG4vLyB0aGF0IHRha2VzIFwiZmxhdFwiIG9wdGlvbnMgKG5vdCB0byBiZSBkZWVwIGV4dGVuZGVkKVxuLy8gRml4ZXMgIzk4ODdcbmZ1bmN0aW9uIGFqYXhFeHRlbmQoIHRhcmdldCwgc3JjICkge1xuXHR2YXIga2V5LCBkZWVwLFxuXHRcdGZsYXRPcHRpb25zID0galF1ZXJ5LmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9ucyB8fCB7fTtcblxuXHRmb3IgKCBrZXkgaW4gc3JjICkge1xuXHRcdGlmICggc3JjWyBrZXkgXSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0KCBmbGF0T3B0aW9uc1sga2V5IF0gPyB0YXJnZXQgOiAoIGRlZXAgfHwgKGRlZXAgPSB7fSkgKSApWyBrZXkgXSA9IHNyY1sga2V5IF07XG5cdFx0fVxuXHR9XG5cdGlmICggZGVlcCApIHtcblx0XHRqUXVlcnkuZXh0ZW5kKCB0cnVlLCB0YXJnZXQsIGRlZXAgKTtcblx0fVxuXG5cdHJldHVybiB0YXJnZXQ7XG59XG5cbi8qIEhhbmRsZXMgcmVzcG9uc2VzIHRvIGFuIGFqYXggcmVxdWVzdDpcbiAqIC0gZmluZHMgdGhlIHJpZ2h0IGRhdGFUeXBlIChtZWRpYXRlcyBiZXR3ZWVuIGNvbnRlbnQtdHlwZSBhbmQgZXhwZWN0ZWQgZGF0YVR5cGUpXG4gKiAtIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgcmVzcG9uc2VcbiAqL1xuZnVuY3Rpb24gYWpheEhhbmRsZVJlc3BvbnNlcyggcywganFYSFIsIHJlc3BvbnNlcyApIHtcblxuXHR2YXIgY3QsIHR5cGUsIGZpbmFsRGF0YVR5cGUsIGZpcnN0RGF0YVR5cGUsXG5cdFx0Y29udGVudHMgPSBzLmNvbnRlbnRzLFxuXHRcdGRhdGFUeXBlcyA9IHMuZGF0YVR5cGVzO1xuXG5cdC8vIFJlbW92ZSBhdXRvIGRhdGFUeXBlIGFuZCBnZXQgY29udGVudC10eXBlIGluIHRoZSBwcm9jZXNzXG5cdHdoaWxlICggZGF0YVR5cGVzWyAwIF0gPT09IFwiKlwiICkge1xuXHRcdGRhdGFUeXBlcy5zaGlmdCgpO1xuXHRcdGlmICggY3QgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGN0ID0gcy5taW1lVHlwZSB8fCBqcVhIUi5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKTtcblx0XHR9XG5cdH1cblxuXHQvLyBDaGVjayBpZiB3ZSdyZSBkZWFsaW5nIHdpdGggYSBrbm93biBjb250ZW50LXR5cGVcblx0aWYgKCBjdCApIHtcblx0XHRmb3IgKCB0eXBlIGluIGNvbnRlbnRzICkge1xuXHRcdFx0aWYgKCBjb250ZW50c1sgdHlwZSBdICYmIGNvbnRlbnRzWyB0eXBlIF0udGVzdCggY3QgKSApIHtcblx0XHRcdFx0ZGF0YVR5cGVzLnVuc2hpZnQoIHR5cGUgKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ2hlY2sgdG8gc2VlIGlmIHdlIGhhdmUgYSByZXNwb25zZSBmb3IgdGhlIGV4cGVjdGVkIGRhdGFUeXBlXG5cdGlmICggZGF0YVR5cGVzWyAwIF0gaW4gcmVzcG9uc2VzICkge1xuXHRcdGZpbmFsRGF0YVR5cGUgPSBkYXRhVHlwZXNbIDAgXTtcblx0fSBlbHNlIHtcblx0XHQvLyBUcnkgY29udmVydGlibGUgZGF0YVR5cGVzXG5cdFx0Zm9yICggdHlwZSBpbiByZXNwb25zZXMgKSB7XG5cdFx0XHRpZiAoICFkYXRhVHlwZXNbIDAgXSB8fCBzLmNvbnZlcnRlcnNbIHR5cGUgKyBcIiBcIiArIGRhdGFUeXBlc1swXSBdICkge1xuXHRcdFx0XHRmaW5hbERhdGFUeXBlID0gdHlwZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRpZiAoICFmaXJzdERhdGFUeXBlICkge1xuXHRcdFx0XHRmaXJzdERhdGFUeXBlID0gdHlwZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Ly8gT3IganVzdCB1c2UgZmlyc3Qgb25lXG5cdFx0ZmluYWxEYXRhVHlwZSA9IGZpbmFsRGF0YVR5cGUgfHwgZmlyc3REYXRhVHlwZTtcblx0fVxuXG5cdC8vIElmIHdlIGZvdW5kIGEgZGF0YVR5cGVcblx0Ly8gV2UgYWRkIHRoZSBkYXRhVHlwZSB0byB0aGUgbGlzdCBpZiBuZWVkZWRcblx0Ly8gYW5kIHJldHVybiB0aGUgY29ycmVzcG9uZGluZyByZXNwb25zZVxuXHRpZiAoIGZpbmFsRGF0YVR5cGUgKSB7XG5cdFx0aWYgKCBmaW5hbERhdGFUeXBlICE9PSBkYXRhVHlwZXNbIDAgXSApIHtcblx0XHRcdGRhdGFUeXBlcy51bnNoaWZ0KCBmaW5hbERhdGFUeXBlICk7XG5cdFx0fVxuXHRcdHJldHVybiByZXNwb25zZXNbIGZpbmFsRGF0YVR5cGUgXTtcblx0fVxufVxuXG4vKiBDaGFpbiBjb252ZXJzaW9ucyBnaXZlbiB0aGUgcmVxdWVzdCBhbmQgdGhlIG9yaWdpbmFsIHJlc3BvbnNlXG4gKiBBbHNvIHNldHMgdGhlIHJlc3BvbnNlWFhYIGZpZWxkcyBvbiB0aGUganFYSFIgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gYWpheENvbnZlcnQoIHMsIHJlc3BvbnNlLCBqcVhIUiwgaXNTdWNjZXNzICkge1xuXHR2YXIgY29udjIsIGN1cnJlbnQsIGNvbnYsIHRtcCwgcHJldixcblx0XHRjb252ZXJ0ZXJzID0ge30sXG5cdFx0Ly8gV29yayB3aXRoIGEgY29weSBvZiBkYXRhVHlwZXMgaW4gY2FzZSB3ZSBuZWVkIHRvIG1vZGlmeSBpdCBmb3IgY29udmVyc2lvblxuXHRcdGRhdGFUeXBlcyA9IHMuZGF0YVR5cGVzLnNsaWNlKCk7XG5cblx0Ly8gQ3JlYXRlIGNvbnZlcnRlcnMgbWFwIHdpdGggbG93ZXJjYXNlZCBrZXlzXG5cdGlmICggZGF0YVR5cGVzWyAxIF0gKSB7XG5cdFx0Zm9yICggY29udiBpbiBzLmNvbnZlcnRlcnMgKSB7XG5cdFx0XHRjb252ZXJ0ZXJzWyBjb252LnRvTG93ZXJDYXNlKCkgXSA9IHMuY29udmVydGVyc1sgY29udiBdO1xuXHRcdH1cblx0fVxuXG5cdGN1cnJlbnQgPSBkYXRhVHlwZXMuc2hpZnQoKTtcblxuXHQvLyBDb252ZXJ0IHRvIGVhY2ggc2VxdWVudGlhbCBkYXRhVHlwZVxuXHR3aGlsZSAoIGN1cnJlbnQgKSB7XG5cblx0XHRpZiAoIHMucmVzcG9uc2VGaWVsZHNbIGN1cnJlbnQgXSApIHtcblx0XHRcdGpxWEhSWyBzLnJlc3BvbnNlRmllbGRzWyBjdXJyZW50IF0gXSA9IHJlc3BvbnNlO1xuXHRcdH1cblxuXHRcdC8vIEFwcGx5IHRoZSBkYXRhRmlsdGVyIGlmIHByb3ZpZGVkXG5cdFx0aWYgKCAhcHJldiAmJiBpc1N1Y2Nlc3MgJiYgcy5kYXRhRmlsdGVyICkge1xuXHRcdFx0cmVzcG9uc2UgPSBzLmRhdGFGaWx0ZXIoIHJlc3BvbnNlLCBzLmRhdGFUeXBlICk7XG5cdFx0fVxuXG5cdFx0cHJldiA9IGN1cnJlbnQ7XG5cdFx0Y3VycmVudCA9IGRhdGFUeXBlcy5zaGlmdCgpO1xuXG5cdFx0aWYgKCBjdXJyZW50ICkge1xuXG5cdFx0Ly8gVGhlcmUncyBvbmx5IHdvcmsgdG8gZG8gaWYgY3VycmVudCBkYXRhVHlwZSBpcyBub24tYXV0b1xuXHRcdFx0aWYgKCBjdXJyZW50ID09PSBcIipcIiApIHtcblxuXHRcdFx0XHRjdXJyZW50ID0gcHJldjtcblxuXHRcdFx0Ly8gQ29udmVydCByZXNwb25zZSBpZiBwcmV2IGRhdGFUeXBlIGlzIG5vbi1hdXRvIGFuZCBkaWZmZXJzIGZyb20gY3VycmVudFxuXHRcdFx0fSBlbHNlIGlmICggcHJldiAhPT0gXCIqXCIgJiYgcHJldiAhPT0gY3VycmVudCApIHtcblxuXHRcdFx0XHQvLyBTZWVrIGEgZGlyZWN0IGNvbnZlcnRlclxuXHRcdFx0XHRjb252ID0gY29udmVydGVyc1sgcHJldiArIFwiIFwiICsgY3VycmVudCBdIHx8IGNvbnZlcnRlcnNbIFwiKiBcIiArIGN1cnJlbnQgXTtcblxuXHRcdFx0XHQvLyBJZiBub25lIGZvdW5kLCBzZWVrIGEgcGFpclxuXHRcdFx0XHRpZiAoICFjb252ICkge1xuXHRcdFx0XHRcdGZvciAoIGNvbnYyIGluIGNvbnZlcnRlcnMgKSB7XG5cblx0XHRcdFx0XHRcdC8vIElmIGNvbnYyIG91dHB1dHMgY3VycmVudFxuXHRcdFx0XHRcdFx0dG1wID0gY29udjIuc3BsaXQoIFwiIFwiICk7XG5cdFx0XHRcdFx0XHRpZiAoIHRtcFsgMSBdID09PSBjdXJyZW50ICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIElmIHByZXYgY2FuIGJlIGNvbnZlcnRlZCB0byBhY2NlcHRlZCBpbnB1dFxuXHRcdFx0XHRcdFx0XHRjb252ID0gY29udmVydGVyc1sgcHJldiArIFwiIFwiICsgdG1wWyAwIF0gXSB8fFxuXHRcdFx0XHRcdFx0XHRcdGNvbnZlcnRlcnNbIFwiKiBcIiArIHRtcFsgMCBdIF07XG5cdFx0XHRcdFx0XHRcdGlmICggY29udiApIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBDb25kZW5zZSBlcXVpdmFsZW5jZSBjb252ZXJ0ZXJzXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBjb252ID09PSB0cnVlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIGNvbnYyIF07XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBPdGhlcndpc2UsIGluc2VydCB0aGUgaW50ZXJtZWRpYXRlIGRhdGFUeXBlXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmICggY29udmVydGVyc1sgY29udjIgXSAhPT0gdHJ1ZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGN1cnJlbnQgPSB0bXBbIDAgXTtcblx0XHRcdFx0XHRcdFx0XHRcdGRhdGFUeXBlcy51bnNoaWZ0KCB0bXBbIDEgXSApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEFwcGx5IGNvbnZlcnRlciAoaWYgbm90IGFuIGVxdWl2YWxlbmNlKVxuXHRcdFx0XHRpZiAoIGNvbnYgIT09IHRydWUgKSB7XG5cblx0XHRcdFx0XHQvLyBVbmxlc3MgZXJyb3JzIGFyZSBhbGxvd2VkIHRvIGJ1YmJsZSwgY2F0Y2ggYW5kIHJldHVybiB0aGVtXG5cdFx0XHRcdFx0aWYgKCBjb252ICYmIHNbIFwidGhyb3dzXCIgXSApIHtcblx0XHRcdFx0XHRcdHJlc3BvbnNlID0gY29udiggcmVzcG9uc2UgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0cmVzcG9uc2UgPSBjb252KCByZXNwb25zZSApO1xuXHRcdFx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB7IHN0YXRlOiBcInBhcnNlcmVycm9yXCIsIGVycm9yOiBjb252ID8gZSA6IFwiTm8gY29udmVyc2lvbiBmcm9tIFwiICsgcHJldiArIFwiIHRvIFwiICsgY3VycmVudCB9O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB7IHN0YXRlOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzcG9uc2UgfTtcbn1cblxualF1ZXJ5LmV4dGVuZCh7XG5cblx0Ly8gQ291bnRlciBmb3IgaG9sZGluZyB0aGUgbnVtYmVyIG9mIGFjdGl2ZSBxdWVyaWVzXG5cdGFjdGl2ZTogMCxcblxuXHQvLyBMYXN0LU1vZGlmaWVkIGhlYWRlciBjYWNoZSBmb3IgbmV4dCByZXF1ZXN0XG5cdGxhc3RNb2RpZmllZDoge30sXG5cdGV0YWc6IHt9LFxuXG5cdGFqYXhTZXR0aW5nczoge1xuXHRcdHVybDogYWpheExvY2F0aW9uLFxuXHRcdHR5cGU6IFwiR0VUXCIsXG5cdFx0aXNMb2NhbDogcmxvY2FsUHJvdG9jb2wudGVzdCggYWpheExvY1BhcnRzWyAxIF0gKSxcblx0XHRnbG9iYWw6IHRydWUsXG5cdFx0cHJvY2Vzc0RhdGE6IHRydWUsXG5cdFx0YXN5bmM6IHRydWUsXG5cdFx0Y29udGVudFR5cGU6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04XCIsXG5cdFx0Lypcblx0XHR0aW1lb3V0OiAwLFxuXHRcdGRhdGE6IG51bGwsXG5cdFx0ZGF0YVR5cGU6IG51bGwsXG5cdFx0dXNlcm5hbWU6IG51bGwsXG5cdFx0cGFzc3dvcmQ6IG51bGwsXG5cdFx0Y2FjaGU6IG51bGwsXG5cdFx0dGhyb3dzOiBmYWxzZSxcblx0XHR0cmFkaXRpb25hbDogZmFsc2UsXG5cdFx0aGVhZGVyczoge30sXG5cdFx0Ki9cblxuXHRcdGFjY2VwdHM6IHtcblx0XHRcdFwiKlwiOiBhbGxUeXBlcyxcblx0XHRcdHRleHQ6IFwidGV4dC9wbGFpblwiLFxuXHRcdFx0aHRtbDogXCJ0ZXh0L2h0bWxcIixcblx0XHRcdHhtbDogXCJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sXCIsXG5cdFx0XHRqc29uOiBcImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdFwiXG5cdFx0fSxcblxuXHRcdGNvbnRlbnRzOiB7XG5cdFx0XHR4bWw6IC94bWwvLFxuXHRcdFx0aHRtbDogL2h0bWwvLFxuXHRcdFx0anNvbjogL2pzb24vXG5cdFx0fSxcblxuXHRcdHJlc3BvbnNlRmllbGRzOiB7XG5cdFx0XHR4bWw6IFwicmVzcG9uc2VYTUxcIixcblx0XHRcdHRleHQ6IFwicmVzcG9uc2VUZXh0XCIsXG5cdFx0XHRqc29uOiBcInJlc3BvbnNlSlNPTlwiXG5cdFx0fSxcblxuXHRcdC8vIERhdGEgY29udmVydGVyc1xuXHRcdC8vIEtleXMgc2VwYXJhdGUgc291cmNlIChvciBjYXRjaGFsbCBcIipcIikgYW5kIGRlc3RpbmF0aW9uIHR5cGVzIHdpdGggYSBzaW5nbGUgc3BhY2Vcblx0XHRjb252ZXJ0ZXJzOiB7XG5cblx0XHRcdC8vIENvbnZlcnQgYW55dGhpbmcgdG8gdGV4dFxuXHRcdFx0XCIqIHRleHRcIjogU3RyaW5nLFxuXG5cdFx0XHQvLyBUZXh0IHRvIGh0bWwgKHRydWUgPSBubyB0cmFuc2Zvcm1hdGlvbilcblx0XHRcdFwidGV4dCBodG1sXCI6IHRydWUsXG5cblx0XHRcdC8vIEV2YWx1YXRlIHRleHQgYXMgYSBqc29uIGV4cHJlc3Npb25cblx0XHRcdFwidGV4dCBqc29uXCI6IGpRdWVyeS5wYXJzZUpTT04sXG5cblx0XHRcdC8vIFBhcnNlIHRleHQgYXMgeG1sXG5cdFx0XHRcInRleHQgeG1sXCI6IGpRdWVyeS5wYXJzZVhNTFxuXHRcdH0sXG5cblx0XHQvLyBGb3Igb3B0aW9ucyB0aGF0IHNob3VsZG4ndCBiZSBkZWVwIGV4dGVuZGVkOlxuXHRcdC8vIHlvdSBjYW4gYWRkIHlvdXIgb3duIGN1c3RvbSBvcHRpb25zIGhlcmUgaWZcblx0XHQvLyBhbmQgd2hlbiB5b3UgY3JlYXRlIG9uZSB0aGF0IHNob3VsZG4ndCBiZVxuXHRcdC8vIGRlZXAgZXh0ZW5kZWQgKHNlZSBhamF4RXh0ZW5kKVxuXHRcdGZsYXRPcHRpb25zOiB7XG5cdFx0XHR1cmw6IHRydWUsXG5cdFx0XHRjb250ZXh0OiB0cnVlXG5cdFx0fVxuXHR9LFxuXG5cdC8vIENyZWF0ZXMgYSBmdWxsIGZsZWRnZWQgc2V0dGluZ3Mgb2JqZWN0IGludG8gdGFyZ2V0XG5cdC8vIHdpdGggYm90aCBhamF4U2V0dGluZ3MgYW5kIHNldHRpbmdzIGZpZWxkcy5cblx0Ly8gSWYgdGFyZ2V0IGlzIG9taXR0ZWQsIHdyaXRlcyBpbnRvIGFqYXhTZXR0aW5ncy5cblx0YWpheFNldHVwOiBmdW5jdGlvbiggdGFyZ2V0LCBzZXR0aW5ncyApIHtcblx0XHRyZXR1cm4gc2V0dGluZ3MgP1xuXG5cdFx0XHQvLyBCdWlsZGluZyBhIHNldHRpbmdzIG9iamVjdFxuXHRcdFx0YWpheEV4dGVuZCggYWpheEV4dGVuZCggdGFyZ2V0LCBqUXVlcnkuYWpheFNldHRpbmdzICksIHNldHRpbmdzICkgOlxuXG5cdFx0XHQvLyBFeHRlbmRpbmcgYWpheFNldHRpbmdzXG5cdFx0XHRhamF4RXh0ZW5kKCBqUXVlcnkuYWpheFNldHRpbmdzLCB0YXJnZXQgKTtcblx0fSxcblxuXHRhamF4UHJlZmlsdGVyOiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHByZWZpbHRlcnMgKSxcblx0YWpheFRyYW5zcG9ydDogYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCB0cmFuc3BvcnRzICksXG5cblx0Ly8gTWFpbiBtZXRob2Rcblx0YWpheDogZnVuY3Rpb24oIHVybCwgb3B0aW9ucyApIHtcblxuXHRcdC8vIElmIHVybCBpcyBhbiBvYmplY3QsIHNpbXVsYXRlIHByZS0xLjUgc2lnbmF0dXJlXG5cdFx0aWYgKCB0eXBlb2YgdXJsID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0b3B0aW9ucyA9IHVybDtcblx0XHRcdHVybCA9IHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHQvLyBGb3JjZSBvcHRpb25zIHRvIGJlIGFuIG9iamVjdFxuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdFx0dmFyIHRyYW5zcG9ydCxcblx0XHRcdC8vIFVSTCB3aXRob3V0IGFudGktY2FjaGUgcGFyYW1cblx0XHRcdGNhY2hlVVJMLFxuXHRcdFx0Ly8gUmVzcG9uc2UgaGVhZGVyc1xuXHRcdFx0cmVzcG9uc2VIZWFkZXJzU3RyaW5nLFxuXHRcdFx0cmVzcG9uc2VIZWFkZXJzLFxuXHRcdFx0Ly8gdGltZW91dCBoYW5kbGVcblx0XHRcdHRpbWVvdXRUaW1lcixcblx0XHRcdC8vIENyb3NzLWRvbWFpbiBkZXRlY3Rpb24gdmFyc1xuXHRcdFx0cGFydHMsXG5cdFx0XHQvLyBUbyBrbm93IGlmIGdsb2JhbCBldmVudHMgYXJlIHRvIGJlIGRpc3BhdGNoZWRcblx0XHRcdGZpcmVHbG9iYWxzLFxuXHRcdFx0Ly8gTG9vcCB2YXJpYWJsZVxuXHRcdFx0aSxcblx0XHRcdC8vIENyZWF0ZSB0aGUgZmluYWwgb3B0aW9ucyBvYmplY3Rcblx0XHRcdHMgPSBqUXVlcnkuYWpheFNldHVwKCB7fSwgb3B0aW9ucyApLFxuXHRcdFx0Ly8gQ2FsbGJhY2tzIGNvbnRleHRcblx0XHRcdGNhbGxiYWNrQ29udGV4dCA9IHMuY29udGV4dCB8fCBzLFxuXHRcdFx0Ly8gQ29udGV4dCBmb3IgZ2xvYmFsIGV2ZW50cyBpcyBjYWxsYmFja0NvbnRleHQgaWYgaXQgaXMgYSBET00gbm9kZSBvciBqUXVlcnkgY29sbGVjdGlvblxuXHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0ID0gcy5jb250ZXh0ICYmICggY2FsbGJhY2tDb250ZXh0Lm5vZGVUeXBlIHx8IGNhbGxiYWNrQ29udGV4dC5qcXVlcnkgKSA/XG5cdFx0XHRcdGpRdWVyeSggY2FsbGJhY2tDb250ZXh0ICkgOlxuXHRcdFx0XHRqUXVlcnkuZXZlbnQsXG5cdFx0XHQvLyBEZWZlcnJlZHNcblx0XHRcdGRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCksXG5cdFx0XHRjb21wbGV0ZURlZmVycmVkID0galF1ZXJ5LkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLFxuXHRcdFx0Ly8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3Ncblx0XHRcdHN0YXR1c0NvZGUgPSBzLnN0YXR1c0NvZGUgfHwge30sXG5cdFx0XHQvLyBIZWFkZXJzICh0aGV5IGFyZSBzZW50IGFsbCBhdCBvbmNlKVxuXHRcdFx0cmVxdWVzdEhlYWRlcnMgPSB7fSxcblx0XHRcdHJlcXVlc3RIZWFkZXJzTmFtZXMgPSB7fSxcblx0XHRcdC8vIFRoZSBqcVhIUiBzdGF0ZVxuXHRcdFx0c3RhdGUgPSAwLFxuXHRcdFx0Ly8gRGVmYXVsdCBhYm9ydCBtZXNzYWdlXG5cdFx0XHRzdHJBYm9ydCA9IFwiY2FuY2VsZWRcIixcblx0XHRcdC8vIEZha2UgeGhyXG5cdFx0XHRqcVhIUiA9IHtcblx0XHRcdFx0cmVhZHlTdGF0ZTogMCxcblxuXHRcdFx0XHQvLyBCdWlsZHMgaGVhZGVycyBoYXNodGFibGUgaWYgbmVlZGVkXG5cdFx0XHRcdGdldFJlc3BvbnNlSGVhZGVyOiBmdW5jdGlvbigga2V5ICkge1xuXHRcdFx0XHRcdHZhciBtYXRjaDtcblx0XHRcdFx0XHRpZiAoIHN0YXRlID09PSAyICkge1xuXHRcdFx0XHRcdFx0aWYgKCAhcmVzcG9uc2VIZWFkZXJzICkge1xuXHRcdFx0XHRcdFx0XHRyZXNwb25zZUhlYWRlcnMgPSB7fTtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKCAobWF0Y2ggPSByaGVhZGVycy5leGVjKCByZXNwb25zZUhlYWRlcnNTdHJpbmcgKSkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmVzcG9uc2VIZWFkZXJzWyBtYXRjaFsxXS50b0xvd2VyQ2FzZSgpIF0gPSBtYXRjaFsgMiBdO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRtYXRjaCA9IHJlc3BvbnNlSGVhZGVyc1sga2V5LnRvTG93ZXJDYXNlKCkgXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIG1hdGNoID09IG51bGwgPyBudWxsIDogbWF0Y2g7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gUmF3IHN0cmluZ1xuXHRcdFx0XHRnZXRBbGxSZXNwb25zZUhlYWRlcnM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiBzdGF0ZSA9PT0gMiA/IHJlc3BvbnNlSGVhZGVyc1N0cmluZyA6IG51bGw7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gQ2FjaGVzIHRoZSBoZWFkZXJcblx0XHRcdFx0c2V0UmVxdWVzdEhlYWRlcjogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdFx0XHRcdHZhciBsbmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0XHRpZiAoICFzdGF0ZSApIHtcblx0XHRcdFx0XHRcdG5hbWUgPSByZXF1ZXN0SGVhZGVyc05hbWVzWyBsbmFtZSBdID0gcmVxdWVzdEhlYWRlcnNOYW1lc1sgbG5hbWUgXSB8fCBuYW1lO1xuXHRcdFx0XHRcdFx0cmVxdWVzdEhlYWRlcnNbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBPdmVycmlkZXMgcmVzcG9uc2UgY29udGVudC10eXBlIGhlYWRlclxuXHRcdFx0XHRvdmVycmlkZU1pbWVUeXBlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRcdFx0XHRpZiAoICFzdGF0ZSApIHtcblx0XHRcdFx0XHRcdHMubWltZVR5cGUgPSB0eXBlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xuXHRcdFx0XHRzdGF0dXNDb2RlOiBmdW5jdGlvbiggbWFwICkge1xuXHRcdFx0XHRcdHZhciBjb2RlO1xuXHRcdFx0XHRcdGlmICggbWFwICkge1xuXHRcdFx0XHRcdFx0aWYgKCBzdGF0ZSA8IDIgKSB7XG5cdFx0XHRcdFx0XHRcdGZvciAoIGNvZGUgaW4gbWFwICkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIExhenktYWRkIHRoZSBuZXcgY2FsbGJhY2sgaW4gYSB3YXkgdGhhdCBwcmVzZXJ2ZXMgb2xkIG9uZXNcblx0XHRcdFx0XHRcdFx0XHRzdGF0dXNDb2RlWyBjb2RlIF0gPSBbIHN0YXR1c0NvZGVbIGNvZGUgXSwgbWFwWyBjb2RlIF0gXTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly8gRXhlY3V0ZSB0aGUgYXBwcm9wcmlhdGUgY2FsbGJhY2tzXG5cdFx0XHRcdFx0XHRcdGpxWEhSLmFsd2F5cyggbWFwWyBqcVhIUi5zdGF0dXMgXSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBDYW5jZWwgdGhlIHJlcXVlc3Rcblx0XHRcdFx0YWJvcnQ6IGZ1bmN0aW9uKCBzdGF0dXNUZXh0ICkge1xuXHRcdFx0XHRcdHZhciBmaW5hbFRleHQgPSBzdGF0dXNUZXh0IHx8IHN0ckFib3J0O1xuXHRcdFx0XHRcdGlmICggdHJhbnNwb3J0ICkge1xuXHRcdFx0XHRcdFx0dHJhbnNwb3J0LmFib3J0KCBmaW5hbFRleHQgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZG9uZSggMCwgZmluYWxUZXh0ICk7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHQvLyBBdHRhY2ggZGVmZXJyZWRzXG5cdFx0ZGVmZXJyZWQucHJvbWlzZSgganFYSFIgKS5jb21wbGV0ZSA9IGNvbXBsZXRlRGVmZXJyZWQuYWRkO1xuXHRcdGpxWEhSLnN1Y2Nlc3MgPSBqcVhIUi5kb25lO1xuXHRcdGpxWEhSLmVycm9yID0ganFYSFIuZmFpbDtcblxuXHRcdC8vIFJlbW92ZSBoYXNoIGNoYXJhY3RlciAoIzc1MzE6IGFuZCBzdHJpbmcgcHJvbW90aW9uKVxuXHRcdC8vIEFkZCBwcm90b2NvbCBpZiBub3QgcHJvdmlkZWQgKHByZWZpbHRlcnMgbWlnaHQgZXhwZWN0IGl0KVxuXHRcdC8vIEhhbmRsZSBmYWxzeSB1cmwgaW4gdGhlIHNldHRpbmdzIG9iamVjdCAoIzEwMDkzOiBjb25zaXN0ZW5jeSB3aXRoIG9sZCBzaWduYXR1cmUpXG5cdFx0Ly8gV2UgYWxzbyB1c2UgdGhlIHVybCBwYXJhbWV0ZXIgaWYgYXZhaWxhYmxlXG5cdFx0cy51cmwgPSAoICggdXJsIHx8IHMudXJsIHx8IGFqYXhMb2NhdGlvbiApICsgXCJcIiApLnJlcGxhY2UoIHJoYXNoLCBcIlwiIClcblx0XHRcdC5yZXBsYWNlKCBycHJvdG9jb2wsIGFqYXhMb2NQYXJ0c1sgMSBdICsgXCIvL1wiICk7XG5cblx0XHQvLyBBbGlhcyBtZXRob2Qgb3B0aW9uIHRvIHR5cGUgYXMgcGVyIHRpY2tldCAjMTIwMDRcblx0XHRzLnR5cGUgPSBvcHRpb25zLm1ldGhvZCB8fCBvcHRpb25zLnR5cGUgfHwgcy5tZXRob2QgfHwgcy50eXBlO1xuXG5cdFx0Ly8gRXh0cmFjdCBkYXRhVHlwZXMgbGlzdFxuXHRcdHMuZGF0YVR5cGVzID0galF1ZXJ5LnRyaW0oIHMuZGF0YVR5cGUgfHwgXCIqXCIgKS50b0xvd2VyQ2FzZSgpLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbIFwiXCIgXTtcblxuXHRcdC8vIEEgY3Jvc3MtZG9tYWluIHJlcXVlc3QgaXMgaW4gb3JkZXIgd2hlbiB3ZSBoYXZlIGEgcHJvdG9jb2w6aG9zdDpwb3J0IG1pc21hdGNoXG5cdFx0aWYgKCBzLmNyb3NzRG9tYWluID09IG51bGwgKSB7XG5cdFx0XHRwYXJ0cyA9IHJ1cmwuZXhlYyggcy51cmwudG9Mb3dlckNhc2UoKSApO1xuXHRcdFx0cy5jcm9zc0RvbWFpbiA9ICEhKCBwYXJ0cyAmJlxuXHRcdFx0XHQoIHBhcnRzWyAxIF0gIT09IGFqYXhMb2NQYXJ0c1sgMSBdIHx8IHBhcnRzWyAyIF0gIT09IGFqYXhMb2NQYXJ0c1sgMiBdIHx8XG5cdFx0XHRcdFx0KCBwYXJ0c1sgMyBdIHx8ICggcGFydHNbIDEgXSA9PT0gXCJodHRwOlwiID8gXCI4MFwiIDogXCI0NDNcIiApICkgIT09XG5cdFx0XHRcdFx0XHQoIGFqYXhMb2NQYXJ0c1sgMyBdIHx8ICggYWpheExvY1BhcnRzWyAxIF0gPT09IFwiaHR0cDpcIiA/IFwiODBcIiA6IFwiNDQzXCIgKSApIClcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gQ29udmVydCBkYXRhIGlmIG5vdCBhbHJlYWR5IGEgc3RyaW5nXG5cdFx0aWYgKCBzLmRhdGEgJiYgcy5wcm9jZXNzRGF0YSAmJiB0eXBlb2Ygcy5kYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cy5kYXRhID0galF1ZXJ5LnBhcmFtKCBzLmRhdGEsIHMudHJhZGl0aW9uYWwgKTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSBwcmVmaWx0ZXJzXG5cdFx0aW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHByZWZpbHRlcnMsIHMsIG9wdGlvbnMsIGpxWEhSICk7XG5cblx0XHQvLyBJZiByZXF1ZXN0IHdhcyBhYm9ydGVkIGluc2lkZSBhIHByZWZpbHRlciwgc3RvcCB0aGVyZVxuXHRcdGlmICggc3RhdGUgPT09IDIgKSB7XG5cdFx0XHRyZXR1cm4ganFYSFI7XG5cdFx0fVxuXG5cdFx0Ly8gV2UgY2FuIGZpcmUgZ2xvYmFsIGV2ZW50cyBhcyBvZiBub3cgaWYgYXNrZWQgdG9cblx0XHRmaXJlR2xvYmFscyA9IHMuZ2xvYmFsO1xuXG5cdFx0Ly8gV2F0Y2ggZm9yIGEgbmV3IHNldCBvZiByZXF1ZXN0c1xuXHRcdGlmICggZmlyZUdsb2JhbHMgJiYgalF1ZXJ5LmFjdGl2ZSsrID09PSAwICkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoXCJhamF4U3RhcnRcIik7XG5cdFx0fVxuXG5cdFx0Ly8gVXBwZXJjYXNlIHRoZSB0eXBlXG5cdFx0cy50eXBlID0gcy50eXBlLnRvVXBwZXJDYXNlKCk7XG5cblx0XHQvLyBEZXRlcm1pbmUgaWYgcmVxdWVzdCBoYXMgY29udGVudFxuXHRcdHMuaGFzQ29udGVudCA9ICFybm9Db250ZW50LnRlc3QoIHMudHlwZSApO1xuXG5cdFx0Ly8gU2F2ZSB0aGUgVVJMIGluIGNhc2Ugd2UncmUgdG95aW5nIHdpdGggdGhlIElmLU1vZGlmaWVkLVNpbmNlXG5cdFx0Ly8gYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyIGxhdGVyIG9uXG5cdFx0Y2FjaGVVUkwgPSBzLnVybDtcblxuXHRcdC8vIE1vcmUgb3B0aW9ucyBoYW5kbGluZyBmb3IgcmVxdWVzdHMgd2l0aCBubyBjb250ZW50XG5cdFx0aWYgKCAhcy5oYXNDb250ZW50ICkge1xuXG5cdFx0XHQvLyBJZiBkYXRhIGlzIGF2YWlsYWJsZSwgYXBwZW5kIGRhdGEgdG8gdXJsXG5cdFx0XHRpZiAoIHMuZGF0YSApIHtcblx0XHRcdFx0Y2FjaGVVUkwgPSAoIHMudXJsICs9ICggcnF1ZXJ5LnRlc3QoIGNhY2hlVVJMICkgPyBcIiZcIiA6IFwiP1wiICkgKyBzLmRhdGEgKTtcblx0XHRcdFx0Ly8gIzk2ODI6IHJlbW92ZSBkYXRhIHNvIHRoYXQgaXQncyBub3QgdXNlZCBpbiBhbiBldmVudHVhbCByZXRyeVxuXHRcdFx0XHRkZWxldGUgcy5kYXRhO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgYW50aS1jYWNoZSBpbiB1cmwgaWYgbmVlZGVkXG5cdFx0XHRpZiAoIHMuY2FjaGUgPT09IGZhbHNlICkge1xuXHRcdFx0XHRzLnVybCA9IHJ0cy50ZXN0KCBjYWNoZVVSTCApID9cblxuXHRcdFx0XHRcdC8vIElmIHRoZXJlIGlzIGFscmVhZHkgYSAnXycgcGFyYW1ldGVyLCBzZXQgaXRzIHZhbHVlXG5cdFx0XHRcdFx0Y2FjaGVVUkwucmVwbGFjZSggcnRzLCBcIiQxXz1cIiArIG5vbmNlKysgKSA6XG5cblx0XHRcdFx0XHQvLyBPdGhlcndpc2UgYWRkIG9uZSB0byB0aGUgZW5kXG5cdFx0XHRcdFx0Y2FjaGVVUkwgKyAoIHJxdWVyeS50ZXN0KCBjYWNoZVVSTCApID8gXCImXCIgOiBcIj9cIiApICsgXCJfPVwiICsgbm9uY2UrKztcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIElmLU1vZGlmaWVkLVNpbmNlIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciwgaWYgaW4gaWZNb2RpZmllZCBtb2RlLlxuXHRcdGlmICggcy5pZk1vZGlmaWVkICkge1xuXHRcdFx0aWYgKCBqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdICkge1xuXHRcdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIklmLU1vZGlmaWVkLVNpbmNlXCIsIGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gKTtcblx0XHRcdH1cblx0XHRcdGlmICggalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gKSB7XG5cdFx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiSWYtTm9uZS1NYXRjaFwiLCBqUXVlcnkuZXRhZ1sgY2FjaGVVUkwgXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFNldCB0aGUgY29ycmVjdCBoZWFkZXIsIGlmIGRhdGEgaXMgYmVpbmcgc2VudFxuXHRcdGlmICggcy5kYXRhICYmIHMuaGFzQ29udGVudCAmJiBzLmNvbnRlbnRUeXBlICE9PSBmYWxzZSB8fCBvcHRpb25zLmNvbnRlbnRUeXBlICkge1xuXHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJDb250ZW50LVR5cGVcIiwgcy5jb250ZW50VHlwZSApO1xuXHRcdH1cblxuXHRcdC8vIFNldCB0aGUgQWNjZXB0cyBoZWFkZXIgZm9yIHRoZSBzZXJ2ZXIsIGRlcGVuZGluZyBvbiB0aGUgZGF0YVR5cGVcblx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKFxuXHRcdFx0XCJBY2NlcHRcIixcblx0XHRcdHMuZGF0YVR5cGVzWyAwIF0gJiYgcy5hY2NlcHRzWyBzLmRhdGFUeXBlc1swXSBdID9cblx0XHRcdFx0cy5hY2NlcHRzWyBzLmRhdGFUeXBlc1swXSBdICsgKCBzLmRhdGFUeXBlc1sgMCBdICE9PSBcIipcIiA/IFwiLCBcIiArIGFsbFR5cGVzICsgXCI7IHE9MC4wMVwiIDogXCJcIiApIDpcblx0XHRcdFx0cy5hY2NlcHRzWyBcIipcIiBdXG5cdFx0KTtcblxuXHRcdC8vIENoZWNrIGZvciBoZWFkZXJzIG9wdGlvblxuXHRcdGZvciAoIGkgaW4gcy5oZWFkZXJzICkge1xuXHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggaSwgcy5oZWFkZXJzWyBpIF0gKTtcblx0XHR9XG5cblx0XHQvLyBBbGxvdyBjdXN0b20gaGVhZGVycy9taW1ldHlwZXMgYW5kIGVhcmx5IGFib3J0XG5cdFx0aWYgKCBzLmJlZm9yZVNlbmQgJiYgKCBzLmJlZm9yZVNlbmQuY2FsbCggY2FsbGJhY2tDb250ZXh0LCBqcVhIUiwgcyApID09PSBmYWxzZSB8fCBzdGF0ZSA9PT0gMiApICkge1xuXHRcdFx0Ly8gQWJvcnQgaWYgbm90IGRvbmUgYWxyZWFkeSBhbmQgcmV0dXJuXG5cdFx0XHRyZXR1cm4ganFYSFIuYWJvcnQoKTtcblx0XHR9XG5cblx0XHQvLyBhYm9ydGluZyBpcyBubyBsb25nZXIgYSBjYW5jZWxsYXRpb25cblx0XHRzdHJBYm9ydCA9IFwiYWJvcnRcIjtcblxuXHRcdC8vIEluc3RhbGwgY2FsbGJhY2tzIG9uIGRlZmVycmVkc1xuXHRcdGZvciAoIGkgaW4geyBzdWNjZXNzOiAxLCBlcnJvcjogMSwgY29tcGxldGU6IDEgfSApIHtcblx0XHRcdGpxWEhSWyBpIF0oIHNbIGkgXSApO1xuXHRcdH1cblxuXHRcdC8vIEdldCB0cmFuc3BvcnRcblx0XHR0cmFuc3BvcnQgPSBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggdHJhbnNwb3J0cywgcywgb3B0aW9ucywganFYSFIgKTtcblxuXHRcdC8vIElmIG5vIHRyYW5zcG9ydCwgd2UgYXV0by1hYm9ydFxuXHRcdGlmICggIXRyYW5zcG9ydCApIHtcblx0XHRcdGRvbmUoIC0xLCBcIk5vIFRyYW5zcG9ydFwiICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGpxWEhSLnJlYWR5U3RhdGUgPSAxO1xuXG5cdFx0XHQvLyBTZW5kIGdsb2JhbCBldmVudFxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIFwiYWpheFNlbmRcIiwgWyBqcVhIUiwgcyBdICk7XG5cdFx0XHR9XG5cdFx0XHQvLyBUaW1lb3V0XG5cdFx0XHRpZiAoIHMuYXN5bmMgJiYgcy50aW1lb3V0ID4gMCApIHtcblx0XHRcdFx0dGltZW91dFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRqcVhIUi5hYm9ydChcInRpbWVvdXRcIik7XG5cdFx0XHRcdH0sIHMudGltZW91dCApO1xuXHRcdFx0fVxuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRzdGF0ZSA9IDE7XG5cdFx0XHRcdHRyYW5zcG9ydC5zZW5kKCByZXF1ZXN0SGVhZGVycywgZG9uZSApO1xuXHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0XHRcdC8vIFByb3BhZ2F0ZSBleGNlcHRpb24gYXMgZXJyb3IgaWYgbm90IGRvbmVcblx0XHRcdFx0aWYgKCBzdGF0ZSA8IDIgKSB7XG5cdFx0XHRcdFx0ZG9uZSggLTEsIGUgKTtcblx0XHRcdFx0Ly8gU2ltcGx5IHJldGhyb3cgb3RoZXJ3aXNlXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhyb3cgZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhbGxiYWNrIGZvciB3aGVuIGV2ZXJ5dGhpbmcgaXMgZG9uZVxuXHRcdGZ1bmN0aW9uIGRvbmUoIHN0YXR1cywgbmF0aXZlU3RhdHVzVGV4dCwgcmVzcG9uc2VzLCBoZWFkZXJzICkge1xuXHRcdFx0dmFyIGlzU3VjY2Vzcywgc3VjY2VzcywgZXJyb3IsIHJlc3BvbnNlLCBtb2RpZmllZCxcblx0XHRcdFx0c3RhdHVzVGV4dCA9IG5hdGl2ZVN0YXR1c1RleHQ7XG5cblx0XHRcdC8vIENhbGxlZCBvbmNlXG5cdFx0XHRpZiAoIHN0YXRlID09PSAyICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN0YXRlIGlzIFwiZG9uZVwiIG5vd1xuXHRcdFx0c3RhdGUgPSAyO1xuXG5cdFx0XHQvLyBDbGVhciB0aW1lb3V0IGlmIGl0IGV4aXN0c1xuXHRcdFx0aWYgKCB0aW1lb3V0VGltZXIgKSB7XG5cdFx0XHRcdGNsZWFyVGltZW91dCggdGltZW91dFRpbWVyICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIERlcmVmZXJlbmNlIHRyYW5zcG9ydCBmb3IgZWFybHkgZ2FyYmFnZSBjb2xsZWN0aW9uXG5cdFx0XHQvLyAobm8gbWF0dGVyIGhvdyBsb25nIHRoZSBqcVhIUiBvYmplY3Qgd2lsbCBiZSB1c2VkKVxuXHRcdFx0dHJhbnNwb3J0ID0gdW5kZWZpbmVkO1xuXG5cdFx0XHQvLyBDYWNoZSByZXNwb25zZSBoZWFkZXJzXG5cdFx0XHRyZXNwb25zZUhlYWRlcnNTdHJpbmcgPSBoZWFkZXJzIHx8IFwiXCI7XG5cblx0XHRcdC8vIFNldCByZWFkeVN0YXRlXG5cdFx0XHRqcVhIUi5yZWFkeVN0YXRlID0gc3RhdHVzID4gMCA/IDQgOiAwO1xuXG5cdFx0XHQvLyBEZXRlcm1pbmUgaWYgc3VjY2Vzc2Z1bFxuXHRcdFx0aXNTdWNjZXNzID0gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDAgfHwgc3RhdHVzID09PSAzMDQ7XG5cblx0XHRcdC8vIEdldCByZXNwb25zZSBkYXRhXG5cdFx0XHRpZiAoIHJlc3BvbnNlcyApIHtcblx0XHRcdFx0cmVzcG9uc2UgPSBhamF4SGFuZGxlUmVzcG9uc2VzKCBzLCBqcVhIUiwgcmVzcG9uc2VzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENvbnZlcnQgbm8gbWF0dGVyIHdoYXQgKHRoYXQgd2F5IHJlc3BvbnNlWFhYIGZpZWxkcyBhcmUgYWx3YXlzIHNldClcblx0XHRcdHJlc3BvbnNlID0gYWpheENvbnZlcnQoIHMsIHJlc3BvbnNlLCBqcVhIUiwgaXNTdWNjZXNzICk7XG5cblx0XHRcdC8vIElmIHN1Y2Nlc3NmdWwsIGhhbmRsZSB0eXBlIGNoYWluaW5nXG5cdFx0XHRpZiAoIGlzU3VjY2VzcyApIHtcblxuXHRcdFx0XHQvLyBTZXQgdGhlIElmLU1vZGlmaWVkLVNpbmNlIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciwgaWYgaW4gaWZNb2RpZmllZCBtb2RlLlxuXHRcdFx0XHRpZiAoIHMuaWZNb2RpZmllZCApIHtcblx0XHRcdFx0XHRtb2RpZmllZCA9IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKFwiTGFzdC1Nb2RpZmllZFwiKTtcblx0XHRcdFx0XHRpZiAoIG1vZGlmaWVkICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSA9IG1vZGlmaWVkO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRtb2RpZmllZCA9IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKFwiZXRhZ1wiKTtcblx0XHRcdFx0XHRpZiAoIG1vZGlmaWVkICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBpZiBubyBjb250ZW50XG5cdFx0XHRcdGlmICggc3RhdHVzID09PSAyMDQgfHwgcy50eXBlID09PSBcIkhFQURcIiApIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gXCJub2NvbnRlbnRcIjtcblxuXHRcdFx0XHQvLyBpZiBub3QgbW9kaWZpZWRcblx0XHRcdFx0fSBlbHNlIGlmICggc3RhdHVzID09PSAzMDQgKSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IFwibm90bW9kaWZpZWRcIjtcblxuXHRcdFx0XHQvLyBJZiB3ZSBoYXZlIGRhdGEsIGxldCdzIGNvbnZlcnQgaXRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gcmVzcG9uc2Uuc3RhdGU7XG5cdFx0XHRcdFx0c3VjY2VzcyA9IHJlc3BvbnNlLmRhdGE7XG5cdFx0XHRcdFx0ZXJyb3IgPSByZXNwb25zZS5lcnJvcjtcblx0XHRcdFx0XHRpc1N1Y2Nlc3MgPSAhZXJyb3I7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIFdlIGV4dHJhY3QgZXJyb3IgZnJvbSBzdGF0dXNUZXh0XG5cdFx0XHRcdC8vIHRoZW4gbm9ybWFsaXplIHN0YXR1c1RleHQgYW5kIHN0YXR1cyBmb3Igbm9uLWFib3J0c1xuXHRcdFx0XHRlcnJvciA9IHN0YXR1c1RleHQ7XG5cdFx0XHRcdGlmICggc3RhdHVzIHx8ICFzdGF0dXNUZXh0ICkge1xuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSBcImVycm9yXCI7XG5cdFx0XHRcdFx0aWYgKCBzdGF0dXMgPCAwICkge1xuXHRcdFx0XHRcdFx0c3RhdHVzID0gMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gU2V0IGRhdGEgZm9yIHRoZSBmYWtlIHhociBvYmplY3Rcblx0XHRcdGpxWEhSLnN0YXR1cyA9IHN0YXR1cztcblx0XHRcdGpxWEhSLnN0YXR1c1RleHQgPSAoIG5hdGl2ZVN0YXR1c1RleHQgfHwgc3RhdHVzVGV4dCApICsgXCJcIjtcblxuXHRcdFx0Ly8gU3VjY2Vzcy9FcnJvclxuXHRcdFx0aWYgKCBpc1N1Y2Nlc3MgKSB7XG5cdFx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBjYWxsYmFja0NvbnRleHQsIFsgc3VjY2Vzcywgc3RhdHVzVGV4dCwganFYSFIgXSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0LCBlcnJvciBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRqcVhIUi5zdGF0dXNDb2RlKCBzdGF0dXNDb2RlICk7XG5cdFx0XHRzdGF0dXNDb2RlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRpZiAoIGZpcmVHbG9iYWxzICkge1xuXHRcdFx0XHRnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggaXNTdWNjZXNzID8gXCJhamF4U3VjY2Vzc1wiIDogXCJhamF4RXJyb3JcIixcblx0XHRcdFx0XHRbIGpxWEhSLCBzLCBpc1N1Y2Nlc3MgPyBzdWNjZXNzIDogZXJyb3IgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb21wbGV0ZVxuXHRcdFx0Y29tcGxldGVEZWZlcnJlZC5maXJlV2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0IF0gKTtcblxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIFwiYWpheENvbXBsZXRlXCIsIFsganFYSFIsIHMgXSApO1xuXHRcdFx0XHQvLyBIYW5kbGUgdGhlIGdsb2JhbCBBSkFYIGNvdW50ZXJcblx0XHRcdFx0aWYgKCAhKCAtLWpRdWVyeS5hY3RpdmUgKSApIHtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlcihcImFqYXhTdG9wXCIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGpxWEhSO1xuXHR9LFxuXG5cdGdldEpTT046IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ2V0KCB1cmwsIGRhdGEsIGNhbGxiYWNrLCBcImpzb25cIiApO1xuXHR9LFxuXG5cdGdldFNjcmlwdDogZnVuY3Rpb24oIHVybCwgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5nZXQoIHVybCwgdW5kZWZpbmVkLCBjYWxsYmFjaywgXCJzY3JpcHRcIiApO1xuXHR9XG59KTtcblxualF1ZXJ5LmVhY2goIFsgXCJnZXRcIiwgXCJwb3N0XCIgXSwgZnVuY3Rpb24oIGksIG1ldGhvZCApIHtcblx0alF1ZXJ5WyBtZXRob2QgXSA9IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIGNhbGxiYWNrLCB0eXBlICkge1xuXHRcdC8vIHNoaWZ0IGFyZ3VtZW50cyBpZiBkYXRhIGFyZ3VtZW50IHdhcyBvbWl0dGVkXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggZGF0YSApICkge1xuXHRcdFx0dHlwZSA9IHR5cGUgfHwgY2FsbGJhY2s7XG5cdFx0XHRjYWxsYmFjayA9IGRhdGE7XG5cdFx0XHRkYXRhID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdHJldHVybiBqUXVlcnkuYWpheCh7XG5cdFx0XHR1cmw6IHVybCxcblx0XHRcdHR5cGU6IG1ldGhvZCxcblx0XHRcdGRhdGFUeXBlOiB0eXBlLFxuXHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdHN1Y2Nlc3M6IGNhbGxiYWNrXG5cdFx0fSk7XG5cdH07XG59KTtcblxuLy8gQXR0YWNoIGEgYnVuY2ggb2YgZnVuY3Rpb25zIGZvciBoYW5kbGluZyBjb21tb24gQUpBWCBldmVudHNcbmpRdWVyeS5lYWNoKCBbIFwiYWpheFN0YXJ0XCIsIFwiYWpheFN0b3BcIiwgXCJhamF4Q29tcGxldGVcIiwgXCJhamF4RXJyb3JcIiwgXCJhamF4U3VjY2Vzc1wiLCBcImFqYXhTZW5kXCIgXSwgZnVuY3Rpb24oIGksIHR5cGUgKSB7XG5cdGpRdWVyeS5mblsgdHlwZSBdID0gZnVuY3Rpb24oIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlLCBmbiApO1xuXHR9O1xufSk7XG5cblxualF1ZXJ5Ll9ldmFsVXJsID0gZnVuY3Rpb24oIHVybCApIHtcblx0cmV0dXJuIGpRdWVyeS5hamF4KHtcblx0XHR1cmw6IHVybCxcblx0XHR0eXBlOiBcIkdFVFwiLFxuXHRcdGRhdGFUeXBlOiBcInNjcmlwdFwiLFxuXHRcdGFzeW5jOiBmYWxzZSxcblx0XHRnbG9iYWw6IGZhbHNlLFxuXHRcdFwidGhyb3dzXCI6IHRydWVcblx0fSk7XG59O1xuXG5cbmpRdWVyeS5mbi5leHRlbmQoe1xuXHR3cmFwQWxsOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHR2YXIgd3JhcDtcblxuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGh0bWwgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLndyYXBBbGwoIGh0bWwuY2FsbCh0aGlzLCBpKSApO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzWyAwIF0gKSB7XG5cblx0XHRcdC8vIFRoZSBlbGVtZW50cyB0byB3cmFwIHRoZSB0YXJnZXQgYXJvdW5kXG5cdFx0XHR3cmFwID0galF1ZXJ5KCBodG1sLCB0aGlzWyAwIF0ub3duZXJEb2N1bWVudCApLmVxKCAwICkuY2xvbmUoIHRydWUgKTtcblxuXHRcdFx0aWYgKCB0aGlzWyAwIF0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0d3JhcC5pbnNlcnRCZWZvcmUoIHRoaXNbIDAgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHR3cmFwLm1hcChmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGVsZW0gPSB0aGlzO1xuXG5cdFx0XHRcdHdoaWxlICggZWxlbS5maXJzdEVsZW1lbnRDaGlsZCApIHtcblx0XHRcdFx0XHRlbGVtID0gZWxlbS5maXJzdEVsZW1lbnRDaGlsZDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBlbGVtO1xuXHRcdFx0fSkuYXBwZW5kKCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0d3JhcElubmVyOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBodG1sICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS53cmFwSW5uZXIoIGh0bWwuY2FsbCh0aGlzLCBpKSApO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0galF1ZXJ5KCB0aGlzICksXG5cdFx0XHRcdGNvbnRlbnRzID0gc2VsZi5jb250ZW50cygpO1xuXG5cdFx0XHRpZiAoIGNvbnRlbnRzLmxlbmd0aCApIHtcblx0XHRcdFx0Y29udGVudHMud3JhcEFsbCggaHRtbCApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzZWxmLmFwcGVuZCggaHRtbCApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LFxuXG5cdHdyYXA6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdHZhciBpc0Z1bmN0aW9uID0galF1ZXJ5LmlzRnVuY3Rpb24oIGh0bWwgKTtcblxuXHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRqUXVlcnkoIHRoaXMgKS53cmFwQWxsKCBpc0Z1bmN0aW9uID8gaHRtbC5jYWxsKHRoaXMsIGkpIDogaHRtbCApO1xuXHRcdH0pO1xuXHR9LFxuXG5cdHVud3JhcDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdGlmICggIWpRdWVyeS5ub2RlTmFtZSggdGhpcywgXCJib2R5XCIgKSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkucmVwbGFjZVdpdGgoIHRoaXMuY2hpbGROb2RlcyApO1xuXHRcdFx0fVxuXHRcdH0pLmVuZCgpO1xuXHR9XG59KTtcblxuXG5qUXVlcnkuZXhwci5maWx0ZXJzLmhpZGRlbiA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHQvLyBTdXBwb3J0OiBPcGVyYSA8PSAxMi4xMlxuXHQvLyBPcGVyYSByZXBvcnRzIG9mZnNldFdpZHRocyBhbmQgb2Zmc2V0SGVpZ2h0cyBsZXNzIHRoYW4gemVybyBvbiBzb21lIGVsZW1lbnRzXG5cdHJldHVybiBlbGVtLm9mZnNldFdpZHRoIDw9IDAgJiYgZWxlbS5vZmZzZXRIZWlnaHQgPD0gMDtcbn07XG5qUXVlcnkuZXhwci5maWx0ZXJzLnZpc2libGUgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0cmV0dXJuICFqUXVlcnkuZXhwci5maWx0ZXJzLmhpZGRlbiggZWxlbSApO1xufTtcblxuXG5cblxudmFyIHIyMCA9IC8lMjAvZyxcblx0cmJyYWNrZXQgPSAvXFxbXFxdJC8sXG5cdHJDUkxGID0gL1xccj9cXG4vZyxcblx0cnN1Ym1pdHRlclR5cGVzID0gL14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLFxuXHRyc3VibWl0dGFibGUgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7XG5cbmZ1bmN0aW9uIGJ1aWxkUGFyYW1zKCBwcmVmaXgsIG9iaiwgdHJhZGl0aW9uYWwsIGFkZCApIHtcblx0dmFyIG5hbWU7XG5cblx0aWYgKCBqUXVlcnkuaXNBcnJheSggb2JqICkgKSB7XG5cdFx0Ly8gU2VyaWFsaXplIGFycmF5IGl0ZW0uXG5cdFx0alF1ZXJ5LmVhY2goIG9iaiwgZnVuY3Rpb24oIGksIHYgKSB7XG5cdFx0XHRpZiAoIHRyYWRpdGlvbmFsIHx8IHJicmFja2V0LnRlc3QoIHByZWZpeCApICkge1xuXHRcdFx0XHQvLyBUcmVhdCBlYWNoIGFycmF5IGl0ZW0gYXMgYSBzY2FsYXIuXG5cdFx0XHRcdGFkZCggcHJlZml4LCB2ICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIEl0ZW0gaXMgbm9uLXNjYWxhciAoYXJyYXkgb3Igb2JqZWN0KSwgZW5jb2RlIGl0cyBudW1lcmljIGluZGV4LlxuXHRcdFx0XHRidWlsZFBhcmFtcyggcHJlZml4ICsgXCJbXCIgKyAoIHR5cGVvZiB2ID09PSBcIm9iamVjdFwiID8gaSA6IFwiXCIgKSArIFwiXVwiLCB2LCB0cmFkaXRpb25hbCwgYWRkICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0fSBlbHNlIGlmICggIXRyYWRpdGlvbmFsICYmIGpRdWVyeS50eXBlKCBvYmogKSA9PT0gXCJvYmplY3RcIiApIHtcblx0XHQvLyBTZXJpYWxpemUgb2JqZWN0IGl0ZW0uXG5cdFx0Zm9yICggbmFtZSBpbiBvYmogKSB7XG5cdFx0XHRidWlsZFBhcmFtcyggcHJlZml4ICsgXCJbXCIgKyBuYW1lICsgXCJdXCIsIG9ialsgbmFtZSBdLCB0cmFkaXRpb25hbCwgYWRkICk7XG5cdFx0fVxuXG5cdH0gZWxzZSB7XG5cdFx0Ly8gU2VyaWFsaXplIHNjYWxhciBpdGVtLlxuXHRcdGFkZCggcHJlZml4LCBvYmogKTtcblx0fVxufVxuXG4vLyBTZXJpYWxpemUgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cyBvciBhIHNldCBvZlxuLy8ga2V5L3ZhbHVlcyBpbnRvIGEgcXVlcnkgc3RyaW5nXG5qUXVlcnkucGFyYW0gPSBmdW5jdGlvbiggYSwgdHJhZGl0aW9uYWwgKSB7XG5cdHZhciBwcmVmaXgsXG5cdFx0cyA9IFtdLFxuXHRcdGFkZCA9IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdFx0Ly8gSWYgdmFsdWUgaXMgYSBmdW5jdGlvbiwgaW52b2tlIGl0IGFuZCByZXR1cm4gaXRzIHZhbHVlXG5cdFx0XHR2YWx1ZSA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApID8gdmFsdWUoKSA6ICggdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSApO1xuXHRcdFx0c1sgcy5sZW5ndGggXSA9IGVuY29kZVVSSUNvbXBvbmVudCgga2V5ICkgKyBcIj1cIiArIGVuY29kZVVSSUNvbXBvbmVudCggdmFsdWUgKTtcblx0XHR9O1xuXG5cdC8vIFNldCB0cmFkaXRpb25hbCB0byB0cnVlIGZvciBqUXVlcnkgPD0gMS4zLjIgYmVoYXZpb3IuXG5cdGlmICggdHJhZGl0aW9uYWwgPT09IHVuZGVmaW5lZCApIHtcblx0XHR0cmFkaXRpb25hbCA9IGpRdWVyeS5hamF4U2V0dGluZ3MgJiYgalF1ZXJ5LmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbDtcblx0fVxuXG5cdC8vIElmIGFuIGFycmF5IHdhcyBwYXNzZWQgaW4sIGFzc3VtZSB0aGF0IGl0IGlzIGFuIGFycmF5IG9mIGZvcm0gZWxlbWVudHMuXG5cdGlmICggalF1ZXJ5LmlzQXJyYXkoIGEgKSB8fCAoIGEuanF1ZXJ5ICYmICFqUXVlcnkuaXNQbGFpbk9iamVjdCggYSApICkgKSB7XG5cdFx0Ly8gU2VyaWFsaXplIHRoZSBmb3JtIGVsZW1lbnRzXG5cdFx0alF1ZXJ5LmVhY2goIGEsIGZ1bmN0aW9uKCkge1xuXHRcdFx0YWRkKCB0aGlzLm5hbWUsIHRoaXMudmFsdWUgKTtcblx0XHR9KTtcblxuXHR9IGVsc2Uge1xuXHRcdC8vIElmIHRyYWRpdGlvbmFsLCBlbmNvZGUgdGhlIFwib2xkXCIgd2F5ICh0aGUgd2F5IDEuMy4yIG9yIG9sZGVyXG5cdFx0Ly8gZGlkIGl0KSwgb3RoZXJ3aXNlIGVuY29kZSBwYXJhbXMgcmVjdXJzaXZlbHkuXG5cdFx0Zm9yICggcHJlZml4IGluIGEgKSB7XG5cdFx0XHRidWlsZFBhcmFtcyggcHJlZml4LCBhWyBwcmVmaXggXSwgdHJhZGl0aW9uYWwsIGFkZCApO1xuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgcmVzdWx0aW5nIHNlcmlhbGl6YXRpb25cblx0cmV0dXJuIHMuam9pbiggXCImXCIgKS5yZXBsYWNlKCByMjAsIFwiK1wiICk7XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKHtcblx0c2VyaWFsaXplOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4galF1ZXJ5LnBhcmFtKCB0aGlzLnNlcmlhbGl6ZUFycmF5KCkgKTtcblx0fSxcblx0c2VyaWFsaXplQXJyYXk6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbigpIHtcblx0XHRcdC8vIENhbiBhZGQgcHJvcEhvb2sgZm9yIFwiZWxlbWVudHNcIiB0byBmaWx0ZXIgb3IgYWRkIGZvcm0gZWxlbWVudHNcblx0XHRcdHZhciBlbGVtZW50cyA9IGpRdWVyeS5wcm9wKCB0aGlzLCBcImVsZW1lbnRzXCIgKTtcblx0XHRcdHJldHVybiBlbGVtZW50cyA/IGpRdWVyeS5tYWtlQXJyYXkoIGVsZW1lbnRzICkgOiB0aGlzO1xuXHRcdH0pXG5cdFx0LmZpbHRlcihmdW5jdGlvbigpIHtcblx0XHRcdHZhciB0eXBlID0gdGhpcy50eXBlO1xuXG5cdFx0XHQvLyBVc2UgLmlzKCBcIjpkaXNhYmxlZFwiICkgc28gdGhhdCBmaWVsZHNldFtkaXNhYmxlZF0gd29ya3Ncblx0XHRcdHJldHVybiB0aGlzLm5hbWUgJiYgIWpRdWVyeSggdGhpcyApLmlzKCBcIjpkaXNhYmxlZFwiICkgJiZcblx0XHRcdFx0cnN1Ym1pdHRhYmxlLnRlc3QoIHRoaXMubm9kZU5hbWUgKSAmJiAhcnN1Ym1pdHRlclR5cGVzLnRlc3QoIHR5cGUgKSAmJlxuXHRcdFx0XHQoIHRoaXMuY2hlY2tlZCB8fCAhcmNoZWNrYWJsZVR5cGUudGVzdCggdHlwZSApICk7XG5cdFx0fSlcblx0XHQubWFwKGZ1bmN0aW9uKCBpLCBlbGVtICkge1xuXHRcdFx0dmFyIHZhbCA9IGpRdWVyeSggdGhpcyApLnZhbCgpO1xuXG5cdFx0XHRyZXR1cm4gdmFsID09IG51bGwgP1xuXHRcdFx0XHRudWxsIDpcblx0XHRcdFx0alF1ZXJ5LmlzQXJyYXkoIHZhbCApID9cblx0XHRcdFx0XHRqUXVlcnkubWFwKCB2YWwsIGZ1bmN0aW9uKCB2YWwgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4geyBuYW1lOiBlbGVtLm5hbWUsIHZhbHVlOiB2YWwucmVwbGFjZSggckNSTEYsIFwiXFxyXFxuXCIgKSB9O1xuXHRcdFx0XHRcdH0pIDpcblx0XHRcdFx0XHR7IG5hbWU6IGVsZW0ubmFtZSwgdmFsdWU6IHZhbC5yZXBsYWNlKCByQ1JMRiwgXCJcXHJcXG5cIiApIH07XG5cdFx0fSkuZ2V0KCk7XG5cdH1cbn0pO1xuXG5cbmpRdWVyeS5hamF4U2V0dGluZ3MueGhyID0gZnVuY3Rpb24oKSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXHR9IGNhdGNoKCBlICkge31cbn07XG5cbnZhciB4aHJJZCA9IDAsXG5cdHhockNhbGxiYWNrcyA9IHt9LFxuXHR4aHJTdWNjZXNzU3RhdHVzID0ge1xuXHRcdC8vIGZpbGUgcHJvdG9jb2wgYWx3YXlzIHlpZWxkcyBzdGF0dXMgY29kZSAwLCBhc3N1bWUgMjAwXG5cdFx0MDogMjAwLFxuXHRcdC8vIFN1cHBvcnQ6IElFOVxuXHRcdC8vICMxNDUwOiBzb21ldGltZXMgSUUgcmV0dXJucyAxMjIzIHdoZW4gaXQgc2hvdWxkIGJlIDIwNFxuXHRcdDEyMjM6IDIwNFxuXHR9LFxuXHR4aHJTdXBwb3J0ZWQgPSBqUXVlcnkuYWpheFNldHRpbmdzLnhocigpO1xuXG4vLyBTdXBwb3J0OiBJRTlcbi8vIE9wZW4gcmVxdWVzdHMgbXVzdCBiZSBtYW51YWxseSBhYm9ydGVkIG9uIHVubG9hZCAoIzUyODApXG5pZiAoIHdpbmRvdy5BY3RpdmVYT2JqZWN0ICkge1xuXHRqUXVlcnkoIHdpbmRvdyApLm9uKCBcInVubG9hZFwiLCBmdW5jdGlvbigpIHtcblx0XHRmb3IgKCB2YXIga2V5IGluIHhockNhbGxiYWNrcyApIHtcblx0XHRcdHhockNhbGxiYWNrc1sga2V5IF0oKTtcblx0XHR9XG5cdH0pO1xufVxuXG5zdXBwb3J0LmNvcnMgPSAhIXhoclN1cHBvcnRlZCAmJiAoIFwid2l0aENyZWRlbnRpYWxzXCIgaW4geGhyU3VwcG9ydGVkICk7XG5zdXBwb3J0LmFqYXggPSB4aHJTdXBwb3J0ZWQgPSAhIXhoclN1cHBvcnRlZDtcblxualF1ZXJ5LmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdHZhciBjYWxsYmFjaztcblxuXHQvLyBDcm9zcyBkb21haW4gb25seSBhbGxvd2VkIGlmIHN1cHBvcnRlZCB0aHJvdWdoIFhNTEh0dHBSZXF1ZXN0XG5cdGlmICggc3VwcG9ydC5jb3JzIHx8IHhoclN1cHBvcnRlZCAmJiAhb3B0aW9ucy5jcm9zc0RvbWFpbiApIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c2VuZDogZnVuY3Rpb24oIGhlYWRlcnMsIGNvbXBsZXRlICkge1xuXHRcdFx0XHR2YXIgaSxcblx0XHRcdFx0XHR4aHIgPSBvcHRpb25zLnhocigpLFxuXHRcdFx0XHRcdGlkID0gKyt4aHJJZDtcblxuXHRcdFx0XHR4aHIub3Blbiggb3B0aW9ucy50eXBlLCBvcHRpb25zLnVybCwgb3B0aW9ucy5hc3luYywgb3B0aW9ucy51c2VybmFtZSwgb3B0aW9ucy5wYXNzd29yZCApO1xuXG5cdFx0XHRcdC8vIEFwcGx5IGN1c3RvbSBmaWVsZHMgaWYgcHJvdmlkZWRcblx0XHRcdFx0aWYgKCBvcHRpb25zLnhockZpZWxkcyApIHtcblx0XHRcdFx0XHRmb3IgKCBpIGluIG9wdGlvbnMueGhyRmllbGRzICkge1xuXHRcdFx0XHRcdFx0eGhyWyBpIF0gPSBvcHRpb25zLnhockZpZWxkc1sgaSBdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIE92ZXJyaWRlIG1pbWUgdHlwZSBpZiBuZWVkZWRcblx0XHRcdFx0aWYgKCBvcHRpb25zLm1pbWVUeXBlICYmIHhoci5vdmVycmlkZU1pbWVUeXBlICkge1xuXHRcdFx0XHRcdHhoci5vdmVycmlkZU1pbWVUeXBlKCBvcHRpb25zLm1pbWVUeXBlICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBYLVJlcXVlc3RlZC1XaXRoIGhlYWRlclxuXHRcdFx0XHQvLyBGb3IgY3Jvc3MtZG9tYWluIHJlcXVlc3RzLCBzZWVpbmcgYXMgY29uZGl0aW9ucyBmb3IgYSBwcmVmbGlnaHQgYXJlXG5cdFx0XHRcdC8vIGFraW4gdG8gYSBqaWdzYXcgcHV6emxlLCB3ZSBzaW1wbHkgbmV2ZXIgc2V0IGl0IHRvIGJlIHN1cmUuXG5cdFx0XHRcdC8vIChpdCBjYW4gYWx3YXlzIGJlIHNldCBvbiBhIHBlci1yZXF1ZXN0IGJhc2lzIG9yIGV2ZW4gdXNpbmcgYWpheFNldHVwKVxuXHRcdFx0XHQvLyBGb3Igc2FtZS1kb21haW4gcmVxdWVzdHMsIHdvbid0IGNoYW5nZSBoZWFkZXIgaWYgYWxyZWFkeSBwcm92aWRlZC5cblx0XHRcdFx0aWYgKCAhb3B0aW9ucy5jcm9zc0RvbWFpbiAmJiAhaGVhZGVyc1tcIlgtUmVxdWVzdGVkLVdpdGhcIl0gKSB7XG5cdFx0XHRcdFx0aGVhZGVyc1tcIlgtUmVxdWVzdGVkLVdpdGhcIl0gPSBcIlhNTEh0dHBSZXF1ZXN0XCI7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBTZXQgaGVhZGVyc1xuXHRcdFx0XHRmb3IgKCBpIGluIGhlYWRlcnMgKSB7XG5cdFx0XHRcdFx0eGhyLnNldFJlcXVlc3RIZWFkZXIoIGksIGhlYWRlcnNbIGkgXSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQ2FsbGJhY2tcblx0XHRcdFx0Y2FsbGJhY2sgPSBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0XHRkZWxldGUgeGhyQ2FsbGJhY2tzWyBpZCBdO1xuXHRcdFx0XHRcdFx0XHRjYWxsYmFjayA9IHhoci5vbmxvYWQgPSB4aHIub25lcnJvciA9IG51bGw7XG5cblx0XHRcdFx0XHRcdFx0aWYgKCB0eXBlID09PSBcImFib3J0XCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0eGhyLmFib3J0KCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIHR5cGUgPT09IFwiZXJyb3JcIiApIHtcblx0XHRcdFx0XHRcdFx0XHRjb21wbGV0ZShcblx0XHRcdFx0XHRcdFx0XHRcdC8vIGZpbGU6IHByb3RvY29sIGFsd2F5cyB5aWVsZHMgc3RhdHVzIDA7IHNlZSAjODYwNSwgIzE0MjA3XG5cdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzLFxuXHRcdFx0XHRcdFx0XHRcdFx0eGhyLnN0YXR1c1RleHRcblx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGNvbXBsZXRlKFxuXHRcdFx0XHRcdFx0XHRcdFx0eGhyU3VjY2Vzc1N0YXR1c1sgeGhyLnN0YXR1cyBdIHx8IHhoci5zdGF0dXMsXG5cdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzVGV4dCxcblx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFOVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gQWNjZXNzaW5nIGJpbmFyeS1kYXRhIHJlc3BvbnNlVGV4dCB0aHJvd3MgYW4gZXhjZXB0aW9uXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyAoIzExNDI2KVxuXHRcdFx0XHRcdFx0XHRcdFx0dHlwZW9mIHhoci5yZXNwb25zZVRleHQgPT09IFwic3RyaW5nXCIgPyB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRleHQ6IHhoci5yZXNwb25zZVRleHRcblx0XHRcdFx0XHRcdFx0XHRcdH0gOiB1bmRlZmluZWQsXG5cdFx0XHRcdFx0XHRcdFx0XHR4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcblx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQvLyBMaXN0ZW4gdG8gZXZlbnRzXG5cdFx0XHRcdHhoci5vbmxvYWQgPSBjYWxsYmFjaygpO1xuXHRcdFx0XHR4aHIub25lcnJvciA9IGNhbGxiYWNrKFwiZXJyb3JcIik7XG5cblx0XHRcdFx0Ly8gQ3JlYXRlIHRoZSBhYm9ydCBjYWxsYmFja1xuXHRcdFx0XHRjYWxsYmFjayA9IHhockNhbGxiYWNrc1sgaWQgXSA9IGNhbGxiYWNrKFwiYWJvcnRcIik7XG5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBEbyBzZW5kIHRoZSByZXF1ZXN0ICh0aGlzIG1heSByYWlzZSBhbiBleGNlcHRpb24pXG5cdFx0XHRcdFx0eGhyLnNlbmQoIG9wdGlvbnMuaGFzQ29udGVudCAmJiBvcHRpb25zLmRhdGEgfHwgbnVsbCApO1xuXHRcdFx0XHR9IGNhdGNoICggZSApIHtcblx0XHRcdFx0XHQvLyAjMTQ2ODM6IE9ubHkgcmV0aHJvdyBpZiB0aGlzIGhhc24ndCBiZWVuIG5vdGlmaWVkIGFzIGFuIGVycm9yIHlldFxuXHRcdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSxcblxuXHRcdFx0YWJvcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9XG59KTtcblxuXG5cblxuLy8gSW5zdGFsbCBzY3JpcHQgZGF0YVR5cGVcbmpRdWVyeS5hamF4U2V0dXAoe1xuXHRhY2NlcHRzOiB7XG5cdFx0c2NyaXB0OiBcInRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0XCJcblx0fSxcblx0Y29udGVudHM6IHtcblx0XHRzY3JpcHQ6IC8oPzpqYXZhfGVjbWEpc2NyaXB0L1xuXHR9LFxuXHRjb252ZXJ0ZXJzOiB7XG5cdFx0XCJ0ZXh0IHNjcmlwdFwiOiBmdW5jdGlvbiggdGV4dCApIHtcblx0XHRcdGpRdWVyeS5nbG9iYWxFdmFsKCB0ZXh0ICk7XG5cdFx0XHRyZXR1cm4gdGV4dDtcblx0XHR9XG5cdH1cbn0pO1xuXG4vLyBIYW5kbGUgY2FjaGUncyBzcGVjaWFsIGNhc2UgYW5kIGNyb3NzRG9tYWluXG5qUXVlcnkuYWpheFByZWZpbHRlciggXCJzY3JpcHRcIiwgZnVuY3Rpb24oIHMgKSB7XG5cdGlmICggcy5jYWNoZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdHMuY2FjaGUgPSBmYWxzZTtcblx0fVxuXHRpZiAoIHMuY3Jvc3NEb21haW4gKSB7XG5cdFx0cy50eXBlID0gXCJHRVRcIjtcblx0fVxufSk7XG5cbi8vIEJpbmQgc2NyaXB0IHRhZyBoYWNrIHRyYW5zcG9ydFxualF1ZXJ5LmFqYXhUcmFuc3BvcnQoIFwic2NyaXB0XCIsIGZ1bmN0aW9uKCBzICkge1xuXHQvLyBUaGlzIHRyYW5zcG9ydCBvbmx5IGRlYWxzIHdpdGggY3Jvc3MgZG9tYWluIHJlcXVlc3RzXG5cdGlmICggcy5jcm9zc0RvbWFpbiApIHtcblx0XHR2YXIgc2NyaXB0LCBjYWxsYmFjaztcblx0XHRyZXR1cm4ge1xuXHRcdFx0c2VuZDogZnVuY3Rpb24oIF8sIGNvbXBsZXRlICkge1xuXHRcdFx0XHRzY3JpcHQgPSBqUXVlcnkoXCI8c2NyaXB0PlwiKS5wcm9wKHtcblx0XHRcdFx0XHRhc3luYzogdHJ1ZSxcblx0XHRcdFx0XHRjaGFyc2V0OiBzLnNjcmlwdENoYXJzZXQsXG5cdFx0XHRcdFx0c3JjOiBzLnVybFxuXHRcdFx0XHR9KS5vbihcblx0XHRcdFx0XHRcImxvYWQgZXJyb3JcIixcblx0XHRcdFx0XHRjYWxsYmFjayA9IGZ1bmN0aW9uKCBldnQgKSB7XG5cdFx0XHRcdFx0XHRzY3JpcHQucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRjYWxsYmFjayA9IG51bGw7XG5cdFx0XHRcdFx0XHRpZiAoIGV2dCApIHtcblx0XHRcdFx0XHRcdFx0Y29tcGxldGUoIGV2dC50eXBlID09PSBcImVycm9yXCIgPyA0MDQgOiAyMDAsIGV2dC50eXBlICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHQpO1xuXHRcdFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKCBzY3JpcHRbIDAgXSApO1xuXHRcdFx0fSxcblx0XHRcdGFib3J0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxufSk7XG5cblxuXG5cbnZhciBvbGRDYWxsYmFja3MgPSBbXSxcblx0cmpzb25wID0gLyg9KVxcPyg/PSZ8JCl8XFw/XFw/LztcblxuLy8gRGVmYXVsdCBqc29ucCBzZXR0aW5nc1xualF1ZXJ5LmFqYXhTZXR1cCh7XG5cdGpzb25wOiBcImNhbGxiYWNrXCIsXG5cdGpzb25wQ2FsbGJhY2s6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBjYWxsYmFjayA9IG9sZENhbGxiYWNrcy5wb3AoKSB8fCAoIGpRdWVyeS5leHBhbmRvICsgXCJfXCIgKyAoIG5vbmNlKysgKSApO1xuXHRcdHRoaXNbIGNhbGxiYWNrIF0gPSB0cnVlO1xuXHRcdHJldHVybiBjYWxsYmFjaztcblx0fVxufSk7XG5cbi8vIERldGVjdCwgbm9ybWFsaXplIG9wdGlvbnMgYW5kIGluc3RhbGwgY2FsbGJhY2tzIGZvciBqc29ucCByZXF1ZXN0c1xualF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIFwianNvbiBqc29ucFwiLCBmdW5jdGlvbiggcywgb3JpZ2luYWxTZXR0aW5ncywganFYSFIgKSB7XG5cblx0dmFyIGNhbGxiYWNrTmFtZSwgb3ZlcndyaXR0ZW4sIHJlc3BvbnNlQ29udGFpbmVyLFxuXHRcdGpzb25Qcm9wID0gcy5qc29ucCAhPT0gZmFsc2UgJiYgKCByanNvbnAudGVzdCggcy51cmwgKSA/XG5cdFx0XHRcInVybFwiIDpcblx0XHRcdHR5cGVvZiBzLmRhdGEgPT09IFwic3RyaW5nXCIgJiYgISggcy5jb250ZW50VHlwZSB8fCBcIlwiICkuaW5kZXhPZihcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSAmJiByanNvbnAudGVzdCggcy5kYXRhICkgJiYgXCJkYXRhXCJcblx0XHQpO1xuXG5cdC8vIEhhbmRsZSBpZmYgdGhlIGV4cGVjdGVkIGRhdGEgdHlwZSBpcyBcImpzb25wXCIgb3Igd2UgaGF2ZSBhIHBhcmFtZXRlciB0byBzZXRcblx0aWYgKCBqc29uUHJvcCB8fCBzLmRhdGFUeXBlc1sgMCBdID09PSBcImpzb25wXCIgKSB7XG5cblx0XHQvLyBHZXQgY2FsbGJhY2sgbmFtZSwgcmVtZW1iZXJpbmcgcHJlZXhpc3RpbmcgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIGl0XG5cdFx0Y2FsbGJhY2tOYW1lID0gcy5qc29ucENhbGxiYWNrID0galF1ZXJ5LmlzRnVuY3Rpb24oIHMuanNvbnBDYWxsYmFjayApID9cblx0XHRcdHMuanNvbnBDYWxsYmFjaygpIDpcblx0XHRcdHMuanNvbnBDYWxsYmFjaztcblxuXHRcdC8vIEluc2VydCBjYWxsYmFjayBpbnRvIHVybCBvciBmb3JtIGRhdGFcblx0XHRpZiAoIGpzb25Qcm9wICkge1xuXHRcdFx0c1sganNvblByb3AgXSA9IHNbIGpzb25Qcm9wIF0ucmVwbGFjZSggcmpzb25wLCBcIiQxXCIgKyBjYWxsYmFja05hbWUgKTtcblx0XHR9IGVsc2UgaWYgKCBzLmpzb25wICE9PSBmYWxzZSApIHtcblx0XHRcdHMudXJsICs9ICggcnF1ZXJ5LnRlc3QoIHMudXJsICkgPyBcIiZcIiA6IFwiP1wiICkgKyBzLmpzb25wICsgXCI9XCIgKyBjYWxsYmFja05hbWU7XG5cdFx0fVxuXG5cdFx0Ly8gVXNlIGRhdGEgY29udmVydGVyIHRvIHJldHJpZXZlIGpzb24gYWZ0ZXIgc2NyaXB0IGV4ZWN1dGlvblxuXHRcdHMuY29udmVydGVyc1tcInNjcmlwdCBqc29uXCJdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoICFyZXNwb25zZUNvbnRhaW5lciApIHtcblx0XHRcdFx0alF1ZXJ5LmVycm9yKCBjYWxsYmFja05hbWUgKyBcIiB3YXMgbm90IGNhbGxlZFwiICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzcG9uc2VDb250YWluZXJbIDAgXTtcblx0XHR9O1xuXG5cdFx0Ly8gZm9yY2UganNvbiBkYXRhVHlwZVxuXHRcdHMuZGF0YVR5cGVzWyAwIF0gPSBcImpzb25cIjtcblxuXHRcdC8vIEluc3RhbGwgY2FsbGJhY2tcblx0XHRvdmVyd3JpdHRlbiA9IHdpbmRvd1sgY2FsbGJhY2tOYW1lIF07XG5cdFx0d2luZG93WyBjYWxsYmFja05hbWUgXSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmVzcG9uc2VDb250YWluZXIgPSBhcmd1bWVudHM7XG5cdFx0fTtcblxuXHRcdC8vIENsZWFuLXVwIGZ1bmN0aW9uIChmaXJlcyBhZnRlciBjb252ZXJ0ZXJzKVxuXHRcdGpxWEhSLmFsd2F5cyhmdW5jdGlvbigpIHtcblx0XHRcdC8vIFJlc3RvcmUgcHJlZXhpc3RpbmcgdmFsdWVcblx0XHRcdHdpbmRvd1sgY2FsbGJhY2tOYW1lIF0gPSBvdmVyd3JpdHRlbjtcblxuXHRcdFx0Ly8gU2F2ZSBiYWNrIGFzIGZyZWVcblx0XHRcdGlmICggc1sgY2FsbGJhY2tOYW1lIF0gKSB7XG5cdFx0XHRcdC8vIG1ha2Ugc3VyZSB0aGF0IHJlLXVzaW5nIHRoZSBvcHRpb25zIGRvZXNuJ3Qgc2NyZXcgdGhpbmdzIGFyb3VuZFxuXHRcdFx0XHRzLmpzb25wQ2FsbGJhY2sgPSBvcmlnaW5hbFNldHRpbmdzLmpzb25wQ2FsbGJhY2s7XG5cblx0XHRcdFx0Ly8gc2F2ZSB0aGUgY2FsbGJhY2sgbmFtZSBmb3IgZnV0dXJlIHVzZVxuXHRcdFx0XHRvbGRDYWxsYmFja3MucHVzaCggY2FsbGJhY2tOYW1lICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENhbGwgaWYgaXQgd2FzIGEgZnVuY3Rpb24gYW5kIHdlIGhhdmUgYSByZXNwb25zZVxuXHRcdFx0aWYgKCByZXNwb25zZUNvbnRhaW5lciAmJiBqUXVlcnkuaXNGdW5jdGlvbiggb3ZlcndyaXR0ZW4gKSApIHtcblx0XHRcdFx0b3ZlcndyaXR0ZW4oIHJlc3BvbnNlQ29udGFpbmVyWyAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0cmVzcG9uc2VDb250YWluZXIgPSBvdmVyd3JpdHRlbiA9IHVuZGVmaW5lZDtcblx0XHR9KTtcblxuXHRcdC8vIERlbGVnYXRlIHRvIHNjcmlwdFxuXHRcdHJldHVybiBcInNjcmlwdFwiO1xuXHR9XG59KTtcblxuXG5cblxuLy8gZGF0YTogc3RyaW5nIG9mIGh0bWxcbi8vIGNvbnRleHQgKG9wdGlvbmFsKTogSWYgc3BlY2lmaWVkLCB0aGUgZnJhZ21lbnQgd2lsbCBiZSBjcmVhdGVkIGluIHRoaXMgY29udGV4dCwgZGVmYXVsdHMgdG8gZG9jdW1lbnRcbi8vIGtlZXBTY3JpcHRzIChvcHRpb25hbCk6IElmIHRydWUsIHdpbGwgaW5jbHVkZSBzY3JpcHRzIHBhc3NlZCBpbiB0aGUgaHRtbCBzdHJpbmdcbmpRdWVyeS5wYXJzZUhUTUwgPSBmdW5jdGlvbiggZGF0YSwgY29udGV4dCwga2VlcFNjcmlwdHMgKSB7XG5cdGlmICggIWRhdGEgfHwgdHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblx0aWYgKCB0eXBlb2YgY29udGV4dCA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0a2VlcFNjcmlwdHMgPSBjb250ZXh0O1xuXHRcdGNvbnRleHQgPSBmYWxzZTtcblx0fVxuXHRjb250ZXh0ID0gY29udGV4dCB8fCBkb2N1bWVudDtcblxuXHR2YXIgcGFyc2VkID0gcnNpbmdsZVRhZy5leGVjKCBkYXRhICksXG5cdFx0c2NyaXB0cyA9ICFrZWVwU2NyaXB0cyAmJiBbXTtcblxuXHQvLyBTaW5nbGUgdGFnXG5cdGlmICggcGFyc2VkICkge1xuXHRcdHJldHVybiBbIGNvbnRleHQuY3JlYXRlRWxlbWVudCggcGFyc2VkWzFdICkgXTtcblx0fVxuXG5cdHBhcnNlZCA9IGpRdWVyeS5idWlsZEZyYWdtZW50KCBbIGRhdGEgXSwgY29udGV4dCwgc2NyaXB0cyApO1xuXG5cdGlmICggc2NyaXB0cyAmJiBzY3JpcHRzLmxlbmd0aCApIHtcblx0XHRqUXVlcnkoIHNjcmlwdHMgKS5yZW1vdmUoKTtcblx0fVxuXG5cdHJldHVybiBqUXVlcnkubWVyZ2UoIFtdLCBwYXJzZWQuY2hpbGROb2RlcyApO1xufTtcblxuXG4vLyBLZWVwIGEgY29weSBvZiB0aGUgb2xkIGxvYWQgbWV0aG9kXG52YXIgX2xvYWQgPSBqUXVlcnkuZm4ubG9hZDtcblxuLyoqXG4gKiBMb2FkIGEgdXJsIGludG8gYSBwYWdlXG4gKi9cbmpRdWVyeS5mbi5sb2FkID0gZnVuY3Rpb24oIHVybCwgcGFyYW1zLCBjYWxsYmFjayApIHtcblx0aWYgKCB0eXBlb2YgdXJsICE9PSBcInN0cmluZ1wiICYmIF9sb2FkICkge1xuXHRcdHJldHVybiBfbG9hZC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdH1cblxuXHR2YXIgc2VsZWN0b3IsIHR5cGUsIHJlc3BvbnNlLFxuXHRcdHNlbGYgPSB0aGlzLFxuXHRcdG9mZiA9IHVybC5pbmRleE9mKFwiIFwiKTtcblxuXHRpZiAoIG9mZiA+PSAwICkge1xuXHRcdHNlbGVjdG9yID0galF1ZXJ5LnRyaW0oIHVybC5zbGljZSggb2ZmICkgKTtcblx0XHR1cmwgPSB1cmwuc2xpY2UoIDAsIG9mZiApO1xuXHR9XG5cblx0Ly8gSWYgaXQncyBhIGZ1bmN0aW9uXG5cdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHBhcmFtcyApICkge1xuXG5cdFx0Ly8gV2UgYXNzdW1lIHRoYXQgaXQncyB0aGUgY2FsbGJhY2tcblx0XHRjYWxsYmFjayA9IHBhcmFtcztcblx0XHRwYXJhbXMgPSB1bmRlZmluZWQ7XG5cblx0Ly8gT3RoZXJ3aXNlLCBidWlsZCBhIHBhcmFtIHN0cmluZ1xuXHR9IGVsc2UgaWYgKCBwYXJhbXMgJiYgdHlwZW9mIHBhcmFtcyA9PT0gXCJvYmplY3RcIiApIHtcblx0XHR0eXBlID0gXCJQT1NUXCI7XG5cdH1cblxuXHQvLyBJZiB3ZSBoYXZlIGVsZW1lbnRzIHRvIG1vZGlmeSwgbWFrZSB0aGUgcmVxdWVzdFxuXHRpZiAoIHNlbGYubGVuZ3RoID4gMCApIHtcblx0XHRqUXVlcnkuYWpheCh7XG5cdFx0XHR1cmw6IHVybCxcblxuXHRcdFx0Ly8gaWYgXCJ0eXBlXCIgdmFyaWFibGUgaXMgdW5kZWZpbmVkLCB0aGVuIFwiR0VUXCIgbWV0aG9kIHdpbGwgYmUgdXNlZFxuXHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdGRhdGFUeXBlOiBcImh0bWxcIixcblx0XHRcdGRhdGE6IHBhcmFtc1xuXHRcdH0pLmRvbmUoZnVuY3Rpb24oIHJlc3BvbnNlVGV4dCApIHtcblxuXHRcdFx0Ly8gU2F2ZSByZXNwb25zZSBmb3IgdXNlIGluIGNvbXBsZXRlIGNhbGxiYWNrXG5cdFx0XHRyZXNwb25zZSA9IGFyZ3VtZW50cztcblxuXHRcdFx0c2VsZi5odG1sKCBzZWxlY3RvciA/XG5cblx0XHRcdFx0Ly8gSWYgYSBzZWxlY3RvciB3YXMgc3BlY2lmaWVkLCBsb2NhdGUgdGhlIHJpZ2h0IGVsZW1lbnRzIGluIGEgZHVtbXkgZGl2XG5cdFx0XHRcdC8vIEV4Y2x1ZGUgc2NyaXB0cyB0byBhdm9pZCBJRSAnUGVybWlzc2lvbiBEZW5pZWQnIGVycm9yc1xuXHRcdFx0XHRqUXVlcnkoXCI8ZGl2PlwiKS5hcHBlbmQoIGpRdWVyeS5wYXJzZUhUTUwoIHJlc3BvbnNlVGV4dCApICkuZmluZCggc2VsZWN0b3IgKSA6XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIHVzZSB0aGUgZnVsbCByZXN1bHRcblx0XHRcdFx0cmVzcG9uc2VUZXh0ICk7XG5cblx0XHR9KS5jb21wbGV0ZSggY2FsbGJhY2sgJiYgZnVuY3Rpb24oIGpxWEhSLCBzdGF0dXMgKSB7XG5cdFx0XHRzZWxmLmVhY2goIGNhbGxiYWNrLCByZXNwb25zZSB8fCBbIGpxWEhSLnJlc3BvbnNlVGV4dCwgc3RhdHVzLCBqcVhIUiBdICk7XG5cdFx0fSk7XG5cdH1cblxuXHRyZXR1cm4gdGhpcztcbn07XG5cblxuXG5cbmpRdWVyeS5leHByLmZpbHRlcnMuYW5pbWF0ZWQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0cmV0dXJuIGpRdWVyeS5ncmVwKGpRdWVyeS50aW1lcnMsIGZ1bmN0aW9uKCBmbiApIHtcblx0XHRyZXR1cm4gZWxlbSA9PT0gZm4uZWxlbTtcblx0fSkubGVuZ3RoO1xufTtcblxuXG5cblxudmFyIGRvY0VsZW0gPSB3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG4vKipcbiAqIEdldHMgYSB3aW5kb3cgZnJvbSBhbiBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGdldFdpbmRvdyggZWxlbSApIHtcblx0cmV0dXJuIGpRdWVyeS5pc1dpbmRvdyggZWxlbSApID8gZWxlbSA6IGVsZW0ubm9kZVR5cGUgPT09IDkgJiYgZWxlbS5kZWZhdWx0Vmlldztcbn1cblxualF1ZXJ5Lm9mZnNldCA9IHtcblx0c2V0T2Zmc2V0OiBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgaSApIHtcblx0XHR2YXIgY3VyUG9zaXRpb24sIGN1ckxlZnQsIGN1ckNTU1RvcCwgY3VyVG9wLCBjdXJPZmZzZXQsIGN1ckNTU0xlZnQsIGNhbGN1bGF0ZVBvc2l0aW9uLFxuXHRcdFx0cG9zaXRpb24gPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBvc2l0aW9uXCIgKSxcblx0XHRcdGN1ckVsZW0gPSBqUXVlcnkoIGVsZW0gKSxcblx0XHRcdHByb3BzID0ge307XG5cblx0XHQvLyBTZXQgcG9zaXRpb24gZmlyc3QsIGluLWNhc2UgdG9wL2xlZnQgYXJlIHNldCBldmVuIG9uIHN0YXRpYyBlbGVtXG5cdFx0aWYgKCBwb3NpdGlvbiA9PT0gXCJzdGF0aWNcIiApIHtcblx0XHRcdGVsZW0uc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XG5cdFx0fVxuXG5cdFx0Y3VyT2Zmc2V0ID0gY3VyRWxlbS5vZmZzZXQoKTtcblx0XHRjdXJDU1NUb3AgPSBqUXVlcnkuY3NzKCBlbGVtLCBcInRvcFwiICk7XG5cdFx0Y3VyQ1NTTGVmdCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwibGVmdFwiICk7XG5cdFx0Y2FsY3VsYXRlUG9zaXRpb24gPSAoIHBvc2l0aW9uID09PSBcImFic29sdXRlXCIgfHwgcG9zaXRpb24gPT09IFwiZml4ZWRcIiApICYmXG5cdFx0XHQoIGN1ckNTU1RvcCArIGN1ckNTU0xlZnQgKS5pbmRleE9mKFwiYXV0b1wiKSA+IC0xO1xuXG5cdFx0Ly8gTmVlZCB0byBiZSBhYmxlIHRvIGNhbGN1bGF0ZSBwb3NpdGlvbiBpZiBlaXRoZXIgdG9wIG9yIGxlZnQgaXMgYXV0byBhbmQgcG9zaXRpb24gaXMgZWl0aGVyIGFic29sdXRlIG9yIGZpeGVkXG5cdFx0aWYgKCBjYWxjdWxhdGVQb3NpdGlvbiApIHtcblx0XHRcdGN1clBvc2l0aW9uID0gY3VyRWxlbS5wb3NpdGlvbigpO1xuXHRcdFx0Y3VyVG9wID0gY3VyUG9zaXRpb24udG9wO1xuXHRcdFx0Y3VyTGVmdCA9IGN1clBvc2l0aW9uLmxlZnQ7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y3VyVG9wID0gcGFyc2VGbG9hdCggY3VyQ1NTVG9wICkgfHwgMDtcblx0XHRcdGN1ckxlZnQgPSBwYXJzZUZsb2F0KCBjdXJDU1NMZWZ0ICkgfHwgMDtcblx0XHR9XG5cblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBvcHRpb25zICkgKSB7XG5cdFx0XHRvcHRpb25zID0gb3B0aW9ucy5jYWxsKCBlbGVtLCBpLCBjdXJPZmZzZXQgKTtcblx0XHR9XG5cblx0XHRpZiAoIG9wdGlvbnMudG9wICE9IG51bGwgKSB7XG5cdFx0XHRwcm9wcy50b3AgPSAoIG9wdGlvbnMudG9wIC0gY3VyT2Zmc2V0LnRvcCApICsgY3VyVG9wO1xuXHRcdH1cblx0XHRpZiAoIG9wdGlvbnMubGVmdCAhPSBudWxsICkge1xuXHRcdFx0cHJvcHMubGVmdCA9ICggb3B0aW9ucy5sZWZ0IC0gY3VyT2Zmc2V0LmxlZnQgKSArIGN1ckxlZnQ7XG5cdFx0fVxuXG5cdFx0aWYgKCBcInVzaW5nXCIgaW4gb3B0aW9ucyApIHtcblx0XHRcdG9wdGlvbnMudXNpbmcuY2FsbCggZWxlbSwgcHJvcHMgKTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjdXJFbGVtLmNzcyggcHJvcHMgKTtcblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoe1xuXHRvZmZzZXQ6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiBvcHRpb25zID09PSB1bmRlZmluZWQgP1xuXHRcdFx0XHR0aGlzIDpcblx0XHRcdFx0dGhpcy5lYWNoKGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRcdGpRdWVyeS5vZmZzZXQuc2V0T2Zmc2V0KCB0aGlzLCBvcHRpb25zLCBpICk7XG5cdFx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHZhciBkb2NFbGVtLCB3aW4sXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdLFxuXHRcdFx0Ym94ID0geyB0b3A6IDAsIGxlZnQ6IDAgfSxcblx0XHRcdGRvYyA9IGVsZW0gJiYgZWxlbS5vd25lckRvY3VtZW50O1xuXG5cdFx0aWYgKCAhZG9jICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGRvY0VsZW0gPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuXG5cdFx0Ly8gTWFrZSBzdXJlIGl0J3Mgbm90IGEgZGlzY29ubmVjdGVkIERPTSBub2RlXG5cdFx0aWYgKCAhalF1ZXJ5LmNvbnRhaW5zKCBkb2NFbGVtLCBlbGVtICkgKSB7XG5cdFx0XHRyZXR1cm4gYm94O1xuXHRcdH1cblxuXHRcdC8vIElmIHdlIGRvbid0IGhhdmUgZ0JDUiwganVzdCB1c2UgMCwwIHJhdGhlciB0aGFuIGVycm9yXG5cdFx0Ly8gQmxhY2tCZXJyeSA1LCBpT1MgMyAob3JpZ2luYWwgaVBob25lKVxuXHRcdGlmICggdHlwZW9mIGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0ICE9PSBzdHJ1bmRlZmluZWQgKSB7XG5cdFx0XHRib3ggPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdH1cblx0XHR3aW4gPSBnZXRXaW5kb3coIGRvYyApO1xuXHRcdHJldHVybiB7XG5cdFx0XHR0b3A6IGJveC50b3AgKyB3aW4ucGFnZVlPZmZzZXQgLSBkb2NFbGVtLmNsaWVudFRvcCxcblx0XHRcdGxlZnQ6IGJveC5sZWZ0ICsgd2luLnBhZ2VYT2Zmc2V0IC0gZG9jRWxlbS5jbGllbnRMZWZ0XG5cdFx0fTtcblx0fSxcblxuXHRwb3NpdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCAhdGhpc1sgMCBdICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhciBvZmZzZXRQYXJlbnQsIG9mZnNldCxcblx0XHRcdGVsZW0gPSB0aGlzWyAwIF0sXG5cdFx0XHRwYXJlbnRPZmZzZXQgPSB7IHRvcDogMCwgbGVmdDogMCB9O1xuXG5cdFx0Ly8gRml4ZWQgZWxlbWVudHMgYXJlIG9mZnNldCBmcm9tIHdpbmRvdyAocGFyZW50T2Zmc2V0ID0ge3RvcDowLCBsZWZ0OiAwfSwgYmVjYXVzZSBpdCBpcyBpdHMgb25seSBvZmZzZXQgcGFyZW50XG5cdFx0aWYgKCBqUXVlcnkuY3NzKCBlbGVtLCBcInBvc2l0aW9uXCIgKSA9PT0gXCJmaXhlZFwiICkge1xuXHRcdFx0Ly8gV2UgYXNzdW1lIHRoYXQgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGlzIGF2YWlsYWJsZSB3aGVuIGNvbXB1dGVkIHBvc2l0aW9uIGlzIGZpeGVkXG5cdFx0XHRvZmZzZXQgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIEdldCAqcmVhbCogb2Zmc2V0UGFyZW50XG5cdFx0XHRvZmZzZXRQYXJlbnQgPSB0aGlzLm9mZnNldFBhcmVudCgpO1xuXG5cdFx0XHQvLyBHZXQgY29ycmVjdCBvZmZzZXRzXG5cdFx0XHRvZmZzZXQgPSB0aGlzLm9mZnNldCgpO1xuXHRcdFx0aWYgKCAhalF1ZXJ5Lm5vZGVOYW1lKCBvZmZzZXRQYXJlbnRbIDAgXSwgXCJodG1sXCIgKSApIHtcblx0XHRcdFx0cGFyZW50T2Zmc2V0ID0gb2Zmc2V0UGFyZW50Lm9mZnNldCgpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgb2Zmc2V0UGFyZW50IGJvcmRlcnNcblx0XHRcdHBhcmVudE9mZnNldC50b3AgKz0galF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50WyAwIF0sIFwiYm9yZGVyVG9wV2lkdGhcIiwgdHJ1ZSApO1xuXHRcdFx0cGFyZW50T2Zmc2V0LmxlZnQgKz0galF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50WyAwIF0sIFwiYm9yZGVyTGVmdFdpZHRoXCIsIHRydWUgKTtcblx0XHR9XG5cblx0XHQvLyBTdWJ0cmFjdCBwYXJlbnQgb2Zmc2V0cyBhbmQgZWxlbWVudCBtYXJnaW5zXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogb2Zmc2V0LnRvcCAtIHBhcmVudE9mZnNldC50b3AgLSBqUXVlcnkuY3NzKCBlbGVtLCBcIm1hcmdpblRvcFwiLCB0cnVlICksXG5cdFx0XHRsZWZ0OiBvZmZzZXQubGVmdCAtIHBhcmVudE9mZnNldC5sZWZ0IC0galF1ZXJ5LmNzcyggZWxlbSwgXCJtYXJnaW5MZWZ0XCIsIHRydWUgKVxuXHRcdH07XG5cdH0sXG5cblx0b2Zmc2V0UGFyZW50OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgb2Zmc2V0UGFyZW50ID0gdGhpcy5vZmZzZXRQYXJlbnQgfHwgZG9jRWxlbTtcblxuXHRcdFx0d2hpbGUgKCBvZmZzZXRQYXJlbnQgJiYgKCAhalF1ZXJ5Lm5vZGVOYW1lKCBvZmZzZXRQYXJlbnQsIFwiaHRtbFwiICkgJiYgalF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCBcInBvc2l0aW9uXCIgKSA9PT0gXCJzdGF0aWNcIiApICkge1xuXHRcdFx0XHRvZmZzZXRQYXJlbnQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0UGFyZW50O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gb2Zmc2V0UGFyZW50IHx8IGRvY0VsZW07XG5cdFx0fSk7XG5cdH1cbn0pO1xuXG4vLyBDcmVhdGUgc2Nyb2xsTGVmdCBhbmQgc2Nyb2xsVG9wIG1ldGhvZHNcbmpRdWVyeS5lYWNoKCB7IHNjcm9sbExlZnQ6IFwicGFnZVhPZmZzZXRcIiwgc2Nyb2xsVG9wOiBcInBhZ2VZT2Zmc2V0XCIgfSwgZnVuY3Rpb24oIG1ldGhvZCwgcHJvcCApIHtcblx0dmFyIHRvcCA9IFwicGFnZVlPZmZzZXRcIiA9PT0gcHJvcDtcblxuXHRqUXVlcnkuZm5bIG1ldGhvZCBdID0gZnVuY3Rpb24oIHZhbCApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgbWV0aG9kLCB2YWwgKSB7XG5cdFx0XHR2YXIgd2luID0gZ2V0V2luZG93KCBlbGVtICk7XG5cblx0XHRcdGlmICggdmFsID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiB3aW4gPyB3aW5bIHByb3AgXSA6IGVsZW1bIG1ldGhvZCBdO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHdpbiApIHtcblx0XHRcdFx0d2luLnNjcm9sbFRvKFxuXHRcdFx0XHRcdCF0b3AgPyB2YWwgOiB3aW5kb3cucGFnZVhPZmZzZXQsXG5cdFx0XHRcdFx0dG9wID8gdmFsIDogd2luZG93LnBhZ2VZT2Zmc2V0XG5cdFx0XHRcdCk7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVsZW1bIG1ldGhvZCBdID0gdmFsO1xuXHRcdFx0fVxuXHRcdH0sIG1ldGhvZCwgdmFsLCBhcmd1bWVudHMubGVuZ3RoLCBudWxsICk7XG5cdH07XG59KTtcblxuLy8gQWRkIHRoZSB0b3AvbGVmdCBjc3NIb29rcyB1c2luZyBqUXVlcnkuZm4ucG9zaXRpb25cbi8vIFdlYmtpdCBidWc6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0yOTA4NFxuLy8gZ2V0Q29tcHV0ZWRTdHlsZSByZXR1cm5zIHBlcmNlbnQgd2hlbiBzcGVjaWZpZWQgZm9yIHRvcC9sZWZ0L2JvdHRvbS9yaWdodFxuLy8gcmF0aGVyIHRoYW4gbWFrZSB0aGUgY3NzIG1vZHVsZSBkZXBlbmQgb24gdGhlIG9mZnNldCBtb2R1bGUsIHdlIGp1c3QgY2hlY2sgZm9yIGl0IGhlcmVcbmpRdWVyeS5lYWNoKCBbIFwidG9wXCIsIFwibGVmdFwiIF0sIGZ1bmN0aW9uKCBpLCBwcm9wICkge1xuXHRqUXVlcnkuY3NzSG9va3NbIHByb3AgXSA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5waXhlbFBvc2l0aW9uLFxuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cdFx0XHRcdGNvbXB1dGVkID0gY3VyQ1NTKCBlbGVtLCBwcm9wICk7XG5cdFx0XHRcdC8vIGlmIGN1ckNTUyByZXR1cm5zIHBlcmNlbnRhZ2UsIGZhbGxiYWNrIHRvIG9mZnNldFxuXHRcdFx0XHRyZXR1cm4gcm51bW5vbnB4LnRlc3QoIGNvbXB1dGVkICkgP1xuXHRcdFx0XHRcdGpRdWVyeSggZWxlbSApLnBvc2l0aW9uKClbIHByb3AgXSArIFwicHhcIiA6XG5cdFx0XHRcdFx0Y29tcHV0ZWQ7XG5cdFx0XHR9XG5cdFx0fVxuXHQpO1xufSk7XG5cblxuLy8gQ3JlYXRlIGlubmVySGVpZ2h0LCBpbm5lcldpZHRoLCBoZWlnaHQsIHdpZHRoLCBvdXRlckhlaWdodCBhbmQgb3V0ZXJXaWR0aCBtZXRob2RzXG5qUXVlcnkuZWFjaCggeyBIZWlnaHQ6IFwiaGVpZ2h0XCIsIFdpZHRoOiBcIndpZHRoXCIgfSwgZnVuY3Rpb24oIG5hbWUsIHR5cGUgKSB7XG5cdGpRdWVyeS5lYWNoKCB7IHBhZGRpbmc6IFwiaW5uZXJcIiArIG5hbWUsIGNvbnRlbnQ6IHR5cGUsIFwiXCI6IFwib3V0ZXJcIiArIG5hbWUgfSwgZnVuY3Rpb24oIGRlZmF1bHRFeHRyYSwgZnVuY05hbWUgKSB7XG5cdFx0Ly8gbWFyZ2luIGlzIG9ubHkgZm9yIG91dGVySGVpZ2h0LCBvdXRlcldpZHRoXG5cdFx0alF1ZXJ5LmZuWyBmdW5jTmFtZSBdID0gZnVuY3Rpb24oIG1hcmdpbiwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgY2hhaW5hYmxlID0gYXJndW1lbnRzLmxlbmd0aCAmJiAoIGRlZmF1bHRFeHRyYSB8fCB0eXBlb2YgbWFyZ2luICE9PSBcImJvb2xlYW5cIiApLFxuXHRcdFx0XHRleHRyYSA9IGRlZmF1bHRFeHRyYSB8fCAoIG1hcmdpbiA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gdHJ1ZSA/IFwibWFyZ2luXCIgOiBcImJvcmRlclwiICk7XG5cblx0XHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCB2YWx1ZSApIHtcblx0XHRcdFx0dmFyIGRvYztcblxuXHRcdFx0XHRpZiAoIGpRdWVyeS5pc1dpbmRvdyggZWxlbSApICkge1xuXHRcdFx0XHRcdC8vIEFzIG9mIDUvOC8yMDEyIHRoaXMgd2lsbCB5aWVsZCBpbmNvcnJlY3QgcmVzdWx0cyBmb3IgTW9iaWxlIFNhZmFyaSwgYnV0IHRoZXJlXG5cdFx0XHRcdFx0Ly8gaXNuJ3QgYSB3aG9sZSBsb3Qgd2UgY2FuIGRvLiBTZWUgcHVsbCByZXF1ZXN0IGF0IHRoaXMgVVJMIGZvciBkaXNjdXNzaW9uOlxuXHRcdFx0XHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5L3B1bGwvNzY0XG5cdFx0XHRcdFx0cmV0dXJuIGVsZW0uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyBcImNsaWVudFwiICsgbmFtZSBdO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gR2V0IGRvY3VtZW50IHdpZHRoIG9yIGhlaWdodFxuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0ZG9jID0gZWxlbS5kb2N1bWVudEVsZW1lbnQ7XG5cblx0XHRcdFx0XHQvLyBFaXRoZXIgc2Nyb2xsW1dpZHRoL0hlaWdodF0gb3Igb2Zmc2V0W1dpZHRoL0hlaWdodF0gb3IgY2xpZW50W1dpZHRoL0hlaWdodF0sXG5cdFx0XHRcdFx0Ly8gd2hpY2hldmVyIGlzIGdyZWF0ZXN0XG5cdFx0XHRcdFx0cmV0dXJuIE1hdGgubWF4KFxuXHRcdFx0XHRcdFx0ZWxlbS5ib2R5WyBcInNjcm9sbFwiICsgbmFtZSBdLCBkb2NbIFwic2Nyb2xsXCIgKyBuYW1lIF0sXG5cdFx0XHRcdFx0XHRlbGVtLmJvZHlbIFwib2Zmc2V0XCIgKyBuYW1lIF0sIGRvY1sgXCJvZmZzZXRcIiArIG5hbWUgXSxcblx0XHRcdFx0XHRcdGRvY1sgXCJjbGllbnRcIiArIG5hbWUgXVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdFx0Ly8gR2V0IHdpZHRoIG9yIGhlaWdodCBvbiB0aGUgZWxlbWVudCwgcmVxdWVzdGluZyBidXQgbm90IGZvcmNpbmcgcGFyc2VGbG9hdFxuXHRcdFx0XHRcdGpRdWVyeS5jc3MoIGVsZW0sIHR5cGUsIGV4dHJhICkgOlxuXG5cdFx0XHRcdFx0Ly8gU2V0IHdpZHRoIG9yIGhlaWdodCBvbiB0aGUgZWxlbWVudFxuXHRcdFx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgdHlwZSwgdmFsdWUsIGV4dHJhICk7XG5cdFx0XHR9LCB0eXBlLCBjaGFpbmFibGUgPyBtYXJnaW4gOiB1bmRlZmluZWQsIGNoYWluYWJsZSwgbnVsbCApO1xuXHRcdH07XG5cdH0pO1xufSk7XG5cblxuLy8gVGhlIG51bWJlciBvZiBlbGVtZW50cyBjb250YWluZWQgaW4gdGhlIG1hdGNoZWQgZWxlbWVudCBzZXRcbmpRdWVyeS5mbi5zaXplID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLmxlbmd0aDtcbn07XG5cbmpRdWVyeS5mbi5hbmRTZWxmID0galF1ZXJ5LmZuLmFkZEJhY2s7XG5cblxuXG5cbi8vIFJlZ2lzdGVyIGFzIGEgbmFtZWQgQU1EIG1vZHVsZSwgc2luY2UgalF1ZXJ5IGNhbiBiZSBjb25jYXRlbmF0ZWQgd2l0aCBvdGhlclxuLy8gZmlsZXMgdGhhdCBtYXkgdXNlIGRlZmluZSwgYnV0IG5vdCB2aWEgYSBwcm9wZXIgY29uY2F0ZW5hdGlvbiBzY3JpcHQgdGhhdFxuLy8gdW5kZXJzdGFuZHMgYW5vbnltb3VzIEFNRCBtb2R1bGVzLiBBIG5hbWVkIEFNRCBpcyBzYWZlc3QgYW5kIG1vc3Qgcm9idXN0XG4vLyB3YXkgdG8gcmVnaXN0ZXIuIExvd2VyY2FzZSBqcXVlcnkgaXMgdXNlZCBiZWNhdXNlIEFNRCBtb2R1bGUgbmFtZXMgYXJlXG4vLyBkZXJpdmVkIGZyb20gZmlsZSBuYW1lcywgYW5kIGpRdWVyeSBpcyBub3JtYWxseSBkZWxpdmVyZWQgaW4gYSBsb3dlcmNhc2Vcbi8vIGZpbGUgbmFtZS4gRG8gdGhpcyBhZnRlciBjcmVhdGluZyB0aGUgZ2xvYmFsIHNvIHRoYXQgaWYgYW4gQU1EIG1vZHVsZSB3YW50c1xuLy8gdG8gY2FsbCBub0NvbmZsaWN0IHRvIGhpZGUgdGhpcyB2ZXJzaW9uIG9mIGpRdWVyeSwgaXQgd2lsbCB3b3JrLlxuXG4vLyBOb3RlIHRoYXQgZm9yIG1heGltdW0gcG9ydGFiaWxpdHksIGxpYnJhcmllcyB0aGF0IGFyZSBub3QgalF1ZXJ5IHNob3VsZFxuLy8gZGVjbGFyZSB0aGVtc2VsdmVzIGFzIGFub255bW91cyBtb2R1bGVzLCBhbmQgYXZvaWQgc2V0dGluZyBhIGdsb2JhbCBpZiBhblxuLy8gQU1EIGxvYWRlciBpcyBwcmVzZW50LiBqUXVlcnkgaXMgYSBzcGVjaWFsIGNhc2UuIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWVcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qcmJ1cmtlL3JlcXVpcmVqcy93aWtpL1VwZGF0aW5nLWV4aXN0aW5nLWxpYnJhcmllcyN3aWtpLWFub25cblxuaWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblx0ZGVmaW5lKCBcImpxdWVyeVwiLCBbXSwgZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGpRdWVyeTtcblx0fSk7XG59XG5cblxuXG5cbnZhclxuXHQvLyBNYXAgb3ZlciBqUXVlcnkgaW4gY2FzZSBvZiBvdmVyd3JpdGVcblx0X2pRdWVyeSA9IHdpbmRvdy5qUXVlcnksXG5cblx0Ly8gTWFwIG92ZXIgdGhlICQgaW4gY2FzZSBvZiBvdmVyd3JpdGVcblx0XyQgPSB3aW5kb3cuJDtcblxualF1ZXJ5Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiggZGVlcCApIHtcblx0aWYgKCB3aW5kb3cuJCA9PT0galF1ZXJ5ICkge1xuXHRcdHdpbmRvdy4kID0gXyQ7XG5cdH1cblxuXHRpZiAoIGRlZXAgJiYgd2luZG93LmpRdWVyeSA9PT0galF1ZXJ5ICkge1xuXHRcdHdpbmRvdy5qUXVlcnkgPSBfalF1ZXJ5O1xuXHR9XG5cblx0cmV0dXJuIGpRdWVyeTtcbn07XG5cbi8vIEV4cG9zZSBqUXVlcnkgYW5kICQgaWRlbnRpZmllcnMsIGV2ZW4gaW5cbi8vIEFNRCAoIzcxMDIjY29tbWVudDoxMCwgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnkvcHVsbC81NTcpXG4vLyBhbmQgQ29tbW9uSlMgZm9yIGJyb3dzZXIgZW11bGF0b3JzICgjMTM1NjYpXG5pZiAoIHR5cGVvZiBub0dsb2JhbCA9PT0gc3RydW5kZWZpbmVkICkge1xuXHR3aW5kb3cualF1ZXJ5ID0gd2luZG93LiQgPSBqUXVlcnk7XG59XG5cblxuXG5cbnJldHVybiBqUXVlcnk7XG5cbn0pKTtcbiIsIi8qISBNYWduaWZpYyBQb3B1cCAtIHYxLjEuMCAtIDIwMTYtMDItMjBcbiogaHR0cDovL2RpbXNlbWVub3YuY29tL3BsdWdpbnMvbWFnbmlmaWMtcG9wdXAvXG4qIENvcHlyaWdodCAoYykgMjAxNiBEbWl0cnkgU2VtZW5vdjsgKi9cbjsoZnVuY3Rpb24gKGZhY3RvcnkpIHsgXG5pZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7IFxuIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS4gXG4gZGVmaW5lKFsnanF1ZXJ5J10sIGZhY3RvcnkpOyBcbiB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JykgeyBcbiAvLyBOb2RlL0NvbW1vbkpTIFxuIGZhY3RvcnkocmVxdWlyZSgnanF1ZXJ5JykpOyBcbiB9IGVsc2UgeyBcbiAvLyBCcm93c2VyIGdsb2JhbHMgXG4gZmFjdG9yeSh3aW5kb3cualF1ZXJ5IHx8IHdpbmRvdy5aZXB0byk7IFxuIH0gXG4gfShmdW5jdGlvbigkKSB7IFxuXG4vKj4+Y29yZSovXG4vKipcbiAqIFxuICogTWFnbmlmaWMgUG9wdXAgQ29yZSBKUyBmaWxlXG4gKiBcbiAqL1xuXG5cbi8qKlxuICogUHJpdmF0ZSBzdGF0aWMgY29uc3RhbnRzXG4gKi9cbnZhciBDTE9TRV9FVkVOVCA9ICdDbG9zZScsXG5cdEJFRk9SRV9DTE9TRV9FVkVOVCA9ICdCZWZvcmVDbG9zZScsXG5cdEFGVEVSX0NMT1NFX0VWRU5UID0gJ0FmdGVyQ2xvc2UnLFxuXHRCRUZPUkVfQVBQRU5EX0VWRU5UID0gJ0JlZm9yZUFwcGVuZCcsXG5cdE1BUktVUF9QQVJTRV9FVkVOVCA9ICdNYXJrdXBQYXJzZScsXG5cdE9QRU5fRVZFTlQgPSAnT3BlbicsXG5cdENIQU5HRV9FVkVOVCA9ICdDaGFuZ2UnLFxuXHROUyA9ICdtZnAnLFxuXHRFVkVOVF9OUyA9ICcuJyArIE5TLFxuXHRSRUFEWV9DTEFTUyA9ICdtZnAtcmVhZHknLFxuXHRSRU1PVklOR19DTEFTUyA9ICdtZnAtcmVtb3ZpbmcnLFxuXHRQUkVWRU5UX0NMT1NFX0NMQVNTID0gJ21mcC1wcmV2ZW50LWNsb3NlJztcblxuXG4vKipcbiAqIFByaXZhdGUgdmFycyBcbiAqL1xuLypqc2hpbnQgLVcwNzkgKi9cbnZhciBtZnAsIC8vIEFzIHdlIGhhdmUgb25seSBvbmUgaW5zdGFuY2Ugb2YgTWFnbmlmaWNQb3B1cCBvYmplY3QsIHdlIGRlZmluZSBpdCBsb2NhbGx5IHRvIG5vdCB0byB1c2UgJ3RoaXMnXG5cdE1hZ25pZmljUG9wdXAgPSBmdW5jdGlvbigpe30sXG5cdF9pc0pRID0gISEod2luZG93LmpRdWVyeSksXG5cdF9wcmV2U3RhdHVzLFxuXHRfd2luZG93ID0gJCh3aW5kb3cpLFxuXHRfZG9jdW1lbnQsXG5cdF9wcmV2Q29udGVudFR5cGUsXG5cdF93cmFwQ2xhc3Nlcyxcblx0X2N1cnJQb3B1cFR5cGU7XG5cblxuLyoqXG4gKiBQcml2YXRlIGZ1bmN0aW9uc1xuICovXG52YXIgX21mcE9uID0gZnVuY3Rpb24obmFtZSwgZikge1xuXHRcdG1mcC5ldi5vbihOUyArIG5hbWUgKyBFVkVOVF9OUywgZik7XG5cdH0sXG5cdF9nZXRFbCA9IGZ1bmN0aW9uKGNsYXNzTmFtZSwgYXBwZW5kVG8sIGh0bWwsIHJhdykge1xuXHRcdHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdGVsLmNsYXNzTmFtZSA9ICdtZnAtJytjbGFzc05hbWU7XG5cdFx0aWYoaHRtbCkge1xuXHRcdFx0ZWwuaW5uZXJIVE1MID0gaHRtbDtcblx0XHR9XG5cdFx0aWYoIXJhdykge1xuXHRcdFx0ZWwgPSAkKGVsKTtcblx0XHRcdGlmKGFwcGVuZFRvKSB7XG5cdFx0XHRcdGVsLmFwcGVuZFRvKGFwcGVuZFRvKTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYoYXBwZW5kVG8pIHtcblx0XHRcdGFwcGVuZFRvLmFwcGVuZENoaWxkKGVsKTtcblx0XHR9XG5cdFx0cmV0dXJuIGVsO1xuXHR9LFxuXHRfbWZwVHJpZ2dlciA9IGZ1bmN0aW9uKGUsIGRhdGEpIHtcblx0XHRtZnAuZXYudHJpZ2dlckhhbmRsZXIoTlMgKyBlLCBkYXRhKTtcblxuXHRcdGlmKG1mcC5zdC5jYWxsYmFja3MpIHtcblx0XHRcdC8vIGNvbnZlcnRzIFwibWZwRXZlbnROYW1lXCIgdG8gXCJldmVudE5hbWVcIiBjYWxsYmFjayBhbmQgdHJpZ2dlcnMgaXQgaWYgaXQncyBwcmVzZW50XG5cdFx0XHRlID0gZS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIGUuc2xpY2UoMSk7XG5cdFx0XHRpZihtZnAuc3QuY2FsbGJhY2tzW2VdKSB7XG5cdFx0XHRcdG1mcC5zdC5jYWxsYmFja3NbZV0uYXBwbHkobWZwLCAkLmlzQXJyYXkoZGF0YSkgPyBkYXRhIDogW2RhdGFdKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cdF9nZXRDbG9zZUJ0biA9IGZ1bmN0aW9uKHR5cGUpIHtcblx0XHRpZih0eXBlICE9PSBfY3VyclBvcHVwVHlwZSB8fCAhbWZwLmN1cnJUZW1wbGF0ZS5jbG9zZUJ0bikge1xuXHRcdFx0bWZwLmN1cnJUZW1wbGF0ZS5jbG9zZUJ0biA9ICQoIG1mcC5zdC5jbG9zZU1hcmt1cC5yZXBsYWNlKCcldGl0bGUlJywgbWZwLnN0LnRDbG9zZSApICk7XG5cdFx0XHRfY3VyclBvcHVwVHlwZSA9IHR5cGU7XG5cdFx0fVxuXHRcdHJldHVybiBtZnAuY3VyclRlbXBsYXRlLmNsb3NlQnRuO1xuXHR9LFxuXHQvLyBJbml0aWFsaXplIE1hZ25pZmljIFBvcHVwIG9ubHkgd2hlbiBjYWxsZWQgYXQgbGVhc3Qgb25jZVxuXHRfY2hlY2tJbnN0YW5jZSA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmKCEkLm1hZ25pZmljUG9wdXAuaW5zdGFuY2UpIHtcblx0XHRcdC8qanNoaW50IC1XMDIwICovXG5cdFx0XHRtZnAgPSBuZXcgTWFnbmlmaWNQb3B1cCgpO1xuXHRcdFx0bWZwLmluaXQoKTtcblx0XHRcdCQubWFnbmlmaWNQb3B1cC5pbnN0YW5jZSA9IG1mcDtcblx0XHR9XG5cdH0sXG5cdC8vIENTUyB0cmFuc2l0aW9uIGRldGVjdGlvbiwgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83MjY0ODk5L2RldGVjdC1jc3MtdHJhbnNpdGlvbnMtdXNpbmctamF2YXNjcmlwdC1hbmQtd2l0aG91dC1tb2Rlcm5penJcblx0c3VwcG9ydHNUcmFuc2l0aW9ucyA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpLnN0eWxlLCAvLyAncycgZm9yIHN0eWxlLiBiZXR0ZXIgdG8gY3JlYXRlIGFuIGVsZW1lbnQgaWYgYm9keSB5ZXQgdG8gZXhpc3Rcblx0XHRcdHYgPSBbJ21zJywnTycsJ01veicsJ1dlYmtpdCddOyAvLyAndicgZm9yIHZlbmRvclxuXG5cdFx0aWYoIHNbJ3RyYW5zaXRpb24nXSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0cmV0dXJuIHRydWU7IFxuXHRcdH1cblx0XHRcdFxuXHRcdHdoaWxlKCB2Lmxlbmd0aCApIHtcblx0XHRcdGlmKCB2LnBvcCgpICsgJ1RyYW5zaXRpb24nIGluIHMgKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcdFx0XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9O1xuXG5cblxuLyoqXG4gKiBQdWJsaWMgZnVuY3Rpb25zXG4gKi9cbk1hZ25pZmljUG9wdXAucHJvdG90eXBlID0ge1xuXG5cdGNvbnN0cnVjdG9yOiBNYWduaWZpY1BvcHVwLFxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplcyBNYWduaWZpYyBQb3B1cCBwbHVnaW4uIFxuXHQgKiBUaGlzIGZ1bmN0aW9uIGlzIHRyaWdnZXJlZCBvbmx5IG9uY2Ugd2hlbiAkLmZuLm1hZ25pZmljUG9wdXAgb3IgJC5tYWduaWZpY1BvcHVwIGlzIGV4ZWN1dGVkXG5cdCAqL1xuXHRpbml0OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgYXBwVmVyc2lvbiA9IG5hdmlnYXRvci5hcHBWZXJzaW9uO1xuXHRcdG1mcC5pc0xvd0lFID0gbWZwLmlzSUU4ID0gZG9jdW1lbnQuYWxsICYmICFkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyO1xuXHRcdG1mcC5pc0FuZHJvaWQgPSAoL2FuZHJvaWQvZ2kpLnRlc3QoYXBwVmVyc2lvbik7XG5cdFx0bWZwLmlzSU9TID0gKC9pcGhvbmV8aXBhZHxpcG9kL2dpKS50ZXN0KGFwcFZlcnNpb24pO1xuXHRcdG1mcC5zdXBwb3J0c1RyYW5zaXRpb24gPSBzdXBwb3J0c1RyYW5zaXRpb25zKCk7XG5cblx0XHQvLyBXZSBkaXNhYmxlIGZpeGVkIHBvc2l0aW9uZWQgbGlnaHRib3ggb24gZGV2aWNlcyB0aGF0IGRvbid0IGhhbmRsZSBpdCBuaWNlbHkuXG5cdFx0Ly8gSWYgeW91IGtub3cgYSBiZXR0ZXIgd2F5IG9mIGRldGVjdGluZyB0aGlzIC0gbGV0IG1lIGtub3cuXG5cdFx0bWZwLnByb2JhYmx5TW9iaWxlID0gKG1mcC5pc0FuZHJvaWQgfHwgbWZwLmlzSU9TIHx8IC8oT3BlcmEgTWluaSl8S2luZGxlfHdlYk9TfEJsYWNrQmVycnl8KE9wZXJhIE1vYmkpfChXaW5kb3dzIFBob25lKXxJRU1vYmlsZS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgKTtcblx0XHRfZG9jdW1lbnQgPSAkKGRvY3VtZW50KTtcblxuXHRcdG1mcC5wb3B1cHNDYWNoZSA9IHt9O1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBPcGVucyBwb3B1cFxuXHQgKiBAcGFyYW0gIGRhdGEgW2Rlc2NyaXB0aW9uXVxuXHQgKi9cblx0b3BlbjogZnVuY3Rpb24oZGF0YSkge1xuXG5cdFx0dmFyIGk7XG5cblx0XHRpZihkYXRhLmlzT2JqID09PSBmYWxzZSkgeyBcblx0XHRcdC8vIGNvbnZlcnQgalF1ZXJ5IGNvbGxlY3Rpb24gdG8gYXJyYXkgdG8gYXZvaWQgY29uZmxpY3RzIGxhdGVyXG5cdFx0XHRtZnAuaXRlbXMgPSBkYXRhLml0ZW1zLnRvQXJyYXkoKTtcblxuXHRcdFx0bWZwLmluZGV4ID0gMDtcblx0XHRcdHZhciBpdGVtcyA9IGRhdGEuaXRlbXMsXG5cdFx0XHRcdGl0ZW07XG5cdFx0XHRmb3IoaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpdGVtID0gaXRlbXNbaV07XG5cdFx0XHRcdGlmKGl0ZW0ucGFyc2VkKSB7XG5cdFx0XHRcdFx0aXRlbSA9IGl0ZW0uZWxbMF07XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYoaXRlbSA9PT0gZGF0YS5lbFswXSkge1xuXHRcdFx0XHRcdG1mcC5pbmRleCA9IGk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0bWZwLml0ZW1zID0gJC5pc0FycmF5KGRhdGEuaXRlbXMpID8gZGF0YS5pdGVtcyA6IFtkYXRhLml0ZW1zXTtcblx0XHRcdG1mcC5pbmRleCA9IGRhdGEuaW5kZXggfHwgMDtcblx0XHR9XG5cblx0XHQvLyBpZiBwb3B1cCBpcyBhbHJlYWR5IG9wZW5lZCAtIHdlIGp1c3QgdXBkYXRlIHRoZSBjb250ZW50XG5cdFx0aWYobWZwLmlzT3Blbikge1xuXHRcdFx0bWZwLnVwZGF0ZUl0ZW1IVE1MKCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdFxuXHRcdG1mcC50eXBlcyA9IFtdOyBcblx0XHRfd3JhcENsYXNzZXMgPSAnJztcblx0XHRpZihkYXRhLm1haW5FbCAmJiBkYXRhLm1haW5FbC5sZW5ndGgpIHtcblx0XHRcdG1mcC5ldiA9IGRhdGEubWFpbkVsLmVxKDApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRtZnAuZXYgPSBfZG9jdW1lbnQ7XG5cdFx0fVxuXG5cdFx0aWYoZGF0YS5rZXkpIHtcblx0XHRcdGlmKCFtZnAucG9wdXBzQ2FjaGVbZGF0YS5rZXldKSB7XG5cdFx0XHRcdG1mcC5wb3B1cHNDYWNoZVtkYXRhLmtleV0gPSB7fTtcblx0XHRcdH1cblx0XHRcdG1mcC5jdXJyVGVtcGxhdGUgPSBtZnAucG9wdXBzQ2FjaGVbZGF0YS5rZXldO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRtZnAuY3VyclRlbXBsYXRlID0ge307XG5cdFx0fVxuXG5cblxuXHRcdG1mcC5zdCA9ICQuZXh0ZW5kKHRydWUsIHt9LCAkLm1hZ25pZmljUG9wdXAuZGVmYXVsdHMsIGRhdGEgKTsgXG5cdFx0bWZwLmZpeGVkQ29udGVudFBvcyA9IG1mcC5zdC5maXhlZENvbnRlbnRQb3MgPT09ICdhdXRvJyA/ICFtZnAucHJvYmFibHlNb2JpbGUgOiBtZnAuc3QuZml4ZWRDb250ZW50UG9zO1xuXG5cdFx0aWYobWZwLnN0Lm1vZGFsKSB7XG5cdFx0XHRtZnAuc3QuY2xvc2VPbkNvbnRlbnRDbGljayA9IGZhbHNlO1xuXHRcdFx0bWZwLnN0LmNsb3NlT25CZ0NsaWNrID0gZmFsc2U7XG5cdFx0XHRtZnAuc3Quc2hvd0Nsb3NlQnRuID0gZmFsc2U7XG5cdFx0XHRtZnAuc3QuZW5hYmxlRXNjYXBlS2V5ID0gZmFsc2U7XG5cdFx0fVxuXHRcdFxuXG5cdFx0Ly8gQnVpbGRpbmcgbWFya3VwXG5cdFx0Ly8gbWFpbiBjb250YWluZXJzIGFyZSBjcmVhdGVkIG9ubHkgb25jZVxuXHRcdGlmKCFtZnAuYmdPdmVybGF5KSB7XG5cblx0XHRcdC8vIERhcmsgb3ZlcmxheVxuXHRcdFx0bWZwLmJnT3ZlcmxheSA9IF9nZXRFbCgnYmcnKS5vbignY2xpY2snK0VWRU5UX05TLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0bWZwLmNsb3NlKCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0bWZwLndyYXAgPSBfZ2V0RWwoJ3dyYXAnKS5hdHRyKCd0YWJpbmRleCcsIC0xKS5vbignY2xpY2snK0VWRU5UX05TLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdGlmKG1mcC5fY2hlY2tJZkNsb3NlKGUudGFyZ2V0KSkge1xuXHRcdFx0XHRcdG1mcC5jbG9zZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0bWZwLmNvbnRhaW5lciA9IF9nZXRFbCgnY29udGFpbmVyJywgbWZwLndyYXApO1xuXHRcdH1cblxuXHRcdG1mcC5jb250ZW50Q29udGFpbmVyID0gX2dldEVsKCdjb250ZW50Jyk7XG5cdFx0aWYobWZwLnN0LnByZWxvYWRlcikge1xuXHRcdFx0bWZwLnByZWxvYWRlciA9IF9nZXRFbCgncHJlbG9hZGVyJywgbWZwLmNvbnRhaW5lciwgbWZwLnN0LnRMb2FkaW5nKTtcblx0XHR9XG5cblxuXHRcdC8vIEluaXRpYWxpemluZyBtb2R1bGVzXG5cdFx0dmFyIG1vZHVsZXMgPSAkLm1hZ25pZmljUG9wdXAubW9kdWxlcztcblx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgbiA9IG1vZHVsZXNbaV07XG5cdFx0XHRuID0gbi5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG4uc2xpY2UoMSk7XG5cdFx0XHRtZnBbJ2luaXQnK25dLmNhbGwobWZwKTtcblx0XHR9XG5cdFx0X21mcFRyaWdnZXIoJ0JlZm9yZU9wZW4nKTtcblxuXG5cdFx0aWYobWZwLnN0LnNob3dDbG9zZUJ0bikge1xuXHRcdFx0Ly8gQ2xvc2UgYnV0dG9uXG5cdFx0XHRpZighbWZwLnN0LmNsb3NlQnRuSW5zaWRlKSB7XG5cdFx0XHRcdG1mcC53cmFwLmFwcGVuZCggX2dldENsb3NlQnRuKCkgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdF9tZnBPbihNQVJLVVBfUEFSU0VfRVZFTlQsIGZ1bmN0aW9uKGUsIHRlbXBsYXRlLCB2YWx1ZXMsIGl0ZW0pIHtcblx0XHRcdFx0XHR2YWx1ZXMuY2xvc2VfcmVwbGFjZVdpdGggPSBfZ2V0Q2xvc2VCdG4oaXRlbS50eXBlKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdF93cmFwQ2xhc3NlcyArPSAnIG1mcC1jbG9zZS1idG4taW4nO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmKG1mcC5zdC5hbGlnblRvcCkge1xuXHRcdFx0X3dyYXBDbGFzc2VzICs9ICcgbWZwLWFsaWduLXRvcCc7XG5cdFx0fVxuXG5cdFxuXG5cdFx0aWYobWZwLmZpeGVkQ29udGVudFBvcykge1xuXHRcdFx0bWZwLndyYXAuY3NzKHtcblx0XHRcdFx0b3ZlcmZsb3c6IG1mcC5zdC5vdmVyZmxvd1ksXG5cdFx0XHRcdG92ZXJmbG93WDogJ2hpZGRlbicsXG5cdFx0XHRcdG92ZXJmbG93WTogbWZwLnN0Lm92ZXJmbG93WVxuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG1mcC53cmFwLmNzcyh7IFxuXHRcdFx0XHR0b3A6IF93aW5kb3cuc2Nyb2xsVG9wKCksXG5cdFx0XHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnXG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0aWYoIG1mcC5zdC5maXhlZEJnUG9zID09PSBmYWxzZSB8fCAobWZwLnN0LmZpeGVkQmdQb3MgPT09ICdhdXRvJyAmJiAhbWZwLmZpeGVkQ29udGVudFBvcykgKSB7XG5cdFx0XHRtZnAuYmdPdmVybGF5LmNzcyh7XG5cdFx0XHRcdGhlaWdodDogX2RvY3VtZW50LmhlaWdodCgpLFxuXHRcdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJ1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0XG5cblx0XHRpZihtZnAuc3QuZW5hYmxlRXNjYXBlS2V5KSB7XG5cdFx0XHQvLyBDbG9zZSBvbiBFU0Mga2V5XG5cdFx0XHRfZG9jdW1lbnQub24oJ2tleXVwJyArIEVWRU5UX05TLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdGlmKGUua2V5Q29kZSA9PT0gMjcpIHtcblx0XHRcdFx0XHRtZnAuY2xvc2UoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0X3dpbmRvdy5vbigncmVzaXplJyArIEVWRU5UX05TLCBmdW5jdGlvbigpIHtcblx0XHRcdG1mcC51cGRhdGVTaXplKCk7XG5cdFx0fSk7XG5cblxuXHRcdGlmKCFtZnAuc3QuY2xvc2VPbkNvbnRlbnRDbGljaykge1xuXHRcdFx0X3dyYXBDbGFzc2VzICs9ICcgbWZwLWF1dG8tY3Vyc29yJztcblx0XHR9XG5cdFx0XG5cdFx0aWYoX3dyYXBDbGFzc2VzKVxuXHRcdFx0bWZwLndyYXAuYWRkQ2xhc3MoX3dyYXBDbGFzc2VzKTtcblxuXG5cdFx0Ly8gdGhpcyB0cmlnZ2VycyByZWNhbGN1bGF0aW9uIG9mIGxheW91dCwgc28gd2UgZ2V0IGl0IG9uY2UgdG8gbm90IHRvIHRyaWdnZXIgdHdpY2Vcblx0XHR2YXIgd2luZG93SGVpZ2h0ID0gbWZwLndIID0gX3dpbmRvdy5oZWlnaHQoKTtcblxuXHRcdFxuXHRcdHZhciB3aW5kb3dTdHlsZXMgPSB7fTtcblxuXHRcdGlmKCBtZnAuZml4ZWRDb250ZW50UG9zICkge1xuICAgICAgICAgICAgaWYobWZwLl9oYXNTY3JvbGxCYXIod2luZG93SGVpZ2h0KSl7XG4gICAgICAgICAgICAgICAgdmFyIHMgPSBtZnAuX2dldFNjcm9sbGJhclNpemUoKTtcbiAgICAgICAgICAgICAgICBpZihzKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvd1N0eWxlcy5tYXJnaW5SaWdodCA9IHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblx0XHRpZihtZnAuZml4ZWRDb250ZW50UG9zKSB7XG5cdFx0XHRpZighbWZwLmlzSUU3KSB7XG5cdFx0XHRcdHdpbmRvd1N0eWxlcy5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gaWU3IGRvdWJsZS1zY3JvbGwgYnVnXG5cdFx0XHRcdCQoJ2JvZHksIGh0bWwnKS5jc3MoJ292ZXJmbG93JywgJ2hpZGRlbicpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdFxuXHRcdFxuXHRcdHZhciBjbGFzc2VzVG9hZGQgPSBtZnAuc3QubWFpbkNsYXNzO1xuXHRcdGlmKG1mcC5pc0lFNykge1xuXHRcdFx0Y2xhc3Nlc1RvYWRkICs9ICcgbWZwLWllNyc7XG5cdFx0fVxuXHRcdGlmKGNsYXNzZXNUb2FkZCkge1xuXHRcdFx0bWZwLl9hZGRDbGFzc1RvTUZQKCBjbGFzc2VzVG9hZGQgKTtcblx0XHR9XG5cblx0XHQvLyBhZGQgY29udGVudFxuXHRcdG1mcC51cGRhdGVJdGVtSFRNTCgpO1xuXG5cdFx0X21mcFRyaWdnZXIoJ0J1aWxkQ29udHJvbHMnKTtcblxuXHRcdC8vIHJlbW92ZSBzY3JvbGxiYXIsIGFkZCBtYXJnaW4gZS50LmNcblx0XHQkKCdodG1sJykuY3NzKHdpbmRvd1N0eWxlcyk7XG5cdFx0XG5cdFx0Ly8gYWRkIGV2ZXJ5dGhpbmcgdG8gRE9NXG5cdFx0bWZwLmJnT3ZlcmxheS5hZGQobWZwLndyYXApLnByZXBlbmRUbyggbWZwLnN0LnByZXBlbmRUbyB8fCAkKGRvY3VtZW50LmJvZHkpICk7XG5cblx0XHQvLyBTYXZlIGxhc3QgZm9jdXNlZCBlbGVtZW50XG5cdFx0bWZwLl9sYXN0Rm9jdXNlZEVsID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblx0XHRcblx0XHQvLyBXYWl0IGZvciBuZXh0IGN5Y2xlIHRvIGFsbG93IENTUyB0cmFuc2l0aW9uXG5cdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFxuXHRcdFx0aWYobWZwLmNvbnRlbnQpIHtcblx0XHRcdFx0bWZwLl9hZGRDbGFzc1RvTUZQKFJFQURZX0NMQVNTKTtcblx0XHRcdFx0bWZwLl9zZXRGb2N1cygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gaWYgY29udGVudCBpcyBub3QgZGVmaW5lZCAobm90IGxvYWRlZCBlLnQuYykgd2UgYWRkIGNsYXNzIG9ubHkgZm9yIEJHXG5cdFx0XHRcdG1mcC5iZ092ZXJsYXkuYWRkQ2xhc3MoUkVBRFlfQ0xBU1MpO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyBUcmFwIHRoZSBmb2N1cyBpbiBwb3B1cFxuXHRcdFx0X2RvY3VtZW50Lm9uKCdmb2N1c2luJyArIEVWRU5UX05TLCBtZnAuX29uRm9jdXNJbik7XG5cblx0XHR9LCAxNik7XG5cblx0XHRtZnAuaXNPcGVuID0gdHJ1ZTtcblx0XHRtZnAudXBkYXRlU2l6ZSh3aW5kb3dIZWlnaHQpO1xuXHRcdF9tZnBUcmlnZ2VyKE9QRU5fRVZFTlQpO1xuXG5cdFx0cmV0dXJuIGRhdGE7XG5cdH0sXG5cblx0LyoqXG5cdCAqIENsb3NlcyB0aGUgcG9wdXBcblx0ICovXG5cdGNsb3NlOiBmdW5jdGlvbigpIHtcblx0XHRpZighbWZwLmlzT3BlbikgcmV0dXJuO1xuXHRcdF9tZnBUcmlnZ2VyKEJFRk9SRV9DTE9TRV9FVkVOVCk7XG5cblx0XHRtZnAuaXNPcGVuID0gZmFsc2U7XG5cdFx0Ly8gZm9yIENTUzMgYW5pbWF0aW9uXG5cdFx0aWYobWZwLnN0LnJlbW92YWxEZWxheSAmJiAhbWZwLmlzTG93SUUgJiYgbWZwLnN1cHBvcnRzVHJhbnNpdGlvbiApICB7XG5cdFx0XHRtZnAuX2FkZENsYXNzVG9NRlAoUkVNT1ZJTkdfQ0xBU1MpO1xuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0bWZwLl9jbG9zZSgpO1xuXHRcdFx0fSwgbWZwLnN0LnJlbW92YWxEZWxheSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG1mcC5fY2xvc2UoKTtcblx0XHR9XG5cdH0sXG5cblx0LyoqXG5cdCAqIEhlbHBlciBmb3IgY2xvc2UoKSBmdW5jdGlvblxuXHQgKi9cblx0X2Nsb3NlOiBmdW5jdGlvbigpIHtcblx0XHRfbWZwVHJpZ2dlcihDTE9TRV9FVkVOVCk7XG5cblx0XHR2YXIgY2xhc3Nlc1RvUmVtb3ZlID0gUkVNT1ZJTkdfQ0xBU1MgKyAnICcgKyBSRUFEWV9DTEFTUyArICcgJztcblxuXHRcdG1mcC5iZ092ZXJsYXkuZGV0YWNoKCk7XG5cdFx0bWZwLndyYXAuZGV0YWNoKCk7XG5cdFx0bWZwLmNvbnRhaW5lci5lbXB0eSgpO1xuXG5cdFx0aWYobWZwLnN0Lm1haW5DbGFzcykge1xuXHRcdFx0Y2xhc3Nlc1RvUmVtb3ZlICs9IG1mcC5zdC5tYWluQ2xhc3MgKyAnICc7XG5cdFx0fVxuXG5cdFx0bWZwLl9yZW1vdmVDbGFzc0Zyb21NRlAoY2xhc3Nlc1RvUmVtb3ZlKTtcblxuXHRcdGlmKG1mcC5maXhlZENvbnRlbnRQb3MpIHtcblx0XHRcdHZhciB3aW5kb3dTdHlsZXMgPSB7bWFyZ2luUmlnaHQ6ICcnfTtcblx0XHRcdGlmKG1mcC5pc0lFNykge1xuXHRcdFx0XHQkKCdib2R5LCBodG1sJykuY3NzKCdvdmVyZmxvdycsICcnKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHdpbmRvd1N0eWxlcy5vdmVyZmxvdyA9ICcnO1xuXHRcdFx0fVxuXHRcdFx0JCgnaHRtbCcpLmNzcyh3aW5kb3dTdHlsZXMpO1xuXHRcdH1cblx0XHRcblx0XHRfZG9jdW1lbnQub2ZmKCdrZXl1cCcgKyBFVkVOVF9OUyArICcgZm9jdXNpbicgKyBFVkVOVF9OUyk7XG5cdFx0bWZwLmV2Lm9mZihFVkVOVF9OUyk7XG5cblx0XHQvLyBjbGVhbiB1cCBET00gZWxlbWVudHMgdGhhdCBhcmVuJ3QgcmVtb3ZlZFxuXHRcdG1mcC53cmFwLmF0dHIoJ2NsYXNzJywgJ21mcC13cmFwJykucmVtb3ZlQXR0cignc3R5bGUnKTtcblx0XHRtZnAuYmdPdmVybGF5LmF0dHIoJ2NsYXNzJywgJ21mcC1iZycpO1xuXHRcdG1mcC5jb250YWluZXIuYXR0cignY2xhc3MnLCAnbWZwLWNvbnRhaW5lcicpO1xuXG5cdFx0Ly8gcmVtb3ZlIGNsb3NlIGJ1dHRvbiBmcm9tIHRhcmdldCBlbGVtZW50XG5cdFx0aWYobWZwLnN0LnNob3dDbG9zZUJ0biAmJlxuXHRcdCghbWZwLnN0LmNsb3NlQnRuSW5zaWRlIHx8IG1mcC5jdXJyVGVtcGxhdGVbbWZwLmN1cnJJdGVtLnR5cGVdID09PSB0cnVlKSkge1xuXHRcdFx0aWYobWZwLmN1cnJUZW1wbGF0ZS5jbG9zZUJ0bilcblx0XHRcdFx0bWZwLmN1cnJUZW1wbGF0ZS5jbG9zZUJ0bi5kZXRhY2goKTtcblx0XHR9XG5cblxuXHRcdGlmKG1mcC5zdC5hdXRvRm9jdXNMYXN0ICYmIG1mcC5fbGFzdEZvY3VzZWRFbCkge1xuXHRcdFx0JChtZnAuX2xhc3RGb2N1c2VkRWwpLmZvY3VzKCk7IC8vIHB1dCB0YWIgZm9jdXMgYmFja1xuXHRcdH1cblx0XHRtZnAuY3Vyckl0ZW0gPSBudWxsO1x0XG5cdFx0bWZwLmNvbnRlbnQgPSBudWxsO1xuXHRcdG1mcC5jdXJyVGVtcGxhdGUgPSBudWxsO1xuXHRcdG1mcC5wcmV2SGVpZ2h0ID0gMDtcblxuXHRcdF9tZnBUcmlnZ2VyKEFGVEVSX0NMT1NFX0VWRU5UKTtcblx0fSxcblx0XG5cdHVwZGF0ZVNpemU6IGZ1bmN0aW9uKHdpbkhlaWdodCkge1xuXG5cdFx0aWYobWZwLmlzSU9TKSB7XG5cdFx0XHQvLyBmaXhlcyBpT1MgbmF2IGJhcnMgaHR0cHM6Ly9naXRodWIuY29tL2RpbXNlbWVub3YvTWFnbmlmaWMtUG9wdXAvaXNzdWVzLzJcblx0XHRcdHZhciB6b29tTGV2ZWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggLyB3aW5kb3cuaW5uZXJXaWR0aDtcblx0XHRcdHZhciBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgKiB6b29tTGV2ZWw7XG5cdFx0XHRtZnAud3JhcC5jc3MoJ2hlaWdodCcsIGhlaWdodCk7XG5cdFx0XHRtZnAud0ggPSBoZWlnaHQ7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG1mcC53SCA9IHdpbkhlaWdodCB8fCBfd2luZG93LmhlaWdodCgpO1xuXHRcdH1cblx0XHQvLyBGaXhlcyAjODQ6IHBvcHVwIGluY29ycmVjdGx5IHBvc2l0aW9uZWQgd2l0aCBwb3NpdGlvbjpyZWxhdGl2ZSBvbiBib2R5XG5cdFx0aWYoIW1mcC5maXhlZENvbnRlbnRQb3MpIHtcblx0XHRcdG1mcC53cmFwLmNzcygnaGVpZ2h0JywgbWZwLndIKTtcblx0XHR9XG5cblx0XHRfbWZwVHJpZ2dlcignUmVzaXplJyk7XG5cblx0fSxcblxuXHQvKipcblx0ICogU2V0IGNvbnRlbnQgb2YgcG9wdXAgYmFzZWQgb24gY3VycmVudCBpbmRleFxuXHQgKi9cblx0dXBkYXRlSXRlbUhUTUw6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpdGVtID0gbWZwLml0ZW1zW21mcC5pbmRleF07XG5cblx0XHQvLyBEZXRhY2ggYW5kIHBlcmZvcm0gbW9kaWZpY2F0aW9uc1xuXHRcdG1mcC5jb250ZW50Q29udGFpbmVyLmRldGFjaCgpO1xuXG5cdFx0aWYobWZwLmNvbnRlbnQpXG5cdFx0XHRtZnAuY29udGVudC5kZXRhY2goKTtcblxuXHRcdGlmKCFpdGVtLnBhcnNlZCkge1xuXHRcdFx0aXRlbSA9IG1mcC5wYXJzZUVsKCBtZnAuaW5kZXggKTtcblx0XHR9XG5cblx0XHR2YXIgdHlwZSA9IGl0ZW0udHlwZTtcblxuXHRcdF9tZnBUcmlnZ2VyKCdCZWZvcmVDaGFuZ2UnLCBbbWZwLmN1cnJJdGVtID8gbWZwLmN1cnJJdGVtLnR5cGUgOiAnJywgdHlwZV0pO1xuXHRcdC8vIEJlZm9yZUNoYW5nZSBldmVudCB3b3JrcyBsaWtlIHNvOlxuXHRcdC8vIF9tZnBPbignQmVmb3JlQ2hhbmdlJywgZnVuY3Rpb24oZSwgcHJldlR5cGUsIG5ld1R5cGUpIHsgfSk7XG5cblx0XHRtZnAuY3Vyckl0ZW0gPSBpdGVtO1xuXG5cdFx0aWYoIW1mcC5jdXJyVGVtcGxhdGVbdHlwZV0pIHtcblx0XHRcdHZhciBtYXJrdXAgPSBtZnAuc3RbdHlwZV0gPyBtZnAuc3RbdHlwZV0ubWFya3VwIDogZmFsc2U7XG5cblx0XHRcdC8vIGFsbG93cyB0byBtb2RpZnkgbWFya3VwXG5cdFx0XHRfbWZwVHJpZ2dlcignRmlyc3RNYXJrdXBQYXJzZScsIG1hcmt1cCk7XG5cblx0XHRcdGlmKG1hcmt1cCkge1xuXHRcdFx0XHRtZnAuY3VyclRlbXBsYXRlW3R5cGVdID0gJChtYXJrdXApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gaWYgdGhlcmUgaXMgbm8gbWFya3VwIGZvdW5kIHdlIGp1c3QgZGVmaW5lIHRoYXQgdGVtcGxhdGUgaXMgcGFyc2VkXG5cdFx0XHRcdG1mcC5jdXJyVGVtcGxhdGVbdHlwZV0gPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmKF9wcmV2Q29udGVudFR5cGUgJiYgX3ByZXZDb250ZW50VHlwZSAhPT0gaXRlbS50eXBlKSB7XG5cdFx0XHRtZnAuY29udGFpbmVyLnJlbW92ZUNsYXNzKCdtZnAtJytfcHJldkNvbnRlbnRUeXBlKyctaG9sZGVyJyk7XG5cdFx0fVxuXG5cdFx0dmFyIG5ld0NvbnRlbnQgPSBtZnBbJ2dldCcgKyB0eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdHlwZS5zbGljZSgxKV0oaXRlbSwgbWZwLmN1cnJUZW1wbGF0ZVt0eXBlXSk7XG5cdFx0bWZwLmFwcGVuZENvbnRlbnQobmV3Q29udGVudCwgdHlwZSk7XG5cblx0XHRpdGVtLnByZWxvYWRlZCA9IHRydWU7XG5cblx0XHRfbWZwVHJpZ2dlcihDSEFOR0VfRVZFTlQsIGl0ZW0pO1xuXHRcdF9wcmV2Q29udGVudFR5cGUgPSBpdGVtLnR5cGU7XG5cblx0XHQvLyBBcHBlbmQgY29udGFpbmVyIGJhY2sgYWZ0ZXIgaXRzIGNvbnRlbnQgY2hhbmdlZFxuXHRcdG1mcC5jb250YWluZXIucHJlcGVuZChtZnAuY29udGVudENvbnRhaW5lcik7XG5cblx0XHRfbWZwVHJpZ2dlcignQWZ0ZXJDaGFuZ2UnKTtcblx0fSxcblxuXG5cdC8qKlxuXHQgKiBTZXQgSFRNTCBjb250ZW50IG9mIHBvcHVwXG5cdCAqL1xuXHRhcHBlbmRDb250ZW50OiBmdW5jdGlvbihuZXdDb250ZW50LCB0eXBlKSB7XG5cdFx0bWZwLmNvbnRlbnQgPSBuZXdDb250ZW50O1xuXG5cdFx0aWYobmV3Q29udGVudCkge1xuXHRcdFx0aWYobWZwLnN0LnNob3dDbG9zZUJ0biAmJiBtZnAuc3QuY2xvc2VCdG5JbnNpZGUgJiZcblx0XHRcdFx0bWZwLmN1cnJUZW1wbGF0ZVt0eXBlXSA9PT0gdHJ1ZSkge1xuXHRcdFx0XHQvLyBpZiB0aGVyZSBpcyBubyBtYXJrdXAsIHdlIGp1c3QgYXBwZW5kIGNsb3NlIGJ1dHRvbiBlbGVtZW50IGluc2lkZVxuXHRcdFx0XHRpZighbWZwLmNvbnRlbnQuZmluZCgnLm1mcC1jbG9zZScpLmxlbmd0aCkge1xuXHRcdFx0XHRcdG1mcC5jb250ZW50LmFwcGVuZChfZ2V0Q2xvc2VCdG4oKSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG1mcC5jb250ZW50ID0gbmV3Q29udGVudDtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0bWZwLmNvbnRlbnQgPSAnJztcblx0XHR9XG5cblx0XHRfbWZwVHJpZ2dlcihCRUZPUkVfQVBQRU5EX0VWRU5UKTtcblx0XHRtZnAuY29udGFpbmVyLmFkZENsYXNzKCdtZnAtJyt0eXBlKyctaG9sZGVyJyk7XG5cblx0XHRtZnAuY29udGVudENvbnRhaW5lci5hcHBlbmQobWZwLmNvbnRlbnQpO1xuXHR9LFxuXG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgTWFnbmlmaWMgUG9wdXAgZGF0YSBvYmplY3QgYmFzZWQgb24gZ2l2ZW4gZGF0YVxuXHQgKiBAcGFyYW0gIHtpbnR9IGluZGV4IEluZGV4IG9mIGl0ZW0gdG8gcGFyc2Vcblx0ICovXG5cdHBhcnNlRWw6IGZ1bmN0aW9uKGluZGV4KSB7XG5cdFx0dmFyIGl0ZW0gPSBtZnAuaXRlbXNbaW5kZXhdLFxuXHRcdFx0dHlwZTtcblxuXHRcdGlmKGl0ZW0udGFnTmFtZSkge1xuXHRcdFx0aXRlbSA9IHsgZWw6ICQoaXRlbSkgfTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dHlwZSA9IGl0ZW0udHlwZTtcblx0XHRcdGl0ZW0gPSB7IGRhdGE6IGl0ZW0sIHNyYzogaXRlbS5zcmMgfTtcblx0XHR9XG5cblx0XHRpZihpdGVtLmVsKSB7XG5cdFx0XHR2YXIgdHlwZXMgPSBtZnAudHlwZXM7XG5cblx0XHRcdC8vIGNoZWNrIGZvciAnbWZwLVRZUEUnIGNsYXNzXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdHlwZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYoIGl0ZW0uZWwuaGFzQ2xhc3MoJ21mcC0nK3R5cGVzW2ldKSApIHtcblx0XHRcdFx0XHR0eXBlID0gdHlwZXNbaV07XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aXRlbS5zcmMgPSBpdGVtLmVsLmF0dHIoJ2RhdGEtbWZwLXNyYycpO1xuXHRcdFx0aWYoIWl0ZW0uc3JjKSB7XG5cdFx0XHRcdGl0ZW0uc3JjID0gaXRlbS5lbC5hdHRyKCdocmVmJyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aXRlbS50eXBlID0gdHlwZSB8fCBtZnAuc3QudHlwZSB8fCAnaW5saW5lJztcblx0XHRpdGVtLmluZGV4ID0gaW5kZXg7XG5cdFx0aXRlbS5wYXJzZWQgPSB0cnVlO1xuXHRcdG1mcC5pdGVtc1tpbmRleF0gPSBpdGVtO1xuXHRcdF9tZnBUcmlnZ2VyKCdFbGVtZW50UGFyc2UnLCBpdGVtKTtcblxuXHRcdHJldHVybiBtZnAuaXRlbXNbaW5kZXhdO1xuXHR9LFxuXG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemVzIHNpbmdsZSBwb3B1cCBvciBhIGdyb3VwIG9mIHBvcHVwc1xuXHQgKi9cblx0YWRkR3JvdXA6IGZ1bmN0aW9uKGVsLCBvcHRpb25zKSB7XG5cdFx0dmFyIGVIYW5kbGVyID0gZnVuY3Rpb24oZSkge1xuXHRcdFx0ZS5tZnBFbCA9IHRoaXM7XG5cdFx0XHRtZnAuX29wZW5DbGljayhlLCBlbCwgb3B0aW9ucyk7XG5cdFx0fTtcblxuXHRcdGlmKCFvcHRpb25zKSB7XG5cdFx0XHRvcHRpb25zID0ge307XG5cdFx0fVxuXG5cdFx0dmFyIGVOYW1lID0gJ2NsaWNrLm1hZ25pZmljUG9wdXAnO1xuXHRcdG9wdGlvbnMubWFpbkVsID0gZWw7XG5cblx0XHRpZihvcHRpb25zLml0ZW1zKSB7XG5cdFx0XHRvcHRpb25zLmlzT2JqID0gdHJ1ZTtcblx0XHRcdGVsLm9mZihlTmFtZSkub24oZU5hbWUsIGVIYW5kbGVyKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0b3B0aW9ucy5pc09iaiA9IGZhbHNlO1xuXHRcdFx0aWYob3B0aW9ucy5kZWxlZ2F0ZSkge1xuXHRcdFx0XHRlbC5vZmYoZU5hbWUpLm9uKGVOYW1lLCBvcHRpb25zLmRlbGVnYXRlICwgZUhhbmRsZXIpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3B0aW9ucy5pdGVtcyA9IGVsO1xuXHRcdFx0XHRlbC5vZmYoZU5hbWUpLm9uKGVOYW1lLCBlSGFuZGxlcik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRfb3BlbkNsaWNrOiBmdW5jdGlvbihlLCBlbCwgb3B0aW9ucykge1xuXHRcdHZhciBtaWRDbGljayA9IG9wdGlvbnMubWlkQ2xpY2sgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWlkQ2xpY2sgOiAkLm1hZ25pZmljUG9wdXAuZGVmYXVsdHMubWlkQ2xpY2s7XG5cblxuXHRcdGlmKCFtaWRDbGljayAmJiAoIGUud2hpY2ggPT09IDIgfHwgZS5jdHJsS2V5IHx8IGUubWV0YUtleSB8fCBlLmFsdEtleSB8fCBlLnNoaWZ0S2V5ICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIGRpc2FibGVPbiA9IG9wdGlvbnMuZGlzYWJsZU9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmRpc2FibGVPbiA6ICQubWFnbmlmaWNQb3B1cC5kZWZhdWx0cy5kaXNhYmxlT247XG5cblx0XHRpZihkaXNhYmxlT24pIHtcblx0XHRcdGlmKCQuaXNGdW5jdGlvbihkaXNhYmxlT24pKSB7XG5cdFx0XHRcdGlmKCAhZGlzYWJsZU9uLmNhbGwobWZwKSApIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHsgLy8gZWxzZSBpdCdzIG51bWJlclxuXHRcdFx0XHRpZiggX3dpbmRvdy53aWR0aCgpIDwgZGlzYWJsZU9uICkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYoZS50eXBlKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdC8vIFRoaXMgd2lsbCBwcmV2ZW50IHBvcHVwIGZyb20gY2xvc2luZyBpZiBlbGVtZW50IGlzIGluc2lkZSBhbmQgcG9wdXAgaXMgYWxyZWFkeSBvcGVuZWRcblx0XHRcdGlmKG1mcC5pc09wZW4pIHtcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRvcHRpb25zLmVsID0gJChlLm1mcEVsKTtcblx0XHRpZihvcHRpb25zLmRlbGVnYXRlKSB7XG5cdFx0XHRvcHRpb25zLml0ZW1zID0gZWwuZmluZChvcHRpb25zLmRlbGVnYXRlKTtcblx0XHR9XG5cdFx0bWZwLm9wZW4ob3B0aW9ucyk7XG5cdH0sXG5cblxuXHQvKipcblx0ICogVXBkYXRlcyB0ZXh0IG9uIHByZWxvYWRlclxuXHQgKi9cblx0dXBkYXRlU3RhdHVzOiBmdW5jdGlvbihzdGF0dXMsIHRleHQpIHtcblxuXHRcdGlmKG1mcC5wcmVsb2FkZXIpIHtcblx0XHRcdGlmKF9wcmV2U3RhdHVzICE9PSBzdGF0dXMpIHtcblx0XHRcdFx0bWZwLmNvbnRhaW5lci5yZW1vdmVDbGFzcygnbWZwLXMtJytfcHJldlN0YXR1cyk7XG5cdFx0XHR9XG5cblx0XHRcdGlmKCF0ZXh0ICYmIHN0YXR1cyA9PT0gJ2xvYWRpbmcnKSB7XG5cdFx0XHRcdHRleHQgPSBtZnAuc3QudExvYWRpbmc7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBkYXRhID0ge1xuXHRcdFx0XHRzdGF0dXM6IHN0YXR1cyxcblx0XHRcdFx0dGV4dDogdGV4dFxuXHRcdFx0fTtcblx0XHRcdC8vIGFsbG93cyB0byBtb2RpZnkgc3RhdHVzXG5cdFx0XHRfbWZwVHJpZ2dlcignVXBkYXRlU3RhdHVzJywgZGF0YSk7XG5cblx0XHRcdHN0YXR1cyA9IGRhdGEuc3RhdHVzO1xuXHRcdFx0dGV4dCA9IGRhdGEudGV4dDtcblxuXHRcdFx0bWZwLnByZWxvYWRlci5odG1sKHRleHQpO1xuXG5cdFx0XHRtZnAucHJlbG9hZGVyLmZpbmQoJ2EnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0bWZwLmNvbnRhaW5lci5hZGRDbGFzcygnbWZwLXMtJytzdGF0dXMpO1xuXHRcdFx0X3ByZXZTdGF0dXMgPSBzdGF0dXM7XG5cdFx0fVxuXHR9LFxuXG5cblx0Lypcblx0XHRcIlByaXZhdGVcIiBoZWxwZXJzIHRoYXQgYXJlbid0IHByaXZhdGUgYXQgYWxsXG5cdCAqL1xuXHQvLyBDaGVjayB0byBjbG9zZSBwb3B1cCBvciBub3Rcblx0Ly8gXCJ0YXJnZXRcIiBpcyBhbiBlbGVtZW50IHRoYXQgd2FzIGNsaWNrZWRcblx0X2NoZWNrSWZDbG9zZTogZnVuY3Rpb24odGFyZ2V0KSB7XG5cblx0XHRpZigkKHRhcmdldCkuaGFzQ2xhc3MoUFJFVkVOVF9DTE9TRV9DTEFTUykpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgY2xvc2VPbkNvbnRlbnQgPSBtZnAuc3QuY2xvc2VPbkNvbnRlbnRDbGljaztcblx0XHR2YXIgY2xvc2VPbkJnID0gbWZwLnN0LmNsb3NlT25CZ0NsaWNrO1xuXG5cdFx0aWYoY2xvc2VPbkNvbnRlbnQgJiYgY2xvc2VPbkJnKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBXZSBjbG9zZSB0aGUgcG9wdXAgaWYgY2xpY2sgaXMgb24gY2xvc2UgYnV0dG9uIG9yIG9uIHByZWxvYWRlci4gT3IgaWYgdGhlcmUgaXMgbm8gY29udGVudC5cblx0XHRcdGlmKCFtZnAuY29udGVudCB8fCAkKHRhcmdldCkuaGFzQ2xhc3MoJ21mcC1jbG9zZScpIHx8IChtZnAucHJlbG9hZGVyICYmIHRhcmdldCA9PT0gbWZwLnByZWxvYWRlclswXSkgKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBpZiBjbGljayBpcyBvdXRzaWRlIHRoZSBjb250ZW50XG5cdFx0XHRpZiggICh0YXJnZXQgIT09IG1mcC5jb250ZW50WzBdICYmICEkLmNvbnRhaW5zKG1mcC5jb250ZW50WzBdLCB0YXJnZXQpKSAgKSB7XG5cdFx0XHRcdGlmKGNsb3NlT25CZykge1xuXHRcdFx0XHRcdC8vIGxhc3QgY2hlY2ssIGlmIHRoZSBjbGlja2VkIGVsZW1lbnQgaXMgaW4gRE9NLCAoaW4gY2FzZSBpdCdzIHJlbW92ZWQgb25jbGljaylcblx0XHRcdFx0XHRpZiggJC5jb250YWlucyhkb2N1bWVudCwgdGFyZ2V0KSApIHtcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmKGNsb3NlT25Db250ZW50KSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fSxcblx0X2FkZENsYXNzVG9NRlA6IGZ1bmN0aW9uKGNOYW1lKSB7XG5cdFx0bWZwLmJnT3ZlcmxheS5hZGRDbGFzcyhjTmFtZSk7XG5cdFx0bWZwLndyYXAuYWRkQ2xhc3MoY05hbWUpO1xuXHR9LFxuXHRfcmVtb3ZlQ2xhc3NGcm9tTUZQOiBmdW5jdGlvbihjTmFtZSkge1xuXHRcdHRoaXMuYmdPdmVybGF5LnJlbW92ZUNsYXNzKGNOYW1lKTtcblx0XHRtZnAud3JhcC5yZW1vdmVDbGFzcyhjTmFtZSk7XG5cdH0sXG5cdF9oYXNTY3JvbGxCYXI6IGZ1bmN0aW9uKHdpbkhlaWdodCkge1xuXHRcdHJldHVybiAoICAobWZwLmlzSUU3ID8gX2RvY3VtZW50LmhlaWdodCgpIDogZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQpID4gKHdpbkhlaWdodCB8fCBfd2luZG93LmhlaWdodCgpKSApO1xuXHR9LFxuXHRfc2V0Rm9jdXM6IGZ1bmN0aW9uKCkge1xuXHRcdChtZnAuc3QuZm9jdXMgPyBtZnAuY29udGVudC5maW5kKG1mcC5zdC5mb2N1cykuZXEoMCkgOiBtZnAud3JhcCkuZm9jdXMoKTtcblx0fSxcblx0X29uRm9jdXNJbjogZnVuY3Rpb24oZSkge1xuXHRcdGlmKCBlLnRhcmdldCAhPT0gbWZwLndyYXBbMF0gJiYgISQuY29udGFpbnMobWZwLndyYXBbMF0sIGUudGFyZ2V0KSApIHtcblx0XHRcdG1mcC5fc2V0Rm9jdXMoKTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH0sXG5cdF9wYXJzZU1hcmt1cDogZnVuY3Rpb24odGVtcGxhdGUsIHZhbHVlcywgaXRlbSkge1xuXHRcdHZhciBhcnI7XG5cdFx0aWYoaXRlbS5kYXRhKSB7XG5cdFx0XHR2YWx1ZXMgPSAkLmV4dGVuZChpdGVtLmRhdGEsIHZhbHVlcyk7XG5cdFx0fVxuXHRcdF9tZnBUcmlnZ2VyKE1BUktVUF9QQVJTRV9FVkVOVCwgW3RlbXBsYXRlLCB2YWx1ZXMsIGl0ZW1dICk7XG5cblx0XHQkLmVhY2godmFsdWVzLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG5cdFx0XHRpZih2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBmYWxzZSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdGFyciA9IGtleS5zcGxpdCgnXycpO1xuXHRcdFx0aWYoYXJyLmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0dmFyIGVsID0gdGVtcGxhdGUuZmluZChFVkVOVF9OUyArICctJythcnJbMF0pO1xuXG5cdFx0XHRcdGlmKGVsLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHR2YXIgYXR0ciA9IGFyclsxXTtcblx0XHRcdFx0XHRpZihhdHRyID09PSAncmVwbGFjZVdpdGgnKSB7XG5cdFx0XHRcdFx0XHRpZihlbFswXSAhPT0gdmFsdWVbMF0pIHtcblx0XHRcdFx0XHRcdFx0ZWwucmVwbGFjZVdpdGgodmFsdWUpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSBpZihhdHRyID09PSAnaW1nJykge1xuXHRcdFx0XHRcdFx0aWYoZWwuaXMoJ2ltZycpKSB7XG5cdFx0XHRcdFx0XHRcdGVsLmF0dHIoJ3NyYycsIHZhbHVlKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGVsLnJlcGxhY2VXaXRoKCAkKCc8aW1nPicpLmF0dHIoJ3NyYycsIHZhbHVlKS5hdHRyKCdjbGFzcycsIGVsLmF0dHIoJ2NsYXNzJykpICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGVsLmF0dHIoYXJyWzFdLCB2YWx1ZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRlbXBsYXRlLmZpbmQoRVZFTlRfTlMgKyAnLScra2V5KS5odG1sKHZhbHVlKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSxcblxuXHRfZ2V0U2Nyb2xsYmFyU2l6ZTogZnVuY3Rpb24oKSB7XG5cdFx0Ly8gdGh4IERhdmlkXG5cdFx0aWYobWZwLnNjcm9sbGJhclNpemUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRzY3JvbGxEaXYuc3R5bGUuY3NzVGV4dCA9ICd3aWR0aDogOTlweDsgaGVpZ2h0OiA5OXB4OyBvdmVyZmxvdzogc2Nyb2xsOyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogLTk5OTlweDsnO1xuXHRcdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JvbGxEaXYpO1xuXHRcdFx0bWZwLnNjcm9sbGJhclNpemUgPSBzY3JvbGxEaXYub2Zmc2V0V2lkdGggLSBzY3JvbGxEaXYuY2xpZW50V2lkdGg7XG5cdFx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcm9sbERpdik7XG5cdFx0fVxuXHRcdHJldHVybiBtZnAuc2Nyb2xsYmFyU2l6ZTtcblx0fVxuXG59OyAvKiBNYWduaWZpY1BvcHVwIGNvcmUgcHJvdG90eXBlIGVuZCAqL1xuXG5cblxuXG4vKipcbiAqIFB1YmxpYyBzdGF0aWMgZnVuY3Rpb25zXG4gKi9cbiQubWFnbmlmaWNQb3B1cCA9IHtcblx0aW5zdGFuY2U6IG51bGwsXG5cdHByb3RvOiBNYWduaWZpY1BvcHVwLnByb3RvdHlwZSxcblx0bW9kdWxlczogW10sXG5cblx0b3BlbjogZnVuY3Rpb24ob3B0aW9ucywgaW5kZXgpIHtcblx0XHRfY2hlY2tJbnN0YW5jZSgpO1xuXG5cdFx0aWYoIW9wdGlvbnMpIHtcblx0XHRcdG9wdGlvbnMgPSB7fTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0b3B0aW9ucyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRvcHRpb25zLmlzT2JqID0gdHJ1ZTtcblx0XHRvcHRpb25zLmluZGV4ID0gaW5kZXggfHwgMDtcblx0XHRyZXR1cm4gdGhpcy5pbnN0YW5jZS5vcGVuKG9wdGlvbnMpO1xuXHR9LFxuXG5cdGNsb3NlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gJC5tYWduaWZpY1BvcHVwLmluc3RhbmNlICYmICQubWFnbmlmaWNQb3B1cC5pbnN0YW5jZS5jbG9zZSgpO1xuXHR9LFxuXG5cdHJlZ2lzdGVyTW9kdWxlOiBmdW5jdGlvbihuYW1lLCBtb2R1bGUpIHtcblx0XHRpZihtb2R1bGUub3B0aW9ucykge1xuXHRcdFx0JC5tYWduaWZpY1BvcHVwLmRlZmF1bHRzW25hbWVdID0gbW9kdWxlLm9wdGlvbnM7XG5cdFx0fVxuXHRcdCQuZXh0ZW5kKHRoaXMucHJvdG8sIG1vZHVsZS5wcm90byk7XG5cdFx0dGhpcy5tb2R1bGVzLnB1c2gobmFtZSk7XG5cdH0sXG5cblx0ZGVmYXVsdHM6IHtcblxuXHRcdC8vIEluZm8gYWJvdXQgb3B0aW9ucyBpcyBpbiBkb2NzOlxuXHRcdC8vIGh0dHA6Ly9kaW1zZW1lbm92LmNvbS9wbHVnaW5zL21hZ25pZmljLXBvcHVwL2RvY3VtZW50YXRpb24uaHRtbCNvcHRpb25zXG5cblx0XHRkaXNhYmxlT246IDAsXG5cblx0XHRrZXk6IG51bGwsXG5cblx0XHRtaWRDbGljazogZmFsc2UsXG5cblx0XHRtYWluQ2xhc3M6ICcnLFxuXG5cdFx0cHJlbG9hZGVyOiB0cnVlLFxuXG5cdFx0Zm9jdXM6ICcnLCAvLyBDU1Mgc2VsZWN0b3Igb2YgaW5wdXQgdG8gZm9jdXMgYWZ0ZXIgcG9wdXAgaXMgb3BlbmVkXG5cblx0XHRjbG9zZU9uQ29udGVudENsaWNrOiBmYWxzZSxcblxuXHRcdGNsb3NlT25CZ0NsaWNrOiB0cnVlLFxuXG5cdFx0Y2xvc2VCdG5JbnNpZGU6IHRydWUsXG5cblx0XHRzaG93Q2xvc2VCdG46IHRydWUsXG5cblx0XHRlbmFibGVFc2NhcGVLZXk6IHRydWUsXG5cblx0XHRtb2RhbDogZmFsc2UsXG5cblx0XHRhbGlnblRvcDogZmFsc2UsXG5cblx0XHRyZW1vdmFsRGVsYXk6IDAsXG5cblx0XHRwcmVwZW5kVG86IG51bGwsXG5cblx0XHRmaXhlZENvbnRlbnRQb3M6ICdhdXRvJyxcblxuXHRcdGZpeGVkQmdQb3M6ICdhdXRvJyxcblxuXHRcdG92ZXJmbG93WTogJ2F1dG8nLFxuXG5cdFx0Y2xvc2VNYXJrdXA6ICc8YnV0dG9uIHRpdGxlPVwiJXRpdGxlJVwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cIm1mcC1jbG9zZVwiPiYjMjE1OzwvYnV0dG9uPicsXG5cblx0XHR0Q2xvc2U6ICdDbG9zZSAoRXNjKScsXG5cblx0XHR0TG9hZGluZzogJ0xvYWRpbmcuLi4nLFxuXG5cdFx0YXV0b0ZvY3VzTGFzdDogdHJ1ZVxuXG5cdH1cbn07XG5cblxuXG4kLmZuLm1hZ25pZmljUG9wdXAgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdF9jaGVja0luc3RhbmNlKCk7XG5cblx0dmFyIGpxRWwgPSAkKHRoaXMpO1xuXG5cdC8vIFdlIGNhbGwgc29tZSBBUEkgbWV0aG9kIG9mIGZpcnN0IHBhcmFtIGlzIGEgc3RyaW5nXG5cdGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIiApIHtcblxuXHRcdGlmKG9wdGlvbnMgPT09ICdvcGVuJykge1xuXHRcdFx0dmFyIGl0ZW1zLFxuXHRcdFx0XHRpdGVtT3B0cyA9IF9pc0pRID8ganFFbC5kYXRhKCdtYWduaWZpY1BvcHVwJykgOiBqcUVsWzBdLm1hZ25pZmljUG9wdXAsXG5cdFx0XHRcdGluZGV4ID0gcGFyc2VJbnQoYXJndW1lbnRzWzFdLCAxMCkgfHwgMDtcblxuXHRcdFx0aWYoaXRlbU9wdHMuaXRlbXMpIHtcblx0XHRcdFx0aXRlbXMgPSBpdGVtT3B0cy5pdGVtc1tpbmRleF07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpdGVtcyA9IGpxRWw7XG5cdFx0XHRcdGlmKGl0ZW1PcHRzLmRlbGVnYXRlKSB7XG5cdFx0XHRcdFx0aXRlbXMgPSBpdGVtcy5maW5kKGl0ZW1PcHRzLmRlbGVnYXRlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpdGVtcyA9IGl0ZW1zLmVxKCBpbmRleCApO1xuXHRcdFx0fVxuXHRcdFx0bWZwLl9vcGVuQ2xpY2soe21mcEVsOml0ZW1zfSwganFFbCwgaXRlbU9wdHMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZihtZnAuaXNPcGVuKVxuXHRcdFx0XHRtZnBbb3B0aW9uc10uYXBwbHkobWZwLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcblx0XHR9XG5cblx0fSBlbHNlIHtcblx0XHQvLyBjbG9uZSBvcHRpb25zIG9ialxuXHRcdG9wdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgb3B0aW9ucyk7XG5cblx0XHQvKlxuXHRcdCAqIEFzIFplcHRvIGRvZXNuJ3Qgc3VwcG9ydCAuZGF0YSgpIG1ldGhvZCBmb3Igb2JqZWN0c1xuXHRcdCAqIGFuZCBpdCB3b3JrcyBvbmx5IGluIG5vcm1hbCBicm93c2Vyc1xuXHRcdCAqIHdlIGFzc2lnbiBcIm9wdGlvbnNcIiBvYmplY3QgZGlyZWN0bHkgdG8gdGhlIERPTSBlbGVtZW50LiBGVFchXG5cdFx0ICovXG5cdFx0aWYoX2lzSlEpIHtcblx0XHRcdGpxRWwuZGF0YSgnbWFnbmlmaWNQb3B1cCcsIG9wdGlvbnMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRqcUVsWzBdLm1hZ25pZmljUG9wdXAgPSBvcHRpb25zO1xuXHRcdH1cblxuXHRcdG1mcC5hZGRHcm91cChqcUVsLCBvcHRpb25zKTtcblxuXHR9XG5cdHJldHVybiBqcUVsO1xufTtcblxuLyo+PmNvcmUqL1xuXG4vKj4+aW5saW5lKi9cblxudmFyIElOTElORV9OUyA9ICdpbmxpbmUnLFxuXHRfaGlkZGVuQ2xhc3MsXG5cdF9pbmxpbmVQbGFjZWhvbGRlcixcblx0X2xhc3RJbmxpbmVFbGVtZW50LFxuXHRfcHV0SW5saW5lRWxlbWVudHNCYWNrID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYoX2xhc3RJbmxpbmVFbGVtZW50KSB7XG5cdFx0XHRfaW5saW5lUGxhY2Vob2xkZXIuYWZ0ZXIoIF9sYXN0SW5saW5lRWxlbWVudC5hZGRDbGFzcyhfaGlkZGVuQ2xhc3MpICkuZGV0YWNoKCk7XG5cdFx0XHRfbGFzdElubGluZUVsZW1lbnQgPSBudWxsO1xuXHRcdH1cblx0fTtcblxuJC5tYWduaWZpY1BvcHVwLnJlZ2lzdGVyTW9kdWxlKElOTElORV9OUywge1xuXHRvcHRpb25zOiB7XG5cdFx0aGlkZGVuQ2xhc3M6ICdoaWRlJywgLy8gd2lsbCBiZSBhcHBlbmRlZCB3aXRoIGBtZnAtYCBwcmVmaXhcblx0XHRtYXJrdXA6ICcnLFxuXHRcdHROb3RGb3VuZDogJ0NvbnRlbnQgbm90IGZvdW5kJ1xuXHR9LFxuXHRwcm90bzoge1xuXG5cdFx0aW5pdElubGluZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRtZnAudHlwZXMucHVzaChJTkxJTkVfTlMpO1xuXG5cdFx0XHRfbWZwT24oQ0xPU0VfRVZFTlQrJy4nK0lOTElORV9OUywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdF9wdXRJbmxpbmVFbGVtZW50c0JhY2soKTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRnZXRJbmxpbmU6IGZ1bmN0aW9uKGl0ZW0sIHRlbXBsYXRlKSB7XG5cblx0XHRcdF9wdXRJbmxpbmVFbGVtZW50c0JhY2soKTtcblxuXHRcdFx0aWYoaXRlbS5zcmMpIHtcblx0XHRcdFx0dmFyIGlubGluZVN0ID0gbWZwLnN0LmlubGluZSxcblx0XHRcdFx0XHRlbCA9ICQoaXRlbS5zcmMpO1xuXG5cdFx0XHRcdGlmKGVsLmxlbmd0aCkge1xuXG5cdFx0XHRcdFx0Ly8gSWYgdGFyZ2V0IGVsZW1lbnQgaGFzIHBhcmVudCAtIHdlIHJlcGxhY2UgaXQgd2l0aCBwbGFjZWhvbGRlciBhbmQgcHV0IGl0IGJhY2sgYWZ0ZXIgcG9wdXAgaXMgY2xvc2VkXG5cdFx0XHRcdFx0dmFyIHBhcmVudCA9IGVsWzBdLnBhcmVudE5vZGU7XG5cdFx0XHRcdFx0aWYocGFyZW50ICYmIHBhcmVudC50YWdOYW1lKSB7XG5cdFx0XHRcdFx0XHRpZighX2lubGluZVBsYWNlaG9sZGVyKSB7XG5cdFx0XHRcdFx0XHRcdF9oaWRkZW5DbGFzcyA9IGlubGluZVN0LmhpZGRlbkNsYXNzO1xuXHRcdFx0XHRcdFx0XHRfaW5saW5lUGxhY2Vob2xkZXIgPSBfZ2V0RWwoX2hpZGRlbkNsYXNzKTtcblx0XHRcdFx0XHRcdFx0X2hpZGRlbkNsYXNzID0gJ21mcC0nK19oaWRkZW5DbGFzcztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdC8vIHJlcGxhY2UgdGFyZ2V0IGlubGluZSBlbGVtZW50IHdpdGggcGxhY2Vob2xkZXJcblx0XHRcdFx0XHRcdF9sYXN0SW5saW5lRWxlbWVudCA9IGVsLmFmdGVyKF9pbmxpbmVQbGFjZWhvbGRlcikuZGV0YWNoKCkucmVtb3ZlQ2xhc3MoX2hpZGRlbkNsYXNzKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRtZnAudXBkYXRlU3RhdHVzKCdyZWFkeScpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG1mcC51cGRhdGVTdGF0dXMoJ2Vycm9yJywgaW5saW5lU3QudE5vdEZvdW5kKTtcblx0XHRcdFx0XHRlbCA9ICQoJzxkaXY+Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpdGVtLmlubGluZUVsZW1lbnQgPSBlbDtcblx0XHRcdFx0cmV0dXJuIGVsO1xuXHRcdFx0fVxuXG5cdFx0XHRtZnAudXBkYXRlU3RhdHVzKCdyZWFkeScpO1xuXHRcdFx0bWZwLl9wYXJzZU1hcmt1cCh0ZW1wbGF0ZSwge30sIGl0ZW0pO1xuXHRcdFx0cmV0dXJuIHRlbXBsYXRlO1xuXHRcdH1cblx0fVxufSk7XG5cbi8qPj5pbmxpbmUqL1xuXG4vKj4+YWpheCovXG52YXIgQUpBWF9OUyA9ICdhamF4Jyxcblx0X2FqYXhDdXIsXG5cdF9yZW1vdmVBamF4Q3Vyc29yID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYoX2FqYXhDdXIpIHtcblx0XHRcdCQoZG9jdW1lbnQuYm9keSkucmVtb3ZlQ2xhc3MoX2FqYXhDdXIpO1xuXHRcdH1cblx0fSxcblx0X2Rlc3Ryb3lBamF4UmVxdWVzdCA9IGZ1bmN0aW9uKCkge1xuXHRcdF9yZW1vdmVBamF4Q3Vyc29yKCk7XG5cdFx0aWYobWZwLnJlcSkge1xuXHRcdFx0bWZwLnJlcS5hYm9ydCgpO1xuXHRcdH1cblx0fTtcblxuJC5tYWduaWZpY1BvcHVwLnJlZ2lzdGVyTW9kdWxlKEFKQVhfTlMsIHtcblxuXHRvcHRpb25zOiB7XG5cdFx0c2V0dGluZ3M6IG51bGwsXG5cdFx0Y3Vyc29yOiAnbWZwLWFqYXgtY3VyJyxcblx0XHR0RXJyb3I6ICc8YSBocmVmPVwiJXVybCVcIj5UaGUgY29udGVudDwvYT4gY291bGQgbm90IGJlIGxvYWRlZC4nXG5cdH0sXG5cblx0cHJvdG86IHtcblx0XHRpbml0QWpheDogZnVuY3Rpb24oKSB7XG5cdFx0XHRtZnAudHlwZXMucHVzaChBSkFYX05TKTtcblx0XHRcdF9hamF4Q3VyID0gbWZwLnN0LmFqYXguY3Vyc29yO1xuXG5cdFx0XHRfbWZwT24oQ0xPU0VfRVZFTlQrJy4nK0FKQVhfTlMsIF9kZXN0cm95QWpheFJlcXVlc3QpO1xuXHRcdFx0X21mcE9uKCdCZWZvcmVDaGFuZ2UuJyArIEFKQVhfTlMsIF9kZXN0cm95QWpheFJlcXVlc3QpO1xuXHRcdH0sXG5cdFx0Z2V0QWpheDogZnVuY3Rpb24oaXRlbSkge1xuXG5cdFx0XHRpZihfYWpheEN1cikge1xuXHRcdFx0XHQkKGRvY3VtZW50LmJvZHkpLmFkZENsYXNzKF9hamF4Q3VyKTtcblx0XHRcdH1cblxuXHRcdFx0bWZwLnVwZGF0ZVN0YXR1cygnbG9hZGluZycpO1xuXG5cdFx0XHR2YXIgb3B0cyA9ICQuZXh0ZW5kKHtcblx0XHRcdFx0dXJsOiBpdGVtLnNyYyxcblx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oZGF0YSwgdGV4dFN0YXR1cywganFYSFIpIHtcblx0XHRcdFx0XHR2YXIgdGVtcCA9IHtcblx0XHRcdFx0XHRcdGRhdGE6ZGF0YSxcblx0XHRcdFx0XHRcdHhocjpqcVhIUlxuXHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRfbWZwVHJpZ2dlcignUGFyc2VBamF4JywgdGVtcCk7XG5cblx0XHRcdFx0XHRtZnAuYXBwZW5kQ29udGVudCggJCh0ZW1wLmRhdGEpLCBBSkFYX05TICk7XG5cblx0XHRcdFx0XHRpdGVtLmZpbmlzaGVkID0gdHJ1ZTtcblxuXHRcdFx0XHRcdF9yZW1vdmVBamF4Q3Vyc29yKCk7XG5cblx0XHRcdFx0XHRtZnAuX3NldEZvY3VzKCk7XG5cblx0XHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0bWZwLndyYXAuYWRkQ2xhc3MoUkVBRFlfQ0xBU1MpO1xuXHRcdFx0XHRcdH0sIDE2KTtcblxuXHRcdFx0XHRcdG1mcC51cGRhdGVTdGF0dXMoJ3JlYWR5Jyk7XG5cblx0XHRcdFx0XHRfbWZwVHJpZ2dlcignQWpheENvbnRlbnRBZGRlZCcpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRlcnJvcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0X3JlbW92ZUFqYXhDdXJzb3IoKTtcblx0XHRcdFx0XHRpdGVtLmZpbmlzaGVkID0gaXRlbS5sb2FkRXJyb3IgPSB0cnVlO1xuXHRcdFx0XHRcdG1mcC51cGRhdGVTdGF0dXMoJ2Vycm9yJywgbWZwLnN0LmFqYXgudEVycm9yLnJlcGxhY2UoJyV1cmwlJywgaXRlbS5zcmMpKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgbWZwLnN0LmFqYXguc2V0dGluZ3MpO1xuXG5cdFx0XHRtZnAucmVxID0gJC5hamF4KG9wdHMpO1xuXG5cdFx0XHRyZXR1cm4gJyc7XG5cdFx0fVxuXHR9XG59KTtcblxuLyo+PmFqYXgqL1xuXG4vKj4+aW1hZ2UqL1xudmFyIF9pbWdJbnRlcnZhbCxcblx0X2dldFRpdGxlID0gZnVuY3Rpb24oaXRlbSkge1xuXHRcdGlmKGl0ZW0uZGF0YSAmJiBpdGVtLmRhdGEudGl0bGUgIT09IHVuZGVmaW5lZClcblx0XHRcdHJldHVybiBpdGVtLmRhdGEudGl0bGU7XG5cblx0XHR2YXIgc3JjID0gbWZwLnN0LmltYWdlLnRpdGxlU3JjO1xuXG5cdFx0aWYoc3JjKSB7XG5cdFx0XHRpZigkLmlzRnVuY3Rpb24oc3JjKSkge1xuXHRcdFx0XHRyZXR1cm4gc3JjLmNhbGwobWZwLCBpdGVtKTtcblx0XHRcdH0gZWxzZSBpZihpdGVtLmVsKSB7XG5cdFx0XHRcdHJldHVybiBpdGVtLmVsLmF0dHIoc3JjKSB8fCAnJztcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuICcnO1xuXHR9O1xuXG4kLm1hZ25pZmljUG9wdXAucmVnaXN0ZXJNb2R1bGUoJ2ltYWdlJywge1xuXG5cdG9wdGlvbnM6IHtcblx0XHRtYXJrdXA6ICc8ZGl2IGNsYXNzPVwibWZwLWZpZ3VyZVwiPicrXG5cdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtZnAtY2xvc2VcIj48L2Rpdj4nK1xuXHRcdFx0XHRcdCc8ZmlndXJlPicrXG5cdFx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1mcC1pbWdcIj48L2Rpdj4nK1xuXHRcdFx0XHRcdFx0JzxmaWdjYXB0aW9uPicrXG5cdFx0XHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwibWZwLWJvdHRvbS1iYXJcIj4nK1xuXHRcdFx0XHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwibWZwLXRpdGxlXCI+PC9kaXY+Jytcblx0XHRcdFx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1mcC1jb3VudGVyXCI+PC9kaXY+Jytcblx0XHRcdFx0XHRcdFx0JzwvZGl2PicrXG5cdFx0XHRcdFx0XHQnPC9maWdjYXB0aW9uPicrXG5cdFx0XHRcdFx0JzwvZmlndXJlPicrXG5cdFx0XHRcdCc8L2Rpdj4nLFxuXHRcdGN1cnNvcjogJ21mcC16b29tLW91dC1jdXInLFxuXHRcdHRpdGxlU3JjOiAndGl0bGUnLFxuXHRcdHZlcnRpY2FsRml0OiB0cnVlLFxuXHRcdHRFcnJvcjogJzxhIGhyZWY9XCIldXJsJVwiPlRoZSBpbWFnZTwvYT4gY291bGQgbm90IGJlIGxvYWRlZC4nXG5cdH0sXG5cblx0cHJvdG86IHtcblx0XHRpbml0SW1hZ2U6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGltZ1N0ID0gbWZwLnN0LmltYWdlLFxuXHRcdFx0XHRucyA9ICcuaW1hZ2UnO1xuXG5cdFx0XHRtZnAudHlwZXMucHVzaCgnaW1hZ2UnKTtcblxuXHRcdFx0X21mcE9uKE9QRU5fRVZFTlQrbnMsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZihtZnAuY3Vyckl0ZW0udHlwZSA9PT0gJ2ltYWdlJyAmJiBpbWdTdC5jdXJzb3IpIHtcblx0XHRcdFx0XHQkKGRvY3VtZW50LmJvZHkpLmFkZENsYXNzKGltZ1N0LmN1cnNvcik7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRfbWZwT24oQ0xPU0VfRVZFTlQrbnMsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZihpbWdTdC5jdXJzb3IpIHtcblx0XHRcdFx0XHQkKGRvY3VtZW50LmJvZHkpLnJlbW92ZUNsYXNzKGltZ1N0LmN1cnNvcik7XG5cdFx0XHRcdH1cblx0XHRcdFx0X3dpbmRvdy5vZmYoJ3Jlc2l6ZScgKyBFVkVOVF9OUyk7XG5cdFx0XHR9KTtcblxuXHRcdFx0X21mcE9uKCdSZXNpemUnK25zLCBtZnAucmVzaXplSW1hZ2UpO1xuXHRcdFx0aWYobWZwLmlzTG93SUUpIHtcblx0XHRcdFx0X21mcE9uKCdBZnRlckNoYW5nZScsIG1mcC5yZXNpemVJbWFnZSk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRyZXNpemVJbWFnZTogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgaXRlbSA9IG1mcC5jdXJySXRlbTtcblx0XHRcdGlmKCFpdGVtIHx8ICFpdGVtLmltZykgcmV0dXJuO1xuXG5cdFx0XHRpZihtZnAuc3QuaW1hZ2UudmVydGljYWxGaXQpIHtcblx0XHRcdFx0dmFyIGRlY3IgPSAwO1xuXHRcdFx0XHQvLyBmaXggYm94LXNpemluZyBpbiBpZTcvOFxuXHRcdFx0XHRpZihtZnAuaXNMb3dJRSkge1xuXHRcdFx0XHRcdGRlY3IgPSBwYXJzZUludChpdGVtLmltZy5jc3MoJ3BhZGRpbmctdG9wJyksIDEwKSArIHBhcnNlSW50KGl0ZW0uaW1nLmNzcygncGFkZGluZy1ib3R0b20nKSwxMCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aXRlbS5pbWcuY3NzKCdtYXgtaGVpZ2h0JywgbWZwLndILWRlY3IpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0X29uSW1hZ2VIYXNTaXplOiBmdW5jdGlvbihpdGVtKSB7XG5cdFx0XHRpZihpdGVtLmltZykge1xuXG5cdFx0XHRcdGl0ZW0uaGFzU2l6ZSA9IHRydWU7XG5cblx0XHRcdFx0aWYoX2ltZ0ludGVydmFsKSB7XG5cdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbChfaW1nSW50ZXJ2YWwpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aXRlbS5pc0NoZWNraW5nSW1nU2l6ZSA9IGZhbHNlO1xuXG5cdFx0XHRcdF9tZnBUcmlnZ2VyKCdJbWFnZUhhc1NpemUnLCBpdGVtKTtcblxuXHRcdFx0XHRpZihpdGVtLmltZ0hpZGRlbikge1xuXHRcdFx0XHRcdGlmKG1mcC5jb250ZW50KVxuXHRcdFx0XHRcdFx0bWZwLmNvbnRlbnQucmVtb3ZlQ2xhc3MoJ21mcC1sb2FkaW5nJyk7XG5cblx0XHRcdFx0XHRpdGVtLmltZ0hpZGRlbiA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogRnVuY3Rpb24gdGhhdCBsb29wcyB1bnRpbCB0aGUgaW1hZ2UgaGFzIHNpemUgdG8gZGlzcGxheSBlbGVtZW50cyB0aGF0IHJlbHkgb24gaXQgYXNhcFxuXHRcdCAqL1xuXHRcdGZpbmRJbWFnZVNpemU6IGZ1bmN0aW9uKGl0ZW0pIHtcblxuXHRcdFx0dmFyIGNvdW50ZXIgPSAwLFxuXHRcdFx0XHRpbWcgPSBpdGVtLmltZ1swXSxcblx0XHRcdFx0bWZwU2V0SW50ZXJ2YWwgPSBmdW5jdGlvbihkZWxheSkge1xuXG5cdFx0XHRcdFx0aWYoX2ltZ0ludGVydmFsKSB7XG5cdFx0XHRcdFx0XHRjbGVhckludGVydmFsKF9pbWdJbnRlcnZhbCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vIGRlY2VsZXJhdGluZyBpbnRlcnZhbCB0aGF0IGNoZWNrcyBmb3Igc2l6ZSBvZiBhbiBpbWFnZVxuXHRcdFx0XHRcdF9pbWdJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0aWYoaW1nLm5hdHVyYWxXaWR0aCA+IDApIHtcblx0XHRcdFx0XHRcdFx0bWZwLl9vbkltYWdlSGFzU2l6ZShpdGVtKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpZihjb3VudGVyID4gMjAwKSB7XG5cdFx0XHRcdFx0XHRcdGNsZWFySW50ZXJ2YWwoX2ltZ0ludGVydmFsKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Y291bnRlcisrO1xuXHRcdFx0XHRcdFx0aWYoY291bnRlciA9PT0gMykge1xuXHRcdFx0XHRcdFx0XHRtZnBTZXRJbnRlcnZhbCgxMCk7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYoY291bnRlciA9PT0gNDApIHtcblx0XHRcdFx0XHRcdFx0bWZwU2V0SW50ZXJ2YWwoNTApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmKGNvdW50ZXIgPT09IDEwMCkge1xuXHRcdFx0XHRcdFx0XHRtZnBTZXRJbnRlcnZhbCg1MDApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIGRlbGF5KTtcblx0XHRcdFx0fTtcblxuXHRcdFx0bWZwU2V0SW50ZXJ2YWwoMSk7XG5cdFx0fSxcblxuXHRcdGdldEltYWdlOiBmdW5jdGlvbihpdGVtLCB0ZW1wbGF0ZSkge1xuXG5cdFx0XHR2YXIgZ3VhcmQgPSAwLFxuXG5cdFx0XHRcdC8vIGltYWdlIGxvYWQgY29tcGxldGUgaGFuZGxlclxuXHRcdFx0XHRvbkxvYWRDb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmKGl0ZW0pIHtcblx0XHRcdFx0XHRcdGlmIChpdGVtLmltZ1swXS5jb21wbGV0ZSkge1xuXHRcdFx0XHRcdFx0XHRpdGVtLmltZy5vZmYoJy5tZnBsb2FkZXInKTtcblxuXHRcdFx0XHRcdFx0XHRpZihpdGVtID09PSBtZnAuY3Vyckl0ZW0pe1xuXHRcdFx0XHRcdFx0XHRcdG1mcC5fb25JbWFnZUhhc1NpemUoaXRlbSk7XG5cblx0XHRcdFx0XHRcdFx0XHRtZnAudXBkYXRlU3RhdHVzKCdyZWFkeScpO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0aXRlbS5oYXNTaXplID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0aXRlbS5sb2FkZWQgPSB0cnVlO1xuXG5cdFx0XHRcdFx0XHRcdF9tZnBUcmlnZ2VyKCdJbWFnZUxvYWRDb21wbGV0ZScpO1xuXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly8gaWYgaW1hZ2UgY29tcGxldGUgY2hlY2sgZmFpbHMgMjAwIHRpbWVzICgyMCBzZWMpLCB3ZSBhc3N1bWUgdGhhdCB0aGVyZSB3YXMgYW4gZXJyb3IuXG5cdFx0XHRcdFx0XHRcdGd1YXJkKys7XG5cdFx0XHRcdFx0XHRcdGlmKGd1YXJkIDwgMjAwKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2V0VGltZW91dChvbkxvYWRDb21wbGV0ZSwxMDApO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdG9uTG9hZEVycm9yKCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gaW1hZ2UgZXJyb3IgaGFuZGxlclxuXHRcdFx0XHRvbkxvYWRFcnJvciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmKGl0ZW0pIHtcblx0XHRcdFx0XHRcdGl0ZW0uaW1nLm9mZignLm1mcGxvYWRlcicpO1xuXHRcdFx0XHRcdFx0aWYoaXRlbSA9PT0gbWZwLmN1cnJJdGVtKXtcblx0XHRcdFx0XHRcdFx0bWZwLl9vbkltYWdlSGFzU2l6ZShpdGVtKTtcblx0XHRcdFx0XHRcdFx0bWZwLnVwZGF0ZVN0YXR1cygnZXJyb3InLCBpbWdTdC50RXJyb3IucmVwbGFjZSgnJXVybCUnLCBpdGVtLnNyYykgKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aXRlbS5oYXNTaXplID0gdHJ1ZTtcblx0XHRcdFx0XHRcdGl0ZW0ubG9hZGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdGl0ZW0ubG9hZEVycm9yID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGltZ1N0ID0gbWZwLnN0LmltYWdlO1xuXG5cblx0XHRcdHZhciBlbCA9IHRlbXBsYXRlLmZpbmQoJy5tZnAtaW1nJyk7XG5cdFx0XHRpZihlbC5sZW5ndGgpIHtcblx0XHRcdFx0dmFyIGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuXHRcdFx0XHRpbWcuY2xhc3NOYW1lID0gJ21mcC1pbWcnO1xuXHRcdFx0XHRpZihpdGVtLmVsICYmIGl0ZW0uZWwuZmluZCgnaW1nJykubGVuZ3RoKSB7XG5cdFx0XHRcdFx0aW1nLmFsdCA9IGl0ZW0uZWwuZmluZCgnaW1nJykuYXR0cignYWx0Jyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aXRlbS5pbWcgPSAkKGltZykub24oJ2xvYWQubWZwbG9hZGVyJywgb25Mb2FkQ29tcGxldGUpLm9uKCdlcnJvci5tZnBsb2FkZXInLCBvbkxvYWRFcnJvcik7XG5cdFx0XHRcdGltZy5zcmMgPSBpdGVtLnNyYztcblxuXHRcdFx0XHQvLyB3aXRob3V0IGNsb25lKCkgXCJlcnJvclwiIGV2ZW50IGlzIG5vdCBmaXJpbmcgd2hlbiBJTUcgaXMgcmVwbGFjZWQgYnkgbmV3IElNR1xuXHRcdFx0XHQvLyBUT0RPOiBmaW5kIGEgd2F5IHRvIGF2b2lkIHN1Y2ggY2xvbmluZ1xuXHRcdFx0XHRpZihlbC5pcygnaW1nJykpIHtcblx0XHRcdFx0XHRpdGVtLmltZyA9IGl0ZW0uaW1nLmNsb25lKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpbWcgPSBpdGVtLmltZ1swXTtcblx0XHRcdFx0aWYoaW1nLm5hdHVyYWxXaWR0aCA+IDApIHtcblx0XHRcdFx0XHRpdGVtLmhhc1NpemUgPSB0cnVlO1xuXHRcdFx0XHR9IGVsc2UgaWYoIWltZy53aWR0aCkge1xuXHRcdFx0XHRcdGl0ZW0uaGFzU2l6ZSA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdG1mcC5fcGFyc2VNYXJrdXAodGVtcGxhdGUsIHtcblx0XHRcdFx0dGl0bGU6IF9nZXRUaXRsZShpdGVtKSxcblx0XHRcdFx0aW1nX3JlcGxhY2VXaXRoOiBpdGVtLmltZ1xuXHRcdFx0fSwgaXRlbSk7XG5cblx0XHRcdG1mcC5yZXNpemVJbWFnZSgpO1xuXG5cdFx0XHRpZihpdGVtLmhhc1NpemUpIHtcblx0XHRcdFx0aWYoX2ltZ0ludGVydmFsKSBjbGVhckludGVydmFsKF9pbWdJbnRlcnZhbCk7XG5cblx0XHRcdFx0aWYoaXRlbS5sb2FkRXJyb3IpIHtcblx0XHRcdFx0XHR0ZW1wbGF0ZS5hZGRDbGFzcygnbWZwLWxvYWRpbmcnKTtcblx0XHRcdFx0XHRtZnAudXBkYXRlU3RhdHVzKCdlcnJvcicsIGltZ1N0LnRFcnJvci5yZXBsYWNlKCcldXJsJScsIGl0ZW0uc3JjKSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRlbXBsYXRlLnJlbW92ZUNsYXNzKCdtZnAtbG9hZGluZycpO1xuXHRcdFx0XHRcdG1mcC51cGRhdGVTdGF0dXMoJ3JlYWR5Jyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRlbXBsYXRlO1xuXHRcdFx0fVxuXG5cdFx0XHRtZnAudXBkYXRlU3RhdHVzKCdsb2FkaW5nJyk7XG5cdFx0XHRpdGVtLmxvYWRpbmcgPSB0cnVlO1xuXG5cdFx0XHRpZighaXRlbS5oYXNTaXplKSB7XG5cdFx0XHRcdGl0ZW0uaW1nSGlkZGVuID0gdHJ1ZTtcblx0XHRcdFx0dGVtcGxhdGUuYWRkQ2xhc3MoJ21mcC1sb2FkaW5nJyk7XG5cdFx0XHRcdG1mcC5maW5kSW1hZ2VTaXplKGl0ZW0pO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdGVtcGxhdGU7XG5cdFx0fVxuXHR9XG59KTtcblxuLyo+PmltYWdlKi9cblxuLyo+Pnpvb20qL1xudmFyIGhhc01velRyYW5zZm9ybSxcblx0Z2V0SGFzTW96VHJhbnNmb3JtID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYoaGFzTW96VHJhbnNmb3JtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGhhc01velRyYW5zZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKS5zdHlsZS5Nb3pUcmFuc2Zvcm0gIT09IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0cmV0dXJuIGhhc01velRyYW5zZm9ybTtcblx0fTtcblxuJC5tYWduaWZpY1BvcHVwLnJlZ2lzdGVyTW9kdWxlKCd6b29tJywge1xuXG5cdG9wdGlvbnM6IHtcblx0XHRlbmFibGVkOiBmYWxzZSxcblx0XHRlYXNpbmc6ICdlYXNlLWluLW91dCcsXG5cdFx0ZHVyYXRpb246IDMwMCxcblx0XHRvcGVuZXI6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblx0XHRcdHJldHVybiBlbGVtZW50LmlzKCdpbWcnKSA/IGVsZW1lbnQgOiBlbGVtZW50LmZpbmQoJ2ltZycpO1xuXHRcdH1cblx0fSxcblxuXHRwcm90bzoge1xuXG5cdFx0aW5pdFpvb206IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHpvb21TdCA9IG1mcC5zdC56b29tLFxuXHRcdFx0XHRucyA9ICcuem9vbScsXG5cdFx0XHRcdGltYWdlO1xuXG5cdFx0XHRpZighem9vbVN0LmVuYWJsZWQgfHwgIW1mcC5zdXBwb3J0c1RyYW5zaXRpb24pIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZHVyYXRpb24gPSB6b29tU3QuZHVyYXRpb24sXG5cdFx0XHRcdGdldEVsVG9BbmltYXRlID0gZnVuY3Rpb24oaW1hZ2UpIHtcblx0XHRcdFx0XHR2YXIgbmV3SW1nID0gaW1hZ2UuY2xvbmUoKS5yZW1vdmVBdHRyKCdzdHlsZScpLnJlbW92ZUF0dHIoJ2NsYXNzJykuYWRkQ2xhc3MoJ21mcC1hbmltYXRlZC1pbWFnZScpLFxuXHRcdFx0XHRcdFx0dHJhbnNpdGlvbiA9ICdhbGwgJysoem9vbVN0LmR1cmF0aW9uLzEwMDApKydzICcgKyB6b29tU3QuZWFzaW5nLFxuXHRcdFx0XHRcdFx0Y3NzT2JqID0ge1xuXHRcdFx0XHRcdFx0XHRwb3NpdGlvbjogJ2ZpeGVkJyxcblx0XHRcdFx0XHRcdFx0ekluZGV4OiA5OTk5LFxuXHRcdFx0XHRcdFx0XHRsZWZ0OiAwLFxuXHRcdFx0XHRcdFx0XHR0b3A6IDAsXG5cdFx0XHRcdFx0XHRcdCctd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHknOiAnaGlkZGVuJ1xuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHQgPSAndHJhbnNpdGlvbic7XG5cblx0XHRcdFx0XHRjc3NPYmpbJy13ZWJraXQtJyt0XSA9IGNzc09ialsnLW1vei0nK3RdID0gY3NzT2JqWyctby0nK3RdID0gY3NzT2JqW3RdID0gdHJhbnNpdGlvbjtcblxuXHRcdFx0XHRcdG5ld0ltZy5jc3MoY3NzT2JqKTtcblx0XHRcdFx0XHRyZXR1cm4gbmV3SW1nO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRzaG93TWFpbkNvbnRlbnQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRtZnAuY29udGVudC5jc3MoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRvcGVuVGltZW91dCxcblx0XHRcdFx0YW5pbWF0ZWRJbWc7XG5cblx0XHRcdF9tZnBPbignQnVpbGRDb250cm9scycrbnMsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZihtZnAuX2FsbG93Wm9vbSgpKSB7XG5cblx0XHRcdFx0XHRjbGVhclRpbWVvdXQob3BlblRpbWVvdXQpO1xuXHRcdFx0XHRcdG1mcC5jb250ZW50LmNzcygndmlzaWJpbGl0eScsICdoaWRkZW4nKTtcblxuXHRcdFx0XHRcdC8vIEJhc2ljYWxseSwgYWxsIGNvZGUgYmVsb3cgZG9lcyBpcyBjbG9uZXMgZXhpc3RpbmcgaW1hZ2UsIHB1dHMgaW4gb24gdG9wIG9mIHRoZSBjdXJyZW50IG9uZSBhbmQgYW5pbWF0ZWQgaXRcblxuXHRcdFx0XHRcdGltYWdlID0gbWZwLl9nZXRJdGVtVG9ab29tKCk7XG5cblx0XHRcdFx0XHRpZighaW1hZ2UpIHtcblx0XHRcdFx0XHRcdHNob3dNYWluQ29udGVudCgpO1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGFuaW1hdGVkSW1nID0gZ2V0RWxUb0FuaW1hdGUoaW1hZ2UpO1xuXG5cdFx0XHRcdFx0YW5pbWF0ZWRJbWcuY3NzKCBtZnAuX2dldE9mZnNldCgpICk7XG5cblx0XHRcdFx0XHRtZnAud3JhcC5hcHBlbmQoYW5pbWF0ZWRJbWcpO1xuXG5cdFx0XHRcdFx0b3BlblRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0YW5pbWF0ZWRJbWcuY3NzKCBtZnAuX2dldE9mZnNldCggdHJ1ZSApICk7XG5cdFx0XHRcdFx0XHRvcGVuVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRcdFx0c2hvd01haW5Db250ZW50KCk7XG5cblx0XHRcdFx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRhbmltYXRlZEltZy5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdFx0XHRpbWFnZSA9IGFuaW1hdGVkSW1nID0gbnVsbDtcblx0XHRcdFx0XHRcdFx0XHRfbWZwVHJpZ2dlcignWm9vbUFuaW1hdGlvbkVuZGVkJyk7XG5cdFx0XHRcdFx0XHRcdH0sIDE2KTsgLy8gYXZvaWQgYmxpbmsgd2hlbiBzd2l0Y2hpbmcgaW1hZ2VzXG5cblx0XHRcdFx0XHRcdH0sIGR1cmF0aW9uKTsgLy8gdGhpcyB0aW1lb3V0IGVxdWFscyBhbmltYXRpb24gZHVyYXRpb25cblxuXHRcdFx0XHRcdH0sIDE2KTsgLy8gYnkgYWRkaW5nIHRoaXMgdGltZW91dCB3ZSBhdm9pZCBzaG9ydCBnbGl0Y2ggYXQgdGhlIGJlZ2lubmluZyBvZiBhbmltYXRpb25cblxuXG5cdFx0XHRcdFx0Ly8gTG90cyBvZiB0aW1lb3V0cy4uLlxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdF9tZnBPbihCRUZPUkVfQ0xPU0VfRVZFTlQrbnMsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZihtZnAuX2FsbG93Wm9vbSgpKSB7XG5cblx0XHRcdFx0XHRjbGVhclRpbWVvdXQob3BlblRpbWVvdXQpO1xuXG5cdFx0XHRcdFx0bWZwLnN0LnJlbW92YWxEZWxheSA9IGR1cmF0aW9uO1xuXG5cdFx0XHRcdFx0aWYoIWltYWdlKSB7XG5cdFx0XHRcdFx0XHRpbWFnZSA9IG1mcC5fZ2V0SXRlbVRvWm9vbSgpO1xuXHRcdFx0XHRcdFx0aWYoIWltYWdlKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGFuaW1hdGVkSW1nID0gZ2V0RWxUb0FuaW1hdGUoaW1hZ2UpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGFuaW1hdGVkSW1nLmNzcyggbWZwLl9nZXRPZmZzZXQodHJ1ZSkgKTtcblx0XHRcdFx0XHRtZnAud3JhcC5hcHBlbmQoYW5pbWF0ZWRJbWcpO1xuXHRcdFx0XHRcdG1mcC5jb250ZW50LmNzcygndmlzaWJpbGl0eScsICdoaWRkZW4nKTtcblxuXHRcdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRhbmltYXRlZEltZy5jc3MoIG1mcC5fZ2V0T2Zmc2V0KCkgKTtcblx0XHRcdFx0XHR9LCAxNik7XG5cdFx0XHRcdH1cblxuXHRcdFx0fSk7XG5cblx0XHRcdF9tZnBPbihDTE9TRV9FVkVOVCtucywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmKG1mcC5fYWxsb3dab29tKCkpIHtcblx0XHRcdFx0XHRzaG93TWFpbkNvbnRlbnQoKTtcblx0XHRcdFx0XHRpZihhbmltYXRlZEltZykge1xuXHRcdFx0XHRcdFx0YW5pbWF0ZWRJbWcucmVtb3ZlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGltYWdlID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdF9hbGxvd1pvb206IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIG1mcC5jdXJySXRlbS50eXBlID09PSAnaW1hZ2UnO1xuXHRcdH0sXG5cblx0XHRfZ2V0SXRlbVRvWm9vbTogZnVuY3Rpb24oKSB7XG5cdFx0XHRpZihtZnAuY3Vyckl0ZW0uaGFzU2l6ZSkge1xuXHRcdFx0XHRyZXR1cm4gbWZwLmN1cnJJdGVtLmltZztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0Ly8gR2V0IGVsZW1lbnQgcG9zdGlvbiByZWxhdGl2ZSB0byB2aWV3cG9ydFxuXHRcdF9nZXRPZmZzZXQ6IGZ1bmN0aW9uKGlzTGFyZ2UpIHtcblx0XHRcdHZhciBlbDtcblx0XHRcdGlmKGlzTGFyZ2UpIHtcblx0XHRcdFx0ZWwgPSBtZnAuY3Vyckl0ZW0uaW1nO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWwgPSBtZnAuc3Quem9vbS5vcGVuZXIobWZwLmN1cnJJdGVtLmVsIHx8IG1mcC5jdXJySXRlbSk7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBvZmZzZXQgPSBlbC5vZmZzZXQoKTtcblx0XHRcdHZhciBwYWRkaW5nVG9wID0gcGFyc2VJbnQoZWwuY3NzKCdwYWRkaW5nLXRvcCcpLDEwKTtcblx0XHRcdHZhciBwYWRkaW5nQm90dG9tID0gcGFyc2VJbnQoZWwuY3NzKCdwYWRkaW5nLWJvdHRvbScpLDEwKTtcblx0XHRcdG9mZnNldC50b3AgLT0gKCAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgLSBwYWRkaW5nVG9wICk7XG5cblxuXHRcdFx0LypcblxuXHRcdFx0QW5pbWF0aW5nIGxlZnQgKyB0b3AgKyB3aWR0aC9oZWlnaHQgbG9va3MgZ2xpdGNoeSBpbiBGaXJlZm94LCBidXQgcGVyZmVjdCBpbiBDaHJvbWUuIEFuZCB2aWNlLXZlcnNhLlxuXG5cdFx0XHQgKi9cblx0XHRcdHZhciBvYmogPSB7XG5cdFx0XHRcdHdpZHRoOiBlbC53aWR0aCgpLFxuXHRcdFx0XHQvLyBmaXggWmVwdG8gaGVpZ2h0K3BhZGRpbmcgaXNzdWVcblx0XHRcdFx0aGVpZ2h0OiAoX2lzSlEgPyBlbC5pbm5lckhlaWdodCgpIDogZWxbMF0ub2Zmc2V0SGVpZ2h0KSAtIHBhZGRpbmdCb3R0b20gLSBwYWRkaW5nVG9wXG5cdFx0XHR9O1xuXG5cdFx0XHQvLyBJIGhhdGUgdG8gZG8gdGhpcywgYnV0IHRoZXJlIGlzIG5vIGFub3RoZXIgb3B0aW9uXG5cdFx0XHRpZiggZ2V0SGFzTW96VHJhbnNmb3JtKCkgKSB7XG5cdFx0XHRcdG9ialsnLW1vei10cmFuc2Zvcm0nXSA9IG9ialsndHJhbnNmb3JtJ10gPSAndHJhbnNsYXRlKCcgKyBvZmZzZXQubGVmdCArICdweCwnICsgb2Zmc2V0LnRvcCArICdweCknO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b2JqLmxlZnQgPSBvZmZzZXQubGVmdDtcblx0XHRcdFx0b2JqLnRvcCA9IG9mZnNldC50b3A7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gb2JqO1xuXHRcdH1cblxuXHR9XG59KTtcblxuXG5cbi8qPj56b29tKi9cblxuLyo+PmlmcmFtZSovXG5cbnZhciBJRlJBTUVfTlMgPSAnaWZyYW1lJyxcblx0X2VtcHR5UGFnZSA9ICcvL2Fib3V0OmJsYW5rJyxcblxuXHRfZml4SWZyYW1lQnVncyA9IGZ1bmN0aW9uKGlzU2hvd2luZykge1xuXHRcdGlmKG1mcC5jdXJyVGVtcGxhdGVbSUZSQU1FX05TXSkge1xuXHRcdFx0dmFyIGVsID0gbWZwLmN1cnJUZW1wbGF0ZVtJRlJBTUVfTlNdLmZpbmQoJ2lmcmFtZScpO1xuXHRcdFx0aWYoZWwubGVuZ3RoKSB7XG5cdFx0XHRcdC8vIHJlc2V0IHNyYyBhZnRlciB0aGUgcG9wdXAgaXMgY2xvc2VkIHRvIGF2b2lkIFwidmlkZW8ga2VlcHMgcGxheWluZyBhZnRlciBwb3B1cCBpcyBjbG9zZWRcIiBidWdcblx0XHRcdFx0aWYoIWlzU2hvd2luZykge1xuXHRcdFx0XHRcdGVsWzBdLnNyYyA9IF9lbXB0eVBhZ2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBJRTggYmxhY2sgc2NyZWVuIGJ1ZyBmaXhcblx0XHRcdFx0aWYobWZwLmlzSUU4KSB7XG5cdFx0XHRcdFx0ZWwuY3NzKCdkaXNwbGF5JywgaXNTaG93aW5nID8gJ2Jsb2NrJyA6ICdub25lJyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG5cbiQubWFnbmlmaWNQb3B1cC5yZWdpc3Rlck1vZHVsZShJRlJBTUVfTlMsIHtcblxuXHRvcHRpb25zOiB7XG5cdFx0bWFya3VwOiAnPGRpdiBjbGFzcz1cIm1mcC1pZnJhbWUtc2NhbGVyXCI+Jytcblx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1mcC1jbG9zZVwiPjwvZGl2PicrXG5cdFx0XHRcdFx0JzxpZnJhbWUgY2xhc3M9XCJtZnAtaWZyYW1lXCIgc3JjPVwiLy9hYm91dDpibGFua1wiIGZyYW1lYm9yZGVyPVwiMFwiIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT4nK1xuXHRcdFx0XHQnPC9kaXY+JyxcblxuXHRcdHNyY0FjdGlvbjogJ2lmcmFtZV9zcmMnLFxuXG5cdFx0Ly8gd2UgZG9uJ3QgY2FyZSBhbmQgc3VwcG9ydCBvbmx5IG9uZSBkZWZhdWx0IHR5cGUgb2YgVVJMIGJ5IGRlZmF1bHRcblx0XHRwYXR0ZXJuczoge1xuXHRcdFx0eW91dHViZToge1xuXHRcdFx0XHRpbmRleDogJ3lvdXR1YmUuY29tJyxcblx0XHRcdFx0aWQ6ICd2PScsXG5cdFx0XHRcdHNyYzogJy8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLyVpZCU/YXV0b3BsYXk9MSdcblx0XHRcdH0sXG5cdFx0XHR2aW1lbzoge1xuXHRcdFx0XHRpbmRleDogJ3ZpbWVvLmNvbS8nLFxuXHRcdFx0XHRpZDogJy8nLFxuXHRcdFx0XHRzcmM6ICcvL3BsYXllci52aW1lby5jb20vdmlkZW8vJWlkJT9hdXRvcGxheT0xJ1xuXHRcdFx0fSxcblx0XHRcdGdtYXBzOiB7XG5cdFx0XHRcdGluZGV4OiAnLy9tYXBzLmdvb2dsZS4nLFxuXHRcdFx0XHRzcmM6ICclaWQlJm91dHB1dD1lbWJlZCdcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0cHJvdG86IHtcblx0XHRpbml0SWZyYW1lOiBmdW5jdGlvbigpIHtcblx0XHRcdG1mcC50eXBlcy5wdXNoKElGUkFNRV9OUyk7XG5cblx0XHRcdF9tZnBPbignQmVmb3JlQ2hhbmdlJywgZnVuY3Rpb24oZSwgcHJldlR5cGUsIG5ld1R5cGUpIHtcblx0XHRcdFx0aWYocHJldlR5cGUgIT09IG5ld1R5cGUpIHtcblx0XHRcdFx0XHRpZihwcmV2VHlwZSA9PT0gSUZSQU1FX05TKSB7XG5cdFx0XHRcdFx0XHRfZml4SWZyYW1lQnVncygpOyAvLyBpZnJhbWUgaWYgcmVtb3ZlZFxuXHRcdFx0XHRcdH0gZWxzZSBpZihuZXdUeXBlID09PSBJRlJBTUVfTlMpIHtcblx0XHRcdFx0XHRcdF9maXhJZnJhbWVCdWdzKHRydWUpOyAvLyBpZnJhbWUgaXMgc2hvd2luZ1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fS8vIGVsc2Uge1xuXHRcdFx0XHRcdC8vIGlmcmFtZSBzb3VyY2UgaXMgc3dpdGNoZWQsIGRvbid0IGRvIGFueXRoaW5nXG5cdFx0XHRcdC8vfVxuXHRcdFx0fSk7XG5cblx0XHRcdF9tZnBPbihDTE9TRV9FVkVOVCArICcuJyArIElGUkFNRV9OUywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdF9maXhJZnJhbWVCdWdzKCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0Z2V0SWZyYW1lOiBmdW5jdGlvbihpdGVtLCB0ZW1wbGF0ZSkge1xuXHRcdFx0dmFyIGVtYmVkU3JjID0gaXRlbS5zcmM7XG5cdFx0XHR2YXIgaWZyYW1lU3QgPSBtZnAuc3QuaWZyYW1lO1xuXG5cdFx0XHQkLmVhY2goaWZyYW1lU3QucGF0dGVybnMsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZihlbWJlZFNyYy5pbmRleE9mKCB0aGlzLmluZGV4ICkgPiAtMSkge1xuXHRcdFx0XHRcdGlmKHRoaXMuaWQpIHtcblx0XHRcdFx0XHRcdGlmKHR5cGVvZiB0aGlzLmlkID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRcdFx0XHRlbWJlZFNyYyA9IGVtYmVkU3JjLnN1YnN0cihlbWJlZFNyYy5sYXN0SW5kZXhPZih0aGlzLmlkKSt0aGlzLmlkLmxlbmd0aCwgZW1iZWRTcmMubGVuZ3RoKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGVtYmVkU3JjID0gdGhpcy5pZC5jYWxsKCB0aGlzLCBlbWJlZFNyYyApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbWJlZFNyYyA9IHRoaXMuc3JjLnJlcGxhY2UoJyVpZCUnLCBlbWJlZFNyYyApO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTsgLy8gYnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHR2YXIgZGF0YU9iaiA9IHt9O1xuXHRcdFx0aWYoaWZyYW1lU3Quc3JjQWN0aW9uKSB7XG5cdFx0XHRcdGRhdGFPYmpbaWZyYW1lU3Quc3JjQWN0aW9uXSA9IGVtYmVkU3JjO1xuXHRcdFx0fVxuXHRcdFx0bWZwLl9wYXJzZU1hcmt1cCh0ZW1wbGF0ZSwgZGF0YU9iaiwgaXRlbSk7XG5cblx0XHRcdG1mcC51cGRhdGVTdGF0dXMoJ3JlYWR5Jyk7XG5cblx0XHRcdHJldHVybiB0ZW1wbGF0ZTtcblx0XHR9XG5cdH1cbn0pO1xuXG5cblxuLyo+PmlmcmFtZSovXG5cbi8qPj5nYWxsZXJ5Ki9cbi8qKlxuICogR2V0IGxvb3BlZCBpbmRleCBkZXBlbmRpbmcgb24gbnVtYmVyIG9mIHNsaWRlc1xuICovXG52YXIgX2dldExvb3BlZElkID0gZnVuY3Rpb24oaW5kZXgpIHtcblx0XHR2YXIgbnVtU2xpZGVzID0gbWZwLml0ZW1zLmxlbmd0aDtcblx0XHRpZihpbmRleCA+IG51bVNsaWRlcyAtIDEpIHtcblx0XHRcdHJldHVybiBpbmRleCAtIG51bVNsaWRlcztcblx0XHR9IGVsc2UgIGlmKGluZGV4IDwgMCkge1xuXHRcdFx0cmV0dXJuIG51bVNsaWRlcyArIGluZGV4O1xuXHRcdH1cblx0XHRyZXR1cm4gaW5kZXg7XG5cdH0sXG5cdF9yZXBsYWNlQ3VyclRvdGFsID0gZnVuY3Rpb24odGV4dCwgY3VyciwgdG90YWwpIHtcblx0XHRyZXR1cm4gdGV4dC5yZXBsYWNlKC8lY3VyciUvZ2ksIGN1cnIgKyAxKS5yZXBsYWNlKC8ldG90YWwlL2dpLCB0b3RhbCk7XG5cdH07XG5cbiQubWFnbmlmaWNQb3B1cC5yZWdpc3Rlck1vZHVsZSgnZ2FsbGVyeScsIHtcblxuXHRvcHRpb25zOiB7XG5cdFx0ZW5hYmxlZDogZmFsc2UsXG5cdFx0YXJyb3dNYXJrdXA6ICc8YnV0dG9uIHRpdGxlPVwiJXRpdGxlJVwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cIm1mcC1hcnJvdyBtZnAtYXJyb3ctJWRpciVcIj48L2J1dHRvbj4nLFxuXHRcdHByZWxvYWQ6IFswLDJdLFxuXHRcdG5hdmlnYXRlQnlJbWdDbGljazogdHJ1ZSxcblx0XHRhcnJvd3M6IHRydWUsXG5cblx0XHR0UHJldjogJ1ByZXZpb3VzIChMZWZ0IGFycm93IGtleSknLFxuXHRcdHROZXh0OiAnTmV4dCAoUmlnaHQgYXJyb3cga2V5KScsXG5cdFx0dENvdW50ZXI6ICclY3VyciUgb2YgJXRvdGFsJSdcblx0fSxcblxuXHRwcm90bzoge1xuXHRcdGluaXRHYWxsZXJ5OiBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyIGdTdCA9IG1mcC5zdC5nYWxsZXJ5LFxuXHRcdFx0XHRucyA9ICcubWZwLWdhbGxlcnknO1xuXG5cdFx0XHRtZnAuZGlyZWN0aW9uID0gdHJ1ZTsgLy8gdHJ1ZSAtIG5leHQsIGZhbHNlIC0gcHJldlxuXG5cdFx0XHRpZighZ1N0IHx8ICFnU3QuZW5hYmxlZCApIHJldHVybiBmYWxzZTtcblxuXHRcdFx0X3dyYXBDbGFzc2VzICs9ICcgbWZwLWdhbGxlcnknO1xuXG5cdFx0XHRfbWZwT24oT1BFTl9FVkVOVCtucywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0aWYoZ1N0Lm5hdmlnYXRlQnlJbWdDbGljaykge1xuXHRcdFx0XHRcdG1mcC53cmFwLm9uKCdjbGljaycrbnMsICcubWZwLWltZycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0aWYobWZwLml0ZW1zLmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0XHRcdFx0bWZwLm5leHQoKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0X2RvY3VtZW50Lm9uKCdrZXlkb3duJytucywgZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdGlmIChlLmtleUNvZGUgPT09IDM3KSB7XG5cdFx0XHRcdFx0XHRtZnAucHJldigpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoZS5rZXlDb2RlID09PSAzOSkge1xuXHRcdFx0XHRcdFx0bWZwLm5leHQoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHRcdF9tZnBPbignVXBkYXRlU3RhdHVzJytucywgZnVuY3Rpb24oZSwgZGF0YSkge1xuXHRcdFx0XHRpZihkYXRhLnRleHQpIHtcblx0XHRcdFx0XHRkYXRhLnRleHQgPSBfcmVwbGFjZUN1cnJUb3RhbChkYXRhLnRleHQsIG1mcC5jdXJySXRlbS5pbmRleCwgbWZwLml0ZW1zLmxlbmd0aCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRfbWZwT24oTUFSS1VQX1BBUlNFX0VWRU5UK25zLCBmdW5jdGlvbihlLCBlbGVtZW50LCB2YWx1ZXMsIGl0ZW0pIHtcblx0XHRcdFx0dmFyIGwgPSBtZnAuaXRlbXMubGVuZ3RoO1xuXHRcdFx0XHR2YWx1ZXMuY291bnRlciA9IGwgPiAxID8gX3JlcGxhY2VDdXJyVG90YWwoZ1N0LnRDb3VudGVyLCBpdGVtLmluZGV4LCBsKSA6ICcnO1xuXHRcdFx0fSk7XG5cblx0XHRcdF9tZnBPbignQnVpbGRDb250cm9scycgKyBucywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmKG1mcC5pdGVtcy5sZW5ndGggPiAxICYmIGdTdC5hcnJvd3MgJiYgIW1mcC5hcnJvd0xlZnQpIHtcblx0XHRcdFx0XHR2YXIgbWFya3VwID0gZ1N0LmFycm93TWFya3VwLFxuXHRcdFx0XHRcdFx0YXJyb3dMZWZ0ID0gbWZwLmFycm93TGVmdCA9ICQoIG1hcmt1cC5yZXBsYWNlKC8ldGl0bGUlL2dpLCBnU3QudFByZXYpLnJlcGxhY2UoLyVkaXIlL2dpLCAnbGVmdCcpICkuYWRkQ2xhc3MoUFJFVkVOVF9DTE9TRV9DTEFTUyksXG5cdFx0XHRcdFx0XHRhcnJvd1JpZ2h0ID0gbWZwLmFycm93UmlnaHQgPSAkKCBtYXJrdXAucmVwbGFjZSgvJXRpdGxlJS9naSwgZ1N0LnROZXh0KS5yZXBsYWNlKC8lZGlyJS9naSwgJ3JpZ2h0JykgKS5hZGRDbGFzcyhQUkVWRU5UX0NMT1NFX0NMQVNTKTtcblxuXHRcdFx0XHRcdGFycm93TGVmdC5jbGljayhmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdG1mcC5wcmV2KCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0YXJyb3dSaWdodC5jbGljayhmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdG1mcC5uZXh0KCk7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRtZnAuY29udGFpbmVyLmFwcGVuZChhcnJvd0xlZnQuYWRkKGFycm93UmlnaHQpKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdF9tZnBPbihDSEFOR0VfRVZFTlQrbnMsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZihtZnAuX3ByZWxvYWRUaW1lb3V0KSBjbGVhclRpbWVvdXQobWZwLl9wcmVsb2FkVGltZW91dCk7XG5cblx0XHRcdFx0bWZwLl9wcmVsb2FkVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0bWZwLnByZWxvYWROZWFyYnlJbWFnZXMoKTtcblx0XHRcdFx0XHRtZnAuX3ByZWxvYWRUaW1lb3V0ID0gbnVsbDtcblx0XHRcdFx0fSwgMTYpO1xuXHRcdFx0fSk7XG5cblxuXHRcdFx0X21mcE9uKENMT1NFX0VWRU5UK25zLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0X2RvY3VtZW50Lm9mZihucyk7XG5cdFx0XHRcdG1mcC53cmFwLm9mZignY2xpY2snK25zKTtcblx0XHRcdFx0bWZwLmFycm93UmlnaHQgPSBtZnAuYXJyb3dMZWZ0ID0gbnVsbDtcblx0XHRcdH0pO1xuXG5cdFx0fSxcblx0XHRuZXh0OiBmdW5jdGlvbigpIHtcblx0XHRcdG1mcC5kaXJlY3Rpb24gPSB0cnVlO1xuXHRcdFx0bWZwLmluZGV4ID0gX2dldExvb3BlZElkKG1mcC5pbmRleCArIDEpO1xuXHRcdFx0bWZwLnVwZGF0ZUl0ZW1IVE1MKCk7XG5cdFx0fSxcblx0XHRwcmV2OiBmdW5jdGlvbigpIHtcblx0XHRcdG1mcC5kaXJlY3Rpb24gPSBmYWxzZTtcblx0XHRcdG1mcC5pbmRleCA9IF9nZXRMb29wZWRJZChtZnAuaW5kZXggLSAxKTtcblx0XHRcdG1mcC51cGRhdGVJdGVtSFRNTCgpO1xuXHRcdH0sXG5cdFx0Z29UbzogZnVuY3Rpb24obmV3SW5kZXgpIHtcblx0XHRcdG1mcC5kaXJlY3Rpb24gPSAobmV3SW5kZXggPj0gbWZwLmluZGV4KTtcblx0XHRcdG1mcC5pbmRleCA9IG5ld0luZGV4O1xuXHRcdFx0bWZwLnVwZGF0ZUl0ZW1IVE1MKCk7XG5cdFx0fSxcblx0XHRwcmVsb2FkTmVhcmJ5SW1hZ2VzOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBwID0gbWZwLnN0LmdhbGxlcnkucHJlbG9hZCxcblx0XHRcdFx0cHJlbG9hZEJlZm9yZSA9IE1hdGgubWluKHBbMF0sIG1mcC5pdGVtcy5sZW5ndGgpLFxuXHRcdFx0XHRwcmVsb2FkQWZ0ZXIgPSBNYXRoLm1pbihwWzFdLCBtZnAuaXRlbXMubGVuZ3RoKSxcblx0XHRcdFx0aTtcblxuXHRcdFx0Zm9yKGkgPSAxOyBpIDw9IChtZnAuZGlyZWN0aW9uID8gcHJlbG9hZEFmdGVyIDogcHJlbG9hZEJlZm9yZSk7IGkrKykge1xuXHRcdFx0XHRtZnAuX3ByZWxvYWRJdGVtKG1mcC5pbmRleCtpKTtcblx0XHRcdH1cblx0XHRcdGZvcihpID0gMTsgaSA8PSAobWZwLmRpcmVjdGlvbiA/IHByZWxvYWRCZWZvcmUgOiBwcmVsb2FkQWZ0ZXIpOyBpKyspIHtcblx0XHRcdFx0bWZwLl9wcmVsb2FkSXRlbShtZnAuaW5kZXgtaSk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRfcHJlbG9hZEl0ZW06IGZ1bmN0aW9uKGluZGV4KSB7XG5cdFx0XHRpbmRleCA9IF9nZXRMb29wZWRJZChpbmRleCk7XG5cblx0XHRcdGlmKG1mcC5pdGVtc1tpbmRleF0ucHJlbG9hZGVkKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGl0ZW0gPSBtZnAuaXRlbXNbaW5kZXhdO1xuXHRcdFx0aWYoIWl0ZW0ucGFyc2VkKSB7XG5cdFx0XHRcdGl0ZW0gPSBtZnAucGFyc2VFbCggaW5kZXggKTtcblx0XHRcdH1cblxuXHRcdFx0X21mcFRyaWdnZXIoJ0xhenlMb2FkJywgaXRlbSk7XG5cblx0XHRcdGlmKGl0ZW0udHlwZSA9PT0gJ2ltYWdlJykge1xuXHRcdFx0XHRpdGVtLmltZyA9ICQoJzxpbWcgY2xhc3M9XCJtZnAtaW1nXCIgLz4nKS5vbignbG9hZC5tZnBsb2FkZXInLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpdGVtLmhhc1NpemUgPSB0cnVlO1xuXHRcdFx0XHR9KS5vbignZXJyb3IubWZwbG9hZGVyJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aXRlbS5oYXNTaXplID0gdHJ1ZTtcblx0XHRcdFx0XHRpdGVtLmxvYWRFcnJvciA9IHRydWU7XG5cdFx0XHRcdFx0X21mcFRyaWdnZXIoJ0xhenlMb2FkRXJyb3InLCBpdGVtKTtcblx0XHRcdFx0fSkuYXR0cignc3JjJywgaXRlbS5zcmMpO1xuXHRcdFx0fVxuXG5cblx0XHRcdGl0ZW0ucHJlbG9hZGVkID0gdHJ1ZTtcblx0XHR9XG5cdH1cbn0pO1xuXG4vKj4+Z2FsbGVyeSovXG5cbi8qPj5yZXRpbmEqL1xuXG52YXIgUkVUSU5BX05TID0gJ3JldGluYSc7XG5cbiQubWFnbmlmaWNQb3B1cC5yZWdpc3Rlck1vZHVsZShSRVRJTkFfTlMsIHtcblx0b3B0aW9uczoge1xuXHRcdHJlcGxhY2VTcmM6IGZ1bmN0aW9uKGl0ZW0pIHtcblx0XHRcdHJldHVybiBpdGVtLnNyYy5yZXBsYWNlKC9cXC5cXHcrJC8sIGZ1bmN0aW9uKG0pIHsgcmV0dXJuICdAMngnICsgbTsgfSk7XG5cdFx0fSxcblx0XHRyYXRpbzogMSAvLyBGdW5jdGlvbiBvciBudW1iZXIuICBTZXQgdG8gMSB0byBkaXNhYmxlLlxuXHR9LFxuXHRwcm90bzoge1xuXHRcdGluaXRSZXRpbmE6IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYod2luZG93LmRldmljZVBpeGVsUmF0aW8gPiAxKSB7XG5cblx0XHRcdFx0dmFyIHN0ID0gbWZwLnN0LnJldGluYSxcblx0XHRcdFx0XHRyYXRpbyA9IHN0LnJhdGlvO1xuXG5cdFx0XHRcdHJhdGlvID0gIWlzTmFOKHJhdGlvKSA/IHJhdGlvIDogcmF0aW8oKTtcblxuXHRcdFx0XHRpZihyYXRpbyA+IDEpIHtcblx0XHRcdFx0XHRfbWZwT24oJ0ltYWdlSGFzU2l6ZScgKyAnLicgKyBSRVRJTkFfTlMsIGZ1bmN0aW9uKGUsIGl0ZW0pIHtcblx0XHRcdFx0XHRcdGl0ZW0uaW1nLmNzcyh7XG5cdFx0XHRcdFx0XHRcdCdtYXgtd2lkdGgnOiBpdGVtLmltZ1swXS5uYXR1cmFsV2lkdGggLyByYXRpbyxcblx0XHRcdFx0XHRcdFx0J3dpZHRoJzogJzEwMCUnXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRfbWZwT24oJ0VsZW1lbnRQYXJzZScgKyAnLicgKyBSRVRJTkFfTlMsIGZ1bmN0aW9uKGUsIGl0ZW0pIHtcblx0XHRcdFx0XHRcdGl0ZW0uc3JjID0gc3QucmVwbGFjZVNyYyhpdGVtLCByYXRpbyk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdH1cblx0fVxufSk7XG5cbi8qPj5yZXRpbmEqL1xuIF9jaGVja0luc3RhbmNlKCk7IH0pKTsiLCIvLyEgbW9tZW50LmpzIGxvY2FsZSBjb25maWd1cmF0aW9uXG4vLyEgbG9jYWxlIDogRnJlbmNoIFtmcl1cbi8vISBhdXRob3IgOiBKb2huIEZpc2NoZXIgOiBodHRwczovL2dpdGh1Yi5jb20vamZyb2ZmaWNlXG5cbjsoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnXG4gICAgICAgJiYgdHlwZW9mIHJlcXVpcmUgPT09ICdmdW5jdGlvbicgPyBmYWN0b3J5KHJlcXVpcmUoJy4uL21vbWVudCcpKSA6XG4gICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoWycuLi9tb21lbnQnXSwgZmFjdG9yeSkgOlxuICAgZmFjdG9yeShnbG9iYWwubW9tZW50KVxufSh0aGlzLCAoZnVuY3Rpb24gKG1vbWVudCkgeyAndXNlIHN0cmljdCc7XG5cblxudmFyIGZyID0gbW9tZW50LmRlZmluZUxvY2FsZSgnZnInLCB7XG4gICAgbW9udGhzIDogJ2phbnZpZXJfZsOpdnJpZXJfbWFyc19hdnJpbF9tYWlfanVpbl9qdWlsbGV0X2Fvw7t0X3NlcHRlbWJyZV9vY3RvYnJlX25vdmVtYnJlX2TDqWNlbWJyZScuc3BsaXQoJ18nKSxcbiAgICBtb250aHNTaG9ydCA6ICdqYW52Ll9mw6l2ci5fbWFyc19hdnIuX21haV9qdWluX2p1aWwuX2Fvw7t0X3NlcHQuX29jdC5fbm92Ll9kw6ljLicuc3BsaXQoJ18nKSxcbiAgICBtb250aHNQYXJzZUV4YWN0IDogdHJ1ZSxcbiAgICB3ZWVrZGF5cyA6ICdkaW1hbmNoZV9sdW5kaV9tYXJkaV9tZXJjcmVkaV9qZXVkaV92ZW5kcmVkaV9zYW1lZGknLnNwbGl0KCdfJyksXG4gICAgd2Vla2RheXNTaG9ydCA6ICdkaW0uX2x1bi5fbWFyLl9tZXIuX2pldS5fdmVuLl9zYW0uJy5zcGxpdCgnXycpLFxuICAgIHdlZWtkYXlzTWluIDogJ0RpX0x1X01hX01lX0plX1ZlX1NhJy5zcGxpdCgnXycpLFxuICAgIHdlZWtkYXlzUGFyc2VFeGFjdCA6IHRydWUsXG4gICAgbG9uZ0RhdGVGb3JtYXQgOiB7XG4gICAgICAgIExUIDogJ0hIOm1tJyxcbiAgICAgICAgTFRTIDogJ0hIOm1tOnNzJyxcbiAgICAgICAgTCA6ICdERC9NTS9ZWVlZJyxcbiAgICAgICAgTEwgOiAnRCBNTU1NIFlZWVknLFxuICAgICAgICBMTEwgOiAnRCBNTU1NIFlZWVkgSEg6bW0nLFxuICAgICAgICBMTExMIDogJ2RkZGQgRCBNTU1NIFlZWVkgSEg6bW0nXG4gICAgfSxcbiAgICBjYWxlbmRhciA6IHtcbiAgICAgICAgc2FtZURheTogJ1tBdWpvdXJkXFwnaHVpIMOgXSBMVCcsXG4gICAgICAgIG5leHREYXk6ICdbRGVtYWluIMOgXSBMVCcsXG4gICAgICAgIG5leHRXZWVrOiAnZGRkZCBbw6BdIExUJyxcbiAgICAgICAgbGFzdERheTogJ1tIaWVyIMOgXSBMVCcsXG4gICAgICAgIGxhc3RXZWVrOiAnZGRkZCBbZGVybmllciDDoF0gTFQnLFxuICAgICAgICBzYW1lRWxzZTogJ0wnXG4gICAgfSxcbiAgICByZWxhdGl2ZVRpbWUgOiB7XG4gICAgICAgIGZ1dHVyZSA6ICdkYW5zICVzJyxcbiAgICAgICAgcGFzdCA6ICdpbCB5IGEgJXMnLFxuICAgICAgICBzIDogJ3F1ZWxxdWVzIHNlY29uZGVzJyxcbiAgICAgICAgbSA6ICd1bmUgbWludXRlJyxcbiAgICAgICAgbW0gOiAnJWQgbWludXRlcycsXG4gICAgICAgIGggOiAndW5lIGhldXJlJyxcbiAgICAgICAgaGggOiAnJWQgaGV1cmVzJyxcbiAgICAgICAgZCA6ICd1biBqb3VyJyxcbiAgICAgICAgZGQgOiAnJWQgam91cnMnLFxuICAgICAgICBNIDogJ3VuIG1vaXMnLFxuICAgICAgICBNTSA6ICclZCBtb2lzJyxcbiAgICAgICAgeSA6ICd1biBhbicsXG4gICAgICAgIHl5IDogJyVkIGFucydcbiAgICB9LFxuICAgIG9yZGluYWxQYXJzZTogL1xcZHsxLDJ9KGVyfCkvLFxuICAgIG9yZGluYWwgOiBmdW5jdGlvbiAobnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBudW1iZXIgKyAobnVtYmVyID09PSAxID8gJ2VyJyA6ICcnKTtcbiAgICB9LFxuICAgIHdlZWsgOiB7XG4gICAgICAgIGRvdyA6IDEsIC8vIE1vbmRheSBpcyB0aGUgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrLlxuICAgICAgICBkb3kgOiA0ICAvLyBUaGUgd2VlayB0aGF0IGNvbnRhaW5zIEphbiA0dGggaXMgdGhlIGZpcnN0IHdlZWsgb2YgdGhlIHllYXIuXG4gICAgfVxufSk7XG5cbnJldHVybiBmcjtcblxufSkpKTtcbiIsIi8vISBtb21lbnQuanNcbi8vISB2ZXJzaW9uIDogMi4xNy4xXG4vLyEgYXV0aG9ycyA6IFRpbSBXb29kLCBJc2tyZW4gQ2hlcm5ldiwgTW9tZW50LmpzIGNvbnRyaWJ1dG9yc1xuLy8hIGxpY2Vuc2UgOiBNSVRcbi8vISBtb21lbnRqcy5jb21cblxuOyhmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gICAgZ2xvYmFsLm1vbWVudCA9IGZhY3RvcnkoKVxufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbnZhciBob29rQ2FsbGJhY2s7XG5cbmZ1bmN0aW9uIGhvb2tzICgpIHtcbiAgICByZXR1cm4gaG9va0NhbGxiYWNrLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59XG5cbi8vIFRoaXMgaXMgZG9uZSB0byByZWdpc3RlciB0aGUgbWV0aG9kIGNhbGxlZCB3aXRoIG1vbWVudCgpXG4vLyB3aXRob3V0IGNyZWF0aW5nIGNpcmN1bGFyIGRlcGVuZGVuY2llcy5cbmZ1bmN0aW9uIHNldEhvb2tDYWxsYmFjayAoY2FsbGJhY2spIHtcbiAgICBob29rQ2FsbGJhY2sgPSBjYWxsYmFjaztcbn1cblxuZnVuY3Rpb24gaXNBcnJheShpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dCBpbnN0YW5jZW9mIEFycmF5IHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGlucHV0KSB7XG4gICAgLy8gSUU4IHdpbGwgdHJlYXQgdW5kZWZpbmVkIGFuZCBudWxsIGFzIG9iamVjdCBpZiBpdCB3YXNuJ3QgZm9yXG4gICAgLy8gaW5wdXQgIT0gbnVsbFxuICAgIHJldHVybiBpbnB1dCAhPSBudWxsICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdEVtcHR5KG9iaikge1xuICAgIHZhciBrO1xuICAgIGZvciAoayBpbiBvYmopIHtcbiAgICAgICAgLy8gZXZlbiBpZiBpdHMgbm90IG93biBwcm9wZXJ0eSBJJ2Qgc3RpbGwgY2FsbCBpdCBub24tZW1wdHlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIoaW5wdXQpIHtcbiAgICByZXR1cm4gdHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJyB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBOdW1iZXJdJztcbn1cblxuZnVuY3Rpb24gaXNEYXRlKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgRGF0ZSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5cbmZ1bmN0aW9uIG1hcChhcnIsIGZuKSB7XG4gICAgdmFyIHJlcyA9IFtdLCBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgcmVzLnB1c2goZm4oYXJyW2ldLCBpKSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIGhhc093blByb3AoYSwgYikge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSwgYik7XG59XG5cbmZ1bmN0aW9uIGV4dGVuZChhLCBiKSB7XG4gICAgZm9yICh2YXIgaSBpbiBiKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wKGIsIGkpKSB7XG4gICAgICAgICAgICBhW2ldID0gYltpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChoYXNPd25Qcm9wKGIsICd0b1N0cmluZycpKSB7XG4gICAgICAgIGEudG9TdHJpbmcgPSBiLnRvU3RyaW5nO1xuICAgIH1cblxuICAgIGlmIChoYXNPd25Qcm9wKGIsICd2YWx1ZU9mJykpIHtcbiAgICAgICAgYS52YWx1ZU9mID0gYi52YWx1ZU9mO1xuICAgIH1cblxuICAgIHJldHVybiBhO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVVVEMgKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0KSB7XG4gICAgcmV0dXJuIGNyZWF0ZUxvY2FsT3JVVEMoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIHRydWUpLnV0YygpO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0UGFyc2luZ0ZsYWdzKCkge1xuICAgIC8vIFdlIG5lZWQgdG8gZGVlcCBjbG9uZSB0aGlzIG9iamVjdC5cbiAgICByZXR1cm4ge1xuICAgICAgICBlbXB0eSAgICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgdW51c2VkVG9rZW5zICAgIDogW10sXG4gICAgICAgIHVudXNlZElucHV0ICAgICA6IFtdLFxuICAgICAgICBvdmVyZmxvdyAgICAgICAgOiAtMixcbiAgICAgICAgY2hhcnNMZWZ0T3ZlciAgIDogMCxcbiAgICAgICAgbnVsbElucHV0ICAgICAgIDogZmFsc2UsXG4gICAgICAgIGludmFsaWRNb250aCAgICA6IG51bGwsXG4gICAgICAgIGludmFsaWRGb3JtYXQgICA6IGZhbHNlLFxuICAgICAgICB1c2VySW52YWxpZGF0ZWQgOiBmYWxzZSxcbiAgICAgICAgaXNvICAgICAgICAgICAgIDogZmFsc2UsXG4gICAgICAgIHBhcnNlZERhdGVQYXJ0cyA6IFtdLFxuICAgICAgICBtZXJpZGllbSAgICAgICAgOiBudWxsXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyc2luZ0ZsYWdzKG0pIHtcbiAgICBpZiAobS5fcGYgPT0gbnVsbCkge1xuICAgICAgICBtLl9wZiA9IGRlZmF1bHRQYXJzaW5nRmxhZ3MoKTtcbiAgICB9XG4gICAgcmV0dXJuIG0uX3BmO1xufVxuXG52YXIgc29tZTtcbmlmIChBcnJheS5wcm90b3R5cGUuc29tZSkge1xuICAgIHNvbWUgPSBBcnJheS5wcm90b3R5cGUuc29tZTtcbn0gZWxzZSB7XG4gICAgc29tZSA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICAgICAgdmFyIHQgPSBPYmplY3QodGhpcyk7XG4gICAgICAgIHZhciBsZW4gPSB0Lmxlbmd0aCA+Pj4gMDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSBpbiB0ICYmIGZ1bi5jYWxsKHRoaXMsIHRbaV0sIGksIHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbn1cblxudmFyIHNvbWUkMSA9IHNvbWU7XG5cbmZ1bmN0aW9uIGlzVmFsaWQobSkge1xuICAgIGlmIChtLl9pc1ZhbGlkID09IG51bGwpIHtcbiAgICAgICAgdmFyIGZsYWdzID0gZ2V0UGFyc2luZ0ZsYWdzKG0pO1xuICAgICAgICB2YXIgcGFyc2VkUGFydHMgPSBzb21lJDEuY2FsbChmbGFncy5wYXJzZWREYXRlUGFydHMsIGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICByZXR1cm4gaSAhPSBudWxsO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGlzTm93VmFsaWQgPSAhaXNOYU4obS5fZC5nZXRUaW1lKCkpICYmXG4gICAgICAgICAgICBmbGFncy5vdmVyZmxvdyA8IDAgJiZcbiAgICAgICAgICAgICFmbGFncy5lbXB0eSAmJlxuICAgICAgICAgICAgIWZsYWdzLmludmFsaWRNb250aCAmJlxuICAgICAgICAgICAgIWZsYWdzLmludmFsaWRXZWVrZGF5ICYmXG4gICAgICAgICAgICAhZmxhZ3MubnVsbElucHV0ICYmXG4gICAgICAgICAgICAhZmxhZ3MuaW52YWxpZEZvcm1hdCAmJlxuICAgICAgICAgICAgIWZsYWdzLnVzZXJJbnZhbGlkYXRlZCAmJlxuICAgICAgICAgICAgKCFmbGFncy5tZXJpZGllbSB8fCAoZmxhZ3MubWVyaWRpZW0gJiYgcGFyc2VkUGFydHMpKTtcblxuICAgICAgICBpZiAobS5fc3RyaWN0KSB7XG4gICAgICAgICAgICBpc05vd1ZhbGlkID0gaXNOb3dWYWxpZCAmJlxuICAgICAgICAgICAgICAgIGZsYWdzLmNoYXJzTGVmdE92ZXIgPT09IDAgJiZcbiAgICAgICAgICAgICAgICBmbGFncy51bnVzZWRUb2tlbnMubGVuZ3RoID09PSAwICYmXG4gICAgICAgICAgICAgICAgZmxhZ3MuYmlnSG91ciA9PT0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE9iamVjdC5pc0Zyb3plbiA9PSBudWxsIHx8ICFPYmplY3QuaXNGcm96ZW4obSkpIHtcbiAgICAgICAgICAgIG0uX2lzVmFsaWQgPSBpc05vd1ZhbGlkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGlzTm93VmFsaWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG0uX2lzVmFsaWQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUludmFsaWQgKGZsYWdzKSB7XG4gICAgdmFyIG0gPSBjcmVhdGVVVEMoTmFOKTtcbiAgICBpZiAoZmxhZ3MgIT0gbnVsbCkge1xuICAgICAgICBleHRlbmQoZ2V0UGFyc2luZ0ZsYWdzKG0pLCBmbGFncyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MobSkudXNlckludmFsaWRhdGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbTtcbn1cblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgPT09IHZvaWQgMDtcbn1cblxuLy8gUGx1Z2lucyB0aGF0IGFkZCBwcm9wZXJ0aWVzIHNob3VsZCBhbHNvIGFkZCB0aGUga2V5IGhlcmUgKG51bGwgdmFsdWUpLFxuLy8gc28gd2UgY2FuIHByb3Blcmx5IGNsb25lIG91cnNlbHZlcy5cbnZhciBtb21lbnRQcm9wZXJ0aWVzID0gaG9va3MubW9tZW50UHJvcGVydGllcyA9IFtdO1xuXG5mdW5jdGlvbiBjb3B5Q29uZmlnKHRvLCBmcm9tKSB7XG4gICAgdmFyIGksIHByb3AsIHZhbDtcblxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faXNBTW9tZW50T2JqZWN0KSkge1xuICAgICAgICB0by5faXNBTW9tZW50T2JqZWN0ID0gZnJvbS5faXNBTW9tZW50T2JqZWN0O1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2kpKSB7XG4gICAgICAgIHRvLl9pID0gZnJvbS5faTtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9mKSkge1xuICAgICAgICB0by5fZiA9IGZyb20uX2Y7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fbCkpIHtcbiAgICAgICAgdG8uX2wgPSBmcm9tLl9sO1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX3N0cmljdCkpIHtcbiAgICAgICAgdG8uX3N0cmljdCA9IGZyb20uX3N0cmljdDtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl90em0pKSB7XG4gICAgICAgIHRvLl90em0gPSBmcm9tLl90em07XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faXNVVEMpKSB7XG4gICAgICAgIHRvLl9pc1VUQyA9IGZyb20uX2lzVVRDO1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX29mZnNldCkpIHtcbiAgICAgICAgdG8uX29mZnNldCA9IGZyb20uX29mZnNldDtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9wZikpIHtcbiAgICAgICAgdG8uX3BmID0gZ2V0UGFyc2luZ0ZsYWdzKGZyb20pO1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2xvY2FsZSkpIHtcbiAgICAgICAgdG8uX2xvY2FsZSA9IGZyb20uX2xvY2FsZTtcbiAgICB9XG5cbiAgICBpZiAobW9tZW50UHJvcGVydGllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAoaSBpbiBtb21lbnRQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBwcm9wID0gbW9tZW50UHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIHZhbCA9IGZyb21bcHJvcF07XG4gICAgICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKHZhbCkpIHtcbiAgICAgICAgICAgICAgICB0b1twcm9wXSA9IHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0bztcbn1cblxudmFyIHVwZGF0ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcblxuLy8gTW9tZW50IHByb3RvdHlwZSBvYmplY3RcbmZ1bmN0aW9uIE1vbWVudChjb25maWcpIHtcbiAgICBjb3B5Q29uZmlnKHRoaXMsIGNvbmZpZyk7XG4gICAgdGhpcy5fZCA9IG5ldyBEYXRlKGNvbmZpZy5fZCAhPSBudWxsID8gY29uZmlnLl9kLmdldFRpbWUoKSA6IE5hTik7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICB0aGlzLl9kID0gbmV3IERhdGUoTmFOKTtcbiAgICB9XG4gICAgLy8gUHJldmVudCBpbmZpbml0ZSBsb29wIGluIGNhc2UgdXBkYXRlT2Zmc2V0IGNyZWF0ZXMgbmV3IG1vbWVudFxuICAgIC8vIG9iamVjdHMuXG4gICAgaWYgKHVwZGF0ZUluUHJvZ3Jlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgIHVwZGF0ZUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcyk7XG4gICAgICAgIHVwZGF0ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzTW9tZW50IChvYmopIHtcbiAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgTW9tZW50IHx8IChvYmogIT0gbnVsbCAmJiBvYmouX2lzQU1vbWVudE9iamVjdCAhPSBudWxsKTtcbn1cblxuZnVuY3Rpb24gYWJzRmxvb3IgKG51bWJlcikge1xuICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgIC8vIC0wIC0+IDBcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbChudW1iZXIpIHx8IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IobnVtYmVyKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHRvSW50KGFyZ3VtZW50Rm9yQ29lcmNpb24pIHtcbiAgICB2YXIgY29lcmNlZE51bWJlciA9ICthcmd1bWVudEZvckNvZXJjaW9uLFxuICAgICAgICB2YWx1ZSA9IDA7XG5cbiAgICBpZiAoY29lcmNlZE51bWJlciAhPT0gMCAmJiBpc0Zpbml0ZShjb2VyY2VkTnVtYmVyKSkge1xuICAgICAgICB2YWx1ZSA9IGFic0Zsb29yKGNvZXJjZWROdW1iZXIpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbn1cblxuLy8gY29tcGFyZSB0d28gYXJyYXlzLCByZXR1cm4gdGhlIG51bWJlciBvZiBkaWZmZXJlbmNlc1xuZnVuY3Rpb24gY29tcGFyZUFycmF5cyhhcnJheTEsIGFycmF5MiwgZG9udENvbnZlcnQpIHtcbiAgICB2YXIgbGVuID0gTWF0aC5taW4oYXJyYXkxLmxlbmd0aCwgYXJyYXkyLmxlbmd0aCksXG4gICAgICAgIGxlbmd0aERpZmYgPSBNYXRoLmFicyhhcnJheTEubGVuZ3RoIC0gYXJyYXkyLmxlbmd0aCksXG4gICAgICAgIGRpZmZzID0gMCxcbiAgICAgICAgaTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKChkb250Q29udmVydCAmJiBhcnJheTFbaV0gIT09IGFycmF5MltpXSkgfHxcbiAgICAgICAgICAgICghZG9udENvbnZlcnQgJiYgdG9JbnQoYXJyYXkxW2ldKSAhPT0gdG9JbnQoYXJyYXkyW2ldKSkpIHtcbiAgICAgICAgICAgIGRpZmZzKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRpZmZzICsgbGVuZ3RoRGlmZjtcbn1cblxuZnVuY3Rpb24gd2Fybihtc2cpIHtcbiAgICBpZiAoaG9va3Muc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzID09PSBmYWxzZSAmJlxuICAgICAgICAgICAgKHR5cGVvZiBjb25zb2xlICE9PSAgJ3VuZGVmaW5lZCcpICYmIGNvbnNvbGUud2Fybikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0RlcHJlY2F0aW9uIHdhcm5pbmc6ICcgKyBtc2cpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGVwcmVjYXRlKG1zZywgZm4pIHtcbiAgICB2YXIgZmlyc3RUaW1lID0gdHJ1ZTtcblxuICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlcihudWxsLCBtc2cpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaXJzdFRpbWUpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICB2YXIgYXJnO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBhcmcgPSAnJztcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1tpXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnICs9ICdcXG5bJyArIGkgKyAnXSAnO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gYXJndW1lbnRzWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgKz0ga2V5ICsgJzogJyArIGFyZ3VtZW50c1swXVtrZXldICsgJywgJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmcuc2xpY2UoMCwgLTIpOyAvLyBSZW1vdmUgdHJhaWxpbmcgY29tbWEgYW5kIHNwYWNlXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhcmdzLnB1c2goYXJnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdhcm4obXNnICsgJ1xcbkFyZ3VtZW50czogJyArIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MpLmpvaW4oJycpICsgJ1xcbicgKyAobmV3IEVycm9yKCkpLnN0YWNrKTtcbiAgICAgICAgICAgIGZpcnN0VGltZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH0sIGZuKTtcbn1cblxudmFyIGRlcHJlY2F0aW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBkZXByZWNhdGVTaW1wbGUobmFtZSwgbXNnKSB7XG4gICAgaWYgKGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlciAhPSBudWxsKSB7XG4gICAgICAgIGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlcihuYW1lLCBtc2cpO1xuICAgIH1cbiAgICBpZiAoIWRlcHJlY2F0aW9uc1tuYW1lXSkge1xuICAgICAgICB3YXJuKG1zZyk7XG4gICAgICAgIGRlcHJlY2F0aW9uc1tuYW1lXSA9IHRydWU7XG4gICAgfVxufVxuXG5ob29rcy5zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZ3MgPSBmYWxzZTtcbmhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlciA9IG51bGw7XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBGdW5jdGlvbiB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufVxuXG5mdW5jdGlvbiBzZXQgKGNvbmZpZykge1xuICAgIHZhciBwcm9wLCBpO1xuICAgIGZvciAoaSBpbiBjb25maWcpIHtcbiAgICAgICAgcHJvcCA9IGNvbmZpZ1tpXTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ocHJvcCkpIHtcbiAgICAgICAgICAgIHRoaXNbaV0gPSBwcm9wO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpc1snXycgKyBpXSA9IHByb3A7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgIC8vIExlbmllbnQgb3JkaW5hbCBwYXJzaW5nIGFjY2VwdHMganVzdCBhIG51bWJlciBpbiBhZGRpdGlvbiB0b1xuICAgIC8vIG51bWJlciArIChwb3NzaWJseSkgc3R1ZmYgY29taW5nIGZyb20gX29yZGluYWxQYXJzZUxlbmllbnQuXG4gICAgdGhpcy5fb3JkaW5hbFBhcnNlTGVuaWVudCA9IG5ldyBSZWdFeHAodGhpcy5fb3JkaW5hbFBhcnNlLnNvdXJjZSArICd8JyArICgvXFxkezEsMn0vKS5zb3VyY2UpO1xufVxuXG5mdW5jdGlvbiBtZXJnZUNvbmZpZ3MocGFyZW50Q29uZmlnLCBjaGlsZENvbmZpZykge1xuICAgIHZhciByZXMgPSBleHRlbmQoe30sIHBhcmVudENvbmZpZyksIHByb3A7XG4gICAgZm9yIChwcm9wIGluIGNoaWxkQ29uZmlnKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wKGNoaWxkQ29uZmlnLCBwcm9wKSkge1xuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KHBhcmVudENvbmZpZ1twcm9wXSkgJiYgaXNPYmplY3QoY2hpbGRDb25maWdbcHJvcF0pKSB7XG4gICAgICAgICAgICAgICAgcmVzW3Byb3BdID0ge307XG4gICAgICAgICAgICAgICAgZXh0ZW5kKHJlc1twcm9wXSwgcGFyZW50Q29uZmlnW3Byb3BdKTtcbiAgICAgICAgICAgICAgICBleHRlbmQocmVzW3Byb3BdLCBjaGlsZENvbmZpZ1twcm9wXSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoaWxkQ29uZmlnW3Byb3BdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXNbcHJvcF0gPSBjaGlsZENvbmZpZ1twcm9wXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHJlc1twcm9wXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHByb3AgaW4gcGFyZW50Q29uZmlnKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wKHBhcmVudENvbmZpZywgcHJvcCkgJiZcbiAgICAgICAgICAgICAgICAhaGFzT3duUHJvcChjaGlsZENvbmZpZywgcHJvcCkgJiZcbiAgICAgICAgICAgICAgICBpc09iamVjdChwYXJlbnRDb25maWdbcHJvcF0pKSB7XG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgY2hhbmdlcyB0byBwcm9wZXJ0aWVzIGRvbid0IG1vZGlmeSBwYXJlbnQgY29uZmlnXG4gICAgICAgICAgICByZXNbcHJvcF0gPSBleHRlbmQoe30sIHJlc1twcm9wXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gTG9jYWxlKGNvbmZpZykge1xuICAgIGlmIChjb25maWcgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnNldChjb25maWcpO1xuICAgIH1cbn1cblxudmFyIGtleXM7XG5cbmlmIChPYmplY3Qua2V5cykge1xuICAgIGtleXMgPSBPYmplY3Qua2V5cztcbn0gZWxzZSB7XG4gICAga2V5cyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgdmFyIGksIHJlcyA9IFtdO1xuICAgICAgICBmb3IgKGkgaW4gb2JqKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcChvYmosIGkpKSB7XG4gICAgICAgICAgICAgICAgcmVzLnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xufVxuXG52YXIga2V5cyQxID0ga2V5cztcblxudmFyIGRlZmF1bHRDYWxlbmRhciA9IHtcbiAgICBzYW1lRGF5IDogJ1tUb2RheSBhdF0gTFQnLFxuICAgIG5leHREYXkgOiAnW1RvbW9ycm93IGF0XSBMVCcsXG4gICAgbmV4dFdlZWsgOiAnZGRkZCBbYXRdIExUJyxcbiAgICBsYXN0RGF5IDogJ1tZZXN0ZXJkYXkgYXRdIExUJyxcbiAgICBsYXN0V2VlayA6ICdbTGFzdF0gZGRkZCBbYXRdIExUJyxcbiAgICBzYW1lRWxzZSA6ICdMJ1xufTtcblxuZnVuY3Rpb24gY2FsZW5kYXIgKGtleSwgbW9tLCBub3cpIHtcbiAgICB2YXIgb3V0cHV0ID0gdGhpcy5fY2FsZW5kYXJba2V5XSB8fCB0aGlzLl9jYWxlbmRhclsnc2FtZUVsc2UnXTtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihvdXRwdXQpID8gb3V0cHV0LmNhbGwobW9tLCBub3cpIDogb3V0cHV0O1xufVxuXG52YXIgZGVmYXVsdExvbmdEYXRlRm9ybWF0ID0ge1xuICAgIExUUyAgOiAnaDptbTpzcyBBJyxcbiAgICBMVCAgIDogJ2g6bW0gQScsXG4gICAgTCAgICA6ICdNTS9ERC9ZWVlZJyxcbiAgICBMTCAgIDogJ01NTU0gRCwgWVlZWScsXG4gICAgTExMICA6ICdNTU1NIEQsIFlZWVkgaDptbSBBJyxcbiAgICBMTExMIDogJ2RkZGQsIE1NTU0gRCwgWVlZWSBoOm1tIEEnXG59O1xuXG5mdW5jdGlvbiBsb25nRGF0ZUZvcm1hdCAoa2V5KSB7XG4gICAgdmFyIGZvcm1hdCA9IHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleV0sXG4gICAgICAgIGZvcm1hdFVwcGVyID0gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5LnRvVXBwZXJDYXNlKCldO1xuXG4gICAgaWYgKGZvcm1hdCB8fCAhZm9ybWF0VXBwZXIpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdDtcbiAgICB9XG5cbiAgICB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldID0gZm9ybWF0VXBwZXIucmVwbGFjZSgvTU1NTXxNTXxERHxkZGRkL2csIGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHZhbC5zbGljZSgxKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldO1xufVxuXG52YXIgZGVmYXVsdEludmFsaWREYXRlID0gJ0ludmFsaWQgZGF0ZSc7XG5cbmZ1bmN0aW9uIGludmFsaWREYXRlICgpIHtcbiAgICByZXR1cm4gdGhpcy5faW52YWxpZERhdGU7XG59XG5cbnZhciBkZWZhdWx0T3JkaW5hbCA9ICclZCc7XG52YXIgZGVmYXVsdE9yZGluYWxQYXJzZSA9IC9cXGR7MSwyfS87XG5cbmZ1bmN0aW9uIG9yZGluYWwgKG51bWJlcikge1xuICAgIHJldHVybiB0aGlzLl9vcmRpbmFsLnJlcGxhY2UoJyVkJywgbnVtYmVyKTtcbn1cblxudmFyIGRlZmF1bHRSZWxhdGl2ZVRpbWUgPSB7XG4gICAgZnV0dXJlIDogJ2luICVzJyxcbiAgICBwYXN0ICAgOiAnJXMgYWdvJyxcbiAgICBzICA6ICdhIGZldyBzZWNvbmRzJyxcbiAgICBtICA6ICdhIG1pbnV0ZScsXG4gICAgbW0gOiAnJWQgbWludXRlcycsXG4gICAgaCAgOiAnYW4gaG91cicsXG4gICAgaGggOiAnJWQgaG91cnMnLFxuICAgIGQgIDogJ2EgZGF5JyxcbiAgICBkZCA6ICclZCBkYXlzJyxcbiAgICBNICA6ICdhIG1vbnRoJyxcbiAgICBNTSA6ICclZCBtb250aHMnLFxuICAgIHkgIDogJ2EgeWVhcicsXG4gICAgeXkgOiAnJWQgeWVhcnMnXG59O1xuXG5mdW5jdGlvbiByZWxhdGl2ZVRpbWUgKG51bWJlciwgd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSkge1xuICAgIHZhciBvdXRwdXQgPSB0aGlzLl9yZWxhdGl2ZVRpbWVbc3RyaW5nXTtcbiAgICByZXR1cm4gKGlzRnVuY3Rpb24ob3V0cHV0KSkgP1xuICAgICAgICBvdXRwdXQobnVtYmVyLCB3aXRob3V0U3VmZml4LCBzdHJpbmcsIGlzRnV0dXJlKSA6XG4gICAgICAgIG91dHB1dC5yZXBsYWNlKC8lZC9pLCBudW1iZXIpO1xufVxuXG5mdW5jdGlvbiBwYXN0RnV0dXJlIChkaWZmLCBvdXRwdXQpIHtcbiAgICB2YXIgZm9ybWF0ID0gdGhpcy5fcmVsYXRpdmVUaW1lW2RpZmYgPiAwID8gJ2Z1dHVyZScgOiAncGFzdCddO1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKGZvcm1hdCkgPyBmb3JtYXQob3V0cHV0KSA6IGZvcm1hdC5yZXBsYWNlKC8lcy9pLCBvdXRwdXQpO1xufVxuXG52YXIgYWxpYXNlcyA9IHt9O1xuXG5mdW5jdGlvbiBhZGRVbml0QWxpYXMgKHVuaXQsIHNob3J0aGFuZCkge1xuICAgIHZhciBsb3dlckNhc2UgPSB1bml0LnRvTG93ZXJDYXNlKCk7XG4gICAgYWxpYXNlc1tsb3dlckNhc2VdID0gYWxpYXNlc1tsb3dlckNhc2UgKyAncyddID0gYWxpYXNlc1tzaG9ydGhhbmRdID0gdW5pdDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplVW5pdHModW5pdHMpIHtcbiAgICByZXR1cm4gdHlwZW9mIHVuaXRzID09PSAnc3RyaW5nJyA/IGFsaWFzZXNbdW5pdHNdIHx8IGFsaWFzZXNbdW5pdHMudG9Mb3dlckNhc2UoKV0gOiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZU9iamVjdFVuaXRzKGlucHV0T2JqZWN0KSB7XG4gICAgdmFyIG5vcm1hbGl6ZWRJbnB1dCA9IHt9LFxuICAgICAgICBub3JtYWxpemVkUHJvcCxcbiAgICAgICAgcHJvcDtcblxuICAgIGZvciAocHJvcCBpbiBpbnB1dE9iamVjdCkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcChpbnB1dE9iamVjdCwgcHJvcCkpIHtcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRQcm9wID0gbm9ybWFsaXplVW5pdHMocHJvcCk7XG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZFByb3ApIHtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkSW5wdXRbbm9ybWFsaXplZFByb3BdID0gaW5wdXRPYmplY3RbcHJvcF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbm9ybWFsaXplZElucHV0O1xufVxuXG52YXIgcHJpb3JpdGllcyA9IHt9O1xuXG5mdW5jdGlvbiBhZGRVbml0UHJpb3JpdHkodW5pdCwgcHJpb3JpdHkpIHtcbiAgICBwcmlvcml0aWVzW3VuaXRdID0gcHJpb3JpdHk7XG59XG5cbmZ1bmN0aW9uIGdldFByaW9yaXRpemVkVW5pdHModW5pdHNPYmopIHtcbiAgICB2YXIgdW5pdHMgPSBbXTtcbiAgICBmb3IgKHZhciB1IGluIHVuaXRzT2JqKSB7XG4gICAgICAgIHVuaXRzLnB1c2goe3VuaXQ6IHUsIHByaW9yaXR5OiBwcmlvcml0aWVzW3VdfSk7XG4gICAgfVxuICAgIHVuaXRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEucHJpb3JpdHkgLSBiLnByaW9yaXR5O1xuICAgIH0pO1xuICAgIHJldHVybiB1bml0cztcbn1cblxuZnVuY3Rpb24gbWFrZUdldFNldCAodW5pdCwga2VlcFRpbWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBzZXQkMSh0aGlzLCB1bml0LCB2YWx1ZSk7XG4gICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywga2VlcFRpbWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0KHRoaXMsIHVuaXQpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0IChtb20sIHVuaXQpIHtcbiAgICByZXR1cm4gbW9tLmlzVmFsaWQoKSA/XG4gICAgICAgIG1vbS5fZFsnZ2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyB1bml0XSgpIDogTmFOO1xufVxuXG5mdW5jdGlvbiBzZXQkMSAobW9tLCB1bml0LCB2YWx1ZSkge1xuICAgIGlmIChtb20uaXNWYWxpZCgpKSB7XG4gICAgICAgIG1vbS5fZFsnc2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyB1bml0XSh2YWx1ZSk7XG4gICAgfVxufVxuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIHN0cmluZ0dldCAodW5pdHMpIHtcbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICBpZiAoaXNGdW5jdGlvbih0aGlzW3VuaXRzXSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbdW5pdHNdKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufVxuXG5cbmZ1bmN0aW9uIHN0cmluZ1NldCAodW5pdHMsIHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB1bml0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVPYmplY3RVbml0cyh1bml0cyk7XG4gICAgICAgIHZhciBwcmlvcml0aXplZCA9IGdldFByaW9yaXRpemVkVW5pdHModW5pdHMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByaW9yaXRpemVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzW3ByaW9yaXRpemVkW2ldLnVuaXRdKHVuaXRzW3ByaW9yaXRpemVkW2ldLnVuaXRdKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzW3VuaXRzXSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzW3VuaXRzXSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHplcm9GaWxsKG51bWJlciwgdGFyZ2V0TGVuZ3RoLCBmb3JjZVNpZ24pIHtcbiAgICB2YXIgYWJzTnVtYmVyID0gJycgKyBNYXRoLmFicyhudW1iZXIpLFxuICAgICAgICB6ZXJvc1RvRmlsbCA9IHRhcmdldExlbmd0aCAtIGFic051bWJlci5sZW5ndGgsXG4gICAgICAgIHNpZ24gPSBudW1iZXIgPj0gMDtcbiAgICByZXR1cm4gKHNpZ24gPyAoZm9yY2VTaWduID8gJysnIDogJycpIDogJy0nKSArXG4gICAgICAgIE1hdGgucG93KDEwLCBNYXRoLm1heCgwLCB6ZXJvc1RvRmlsbCkpLnRvU3RyaW5nKCkuc3Vic3RyKDEpICsgYWJzTnVtYmVyO1xufVxuXG52YXIgZm9ybWF0dGluZ1Rva2VucyA9IC8oXFxbW15cXFtdKlxcXSl8KFxcXFwpPyhbSGhdbW0oc3MpP3xNb3xNTT9NP00/fERvfERERG98REQ/RD9EP3xkZGQ/ZD98ZG8/fHdbb3x3XT98V1tvfFddP3xRbz98WVlZWVlZfFlZWVlZfFlZWVl8WVl8Z2coZ2dnPyk/fEdHKEdHRz8pP3xlfEV8YXxBfGhoP3xISD98a2s/fG1tP3xzcz98U3sxLDl9fHh8WHx6ej98Wlo/fC4pL2c7XG5cbnZhciBsb2NhbEZvcm1hdHRpbmdUb2tlbnMgPSAvKFxcW1teXFxbXSpcXF0pfChcXFxcKT8oTFRTfExUfExMP0w/TD98bHsxLDR9KS9nO1xuXG52YXIgZm9ybWF0RnVuY3Rpb25zID0ge307XG5cbnZhciBmb3JtYXRUb2tlbkZ1bmN0aW9ucyA9IHt9O1xuXG4vLyB0b2tlbjogICAgJ00nXG4vLyBwYWRkZWQ6ICAgWydNTScsIDJdXG4vLyBvcmRpbmFsOiAgJ01vJ1xuLy8gY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHsgdGhpcy5tb250aCgpICsgMSB9XG5mdW5jdGlvbiBhZGRGb3JtYXRUb2tlbiAodG9rZW4sIHBhZGRlZCwgb3JkaW5hbCwgY2FsbGJhY2spIHtcbiAgICB2YXIgZnVuYyA9IGNhbGxiYWNrO1xuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGZ1bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1tjYWxsYmFja10oKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHRva2VuKSB7XG4gICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW3Rva2VuXSA9IGZ1bmM7XG4gICAgfVxuICAgIGlmIChwYWRkZWQpIHtcbiAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbcGFkZGVkWzBdXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB6ZXJvRmlsbChmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHBhZGRlZFsxXSwgcGFkZGVkWzJdKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKG9yZGluYWwpIHtcbiAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbb3JkaW5hbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkub3JkaW5hbChmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHRva2VuKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUZvcm1hdHRpbmdUb2tlbnMoaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQubWF0Y2goL1xcW1tcXHNcXFNdLykpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL15cXFt8XFxdJC9nLCAnJyk7XG4gICAgfVxuICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKC9cXFxcL2csICcnKTtcbn1cblxuZnVuY3Rpb24gbWFrZUZvcm1hdEZ1bmN0aW9uKGZvcm1hdCkge1xuICAgIHZhciBhcnJheSA9IGZvcm1hdC5tYXRjaChmb3JtYXR0aW5nVG9rZW5zKSwgaSwgbGVuZ3RoO1xuXG4gICAgZm9yIChpID0gMCwgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGZvcm1hdFRva2VuRnVuY3Rpb25zW2FycmF5W2ldXSkge1xuICAgICAgICAgICAgYXJyYXlbaV0gPSBmb3JtYXRUb2tlbkZ1bmN0aW9uc1thcnJheVtpXV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcnJheVtpXSA9IHJlbW92ZUZvcm1hdHRpbmdUb2tlbnMoYXJyYXlbaV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChtb20pIHtcbiAgICAgICAgdmFyIG91dHB1dCA9ICcnLCBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG91dHB1dCArPSBhcnJheVtpXSBpbnN0YW5jZW9mIEZ1bmN0aW9uID8gYXJyYXlbaV0uY2FsbChtb20sIGZvcm1hdCkgOiBhcnJheVtpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG59XG5cbi8vIGZvcm1hdCBkYXRlIHVzaW5nIG5hdGl2ZSBkYXRlIG9iamVjdFxuZnVuY3Rpb24gZm9ybWF0TW9tZW50KG0sIGZvcm1hdCkge1xuICAgIGlmICghbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIG0ubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgfVxuXG4gICAgZm9ybWF0ID0gZXhwYW5kRm9ybWF0KGZvcm1hdCwgbS5sb2NhbGVEYXRhKCkpO1xuICAgIGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdID0gZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0gfHwgbWFrZUZvcm1hdEZ1bmN0aW9uKGZvcm1hdCk7XG5cbiAgICByZXR1cm4gZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0obSk7XG59XG5cbmZ1bmN0aW9uIGV4cGFuZEZvcm1hdChmb3JtYXQsIGxvY2FsZSkge1xuICAgIHZhciBpID0gNTtcblxuICAgIGZ1bmN0aW9uIHJlcGxhY2VMb25nRGF0ZUZvcm1hdFRva2VucyhpbnB1dCkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLmxvbmdEYXRlRm9ybWF0KGlucHV0KSB8fCBpbnB1dDtcbiAgICB9XG5cbiAgICBsb2NhbEZvcm1hdHRpbmdUb2tlbnMubGFzdEluZGV4ID0gMDtcbiAgICB3aGlsZSAoaSA+PSAwICYmIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy50ZXN0KGZvcm1hdCkpIHtcbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UobG9jYWxGb3JtYXR0aW5nVG9rZW5zLCByZXBsYWNlTG9uZ0RhdGVGb3JtYXRUb2tlbnMpO1xuICAgICAgICBsb2NhbEZvcm1hdHRpbmdUb2tlbnMubGFzdEluZGV4ID0gMDtcbiAgICAgICAgaSAtPSAxO1xuICAgIH1cblxuICAgIHJldHVybiBmb3JtYXQ7XG59XG5cbnZhciBtYXRjaDEgICAgICAgICA9IC9cXGQvOyAgICAgICAgICAgIC8vICAgICAgIDAgLSA5XG52YXIgbWF0Y2gyICAgICAgICAgPSAvXFxkXFxkLzsgICAgICAgICAgLy8gICAgICAwMCAtIDk5XG52YXIgbWF0Y2gzICAgICAgICAgPSAvXFxkezN9LzsgICAgICAgICAvLyAgICAgMDAwIC0gOTk5XG52YXIgbWF0Y2g0ICAgICAgICAgPSAvXFxkezR9LzsgICAgICAgICAvLyAgICAwMDAwIC0gOTk5OVxudmFyIG1hdGNoNiAgICAgICAgID0gL1srLV0/XFxkezZ9LzsgICAgLy8gLTk5OTk5OSAtIDk5OTk5OVxudmFyIG1hdGNoMXRvMiAgICAgID0gL1xcZFxcZD8vOyAgICAgICAgIC8vICAgICAgIDAgLSA5OVxudmFyIG1hdGNoM3RvNCAgICAgID0gL1xcZFxcZFxcZFxcZD8vOyAgICAgLy8gICAgIDk5OSAtIDk5OTlcbnZhciBtYXRjaDV0bzYgICAgICA9IC9cXGRcXGRcXGRcXGRcXGRcXGQ/LzsgLy8gICA5OTk5OSAtIDk5OTk5OVxudmFyIG1hdGNoMXRvMyAgICAgID0gL1xcZHsxLDN9LzsgICAgICAgLy8gICAgICAgMCAtIDk5OVxudmFyIG1hdGNoMXRvNCAgICAgID0gL1xcZHsxLDR9LzsgICAgICAgLy8gICAgICAgMCAtIDk5OTlcbnZhciBtYXRjaDF0bzYgICAgICA9IC9bKy1dP1xcZHsxLDZ9LzsgIC8vIC05OTk5OTkgLSA5OTk5OTlcblxudmFyIG1hdGNoVW5zaWduZWQgID0gL1xcZCsvOyAgICAgICAgICAgLy8gICAgICAgMCAtIGluZlxudmFyIG1hdGNoU2lnbmVkICAgID0gL1srLV0/XFxkKy87ICAgICAgLy8gICAgLWluZiAtIGluZlxuXG52YXIgbWF0Y2hPZmZzZXQgICAgPSAvWnxbKy1dXFxkXFxkOj9cXGRcXGQvZ2k7IC8vICswMDowMCAtMDA6MDAgKzAwMDAgLTAwMDAgb3IgWlxudmFyIG1hdGNoU2hvcnRPZmZzZXQgPSAvWnxbKy1dXFxkXFxkKD86Oj9cXGRcXGQpPy9naTsgLy8gKzAwIC0wMCArMDA6MDAgLTAwOjAwICswMDAwIC0wMDAwIG9yIFpcblxudmFyIG1hdGNoVGltZXN0YW1wID0gL1srLV0/XFxkKyhcXC5cXGR7MSwzfSk/LzsgLy8gMTIzNDU2Nzg5IDEyMzQ1Njc4OS4xMjNcblxuLy8gYW55IHdvcmQgKG9yIHR3bykgY2hhcmFjdGVycyBvciBudW1iZXJzIGluY2x1ZGluZyB0d28vdGhyZWUgd29yZCBtb250aCBpbiBhcmFiaWMuXG4vLyBpbmNsdWRlcyBzY290dGlzaCBnYWVsaWMgdHdvIHdvcmQgYW5kIGh5cGhlbmF0ZWQgbW9udGhzXG52YXIgbWF0Y2hXb3JkID0gL1swLTldKlsnYS16XFx1MDBBMC1cXHUwNUZGXFx1MDcwMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSt8W1xcdTA2MDAtXFx1MDZGRlxcL10rKFxccyo/W1xcdTA2MDAtXFx1MDZGRl0rKXsxLDJ9L2k7XG5cblxudmFyIHJlZ2V4ZXMgPSB7fTtcblxuZnVuY3Rpb24gYWRkUmVnZXhUb2tlbiAodG9rZW4sIHJlZ2V4LCBzdHJpY3RSZWdleCkge1xuICAgIHJlZ2V4ZXNbdG9rZW5dID0gaXNGdW5jdGlvbihyZWdleCkgPyByZWdleCA6IGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlRGF0YSkge1xuICAgICAgICByZXR1cm4gKGlzU3RyaWN0ICYmIHN0cmljdFJlZ2V4KSA/IHN0cmljdFJlZ2V4IDogcmVnZXg7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyc2VSZWdleEZvclRva2VuICh0b2tlbiwgY29uZmlnKSB7XG4gICAgaWYgKCFoYXNPd25Qcm9wKHJlZ2V4ZXMsIHRva2VuKSkge1xuICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh1bmVzY2FwZUZvcm1hdCh0b2tlbikpO1xuICAgIH1cblxuICAgIHJldHVybiByZWdleGVzW3Rva2VuXShjb25maWcuX3N0cmljdCwgY29uZmlnLl9sb2NhbGUpO1xufVxuXG4vLyBDb2RlIGZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNTYxNDkzL2lzLXRoZXJlLWEtcmVnZXhwLWVzY2FwZS1mdW5jdGlvbi1pbi1qYXZhc2NyaXB0XG5mdW5jdGlvbiB1bmVzY2FwZUZvcm1hdChzKSB7XG4gICAgcmV0dXJuIHJlZ2V4RXNjYXBlKHMucmVwbGFjZSgnXFxcXCcsICcnKS5yZXBsYWNlKC9cXFxcKFxcWyl8XFxcXChcXF0pfFxcWyhbXlxcXVxcW10qKVxcXXxcXFxcKC4pL2csIGZ1bmN0aW9uIChtYXRjaGVkLCBwMSwgcDIsIHAzLCBwNCkge1xuICAgICAgICByZXR1cm4gcDEgfHwgcDIgfHwgcDMgfHwgcDQ7XG4gICAgfSkpO1xufVxuXG5mdW5jdGlvbiByZWdleEVzY2FwZShzKSB7XG4gICAgcmV0dXJuIHMucmVwbGFjZSgvWy1cXC9cXFxcXiQqKz8uKCl8W1xcXXt9XS9nLCAnXFxcXCQmJyk7XG59XG5cbnZhciB0b2tlbnMgPSB7fTtcblxuZnVuY3Rpb24gYWRkUGFyc2VUb2tlbiAodG9rZW4sIGNhbGxiYWNrKSB7XG4gICAgdmFyIGksIGZ1bmMgPSBjYWxsYmFjaztcbiAgICBpZiAodHlwZW9mIHRva2VuID09PSAnc3RyaW5nJykge1xuICAgICAgICB0b2tlbiA9IFt0b2tlbl07XG4gICAgfVxuICAgIGlmIChpc051bWJlcihjYWxsYmFjaykpIHtcbiAgICAgICAgZnVuYyA9IGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgICAgIGFycmF5W2NhbGxiYWNrXSA9IHRvSW50KGlucHV0KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IHRva2VuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRva2Vuc1t0b2tlbltpXV0gPSBmdW5jO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYWRkV2Vla1BhcnNlVG9rZW4gKHRva2VuLCBjYWxsYmFjaykge1xuICAgIGFkZFBhcnNlVG9rZW4odG9rZW4sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgY29uZmlnLl93ID0gY29uZmlnLl93IHx8IHt9O1xuICAgICAgICBjYWxsYmFjayhpbnB1dCwgY29uZmlnLl93LCBjb25maWcsIHRva2VuKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gYWRkVGltZVRvQXJyYXlGcm9tVG9rZW4odG9rZW4sIGlucHV0LCBjb25maWcpIHtcbiAgICBpZiAoaW5wdXQgIT0gbnVsbCAmJiBoYXNPd25Qcm9wKHRva2VucywgdG9rZW4pKSB7XG4gICAgICAgIHRva2Vuc1t0b2tlbl0oaW5wdXQsIGNvbmZpZy5fYSwgY29uZmlnLCB0b2tlbik7XG4gICAgfVxufVxuXG52YXIgWUVBUiA9IDA7XG52YXIgTU9OVEggPSAxO1xudmFyIERBVEUgPSAyO1xudmFyIEhPVVIgPSAzO1xudmFyIE1JTlVURSA9IDQ7XG52YXIgU0VDT05EID0gNTtcbnZhciBNSUxMSVNFQ09ORCA9IDY7XG52YXIgV0VFSyA9IDc7XG52YXIgV0VFS0RBWSA9IDg7XG5cbnZhciBpbmRleE9mO1xuXG5pZiAoQXJyYXkucHJvdG90eXBlLmluZGV4T2YpIHtcbiAgICBpbmRleE9mID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2Y7XG59IGVsc2Uge1xuICAgIGluZGV4T2YgPSBmdW5jdGlvbiAobykge1xuICAgICAgICAvLyBJIGtub3dcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAodGhpc1tpXSA9PT0gbykge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9O1xufVxuXG52YXIgaW5kZXhPZiQxID0gaW5kZXhPZjtcblxuZnVuY3Rpb24gZGF5c0luTW9udGgoeWVhciwgbW9udGgpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoeWVhciwgbW9udGggKyAxLCAwKSkuZ2V0VVRDRGF0ZSgpO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdNJywgWydNTScsIDJdLCAnTW8nLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubW9udGgoKSArIDE7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ01NTScsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzU2hvcnQodGhpcywgZm9ybWF0KTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignTU1NTScsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzKHRoaXMsIGZvcm1hdCk7XG59KTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ21vbnRoJywgJ00nKTtcblxuLy8gUFJJT1JJVFlcblxuYWRkVW5pdFByaW9yaXR5KCdtb250aCcsIDgpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ00nLCAgICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignTU0nLCAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ01NTScsICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUubW9udGhzU2hvcnRSZWdleChpc1N0cmljdCk7XG59KTtcbmFkZFJlZ2V4VG9rZW4oJ01NTU0nLCBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUubW9udGhzUmVnZXgoaXNTdHJpY3QpO1xufSk7XG5cbmFkZFBhcnNlVG9rZW4oWydNJywgJ01NJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICBhcnJheVtNT05USF0gPSB0b0ludChpbnB1dCkgLSAxO1xufSk7XG5cbmFkZFBhcnNlVG9rZW4oWydNTU0nLCAnTU1NTSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcsIHRva2VuKSB7XG4gICAgdmFyIG1vbnRoID0gY29uZmlnLl9sb2NhbGUubW9udGhzUGFyc2UoaW5wdXQsIHRva2VuLCBjb25maWcuX3N0cmljdCk7XG4gICAgLy8gaWYgd2UgZGlkbid0IGZpbmQgYSBtb250aCBuYW1lLCBtYXJrIHRoZSBkYXRlIGFzIGludmFsaWQuXG4gICAgaWYgKG1vbnRoICE9IG51bGwpIHtcbiAgICAgICAgYXJyYXlbTU9OVEhdID0gbW9udGg7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZE1vbnRoID0gaW5wdXQ7XG4gICAgfVxufSk7XG5cbi8vIExPQ0FMRVNcblxudmFyIE1PTlRIU19JTl9GT1JNQVQgPSAvRFtvRF0/KFxcW1teXFxbXFxdXSpcXF18XFxzKStNTU1NPy87XG52YXIgZGVmYXVsdExvY2FsZU1vbnRocyA9ICdKYW51YXJ5X0ZlYnJ1YXJ5X01hcmNoX0FwcmlsX01heV9KdW5lX0p1bHlfQXVndXN0X1NlcHRlbWJlcl9PY3RvYmVyX05vdmVtYmVyX0RlY2VtYmVyJy5zcGxpdCgnXycpO1xuZnVuY3Rpb24gbG9jYWxlTW9udGhzIChtLCBmb3JtYXQpIHtcbiAgICBpZiAoIW0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRocztcbiAgICB9XG4gICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzKSA/IHRoaXMuX21vbnRoc1ttLm1vbnRoKCldIDpcbiAgICAgICAgdGhpcy5fbW9udGhzWyh0aGlzLl9tb250aHMuaXNGb3JtYXQgfHwgTU9OVEhTX0lOX0ZPUk1BVCkudGVzdChmb3JtYXQpID8gJ2Zvcm1hdCcgOiAnc3RhbmRhbG9uZSddW20ubW9udGgoKV07XG59XG5cbnZhciBkZWZhdWx0TG9jYWxlTW9udGhzU2hvcnQgPSAnSmFuX0ZlYl9NYXJfQXByX01heV9KdW5fSnVsX0F1Z19TZXBfT2N0X05vdl9EZWMnLnNwbGl0KCdfJyk7XG5mdW5jdGlvbiBsb2NhbGVNb250aHNTaG9ydCAobSwgZm9ybWF0KSB7XG4gICAgaWYgKCFtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydDtcbiAgICB9XG4gICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzU2hvcnQpID8gdGhpcy5fbW9udGhzU2hvcnRbbS5tb250aCgpXSA6XG4gICAgICAgIHRoaXMuX21vbnRoc1Nob3J0W01PTlRIU19JTl9GT1JNQVQudGVzdChmb3JtYXQpID8gJ2Zvcm1hdCcgOiAnc3RhbmRhbG9uZSddW20ubW9udGgoKV07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVN0cmljdFBhcnNlKG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICB2YXIgaSwgaWksIG1vbSwgbGxjID0gbW9udGhOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgaWYgKCF0aGlzLl9tb250aHNQYXJzZSkge1xuICAgICAgICAvLyB0aGlzIGlzIG5vdCB1c2VkXG4gICAgICAgIHRoaXMuX21vbnRoc1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlID0gW107XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgKytpKSB7XG4gICAgICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIGldKTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0gPSB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0gPSB0aGlzLm1vbnRocyhtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN0cmljdCkge1xuICAgICAgICBpZiAoZm9ybWF0ID09PSAnTU1NJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydE1vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmb3JtYXQgPT09ICdNTU0nKSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydE1vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gbG9jYWxlTW9udGhzUGFyc2UgKG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICB2YXIgaSwgbW9tLCByZWdleDtcblxuICAgIGlmICh0aGlzLl9tb250aHNQYXJzZUV4YWN0KSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVTdHJpY3RQYXJzZS5jYWxsKHRoaXMsIG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5fbW9udGhzUGFyc2UpIHtcbiAgICAgICAgdGhpcy5fbW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2UgPSBbXTtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBhZGQgc29ydGluZ1xuICAgIC8vIFNvcnRpbmcgbWFrZXMgc3VyZSBpZiBvbmUgbW9udGggKG9yIGFiYnIpIGlzIGEgcHJlZml4IG9mIGFub3RoZXJcbiAgICAvLyBzZWUgc29ydGluZyBpbiBjb21wdXRlTW9udGhzUGFyc2VcbiAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcbiAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCBpXSk7XG4gICAgICAgIGlmIChzdHJpY3QgJiYgIXRoaXMuX2xvbmdNb250aHNQYXJzZVtpXSkge1xuICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLm1vbnRocyhtb20sICcnKS5yZXBsYWNlKCcuJywgJycpICsgJyQnLCAnaScpO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy5tb250aHNTaG9ydChtb20sICcnKS5yZXBsYWNlKCcuJywgJycpICsgJyQnLCAnaScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc3RyaWN0ICYmICF0aGlzLl9tb250aHNQYXJzZVtpXSkge1xuICAgICAgICAgICAgcmVnZXggPSAnXicgKyB0aGlzLm1vbnRocyhtb20sICcnKSArICd8XicgKyB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpO1xuICAgICAgICAgICAgdGhpcy5fbW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKHJlZ2V4LnJlcGxhY2UoJy4nLCAnJyksICdpJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGVzdCB0aGUgcmVnZXhcbiAgICAgICAgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdNTU1NJyAmJiB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfSBlbHNlIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnTU1NJyAmJiB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCAmJiB0aGlzLl9tb250aHNQYXJzZVtpXS50ZXN0KG1vbnRoTmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIHNldE1vbnRoIChtb20sIHZhbHVlKSB7XG4gICAgdmFyIGRheU9mTW9udGg7XG5cbiAgICBpZiAoIW1vbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgLy8gTm8gb3BcbiAgICAgICAgcmV0dXJuIG1vbTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoL15cXGQrJC8udGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdG9JbnQodmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSBtb20ubG9jYWxlRGF0YSgpLm1vbnRoc1BhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgIC8vIFRPRE86IEFub3RoZXIgc2lsZW50IGZhaWx1cmU/XG4gICAgICAgICAgICBpZiAoIWlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtb207XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkYXlPZk1vbnRoID0gTWF0aC5taW4obW9tLmRhdGUoKSwgZGF5c0luTW9udGgobW9tLnllYXIoKSwgdmFsdWUpKTtcbiAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgJ01vbnRoJ10odmFsdWUsIGRheU9mTW9udGgpO1xuICAgIHJldHVybiBtb207XG59XG5cbmZ1bmN0aW9uIGdldFNldE1vbnRoICh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIHNldE1vbnRoKHRoaXMsIHZhbHVlKTtcbiAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZ2V0KHRoaXMsICdNb250aCcpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0RGF5c0luTW9udGggKCkge1xuICAgIHJldHVybiBkYXlzSW5Nb250aCh0aGlzLnllYXIoKSwgdGhpcy5tb250aCgpKTtcbn1cblxudmFyIGRlZmF1bHRNb250aHNTaG9ydFJlZ2V4ID0gbWF0Y2hXb3JkO1xuZnVuY3Rpb24gbW9udGhzU2hvcnRSZWdleCAoaXNTdHJpY3QpIHtcbiAgICBpZiAodGhpcy5fbW9udGhzUGFyc2VFeGFjdCkge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNSZWdleCcpKSB7XG4gICAgICAgICAgICBjb21wdXRlTW9udGhzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0UmVnZXg7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNTaG9ydFJlZ2V4JykpIHtcbiAgICAgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0UmVnZXggPSBkZWZhdWx0TW9udGhzU2hvcnRSZWdleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG4gICAgICAgICAgICB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4IDogdGhpcy5fbW9udGhzU2hvcnRSZWdleDtcbiAgICB9XG59XG5cbnZhciBkZWZhdWx0TW9udGhzUmVnZXggPSBtYXRjaFdvcmQ7XG5mdW5jdGlvbiBtb250aHNSZWdleCAoaXNTdHJpY3QpIHtcbiAgICBpZiAodGhpcy5fbW9udGhzUGFyc2VFeGFjdCkge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNSZWdleCcpKSB7XG4gICAgICAgICAgICBjb21wdXRlTW9udGhzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTdHJpY3RSZWdleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNSZWdleDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcbiAgICAgICAgICAgIHRoaXMuX21vbnRoc1JlZ2V4ID0gZGVmYXVsdE1vbnRoc1JlZ2V4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG4gICAgICAgICAgICB0aGlzLl9tb250aHNTdHJpY3RSZWdleCA6IHRoaXMuX21vbnRoc1JlZ2V4O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY29tcHV0ZU1vbnRoc1BhcnNlICgpIHtcbiAgICBmdW5jdGlvbiBjbXBMZW5SZXYoYSwgYikge1xuICAgICAgICByZXR1cm4gYi5sZW5ndGggLSBhLmxlbmd0aDtcbiAgICB9XG5cbiAgICB2YXIgc2hvcnRQaWVjZXMgPSBbXSwgbG9uZ1BpZWNlcyA9IFtdLCBtaXhlZFBpZWNlcyA9IFtdLFxuICAgICAgICBpLCBtb207XG4gICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG4gICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuICAgICAgICBzaG9ydFBpZWNlcy5wdXNoKHRoaXMubW9udGhzU2hvcnQobW9tLCAnJykpO1xuICAgICAgICBsb25nUGllY2VzLnB1c2godGhpcy5tb250aHMobW9tLCAnJykpO1xuICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKHRoaXMubW9udGhzKG1vbSwgJycpKTtcbiAgICAgICAgbWl4ZWRQaWVjZXMucHVzaCh0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpKTtcbiAgICB9XG4gICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSBtb250aCAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlciBpdFxuICAgIC8vIHdpbGwgbWF0Y2ggdGhlIGxvbmdlciBwaWVjZS5cbiAgICBzaG9ydFBpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgbG9uZ1BpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgbWl4ZWRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgIHNob3J0UGllY2VzW2ldID0gcmVnZXhFc2NhcGUoc2hvcnRQaWVjZXNbaV0pO1xuICAgICAgICBsb25nUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobG9uZ1BpZWNlc1tpXSk7XG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPCAyNDsgaSsrKSB7XG4gICAgICAgIG1peGVkUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobWl4ZWRQaWVjZXNbaV0pO1xuICAgIH1cblxuICAgIHRoaXMuX21vbnRoc1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWl4ZWRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgIHRoaXMuX21vbnRoc1Nob3J0UmVnZXggPSB0aGlzLl9tb250aHNSZWdleDtcbiAgICB0aGlzLl9tb250aHNTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIGxvbmdQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBzaG9ydFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ1knLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHkgPSB0aGlzLnllYXIoKTtcbiAgICByZXR1cm4geSA8PSA5OTk5ID8gJycgKyB5IDogJysnICsgeTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbigwLCBbJ1lZJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy55ZWFyKCkgJSAxMDA7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZJywgICA0XSwgICAgICAgMCwgJ3llYXInKTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnWVlZWVknLCAgNV0sICAgICAgIDAsICd5ZWFyJyk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVlZWScsIDYsIHRydWVdLCAwLCAneWVhcicpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygneWVhcicsICd5Jyk7XG5cbi8vIFBSSU9SSVRJRVNcblxuYWRkVW5pdFByaW9yaXR5KCd5ZWFyJywgMSk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignWScsICAgICAgbWF0Y2hTaWduZWQpO1xuYWRkUmVnZXhUb2tlbignWVknLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignWVlZWScsICAgbWF0Y2gxdG80LCBtYXRjaDQpO1xuYWRkUmVnZXhUb2tlbignWVlZWVknLCAgbWF0Y2gxdG82LCBtYXRjaDYpO1xuYWRkUmVnZXhUb2tlbignWVlZWVlZJywgbWF0Y2gxdG82LCBtYXRjaDYpO1xuXG5hZGRQYXJzZVRva2VuKFsnWVlZWVknLCAnWVlZWVlZJ10sIFlFQVIpO1xuYWRkUGFyc2VUb2tlbignWVlZWScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICBhcnJheVtZRUFSXSA9IGlucHV0Lmxlbmd0aCA9PT0gMiA/IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KSA6IHRvSW50KGlucHV0KTtcbn0pO1xuYWRkUGFyc2VUb2tlbignWVknLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbWUVBUl0gPSBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCk7XG59KTtcbmFkZFBhcnNlVG9rZW4oJ1knLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbWUVBUl0gPSBwYXJzZUludChpbnB1dCwgMTApO1xufSk7XG5cbi8vIEhFTFBFUlNcblxuZnVuY3Rpb24gZGF5c0luWWVhcih5ZWFyKSB7XG4gICAgcmV0dXJuIGlzTGVhcFllYXIoeWVhcikgPyAzNjYgOiAzNjU7XG59XG5cbmZ1bmN0aW9uIGlzTGVhcFllYXIoeWVhcikge1xuICAgIHJldHVybiAoeWVhciAlIDQgPT09IDAgJiYgeWVhciAlIDEwMCAhPT0gMCkgfHwgeWVhciAlIDQwMCA9PT0gMDtcbn1cblxuLy8gSE9PS1NcblxuaG9va3MucGFyc2VUd29EaWdpdFllYXIgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICByZXR1cm4gdG9JbnQoaW5wdXQpICsgKHRvSW50KGlucHV0KSA+IDY4ID8gMTkwMCA6IDIwMDApO1xufTtcblxuLy8gTU9NRU5UU1xuXG52YXIgZ2V0U2V0WWVhciA9IG1ha2VHZXRTZXQoJ0Z1bGxZZWFyJywgdHJ1ZSk7XG5cbmZ1bmN0aW9uIGdldElzTGVhcFllYXIgKCkge1xuICAgIHJldHVybiBpc0xlYXBZZWFyKHRoaXMueWVhcigpKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRGF0ZSAoeSwgbSwgZCwgaCwgTSwgcywgbXMpIHtcbiAgICAvL2Nhbid0IGp1c3QgYXBwbHkoKSB0byBjcmVhdGUgYSBkYXRlOlxuICAgIC8vaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xODEzNDgvaW5zdGFudGlhdGluZy1hLWphdmFzY3JpcHQtb2JqZWN0LWJ5LWNhbGxpbmctcHJvdG90eXBlLWNvbnN0cnVjdG9yLWFwcGx5XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh5LCBtLCBkLCBoLCBNLCBzLCBtcyk7XG5cbiAgICAvL3RoZSBkYXRlIGNvbnN0cnVjdG9yIHJlbWFwcyB5ZWFycyAwLTk5IHRvIDE5MDAtMTk5OVxuICAgIGlmICh5IDwgMTAwICYmIHkgPj0gMCAmJiBpc0Zpbml0ZShkYXRlLmdldEZ1bGxZZWFyKCkpKSB7XG4gICAgICAgIGRhdGUuc2V0RnVsbFllYXIoeSk7XG4gICAgfVxuICAgIHJldHVybiBkYXRlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVVVENEYXRlICh5KSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShEYXRlLlVUQy5hcHBseShudWxsLCBhcmd1bWVudHMpKTtcblxuICAgIC8vdGhlIERhdGUuVVRDIGZ1bmN0aW9uIHJlbWFwcyB5ZWFycyAwLTk5IHRvIDE5MDAtMTk5OVxuICAgIGlmICh5IDwgMTAwICYmIHkgPj0gMCAmJiBpc0Zpbml0ZShkYXRlLmdldFVUQ0Z1bGxZZWFyKCkpKSB7XG4gICAgICAgIGRhdGUuc2V0VVRDRnVsbFllYXIoeSk7XG4gICAgfVxuICAgIHJldHVybiBkYXRlO1xufVxuXG4vLyBzdGFydC1vZi1maXJzdC13ZWVrIC0gc3RhcnQtb2YteWVhclxuZnVuY3Rpb24gZmlyc3RXZWVrT2Zmc2V0KHllYXIsIGRvdywgZG95KSB7XG4gICAgdmFyIC8vIGZpcnN0LXdlZWsgZGF5IC0tIHdoaWNoIGphbnVhcnkgaXMgYWx3YXlzIGluIHRoZSBmaXJzdCB3ZWVrICg0IGZvciBpc28sIDEgZm9yIG90aGVyKVxuICAgICAgICBmd2QgPSA3ICsgZG93IC0gZG95LFxuICAgICAgICAvLyBmaXJzdC13ZWVrIGRheSBsb2NhbCB3ZWVrZGF5IC0tIHdoaWNoIGxvY2FsIHdlZWtkYXkgaXMgZndkXG4gICAgICAgIGZ3ZGx3ID0gKDcgKyBjcmVhdGVVVENEYXRlKHllYXIsIDAsIGZ3ZCkuZ2V0VVRDRGF5KCkgLSBkb3cpICUgNztcblxuICAgIHJldHVybiAtZndkbHcgKyBmd2QgLSAxO1xufVxuXG4vL2h0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPX3dlZWtfZGF0ZSNDYWxjdWxhdGluZ19hX2RhdGVfZ2l2ZW5fdGhlX3llYXIuMkNfd2Vla19udW1iZXJfYW5kX3dlZWtkYXlcbmZ1bmN0aW9uIGRheU9mWWVhckZyb21XZWVrcyh5ZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSkge1xuICAgIHZhciBsb2NhbFdlZWtkYXkgPSAoNyArIHdlZWtkYXkgLSBkb3cpICUgNyxcbiAgICAgICAgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyLCBkb3csIGRveSksXG4gICAgICAgIGRheU9mWWVhciA9IDEgKyA3ICogKHdlZWsgLSAxKSArIGxvY2FsV2Vla2RheSArIHdlZWtPZmZzZXQsXG4gICAgICAgIHJlc1llYXIsIHJlc0RheU9mWWVhcjtcblxuICAgIGlmIChkYXlPZlllYXIgPD0gMCkge1xuICAgICAgICByZXNZZWFyID0geWVhciAtIDE7XG4gICAgICAgIHJlc0RheU9mWWVhciA9IGRheXNJblllYXIocmVzWWVhcikgKyBkYXlPZlllYXI7XG4gICAgfSBlbHNlIGlmIChkYXlPZlllYXIgPiBkYXlzSW5ZZWFyKHllYXIpKSB7XG4gICAgICAgIHJlc1llYXIgPSB5ZWFyICsgMTtcbiAgICAgICAgcmVzRGF5T2ZZZWFyID0gZGF5T2ZZZWFyIC0gZGF5c0luWWVhcih5ZWFyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXNZZWFyID0geWVhcjtcbiAgICAgICAgcmVzRGF5T2ZZZWFyID0gZGF5T2ZZZWFyO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHllYXI6IHJlc1llYXIsXG4gICAgICAgIGRheU9mWWVhcjogcmVzRGF5T2ZZZWFyXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gd2Vla09mWWVhcihtb20sIGRvdywgZG95KSB7XG4gICAgdmFyIHdlZWtPZmZzZXQgPSBmaXJzdFdlZWtPZmZzZXQobW9tLnllYXIoKSwgZG93LCBkb3kpLFxuICAgICAgICB3ZWVrID0gTWF0aC5mbG9vcigobW9tLmRheU9mWWVhcigpIC0gd2Vla09mZnNldCAtIDEpIC8gNykgKyAxLFxuICAgICAgICByZXNXZWVrLCByZXNZZWFyO1xuXG4gICAgaWYgKHdlZWsgPCAxKSB7XG4gICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpIC0gMTtcbiAgICAgICAgcmVzV2VlayA9IHdlZWsgKyB3ZWVrc0luWWVhcihyZXNZZWFyLCBkb3csIGRveSk7XG4gICAgfSBlbHNlIGlmICh3ZWVrID4gd2Vla3NJblllYXIobW9tLnllYXIoKSwgZG93LCBkb3kpKSB7XG4gICAgICAgIHJlc1dlZWsgPSB3ZWVrIC0gd2Vla3NJblllYXIobW9tLnllYXIoKSwgZG93LCBkb3kpO1xuICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKSArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzWWVhciA9IG1vbS55ZWFyKCk7XG4gICAgICAgIHJlc1dlZWsgPSB3ZWVrO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHdlZWs6IHJlc1dlZWssXG4gICAgICAgIHllYXI6IHJlc1llYXJcbiAgICB9O1xufVxuXG5mdW5jdGlvbiB3ZWVrc0luWWVhcih5ZWFyLCBkb3csIGRveSkge1xuICAgIHZhciB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KHllYXIsIGRvdywgZG95KSxcbiAgICAgICAgd2Vla09mZnNldE5leHQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciArIDEsIGRvdywgZG95KTtcbiAgICByZXR1cm4gKGRheXNJblllYXIoeWVhcikgLSB3ZWVrT2Zmc2V0ICsgd2Vla09mZnNldE5leHQpIC8gNztcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbigndycsIFsnd3cnLCAyXSwgJ3dvJywgJ3dlZWsnKTtcbmFkZEZvcm1hdFRva2VuKCdXJywgWydXVycsIDJdLCAnV28nLCAnaXNvV2VlaycpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnd2VlaycsICd3Jyk7XG5hZGRVbml0QWxpYXMoJ2lzb1dlZWsnLCAnVycpO1xuXG4vLyBQUklPUklUSUVTXG5cbmFkZFVuaXRQcmlvcml0eSgnd2VlaycsIDUpO1xuYWRkVW5pdFByaW9yaXR5KCdpc29XZWVrJywgNSk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbigndycsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignd3cnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdXJywgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdXVycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblxuYWRkV2Vla1BhcnNlVG9rZW4oWyd3JywgJ3d3JywgJ1cnLCAnV1cnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgd2Vla1t0b2tlbi5zdWJzdHIoMCwgMSldID0gdG9JbnQoaW5wdXQpO1xufSk7XG5cbi8vIEhFTFBFUlNcblxuLy8gTE9DQUxFU1xuXG5mdW5jdGlvbiBsb2NhbGVXZWVrIChtb20pIHtcbiAgICByZXR1cm4gd2Vla09mWWVhcihtb20sIHRoaXMuX3dlZWsuZG93LCB0aGlzLl93ZWVrLmRveSkud2Vlaztcbn1cblxudmFyIGRlZmF1bHRMb2NhbGVXZWVrID0ge1xuICAgIGRvdyA6IDAsIC8vIFN1bmRheSBpcyB0aGUgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrLlxuICAgIGRveSA6IDYgIC8vIFRoZSB3ZWVrIHRoYXQgY29udGFpbnMgSmFuIDFzdCBpcyB0aGUgZmlyc3Qgd2VlayBvZiB0aGUgeWVhci5cbn07XG5cbmZ1bmN0aW9uIGxvY2FsZUZpcnN0RGF5T2ZXZWVrICgpIHtcbiAgICByZXR1cm4gdGhpcy5fd2Vlay5kb3c7XG59XG5cbmZ1bmN0aW9uIGxvY2FsZUZpcnN0RGF5T2ZZZWFyICgpIHtcbiAgICByZXR1cm4gdGhpcy5fd2Vlay5kb3k7XG59XG5cbi8vIE1PTUVOVFNcblxuZnVuY3Rpb24gZ2V0U2V0V2VlayAoaW5wdXQpIHtcbiAgICB2YXIgd2VlayA9IHRoaXMubG9jYWxlRGF0YSgpLndlZWsodGhpcyk7XG4gICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrIDogdGhpcy5hZGQoKGlucHV0IC0gd2VlaykgKiA3LCAnZCcpO1xufVxuXG5mdW5jdGlvbiBnZXRTZXRJU09XZWVrIChpbnB1dCkge1xuICAgIHZhciB3ZWVrID0gd2Vla09mWWVhcih0aGlzLCAxLCA0KS53ZWVrO1xuICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2VlayA6IHRoaXMuYWRkKChpbnB1dCAtIHdlZWspICogNywgJ2QnKTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignZCcsIDAsICdkbycsICdkYXknKTtcblxuYWRkRm9ybWF0VG9rZW4oJ2RkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5c01pbih0aGlzLCBmb3JtYXQpO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdkZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzU2hvcnQodGhpcywgZm9ybWF0KTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignZGRkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXModGhpcywgZm9ybWF0KTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignZScsIDAsIDAsICd3ZWVrZGF5Jyk7XG5hZGRGb3JtYXRUb2tlbignRScsIDAsIDAsICdpc29XZWVrZGF5Jyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdkYXknLCAnZCcpO1xuYWRkVW5pdEFsaWFzKCd3ZWVrZGF5JywgJ2UnKTtcbmFkZFVuaXRBbGlhcygnaXNvV2Vla2RheScsICdFJyk7XG5cbi8vIFBSSU9SSVRZXG5hZGRVbml0UHJpb3JpdHkoJ2RheScsIDExKTtcbmFkZFVuaXRQcmlvcml0eSgnd2Vla2RheScsIDExKTtcbmFkZFVuaXRQcmlvcml0eSgnaXNvV2Vla2RheScsIDExKTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdkJywgICAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ2UnLCAgICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignRScsICAgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdkZCcsICAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzTWluUmVnZXgoaXNTdHJpY3QpO1xufSk7XG5hZGRSZWdleFRva2VuKCdkZGQnLCAgIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c1Nob3J0UmVnZXgoaXNTdHJpY3QpO1xufSk7XG5hZGRSZWdleFRva2VuKCdkZGRkJywgICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNSZWdleChpc1N0cmljdCk7XG59KTtcblxuYWRkV2Vla1BhcnNlVG9rZW4oWydkZCcsICdkZGQnLCAnZGRkZCddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICB2YXIgd2Vla2RheSA9IGNvbmZpZy5fbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQsIHRva2VuLCBjb25maWcuX3N0cmljdCk7XG4gICAgLy8gaWYgd2UgZGlkbid0IGdldCBhIHdlZWtkYXkgbmFtZSwgbWFyayB0aGUgZGF0ZSBhcyBpbnZhbGlkXG4gICAgaWYgKHdlZWtkYXkgIT0gbnVsbCkge1xuICAgICAgICB3ZWVrLmQgPSB3ZWVrZGF5O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRXZWVrZGF5ID0gaW5wdXQ7XG4gICAgfVxufSk7XG5cbmFkZFdlZWtQYXJzZVRva2VuKFsnZCcsICdlJywgJ0UnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgd2Vla1t0b2tlbl0gPSB0b0ludChpbnB1dCk7XG59KTtcblxuLy8gSEVMUEVSU1xuXG5mdW5jdGlvbiBwYXJzZVdlZWtkYXkoaW5wdXQsIGxvY2FsZSkge1xuICAgIGlmICh0eXBlb2YgaW5wdXQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG5cbiAgICBpZiAoIWlzTmFOKGlucHV0KSkge1xuICAgICAgICByZXR1cm4gcGFyc2VJbnQoaW5wdXQsIDEwKTtcbiAgICB9XG5cbiAgICBpbnB1dCA9IGxvY2FsZS53ZWVrZGF5c1BhcnNlKGlucHV0KTtcbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIHBhcnNlSXNvV2Vla2RheShpbnB1dCwgbG9jYWxlKSB7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c1BhcnNlKGlucHV0KSAlIDcgfHwgNztcbiAgICB9XG4gICAgcmV0dXJuIGlzTmFOKGlucHV0KSA/IG51bGwgOiBpbnB1dDtcbn1cblxuLy8gTE9DQUxFU1xuXG52YXIgZGVmYXVsdExvY2FsZVdlZWtkYXlzID0gJ1N1bmRheV9Nb25kYXlfVHVlc2RheV9XZWRuZXNkYXlfVGh1cnNkYXlfRnJpZGF5X1NhdHVyZGF5Jy5zcGxpdCgnXycpO1xuZnVuY3Rpb24gbG9jYWxlV2Vla2RheXMgKG0sIGZvcm1hdCkge1xuICAgIGlmICghbSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXM7XG4gICAgfVxuICAgIHJldHVybiBpc0FycmF5KHRoaXMuX3dlZWtkYXlzKSA/IHRoaXMuX3dlZWtkYXlzW20uZGF5KCldIDpcbiAgICAgICAgdGhpcy5fd2Vla2RheXNbdGhpcy5fd2Vla2RheXMuaXNGb3JtYXQudGVzdChmb3JtYXQpID8gJ2Zvcm1hdCcgOiAnc3RhbmRhbG9uZSddW20uZGF5KCldO1xufVxuXG52YXIgZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQgPSAnU3VuX01vbl9UdWVfV2VkX1RodV9GcmlfU2F0Jy5zcGxpdCgnXycpO1xuZnVuY3Rpb24gbG9jYWxlV2Vla2RheXNTaG9ydCAobSkge1xuICAgIHJldHVybiAobSkgPyB0aGlzLl93ZWVrZGF5c1Nob3J0W20uZGF5KCldIDogdGhpcy5fd2Vla2RheXNTaG9ydDtcbn1cblxudmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5c01pbiA9ICdTdV9Nb19UdV9XZV9UaF9Gcl9TYScuc3BsaXQoJ18nKTtcbmZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzTWluIChtKSB7XG4gICAgcmV0dXJuIChtKSA/IHRoaXMuX3dlZWtkYXlzTWluW20uZGF5KCldIDogdGhpcy5fd2Vla2RheXNNaW47XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVN0cmljdFBhcnNlJDEod2Vla2RheU5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgdmFyIGksIGlpLCBtb20sIGxsYyA9IHdlZWtkYXlOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgaWYgKCF0aGlzLl93ZWVrZGF5c1BhcnNlKSB7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2UgPSBbXTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgKytpKSB7XG4gICAgICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG4gICAgICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5c01pbihtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5cyhtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN0cmljdCkge1xuICAgICAgICBpZiAoZm9ybWF0ID09PSAnZGRkZCcpIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0ID09PSAnZGRkJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmb3JtYXQgPT09ICdkZGRkJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0ID09PSAnZGRkJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gbG9jYWxlV2Vla2RheXNQYXJzZSAod2Vla2RheU5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgdmFyIGksIG1vbSwgcmVnZXg7XG5cbiAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVTdHJpY3RQYXJzZSQxLmNhbGwodGhpcywgd2Vla2RheU5hbWUsIGZvcm1hdCwgc3RyaWN0KTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2UpIHtcbiAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9mdWxsV2Vla2RheXNQYXJzZSA9IFtdO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG5cbiAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCAxXSkuZGF5KGkpO1xuICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtpXSkge1xuICAgICAgICAgICAgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMud2Vla2RheXMobW9tLCAnJykucmVwbGFjZSgnLicsICdcXC4/JykgKyAnJCcsICdpJyk7XG4gICAgICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKS5yZXBsYWNlKCcuJywgJ1xcLj8nKSArICckJywgJ2knKTtcbiAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMud2Vla2RheXNNaW4obW9tLCAnJykucmVwbGFjZSgnLicsICdcXC4/JykgKyAnJCcsICdpJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl93ZWVrZGF5c1BhcnNlW2ldKSB7XG4gICAgICAgICAgICByZWdleCA9ICdeJyArIHRoaXMud2Vla2RheXMobW9tLCAnJykgKyAnfF4nICsgdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpICsgJ3xeJyArIHRoaXMud2Vla2RheXNNaW4obW9tLCAnJyk7XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cChyZWdleC5yZXBsYWNlKCcuJywgJycpLCAnaScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRlc3QgdGhlIHJlZ2V4XG4gICAgICAgIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnZGRkZCcgJiYgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdkZGQnICYmIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ2RkJyAmJiB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfSBlbHNlIGlmICghc3RyaWN0ICYmIHRoaXMuX3dlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFNldERheU9mV2VlayAoaW5wdXQpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcbiAgICB9XG4gICAgdmFyIGRheSA9IHRoaXMuX2lzVVRDID8gdGhpcy5fZC5nZXRVVENEYXkoKSA6IHRoaXMuX2QuZ2V0RGF5KCk7XG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgaW5wdXQgPSBwYXJzZVdlZWtkYXkoaW5wdXQsIHRoaXMubG9jYWxlRGF0YSgpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkKGlucHV0IC0gZGF5LCAnZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBkYXk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRTZXRMb2NhbGVEYXlPZldlZWsgKGlucHV0KSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgfVxuICAgIHZhciB3ZWVrZGF5ID0gKHRoaXMuZGF5KCkgKyA3IC0gdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG93KSAlIDc7XG4gICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrZGF5IDogdGhpcy5hZGQoaW5wdXQgLSB3ZWVrZGF5LCAnZCcpO1xufVxuXG5mdW5jdGlvbiBnZXRTZXRJU09EYXlPZldlZWsgKGlucHV0KSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgfVxuXG4gICAgLy8gYmVoYXZlcyB0aGUgc2FtZSBhcyBtb21lbnQjZGF5IGV4Y2VwdFxuICAgIC8vIGFzIGEgZ2V0dGVyLCByZXR1cm5zIDcgaW5zdGVhZCBvZiAwICgxLTcgcmFuZ2UgaW5zdGVhZCBvZiAwLTYpXG4gICAgLy8gYXMgYSBzZXR0ZXIsIHN1bmRheSBzaG91bGQgYmVsb25nIHRvIHRoZSBwcmV2aW91cyB3ZWVrLlxuXG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgdmFyIHdlZWtkYXkgPSBwYXJzZUlzb1dlZWtkYXkoaW5wdXQsIHRoaXMubG9jYWxlRGF0YSgpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF5KHRoaXMuZGF5KCkgJSA3ID8gd2Vla2RheSA6IHdlZWtkYXkgLSA3KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXkoKSB8fCA3O1xuICAgIH1cbn1cblxudmFyIGRlZmF1bHRXZWVrZGF5c1JlZ2V4ID0gbWF0Y2hXb3JkO1xuZnVuY3Rpb24gd2Vla2RheXNSZWdleCAoaXNTdHJpY3QpIHtcbiAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuICAgICAgICAgICAgY29tcHV0ZVdlZWtkYXlzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzUmVnZXg7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUmVnZXggPSBkZWZhdWx0V2Vla2RheXNSZWdleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4IDogdGhpcy5fd2Vla2RheXNSZWdleDtcbiAgICB9XG59XG5cbnZhciBkZWZhdWx0V2Vla2RheXNTaG9ydFJlZ2V4ID0gbWF0Y2hXb3JkO1xuZnVuY3Rpb24gd2Vla2RheXNTaG9ydFJlZ2V4IChpc1N0cmljdCkge1xuICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG4gICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXg7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1Nob3J0UmVnZXgnKSkge1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4ID0gZGVmYXVsdFdlZWtkYXlzU2hvcnRSZWdleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCA6IHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleDtcbiAgICB9XG59XG5cbnZhciBkZWZhdWx0V2Vla2RheXNNaW5SZWdleCA9IG1hdGNoV29yZDtcbmZ1bmN0aW9uIHdlZWtkYXlzTWluUmVnZXggKGlzU3RyaWN0KSB7XG4gICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgIGNvbXB1dGVXZWVrZGF5c1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c01pblJlZ2V4O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNNaW5SZWdleCcpKSB7XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c01pblJlZ2V4ID0gZGVmYXVsdFdlZWtkYXlzTWluUmVnZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleCA6IHRoaXMuX3dlZWtkYXlzTWluUmVnZXg7XG4gICAgfVxufVxuXG5cbmZ1bmN0aW9uIGNvbXB1dGVXZWVrZGF5c1BhcnNlICgpIHtcbiAgICBmdW5jdGlvbiBjbXBMZW5SZXYoYSwgYikge1xuICAgICAgICByZXR1cm4gYi5sZW5ndGggLSBhLmxlbmd0aDtcbiAgICB9XG5cbiAgICB2YXIgbWluUGllY2VzID0gW10sIHNob3J0UGllY2VzID0gW10sIGxvbmdQaWVjZXMgPSBbXSwgbWl4ZWRQaWVjZXMgPSBbXSxcbiAgICAgICAgaSwgbW9tLCBtaW5wLCBzaG9ydHAsIGxvbmdwO1xuICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG4gICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgMV0pLmRheShpKTtcbiAgICAgICAgbWlucCA9IHRoaXMud2Vla2RheXNNaW4obW9tLCAnJyk7XG4gICAgICAgIHNob3J0cCA9IHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKTtcbiAgICAgICAgbG9uZ3AgPSB0aGlzLndlZWtkYXlzKG1vbSwgJycpO1xuICAgICAgICBtaW5QaWVjZXMucHVzaChtaW5wKTtcbiAgICAgICAgc2hvcnRQaWVjZXMucHVzaChzaG9ydHApO1xuICAgICAgICBsb25nUGllY2VzLnB1c2gobG9uZ3ApO1xuICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKG1pbnApO1xuICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKHNob3J0cCk7XG4gICAgICAgIG1peGVkUGllY2VzLnB1c2gobG9uZ3ApO1xuICAgIH1cbiAgICAvLyBTb3J0aW5nIG1ha2VzIHN1cmUgaWYgb25lIHdlZWtkYXkgKG9yIGFiYnIpIGlzIGEgcHJlZml4IG9mIGFub3RoZXIgaXRcbiAgICAvLyB3aWxsIG1hdGNoIHRoZSBsb25nZXIgcGllY2UuXG4gICAgbWluUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICBzaG9ydFBpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgbG9uZ1BpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgbWl4ZWRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgc2hvcnRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShzaG9ydFBpZWNlc1tpXSk7XG4gICAgICAgIGxvbmdQaWVjZXNbaV0gPSByZWdleEVzY2FwZShsb25nUGllY2VzW2ldKTtcbiAgICAgICAgbWl4ZWRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShtaXhlZFBpZWNlc1tpXSk7XG4gICAgfVxuXG4gICAgdGhpcy5fd2Vla2RheXNSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIG1peGVkUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXggPSB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuICAgIHRoaXMuX3dlZWtkYXlzTWluUmVnZXggPSB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuXG4gICAgdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIGxvbmdQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIHNob3J0UGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWluUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5mdW5jdGlvbiBoRm9ybWF0KCkge1xuICAgIHJldHVybiB0aGlzLmhvdXJzKCkgJSAxMiB8fCAxMjtcbn1cblxuZnVuY3Rpb24ga0Zvcm1hdCgpIHtcbiAgICByZXR1cm4gdGhpcy5ob3VycygpIHx8IDI0O1xufVxuXG5hZGRGb3JtYXRUb2tlbignSCcsIFsnSEgnLCAyXSwgMCwgJ2hvdXInKTtcbmFkZEZvcm1hdFRva2VuKCdoJywgWydoaCcsIDJdLCAwLCBoRm9ybWF0KTtcbmFkZEZvcm1hdFRva2VuKCdrJywgWydraycsIDJdLCAwLCBrRm9ybWF0KTtcblxuYWRkRm9ybWF0VG9rZW4oJ2htbScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJycgKyBoRm9ybWF0LmFwcGx5KHRoaXMpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdobW1zcycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJycgKyBoRm9ybWF0LmFwcGx5KHRoaXMpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpICtcbiAgICAgICAgemVyb0ZpbGwodGhpcy5zZWNvbmRzKCksIDIpO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdIbW0nLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICcnICsgdGhpcy5ob3VycygpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdIbW1zcycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJycgKyB0aGlzLmhvdXJzKCkgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMikgK1xuICAgICAgICB6ZXJvRmlsbCh0aGlzLnNlY29uZHMoKSwgMik7XG59KTtcblxuZnVuY3Rpb24gbWVyaWRpZW0gKHRva2VuLCBsb3dlcmNhc2UpIHtcbiAgICBhZGRGb3JtYXRUb2tlbih0b2tlbiwgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubWVyaWRpZW0odGhpcy5ob3VycygpLCB0aGlzLm1pbnV0ZXMoKSwgbG93ZXJjYXNlKTtcbiAgICB9KTtcbn1cblxubWVyaWRpZW0oJ2EnLCB0cnVlKTtcbm1lcmlkaWVtKCdBJywgZmFsc2UpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnaG91cicsICdoJyk7XG5cbi8vIFBSSU9SSVRZXG5hZGRVbml0UHJpb3JpdHkoJ2hvdXInLCAxMyk7XG5cbi8vIFBBUlNJTkdcblxuZnVuY3Rpb24gbWF0Y2hNZXJpZGllbSAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUuX21lcmlkaWVtUGFyc2U7XG59XG5cbmFkZFJlZ2V4VG9rZW4oJ2EnLCAgbWF0Y2hNZXJpZGllbSk7XG5hZGRSZWdleFRva2VuKCdBJywgIG1hdGNoTWVyaWRpZW0pO1xuYWRkUmVnZXhUb2tlbignSCcsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignaCcsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignSEgnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdoaCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblxuYWRkUmVnZXhUb2tlbignaG1tJywgbWF0Y2gzdG80KTtcbmFkZFJlZ2V4VG9rZW4oJ2htbXNzJywgbWF0Y2g1dG82KTtcbmFkZFJlZ2V4VG9rZW4oJ0htbScsIG1hdGNoM3RvNCk7XG5hZGRSZWdleFRva2VuKCdIbW1zcycsIG1hdGNoNXRvNik7XG5cbmFkZFBhcnNlVG9rZW4oWydIJywgJ0hIJ10sIEhPVVIpO1xuYWRkUGFyc2VUb2tlbihbJ2EnLCAnQSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICBjb25maWcuX2lzUG0gPSBjb25maWcuX2xvY2FsZS5pc1BNKGlucHV0KTtcbiAgICBjb25maWcuX21lcmlkaWVtID0gaW5wdXQ7XG59KTtcbmFkZFBhcnNlVG9rZW4oWydoJywgJ2hoJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQpO1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xufSk7XG5hZGRQYXJzZVRva2VuKCdobW0nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICB2YXIgcG9zID0gaW5wdXQubGVuZ3RoIC0gMjtcbiAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MpKTtcbiAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvcykpO1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xufSk7XG5hZGRQYXJzZVRva2VuKCdobW1zcycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIHZhciBwb3MxID0gaW5wdXQubGVuZ3RoIC0gNDtcbiAgICB2YXIgcG9zMiA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zMSkpO1xuICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMSwgMikpO1xuICAgIGFycmF5W1NFQ09ORF0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMikpO1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xufSk7XG5hZGRQYXJzZVRva2VuKCdIbW0nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICB2YXIgcG9zID0gaW5wdXQubGVuZ3RoIC0gMjtcbiAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MpKTtcbiAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvcykpO1xufSk7XG5hZGRQYXJzZVRva2VuKCdIbW1zcycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIHZhciBwb3MxID0gaW5wdXQubGVuZ3RoIC0gNDtcbiAgICB2YXIgcG9zMiA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zMSkpO1xuICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMSwgMikpO1xuICAgIGFycmF5W1NFQ09ORF0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMikpO1xufSk7XG5cbi8vIExPQ0FMRVNcblxuZnVuY3Rpb24gbG9jYWxlSXNQTSAoaW5wdXQpIHtcbiAgICAvLyBJRTggUXVpcmtzIE1vZGUgJiBJRTcgU3RhbmRhcmRzIE1vZGUgZG8gbm90IGFsbG93IGFjY2Vzc2luZyBzdHJpbmdzIGxpa2UgYXJyYXlzXG4gICAgLy8gVXNpbmcgY2hhckF0IHNob3VsZCBiZSBtb3JlIGNvbXBhdGlibGUuXG4gICAgcmV0dXJuICgoaW5wdXQgKyAnJykudG9Mb3dlckNhc2UoKS5jaGFyQXQoMCkgPT09ICdwJyk7XG59XG5cbnZhciBkZWZhdWx0TG9jYWxlTWVyaWRpZW1QYXJzZSA9IC9bYXBdXFwuP20/XFwuPy9pO1xuZnVuY3Rpb24gbG9jYWxlTWVyaWRpZW0gKGhvdXJzLCBtaW51dGVzLCBpc0xvd2VyKSB7XG4gICAgaWYgKGhvdXJzID4gMTEpIHtcbiAgICAgICAgcmV0dXJuIGlzTG93ZXIgPyAncG0nIDogJ1BNJztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaXNMb3dlciA/ICdhbScgOiAnQU0nO1xuICAgIH1cbn1cblxuXG4vLyBNT01FTlRTXG5cbi8vIFNldHRpbmcgdGhlIGhvdXIgc2hvdWxkIGtlZXAgdGhlIHRpbWUsIGJlY2F1c2UgdGhlIHVzZXIgZXhwbGljaXRseVxuLy8gc3BlY2lmaWVkIHdoaWNoIGhvdXIgaGUgd2FudHMuIFNvIHRyeWluZyB0byBtYWludGFpbiB0aGUgc2FtZSBob3VyIChpblxuLy8gYSBuZXcgdGltZXpvbmUpIG1ha2VzIHNlbnNlLiBBZGRpbmcvc3VidHJhY3RpbmcgaG91cnMgZG9lcyBub3QgZm9sbG93XG4vLyB0aGlzIHJ1bGUuXG52YXIgZ2V0U2V0SG91ciA9IG1ha2VHZXRTZXQoJ0hvdXJzJywgdHJ1ZSk7XG5cbi8vIG1vbnRoc1xuLy8gd2Vla1xuLy8gd2Vla2RheXNcbi8vIG1lcmlkaWVtXG52YXIgYmFzZUNvbmZpZyA9IHtcbiAgICBjYWxlbmRhcjogZGVmYXVsdENhbGVuZGFyLFxuICAgIGxvbmdEYXRlRm9ybWF0OiBkZWZhdWx0TG9uZ0RhdGVGb3JtYXQsXG4gICAgaW52YWxpZERhdGU6IGRlZmF1bHRJbnZhbGlkRGF0ZSxcbiAgICBvcmRpbmFsOiBkZWZhdWx0T3JkaW5hbCxcbiAgICBvcmRpbmFsUGFyc2U6IGRlZmF1bHRPcmRpbmFsUGFyc2UsXG4gICAgcmVsYXRpdmVUaW1lOiBkZWZhdWx0UmVsYXRpdmVUaW1lLFxuXG4gICAgbW9udGhzOiBkZWZhdWx0TG9jYWxlTW9udGhzLFxuICAgIG1vbnRoc1Nob3J0OiBkZWZhdWx0TG9jYWxlTW9udGhzU2hvcnQsXG5cbiAgICB3ZWVrOiBkZWZhdWx0TG9jYWxlV2VlayxcblxuICAgIHdlZWtkYXlzOiBkZWZhdWx0TG9jYWxlV2Vla2RheXMsXG4gICAgd2Vla2RheXNNaW46IGRlZmF1bHRMb2NhbGVXZWVrZGF5c01pbixcbiAgICB3ZWVrZGF5c1Nob3J0OiBkZWZhdWx0TG9jYWxlV2Vla2RheXNTaG9ydCxcblxuICAgIG1lcmlkaWVtUGFyc2U6IGRlZmF1bHRMb2NhbGVNZXJpZGllbVBhcnNlXG59O1xuXG4vLyBpbnRlcm5hbCBzdG9yYWdlIGZvciBsb2NhbGUgY29uZmlnIGZpbGVzXG52YXIgbG9jYWxlcyA9IHt9O1xudmFyIGxvY2FsZUZhbWlsaWVzID0ge307XG52YXIgZ2xvYmFsTG9jYWxlO1xuXG5mdW5jdGlvbiBub3JtYWxpemVMb2NhbGUoa2V5KSB7XG4gICAgcmV0dXJuIGtleSA/IGtleS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ18nLCAnLScpIDoga2V5O1xufVxuXG4vLyBwaWNrIHRoZSBsb2NhbGUgZnJvbSB0aGUgYXJyYXlcbi8vIHRyeSBbJ2VuLWF1JywgJ2VuLWdiJ10gYXMgJ2VuLWF1JywgJ2VuLWdiJywgJ2VuJywgYXMgaW4gbW92ZSB0aHJvdWdoIHRoZSBsaXN0IHRyeWluZyBlYWNoXG4vLyBzdWJzdHJpbmcgZnJvbSBtb3N0IHNwZWNpZmljIHRvIGxlYXN0LCBidXQgbW92ZSB0byB0aGUgbmV4dCBhcnJheSBpdGVtIGlmIGl0J3MgYSBtb3JlIHNwZWNpZmljIHZhcmlhbnQgdGhhbiB0aGUgY3VycmVudCByb290XG5mdW5jdGlvbiBjaG9vc2VMb2NhbGUobmFtZXMpIHtcbiAgICB2YXIgaSA9IDAsIGosIG5leHQsIGxvY2FsZSwgc3BsaXQ7XG5cbiAgICB3aGlsZSAoaSA8IG5hbWVzLmxlbmd0aCkge1xuICAgICAgICBzcGxpdCA9IG5vcm1hbGl6ZUxvY2FsZShuYW1lc1tpXSkuc3BsaXQoJy0nKTtcbiAgICAgICAgaiA9IHNwbGl0Lmxlbmd0aDtcbiAgICAgICAgbmV4dCA9IG5vcm1hbGl6ZUxvY2FsZShuYW1lc1tpICsgMV0pO1xuICAgICAgICBuZXh0ID0gbmV4dCA/IG5leHQuc3BsaXQoJy0nKSA6IG51bGw7XG4gICAgICAgIHdoaWxlIChqID4gMCkge1xuICAgICAgICAgICAgbG9jYWxlID0gbG9hZExvY2FsZShzcGxpdC5zbGljZSgwLCBqKS5qb2luKCctJykpO1xuICAgICAgICAgICAgaWYgKGxvY2FsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV4dCAmJiBuZXh0Lmxlbmd0aCA+PSBqICYmIGNvbXBhcmVBcnJheXMoc3BsaXQsIG5leHQsIHRydWUpID49IGogLSAxKSB7XG4gICAgICAgICAgICAgICAgLy90aGUgbmV4dCBhcnJheSBpdGVtIGlzIGJldHRlciB0aGFuIGEgc2hhbGxvd2VyIHN1YnN0cmluZyBvZiB0aGlzIG9uZVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgai0tO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGxvYWRMb2NhbGUobmFtZSkge1xuICAgIHZhciBvbGRMb2NhbGUgPSBudWxsO1xuICAgIC8vIFRPRE86IEZpbmQgYSBiZXR0ZXIgd2F5IHRvIHJlZ2lzdGVyIGFuZCBsb2FkIGFsbCB0aGUgbG9jYWxlcyBpbiBOb2RlXG4gICAgaWYgKCFsb2NhbGVzW25hbWVdICYmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykgJiZcbiAgICAgICAgICAgIG1vZHVsZSAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgb2xkTG9jYWxlID0gZ2xvYmFsTG9jYWxlLl9hYmJyO1xuICAgICAgICAgICAgcmVxdWlyZSgnLi9sb2NhbGUvJyArIG5hbWUpO1xuICAgICAgICAgICAgLy8gYmVjYXVzZSBkZWZpbmVMb2NhbGUgY3VycmVudGx5IGFsc28gc2V0cyB0aGUgZ2xvYmFsIGxvY2FsZSwgd2VcbiAgICAgICAgICAgIC8vIHdhbnQgdG8gdW5kbyB0aGF0IGZvciBsYXp5IGxvYWRlZCBsb2NhbGVzXG4gICAgICAgICAgICBnZXRTZXRHbG9iYWxMb2NhbGUob2xkTG9jYWxlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyB9XG4gICAgfVxuICAgIHJldHVybiBsb2NhbGVzW25hbWVdO1xufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIHdpbGwgbG9hZCBsb2NhbGUgYW5kIHRoZW4gc2V0IHRoZSBnbG9iYWwgbG9jYWxlLiAgSWZcbi8vIG5vIGFyZ3VtZW50cyBhcmUgcGFzc2VkIGluLCBpdCB3aWxsIHNpbXBseSByZXR1cm4gdGhlIGN1cnJlbnQgZ2xvYmFsXG4vLyBsb2NhbGUga2V5LlxuZnVuY3Rpb24gZ2V0U2V0R2xvYmFsTG9jYWxlIChrZXksIHZhbHVlcykge1xuICAgIHZhciBkYXRhO1xuICAgIGlmIChrZXkpIHtcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlcykpIHtcbiAgICAgICAgICAgIGRhdGEgPSBnZXRMb2NhbGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRhdGEgPSBkZWZpbmVMb2NhbGUoa2V5LCB2YWx1ZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgIC8vIG1vbWVudC5kdXJhdGlvbi5fbG9jYWxlID0gbW9tZW50Ll9sb2NhbGUgPSBkYXRhO1xuICAgICAgICAgICAgZ2xvYmFsTG9jYWxlID0gZGF0YTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBnbG9iYWxMb2NhbGUuX2FiYnI7XG59XG5cbmZ1bmN0aW9uIGRlZmluZUxvY2FsZSAobmFtZSwgY29uZmlnKSB7XG4gICAgaWYgKGNvbmZpZyAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgcGFyZW50Q29uZmlnID0gYmFzZUNvbmZpZztcbiAgICAgICAgY29uZmlnLmFiYnIgPSBuYW1lO1xuICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBkZXByZWNhdGVTaW1wbGUoJ2RlZmluZUxvY2FsZU92ZXJyaWRlJyxcbiAgICAgICAgICAgICAgICAgICAgJ3VzZSBtb21lbnQudXBkYXRlTG9jYWxlKGxvY2FsZU5hbWUsIGNvbmZpZykgdG8gY2hhbmdlICcgK1xuICAgICAgICAgICAgICAgICAgICAnYW4gZXhpc3RpbmcgbG9jYWxlLiBtb21lbnQuZGVmaW5lTG9jYWxlKGxvY2FsZU5hbWUsICcgK1xuICAgICAgICAgICAgICAgICAgICAnY29uZmlnKSBzaG91bGQgb25seSBiZSB1c2VkIGZvciBjcmVhdGluZyBhIG5ldyBsb2NhbGUgJyArXG4gICAgICAgICAgICAgICAgICAgICdTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9kZWZpbmUtbG9jYWxlLyBmb3IgbW9yZSBpbmZvLicpO1xuICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gbG9jYWxlc1tuYW1lXS5fY29uZmlnO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy5wYXJlbnRMb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGxvY2FsZXNbY29uZmlnLnBhcmVudExvY2FsZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGxvY2FsZXNbY29uZmlnLnBhcmVudExvY2FsZV0uX2NvbmZpZztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFsb2NhbGVGYW1pbGllc1tjb25maWcucGFyZW50TG9jYWxlXSkge1xuICAgICAgICAgICAgICAgICAgICBsb2NhbGVGYW1pbGllc1tjb25maWcucGFyZW50TG9jYWxlXSA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb2NhbGVGYW1pbGllc1tjb25maWcucGFyZW50TG9jYWxlXS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnOiBjb25maWdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsb2NhbGVzW25hbWVdID0gbmV3IExvY2FsZShtZXJnZUNvbmZpZ3MocGFyZW50Q29uZmlnLCBjb25maWcpKTtcblxuICAgICAgICBpZiAobG9jYWxlRmFtaWxpZXNbbmFtZV0pIHtcbiAgICAgICAgICAgIGxvY2FsZUZhbWlsaWVzW25hbWVdLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICBkZWZpbmVMb2NhbGUoeC5uYW1lLCB4LmNvbmZpZyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJhY2t3YXJkcyBjb21wYXQgZm9yIG5vdzogYWxzbyBzZXQgdGhlIGxvY2FsZVxuICAgICAgICAvLyBtYWtlIHN1cmUgd2Ugc2V0IHRoZSBsb2NhbGUgQUZURVIgYWxsIGNoaWxkIGxvY2FsZXMgaGF2ZSBiZWVuXG4gICAgICAgIC8vIGNyZWF0ZWQsIHNvIHdlIHdvbid0IGVuZCB1cCB3aXRoIHRoZSBjaGlsZCBsb2NhbGUgc2V0LlxuICAgICAgICBnZXRTZXRHbG9iYWxMb2NhbGUobmFtZSk7XG5cblxuICAgICAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyB1c2VmdWwgZm9yIHRlc3RpbmdcbiAgICAgICAgZGVsZXRlIGxvY2FsZXNbbmFtZV07XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTG9jYWxlKG5hbWUsIGNvbmZpZykge1xuICAgIGlmIChjb25maWcgIT0gbnVsbCkge1xuICAgICAgICB2YXIgbG9jYWxlLCBwYXJlbnRDb25maWcgPSBiYXNlQ29uZmlnO1xuICAgICAgICAvLyBNRVJHRVxuICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBwYXJlbnRDb25maWcgPSBsb2NhbGVzW25hbWVdLl9jb25maWc7XG4gICAgICAgIH1cbiAgICAgICAgY29uZmlnID0gbWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY29uZmlnKTtcbiAgICAgICAgbG9jYWxlID0gbmV3IExvY2FsZShjb25maWcpO1xuICAgICAgICBsb2NhbGUucGFyZW50TG9jYWxlID0gbG9jYWxlc1tuYW1lXTtcbiAgICAgICAgbG9jYWxlc1tuYW1lXSA9IGxvY2FsZTtcblxuICAgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0IGZvciBub3c6IGFsc28gc2V0IHRoZSBsb2NhbGVcbiAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHBhc3MgbnVsbCBmb3IgY29uZmlnIHRvIHVudXBkYXRlLCB1c2VmdWwgZm9yIHRlc3RzXG4gICAgICAgIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChsb2NhbGVzW25hbWVdLnBhcmVudExvY2FsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxlc1tuYW1lXSA9IGxvY2FsZXNbbmFtZV0ucGFyZW50TG9jYWxlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgbG9jYWxlc1tuYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbn1cblxuLy8gcmV0dXJucyBsb2NhbGUgZGF0YVxuZnVuY3Rpb24gZ2V0TG9jYWxlIChrZXkpIHtcbiAgICB2YXIgbG9jYWxlO1xuXG4gICAgaWYgKGtleSAmJiBrZXkuX2xvY2FsZSAmJiBrZXkuX2xvY2FsZS5fYWJicikge1xuICAgICAgICBrZXkgPSBrZXkuX2xvY2FsZS5fYWJicjtcbiAgICB9XG5cbiAgICBpZiAoIWtleSkge1xuICAgICAgICByZXR1cm4gZ2xvYmFsTG9jYWxlO1xuICAgIH1cblxuICAgIGlmICghaXNBcnJheShrZXkpKSB7XG4gICAgICAgIC8vc2hvcnQtY2lyY3VpdCBldmVyeXRoaW5nIGVsc2VcbiAgICAgICAgbG9jYWxlID0gbG9hZExvY2FsZShrZXkpO1xuICAgICAgICBpZiAobG9jYWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlO1xuICAgICAgICB9XG4gICAgICAgIGtleSA9IFtrZXldO1xuICAgIH1cblxuICAgIHJldHVybiBjaG9vc2VMb2NhbGUoa2V5KTtcbn1cblxuZnVuY3Rpb24gbGlzdExvY2FsZXMoKSB7XG4gICAgcmV0dXJuIGtleXMkMShsb2NhbGVzKTtcbn1cblxuZnVuY3Rpb24gY2hlY2tPdmVyZmxvdyAobSkge1xuICAgIHZhciBvdmVyZmxvdztcbiAgICB2YXIgYSA9IG0uX2E7XG5cbiAgICBpZiAoYSAmJiBnZXRQYXJzaW5nRmxhZ3MobSkub3ZlcmZsb3cgPT09IC0yKSB7XG4gICAgICAgIG92ZXJmbG93ID1cbiAgICAgICAgICAgIGFbTU9OVEhdICAgICAgIDwgMCB8fCBhW01PTlRIXSAgICAgICA+IDExICA/IE1PTlRIIDpcbiAgICAgICAgICAgIGFbREFURV0gICAgICAgIDwgMSB8fCBhW0RBVEVdICAgICAgICA+IGRheXNJbk1vbnRoKGFbWUVBUl0sIGFbTU9OVEhdKSA/IERBVEUgOlxuICAgICAgICAgICAgYVtIT1VSXSAgICAgICAgPCAwIHx8IGFbSE9VUl0gICAgICAgID4gMjQgfHwgKGFbSE9VUl0gPT09IDI0ICYmIChhW01JTlVURV0gIT09IDAgfHwgYVtTRUNPTkRdICE9PSAwIHx8IGFbTUlMTElTRUNPTkRdICE9PSAwKSkgPyBIT1VSIDpcbiAgICAgICAgICAgIGFbTUlOVVRFXSAgICAgIDwgMCB8fCBhW01JTlVURV0gICAgICA+IDU5ICA/IE1JTlVURSA6XG4gICAgICAgICAgICBhW1NFQ09ORF0gICAgICA8IDAgfHwgYVtTRUNPTkRdICAgICAgPiA1OSAgPyBTRUNPTkQgOlxuICAgICAgICAgICAgYVtNSUxMSVNFQ09ORF0gPCAwIHx8IGFbTUlMTElTRUNPTkRdID4gOTk5ID8gTUlMTElTRUNPTkQgOlxuICAgICAgICAgICAgLTE7XG5cbiAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dEYXlPZlllYXIgJiYgKG92ZXJmbG93IDwgWUVBUiB8fCBvdmVyZmxvdyA+IERBVEUpKSB7XG4gICAgICAgICAgICBvdmVyZmxvdyA9IERBVEU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dXZWVrcyAmJiBvdmVyZmxvdyA9PT0gLTEpIHtcbiAgICAgICAgICAgIG92ZXJmbG93ID0gV0VFSztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2V0UGFyc2luZ0ZsYWdzKG0pLl9vdmVyZmxvd1dlZWtkYXkgJiYgb3ZlcmZsb3cgPT09IC0xKSB7XG4gICAgICAgICAgICBvdmVyZmxvdyA9IFdFRUtEQVk7XG4gICAgICAgIH1cblxuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MobSkub3ZlcmZsb3cgPSBvdmVyZmxvdztcbiAgICB9XG5cbiAgICByZXR1cm4gbTtcbn1cblxuLy8gaXNvIDg2MDEgcmVnZXhcbi8vIDAwMDAtMDAtMDAgMDAwMC1XMDAgb3IgMDAwMC1XMDAtMCArIFQgKyAwMCBvciAwMDowMCBvciAwMDowMDowMCBvciAwMDowMDowMC4wMDAgKyArMDA6MDAgb3IgKzAwMDAgb3IgKzAwKVxudmFyIGV4dGVuZGVkSXNvUmVnZXggPSAvXlxccyooKD86WystXVxcZHs2fXxcXGR7NH0pLSg/OlxcZFxcZC1cXGRcXGR8V1xcZFxcZC1cXGR8V1xcZFxcZHxcXGRcXGRcXGR8XFxkXFxkKSkoPzooVHwgKShcXGRcXGQoPzo6XFxkXFxkKD86OlxcZFxcZCg/OlsuLF1cXGQrKT8pPyk/KShbXFwrXFwtXVxcZFxcZCg/Ojo/XFxkXFxkKT98XFxzKlopPyk/JC87XG52YXIgYmFzaWNJc29SZWdleCA9IC9eXFxzKigoPzpbKy1dXFxkezZ9fFxcZHs0fSkoPzpcXGRcXGRcXGRcXGR8V1xcZFxcZFxcZHxXXFxkXFxkfFxcZFxcZFxcZHxcXGRcXGQpKSg/OihUfCApKFxcZFxcZCg/OlxcZFxcZCg/OlxcZFxcZCg/OlsuLF1cXGQrKT8pPyk/KShbXFwrXFwtXVxcZFxcZCg/Ojo/XFxkXFxkKT98XFxzKlopPyk/JC87XG5cbnZhciB0elJlZ2V4ID0gL1p8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8vO1xuXG52YXIgaXNvRGF0ZXMgPSBbXG4gICAgWydZWVlZWVktTU0tREQnLCAvWystXVxcZHs2fS1cXGRcXGQtXFxkXFxkL10sXG4gICAgWydZWVlZLU1NLUREJywgL1xcZHs0fS1cXGRcXGQtXFxkXFxkL10sXG4gICAgWydHR0dHLVtXXVdXLUUnLCAvXFxkezR9LVdcXGRcXGQtXFxkL10sXG4gICAgWydHR0dHLVtXXVdXJywgL1xcZHs0fS1XXFxkXFxkLywgZmFsc2VdLFxuICAgIFsnWVlZWS1EREQnLCAvXFxkezR9LVxcZHszfS9dLFxuICAgIFsnWVlZWS1NTScsIC9cXGR7NH0tXFxkXFxkLywgZmFsc2VdLFxuICAgIFsnWVlZWVlZTU1ERCcsIC9bKy1dXFxkezEwfS9dLFxuICAgIFsnWVlZWU1NREQnLCAvXFxkezh9L10sXG4gICAgLy8gWVlZWU1NIGlzIE5PVCBhbGxvd2VkIGJ5IHRoZSBzdGFuZGFyZFxuICAgIFsnR0dHR1tXXVdXRScsIC9cXGR7NH1XXFxkezN9L10sXG4gICAgWydHR0dHW1ddV1cnLCAvXFxkezR9V1xcZHsyfS8sIGZhbHNlXSxcbiAgICBbJ1lZWVlEREQnLCAvXFxkezd9L11cbl07XG5cbi8vIGlzbyB0aW1lIGZvcm1hdHMgYW5kIHJlZ2V4ZXNcbnZhciBpc29UaW1lcyA9IFtcbiAgICBbJ0hIOm1tOnNzLlNTU1MnLCAvXFxkXFxkOlxcZFxcZDpcXGRcXGRcXC5cXGQrL10sXG4gICAgWydISDptbTpzcyxTU1NTJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkLFxcZCsvXSxcbiAgICBbJ0hIOm1tOnNzJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkL10sXG4gICAgWydISDptbScsIC9cXGRcXGQ6XFxkXFxkL10sXG4gICAgWydISG1tc3MuU1NTUycsIC9cXGRcXGRcXGRcXGRcXGRcXGRcXC5cXGQrL10sXG4gICAgWydISG1tc3MsU1NTUycsIC9cXGRcXGRcXGRcXGRcXGRcXGQsXFxkKy9dLFxuICAgIFsnSEhtbXNzJywgL1xcZFxcZFxcZFxcZFxcZFxcZC9dLFxuICAgIFsnSEhtbScsIC9cXGRcXGRcXGRcXGQvXSxcbiAgICBbJ0hIJywgL1xcZFxcZC9dXG5dO1xuXG52YXIgYXNwTmV0SnNvblJlZ2V4ID0gL15cXC8/RGF0ZVxcKChcXC0/XFxkKykvaTtcblxuLy8gZGF0ZSBmcm9tIGlzbyBmb3JtYXRcbmZ1bmN0aW9uIGNvbmZpZ0Zyb21JU08oY29uZmlnKSB7XG4gICAgdmFyIGksIGwsXG4gICAgICAgIHN0cmluZyA9IGNvbmZpZy5faSxcbiAgICAgICAgbWF0Y2ggPSBleHRlbmRlZElzb1JlZ2V4LmV4ZWMoc3RyaW5nKSB8fCBiYXNpY0lzb1JlZ2V4LmV4ZWMoc3RyaW5nKSxcbiAgICAgICAgYWxsb3dUaW1lLCBkYXRlRm9ybWF0LCB0aW1lRm9ybWF0LCB0ekZvcm1hdDtcblxuICAgIGlmIChtYXRjaCkge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pc28gPSB0cnVlO1xuXG4gICAgICAgIGZvciAoaSA9IDAsIGwgPSBpc29EYXRlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpc29EYXRlc1tpXVsxXS5leGVjKG1hdGNoWzFdKSkge1xuICAgICAgICAgICAgICAgIGRhdGVGb3JtYXQgPSBpc29EYXRlc1tpXVswXTtcbiAgICAgICAgICAgICAgICBhbGxvd1RpbWUgPSBpc29EYXRlc1tpXVsyXSAhPT0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGVGb3JtYXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoWzNdKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gaXNvVGltZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzb1RpbWVzW2ldWzFdLmV4ZWMobWF0Y2hbM10pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1hdGNoWzJdIHNob3VsZCBiZSAnVCcgb3Igc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgdGltZUZvcm1hdCA9IChtYXRjaFsyXSB8fCAnICcpICsgaXNvVGltZXNbaV1bMF07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aW1lRm9ybWF0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhbGxvd1RpbWUgJiYgdGltZUZvcm1hdCAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF0Y2hbNF0pIHtcbiAgICAgICAgICAgIGlmICh0elJlZ2V4LmV4ZWMobWF0Y2hbNF0pKSB7XG4gICAgICAgICAgICAgICAgdHpGb3JtYXQgPSAnWic7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25maWcuX2YgPSBkYXRlRm9ybWF0ICsgKHRpbWVGb3JtYXQgfHwgJycpICsgKHR6Rm9ybWF0IHx8ICcnKTtcbiAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgIH1cbn1cblxuLy8gZGF0ZSBmcm9tIGlzbyBmb3JtYXQgb3IgZmFsbGJhY2tcbmZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmcoY29uZmlnKSB7XG4gICAgdmFyIG1hdGNoZWQgPSBhc3BOZXRKc29uUmVnZXguZXhlYyhjb25maWcuX2kpO1xuXG4gICAgaWYgKG1hdGNoZWQgIT09IG51bGwpIHtcbiAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoK21hdGNoZWRbMV0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uZmlnRnJvbUlTTyhjb25maWcpO1xuICAgIGlmIChjb25maWcuX2lzVmFsaWQgPT09IGZhbHNlKSB7XG4gICAgICAgIGRlbGV0ZSBjb25maWcuX2lzVmFsaWQ7XG4gICAgICAgIGhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKGNvbmZpZyk7XG4gICAgfVxufVxuXG5ob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayA9IGRlcHJlY2F0ZShcbiAgICAndmFsdWUgcHJvdmlkZWQgaXMgbm90IGluIGEgcmVjb2duaXplZCBJU08gZm9ybWF0LiBtb21lbnQgY29uc3RydWN0aW9uIGZhbGxzIGJhY2sgdG8ganMgRGF0ZSgpLCAnICtcbiAgICAnd2hpY2ggaXMgbm90IHJlbGlhYmxlIGFjcm9zcyBhbGwgYnJvd3NlcnMgYW5kIHZlcnNpb25zLiBOb24gSVNPIGRhdGUgZm9ybWF0cyBhcmUgJyArXG4gICAgJ2Rpc2NvdXJhZ2VkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYW4gdXBjb21pbmcgbWFqb3IgcmVsZWFzZS4gUGxlYXNlIHJlZmVyIHRvICcgK1xuICAgICdodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2pzLWRhdGUvIGZvciBtb3JlIGluZm8uJyxcbiAgICBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGNvbmZpZy5faSArIChjb25maWcuX3VzZVVUQyA/ICcgVVRDJyA6ICcnKSk7XG4gICAgfVxuKTtcblxuLy8gUGljayB0aGUgZmlyc3QgZGVmaW5lZCBvZiB0d28gb3IgdGhyZWUgYXJndW1lbnRzLlxuZnVuY3Rpb24gZGVmYXVsdHMoYSwgYiwgYykge1xuICAgIGlmIChhICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxuICAgIGlmIChiICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGI7XG4gICAgfVxuICAgIHJldHVybiBjO1xufVxuXG5mdW5jdGlvbiBjdXJyZW50RGF0ZUFycmF5KGNvbmZpZykge1xuICAgIC8vIGhvb2tzIGlzIGFjdHVhbGx5IHRoZSBleHBvcnRlZCBtb21lbnQgb2JqZWN0XG4gICAgdmFyIG5vd1ZhbHVlID0gbmV3IERhdGUoaG9va3Mubm93KCkpO1xuICAgIGlmIChjb25maWcuX3VzZVVUQykge1xuICAgICAgICByZXR1cm4gW25vd1ZhbHVlLmdldFVUQ0Z1bGxZZWFyKCksIG5vd1ZhbHVlLmdldFVUQ01vbnRoKCksIG5vd1ZhbHVlLmdldFVUQ0RhdGUoKV07XG4gICAgfVxuICAgIHJldHVybiBbbm93VmFsdWUuZ2V0RnVsbFllYXIoKSwgbm93VmFsdWUuZ2V0TW9udGgoKSwgbm93VmFsdWUuZ2V0RGF0ZSgpXTtcbn1cblxuLy8gY29udmVydCBhbiBhcnJheSB0byBhIGRhdGUuXG4vLyB0aGUgYXJyYXkgc2hvdWxkIG1pcnJvciB0aGUgcGFyYW1ldGVycyBiZWxvd1xuLy8gbm90ZTogYWxsIHZhbHVlcyBwYXN0IHRoZSB5ZWFyIGFyZSBvcHRpb25hbCBhbmQgd2lsbCBkZWZhdWx0IHRvIHRoZSBsb3dlc3QgcG9zc2libGUgdmFsdWUuXG4vLyBbeWVhciwgbW9udGgsIGRheSAsIGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtaWxsaXNlY29uZF1cbmZ1bmN0aW9uIGNvbmZpZ0Zyb21BcnJheSAoY29uZmlnKSB7XG4gICAgdmFyIGksIGRhdGUsIGlucHV0ID0gW10sIGN1cnJlbnREYXRlLCB5ZWFyVG9Vc2U7XG5cbiAgICBpZiAoY29uZmlnLl9kKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjdXJyZW50RGF0ZSA9IGN1cnJlbnREYXRlQXJyYXkoY29uZmlnKTtcblxuICAgIC8vY29tcHV0ZSBkYXkgb2YgdGhlIHllYXIgZnJvbSB3ZWVrcyBhbmQgd2Vla2RheXNcbiAgICBpZiAoY29uZmlnLl93ICYmIGNvbmZpZy5fYVtEQVRFXSA9PSBudWxsICYmIGNvbmZpZy5fYVtNT05USF0gPT0gbnVsbCkge1xuICAgICAgICBkYXlPZlllYXJGcm9tV2Vla0luZm8oY29uZmlnKTtcbiAgICB9XG5cbiAgICAvL2lmIHRoZSBkYXkgb2YgdGhlIHllYXIgaXMgc2V0LCBmaWd1cmUgb3V0IHdoYXQgaXQgaXNcbiAgICBpZiAoY29uZmlnLl9kYXlPZlllYXIpIHtcbiAgICAgICAgeWVhclRvVXNlID0gZGVmYXVsdHMoY29uZmlnLl9hW1lFQVJdLCBjdXJyZW50RGF0ZVtZRUFSXSk7XG5cbiAgICAgICAgaWYgKGNvbmZpZy5fZGF5T2ZZZWFyID4gZGF5c0luWWVhcih5ZWFyVG9Vc2UpKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5fb3ZlcmZsb3dEYXlPZlllYXIgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0ZSA9IGNyZWF0ZVVUQ0RhdGUoeWVhclRvVXNlLCAwLCBjb25maWcuX2RheU9mWWVhcik7XG4gICAgICAgIGNvbmZpZy5fYVtNT05USF0gPSBkYXRlLmdldFVUQ01vbnRoKCk7XG4gICAgICAgIGNvbmZpZy5fYVtEQVRFXSA9IGRhdGUuZ2V0VVRDRGF0ZSgpO1xuICAgIH1cblxuICAgIC8vIERlZmF1bHQgdG8gY3VycmVudCBkYXRlLlxuICAgIC8vICogaWYgbm8geWVhciwgbW9udGgsIGRheSBvZiBtb250aCBhcmUgZ2l2ZW4sIGRlZmF1bHQgdG8gdG9kYXlcbiAgICAvLyAqIGlmIGRheSBvZiBtb250aCBpcyBnaXZlbiwgZGVmYXVsdCBtb250aCBhbmQgeWVhclxuICAgIC8vICogaWYgbW9udGggaXMgZ2l2ZW4sIGRlZmF1bHQgb25seSB5ZWFyXG4gICAgLy8gKiBpZiB5ZWFyIGlzIGdpdmVuLCBkb24ndCBkZWZhdWx0IGFueXRoaW5nXG4gICAgZm9yIChpID0gMDsgaSA8IDMgJiYgY29uZmlnLl9hW2ldID09IG51bGw7ICsraSkge1xuICAgICAgICBjb25maWcuX2FbaV0gPSBpbnB1dFtpXSA9IGN1cnJlbnREYXRlW2ldO1xuICAgIH1cblxuICAgIC8vIFplcm8gb3V0IHdoYXRldmVyIHdhcyBub3QgZGVmYXVsdGVkLCBpbmNsdWRpbmcgdGltZVxuICAgIGZvciAoOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgIGNvbmZpZy5fYVtpXSA9IGlucHV0W2ldID0gKGNvbmZpZy5fYVtpXSA9PSBudWxsKSA/IChpID09PSAyID8gMSA6IDApIDogY29uZmlnLl9hW2ldO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciAyNDowMDowMC4wMDBcbiAgICBpZiAoY29uZmlnLl9hW0hPVVJdID09PSAyNCAmJlxuICAgICAgICAgICAgY29uZmlnLl9hW01JTlVURV0gPT09IDAgJiZcbiAgICAgICAgICAgIGNvbmZpZy5fYVtTRUNPTkRdID09PSAwICYmXG4gICAgICAgICAgICBjb25maWcuX2FbTUlMTElTRUNPTkRdID09PSAwKSB7XG4gICAgICAgIGNvbmZpZy5fbmV4dERheSA9IHRydWU7XG4gICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IDA7XG4gICAgfVxuXG4gICAgY29uZmlnLl9kID0gKGNvbmZpZy5fdXNlVVRDID8gY3JlYXRlVVRDRGF0ZSA6IGNyZWF0ZURhdGUpLmFwcGx5KG51bGwsIGlucHV0KTtcbiAgICAvLyBBcHBseSB0aW1lem9uZSBvZmZzZXQgZnJvbSBpbnB1dC4gVGhlIGFjdHVhbCB1dGNPZmZzZXQgY2FuIGJlIGNoYW5nZWRcbiAgICAvLyB3aXRoIHBhcnNlWm9uZS5cbiAgICBpZiAoY29uZmlnLl90em0gIT0gbnVsbCkge1xuICAgICAgICBjb25maWcuX2Quc2V0VVRDTWludXRlcyhjb25maWcuX2QuZ2V0VVRDTWludXRlcygpIC0gY29uZmlnLl90em0pO1xuICAgIH1cblxuICAgIGlmIChjb25maWcuX25leHREYXkpIHtcbiAgICAgICAgY29uZmlnLl9hW0hPVVJdID0gMjQ7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkYXlPZlllYXJGcm9tV2Vla0luZm8oY29uZmlnKSB7XG4gICAgdmFyIHcsIHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSwgdGVtcCwgd2Vla2RheU92ZXJmbG93O1xuXG4gICAgdyA9IGNvbmZpZy5fdztcbiAgICBpZiAody5HRyAhPSBudWxsIHx8IHcuVyAhPSBudWxsIHx8IHcuRSAhPSBudWxsKSB7XG4gICAgICAgIGRvdyA9IDE7XG4gICAgICAgIGRveSA9IDQ7XG5cbiAgICAgICAgLy8gVE9ETzogV2UgbmVlZCB0byB0YWtlIHRoZSBjdXJyZW50IGlzb1dlZWtZZWFyLCBidXQgdGhhdCBkZXBlbmRzIG9uXG4gICAgICAgIC8vIGhvdyB3ZSBpbnRlcnByZXQgbm93IChsb2NhbCwgdXRjLCBmaXhlZCBvZmZzZXQpLiBTbyBjcmVhdGVcbiAgICAgICAgLy8gYSBub3cgdmVyc2lvbiBvZiBjdXJyZW50IGNvbmZpZyAodGFrZSBsb2NhbC91dGMvb2Zmc2V0IGZsYWdzLCBhbmRcbiAgICAgICAgLy8gY3JlYXRlIG5vdykuXG4gICAgICAgIHdlZWtZZWFyID0gZGVmYXVsdHMody5HRywgY29uZmlnLl9hW1lFQVJdLCB3ZWVrT2ZZZWFyKGNyZWF0ZUxvY2FsKCksIDEsIDQpLnllYXIpO1xuICAgICAgICB3ZWVrID0gZGVmYXVsdHMody5XLCAxKTtcbiAgICAgICAgd2Vla2RheSA9IGRlZmF1bHRzKHcuRSwgMSk7XG4gICAgICAgIGlmICh3ZWVrZGF5IDwgMSB8fCB3ZWVrZGF5ID4gNykge1xuICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGRvdyA9IGNvbmZpZy5fbG9jYWxlLl93ZWVrLmRvdztcbiAgICAgICAgZG95ID0gY29uZmlnLl9sb2NhbGUuX3dlZWsuZG95O1xuXG4gICAgICAgIHZhciBjdXJXZWVrID0gd2Vla09mWWVhcihjcmVhdGVMb2NhbCgpLCBkb3csIGRveSk7XG5cbiAgICAgICAgd2Vla1llYXIgPSBkZWZhdWx0cyh3LmdnLCBjb25maWcuX2FbWUVBUl0sIGN1cldlZWsueWVhcik7XG5cbiAgICAgICAgLy8gRGVmYXVsdCB0byBjdXJyZW50IHdlZWsuXG4gICAgICAgIHdlZWsgPSBkZWZhdWx0cyh3LncsIGN1cldlZWsud2Vlayk7XG5cbiAgICAgICAgaWYgKHcuZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyB3ZWVrZGF5IC0tIGxvdyBkYXkgbnVtYmVycyBhcmUgY29uc2lkZXJlZCBuZXh0IHdlZWtcbiAgICAgICAgICAgIHdlZWtkYXkgPSB3LmQ7XG4gICAgICAgICAgICBpZiAod2Vla2RheSA8IDAgfHwgd2Vla2RheSA+IDYpIHtcbiAgICAgICAgICAgICAgICB3ZWVrZGF5T3ZlcmZsb3cgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHcuZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBsb2NhbCB3ZWVrZGF5IC0tIGNvdW50aW5nIHN0YXJ0cyBmcm9tIGJlZ2luaW5nIG9mIHdlZWtcbiAgICAgICAgICAgIHdlZWtkYXkgPSB3LmUgKyBkb3c7XG4gICAgICAgICAgICBpZiAody5lIDwgMCB8fCB3LmUgPiA2KSB7XG4gICAgICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGRlZmF1bHQgdG8gYmVnaW5pbmcgb2Ygd2Vla1xuICAgICAgICAgICAgd2Vla2RheSA9IGRvdztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAod2VlayA8IDEgfHwgd2VlayA+IHdlZWtzSW5ZZWFyKHdlZWtZZWFyLCBkb3csIGRveSkpIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93V2Vla3MgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAod2Vla2RheU92ZXJmbG93ICE9IG51bGwpIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93V2Vla2RheSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGVtcCA9IGRheU9mWWVhckZyb21XZWVrcyh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpO1xuICAgICAgICBjb25maWcuX2FbWUVBUl0gPSB0ZW1wLnllYXI7XG4gICAgICAgIGNvbmZpZy5fZGF5T2ZZZWFyID0gdGVtcC5kYXlPZlllYXI7XG4gICAgfVxufVxuXG4vLyBjb25zdGFudCB0aGF0IHJlZmVycyB0byB0aGUgSVNPIHN0YW5kYXJkXG5ob29rcy5JU09fODYwMSA9IGZ1bmN0aW9uICgpIHt9O1xuXG4vLyBkYXRlIGZyb20gc3RyaW5nIGFuZCBmb3JtYXQgc3RyaW5nXG5mdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZykge1xuICAgIC8vIFRPRE86IE1vdmUgdGhpcyB0byBhbm90aGVyIHBhcnQgb2YgdGhlIGNyZWF0aW9uIGZsb3cgdG8gcHJldmVudCBjaXJjdWxhciBkZXBzXG4gICAgaWYgKGNvbmZpZy5fZiA9PT0gaG9va3MuSVNPXzg2MDEpIHtcbiAgICAgICAgY29uZmlnRnJvbUlTTyhjb25maWcpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uZmlnLl9hID0gW107XG4gICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuZW1wdHkgPSB0cnVlO1xuXG4gICAgLy8gVGhpcyBhcnJheSBpcyB1c2VkIHRvIG1ha2UgYSBEYXRlLCBlaXRoZXIgd2l0aCBgbmV3IERhdGVgIG9yIGBEYXRlLlVUQ2BcbiAgICB2YXIgc3RyaW5nID0gJycgKyBjb25maWcuX2ksXG4gICAgICAgIGksIHBhcnNlZElucHV0LCB0b2tlbnMsIHRva2VuLCBza2lwcGVkLFxuICAgICAgICBzdHJpbmdMZW5ndGggPSBzdHJpbmcubGVuZ3RoLFxuICAgICAgICB0b3RhbFBhcnNlZElucHV0TGVuZ3RoID0gMDtcblxuICAgIHRva2VucyA9IGV4cGFuZEZvcm1hdChjb25maWcuX2YsIGNvbmZpZy5fbG9jYWxlKS5tYXRjaChmb3JtYXR0aW5nVG9rZW5zKSB8fCBbXTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgIHBhcnNlZElucHV0ID0gKHN0cmluZy5tYXRjaChnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4odG9rZW4sIGNvbmZpZykpIHx8IFtdKVswXTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3Rva2VuJywgdG9rZW4sICdwYXJzZWRJbnB1dCcsIHBhcnNlZElucHV0LFxuICAgICAgICAvLyAgICAgICAgICdyZWdleCcsIGdldFBhcnNlUmVnZXhGb3JUb2tlbih0b2tlbiwgY29uZmlnKSk7XG4gICAgICAgIGlmIChwYXJzZWRJbnB1dCkge1xuICAgICAgICAgICAgc2tpcHBlZCA9IHN0cmluZy5zdWJzdHIoMCwgc3RyaW5nLmluZGV4T2YocGFyc2VkSW5wdXQpKTtcbiAgICAgICAgICAgIGlmIChza2lwcGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRJbnB1dC5wdXNoKHNraXBwZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RyaW5nID0gc3RyaW5nLnNsaWNlKHN0cmluZy5pbmRleE9mKHBhcnNlZElucHV0KSArIHBhcnNlZElucHV0Lmxlbmd0aCk7XG4gICAgICAgICAgICB0b3RhbFBhcnNlZElucHV0TGVuZ3RoICs9IHBhcnNlZElucHV0Lmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICAvLyBkb24ndCBwYXJzZSBpZiBpdCdzIG5vdCBhIGtub3duIHRva2VuXG4gICAgICAgIGlmIChmb3JtYXRUb2tlbkZ1bmN0aW9uc1t0b2tlbl0pIHtcbiAgICAgICAgICAgIGlmIChwYXJzZWRJbnB1dCkge1xuICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRUb2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRUaW1lVG9BcnJheUZyb21Ub2tlbih0b2tlbiwgcGFyc2VkSW5wdXQsIGNvbmZpZyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29uZmlnLl9zdHJpY3QgJiYgIXBhcnNlZElucHV0KSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRUb2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBhZGQgcmVtYWluaW5nIHVucGFyc2VkIGlucHV0IGxlbmd0aCB0byB0aGUgc3RyaW5nXG4gICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuY2hhcnNMZWZ0T3ZlciA9IHN0cmluZ0xlbmd0aCAtIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGg7XG4gICAgaWYgKHN0cmluZy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZElucHV0LnB1c2goc3RyaW5nKTtcbiAgICB9XG5cbiAgICAvLyBjbGVhciBfMTJoIGZsYWcgaWYgaG91ciBpcyA8PSAxMlxuICAgIGlmIChjb25maWcuX2FbSE9VUl0gPD0gMTIgJiZcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9PT0gdHJ1ZSAmJlxuICAgICAgICBjb25maWcuX2FbSE9VUl0gPiAwKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykucGFyc2VkRGF0ZVBhcnRzID0gY29uZmlnLl9hLnNsaWNlKDApO1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLm1lcmlkaWVtID0gY29uZmlnLl9tZXJpZGllbTtcbiAgICAvLyBoYW5kbGUgbWVyaWRpZW1cbiAgICBjb25maWcuX2FbSE9VUl0gPSBtZXJpZGllbUZpeFdyYXAoY29uZmlnLl9sb2NhbGUsIGNvbmZpZy5fYVtIT1VSXSwgY29uZmlnLl9tZXJpZGllbSk7XG5cbiAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcbiAgICBjaGVja092ZXJmbG93KGNvbmZpZyk7XG59XG5cblxuZnVuY3Rpb24gbWVyaWRpZW1GaXhXcmFwIChsb2NhbGUsIGhvdXIsIG1lcmlkaWVtKSB7XG4gICAgdmFyIGlzUG07XG5cbiAgICBpZiAobWVyaWRpZW0gPT0gbnVsbCkge1xuICAgICAgICAvLyBub3RoaW5nIHRvIGRvXG4gICAgICAgIHJldHVybiBob3VyO1xuICAgIH1cbiAgICBpZiAobG9jYWxlLm1lcmlkaWVtSG91ciAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUubWVyaWRpZW1Ib3VyKGhvdXIsIG1lcmlkaWVtKTtcbiAgICB9IGVsc2UgaWYgKGxvY2FsZS5pc1BNICE9IG51bGwpIHtcbiAgICAgICAgLy8gRmFsbGJhY2tcbiAgICAgICAgaXNQbSA9IGxvY2FsZS5pc1BNKG1lcmlkaWVtKTtcbiAgICAgICAgaWYgKGlzUG0gJiYgaG91ciA8IDEyKSB7XG4gICAgICAgICAgICBob3VyICs9IDEyO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNQbSAmJiBob3VyID09PSAxMikge1xuICAgICAgICAgICAgaG91ciA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhvdXI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdGhpcyBpcyBub3Qgc3VwcG9zZWQgdG8gaGFwcGVuXG4gICAgICAgIHJldHVybiBob3VyO1xuICAgIH1cbn1cblxuLy8gZGF0ZSBmcm9tIHN0cmluZyBhbmQgYXJyYXkgb2YgZm9ybWF0IHN0cmluZ3NcbmZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmdBbmRBcnJheShjb25maWcpIHtcbiAgICB2YXIgdGVtcENvbmZpZyxcbiAgICAgICAgYmVzdE1vbWVudCxcblxuICAgICAgICBzY29yZVRvQmVhdCxcbiAgICAgICAgaSxcbiAgICAgICAgY3VycmVudFNjb3JlO1xuXG4gICAgaWYgKGNvbmZpZy5fZi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZEZvcm1hdCA9IHRydWU7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKE5hTik7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgY29uZmlnLl9mLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGN1cnJlbnRTY29yZSA9IDA7XG4gICAgICAgIHRlbXBDb25maWcgPSBjb3B5Q29uZmlnKHt9LCBjb25maWcpO1xuICAgICAgICBpZiAoY29uZmlnLl91c2VVVEMgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGVtcENvbmZpZy5fdXNlVVRDID0gY29uZmlnLl91c2VVVEM7XG4gICAgICAgIH1cbiAgICAgICAgdGVtcENvbmZpZy5fZiA9IGNvbmZpZy5fZltpXTtcbiAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdCh0ZW1wQ29uZmlnKTtcblxuICAgICAgICBpZiAoIWlzVmFsaWQodGVtcENvbmZpZykpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYW55IGlucHV0IHRoYXQgd2FzIG5vdCBwYXJzZWQgYWRkIGEgcGVuYWx0eSBmb3IgdGhhdCBmb3JtYXRcbiAgICAgICAgY3VycmVudFNjb3JlICs9IGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS5jaGFyc0xlZnRPdmVyO1xuXG4gICAgICAgIC8vb3IgdG9rZW5zXG4gICAgICAgIGN1cnJlbnRTY29yZSArPSBnZXRQYXJzaW5nRmxhZ3ModGVtcENvbmZpZykudW51c2VkVG9rZW5zLmxlbmd0aCAqIDEwO1xuXG4gICAgICAgIGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS5zY29yZSA9IGN1cnJlbnRTY29yZTtcblxuICAgICAgICBpZiAoc2NvcmVUb0JlYXQgPT0gbnVsbCB8fCBjdXJyZW50U2NvcmUgPCBzY29yZVRvQmVhdCkge1xuICAgICAgICAgICAgc2NvcmVUb0JlYXQgPSBjdXJyZW50U2NvcmU7XG4gICAgICAgICAgICBiZXN0TW9tZW50ID0gdGVtcENvbmZpZztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4dGVuZChjb25maWcsIGJlc3RNb21lbnQgfHwgdGVtcENvbmZpZyk7XG59XG5cbmZ1bmN0aW9uIGNvbmZpZ0Zyb21PYmplY3QoY29uZmlnKSB7XG4gICAgaWYgKGNvbmZpZy5fZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGkgPSBub3JtYWxpemVPYmplY3RVbml0cyhjb25maWcuX2kpO1xuICAgIGNvbmZpZy5fYSA9IG1hcChbaS55ZWFyLCBpLm1vbnRoLCBpLmRheSB8fCBpLmRhdGUsIGkuaG91ciwgaS5taW51dGUsIGkuc2Vjb25kLCBpLm1pbGxpc2Vjb25kXSwgZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICYmIHBhcnNlSW50KG9iaiwgMTApO1xuICAgIH0pO1xuXG4gICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZyb21Db25maWcgKGNvbmZpZykge1xuICAgIHZhciByZXMgPSBuZXcgTW9tZW50KGNoZWNrT3ZlcmZsb3cocHJlcGFyZUNvbmZpZyhjb25maWcpKSk7XG4gICAgaWYgKHJlcy5fbmV4dERheSkge1xuICAgICAgICAvLyBBZGRpbmcgaXMgc21hcnQgZW5vdWdoIGFyb3VuZCBEU1RcbiAgICAgICAgcmVzLmFkZCgxLCAnZCcpO1xuICAgICAgICByZXMuX25leHREYXkgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gcHJlcGFyZUNvbmZpZyAoY29uZmlnKSB7XG4gICAgdmFyIGlucHV0ID0gY29uZmlnLl9pLFxuICAgICAgICBmb3JtYXQgPSBjb25maWcuX2Y7XG5cbiAgICBjb25maWcuX2xvY2FsZSA9IGNvbmZpZy5fbG9jYWxlIHx8IGdldExvY2FsZShjb25maWcuX2wpO1xuXG4gICAgaWYgKGlucHV0ID09PSBudWxsIHx8IChmb3JtYXQgPT09IHVuZGVmaW5lZCAmJiBpbnB1dCA9PT0gJycpKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVJbnZhbGlkKHtudWxsSW5wdXQ6IHRydWV9KTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25maWcuX2kgPSBpbnB1dCA9IGNvbmZpZy5fbG9jYWxlLnByZXBhcnNlKGlucHV0KTtcbiAgICB9XG5cbiAgICBpZiAoaXNNb21lbnQoaW5wdXQpKSB7XG4gICAgICAgIHJldHVybiBuZXcgTW9tZW50KGNoZWNrT3ZlcmZsb3coaW5wdXQpKTtcbiAgICB9IGVsc2UgaWYgKGlzRGF0ZShpbnB1dCkpIHtcbiAgICAgICAgY29uZmlnLl9kID0gaW5wdXQ7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KGZvcm1hdCkpIHtcbiAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEFycmF5KGNvbmZpZyk7XG4gICAgfSBlbHNlIGlmIChmb3JtYXQpIHtcbiAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpO1xuICAgIH0gIGVsc2Uge1xuICAgICAgICBjb25maWdGcm9tSW5wdXQoY29uZmlnKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzVmFsaWQoY29uZmlnKSkge1xuICAgICAgICBjb25maWcuX2QgPSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBjb25maWc7XG59XG5cbmZ1bmN0aW9uIGNvbmZpZ0Zyb21JbnB1dChjb25maWcpIHtcbiAgICB2YXIgaW5wdXQgPSBjb25maWcuX2k7XG4gICAgaWYgKGlucHV0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoaG9va3Mubm93KCkpO1xuICAgIH0gZWxzZSBpZiAoaXNEYXRlKGlucHV0KSkge1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShpbnB1dC52YWx1ZU9mKCkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25maWdGcm9tU3RyaW5nKGNvbmZpZyk7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KGlucHV0KSkge1xuICAgICAgICBjb25maWcuX2EgPSBtYXAoaW5wdXQuc2xpY2UoMCksIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChvYmosIDEwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mKGlucHV0KSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgY29uZmlnRnJvbU9iamVjdChjb25maWcpO1xuICAgIH0gZWxzZSBpZiAoaXNOdW1iZXIoaW5wdXQpKSB7XG4gICAgICAgIC8vIGZyb20gbWlsbGlzZWNvbmRzXG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGlucHV0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayhjb25maWcpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlTG9jYWxPclVUQyAoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIGlzVVRDKSB7XG4gICAgdmFyIGMgPSB7fTtcblxuICAgIGlmIChsb2NhbGUgPT09IHRydWUgfHwgbG9jYWxlID09PSBmYWxzZSkge1xuICAgICAgICBzdHJpY3QgPSBsb2NhbGU7XG4gICAgICAgIGxvY2FsZSA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAoKGlzT2JqZWN0KGlucHV0KSAmJiBpc09iamVjdEVtcHR5KGlucHV0KSkgfHxcbiAgICAgICAgICAgIChpc0FycmF5KGlucHV0KSAmJiBpbnB1dC5sZW5ndGggPT09IDApKSB7XG4gICAgICAgIGlucHV0ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvLyBvYmplY3QgY29uc3RydWN0aW9uIG11c3QgYmUgZG9uZSB0aGlzIHdheS5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTQyM1xuICAgIGMuX2lzQU1vbWVudE9iamVjdCA9IHRydWU7XG4gICAgYy5fdXNlVVRDID0gYy5faXNVVEMgPSBpc1VUQztcbiAgICBjLl9sID0gbG9jYWxlO1xuICAgIGMuX2kgPSBpbnB1dDtcbiAgICBjLl9mID0gZm9ybWF0O1xuICAgIGMuX3N0cmljdCA9IHN0cmljdDtcblxuICAgIHJldHVybiBjcmVhdGVGcm9tQ29uZmlnKGMpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMb2NhbCAoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QpIHtcbiAgICByZXR1cm4gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgZmFsc2UpO1xufVxuXG52YXIgcHJvdG90eXBlTWluID0gZGVwcmVjYXRlKFxuICAgICdtb21lbnQoKS5taW4gaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudC5tYXggaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9taW4tbWF4LycsXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3RoZXIgPSBjcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gb3RoZXIgPCB0aGlzID8gdGhpcyA6IG90aGVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoKTtcbiAgICAgICAgfVxuICAgIH1cbik7XG5cbnZhciBwcm90b3R5cGVNYXggPSBkZXByZWNhdGUoXG4gICAgJ21vbWVudCgpLm1heCBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1pbiBpbnN0ZWFkLiBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL21pbi1tYXgvJyxcbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvdGhlciA9IGNyZWF0ZUxvY2FsLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBvdGhlciA+IHRoaXMgPyB0aGlzIDogb3RoZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCgpO1xuICAgICAgICB9XG4gICAgfVxuKTtcblxuLy8gUGljayBhIG1vbWVudCBtIGZyb20gbW9tZW50cyBzbyB0aGF0IG1bZm5dKG90aGVyKSBpcyB0cnVlIGZvciBhbGxcbi8vIG90aGVyLiBUaGlzIHJlbGllcyBvbiB0aGUgZnVuY3Rpb24gZm4gdG8gYmUgdHJhbnNpdGl2ZS5cbi8vXG4vLyBtb21lbnRzIHNob3VsZCBlaXRoZXIgYmUgYW4gYXJyYXkgb2YgbW9tZW50IG9iamVjdHMgb3IgYW4gYXJyYXksIHdob3NlXG4vLyBmaXJzdCBlbGVtZW50IGlzIGFuIGFycmF5IG9mIG1vbWVudCBvYmplY3RzLlxuZnVuY3Rpb24gcGlja0J5KGZuLCBtb21lbnRzKSB7XG4gICAgdmFyIHJlcywgaTtcbiAgICBpZiAobW9tZW50cy5sZW5ndGggPT09IDEgJiYgaXNBcnJheShtb21lbnRzWzBdKSkge1xuICAgICAgICBtb21lbnRzID0gbW9tZW50c1swXTtcbiAgICB9XG4gICAgaWYgKCFtb21lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwoKTtcbiAgICB9XG4gICAgcmVzID0gbW9tZW50c1swXTtcbiAgICBmb3IgKGkgPSAxOyBpIDwgbW9tZW50cy5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoIW1vbWVudHNbaV0uaXNWYWxpZCgpIHx8IG1vbWVudHNbaV1bZm5dKHJlcykpIHtcbiAgICAgICAgICAgIHJlcyA9IG1vbWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuLy8gVE9ETzogVXNlIFtdLnNvcnQgaW5zdGVhZD9cbmZ1bmN0aW9uIG1pbiAoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG5cbiAgICByZXR1cm4gcGlja0J5KCdpc0JlZm9yZScsIGFyZ3MpO1xufVxuXG5mdW5jdGlvbiBtYXggKCkge1xuICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXG4gICAgcmV0dXJuIHBpY2tCeSgnaXNBZnRlcicsIGFyZ3MpO1xufVxuXG52YXIgbm93ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBEYXRlLm5vdyA/IERhdGUubm93KCkgOiArKG5ldyBEYXRlKCkpO1xufTtcblxuZnVuY3Rpb24gRHVyYXRpb24gKGR1cmF0aW9uKSB7XG4gICAgdmFyIG5vcm1hbGl6ZWRJbnB1dCA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKGR1cmF0aW9uKSxcbiAgICAgICAgeWVhcnMgPSBub3JtYWxpemVkSW5wdXQueWVhciB8fCAwLFxuICAgICAgICBxdWFydGVycyA9IG5vcm1hbGl6ZWRJbnB1dC5xdWFydGVyIHx8IDAsXG4gICAgICAgIG1vbnRocyA9IG5vcm1hbGl6ZWRJbnB1dC5tb250aCB8fCAwLFxuICAgICAgICB3ZWVrcyA9IG5vcm1hbGl6ZWRJbnB1dC53ZWVrIHx8IDAsXG4gICAgICAgIGRheXMgPSBub3JtYWxpemVkSW5wdXQuZGF5IHx8IDAsXG4gICAgICAgIGhvdXJzID0gbm9ybWFsaXplZElucHV0LmhvdXIgfHwgMCxcbiAgICAgICAgbWludXRlcyA9IG5vcm1hbGl6ZWRJbnB1dC5taW51dGUgfHwgMCxcbiAgICAgICAgc2Vjb25kcyA9IG5vcm1hbGl6ZWRJbnB1dC5zZWNvbmQgfHwgMCxcbiAgICAgICAgbWlsbGlzZWNvbmRzID0gbm9ybWFsaXplZElucHV0Lm1pbGxpc2Vjb25kIHx8IDA7XG5cbiAgICAvLyByZXByZXNlbnRhdGlvbiBmb3IgZGF0ZUFkZFJlbW92ZVxuICAgIHRoaXMuX21pbGxpc2Vjb25kcyA9ICttaWxsaXNlY29uZHMgK1xuICAgICAgICBzZWNvbmRzICogMWUzICsgLy8gMTAwMFxuICAgICAgICBtaW51dGVzICogNmU0ICsgLy8gMTAwMCAqIDYwXG4gICAgICAgIGhvdXJzICogMTAwMCAqIDYwICogNjA7IC8vdXNpbmcgMTAwMCAqIDYwICogNjAgaW5zdGVhZCBvZiAzNmU1IHRvIGF2b2lkIGZsb2F0aW5nIHBvaW50IHJvdW5kaW5nIGVycm9ycyBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMjk3OFxuICAgIC8vIEJlY2F1c2Ugb2YgZGF0ZUFkZFJlbW92ZSB0cmVhdHMgMjQgaG91cnMgYXMgZGlmZmVyZW50IGZyb20gYVxuICAgIC8vIGRheSB3aGVuIHdvcmtpbmcgYXJvdW5kIERTVCwgd2UgbmVlZCB0byBzdG9yZSB0aGVtIHNlcGFyYXRlbHlcbiAgICB0aGlzLl9kYXlzID0gK2RheXMgK1xuICAgICAgICB3ZWVrcyAqIDc7XG4gICAgLy8gSXQgaXMgaW1wb3NzaWJsZSB0cmFuc2xhdGUgbW9udGhzIGludG8gZGF5cyB3aXRob3V0IGtub3dpbmdcbiAgICAvLyB3aGljaCBtb250aHMgeW91IGFyZSBhcmUgdGFsa2luZyBhYm91dCwgc28gd2UgaGF2ZSB0byBzdG9yZVxuICAgIC8vIGl0IHNlcGFyYXRlbHkuXG4gICAgdGhpcy5fbW9udGhzID0gK21vbnRocyArXG4gICAgICAgIHF1YXJ0ZXJzICogMyArXG4gICAgICAgIHllYXJzICogMTI7XG5cbiAgICB0aGlzLl9kYXRhID0ge307XG5cbiAgICB0aGlzLl9sb2NhbGUgPSBnZXRMb2NhbGUoKTtcblxuICAgIHRoaXMuX2J1YmJsZSgpO1xufVxuXG5mdW5jdGlvbiBpc0R1cmF0aW9uIChvYmopIHtcbiAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgRHVyYXRpb247XG59XG5cbmZ1bmN0aW9uIGFic1JvdW5kIChudW1iZXIpIHtcbiAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgtMSAqIG51bWJlcikgKiAtMTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChudW1iZXIpO1xuICAgIH1cbn1cblxuLy8gRk9STUFUVElOR1xuXG5mdW5jdGlvbiBvZmZzZXQgKHRva2VuLCBzZXBhcmF0b3IpIHtcbiAgICBhZGRGb3JtYXRUb2tlbih0b2tlbiwgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy51dGNPZmZzZXQoKTtcbiAgICAgICAgdmFyIHNpZ24gPSAnKyc7XG4gICAgICAgIGlmIChvZmZzZXQgPCAwKSB7XG4gICAgICAgICAgICBvZmZzZXQgPSAtb2Zmc2V0O1xuICAgICAgICAgICAgc2lnbiA9ICctJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2lnbiArIHplcm9GaWxsKH5+KG9mZnNldCAvIDYwKSwgMikgKyBzZXBhcmF0b3IgKyB6ZXJvRmlsbCh+fihvZmZzZXQpICUgNjAsIDIpO1xuICAgIH0pO1xufVxuXG5vZmZzZXQoJ1onLCAnOicpO1xub2Zmc2V0KCdaWicsICcnKTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdaJywgIG1hdGNoU2hvcnRPZmZzZXQpO1xuYWRkUmVnZXhUb2tlbignWlonLCBtYXRjaFNob3J0T2Zmc2V0KTtcbmFkZFBhcnNlVG9rZW4oWydaJywgJ1paJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIGNvbmZpZy5fdXNlVVRDID0gdHJ1ZTtcbiAgICBjb25maWcuX3R6bSA9IG9mZnNldEZyb21TdHJpbmcobWF0Y2hTaG9ydE9mZnNldCwgaW5wdXQpO1xufSk7XG5cbi8vIEhFTFBFUlNcblxuLy8gdGltZXpvbmUgY2h1bmtlclxuLy8gJysxMDowMCcgPiBbJzEwJywgICcwMCddXG4vLyAnLTE1MzAnICA+IFsnLTE1JywgJzMwJ11cbnZhciBjaHVua09mZnNldCA9IC8oW1xcK1xcLV18XFxkXFxkKS9naTtcblxuZnVuY3Rpb24gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaGVyLCBzdHJpbmcpIHtcbiAgICB2YXIgbWF0Y2hlcyA9IChzdHJpbmcgfHwgJycpLm1hdGNoKG1hdGNoZXIpO1xuXG4gICAgaWYgKG1hdGNoZXMgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGNodW5rICAgPSBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0gfHwgW107XG4gICAgdmFyIHBhcnRzICAgPSAoY2h1bmsgKyAnJykubWF0Y2goY2h1bmtPZmZzZXQpIHx8IFsnLScsIDAsIDBdO1xuICAgIHZhciBtaW51dGVzID0gKyhwYXJ0c1sxXSAqIDYwKSArIHRvSW50KHBhcnRzWzJdKTtcblxuICAgIHJldHVybiBtaW51dGVzID09PSAwID9cbiAgICAgIDAgOlxuICAgICAgcGFydHNbMF0gPT09ICcrJyA/IG1pbnV0ZXMgOiAtbWludXRlcztcbn1cblxuLy8gUmV0dXJuIGEgbW9tZW50IGZyb20gaW5wdXQsIHRoYXQgaXMgbG9jYWwvdXRjL3pvbmUgZXF1aXZhbGVudCB0byBtb2RlbC5cbmZ1bmN0aW9uIGNsb25lV2l0aE9mZnNldChpbnB1dCwgbW9kZWwpIHtcbiAgICB2YXIgcmVzLCBkaWZmO1xuICAgIGlmIChtb2RlbC5faXNVVEMpIHtcbiAgICAgICAgcmVzID0gbW9kZWwuY2xvbmUoKTtcbiAgICAgICAgZGlmZiA9IChpc01vbWVudChpbnB1dCkgfHwgaXNEYXRlKGlucHV0KSA/IGlucHV0LnZhbHVlT2YoKSA6IGNyZWF0ZUxvY2FsKGlucHV0KS52YWx1ZU9mKCkpIC0gcmVzLnZhbHVlT2YoKTtcbiAgICAgICAgLy8gVXNlIGxvdy1sZXZlbCBhcGksIGJlY2F1c2UgdGhpcyBmbiBpcyBsb3ctbGV2ZWwgYXBpLlxuICAgICAgICByZXMuX2Quc2V0VGltZShyZXMuX2QudmFsdWVPZigpICsgZGlmZik7XG4gICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldChyZXMsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwoaW5wdXQpLmxvY2FsKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXREYXRlT2Zmc2V0IChtKSB7XG4gICAgLy8gT24gRmlyZWZveC4yNCBEYXRlI2dldFRpbWV6b25lT2Zmc2V0IHJldHVybnMgYSBmbG9hdGluZyBwb2ludC5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9wdWxsLzE4NzFcbiAgICByZXR1cm4gLU1hdGgucm91bmQobS5fZC5nZXRUaW1lem9uZU9mZnNldCgpIC8gMTUpICogMTU7XG59XG5cbi8vIEhPT0tTXG5cbi8vIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2hlbmV2ZXIgYSBtb21lbnQgaXMgbXV0YXRlZC5cbi8vIEl0IGlzIGludGVuZGVkIHRvIGtlZXAgdGhlIG9mZnNldCBpbiBzeW5jIHdpdGggdGhlIHRpbWV6b25lLlxuaG9va3MudXBkYXRlT2Zmc2V0ID0gZnVuY3Rpb24gKCkge307XG5cbi8vIE1PTUVOVFNcblxuLy8ga2VlcExvY2FsVGltZSA9IHRydWUgbWVhbnMgb25seSBjaGFuZ2UgdGhlIHRpbWV6b25lLCB3aXRob3V0XG4vLyBhZmZlY3RpbmcgdGhlIGxvY2FsIGhvdXIuIFNvIDU6MzE6MjYgKzAzMDAgLS1bdXRjT2Zmc2V0KDIsIHRydWUpXS0tPlxuLy8gNTozMToyNiArMDIwMCBJdCBpcyBwb3NzaWJsZSB0aGF0IDU6MzE6MjYgZG9lc24ndCBleGlzdCB3aXRoIG9mZnNldFxuLy8gKzAyMDAsIHNvIHdlIGFkanVzdCB0aGUgdGltZSBhcyBuZWVkZWQsIHRvIGJlIHZhbGlkLlxuLy9cbi8vIEtlZXBpbmcgdGhlIHRpbWUgYWN0dWFsbHkgYWRkcy9zdWJ0cmFjdHMgKG9uZSBob3VyKVxuLy8gZnJvbSB0aGUgYWN0dWFsIHJlcHJlc2VudGVkIHRpbWUuIFRoYXQgaXMgd2h5IHdlIGNhbGwgdXBkYXRlT2Zmc2V0XG4vLyBhIHNlY29uZCB0aW1lLiBJbiBjYXNlIGl0IHdhbnRzIHVzIHRvIGNoYW5nZSB0aGUgb2Zmc2V0IGFnYWluXG4vLyBfY2hhbmdlSW5Qcm9ncmVzcyA9PSB0cnVlIGNhc2UsIHRoZW4gd2UgaGF2ZSB0byBhZGp1c3QsIGJlY2F1c2Vcbi8vIHRoZXJlIGlzIG5vIHN1Y2ggdGltZSBpbiB0aGUgZ2l2ZW4gdGltZXpvbmUuXG5mdW5jdGlvbiBnZXRTZXRPZmZzZXQgKGlucHV0LCBrZWVwTG9jYWxUaW1lKSB7XG4gICAgdmFyIG9mZnNldCA9IHRoaXMuX29mZnNldCB8fCAwLFxuICAgICAgICBsb2NhbEFkanVzdDtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcbiAgICB9XG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlucHV0ID0gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaFNob3J0T2Zmc2V0LCBpbnB1dCk7XG4gICAgICAgICAgICBpZiAoaW5wdXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhpbnB1dCkgPCAxNikge1xuICAgICAgICAgICAgaW5wdXQgPSBpbnB1dCAqIDYwO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5faXNVVEMgJiYga2VlcExvY2FsVGltZSkge1xuICAgICAgICAgICAgbG9jYWxBZGp1c3QgPSBnZXREYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX29mZnNldCA9IGlucHV0O1xuICAgICAgICB0aGlzLl9pc1VUQyA9IHRydWU7XG4gICAgICAgIGlmIChsb2NhbEFkanVzdCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmFkZChsb2NhbEFkanVzdCwgJ20nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2Zmc2V0ICE9PSBpbnB1dCkge1xuICAgICAgICAgICAgaWYgKCFrZWVwTG9jYWxUaW1lIHx8IHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICBhZGRTdWJ0cmFjdCh0aGlzLCBjcmVhdGVEdXJhdGlvbihpbnB1dCAtIG9mZnNldCwgJ20nKSwgMSwgZmFsc2UpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VJblByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNVVEMgPyBvZmZzZXQgOiBnZXREYXRlT2Zmc2V0KHRoaXMpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0U2V0Wm9uZSAoaW5wdXQsIGtlZXBMb2NhbFRpbWUpIHtcbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaW5wdXQgPSAtaW5wdXQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnV0Y09mZnNldChpbnB1dCwga2VlcExvY2FsVGltZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIC10aGlzLnV0Y09mZnNldCgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0T2Zmc2V0VG9VVEMgKGtlZXBMb2NhbFRpbWUpIHtcbiAgICByZXR1cm4gdGhpcy51dGNPZmZzZXQoMCwga2VlcExvY2FsVGltZSk7XG59XG5cbmZ1bmN0aW9uIHNldE9mZnNldFRvTG9jYWwgKGtlZXBMb2NhbFRpbWUpIHtcbiAgICBpZiAodGhpcy5faXNVVEMpIHtcbiAgICAgICAgdGhpcy51dGNPZmZzZXQoMCwga2VlcExvY2FsVGltZSk7XG4gICAgICAgIHRoaXMuX2lzVVRDID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgICAgIHRoaXMuc3VidHJhY3QoZ2V0RGF0ZU9mZnNldCh0aGlzKSwgJ20nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gc2V0T2Zmc2V0VG9QYXJzZWRPZmZzZXQgKCkge1xuICAgIGlmICh0aGlzLl90em0gIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnV0Y09mZnNldCh0aGlzLl90em0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMuX2kgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhciB0Wm9uZSA9IG9mZnNldEZyb21TdHJpbmcobWF0Y2hPZmZzZXQsIHRoaXMuX2kpO1xuICAgICAgICBpZiAodFpvbmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQodFpvbmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoMCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGhhc0FsaWduZWRIb3VyT2Zmc2V0IChpbnB1dCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpbnB1dCA9IGlucHV0ID8gY3JlYXRlTG9jYWwoaW5wdXQpLnV0Y09mZnNldCgpIDogMDtcblxuICAgIHJldHVybiAodGhpcy51dGNPZmZzZXQoKSAtIGlucHV0KSAlIDYwID09PSAwO1xufVxuXG5mdW5jdGlvbiBpc0RheWxpZ2h0U2F2aW5nVGltZSAoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy51dGNPZmZzZXQoKSA+IHRoaXMuY2xvbmUoKS5tb250aCgwKS51dGNPZmZzZXQoKSB8fFxuICAgICAgICB0aGlzLnV0Y09mZnNldCgpID4gdGhpcy5jbG9uZSgpLm1vbnRoKDUpLnV0Y09mZnNldCgpXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gaXNEYXlsaWdodFNhdmluZ1RpbWVTaGlmdGVkICgpIHtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX2lzRFNUU2hpZnRlZCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRFNUU2hpZnRlZDtcbiAgICB9XG5cbiAgICB2YXIgYyA9IHt9O1xuXG4gICAgY29weUNvbmZpZyhjLCB0aGlzKTtcbiAgICBjID0gcHJlcGFyZUNvbmZpZyhjKTtcblxuICAgIGlmIChjLl9hKSB7XG4gICAgICAgIHZhciBvdGhlciA9IGMuX2lzVVRDID8gY3JlYXRlVVRDKGMuX2EpIDogY3JlYXRlTG9jYWwoYy5fYSk7XG4gICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9IHRoaXMuaXNWYWxpZCgpICYmXG4gICAgICAgICAgICBjb21wYXJlQXJyYXlzKGMuX2EsIG90aGVyLnRvQXJyYXkoKSkgPiAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9pc0RTVFNoaWZ0ZWQ7XG59XG5cbmZ1bmN0aW9uIGlzTG9jYWwgKCkge1xuICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/ICF0aGlzLl9pc1VUQyA6IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc1V0Y09mZnNldCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy5faXNVVEMgOiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNVdGMgKCkge1xuICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXMuX2lzVVRDICYmIHRoaXMuX29mZnNldCA9PT0gMCA6IGZhbHNlO1xufVxuXG4vLyBBU1AuTkVUIGpzb24gZGF0ZSBmb3JtYXQgcmVnZXhcbnZhciBhc3BOZXRSZWdleCA9IC9eKFxcLSk/KD86KFxcZCopWy4gXSk/KFxcZCspXFw6KFxcZCspKD86XFw6KFxcZCspKFxcLlxcZCopPyk/JC87XG5cbi8vIGZyb20gaHR0cDovL2RvY3MuY2xvc3VyZS1saWJyYXJ5Lmdvb2dsZWNvZGUuY29tL2dpdC9jbG9zdXJlX2dvb2dfZGF0ZV9kYXRlLmpzLnNvdXJjZS5odG1sXG4vLyBzb21ld2hhdCBtb3JlIGluIGxpbmUgd2l0aCA0LjQuMy4yIDIwMDQgc3BlYywgYnV0IGFsbG93cyBkZWNpbWFsIGFueXdoZXJlXG4vLyBhbmQgZnVydGhlciBtb2RpZmllZCB0byBhbGxvdyBmb3Igc3RyaW5ncyBjb250YWluaW5nIGJvdGggd2VlayBhbmQgZGF5XG52YXIgaXNvUmVnZXggPSAvXigtKT9QKD86KC0/WzAtOSwuXSopWSk/KD86KC0/WzAtOSwuXSopTSk/KD86KC0/WzAtOSwuXSopVyk/KD86KC0/WzAtOSwuXSopRCk/KD86VCg/OigtP1swLTksLl0qKUgpPyg/OigtP1swLTksLl0qKU0pPyg/OigtP1swLTksLl0qKVMpPyk/JC87XG5cbmZ1bmN0aW9uIGNyZWF0ZUR1cmF0aW9uIChpbnB1dCwga2V5KSB7XG4gICAgdmFyIGR1cmF0aW9uID0gaW5wdXQsXG4gICAgICAgIC8vIG1hdGNoaW5nIGFnYWluc3QgcmVnZXhwIGlzIGV4cGVuc2l2ZSwgZG8gaXQgb24gZGVtYW5kXG4gICAgICAgIG1hdGNoID0gbnVsbCxcbiAgICAgICAgc2lnbixcbiAgICAgICAgcmV0LFxuICAgICAgICBkaWZmUmVzO1xuXG4gICAgaWYgKGlzRHVyYXRpb24oaW5wdXQpKSB7XG4gICAgICAgIGR1cmF0aW9uID0ge1xuICAgICAgICAgICAgbXMgOiBpbnB1dC5fbWlsbGlzZWNvbmRzLFxuICAgICAgICAgICAgZCAgOiBpbnB1dC5fZGF5cyxcbiAgICAgICAgICAgIE0gIDogaW5wdXQuX21vbnRoc1xuICAgICAgICB9O1xuICAgIH0gZWxzZSBpZiAoaXNOdW1iZXIoaW5wdXQpKSB7XG4gICAgICAgIGR1cmF0aW9uID0ge307XG4gICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgIGR1cmF0aW9uW2tleV0gPSBpbnB1dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGR1cmF0aW9uLm1pbGxpc2Vjb25kcyA9IGlucHV0O1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmICghIShtYXRjaCA9IGFzcE5ldFJlZ2V4LmV4ZWMoaW5wdXQpKSkge1xuICAgICAgICBzaWduID0gKG1hdGNoWzFdID09PSAnLScpID8gLTEgOiAxO1xuICAgICAgICBkdXJhdGlvbiA9IHtcbiAgICAgICAgICAgIHkgIDogMCxcbiAgICAgICAgICAgIGQgIDogdG9JbnQobWF0Y2hbREFURV0pICAgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcbiAgICAgICAgICAgIGggIDogdG9JbnQobWF0Y2hbSE9VUl0pICAgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcbiAgICAgICAgICAgIG0gIDogdG9JbnQobWF0Y2hbTUlOVVRFXSkgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcbiAgICAgICAgICAgIHMgIDogdG9JbnQobWF0Y2hbU0VDT05EXSkgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcbiAgICAgICAgICAgIG1zIDogdG9JbnQoYWJzUm91bmQobWF0Y2hbTUlMTElTRUNPTkRdICogMTAwMCkpICogc2lnbiAvLyB0aGUgbWlsbGlzZWNvbmQgZGVjaW1hbCBwb2ludCBpcyBpbmNsdWRlZCBpbiB0aGUgbWF0Y2hcbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKCEhKG1hdGNoID0gaXNvUmVnZXguZXhlYyhpbnB1dCkpKSB7XG4gICAgICAgIHNpZ24gPSAobWF0Y2hbMV0gPT09ICctJykgPyAtMSA6IDE7XG4gICAgICAgIGR1cmF0aW9uID0ge1xuICAgICAgICAgICAgeSA6IHBhcnNlSXNvKG1hdGNoWzJdLCBzaWduKSxcbiAgICAgICAgICAgIE0gOiBwYXJzZUlzbyhtYXRjaFszXSwgc2lnbiksXG4gICAgICAgICAgICB3IDogcGFyc2VJc28obWF0Y2hbNF0sIHNpZ24pLFxuICAgICAgICAgICAgZCA6IHBhcnNlSXNvKG1hdGNoWzVdLCBzaWduKSxcbiAgICAgICAgICAgIGggOiBwYXJzZUlzbyhtYXRjaFs2XSwgc2lnbiksXG4gICAgICAgICAgICBtIDogcGFyc2VJc28obWF0Y2hbN10sIHNpZ24pLFxuICAgICAgICAgICAgcyA6IHBhcnNlSXNvKG1hdGNoWzhdLCBzaWduKVxuICAgICAgICB9O1xuICAgIH0gZWxzZSBpZiAoZHVyYXRpb24gPT0gbnVsbCkgey8vIGNoZWNrcyBmb3IgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgZHVyYXRpb24gPSB7fTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkdXJhdGlvbiA9PT0gJ29iamVjdCcgJiYgKCdmcm9tJyBpbiBkdXJhdGlvbiB8fCAndG8nIGluIGR1cmF0aW9uKSkge1xuICAgICAgICBkaWZmUmVzID0gbW9tZW50c0RpZmZlcmVuY2UoY3JlYXRlTG9jYWwoZHVyYXRpb24uZnJvbSksIGNyZWF0ZUxvY2FsKGR1cmF0aW9uLnRvKSk7XG5cbiAgICAgICAgZHVyYXRpb24gPSB7fTtcbiAgICAgICAgZHVyYXRpb24ubXMgPSBkaWZmUmVzLm1pbGxpc2Vjb25kcztcbiAgICAgICAgZHVyYXRpb24uTSA9IGRpZmZSZXMubW9udGhzO1xuICAgIH1cblxuICAgIHJldCA9IG5ldyBEdXJhdGlvbihkdXJhdGlvbik7XG5cbiAgICBpZiAoaXNEdXJhdGlvbihpbnB1dCkgJiYgaGFzT3duUHJvcChpbnB1dCwgJ19sb2NhbGUnKSkge1xuICAgICAgICByZXQuX2xvY2FsZSA9IGlucHV0Ll9sb2NhbGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldDtcbn1cblxuY3JlYXRlRHVyYXRpb24uZm4gPSBEdXJhdGlvbi5wcm90b3R5cGU7XG5cbmZ1bmN0aW9uIHBhcnNlSXNvIChpbnAsIHNpZ24pIHtcbiAgICAvLyBXZSdkIG5vcm1hbGx5IHVzZSB+fmlucCBmb3IgdGhpcywgYnV0IHVuZm9ydHVuYXRlbHkgaXQgYWxzb1xuICAgIC8vIGNvbnZlcnRzIGZsb2F0cyB0byBpbnRzLlxuICAgIC8vIGlucCBtYXkgYmUgdW5kZWZpbmVkLCBzbyBjYXJlZnVsIGNhbGxpbmcgcmVwbGFjZSBvbiBpdC5cbiAgICB2YXIgcmVzID0gaW5wICYmIHBhcnNlRmxvYXQoaW5wLnJlcGxhY2UoJywnLCAnLicpKTtcbiAgICAvLyBhcHBseSBzaWduIHdoaWxlIHdlJ3JlIGF0IGl0XG4gICAgcmV0dXJuIChpc05hTihyZXMpID8gMCA6IHJlcykgKiBzaWduO1xufVxuXG5mdW5jdGlvbiBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKSB7XG4gICAgdmFyIHJlcyA9IHttaWxsaXNlY29uZHM6IDAsIG1vbnRoczogMH07XG5cbiAgICByZXMubW9udGhzID0gb3RoZXIubW9udGgoKSAtIGJhc2UubW9udGgoKSArXG4gICAgICAgIChvdGhlci55ZWFyKCkgLSBiYXNlLnllYXIoKSkgKiAxMjtcbiAgICBpZiAoYmFzZS5jbG9uZSgpLmFkZChyZXMubW9udGhzLCAnTScpLmlzQWZ0ZXIob3RoZXIpKSB7XG4gICAgICAgIC0tcmVzLm1vbnRocztcbiAgICB9XG5cbiAgICByZXMubWlsbGlzZWNvbmRzID0gK290aGVyIC0gKyhiYXNlLmNsb25lKCkuYWRkKHJlcy5tb250aHMsICdNJykpO1xuXG4gICAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gbW9tZW50c0RpZmZlcmVuY2UoYmFzZSwgb3RoZXIpIHtcbiAgICB2YXIgcmVzO1xuICAgIGlmICghKGJhc2UuaXNWYWxpZCgpICYmIG90aGVyLmlzVmFsaWQoKSkpIHtcbiAgICAgICAgcmV0dXJuIHttaWxsaXNlY29uZHM6IDAsIG1vbnRoczogMH07XG4gICAgfVxuXG4gICAgb3RoZXIgPSBjbG9uZVdpdGhPZmZzZXQob3RoZXIsIGJhc2UpO1xuICAgIGlmIChiYXNlLmlzQmVmb3JlKG90aGVyKSkge1xuICAgICAgICByZXMgPSBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXMgPSBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKG90aGVyLCBiYXNlKTtcbiAgICAgICAgcmVzLm1pbGxpc2Vjb25kcyA9IC1yZXMubWlsbGlzZWNvbmRzO1xuICAgICAgICByZXMubW9udGhzID0gLXJlcy5tb250aHM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcztcbn1cblxuLy8gVE9ETzogcmVtb3ZlICduYW1lJyBhcmcgYWZ0ZXIgZGVwcmVjYXRpb24gaXMgcmVtb3ZlZFxuZnVuY3Rpb24gY3JlYXRlQWRkZXIoZGlyZWN0aW9uLCBuYW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh2YWwsIHBlcmlvZCkge1xuICAgICAgICB2YXIgZHVyLCB0bXA7XG4gICAgICAgIC8vaW52ZXJ0IHRoZSBhcmd1bWVudHMsIGJ1dCBjb21wbGFpbiBhYm91dCBpdFxuICAgICAgICBpZiAocGVyaW9kICE9PSBudWxsICYmICFpc05hTigrcGVyaW9kKSkge1xuICAgICAgICAgICAgZGVwcmVjYXRlU2ltcGxlKG5hbWUsICdtb21lbnQoKS4nICsgbmFtZSAgKyAnKHBlcmlvZCwgbnVtYmVyKSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIG1vbWVudCgpLicgKyBuYW1lICsgJyhudW1iZXIsIHBlcmlvZCkuICcgK1xuICAgICAgICAgICAgJ1NlZSBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2FkZC1pbnZlcnRlZC1wYXJhbS8gZm9yIG1vcmUgaW5mby4nKTtcbiAgICAgICAgICAgIHRtcCA9IHZhbDsgdmFsID0gcGVyaW9kOyBwZXJpb2QgPSB0bXA7XG4gICAgICAgIH1cblxuICAgICAgICB2YWwgPSB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyA/ICt2YWwgOiB2YWw7XG4gICAgICAgIGR1ciA9IGNyZWF0ZUR1cmF0aW9uKHZhbCwgcGVyaW9kKTtcbiAgICAgICAgYWRkU3VidHJhY3QodGhpcywgZHVyLCBkaXJlY3Rpb24pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBhZGRTdWJ0cmFjdCAobW9tLCBkdXJhdGlvbiwgaXNBZGRpbmcsIHVwZGF0ZU9mZnNldCkge1xuICAgIHZhciBtaWxsaXNlY29uZHMgPSBkdXJhdGlvbi5fbWlsbGlzZWNvbmRzLFxuICAgICAgICBkYXlzID0gYWJzUm91bmQoZHVyYXRpb24uX2RheXMpLFxuICAgICAgICBtb250aHMgPSBhYnNSb3VuZChkdXJhdGlvbi5fbW9udGhzKTtcblxuICAgIGlmICghbW9tLmlzVmFsaWQoKSkge1xuICAgICAgICAvLyBObyBvcFxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdXBkYXRlT2Zmc2V0ID0gdXBkYXRlT2Zmc2V0ID09IG51bGwgPyB0cnVlIDogdXBkYXRlT2Zmc2V0O1xuXG4gICAgaWYgKG1pbGxpc2Vjb25kcykge1xuICAgICAgICBtb20uX2Quc2V0VGltZShtb20uX2QudmFsdWVPZigpICsgbWlsbGlzZWNvbmRzICogaXNBZGRpbmcpO1xuICAgIH1cbiAgICBpZiAoZGF5cykge1xuICAgICAgICBzZXQkMShtb20sICdEYXRlJywgZ2V0KG1vbSwgJ0RhdGUnKSArIGRheXMgKiBpc0FkZGluZyk7XG4gICAgfVxuICAgIGlmIChtb250aHMpIHtcbiAgICAgICAgc2V0TW9udGgobW9tLCBnZXQobW9tLCAnTW9udGgnKSArIG1vbnRocyAqIGlzQWRkaW5nKTtcbiAgICB9XG4gICAgaWYgKHVwZGF0ZU9mZnNldCkge1xuICAgICAgICBob29rcy51cGRhdGVPZmZzZXQobW9tLCBkYXlzIHx8IG1vbnRocyk7XG4gICAgfVxufVxuXG52YXIgYWRkICAgICAgPSBjcmVhdGVBZGRlcigxLCAnYWRkJyk7XG52YXIgc3VidHJhY3QgPSBjcmVhdGVBZGRlcigtMSwgJ3N1YnRyYWN0Jyk7XG5cbmZ1bmN0aW9uIGdldENhbGVuZGFyRm9ybWF0KG15TW9tZW50LCBub3cpIHtcbiAgICB2YXIgZGlmZiA9IG15TW9tZW50LmRpZmYobm93LCAnZGF5cycsIHRydWUpO1xuICAgIHJldHVybiBkaWZmIDwgLTYgPyAnc2FtZUVsc2UnIDpcbiAgICAgICAgICAgIGRpZmYgPCAtMSA/ICdsYXN0V2VlaycgOlxuICAgICAgICAgICAgZGlmZiA8IDAgPyAnbGFzdERheScgOlxuICAgICAgICAgICAgZGlmZiA8IDEgPyAnc2FtZURheScgOlxuICAgICAgICAgICAgZGlmZiA8IDIgPyAnbmV4dERheScgOlxuICAgICAgICAgICAgZGlmZiA8IDcgPyAnbmV4dFdlZWsnIDogJ3NhbWVFbHNlJztcbn1cblxuZnVuY3Rpb24gY2FsZW5kYXIkMSAodGltZSwgZm9ybWF0cykge1xuICAgIC8vIFdlIHdhbnQgdG8gY29tcGFyZSB0aGUgc3RhcnQgb2YgdG9kYXksIHZzIHRoaXMuXG4gICAgLy8gR2V0dGluZyBzdGFydC1vZi10b2RheSBkZXBlbmRzIG9uIHdoZXRoZXIgd2UncmUgbG9jYWwvdXRjL29mZnNldCBvciBub3QuXG4gICAgdmFyIG5vdyA9IHRpbWUgfHwgY3JlYXRlTG9jYWwoKSxcbiAgICAgICAgc29kID0gY2xvbmVXaXRoT2Zmc2V0KG5vdywgdGhpcykuc3RhcnRPZignZGF5JyksXG4gICAgICAgIGZvcm1hdCA9IGhvb2tzLmNhbGVuZGFyRm9ybWF0KHRoaXMsIHNvZCkgfHwgJ3NhbWVFbHNlJztcblxuICAgIHZhciBvdXRwdXQgPSBmb3JtYXRzICYmIChpc0Z1bmN0aW9uKGZvcm1hdHNbZm9ybWF0XSkgPyBmb3JtYXRzW2Zvcm1hdF0uY2FsbCh0aGlzLCBub3cpIDogZm9ybWF0c1tmb3JtYXRdKTtcblxuICAgIHJldHVybiB0aGlzLmZvcm1hdChvdXRwdXQgfHwgdGhpcy5sb2NhbGVEYXRhKCkuY2FsZW5kYXIoZm9ybWF0LCB0aGlzLCBjcmVhdGVMb2NhbChub3cpKSk7XG59XG5cbmZ1bmN0aW9uIGNsb25lICgpIHtcbiAgICByZXR1cm4gbmV3IE1vbWVudCh0aGlzKTtcbn1cblxuZnVuY3Rpb24gaXNBZnRlciAoaW5wdXQsIHVuaXRzKSB7XG4gICAgdmFyIGxvY2FsSW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGNyZWF0ZUxvY2FsKGlucHV0KTtcbiAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKCFpc1VuZGVmaW5lZCh1bml0cykgPyB1bml0cyA6ICdtaWxsaXNlY29uZCcpO1xuICAgIGlmICh1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCkgPiBsb2NhbElucHV0LnZhbHVlT2YoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbG9jYWxJbnB1dC52YWx1ZU9mKCkgPCB0aGlzLmNsb25lKCkuc3RhcnRPZih1bml0cykudmFsdWVPZigpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNCZWZvcmUgKGlucHV0LCB1bml0cykge1xuICAgIHZhciBsb2NhbElucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBjcmVhdGVMb2NhbChpbnB1dCk7XG4gICAgaWYgKCEodGhpcy5pc1ZhbGlkKCkgJiYgbG9jYWxJbnB1dC5pc1ZhbGlkKCkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyghaXNVbmRlZmluZWQodW5pdHMpID8gdW5pdHMgOiAnbWlsbGlzZWNvbmQnKTtcbiAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpIDwgbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5lbmRPZih1bml0cykudmFsdWVPZigpIDwgbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc0JldHdlZW4gKGZyb20sIHRvLCB1bml0cywgaW5jbHVzaXZpdHkpIHtcbiAgICBpbmNsdXNpdml0eSA9IGluY2x1c2l2aXR5IHx8ICcoKSc7XG4gICAgcmV0dXJuIChpbmNsdXNpdml0eVswXSA9PT0gJygnID8gdGhpcy5pc0FmdGVyKGZyb20sIHVuaXRzKSA6ICF0aGlzLmlzQmVmb3JlKGZyb20sIHVuaXRzKSkgJiZcbiAgICAgICAgKGluY2x1c2l2aXR5WzFdID09PSAnKScgPyB0aGlzLmlzQmVmb3JlKHRvLCB1bml0cykgOiAhdGhpcy5pc0FmdGVyKHRvLCB1bml0cykpO1xufVxuXG5mdW5jdGlvbiBpc1NhbWUgKGlucHV0LCB1bml0cykge1xuICAgIHZhciBsb2NhbElucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBjcmVhdGVMb2NhbChpbnB1dCksXG4gICAgICAgIGlucHV0TXM7XG4gICAgaWYgKCEodGhpcy5pc1ZhbGlkKCkgJiYgbG9jYWxJbnB1dC5pc1ZhbGlkKCkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyB8fCAnbWlsbGlzZWNvbmQnKTtcbiAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpID09PSBsb2NhbElucHV0LnZhbHVlT2YoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpbnB1dE1zID0gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuc3RhcnRPZih1bml0cykudmFsdWVPZigpIDw9IGlucHV0TXMgJiYgaW5wdXRNcyA8PSB0aGlzLmNsb25lKCkuZW5kT2YodW5pdHMpLnZhbHVlT2YoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzU2FtZU9yQWZ0ZXIgKGlucHV0LCB1bml0cykge1xuICAgIHJldHVybiB0aGlzLmlzU2FtZShpbnB1dCwgdW5pdHMpIHx8IHRoaXMuaXNBZnRlcihpbnB1dCx1bml0cyk7XG59XG5cbmZ1bmN0aW9uIGlzU2FtZU9yQmVmb3JlIChpbnB1dCwgdW5pdHMpIHtcbiAgICByZXR1cm4gdGhpcy5pc1NhbWUoaW5wdXQsIHVuaXRzKSB8fCB0aGlzLmlzQmVmb3JlKGlucHV0LHVuaXRzKTtcbn1cblxuZnVuY3Rpb24gZGlmZiAoaW5wdXQsIHVuaXRzLCBhc0Zsb2F0KSB7XG4gICAgdmFyIHRoYXQsXG4gICAgICAgIHpvbmVEZWx0YSxcbiAgICAgICAgZGVsdGEsIG91dHB1dDtcblxuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG5cbiAgICB0aGF0ID0gY2xvbmVXaXRoT2Zmc2V0KGlucHV0LCB0aGlzKTtcblxuICAgIGlmICghdGhhdC5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG5cbiAgICB6b25lRGVsdGEgPSAodGhhdC51dGNPZmZzZXQoKSAtIHRoaXMudXRjT2Zmc2V0KCkpICogNmU0O1xuXG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG5cbiAgICBpZiAodW5pdHMgPT09ICd5ZWFyJyB8fCB1bml0cyA9PT0gJ21vbnRoJyB8fCB1bml0cyA9PT0gJ3F1YXJ0ZXInKSB7XG4gICAgICAgIG91dHB1dCA9IG1vbnRoRGlmZih0aGlzLCB0aGF0KTtcbiAgICAgICAgaWYgKHVuaXRzID09PSAncXVhcnRlcicpIHtcbiAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dCAvIDM7XG4gICAgICAgIH0gZWxzZSBpZiAodW5pdHMgPT09ICd5ZWFyJykge1xuICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0IC8gMTI7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBkZWx0YSA9IHRoaXMgLSB0aGF0O1xuICAgICAgICBvdXRwdXQgPSB1bml0cyA9PT0gJ3NlY29uZCcgPyBkZWx0YSAvIDFlMyA6IC8vIDEwMDBcbiAgICAgICAgICAgIHVuaXRzID09PSAnbWludXRlJyA/IGRlbHRhIC8gNmU0IDogLy8gMTAwMCAqIDYwXG4gICAgICAgICAgICB1bml0cyA9PT0gJ2hvdXInID8gZGVsdGEgLyAzNmU1IDogLy8gMTAwMCAqIDYwICogNjBcbiAgICAgICAgICAgIHVuaXRzID09PSAnZGF5JyA/IChkZWx0YSAtIHpvbmVEZWx0YSkgLyA4NjRlNSA6IC8vIDEwMDAgKiA2MCAqIDYwICogMjQsIG5lZ2F0ZSBkc3RcbiAgICAgICAgICAgIHVuaXRzID09PSAnd2VlaycgPyAoZGVsdGEgLSB6b25lRGVsdGEpIC8gNjA0OGU1IDogLy8gMTAwMCAqIDYwICogNjAgKiAyNCAqIDcsIG5lZ2F0ZSBkc3RcbiAgICAgICAgICAgIGRlbHRhO1xuICAgIH1cbiAgICByZXR1cm4gYXNGbG9hdCA/IG91dHB1dCA6IGFic0Zsb29yKG91dHB1dCk7XG59XG5cbmZ1bmN0aW9uIG1vbnRoRGlmZiAoYSwgYikge1xuICAgIC8vIGRpZmZlcmVuY2UgaW4gbW9udGhzXG4gICAgdmFyIHdob2xlTW9udGhEaWZmID0gKChiLnllYXIoKSAtIGEueWVhcigpKSAqIDEyKSArIChiLm1vbnRoKCkgLSBhLm1vbnRoKCkpLFxuICAgICAgICAvLyBiIGlzIGluIChhbmNob3IgLSAxIG1vbnRoLCBhbmNob3IgKyAxIG1vbnRoKVxuICAgICAgICBhbmNob3IgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmLCAnbW9udGhzJyksXG4gICAgICAgIGFuY2hvcjIsIGFkanVzdDtcblxuICAgIGlmIChiIC0gYW5jaG9yIDwgMCkge1xuICAgICAgICBhbmNob3IyID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiAtIDEsICdtb250aHMnKTtcbiAgICAgICAgLy8gbGluZWFyIGFjcm9zcyB0aGUgbW9udGhcbiAgICAgICAgYWRqdXN0ID0gKGIgLSBhbmNob3IpIC8gKGFuY2hvciAtIGFuY2hvcjIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGFuY2hvcjIgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmICsgMSwgJ21vbnRocycpO1xuICAgICAgICAvLyBsaW5lYXIgYWNyb3NzIHRoZSBtb250aFxuICAgICAgICBhZGp1c3QgPSAoYiAtIGFuY2hvcikgLyAoYW5jaG9yMiAtIGFuY2hvcik7XG4gICAgfVxuXG4gICAgLy9jaGVjayBmb3IgbmVnYXRpdmUgemVybywgcmV0dXJuIHplcm8gaWYgbmVnYXRpdmUgemVyb1xuICAgIHJldHVybiAtKHdob2xlTW9udGhEaWZmICsgYWRqdXN0KSB8fCAwO1xufVxuXG5ob29rcy5kZWZhdWx0Rm9ybWF0ID0gJ1lZWVktTU0tRERUSEg6bW06c3NaJztcbmhvb2tzLmRlZmF1bHRGb3JtYXRVdGMgPSAnWVlZWS1NTS1ERFRISDptbTpzc1taXSc7XG5cbmZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmxvY2FsZSgnZW4nKS5mb3JtYXQoJ2RkZCBNTU0gREQgWVlZWSBISDptbTpzcyBbR01UXVpaJyk7XG59XG5cbmZ1bmN0aW9uIHRvSVNPU3RyaW5nICgpIHtcbiAgICB2YXIgbSA9IHRoaXMuY2xvbmUoKS51dGMoKTtcbiAgICBpZiAoMCA8IG0ueWVhcigpICYmIG0ueWVhcigpIDw9IDk5OTkpIHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oRGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmcpKSB7XG4gICAgICAgICAgICAvLyBuYXRpdmUgaW1wbGVtZW50YXRpb24gaXMgfjUweCBmYXN0ZXIsIHVzZSBpdCB3aGVuIHdlIGNhblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9EYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXRNb21lbnQobSwgJ1lZWVktTU0tRERbVF1ISDptbTpzcy5TU1NbWl0nKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmb3JtYXRNb21lbnQobSwgJ1lZWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1taXScpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZXR1cm4gYSBodW1hbiByZWFkYWJsZSByZXByZXNlbnRhdGlvbiBvZiBhIG1vbWVudCB0aGF0IGNhblxuICogYWxzbyBiZSBldmFsdWF0ZWQgdG8gZ2V0IGEgbmV3IG1vbWVudCB3aGljaCBpcyB0aGUgc2FtZVxuICpcbiAqIEBsaW5rIGh0dHBzOi8vbm9kZWpzLm9yZy9kaXN0L2xhdGVzdC9kb2NzL2FwaS91dGlsLmh0bWwjdXRpbF9jdXN0b21faW5zcGVjdF9mdW5jdGlvbl9vbl9vYmplY3RzXG4gKi9cbmZ1bmN0aW9uIGluc3BlY3QgKCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuICdtb21lbnQuaW52YWxpZCgvKiAnICsgdGhpcy5faSArICcgKi8pJztcbiAgICB9XG4gICAgdmFyIGZ1bmMgPSAnbW9tZW50JztcbiAgICB2YXIgem9uZSA9ICcnO1xuICAgIGlmICghdGhpcy5pc0xvY2FsKCkpIHtcbiAgICAgICAgZnVuYyA9IHRoaXMudXRjT2Zmc2V0KCkgPT09IDAgPyAnbW9tZW50LnV0YycgOiAnbW9tZW50LnBhcnNlWm9uZSc7XG4gICAgICAgIHpvbmUgPSAnWic7XG4gICAgfVxuICAgIHZhciBwcmVmaXggPSAnWycgKyBmdW5jICsgJyhcIl0nO1xuICAgIHZhciB5ZWFyID0gKDAgPCB0aGlzLnllYXIoKSAmJiB0aGlzLnllYXIoKSA8PSA5OTk5KSA/ICdZWVlZJyA6ICdZWVlZWVknO1xuICAgIHZhciBkYXRldGltZSA9ICctTU0tRERbVF1ISDptbTpzcy5TU1MnO1xuICAgIHZhciBzdWZmaXggPSB6b25lICsgJ1tcIildJztcblxuICAgIHJldHVybiB0aGlzLmZvcm1hdChwcmVmaXggKyB5ZWFyICsgZGF0ZXRpbWUgKyBzdWZmaXgpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXQgKGlucHV0U3RyaW5nKSB7XG4gICAgaWYgKCFpbnB1dFN0cmluZykge1xuICAgICAgICBpbnB1dFN0cmluZyA9IHRoaXMuaXNVdGMoKSA/IGhvb2tzLmRlZmF1bHRGb3JtYXRVdGMgOiBob29rcy5kZWZhdWx0Rm9ybWF0O1xuICAgIH1cbiAgICB2YXIgb3V0cHV0ID0gZm9ybWF0TW9tZW50KHRoaXMsIGlucHV0U3RyaW5nKTtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkucG9zdGZvcm1hdChvdXRwdXQpO1xufVxuXG5mdW5jdGlvbiBmcm9tICh0aW1lLCB3aXRob3V0U3VmZml4KSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmXG4gICAgICAgICAgICAoKGlzTW9tZW50KHRpbWUpICYmIHRpbWUuaXNWYWxpZCgpKSB8fFxuICAgICAgICAgICAgIGNyZWF0ZUxvY2FsKHRpbWUpLmlzVmFsaWQoKSkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKHt0bzogdGhpcywgZnJvbTogdGltZX0pLmxvY2FsZSh0aGlzLmxvY2FsZSgpKS5odW1hbml6ZSghd2l0aG91dFN1ZmZpeCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBmcm9tTm93ICh3aXRob3V0U3VmZml4KSB7XG4gICAgcmV0dXJuIHRoaXMuZnJvbShjcmVhdGVMb2NhbCgpLCB3aXRob3V0U3VmZml4KTtcbn1cblxuZnVuY3Rpb24gdG8gKHRpbWUsIHdpdGhvdXRTdWZmaXgpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiZcbiAgICAgICAgICAgICgoaXNNb21lbnQodGltZSkgJiYgdGltZS5pc1ZhbGlkKCkpIHx8XG4gICAgICAgICAgICAgY3JlYXRlTG9jYWwodGltZSkuaXNWYWxpZCgpKSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlRHVyYXRpb24oe2Zyb206IHRoaXMsIHRvOiB0aW1lfSkubG9jYWxlKHRoaXMubG9jYWxlKCkpLmh1bWFuaXplKCF3aXRob3V0U3VmZml4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHRvTm93ICh3aXRob3V0U3VmZml4KSB7XG4gICAgcmV0dXJuIHRoaXMudG8oY3JlYXRlTG9jYWwoKSwgd2l0aG91dFN1ZmZpeCk7XG59XG5cbi8vIElmIHBhc3NlZCBhIGxvY2FsZSBrZXksIGl0IHdpbGwgc2V0IHRoZSBsb2NhbGUgZm9yIHRoaXNcbi8vIGluc3RhbmNlLiAgT3RoZXJ3aXNlLCBpdCB3aWxsIHJldHVybiB0aGUgbG9jYWxlIGNvbmZpZ3VyYXRpb25cbi8vIHZhcmlhYmxlcyBmb3IgdGhpcyBpbnN0YW5jZS5cbmZ1bmN0aW9uIGxvY2FsZSAoa2V5KSB7XG4gICAgdmFyIG5ld0xvY2FsZURhdGE7XG5cbiAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsZS5fYWJicjtcbiAgICB9IGVsc2Uge1xuICAgICAgICBuZXdMb2NhbGVEYXRhID0gZ2V0TG9jYWxlKGtleSk7XG4gICAgICAgIGlmIChuZXdMb2NhbGVEYXRhICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsZSA9IG5ld0xvY2FsZURhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG52YXIgbGFuZyA9IGRlcHJlY2F0ZShcbiAgICAnbW9tZW50KCkubGFuZygpIGlzIGRlcHJlY2F0ZWQuIEluc3RlYWQsIHVzZSBtb21lbnQoKS5sb2NhbGVEYXRhKCkgdG8gZ2V0IHRoZSBsYW5ndWFnZSBjb25maWd1cmF0aW9uLiBVc2UgbW9tZW50KCkubG9jYWxlKCkgdG8gY2hhbmdlIGxhbmd1YWdlcy4nLFxuICAgIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGUoa2V5KTtcbiAgICAgICAgfVxuICAgIH1cbik7XG5cbmZ1bmN0aW9uIGxvY2FsZURhdGEgKCkge1xuICAgIHJldHVybiB0aGlzLl9sb2NhbGU7XG59XG5cbmZ1bmN0aW9uIHN0YXJ0T2YgKHVuaXRzKSB7XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgLy8gdGhlIGZvbGxvd2luZyBzd2l0Y2ggaW50ZW50aW9uYWxseSBvbWl0cyBicmVhayBrZXl3b3Jkc1xuICAgIC8vIHRvIHV0aWxpemUgZmFsbGluZyB0aHJvdWdoIHRoZSBjYXNlcy5cbiAgICBzd2l0Y2ggKHVuaXRzKSB7XG4gICAgICAgIGNhc2UgJ3llYXInOlxuICAgICAgICAgICAgdGhpcy5tb250aCgwKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgY2FzZSAncXVhcnRlcic6XG4gICAgICAgIGNhc2UgJ21vbnRoJzpcbiAgICAgICAgICAgIHRoaXMuZGF0ZSgxKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgY2FzZSAnd2Vlayc6XG4gICAgICAgIGNhc2UgJ2lzb1dlZWsnOlxuICAgICAgICBjYXNlICdkYXknOlxuICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICAgIHRoaXMuaG91cnMoMCk7XG4gICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgIGNhc2UgJ2hvdXInOlxuICAgICAgICAgICAgdGhpcy5taW51dGVzKDApO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICdtaW51dGUnOlxuICAgICAgICAgICAgdGhpcy5zZWNvbmRzKDApO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICdzZWNvbmQnOlxuICAgICAgICAgICAgdGhpcy5taWxsaXNlY29uZHMoMCk7XG4gICAgfVxuXG4gICAgLy8gd2Vla3MgYXJlIGEgc3BlY2lhbCBjYXNlXG4gICAgaWYgKHVuaXRzID09PSAnd2VlaycpIHtcbiAgICAgICAgdGhpcy53ZWVrZGF5KDApO1xuICAgIH1cbiAgICBpZiAodW5pdHMgPT09ICdpc29XZWVrJykge1xuICAgICAgICB0aGlzLmlzb1dlZWtkYXkoMSk7XG4gICAgfVxuXG4gICAgLy8gcXVhcnRlcnMgYXJlIGFsc28gc3BlY2lhbFxuICAgIGlmICh1bml0cyA9PT0gJ3F1YXJ0ZXInKSB7XG4gICAgICAgIHRoaXMubW9udGgoTWF0aC5mbG9vcih0aGlzLm1vbnRoKCkgLyAzKSAqIDMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBlbmRPZiAodW5pdHMpIHtcbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICBpZiAodW5pdHMgPT09IHVuZGVmaW5lZCB8fCB1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyAnZGF0ZScgaXMgYW4gYWxpYXMgZm9yICdkYXknLCBzbyBpdCBzaG91bGQgYmUgY29uc2lkZXJlZCBhcyBzdWNoLlxuICAgIGlmICh1bml0cyA9PT0gJ2RhdGUnKSB7XG4gICAgICAgIHVuaXRzID0gJ2RheSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc3RhcnRPZih1bml0cykuYWRkKDEsICh1bml0cyA9PT0gJ2lzb1dlZWsnID8gJ3dlZWsnIDogdW5pdHMpKS5zdWJ0cmFjdCgxLCAnbXMnKTtcbn1cblxuZnVuY3Rpb24gdmFsdWVPZiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2QudmFsdWVPZigpIC0gKCh0aGlzLl9vZmZzZXQgfHwgMCkgKiA2MDAwMCk7XG59XG5cbmZ1bmN0aW9uIHVuaXggKCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMudmFsdWVPZigpIC8gMTAwMCk7XG59XG5cbmZ1bmN0aW9uIHRvRGF0ZSAoKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKHRoaXMudmFsdWVPZigpKTtcbn1cblxuZnVuY3Rpb24gdG9BcnJheSAoKSB7XG4gICAgdmFyIG0gPSB0aGlzO1xuICAgIHJldHVybiBbbS55ZWFyKCksIG0ubW9udGgoKSwgbS5kYXRlKCksIG0uaG91cigpLCBtLm1pbnV0ZSgpLCBtLnNlY29uZCgpLCBtLm1pbGxpc2Vjb25kKCldO1xufVxuXG5mdW5jdGlvbiB0b09iamVjdCAoKSB7XG4gICAgdmFyIG0gPSB0aGlzO1xuICAgIHJldHVybiB7XG4gICAgICAgIHllYXJzOiBtLnllYXIoKSxcbiAgICAgICAgbW9udGhzOiBtLm1vbnRoKCksXG4gICAgICAgIGRhdGU6IG0uZGF0ZSgpLFxuICAgICAgICBob3VyczogbS5ob3VycygpLFxuICAgICAgICBtaW51dGVzOiBtLm1pbnV0ZXMoKSxcbiAgICAgICAgc2Vjb25kczogbS5zZWNvbmRzKCksXG4gICAgICAgIG1pbGxpc2Vjb25kczogbS5taWxsaXNlY29uZHMoKVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gICAgLy8gbmV3IERhdGUoTmFOKS50b0pTT04oKSA9PT0gbnVsbFxuICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXMudG9JU09TdHJpbmcoKSA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWQkMSAoKSB7XG4gICAgcmV0dXJuIGlzVmFsaWQodGhpcyk7XG59XG5cbmZ1bmN0aW9uIHBhcnNpbmdGbGFncyAoKSB7XG4gICAgcmV0dXJuIGV4dGVuZCh7fSwgZ2V0UGFyc2luZ0ZsYWdzKHRoaXMpKTtcbn1cblxuZnVuY3Rpb24gaW52YWxpZEF0ICgpIHtcbiAgICByZXR1cm4gZ2V0UGFyc2luZ0ZsYWdzKHRoaXMpLm92ZXJmbG93O1xufVxuXG5mdW5jdGlvbiBjcmVhdGlvbkRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5wdXQ6IHRoaXMuX2ksXG4gICAgICAgIGZvcm1hdDogdGhpcy5fZixcbiAgICAgICAgbG9jYWxlOiB0aGlzLl9sb2NhbGUsXG4gICAgICAgIGlzVVRDOiB0aGlzLl9pc1VUQyxcbiAgICAgICAgc3RyaWN0OiB0aGlzLl9zdHJpY3RcbiAgICB9O1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKDAsIFsnZ2cnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLndlZWtZZWFyKCkgJSAxMDA7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oMCwgWydHRycsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNvV2Vla1llYXIoKSAlIDEwMDtcbn0pO1xuXG5mdW5jdGlvbiBhZGRXZWVrWWVhckZvcm1hdFRva2VuICh0b2tlbiwgZ2V0dGVyKSB7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgW3Rva2VuLCB0b2tlbi5sZW5ndGhdLCAwLCBnZXR0ZXIpO1xufVxuXG5hZGRXZWVrWWVhckZvcm1hdFRva2VuKCdnZ2dnJywgICAgICd3ZWVrWWVhcicpO1xuYWRkV2Vla1llYXJGb3JtYXRUb2tlbignZ2dnZ2cnLCAgICAnd2Vla1llYXInKTtcbmFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ0dHR0cnLCAgJ2lzb1dlZWtZZWFyJyk7XG5hZGRXZWVrWWVhckZvcm1hdFRva2VuKCdHR0dHRycsICdpc29XZWVrWWVhcicpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnd2Vla1llYXInLCAnZ2cnKTtcbmFkZFVuaXRBbGlhcygnaXNvV2Vla1llYXInLCAnR0cnKTtcblxuLy8gUFJJT1JJVFlcblxuYWRkVW5pdFByaW9yaXR5KCd3ZWVrWWVhcicsIDEpO1xuYWRkVW5pdFByaW9yaXR5KCdpc29XZWVrWWVhcicsIDEpO1xuXG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignRycsICAgICAgbWF0Y2hTaWduZWQpO1xuYWRkUmVnZXhUb2tlbignZycsICAgICAgbWF0Y2hTaWduZWQpO1xuYWRkUmVnZXhUb2tlbignR0cnLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignZ2cnLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignR0dHRycsICAgbWF0Y2gxdG80LCBtYXRjaDQpO1xuYWRkUmVnZXhUb2tlbignZ2dnZycsICAgbWF0Y2gxdG80LCBtYXRjaDQpO1xuYWRkUmVnZXhUb2tlbignR0dHR0cnLCAgbWF0Y2gxdG82LCBtYXRjaDYpO1xuYWRkUmVnZXhUb2tlbignZ2dnZ2cnLCAgbWF0Y2gxdG82LCBtYXRjaDYpO1xuXG5hZGRXZWVrUGFyc2VUb2tlbihbJ2dnZ2cnLCAnZ2dnZ2cnLCAnR0dHRycsICdHR0dHRyddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICB3ZWVrW3Rva2VuLnN1YnN0cigwLCAyKV0gPSB0b0ludChpbnB1dCk7XG59KTtcblxuYWRkV2Vla1BhcnNlVG9rZW4oWydnZycsICdHRyddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICB3ZWVrW3Rva2VuXSA9IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KTtcbn0pO1xuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFNldFdlZWtZZWFyIChpbnB1dCkge1xuICAgIHJldHVybiBnZXRTZXRXZWVrWWVhckhlbHBlci5jYWxsKHRoaXMsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIHRoaXMud2VlaygpLFxuICAgICAgICAgICAgdGhpcy53ZWVrZGF5KCksXG4gICAgICAgICAgICB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3csXG4gICAgICAgICAgICB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3kpO1xufVxuXG5mdW5jdGlvbiBnZXRTZXRJU09XZWVrWWVhciAoaW5wdXQpIHtcbiAgICByZXR1cm4gZ2V0U2V0V2Vla1llYXJIZWxwZXIuY2FsbCh0aGlzLFxuICAgICAgICAgICAgaW5wdXQsIHRoaXMuaXNvV2VlaygpLCB0aGlzLmlzb1dlZWtkYXkoKSwgMSwgNCk7XG59XG5cbmZ1bmN0aW9uIGdldElTT1dlZWtzSW5ZZWFyICgpIHtcbiAgICByZXR1cm4gd2Vla3NJblllYXIodGhpcy55ZWFyKCksIDEsIDQpO1xufVxuXG5mdW5jdGlvbiBnZXRXZWVrc0luWWVhciAoKSB7XG4gICAgdmFyIHdlZWtJbmZvID0gdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWs7XG4gICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMueWVhcigpLCB3ZWVrSW5mby5kb3csIHdlZWtJbmZvLmRveSk7XG59XG5cbmZ1bmN0aW9uIGdldFNldFdlZWtZZWFySGVscGVyKGlucHV0LCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSkge1xuICAgIHZhciB3ZWVrc1RhcmdldDtcbiAgICBpZiAoaW5wdXQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gd2Vla09mWWVhcih0aGlzLCBkb3csIGRveSkueWVhcjtcbiAgICB9IGVsc2Uge1xuICAgICAgICB3ZWVrc1RhcmdldCA9IHdlZWtzSW5ZZWFyKGlucHV0LCBkb3csIGRveSk7XG4gICAgICAgIGlmICh3ZWVrID4gd2Vla3NUYXJnZXQpIHtcbiAgICAgICAgICAgIHdlZWsgPSB3ZWVrc1RhcmdldDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2V0V2Vla0FsbC5jYWxsKHRoaXMsIGlucHV0LCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRXZWVrQWxsKHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSkge1xuICAgIHZhciBkYXlPZlllYXJEYXRhID0gZGF5T2ZZZWFyRnJvbVdlZWtzKHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSksXG4gICAgICAgIGRhdGUgPSBjcmVhdGVVVENEYXRlKGRheU9mWWVhckRhdGEueWVhciwgMCwgZGF5T2ZZZWFyRGF0YS5kYXlPZlllYXIpO1xuXG4gICAgdGhpcy55ZWFyKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSk7XG4gICAgdGhpcy5tb250aChkYXRlLmdldFVUQ01vbnRoKCkpO1xuICAgIHRoaXMuZGF0ZShkYXRlLmdldFVUQ0RhdGUoKSk7XG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ1EnLCAwLCAnUW8nLCAncXVhcnRlcicpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygncXVhcnRlcicsICdRJyk7XG5cbi8vIFBSSU9SSVRZXG5cbmFkZFVuaXRQcmlvcml0eSgncXVhcnRlcicsIDcpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ1EnLCBtYXRjaDEpO1xuYWRkUGFyc2VUb2tlbignUScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICBhcnJheVtNT05USF0gPSAodG9JbnQoaW5wdXQpIC0gMSkgKiAzO1xufSk7XG5cbi8vIE1PTUVOVFNcblxuZnVuY3Rpb24gZ2V0U2V0UXVhcnRlciAoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IE1hdGguY2VpbCgodGhpcy5tb250aCgpICsgMSkgLyAzKSA6IHRoaXMubW9udGgoKGlucHV0IC0gMSkgKiAzICsgdGhpcy5tb250aCgpICUgMyk7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ0QnLCBbJ0REJywgMl0sICdEbycsICdkYXRlJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdkYXRlJywgJ0QnKTtcblxuLy8gUFJJT1JPSVRZXG5hZGRVbml0UHJpb3JpdHkoJ2RhdGUnLCA5KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdEJywgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdERCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ0RvJywgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gaXNTdHJpY3QgPyBsb2NhbGUuX29yZGluYWxQYXJzZSA6IGxvY2FsZS5fb3JkaW5hbFBhcnNlTGVuaWVudDtcbn0pO1xuXG5hZGRQYXJzZVRva2VuKFsnRCcsICdERCddLCBEQVRFKTtcbmFkZFBhcnNlVG9rZW4oJ0RvJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgIGFycmF5W0RBVEVdID0gdG9JbnQoaW5wdXQubWF0Y2gobWF0Y2gxdG8yKVswXSwgMTApO1xufSk7XG5cbi8vIE1PTUVOVFNcblxudmFyIGdldFNldERheU9mTW9udGggPSBtYWtlR2V0U2V0KCdEYXRlJywgdHJ1ZSk7XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ0RERCcsIFsnRERERCcsIDNdLCAnREREbycsICdkYXlPZlllYXInKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ2RheU9mWWVhcicsICdEREQnKTtcblxuLy8gUFJJT1JJVFlcbmFkZFVuaXRQcmlvcml0eSgnZGF5T2ZZZWFyJywgNCk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignREREJywgIG1hdGNoMXRvMyk7XG5hZGRSZWdleFRva2VuKCdEREREJywgbWF0Y2gzKTtcbmFkZFBhcnNlVG9rZW4oWydEREQnLCAnRERERCddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICBjb25maWcuX2RheU9mWWVhciA9IHRvSW50KGlucHV0KTtcbn0pO1xuXG4vLyBIRUxQRVJTXG5cbi8vIE1PTUVOVFNcblxuZnVuY3Rpb24gZ2V0U2V0RGF5T2ZZZWFyIChpbnB1dCkge1xuICAgIHZhciBkYXlPZlllYXIgPSBNYXRoLnJvdW5kKCh0aGlzLmNsb25lKCkuc3RhcnRPZignZGF5JykgLSB0aGlzLmNsb25lKCkuc3RhcnRPZigneWVhcicpKSAvIDg2NGU1KSArIDE7XG4gICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyBkYXlPZlllYXIgOiB0aGlzLmFkZCgoaW5wdXQgLSBkYXlPZlllYXIpLCAnZCcpO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdtJywgWydtbScsIDJdLCAwLCAnbWludXRlJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdtaW51dGUnLCAnbScpO1xuXG4vLyBQUklPUklUWVxuXG5hZGRVbml0UHJpb3JpdHkoJ21pbnV0ZScsIDE0KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdtJywgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdtbScsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFBhcnNlVG9rZW4oWydtJywgJ21tJ10sIE1JTlVURSk7XG5cbi8vIE1PTUVOVFNcblxudmFyIGdldFNldE1pbnV0ZSA9IG1ha2VHZXRTZXQoJ01pbnV0ZXMnLCBmYWxzZSk7XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ3MnLCBbJ3NzJywgMl0sIDAsICdzZWNvbmQnKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3NlY29uZCcsICdzJyk7XG5cbi8vIFBSSU9SSVRZXG5cbmFkZFVuaXRQcmlvcml0eSgnc2Vjb25kJywgMTUpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ3MnLCAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ3NzJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUGFyc2VUb2tlbihbJ3MnLCAnc3MnXSwgU0VDT05EKTtcblxuLy8gTU9NRU5UU1xuXG52YXIgZ2V0U2V0U2Vjb25kID0gbWFrZUdldFNldCgnU2Vjb25kcycsIGZhbHNlKTtcblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignUycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gfn4odGhpcy5taWxsaXNlY29uZCgpIC8gMTAwKTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gfn4odGhpcy5taWxsaXNlY29uZCgpIC8gMTApO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTJywgM10sIDAsICdtaWxsaXNlY29uZCcpO1xuYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTJywgNF0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTA7XG59KTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1MnLCA1XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDA7XG59KTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTJywgNl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDtcbn0pO1xuYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1NTJywgN10sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDA7XG59KTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTU1MnLCA4XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDA7XG59KTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTU1NTJywgOV0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDAwMDtcbn0pO1xuXG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdtaWxsaXNlY29uZCcsICdtcycpO1xuXG4vLyBQUklPUklUWVxuXG5hZGRVbml0UHJpb3JpdHkoJ21pbGxpc2Vjb25kJywgMTYpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ1MnLCAgICBtYXRjaDF0bzMsIG1hdGNoMSk7XG5hZGRSZWdleFRva2VuKCdTUycsICAgbWF0Y2gxdG8zLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignU1NTJywgIG1hdGNoMXRvMywgbWF0Y2gzKTtcblxudmFyIHRva2VuO1xuZm9yICh0b2tlbiA9ICdTU1NTJzsgdG9rZW4ubGVuZ3RoIDw9IDk7IHRva2VuICs9ICdTJykge1xuICAgIGFkZFJlZ2V4VG9rZW4odG9rZW4sIG1hdGNoVW5zaWduZWQpO1xufVxuXG5mdW5jdGlvbiBwYXJzZU1zKGlucHV0LCBhcnJheSkge1xuICAgIGFycmF5W01JTExJU0VDT05EXSA9IHRvSW50KCgnMC4nICsgaW5wdXQpICogMTAwMCk7XG59XG5cbmZvciAodG9rZW4gPSAnUyc7IHRva2VuLmxlbmd0aCA8PSA5OyB0b2tlbiArPSAnUycpIHtcbiAgICBhZGRQYXJzZVRva2VuKHRva2VuLCBwYXJzZU1zKTtcbn1cbi8vIE1PTUVOVFNcblxudmFyIGdldFNldE1pbGxpc2Vjb25kID0gbWFrZUdldFNldCgnTWlsbGlzZWNvbmRzJywgZmFsc2UpO1xuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCd6JywgIDAsIDAsICd6b25lQWJicicpO1xuYWRkRm9ybWF0VG9rZW4oJ3p6JywgMCwgMCwgJ3pvbmVOYW1lJyk7XG5cbi8vIE1PTUVOVFNcblxuZnVuY3Rpb24gZ2V0Wm9uZUFiYnIgKCkge1xuICAgIHJldHVybiB0aGlzLl9pc1VUQyA/ICdVVEMnIDogJyc7XG59XG5cbmZ1bmN0aW9uIGdldFpvbmVOYW1lICgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNVVEMgPyAnQ29vcmRpbmF0ZWQgVW5pdmVyc2FsIFRpbWUnIDogJyc7XG59XG5cbnZhciBwcm90byA9IE1vbWVudC5wcm90b3R5cGU7XG5cbnByb3RvLmFkZCAgICAgICAgICAgICAgID0gYWRkO1xucHJvdG8uY2FsZW5kYXIgICAgICAgICAgPSBjYWxlbmRhciQxO1xucHJvdG8uY2xvbmUgICAgICAgICAgICAgPSBjbG9uZTtcbnByb3RvLmRpZmYgICAgICAgICAgICAgID0gZGlmZjtcbnByb3RvLmVuZE9mICAgICAgICAgICAgID0gZW5kT2Y7XG5wcm90by5mb3JtYXQgICAgICAgICAgICA9IGZvcm1hdDtcbnByb3RvLmZyb20gICAgICAgICAgICAgID0gZnJvbTtcbnByb3RvLmZyb21Ob3cgICAgICAgICAgID0gZnJvbU5vdztcbnByb3RvLnRvICAgICAgICAgICAgICAgID0gdG87XG5wcm90by50b05vdyAgICAgICAgICAgICA9IHRvTm93O1xucHJvdG8uZ2V0ICAgICAgICAgICAgICAgPSBzdHJpbmdHZXQ7XG5wcm90by5pbnZhbGlkQXQgICAgICAgICA9IGludmFsaWRBdDtcbnByb3RvLmlzQWZ0ZXIgICAgICAgICAgID0gaXNBZnRlcjtcbnByb3RvLmlzQmVmb3JlICAgICAgICAgID0gaXNCZWZvcmU7XG5wcm90by5pc0JldHdlZW4gICAgICAgICA9IGlzQmV0d2VlbjtcbnByb3RvLmlzU2FtZSAgICAgICAgICAgID0gaXNTYW1lO1xucHJvdG8uaXNTYW1lT3JBZnRlciAgICAgPSBpc1NhbWVPckFmdGVyO1xucHJvdG8uaXNTYW1lT3JCZWZvcmUgICAgPSBpc1NhbWVPckJlZm9yZTtcbnByb3RvLmlzVmFsaWQgICAgICAgICAgID0gaXNWYWxpZCQxO1xucHJvdG8ubGFuZyAgICAgICAgICAgICAgPSBsYW5nO1xucHJvdG8ubG9jYWxlICAgICAgICAgICAgPSBsb2NhbGU7XG5wcm90by5sb2NhbGVEYXRhICAgICAgICA9IGxvY2FsZURhdGE7XG5wcm90by5tYXggICAgICAgICAgICAgICA9IHByb3RvdHlwZU1heDtcbnByb3RvLm1pbiAgICAgICAgICAgICAgID0gcHJvdG90eXBlTWluO1xucHJvdG8ucGFyc2luZ0ZsYWdzICAgICAgPSBwYXJzaW5nRmxhZ3M7XG5wcm90by5zZXQgICAgICAgICAgICAgICA9IHN0cmluZ1NldDtcbnByb3RvLnN0YXJ0T2YgICAgICAgICAgID0gc3RhcnRPZjtcbnByb3RvLnN1YnRyYWN0ICAgICAgICAgID0gc3VidHJhY3Q7XG5wcm90by50b0FycmF5ICAgICAgICAgICA9IHRvQXJyYXk7XG5wcm90by50b09iamVjdCAgICAgICAgICA9IHRvT2JqZWN0O1xucHJvdG8udG9EYXRlICAgICAgICAgICAgPSB0b0RhdGU7XG5wcm90by50b0lTT1N0cmluZyAgICAgICA9IHRvSVNPU3RyaW5nO1xucHJvdG8uaW5zcGVjdCAgICAgICAgICAgPSBpbnNwZWN0O1xucHJvdG8udG9KU09OICAgICAgICAgICAgPSB0b0pTT047XG5wcm90by50b1N0cmluZyAgICAgICAgICA9IHRvU3RyaW5nO1xucHJvdG8udW5peCAgICAgICAgICAgICAgPSB1bml4O1xucHJvdG8udmFsdWVPZiAgICAgICAgICAgPSB2YWx1ZU9mO1xucHJvdG8uY3JlYXRpb25EYXRhICAgICAgPSBjcmVhdGlvbkRhdGE7XG5cbi8vIFllYXJcbnByb3RvLnllYXIgICAgICAgPSBnZXRTZXRZZWFyO1xucHJvdG8uaXNMZWFwWWVhciA9IGdldElzTGVhcFllYXI7XG5cbi8vIFdlZWsgWWVhclxucHJvdG8ud2Vla1llYXIgICAgPSBnZXRTZXRXZWVrWWVhcjtcbnByb3RvLmlzb1dlZWtZZWFyID0gZ2V0U2V0SVNPV2Vla1llYXI7XG5cbi8vIFF1YXJ0ZXJcbnByb3RvLnF1YXJ0ZXIgPSBwcm90by5xdWFydGVycyA9IGdldFNldFF1YXJ0ZXI7XG5cbi8vIE1vbnRoXG5wcm90by5tb250aCAgICAgICA9IGdldFNldE1vbnRoO1xucHJvdG8uZGF5c0luTW9udGggPSBnZXREYXlzSW5Nb250aDtcblxuLy8gV2Vla1xucHJvdG8ud2VlayAgICAgICAgICAgPSBwcm90by53ZWVrcyAgICAgICAgPSBnZXRTZXRXZWVrO1xucHJvdG8uaXNvV2VlayAgICAgICAgPSBwcm90by5pc29XZWVrcyAgICAgPSBnZXRTZXRJU09XZWVrO1xucHJvdG8ud2Vla3NJblllYXIgICAgPSBnZXRXZWVrc0luWWVhcjtcbnByb3RvLmlzb1dlZWtzSW5ZZWFyID0gZ2V0SVNPV2Vla3NJblllYXI7XG5cbi8vIERheVxucHJvdG8uZGF0ZSAgICAgICA9IGdldFNldERheU9mTW9udGg7XG5wcm90by5kYXkgICAgICAgID0gcHJvdG8uZGF5cyAgICAgICAgICAgICA9IGdldFNldERheU9mV2VlaztcbnByb3RvLndlZWtkYXkgICAgPSBnZXRTZXRMb2NhbGVEYXlPZldlZWs7XG5wcm90by5pc29XZWVrZGF5ID0gZ2V0U2V0SVNPRGF5T2ZXZWVrO1xucHJvdG8uZGF5T2ZZZWFyICA9IGdldFNldERheU9mWWVhcjtcblxuLy8gSG91clxucHJvdG8uaG91ciA9IHByb3RvLmhvdXJzID0gZ2V0U2V0SG91cjtcblxuLy8gTWludXRlXG5wcm90by5taW51dGUgPSBwcm90by5taW51dGVzID0gZ2V0U2V0TWludXRlO1xuXG4vLyBTZWNvbmRcbnByb3RvLnNlY29uZCA9IHByb3RvLnNlY29uZHMgPSBnZXRTZXRTZWNvbmQ7XG5cbi8vIE1pbGxpc2Vjb25kXG5wcm90by5taWxsaXNlY29uZCA9IHByb3RvLm1pbGxpc2Vjb25kcyA9IGdldFNldE1pbGxpc2Vjb25kO1xuXG4vLyBPZmZzZXRcbnByb3RvLnV0Y09mZnNldCAgICAgICAgICAgID0gZ2V0U2V0T2Zmc2V0O1xucHJvdG8udXRjICAgICAgICAgICAgICAgICAgPSBzZXRPZmZzZXRUb1VUQztcbnByb3RvLmxvY2FsICAgICAgICAgICAgICAgID0gc2V0T2Zmc2V0VG9Mb2NhbDtcbnByb3RvLnBhcnNlWm9uZSAgICAgICAgICAgID0gc2V0T2Zmc2V0VG9QYXJzZWRPZmZzZXQ7XG5wcm90by5oYXNBbGlnbmVkSG91ck9mZnNldCA9IGhhc0FsaWduZWRIb3VyT2Zmc2V0O1xucHJvdG8uaXNEU1QgICAgICAgICAgICAgICAgPSBpc0RheWxpZ2h0U2F2aW5nVGltZTtcbnByb3RvLmlzTG9jYWwgICAgICAgICAgICAgID0gaXNMb2NhbDtcbnByb3RvLmlzVXRjT2Zmc2V0ICAgICAgICAgID0gaXNVdGNPZmZzZXQ7XG5wcm90by5pc1V0YyAgICAgICAgICAgICAgICA9IGlzVXRjO1xucHJvdG8uaXNVVEMgICAgICAgICAgICAgICAgPSBpc1V0YztcblxuLy8gVGltZXpvbmVcbnByb3RvLnpvbmVBYmJyID0gZ2V0Wm9uZUFiYnI7XG5wcm90by56b25lTmFtZSA9IGdldFpvbmVOYW1lO1xuXG4vLyBEZXByZWNhdGlvbnNcbnByb3RvLmRhdGVzICA9IGRlcHJlY2F0ZSgnZGF0ZXMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIGRhdGUgaW5zdGVhZC4nLCBnZXRTZXREYXlPZk1vbnRoKTtcbnByb3RvLm1vbnRocyA9IGRlcHJlY2F0ZSgnbW9udGhzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb250aCBpbnN0ZWFkJywgZ2V0U2V0TW9udGgpO1xucHJvdG8ueWVhcnMgID0gZGVwcmVjYXRlKCd5ZWFycyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgeWVhciBpbnN0ZWFkJywgZ2V0U2V0WWVhcik7XG5wcm90by56b25lICAgPSBkZXByZWNhdGUoJ21vbWVudCgpLnpvbmUgaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudCgpLnV0Y09mZnNldCBpbnN0ZWFkLiBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL3pvbmUvJywgZ2V0U2V0Wm9uZSk7XG5wcm90by5pc0RTVFNoaWZ0ZWQgPSBkZXByZWNhdGUoJ2lzRFNUU2hpZnRlZCBpcyBkZXByZWNhdGVkLiBTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9kc3Qtc2hpZnRlZC8gZm9yIG1vcmUgaW5mb3JtYXRpb24nLCBpc0RheWxpZ2h0U2F2aW5nVGltZVNoaWZ0ZWQpO1xuXG5mdW5jdGlvbiBjcmVhdGVVbml4IChpbnB1dCkge1xuICAgIHJldHVybiBjcmVhdGVMb2NhbChpbnB1dCAqIDEwMDApO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVJblpvbmUgKCkge1xuICAgIHJldHVybiBjcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpLnBhcnNlWm9uZSgpO1xufVxuXG5mdW5jdGlvbiBwcmVQYXJzZVBvc3RGb3JtYXQgKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmc7XG59XG5cbnZhciBwcm90byQxID0gTG9jYWxlLnByb3RvdHlwZTtcblxucHJvdG8kMS5jYWxlbmRhciAgICAgICAgPSBjYWxlbmRhcjtcbnByb3RvJDEubG9uZ0RhdGVGb3JtYXQgID0gbG9uZ0RhdGVGb3JtYXQ7XG5wcm90byQxLmludmFsaWREYXRlICAgICA9IGludmFsaWREYXRlO1xucHJvdG8kMS5vcmRpbmFsICAgICAgICAgPSBvcmRpbmFsO1xucHJvdG8kMS5wcmVwYXJzZSAgICAgICAgPSBwcmVQYXJzZVBvc3RGb3JtYXQ7XG5wcm90byQxLnBvc3Rmb3JtYXQgICAgICA9IHByZVBhcnNlUG9zdEZvcm1hdDtcbnByb3RvJDEucmVsYXRpdmVUaW1lICAgID0gcmVsYXRpdmVUaW1lO1xucHJvdG8kMS5wYXN0RnV0dXJlICAgICAgPSBwYXN0RnV0dXJlO1xucHJvdG8kMS5zZXQgICAgICAgICAgICAgPSBzZXQ7XG5cbi8vIE1vbnRoXG5wcm90byQxLm1vbnRocyAgICAgICAgICAgID0gICAgICAgIGxvY2FsZU1vbnRocztcbnByb3RvJDEubW9udGhzU2hvcnQgICAgICAgPSAgICAgICAgbG9jYWxlTW9udGhzU2hvcnQ7XG5wcm90byQxLm1vbnRoc1BhcnNlICAgICAgID0gICAgICAgIGxvY2FsZU1vbnRoc1BhcnNlO1xucHJvdG8kMS5tb250aHNSZWdleCAgICAgICA9IG1vbnRoc1JlZ2V4O1xucHJvdG8kMS5tb250aHNTaG9ydFJlZ2V4ICA9IG1vbnRoc1Nob3J0UmVnZXg7XG5cbi8vIFdlZWtcbnByb3RvJDEud2VlayA9IGxvY2FsZVdlZWs7XG5wcm90byQxLmZpcnN0RGF5T2ZZZWFyID0gbG9jYWxlRmlyc3REYXlPZlllYXI7XG5wcm90byQxLmZpcnN0RGF5T2ZXZWVrID0gbG9jYWxlRmlyc3REYXlPZldlZWs7XG5cbi8vIERheSBvZiBXZWVrXG5wcm90byQxLndlZWtkYXlzICAgICAgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzO1xucHJvdG8kMS53ZWVrZGF5c01pbiAgICA9ICAgICAgICBsb2NhbGVXZWVrZGF5c01pbjtcbnByb3RvJDEud2Vla2RheXNTaG9ydCAgPSAgICAgICAgbG9jYWxlV2Vla2RheXNTaG9ydDtcbnByb3RvJDEud2Vla2RheXNQYXJzZSAgPSAgICAgICAgbG9jYWxlV2Vla2RheXNQYXJzZTtcblxucHJvdG8kMS53ZWVrZGF5c1JlZ2V4ICAgICAgID0gICAgICAgIHdlZWtkYXlzUmVnZXg7XG5wcm90byQxLndlZWtkYXlzU2hvcnRSZWdleCAgPSAgICAgICAgd2Vla2RheXNTaG9ydFJlZ2V4O1xucHJvdG8kMS53ZWVrZGF5c01pblJlZ2V4ICAgID0gICAgICAgIHdlZWtkYXlzTWluUmVnZXg7XG5cbi8vIEhvdXJzXG5wcm90byQxLmlzUE0gPSBsb2NhbGVJc1BNO1xucHJvdG8kMS5tZXJpZGllbSA9IGxvY2FsZU1lcmlkaWVtO1xuXG5mdW5jdGlvbiBnZXQkMSAoZm9ybWF0LCBpbmRleCwgZmllbGQsIHNldHRlcikge1xuICAgIHZhciBsb2NhbGUgPSBnZXRMb2NhbGUoKTtcbiAgICB2YXIgdXRjID0gY3JlYXRlVVRDKCkuc2V0KHNldHRlciwgaW5kZXgpO1xuICAgIHJldHVybiBsb2NhbGVbZmllbGRdKHV0YywgZm9ybWF0KTtcbn1cblxuZnVuY3Rpb24gbGlzdE1vbnRoc0ltcGwgKGZvcm1hdCwgaW5kZXgsIGZpZWxkKSB7XG4gICAgaWYgKGlzTnVtYmVyKGZvcm1hdCkpIHtcbiAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG5cbiAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZ2V0JDEoZm9ybWF0LCBpbmRleCwgZmllbGQsICdtb250aCcpO1xuICAgIH1cblxuICAgIHZhciBpO1xuICAgIHZhciBvdXQgPSBbXTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICBvdXRbaV0gPSBnZXQkMShmb3JtYXQsIGksIGZpZWxkLCAnbW9udGgnKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbn1cblxuLy8gKClcbi8vICg1KVxuLy8gKGZtdCwgNSlcbi8vIChmbXQpXG4vLyAodHJ1ZSlcbi8vICh0cnVlLCA1KVxuLy8gKHRydWUsIGZtdCwgNSlcbi8vICh0cnVlLCBmbXQpXG5mdW5jdGlvbiBsaXN0V2Vla2RheXNJbXBsIChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsIGZpZWxkKSB7XG4gICAgaWYgKHR5cGVvZiBsb2NhbGVTb3J0ZWQgPT09ICdib29sZWFuJykge1xuICAgICAgICBpZiAoaXNOdW1iZXIoZm9ybWF0KSkge1xuICAgICAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgICAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9ybWF0ID0gbG9jYWxlU29ydGVkO1xuICAgICAgICBpbmRleCA9IGZvcm1hdDtcbiAgICAgICAgbG9jYWxlU29ydGVkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGlzTnVtYmVyKGZvcm1hdCkpIHtcbiAgICAgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuICAgIH1cblxuICAgIHZhciBsb2NhbGUgPSBnZXRMb2NhbGUoKSxcbiAgICAgICAgc2hpZnQgPSBsb2NhbGVTb3J0ZWQgPyBsb2NhbGUuX3dlZWsuZG93IDogMDtcblxuICAgIGlmIChpbmRleCAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBnZXQkMShmb3JtYXQsIChpbmRleCArIHNoaWZ0KSAlIDcsIGZpZWxkLCAnZGF5Jyk7XG4gICAgfVxuXG4gICAgdmFyIGk7XG4gICAgdmFyIG91dCA9IFtdO1xuICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgb3V0W2ldID0gZ2V0JDEoZm9ybWF0LCAoaSArIHNoaWZ0KSAlIDcsIGZpZWxkLCAnZGF5Jyk7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG5cbmZ1bmN0aW9uIGxpc3RNb250aHMgKGZvcm1hdCwgaW5kZXgpIHtcbiAgICByZXR1cm4gbGlzdE1vbnRoc0ltcGwoZm9ybWF0LCBpbmRleCwgJ21vbnRocycpO1xufVxuXG5mdW5jdGlvbiBsaXN0TW9udGhzU2hvcnQgKGZvcm1hdCwgaW5kZXgpIHtcbiAgICByZXR1cm4gbGlzdE1vbnRoc0ltcGwoZm9ybWF0LCBpbmRleCwgJ21vbnRoc1Nob3J0Jyk7XG59XG5cbmZ1bmN0aW9uIGxpc3RXZWVrZGF5cyAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4KSB7XG4gICAgcmV0dXJuIGxpc3RXZWVrZGF5c0ltcGwobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCAnd2Vla2RheXMnKTtcbn1cblxuZnVuY3Rpb24gbGlzdFdlZWtkYXlzU2hvcnQgKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xuICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzU2hvcnQnKTtcbn1cblxuZnVuY3Rpb24gbGlzdFdlZWtkYXlzTWluIChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgpIHtcbiAgICByZXR1cm4gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5c01pbicpO1xufVxuXG5nZXRTZXRHbG9iYWxMb2NhbGUoJ2VuJywge1xuICAgIG9yZGluYWxQYXJzZTogL1xcZHsxLDJ9KHRofHN0fG5kfHJkKS8sXG4gICAgb3JkaW5hbCA6IGZ1bmN0aW9uIChudW1iZXIpIHtcbiAgICAgICAgdmFyIGIgPSBudW1iZXIgJSAxMCxcbiAgICAgICAgICAgIG91dHB1dCA9ICh0b0ludChudW1iZXIgJSAxMDAgLyAxMCkgPT09IDEpID8gJ3RoJyA6XG4gICAgICAgICAgICAoYiA9PT0gMSkgPyAnc3QnIDpcbiAgICAgICAgICAgIChiID09PSAyKSA/ICduZCcgOlxuICAgICAgICAgICAgKGIgPT09IDMpID8gJ3JkJyA6ICd0aCc7XG4gICAgICAgIHJldHVybiBudW1iZXIgKyBvdXRwdXQ7XG4gICAgfVxufSk7XG5cbi8vIFNpZGUgZWZmZWN0IGltcG9ydHNcbmhvb2tzLmxhbmcgPSBkZXByZWNhdGUoJ21vbWVudC5sYW5nIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb21lbnQubG9jYWxlIGluc3RlYWQuJywgZ2V0U2V0R2xvYmFsTG9jYWxlKTtcbmhvb2tzLmxhbmdEYXRhID0gZGVwcmVjYXRlKCdtb21lbnQubGFuZ0RhdGEgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbWVudC5sb2NhbGVEYXRhIGluc3RlYWQuJywgZ2V0TG9jYWxlKTtcblxudmFyIG1hdGhBYnMgPSBNYXRoLmFicztcblxuZnVuY3Rpb24gYWJzICgpIHtcbiAgICB2YXIgZGF0YSAgICAgICAgICAgPSB0aGlzLl9kYXRhO1xuXG4gICAgdGhpcy5fbWlsbGlzZWNvbmRzID0gbWF0aEFicyh0aGlzLl9taWxsaXNlY29uZHMpO1xuICAgIHRoaXMuX2RheXMgICAgICAgICA9IG1hdGhBYnModGhpcy5fZGF5cyk7XG4gICAgdGhpcy5fbW9udGhzICAgICAgID0gbWF0aEFicyh0aGlzLl9tb250aHMpO1xuXG4gICAgZGF0YS5taWxsaXNlY29uZHMgID0gbWF0aEFicyhkYXRhLm1pbGxpc2Vjb25kcyk7XG4gICAgZGF0YS5zZWNvbmRzICAgICAgID0gbWF0aEFicyhkYXRhLnNlY29uZHMpO1xuICAgIGRhdGEubWludXRlcyAgICAgICA9IG1hdGhBYnMoZGF0YS5taW51dGVzKTtcbiAgICBkYXRhLmhvdXJzICAgICAgICAgPSBtYXRoQWJzKGRhdGEuaG91cnMpO1xuICAgIGRhdGEubW9udGhzICAgICAgICA9IG1hdGhBYnMoZGF0YS5tb250aHMpO1xuICAgIGRhdGEueWVhcnMgICAgICAgICA9IG1hdGhBYnMoZGF0YS55ZWFycyk7XG5cbiAgICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gYWRkU3VidHJhY3QkMSAoZHVyYXRpb24sIGlucHV0LCB2YWx1ZSwgZGlyZWN0aW9uKSB7XG4gICAgdmFyIG90aGVyID0gY3JlYXRlRHVyYXRpb24oaW5wdXQsIHZhbHVlKTtcblxuICAgIGR1cmF0aW9uLl9taWxsaXNlY29uZHMgKz0gZGlyZWN0aW9uICogb3RoZXIuX21pbGxpc2Vjb25kcztcbiAgICBkdXJhdGlvbi5fZGF5cyAgICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9kYXlzO1xuICAgIGR1cmF0aW9uLl9tb250aHMgICAgICAgKz0gZGlyZWN0aW9uICogb3RoZXIuX21vbnRocztcblxuICAgIHJldHVybiBkdXJhdGlvbi5fYnViYmxlKCk7XG59XG5cbi8vIHN1cHBvcnRzIG9ubHkgMi4wLXN0eWxlIGFkZCgxLCAncycpIG9yIGFkZChkdXJhdGlvbilcbmZ1bmN0aW9uIGFkZCQxIChpbnB1dCwgdmFsdWUpIHtcbiAgICByZXR1cm4gYWRkU3VidHJhY3QkMSh0aGlzLCBpbnB1dCwgdmFsdWUsIDEpO1xufVxuXG4vLyBzdXBwb3J0cyBvbmx5IDIuMC1zdHlsZSBzdWJ0cmFjdCgxLCAncycpIG9yIHN1YnRyYWN0KGR1cmF0aW9uKVxuZnVuY3Rpb24gc3VidHJhY3QkMSAoaW5wdXQsIHZhbHVlKSB7XG4gICAgcmV0dXJuIGFkZFN1YnRyYWN0JDEodGhpcywgaW5wdXQsIHZhbHVlLCAtMSk7XG59XG5cbmZ1bmN0aW9uIGFic0NlaWwgKG51bWJlcikge1xuICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKG51bWJlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbChudW1iZXIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYnViYmxlICgpIHtcbiAgICB2YXIgbWlsbGlzZWNvbmRzID0gdGhpcy5fbWlsbGlzZWNvbmRzO1xuICAgIHZhciBkYXlzICAgICAgICAgPSB0aGlzLl9kYXlzO1xuICAgIHZhciBtb250aHMgICAgICAgPSB0aGlzLl9tb250aHM7XG4gICAgdmFyIGRhdGEgICAgICAgICA9IHRoaXMuX2RhdGE7XG4gICAgdmFyIHNlY29uZHMsIG1pbnV0ZXMsIGhvdXJzLCB5ZWFycywgbW9udGhzRnJvbURheXM7XG5cbiAgICAvLyBpZiB3ZSBoYXZlIGEgbWl4IG9mIHBvc2l0aXZlIGFuZCBuZWdhdGl2ZSB2YWx1ZXMsIGJ1YmJsZSBkb3duIGZpcnN0XG4gICAgLy8gY2hlY2s6IGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8yMTY2XG4gICAgaWYgKCEoKG1pbGxpc2Vjb25kcyA+PSAwICYmIGRheXMgPj0gMCAmJiBtb250aHMgPj0gMCkgfHxcbiAgICAgICAgICAgIChtaWxsaXNlY29uZHMgPD0gMCAmJiBkYXlzIDw9IDAgJiYgbW9udGhzIDw9IDApKSkge1xuICAgICAgICBtaWxsaXNlY29uZHMgKz0gYWJzQ2VpbChtb250aHNUb0RheXMobW9udGhzKSArIGRheXMpICogODY0ZTU7XG4gICAgICAgIGRheXMgPSAwO1xuICAgICAgICBtb250aHMgPSAwO1xuICAgIH1cblxuICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSBidWJibGVzIHVwIHZhbHVlcywgc2VlIHRoZSB0ZXN0cyBmb3JcbiAgICAvLyBleGFtcGxlcyBvZiB3aGF0IHRoYXQgbWVhbnMuXG4gICAgZGF0YS5taWxsaXNlY29uZHMgPSBtaWxsaXNlY29uZHMgJSAxMDAwO1xuXG4gICAgc2Vjb25kcyAgICAgICAgICAgPSBhYnNGbG9vcihtaWxsaXNlY29uZHMgLyAxMDAwKTtcbiAgICBkYXRhLnNlY29uZHMgICAgICA9IHNlY29uZHMgJSA2MDtcblxuICAgIG1pbnV0ZXMgICAgICAgICAgID0gYWJzRmxvb3Ioc2Vjb25kcyAvIDYwKTtcbiAgICBkYXRhLm1pbnV0ZXMgICAgICA9IG1pbnV0ZXMgJSA2MDtcblxuICAgIGhvdXJzICAgICAgICAgICAgID0gYWJzRmxvb3IobWludXRlcyAvIDYwKTtcbiAgICBkYXRhLmhvdXJzICAgICAgICA9IGhvdXJzICUgMjQ7XG5cbiAgICBkYXlzICs9IGFic0Zsb29yKGhvdXJzIC8gMjQpO1xuXG4gICAgLy8gY29udmVydCBkYXlzIHRvIG1vbnRoc1xuICAgIG1vbnRoc0Zyb21EYXlzID0gYWJzRmxvb3IoZGF5c1RvTW9udGhzKGRheXMpKTtcbiAgICBtb250aHMgKz0gbW9udGhzRnJvbURheXM7XG4gICAgZGF5cyAtPSBhYnNDZWlsKG1vbnRoc1RvRGF5cyhtb250aHNGcm9tRGF5cykpO1xuXG4gICAgLy8gMTIgbW9udGhzIC0+IDEgeWVhclxuICAgIHllYXJzID0gYWJzRmxvb3IobW9udGhzIC8gMTIpO1xuICAgIG1vbnRocyAlPSAxMjtcblxuICAgIGRhdGEuZGF5cyAgID0gZGF5cztcbiAgICBkYXRhLm1vbnRocyA9IG1vbnRocztcbiAgICBkYXRhLnllYXJzICA9IHllYXJzO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGRheXNUb01vbnRocyAoZGF5cykge1xuICAgIC8vIDQwMCB5ZWFycyBoYXZlIDE0NjA5NyBkYXlzICh0YWtpbmcgaW50byBhY2NvdW50IGxlYXAgeWVhciBydWxlcylcbiAgICAvLyA0MDAgeWVhcnMgaGF2ZSAxMiBtb250aHMgPT09IDQ4MDBcbiAgICByZXR1cm4gZGF5cyAqIDQ4MDAgLyAxNDYwOTc7XG59XG5cbmZ1bmN0aW9uIG1vbnRoc1RvRGF5cyAobW9udGhzKSB7XG4gICAgLy8gdGhlIHJldmVyc2Ugb2YgZGF5c1RvTW9udGhzXG4gICAgcmV0dXJuIG1vbnRocyAqIDE0NjA5NyAvIDQ4MDA7XG59XG5cbmZ1bmN0aW9uIGFzICh1bml0cykge1xuICAgIHZhciBkYXlzO1xuICAgIHZhciBtb250aHM7XG4gICAgdmFyIG1pbGxpc2Vjb25kcyA9IHRoaXMuX21pbGxpc2Vjb25kcztcblxuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuXG4gICAgaWYgKHVuaXRzID09PSAnbW9udGgnIHx8IHVuaXRzID09PSAneWVhcicpIHtcbiAgICAgICAgZGF5cyAgID0gdGhpcy5fZGF5cyAgICsgbWlsbGlzZWNvbmRzIC8gODY0ZTU7XG4gICAgICAgIG1vbnRocyA9IHRoaXMuX21vbnRocyArIGRheXNUb01vbnRocyhkYXlzKTtcbiAgICAgICAgcmV0dXJuIHVuaXRzID09PSAnbW9udGgnID8gbW9udGhzIDogbW9udGhzIC8gMTI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaGFuZGxlIG1pbGxpc2Vjb25kcyBzZXBhcmF0ZWx5IGJlY2F1c2Ugb2YgZmxvYXRpbmcgcG9pbnQgbWF0aCBlcnJvcnMgKGlzc3VlICMxODY3KVxuICAgICAgICBkYXlzID0gdGhpcy5fZGF5cyArIE1hdGgucm91bmQobW9udGhzVG9EYXlzKHRoaXMuX21vbnRocykpO1xuICAgICAgICBzd2l0Y2ggKHVuaXRzKSB7XG4gICAgICAgICAgICBjYXNlICd3ZWVrJyAgIDogcmV0dXJuIGRheXMgLyA3ICAgICArIG1pbGxpc2Vjb25kcyAvIDYwNDhlNTtcbiAgICAgICAgICAgIGNhc2UgJ2RheScgICAgOiByZXR1cm4gZGF5cyAgICAgICAgICsgbWlsbGlzZWNvbmRzIC8gODY0ZTU7XG4gICAgICAgICAgICBjYXNlICdob3VyJyAgIDogcmV0dXJuIGRheXMgKiAyNCAgICArIG1pbGxpc2Vjb25kcyAvIDM2ZTU7XG4gICAgICAgICAgICBjYXNlICdtaW51dGUnIDogcmV0dXJuIGRheXMgKiAxNDQwICArIG1pbGxpc2Vjb25kcyAvIDZlNDtcbiAgICAgICAgICAgIGNhc2UgJ3NlY29uZCcgOiByZXR1cm4gZGF5cyAqIDg2NDAwICsgbWlsbGlzZWNvbmRzIC8gMTAwMDtcbiAgICAgICAgICAgIC8vIE1hdGguZmxvb3IgcHJldmVudHMgZmxvYXRpbmcgcG9pbnQgbWF0aCBlcnJvcnMgaGVyZVxuICAgICAgICAgICAgY2FzZSAnbWlsbGlzZWNvbmQnOiByZXR1cm4gTWF0aC5mbG9vcihkYXlzICogODY0ZTUpICsgbWlsbGlzZWNvbmRzO1xuICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHVuaXQgJyArIHVuaXRzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gVE9ETzogVXNlIHRoaXMuYXMoJ21zJyk/XG5mdW5jdGlvbiB2YWx1ZU9mJDEgKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMuX21pbGxpc2Vjb25kcyArXG4gICAgICAgIHRoaXMuX2RheXMgKiA4NjRlNSArXG4gICAgICAgICh0aGlzLl9tb250aHMgJSAxMikgKiAyNTkyZTYgK1xuICAgICAgICB0b0ludCh0aGlzLl9tb250aHMgLyAxMikgKiAzMTUzNmU2XG4gICAgKTtcbn1cblxuZnVuY3Rpb24gbWFrZUFzIChhbGlhcykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFzKGFsaWFzKTtcbiAgICB9O1xufVxuXG52YXIgYXNNaWxsaXNlY29uZHMgPSBtYWtlQXMoJ21zJyk7XG52YXIgYXNTZWNvbmRzICAgICAgPSBtYWtlQXMoJ3MnKTtcbnZhciBhc01pbnV0ZXMgICAgICA9IG1ha2VBcygnbScpO1xudmFyIGFzSG91cnMgICAgICAgID0gbWFrZUFzKCdoJyk7XG52YXIgYXNEYXlzICAgICAgICAgPSBtYWtlQXMoJ2QnKTtcbnZhciBhc1dlZWtzICAgICAgICA9IG1ha2VBcygndycpO1xudmFyIGFzTW9udGhzICAgICAgID0gbWFrZUFzKCdNJyk7XG52YXIgYXNZZWFycyAgICAgICAgPSBtYWtlQXMoJ3knKTtcblxuZnVuY3Rpb24gZ2V0JDIgKHVuaXRzKSB7XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgcmV0dXJuIHRoaXNbdW5pdHMgKyAncyddKCk7XG59XG5cbmZ1bmN0aW9uIG1ha2VHZXR0ZXIobmFtZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhW25hbWVdO1xuICAgIH07XG59XG5cbnZhciBtaWxsaXNlY29uZHMgPSBtYWtlR2V0dGVyKCdtaWxsaXNlY29uZHMnKTtcbnZhciBzZWNvbmRzICAgICAgPSBtYWtlR2V0dGVyKCdzZWNvbmRzJyk7XG52YXIgbWludXRlcyAgICAgID0gbWFrZUdldHRlcignbWludXRlcycpO1xudmFyIGhvdXJzICAgICAgICA9IG1ha2VHZXR0ZXIoJ2hvdXJzJyk7XG52YXIgZGF5cyAgICAgICAgID0gbWFrZUdldHRlcignZGF5cycpO1xudmFyIG1vbnRocyAgICAgICA9IG1ha2VHZXR0ZXIoJ21vbnRocycpO1xudmFyIHllYXJzICAgICAgICA9IG1ha2VHZXR0ZXIoJ3llYXJzJyk7XG5cbmZ1bmN0aW9uIHdlZWtzICgpIHtcbiAgICByZXR1cm4gYWJzRmxvb3IodGhpcy5kYXlzKCkgLyA3KTtcbn1cblxudmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcbnZhciB0aHJlc2hvbGRzID0ge1xuICAgIHM6IDQ1LCAgLy8gc2Vjb25kcyB0byBtaW51dGVcbiAgICBtOiA0NSwgIC8vIG1pbnV0ZXMgdG8gaG91clxuICAgIGg6IDIyLCAgLy8gaG91cnMgdG8gZGF5XG4gICAgZDogMjYsICAvLyBkYXlzIHRvIG1vbnRoXG4gICAgTTogMTEgICAvLyBtb250aHMgdG8geWVhclxufTtcblxuLy8gaGVscGVyIGZ1bmN0aW9uIGZvciBtb21lbnQuZm4uZnJvbSwgbW9tZW50LmZuLmZyb21Ob3csIGFuZCBtb21lbnQuZHVyYXRpb24uZm4uaHVtYW5pemVcbmZ1bmN0aW9uIHN1YnN0aXR1dGVUaW1lQWdvKHN0cmluZywgbnVtYmVyLCB3aXRob3V0U3VmZml4LCBpc0Z1dHVyZSwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGxvY2FsZS5yZWxhdGl2ZVRpbWUobnVtYmVyIHx8IDEsICEhd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSk7XG59XG5cbmZ1bmN0aW9uIHJlbGF0aXZlVGltZSQxIChwb3NOZWdEdXJhdGlvbiwgd2l0aG91dFN1ZmZpeCwgbG9jYWxlKSB7XG4gICAgdmFyIGR1cmF0aW9uID0gY3JlYXRlRHVyYXRpb24ocG9zTmVnRHVyYXRpb24pLmFicygpO1xuICAgIHZhciBzZWNvbmRzICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdzJykpO1xuICAgIHZhciBtaW51dGVzICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdtJykpO1xuICAgIHZhciBob3VycyAgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdoJykpO1xuICAgIHZhciBkYXlzICAgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdkJykpO1xuICAgIHZhciBtb250aHMgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdNJykpO1xuICAgIHZhciB5ZWFycyAgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCd5JykpO1xuXG4gICAgdmFyIGEgPSBzZWNvbmRzIDwgdGhyZXNob2xkcy5zICYmIFsncycsIHNlY29uZHNdICB8fFxuICAgICAgICAgICAgbWludXRlcyA8PSAxICAgICAgICAgICAmJiBbJ20nXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgIG1pbnV0ZXMgPCB0aHJlc2hvbGRzLm0gJiYgWydtbScsIG1pbnV0ZXNdIHx8XG4gICAgICAgICAgICBob3VycyAgIDw9IDEgICAgICAgICAgICYmIFsnaCddICAgICAgICAgICB8fFxuICAgICAgICAgICAgaG91cnMgICA8IHRocmVzaG9sZHMuaCAmJiBbJ2hoJywgaG91cnNdICAgfHxcbiAgICAgICAgICAgIGRheXMgICAgPD0gMSAgICAgICAgICAgJiYgWydkJ10gICAgICAgICAgIHx8XG4gICAgICAgICAgICBkYXlzICAgIDwgdGhyZXNob2xkcy5kICYmIFsnZGQnLCBkYXlzXSAgICB8fFxuICAgICAgICAgICAgbW9udGhzICA8PSAxICAgICAgICAgICAmJiBbJ00nXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgIG1vbnRocyAgPCB0aHJlc2hvbGRzLk0gJiYgWydNTScsIG1vbnRoc10gIHx8XG4gICAgICAgICAgICB5ZWFycyAgIDw9IDEgICAgICAgICAgICYmIFsneSddICAgICAgICAgICB8fCBbJ3l5JywgeWVhcnNdO1xuXG4gICAgYVsyXSA9IHdpdGhvdXRTdWZmaXg7XG4gICAgYVszXSA9ICtwb3NOZWdEdXJhdGlvbiA+IDA7XG4gICAgYVs0XSA9IGxvY2FsZTtcbiAgICByZXR1cm4gc3Vic3RpdHV0ZVRpbWVBZ28uYXBwbHkobnVsbCwgYSk7XG59XG5cbi8vIFRoaXMgZnVuY3Rpb24gYWxsb3dzIHlvdSB0byBzZXQgdGhlIHJvdW5kaW5nIGZ1bmN0aW9uIGZvciByZWxhdGl2ZSB0aW1lIHN0cmluZ3NcbmZ1bmN0aW9uIGdldFNldFJlbGF0aXZlVGltZVJvdW5kaW5nIChyb3VuZGluZ0Z1bmN0aW9uKSB7XG4gICAgaWYgKHJvdW5kaW5nRnVuY3Rpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gcm91bmQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2Yocm91bmRpbmdGdW5jdGlvbikgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcm91bmQgPSByb3VuZGluZ0Z1bmN0aW9uO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIGFsbG93cyB5b3UgdG8gc2V0IGEgdGhyZXNob2xkIGZvciByZWxhdGl2ZSB0aW1lIHN0cmluZ3NcbmZ1bmN0aW9uIGdldFNldFJlbGF0aXZlVGltZVRocmVzaG9sZCAodGhyZXNob2xkLCBsaW1pdCkge1xuICAgIGlmICh0aHJlc2hvbGRzW3RocmVzaG9sZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChsaW1pdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0aHJlc2hvbGRzW3RocmVzaG9sZF07XG4gICAgfVxuICAgIHRocmVzaG9sZHNbdGhyZXNob2xkXSA9IGxpbWl0O1xuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBodW1hbml6ZSAod2l0aFN1ZmZpeCkge1xuICAgIHZhciBsb2NhbGUgPSB0aGlzLmxvY2FsZURhdGEoKTtcbiAgICB2YXIgb3V0cHV0ID0gcmVsYXRpdmVUaW1lJDEodGhpcywgIXdpdGhTdWZmaXgsIGxvY2FsZSk7XG5cbiAgICBpZiAod2l0aFN1ZmZpeCkge1xuICAgICAgICBvdXRwdXQgPSBsb2NhbGUucGFzdEZ1dHVyZSgrdGhpcywgb3V0cHV0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbG9jYWxlLnBvc3Rmb3JtYXQob3V0cHV0KTtcbn1cblxudmFyIGFicyQxID0gTWF0aC5hYnM7XG5cbmZ1bmN0aW9uIHRvSVNPU3RyaW5nJDEoKSB7XG4gICAgLy8gZm9yIElTTyBzdHJpbmdzIHdlIGRvIG5vdCB1c2UgdGhlIG5vcm1hbCBidWJibGluZyBydWxlczpcbiAgICAvLyAgKiBtaWxsaXNlY29uZHMgYnViYmxlIHVwIHVudGlsIHRoZXkgYmVjb21lIGhvdXJzXG4gICAgLy8gICogZGF5cyBkbyBub3QgYnViYmxlIGF0IGFsbFxuICAgIC8vICAqIG1vbnRocyBidWJibGUgdXAgdW50aWwgdGhleSBiZWNvbWUgeWVhcnNcbiAgICAvLyBUaGlzIGlzIGJlY2F1c2UgdGhlcmUgaXMgbm8gY29udGV4dC1mcmVlIGNvbnZlcnNpb24gYmV0d2VlbiBob3VycyBhbmQgZGF5c1xuICAgIC8vICh0aGluayBvZiBjbG9jayBjaGFuZ2VzKVxuICAgIC8vIGFuZCBhbHNvIG5vdCBiZXR3ZWVuIGRheXMgYW5kIG1vbnRocyAoMjgtMzEgZGF5cyBwZXIgbW9udGgpXG4gICAgdmFyIHNlY29uZHMgPSBhYnMkMSh0aGlzLl9taWxsaXNlY29uZHMpIC8gMTAwMDtcbiAgICB2YXIgZGF5cyAgICAgICAgID0gYWJzJDEodGhpcy5fZGF5cyk7XG4gICAgdmFyIG1vbnRocyAgICAgICA9IGFicyQxKHRoaXMuX21vbnRocyk7XG4gICAgdmFyIG1pbnV0ZXMsIGhvdXJzLCB5ZWFycztcblxuICAgIC8vIDM2MDAgc2Vjb25kcyAtPiA2MCBtaW51dGVzIC0+IDEgaG91clxuICAgIG1pbnV0ZXMgICAgICAgICAgID0gYWJzRmxvb3Ioc2Vjb25kcyAvIDYwKTtcbiAgICBob3VycyAgICAgICAgICAgICA9IGFic0Zsb29yKG1pbnV0ZXMgLyA2MCk7XG4gICAgc2Vjb25kcyAlPSA2MDtcbiAgICBtaW51dGVzICU9IDYwO1xuXG4gICAgLy8gMTIgbW9udGhzIC0+IDEgeWVhclxuICAgIHllYXJzICA9IGFic0Zsb29yKG1vbnRocyAvIDEyKTtcbiAgICBtb250aHMgJT0gMTI7XG5cblxuICAgIC8vIGluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9kb3JkaWxsZS9tb21lbnQtaXNvZHVyYXRpb24vYmxvYi9tYXN0ZXIvbW9tZW50Lmlzb2R1cmF0aW9uLmpzXG4gICAgdmFyIFkgPSB5ZWFycztcbiAgICB2YXIgTSA9IG1vbnRocztcbiAgICB2YXIgRCA9IGRheXM7XG4gICAgdmFyIGggPSBob3VycztcbiAgICB2YXIgbSA9IG1pbnV0ZXM7XG4gICAgdmFyIHMgPSBzZWNvbmRzO1xuICAgIHZhciB0b3RhbCA9IHRoaXMuYXNTZWNvbmRzKCk7XG5cbiAgICBpZiAoIXRvdGFsKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgdGhlIHNhbWUgYXMgQyMncyAoTm9kYSkgYW5kIHB5dGhvbiAoaXNvZGF0ZSkuLi5cbiAgICAgICAgLy8gYnV0IG5vdCBvdGhlciBKUyAoZ29vZy5kYXRlKVxuICAgICAgICByZXR1cm4gJ1AwRCc7XG4gICAgfVxuXG4gICAgcmV0dXJuICh0b3RhbCA8IDAgPyAnLScgOiAnJykgK1xuICAgICAgICAnUCcgK1xuICAgICAgICAoWSA/IFkgKyAnWScgOiAnJykgK1xuICAgICAgICAoTSA/IE0gKyAnTScgOiAnJykgK1xuICAgICAgICAoRCA/IEQgKyAnRCcgOiAnJykgK1xuICAgICAgICAoKGggfHwgbSB8fCBzKSA/ICdUJyA6ICcnKSArXG4gICAgICAgIChoID8gaCArICdIJyA6ICcnKSArXG4gICAgICAgIChtID8gbSArICdNJyA6ICcnKSArXG4gICAgICAgIChzID8gcyArICdTJyA6ICcnKTtcbn1cblxudmFyIHByb3RvJDIgPSBEdXJhdGlvbi5wcm90b3R5cGU7XG5cbnByb3RvJDIuYWJzICAgICAgICAgICAgPSBhYnM7XG5wcm90byQyLmFkZCAgICAgICAgICAgID0gYWRkJDE7XG5wcm90byQyLnN1YnRyYWN0ICAgICAgID0gc3VidHJhY3QkMTtcbnByb3RvJDIuYXMgICAgICAgICAgICAgPSBhcztcbnByb3RvJDIuYXNNaWxsaXNlY29uZHMgPSBhc01pbGxpc2Vjb25kcztcbnByb3RvJDIuYXNTZWNvbmRzICAgICAgPSBhc1NlY29uZHM7XG5wcm90byQyLmFzTWludXRlcyAgICAgID0gYXNNaW51dGVzO1xucHJvdG8kMi5hc0hvdXJzICAgICAgICA9IGFzSG91cnM7XG5wcm90byQyLmFzRGF5cyAgICAgICAgID0gYXNEYXlzO1xucHJvdG8kMi5hc1dlZWtzICAgICAgICA9IGFzV2Vla3M7XG5wcm90byQyLmFzTW9udGhzICAgICAgID0gYXNNb250aHM7XG5wcm90byQyLmFzWWVhcnMgICAgICAgID0gYXNZZWFycztcbnByb3RvJDIudmFsdWVPZiAgICAgICAgPSB2YWx1ZU9mJDE7XG5wcm90byQyLl9idWJibGUgICAgICAgID0gYnViYmxlO1xucHJvdG8kMi5nZXQgICAgICAgICAgICA9IGdldCQyO1xucHJvdG8kMi5taWxsaXNlY29uZHMgICA9IG1pbGxpc2Vjb25kcztcbnByb3RvJDIuc2Vjb25kcyAgICAgICAgPSBzZWNvbmRzO1xucHJvdG8kMi5taW51dGVzICAgICAgICA9IG1pbnV0ZXM7XG5wcm90byQyLmhvdXJzICAgICAgICAgID0gaG91cnM7XG5wcm90byQyLmRheXMgICAgICAgICAgID0gZGF5cztcbnByb3RvJDIud2Vla3MgICAgICAgICAgPSB3ZWVrcztcbnByb3RvJDIubW9udGhzICAgICAgICAgPSBtb250aHM7XG5wcm90byQyLnllYXJzICAgICAgICAgID0geWVhcnM7XG5wcm90byQyLmh1bWFuaXplICAgICAgID0gaHVtYW5pemU7XG5wcm90byQyLnRvSVNPU3RyaW5nICAgID0gdG9JU09TdHJpbmckMTtcbnByb3RvJDIudG9TdHJpbmcgICAgICAgPSB0b0lTT1N0cmluZyQxO1xucHJvdG8kMi50b0pTT04gICAgICAgICA9IHRvSVNPU3RyaW5nJDE7XG5wcm90byQyLmxvY2FsZSAgICAgICAgID0gbG9jYWxlO1xucHJvdG8kMi5sb2NhbGVEYXRhICAgICA9IGxvY2FsZURhdGE7XG5cbi8vIERlcHJlY2F0aW9uc1xucHJvdG8kMi50b0lzb1N0cmluZyA9IGRlcHJlY2F0ZSgndG9Jc29TdHJpbmcoKSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIHRvSVNPU3RyaW5nKCkgaW5zdGVhZCAobm90aWNlIHRoZSBjYXBpdGFscyknLCB0b0lTT1N0cmluZyQxKTtcbnByb3RvJDIubGFuZyA9IGxhbmc7XG5cbi8vIFNpZGUgZWZmZWN0IGltcG9ydHNcblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignWCcsIDAsIDAsICd1bml4Jyk7XG5hZGRGb3JtYXRUb2tlbigneCcsIDAsIDAsICd2YWx1ZU9mJyk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbigneCcsIG1hdGNoU2lnbmVkKTtcbmFkZFJlZ2V4VG9rZW4oJ1gnLCBtYXRjaFRpbWVzdGFtcCk7XG5hZGRQYXJzZVRva2VuKCdYJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgY29uZmlnLl9kID0gbmV3IERhdGUocGFyc2VGbG9hdChpbnB1dCwgMTApICogMTAwMCk7XG59KTtcbmFkZFBhcnNlVG9rZW4oJ3gnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICBjb25maWcuX2QgPSBuZXcgRGF0ZSh0b0ludChpbnB1dCkpO1xufSk7XG5cbi8vIFNpZGUgZWZmZWN0IGltcG9ydHNcblxuXG5ob29rcy52ZXJzaW9uID0gJzIuMTcuMSc7XG5cbnNldEhvb2tDYWxsYmFjayhjcmVhdGVMb2NhbCk7XG5cbmhvb2tzLmZuICAgICAgICAgICAgICAgICAgICA9IHByb3RvO1xuaG9va3MubWluICAgICAgICAgICAgICAgICAgID0gbWluO1xuaG9va3MubWF4ICAgICAgICAgICAgICAgICAgID0gbWF4O1xuaG9va3Mubm93ICAgICAgICAgICAgICAgICAgID0gbm93O1xuaG9va3MudXRjICAgICAgICAgICAgICAgICAgID0gY3JlYXRlVVRDO1xuaG9va3MudW5peCAgICAgICAgICAgICAgICAgID0gY3JlYXRlVW5peDtcbmhvb2tzLm1vbnRocyAgICAgICAgICAgICAgICA9IGxpc3RNb250aHM7XG5ob29rcy5pc0RhdGUgICAgICAgICAgICAgICAgPSBpc0RhdGU7XG5ob29rcy5sb2NhbGUgICAgICAgICAgICAgICAgPSBnZXRTZXRHbG9iYWxMb2NhbGU7XG5ob29rcy5pbnZhbGlkICAgICAgICAgICAgICAgPSBjcmVhdGVJbnZhbGlkO1xuaG9va3MuZHVyYXRpb24gICAgICAgICAgICAgID0gY3JlYXRlRHVyYXRpb247XG5ob29rcy5pc01vbWVudCAgICAgICAgICAgICAgPSBpc01vbWVudDtcbmhvb2tzLndlZWtkYXlzICAgICAgICAgICAgICA9IGxpc3RXZWVrZGF5cztcbmhvb2tzLnBhcnNlWm9uZSAgICAgICAgICAgICA9IGNyZWF0ZUluWm9uZTtcbmhvb2tzLmxvY2FsZURhdGEgICAgICAgICAgICA9IGdldExvY2FsZTtcbmhvb2tzLmlzRHVyYXRpb24gICAgICAgICAgICA9IGlzRHVyYXRpb247XG5ob29rcy5tb250aHNTaG9ydCAgICAgICAgICAgPSBsaXN0TW9udGhzU2hvcnQ7XG5ob29rcy53ZWVrZGF5c01pbiAgICAgICAgICAgPSBsaXN0V2Vla2RheXNNaW47XG5ob29rcy5kZWZpbmVMb2NhbGUgICAgICAgICAgPSBkZWZpbmVMb2NhbGU7XG5ob29rcy51cGRhdGVMb2NhbGUgICAgICAgICAgPSB1cGRhdGVMb2NhbGU7XG5ob29rcy5sb2NhbGVzICAgICAgICAgICAgICAgPSBsaXN0TG9jYWxlcztcbmhvb2tzLndlZWtkYXlzU2hvcnQgICAgICAgICA9IGxpc3RXZWVrZGF5c1Nob3J0O1xuaG9va3Mubm9ybWFsaXplVW5pdHMgICAgICAgID0gbm9ybWFsaXplVW5pdHM7XG5ob29rcy5yZWxhdGl2ZVRpbWVSb3VuZGluZyA9IGdldFNldFJlbGF0aXZlVGltZVJvdW5kaW5nO1xuaG9va3MucmVsYXRpdmVUaW1lVGhyZXNob2xkID0gZ2V0U2V0UmVsYXRpdmVUaW1lVGhyZXNob2xkO1xuaG9va3MuY2FsZW5kYXJGb3JtYXQgICAgICAgID0gZ2V0Q2FsZW5kYXJGb3JtYXQ7XG5ob29rcy5wcm90b3R5cGUgICAgICAgICAgICAgPSBwcm90bztcblxucmV0dXJuIGhvb2tzO1xuXG59KSkpO1xuIiwiLypcbiAgICAgXyBfICAgICAgXyAgICAgICBfXG4gX19ffCAoXykgX19ffCB8IF9fICAoXylfX19cbi8gX198IHwgfC8gX198IHwvIC8gIHwgLyBfX3xcblxcX18gXFwgfCB8IChfX3wgICA8IF8gfCBcXF9fIFxcXG58X19fL198X3xcXF9fX3xffFxcXyhfKS8gfF9fXy9cbiAgICAgICAgICAgICAgICAgICB8X18vXG5cbiBWZXJzaW9uOiAxLjYuMFxuICBBdXRob3I6IEtlbiBXaGVlbGVyXG4gV2Vic2l0ZTogaHR0cDovL2tlbndoZWVsZXIuZ2l0aHViLmlvXG4gICAgRG9jczogaHR0cDovL2tlbndoZWVsZXIuZ2l0aHViLmlvL3NsaWNrXG4gICAgUmVwbzogaHR0cDovL2dpdGh1Yi5jb20va2Vud2hlZWxlci9zbGlja1xuICBJc3N1ZXM6IGh0dHA6Ly9naXRodWIuY29tL2tlbndoZWVsZXIvc2xpY2svaXNzdWVzXG5cbiAqL1xuLyogZ2xvYmFsIHdpbmRvdywgZG9jdW1lbnQsIGRlZmluZSwgalF1ZXJ5LCBzZXRJbnRlcnZhbCwgY2xlYXJJbnRlcnZhbCAqL1xuKGZ1bmN0aW9uKGZhY3RvcnkpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoWydqcXVlcnknXSwgZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJ2pxdWVyeScpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmYWN0b3J5KGpRdWVyeSk7XG4gICAgfVxuXG59KGZ1bmN0aW9uKCQpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIFNsaWNrID0gd2luZG93LlNsaWNrIHx8IHt9O1xuXG4gICAgU2xpY2sgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIGluc3RhbmNlVWlkID0gMDtcblxuICAgICAgICBmdW5jdGlvbiBTbGljayhlbGVtZW50LCBzZXR0aW5ncykge1xuXG4gICAgICAgICAgICB2YXIgXyA9IHRoaXMsIGRhdGFTZXR0aW5ncztcblxuICAgICAgICAgICAgXy5kZWZhdWx0cyA9IHtcbiAgICAgICAgICAgICAgICBhY2Nlc3NpYmlsaXR5OiB0cnVlLFxuICAgICAgICAgICAgICAgIGFkYXB0aXZlSGVpZ2h0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBhcHBlbmRBcnJvd3M6ICQoZWxlbWVudCksXG4gICAgICAgICAgICAgICAgYXBwZW5kRG90czogJChlbGVtZW50KSxcbiAgICAgICAgICAgICAgICBhcnJvd3M6IHRydWUsXG4gICAgICAgICAgICAgICAgYXNOYXZGb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgcHJldkFycm93OiAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1yb2xlPVwibm9uZVwiIGNsYXNzPVwic2xpY2stcHJldlwiIGFyaWEtbGFiZWw9XCJQcmV2aW91c1wiIHRhYmluZGV4PVwiMFwiIHJvbGU9XCJidXR0b25cIj5QcmV2aW91czwvYnV0dG9uPicsXG4gICAgICAgICAgICAgICAgbmV4dEFycm93OiAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1yb2xlPVwibm9uZVwiIGNsYXNzPVwic2xpY2stbmV4dFwiIGFyaWEtbGFiZWw9XCJOZXh0XCIgdGFiaW5kZXg9XCIwXCIgcm9sZT1cImJ1dHRvblwiPk5leHQ8L2J1dHRvbj4nLFxuICAgICAgICAgICAgICAgIGF1dG9wbGF5OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBhdXRvcGxheVNwZWVkOiAzMDAwLFxuICAgICAgICAgICAgICAgIGNlbnRlck1vZGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNlbnRlclBhZGRpbmc6ICc1MHB4JyxcbiAgICAgICAgICAgICAgICBjc3NFYXNlOiAnZWFzZScsXG4gICAgICAgICAgICAgICAgY3VzdG9tUGFnaW5nOiBmdW5jdGlvbihzbGlkZXIsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtcm9sZT1cIm5vbmVcIiByb2xlPVwiYnV0dG9uXCIgdGFiaW5kZXg9XCIwXCIgLz4nKS50ZXh0KGkgKyAxKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRvdHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGRvdHNDbGFzczogJ3NsaWNrLWRvdHMnLFxuICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlYXNpbmc6ICdsaW5lYXInLFxuICAgICAgICAgICAgICAgIGVkZ2VGcmljdGlvbjogMC4zNSxcbiAgICAgICAgICAgICAgICBmYWRlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBmb2N1c09uU2VsZWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpbmZpbml0ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpbml0aWFsU2xpZGU6IDAsXG4gICAgICAgICAgICAgICAgbGF6eUxvYWQ6ICdvbmRlbWFuZCcsXG4gICAgICAgICAgICAgICAgbW9iaWxlRmlyc3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHBhdXNlT25Ib3ZlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwYXVzZU9uRm9jdXM6IHRydWUsXG4gICAgICAgICAgICAgICAgcGF1c2VPbkRvdHNIb3ZlcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVzcG9uZFRvOiAnd2luZG93JyxcbiAgICAgICAgICAgICAgICByZXNwb25zaXZlOiBudWxsLFxuICAgICAgICAgICAgICAgIHJvd3M6IDEsXG4gICAgICAgICAgICAgICAgcnRsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzbGlkZTogJycsXG4gICAgICAgICAgICAgICAgc2xpZGVzUGVyUm93OiAxLFxuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcbiAgICAgICAgICAgICAgICBzcGVlZDogNTAwLFxuICAgICAgICAgICAgICAgIHN3aXBlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHN3aXBlVG9TbGlkZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgdG91Y2hNb3ZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRvdWNoVGhyZXNob2xkOiA1LFxuICAgICAgICAgICAgICAgIHVzZUNTUzogdHJ1ZSxcbiAgICAgICAgICAgICAgICB1c2VUcmFuc2Zvcm06IHRydWUsXG4gICAgICAgICAgICAgICAgdmFyaWFibGVXaWR0aDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdmVydGljYWw6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHZlcnRpY2FsU3dpcGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgd2FpdEZvckFuaW1hdGU6IHRydWUsXG4gICAgICAgICAgICAgICAgekluZGV4OiAxMDAwXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBfLmluaXRpYWxzID0ge1xuICAgICAgICAgICAgICAgIGFuaW1hdGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgZHJhZ2dpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGF1dG9QbGF5VGltZXI6IG51bGwsXG4gICAgICAgICAgICAgICAgY3VycmVudERpcmVjdGlvbjogMCxcbiAgICAgICAgICAgICAgICBjdXJyZW50TGVmdDogbnVsbCxcbiAgICAgICAgICAgICAgICBjdXJyZW50U2xpZGU6IDAsXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uOiAxLFxuICAgICAgICAgICAgICAgICRkb3RzOiBudWxsLFxuICAgICAgICAgICAgICAgIGxpc3RXaWR0aDogbnVsbCxcbiAgICAgICAgICAgICAgICBsaXN0SGVpZ2h0OiBudWxsLFxuICAgICAgICAgICAgICAgIGxvYWRJbmRleDogMCxcbiAgICAgICAgICAgICAgICAkbmV4dEFycm93OiBudWxsLFxuICAgICAgICAgICAgICAgICRwcmV2QXJyb3c6IG51bGwsXG4gICAgICAgICAgICAgICAgc2xpZGVDb3VudDogbnVsbCxcbiAgICAgICAgICAgICAgICBzbGlkZVdpZHRoOiBudWxsLFxuICAgICAgICAgICAgICAgICRzbGlkZVRyYWNrOiBudWxsLFxuICAgICAgICAgICAgICAgICRzbGlkZXM6IG51bGwsXG4gICAgICAgICAgICAgICAgc2xpZGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2xpZGVPZmZzZXQ6IDAsXG4gICAgICAgICAgICAgICAgc3dpcGVMZWZ0OiBudWxsLFxuICAgICAgICAgICAgICAgICRsaXN0OiBudWxsLFxuICAgICAgICAgICAgICAgIHRvdWNoT2JqZWN0OiB7fSxcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1zRW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdW5zbGlja2VkOiBmYWxzZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJC5leHRlbmQoXywgXy5pbml0aWFscyk7XG5cbiAgICAgICAgICAgIF8uYWN0aXZlQnJlYWtwb2ludCA9IG51bGw7XG4gICAgICAgICAgICBfLmFuaW1UeXBlID0gbnVsbDtcbiAgICAgICAgICAgIF8uYW5pbVByb3AgPSBudWxsO1xuICAgICAgICAgICAgXy5icmVha3BvaW50cyA9IFtdO1xuICAgICAgICAgICAgXy5icmVha3BvaW50U2V0dGluZ3MgPSBbXTtcbiAgICAgICAgICAgIF8uY3NzVHJhbnNpdGlvbnMgPSBmYWxzZTtcbiAgICAgICAgICAgIF8uZm9jdXNzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIF8uaW50ZXJydXB0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIF8uaGlkZGVuID0gJ2hpZGRlbic7XG4gICAgICAgICAgICBfLnBhdXNlZCA9IHRydWU7XG4gICAgICAgICAgICBfLnBvc2l0aW9uUHJvcCA9IG51bGw7XG4gICAgICAgICAgICBfLnJlc3BvbmRUbyA9IG51bGw7XG4gICAgICAgICAgICBfLnJvd0NvdW50ID0gMTtcbiAgICAgICAgICAgIF8uc2hvdWxkQ2xpY2sgPSB0cnVlO1xuICAgICAgICAgICAgXy4kc2xpZGVyID0gJChlbGVtZW50KTtcbiAgICAgICAgICAgIF8uJHNsaWRlc0NhY2hlID0gbnVsbDtcbiAgICAgICAgICAgIF8udHJhbnNmb3JtVHlwZSA9IG51bGw7XG4gICAgICAgICAgICBfLnRyYW5zaXRpb25UeXBlID0gbnVsbDtcbiAgICAgICAgICAgIF8udmlzaWJpbGl0eUNoYW5nZSA9ICd2aXNpYmlsaXR5Y2hhbmdlJztcbiAgICAgICAgICAgIF8ud2luZG93V2lkdGggPSAwO1xuICAgICAgICAgICAgXy53aW5kb3dUaW1lciA9IG51bGw7XG5cbiAgICAgICAgICAgIGRhdGFTZXR0aW5ncyA9ICQoZWxlbWVudCkuZGF0YSgnc2xpY2snKSB8fCB7fTtcblxuICAgICAgICAgICAgXy5vcHRpb25zID0gJC5leHRlbmQoe30sIF8uZGVmYXVsdHMsIHNldHRpbmdzLCBkYXRhU2V0dGluZ3MpO1xuXG4gICAgICAgICAgICBfLmN1cnJlbnRTbGlkZSA9IF8ub3B0aW9ucy5pbml0aWFsU2xpZGU7XG5cbiAgICAgICAgICAgIF8ub3JpZ2luYWxTZXR0aW5ncyA9IF8ub3B0aW9ucztcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudC5tb3pIaWRkZW4gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgXy5oaWRkZW4gPSAnbW96SGlkZGVuJztcbiAgICAgICAgICAgICAgICBfLnZpc2liaWxpdHlDaGFuZ2UgPSAnbW96dmlzaWJpbGl0eWNoYW5nZSc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkb2N1bWVudC53ZWJraXRIaWRkZW4gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgXy5oaWRkZW4gPSAnd2Via2l0SGlkZGVuJztcbiAgICAgICAgICAgICAgICBfLnZpc2liaWxpdHlDaGFuZ2UgPSAnd2Via2l0dmlzaWJpbGl0eWNoYW5nZSc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF8uYXV0b1BsYXkgPSAkLnByb3h5KF8uYXV0b1BsYXksIF8pO1xuICAgICAgICAgICAgXy5hdXRvUGxheUNsZWFyID0gJC5wcm94eShfLmF1dG9QbGF5Q2xlYXIsIF8pO1xuICAgICAgICAgICAgXy5hdXRvUGxheUl0ZXJhdG9yID0gJC5wcm94eShfLmF1dG9QbGF5SXRlcmF0b3IsIF8pO1xuICAgICAgICAgICAgXy5jaGFuZ2VTbGlkZSA9ICQucHJveHkoXy5jaGFuZ2VTbGlkZSwgXyk7XG4gICAgICAgICAgICBfLmNsaWNrSGFuZGxlciA9ICQucHJveHkoXy5jbGlja0hhbmRsZXIsIF8pO1xuICAgICAgICAgICAgXy5zZWxlY3RIYW5kbGVyID0gJC5wcm94eShfLnNlbGVjdEhhbmRsZXIsIF8pO1xuICAgICAgICAgICAgXy5zZXRQb3NpdGlvbiA9ICQucHJveHkoXy5zZXRQb3NpdGlvbiwgXyk7XG4gICAgICAgICAgICBfLnN3aXBlSGFuZGxlciA9ICQucHJveHkoXy5zd2lwZUhhbmRsZXIsIF8pO1xuICAgICAgICAgICAgXy5kcmFnSGFuZGxlciA9ICQucHJveHkoXy5kcmFnSGFuZGxlciwgXyk7XG4gICAgICAgICAgICBfLmtleUhhbmRsZXIgPSAkLnByb3h5KF8ua2V5SGFuZGxlciwgXyk7XG5cbiAgICAgICAgICAgIF8uaW5zdGFuY2VVaWQgPSBpbnN0YW5jZVVpZCsrO1xuXG4gICAgICAgICAgICAvLyBBIHNpbXBsZSB3YXkgdG8gY2hlY2sgZm9yIEhUTUwgc3RyaW5nc1xuICAgICAgICAgICAgLy8gU3RyaWN0IEhUTUwgcmVjb2duaXRpb24gKG11c3Qgc3RhcnQgd2l0aCA8KVxuICAgICAgICAgICAgLy8gRXh0cmFjdGVkIGZyb20galF1ZXJ5IHYxLjExIHNvdXJjZVxuICAgICAgICAgICAgXy5odG1sRXhwciA9IC9eKD86XFxzKig8W1xcd1xcV10rPilbXj5dKikkLztcblxuXG4gICAgICAgICAgICBfLnJlZ2lzdGVyQnJlYWtwb2ludHMoKTtcbiAgICAgICAgICAgIF8uaW5pdCh0cnVlKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFNsaWNrO1xuXG4gICAgfSgpKTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5hY3RpdmF0ZUFEQSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgXy4kc2xpZGVUcmFjay5maW5kKCcuc2xpY2stYWN0aXZlJykuYXR0cih7XG4gICAgICAgICAgICAnYXJpYS1oaWRkZW4nOiAnZmFsc2UnXG4gICAgICAgIH0pLmZpbmQoJ2EsIGlucHV0LCBidXR0b24sIHNlbGVjdCcpLmF0dHIoe1xuICAgICAgICAgICAgJ3RhYmluZGV4JzogJzAnXG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5hZGRTbGlkZSA9IFNsaWNrLnByb3RvdHlwZS5zbGlja0FkZCA9IGZ1bmN0aW9uKG1hcmt1cCwgaW5kZXgsIGFkZEJlZm9yZSkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAodHlwZW9mKGluZGV4KSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICBhZGRCZWZvcmUgPSBpbmRleDtcbiAgICAgICAgICAgIGluZGV4ID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmIChpbmRleCA8IDAgfHwgKGluZGV4ID49IF8uc2xpZGVDb3VudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIF8udW5sb2FkKCk7XG5cbiAgICAgICAgaWYgKHR5cGVvZihpbmRleCkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IDAgJiYgXy4kc2xpZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICQobWFya3VwKS5hcHBlbmRUbyhfLiRzbGlkZVRyYWNrKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYWRkQmVmb3JlKSB7XG4gICAgICAgICAgICAgICAgJChtYXJrdXApLmluc2VydEJlZm9yZShfLiRzbGlkZXMuZXEoaW5kZXgpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJChtYXJrdXApLmluc2VydEFmdGVyKF8uJHNsaWRlcy5lcShpbmRleCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGFkZEJlZm9yZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICQobWFya3VwKS5wcmVwZW5kVG8oXy4kc2xpZGVUcmFjayk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQobWFya3VwKS5hcHBlbmRUbyhfLiRzbGlkZVRyYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIF8uJHNsaWRlcyA9IF8uJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKTtcblxuICAgICAgICBfLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSkuZGV0YWNoKCk7XG5cbiAgICAgICAgXy4kc2xpZGVUcmFjay5hcHBlbmQoXy4kc2xpZGVzKTtcblxuICAgICAgICBfLiRzbGlkZXMuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuICAgICAgICAgICAgJChlbGVtZW50KS5hdHRyKCdkYXRhLXNsaWNrLWluZGV4JywgaW5kZXgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBfLiRzbGlkZXNDYWNoZSA9IF8uJHNsaWRlcztcblxuICAgICAgICBfLnJlaW5pdCgpO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5hbmltYXRlSGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBfID0gdGhpcztcbiAgICAgICAgaWYgKF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgPT09IDEgJiYgXy5vcHRpb25zLmFkYXB0aXZlSGVpZ2h0ID09PSB0cnVlICYmIF8ub3B0aW9ucy52ZXJ0aWNhbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXRIZWlnaHQgPSBfLiRzbGlkZXMuZXEoXy5jdXJyZW50U2xpZGUpLm91dGVySGVpZ2h0KHRydWUpO1xuICAgICAgICAgICAgXy4kbGlzdC5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRhcmdldEhlaWdodFxuICAgICAgICAgICAgfSwgXy5vcHRpb25zLnNwZWVkKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuYW5pbWF0ZVNsaWRlID0gZnVuY3Rpb24odGFyZ2V0TGVmdCwgY2FsbGJhY2spIHtcblxuICAgICAgICB2YXIgYW5pbVByb3BzID0ge30sXG4gICAgICAgICAgICBfID0gdGhpcztcblxuICAgICAgICBfLmFuaW1hdGVIZWlnaHQoKTtcblxuICAgICAgICBpZiAoXy5vcHRpb25zLnJ0bCA9PT0gdHJ1ZSAmJiBfLm9wdGlvbnMudmVydGljYWwgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0YXJnZXRMZWZ0ID0gLXRhcmdldExlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF8udHJhbnNmb3Jtc0VuYWJsZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAoXy5vcHRpb25zLnZlcnRpY2FsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIF8uJHNsaWRlVHJhY2suYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IHRhcmdldExlZnRcbiAgICAgICAgICAgICAgICB9LCBfLm9wdGlvbnMuc3BlZWQsIF8ub3B0aW9ucy5lYXNpbmcsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgXy4kc2xpZGVUcmFjay5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgdG9wOiB0YXJnZXRMZWZ0XG4gICAgICAgICAgICAgICAgfSwgXy5vcHRpb25zLnNwZWVkLCBfLm9wdGlvbnMuZWFzaW5nLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgaWYgKF8uY3NzVHJhbnNpdGlvbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy5ydGwgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgXy5jdXJyZW50TGVmdCA9IC0oXy5jdXJyZW50TGVmdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICQoe1xuICAgICAgICAgICAgICAgICAgICBhbmltU3RhcnQ6IF8uY3VycmVudExlZnRcbiAgICAgICAgICAgICAgICB9KS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgYW5pbVN0YXJ0OiB0YXJnZXRMZWZ0XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogXy5vcHRpb25zLnNwZWVkLFxuICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IF8ub3B0aW9ucy5lYXNpbmcsXG4gICAgICAgICAgICAgICAgICAgIHN0ZXA6IGZ1bmN0aW9uKG5vdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm93ID0gTWF0aC5jZWlsKG5vdyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXy5vcHRpb25zLnZlcnRpY2FsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1Qcm9wc1tfLmFuaW1UeXBlXSA9ICd0cmFuc2xhdGUoJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdyArICdweCwgMHB4KSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy4kc2xpZGVUcmFjay5jc3MoYW5pbVByb3BzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbVByb3BzW18uYW5pbVR5cGVdID0gJ3RyYW5zbGF0ZSgwcHgsJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdyArICdweCknO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8uJHNsaWRlVHJhY2suY3NzKGFuaW1Qcm9wcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgXy5hcHBseVRyYW5zaXRpb24oKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRMZWZ0ID0gTWF0aC5jZWlsKHRhcmdldExlZnQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy52ZXJ0aWNhbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgYW5pbVByb3BzW18uYW5pbVR5cGVdID0gJ3RyYW5zbGF0ZTNkKCcgKyB0YXJnZXRMZWZ0ICsgJ3B4LCAwcHgsIDBweCknO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1Qcm9wc1tfLmFuaW1UeXBlXSA9ICd0cmFuc2xhdGUzZCgwcHgsJyArIHRhcmdldExlZnQgKyAncHgsIDBweCknO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmNzcyhhbmltUHJvcHMpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF8uZGlzYWJsZVRyYW5zaXRpb24oKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbCgpO1xuICAgICAgICAgICAgICAgICAgICB9LCBfLm9wdGlvbnMuc3BlZWQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuZ2V0TmF2VGFyZ2V0ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgYXNOYXZGb3IgPSBfLm9wdGlvbnMuYXNOYXZGb3I7XG5cbiAgICAgICAgaWYgKCBhc05hdkZvciAmJiBhc05hdkZvciAhPT0gbnVsbCApIHtcbiAgICAgICAgICAgIGFzTmF2Rm9yID0gJChhc05hdkZvcikubm90KF8uJHNsaWRlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXNOYXZGb3I7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmFzTmF2Rm9yID0gZnVuY3Rpb24oaW5kZXgpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICBhc05hdkZvciA9IF8uZ2V0TmF2VGFyZ2V0KCk7XG5cbiAgICAgICAgaWYgKCBhc05hdkZvciAhPT0gbnVsbCAmJiB0eXBlb2YgYXNOYXZGb3IgPT09ICdvYmplY3QnICkge1xuICAgICAgICAgICAgYXNOYXZGb3IuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gJCh0aGlzKS5zbGljaygnZ2V0U2xpY2snKTtcbiAgICAgICAgICAgICAgICBpZighdGFyZ2V0LnVuc2xpY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQuc2xpZGVIYW5kbGVyKGluZGV4LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5hcHBseVRyYW5zaXRpb24gPSBmdW5jdGlvbihzbGlkZSkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgIHRyYW5zaXRpb24gPSB7fTtcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmZhZGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0cmFuc2l0aW9uW18udHJhbnNpdGlvblR5cGVdID0gXy50cmFuc2Zvcm1UeXBlICsgJyAnICsgXy5vcHRpb25zLnNwZWVkICsgJ21zICcgKyBfLm9wdGlvbnMuY3NzRWFzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyYW5zaXRpb25bXy50cmFuc2l0aW9uVHlwZV0gPSAnb3BhY2l0eSAnICsgXy5vcHRpb25zLnNwZWVkICsgJ21zICcgKyBfLm9wdGlvbnMuY3NzRWFzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuZmFkZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIF8uJHNsaWRlVHJhY2suY3NzKHRyYW5zaXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgXy4kc2xpZGVzLmVxKHNsaWRlKS5jc3ModHJhbnNpdGlvbik7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuYXV0b1BsYXkgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgXy5hdXRvUGxheUNsZWFyKCk7XG5cbiAgICAgICAgaWYgKCBfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93ICkge1xuICAgICAgICAgICAgXy5hdXRvUGxheVRpbWVyID0gc2V0SW50ZXJ2YWwoIF8uYXV0b1BsYXlJdGVyYXRvciwgXy5vcHRpb25zLmF1dG9wbGF5U3BlZWQgKTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5hdXRvUGxheUNsZWFyID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmIChfLmF1dG9QbGF5VGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoXy5hdXRvUGxheVRpbWVyKTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5hdXRvUGxheUl0ZXJhdG9yID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgc2xpZGVUbyA9IF8uY3VycmVudFNsaWRlICsgXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsO1xuXG4gICAgICAgIGlmICggIV8ucGF1c2VkICYmICFfLmludGVycnVwdGVkICYmICFfLmZvY3Vzc2VkICkge1xuXG4gICAgICAgICAgICBpZiAoIF8ub3B0aW9ucy5pbmZpbml0ZSA9PT0gZmFsc2UgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIF8uZGlyZWN0aW9uID09PSAxICYmICggXy5jdXJyZW50U2xpZGUgKyAxICkgPT09ICggXy5zbGlkZUNvdW50IC0gMSApKSB7XG4gICAgICAgICAgICAgICAgICAgIF8uZGlyZWN0aW9uID0gMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmICggXy5kaXJlY3Rpb24gPT09IDAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2xpZGVUbyA9IF8uY3VycmVudFNsaWRlIC0gXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggXy5jdXJyZW50U2xpZGUgLSAxID09PSAwICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5kaXJlY3Rpb24gPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgXy5zbGlkZUhhbmRsZXIoIHNsaWRlVG8gKTtcblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmJ1aWxkQXJyb3dzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuYXJyb3dzID09PSB0cnVlICkge1xuXG4gICAgICAgICAgICBfLiRwcmV2QXJyb3cgPSAkKF8ub3B0aW9ucy5wcmV2QXJyb3cpLmFkZENsYXNzKCdzbGljay1hcnJvdycpO1xuICAgICAgICAgICAgXy4kbmV4dEFycm93ID0gJChfLm9wdGlvbnMubmV4dEFycm93KS5hZGRDbGFzcygnc2xpY2stYXJyb3cnKTtcblxuICAgICAgICAgICAgaWYoIF8uc2xpZGVDb3VudCA+IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgKSB7XG5cbiAgICAgICAgICAgICAgICBfLiRwcmV2QXJyb3cucmVtb3ZlQ2xhc3MoJ3NsaWNrLWhpZGRlbicpLnJlbW92ZUF0dHIoJ2FyaWEtaGlkZGVuIHRhYmluZGV4Jyk7XG4gICAgICAgICAgICAgICAgXy4kbmV4dEFycm93LnJlbW92ZUNsYXNzKCdzbGljay1oaWRkZW4nKS5yZW1vdmVBdHRyKCdhcmlhLWhpZGRlbiB0YWJpbmRleCcpO1xuXG4gICAgICAgICAgICAgICAgaWYgKF8uaHRtbEV4cHIudGVzdChfLm9wdGlvbnMucHJldkFycm93KSkge1xuICAgICAgICAgICAgICAgICAgICBfLiRwcmV2QXJyb3cucHJlcGVuZFRvKF8ub3B0aW9ucy5hcHBlbmRBcnJvd3MpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChfLmh0bWxFeHByLnRlc3QoXy5vcHRpb25zLm5leHRBcnJvdykpIHtcbiAgICAgICAgICAgICAgICAgICAgXy4kbmV4dEFycm93LmFwcGVuZFRvKF8ub3B0aW9ucy5hcHBlbmRBcnJvd3MpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChfLm9wdGlvbnMuaW5maW5pdGUgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgXy4kcHJldkFycm93XG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3NsaWNrLWRpc2FibGVkJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICBfLiRwcmV2QXJyb3cuYWRkKCBfLiRuZXh0QXJyb3cgKVxuXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnc2xpY2staGlkZGVuJylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2FyaWEtZGlzYWJsZWQnOiAndHJ1ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAndGFiaW5kZXgnOiAnLTEnXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5idWlsZERvdHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICBpLCBkb3Q7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5kb3RzID09PSB0cnVlICYmIF8uc2xpZGVDb3VudCA+IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcblxuICAgICAgICAgICAgXy4kc2xpZGVyLmFkZENsYXNzKCdzbGljay1kb3R0ZWQnKTtcblxuICAgICAgICAgICAgZG90ID0gJCgnPHVsIC8+JykuYWRkQ2xhc3MoXy5vcHRpb25zLmRvdHNDbGFzcyk7XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPD0gXy5nZXREb3RDb3VudCgpOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICBkb3QuYXBwZW5kKCQoJzxsaSAvPicpLmFwcGVuZChfLm9wdGlvbnMuY3VzdG9tUGFnaW5nLmNhbGwodGhpcywgXywgaSkpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgXy4kZG90cyA9IGRvdC5hcHBlbmRUbyhfLm9wdGlvbnMuYXBwZW5kRG90cyk7XG5cbiAgICAgICAgICAgIF8uJGRvdHMuZmluZCgnbGknKS5maXJzdCgpLmFkZENsYXNzKCdzbGljay1hY3RpdmUnKS5hdHRyKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuYnVpbGRPdXQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgXy4kc2xpZGVzID1cbiAgICAgICAgICAgIF8uJHNsaWRlclxuICAgICAgICAgICAgICAgIC5jaGlsZHJlbiggXy5vcHRpb25zLnNsaWRlICsgJzpub3QoLnNsaWNrLWNsb25lZCknKVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnc2xpY2stc2xpZGUnKTtcblxuICAgICAgICBfLnNsaWRlQ291bnQgPSBfLiRzbGlkZXMubGVuZ3RoO1xuXG4gICAgICAgIF8uJHNsaWRlcy5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlbGVtZW50KSB7XG4gICAgICAgICAgICAkKGVsZW1lbnQpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2RhdGEtc2xpY2staW5kZXgnLCBpbmRleClcbiAgICAgICAgICAgICAgICAuZGF0YSgnb3JpZ2luYWxTdHlsaW5nJywgJChlbGVtZW50KS5hdHRyKCdzdHlsZScpIHx8ICcnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgXy4kc2xpZGVyLmFkZENsYXNzKCdzbGljay1zbGlkZXInKTtcblxuICAgICAgICBfLiRzbGlkZVRyYWNrID0gKF8uc2xpZGVDb3VudCA9PT0gMCkgP1xuICAgICAgICAgICAgJCgnPGRpdiBjbGFzcz1cInNsaWNrLXRyYWNrXCIvPicpLmFwcGVuZFRvKF8uJHNsaWRlcikgOlxuICAgICAgICAgICAgXy4kc2xpZGVzLndyYXBBbGwoJzxkaXYgY2xhc3M9XCJzbGljay10cmFja1wiLz4nKS5wYXJlbnQoKTtcblxuICAgICAgICBfLiRsaXN0ID0gXy4kc2xpZGVUcmFjay53cmFwKFxuICAgICAgICAgICAgJzxkaXYgYXJpYS1saXZlPVwicG9saXRlXCIgY2xhc3M9XCJzbGljay1saXN0XCIvPicpLnBhcmVudCgpO1xuICAgICAgICBfLiRzbGlkZVRyYWNrLmNzcygnb3BhY2l0eScsIDApO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gdHJ1ZSB8fCBfLm9wdGlvbnMuc3dpcGVUb1NsaWRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgJCgnaW1nW2RhdGEtbGF6eV0nLCBfLiRzbGlkZXIpLm5vdCgnW3NyY10nKS5hZGRDbGFzcygnc2xpY2stbG9hZGluZycpO1xuXG4gICAgICAgIF8uc2V0dXBJbmZpbml0ZSgpO1xuXG4gICAgICAgIF8uYnVpbGRBcnJvd3MoKTtcblxuICAgICAgICBfLmJ1aWxkRG90cygpO1xuXG4gICAgICAgIF8udXBkYXRlRG90cygpO1xuXG5cbiAgICAgICAgXy5zZXRTbGlkZUNsYXNzZXModHlwZW9mIF8uY3VycmVudFNsaWRlID09PSAnbnVtYmVyJyA/IF8uY3VycmVudFNsaWRlIDogMCk7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5kcmFnZ2FibGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIF8uJGxpc3QuYWRkQ2xhc3MoJ2RyYWdnYWJsZScpO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmJ1aWxkUm93cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcywgYSwgYiwgYywgbmV3U2xpZGVzLCBudW1PZlNsaWRlcywgb3JpZ2luYWxTbGlkZXMsc2xpZGVzUGVyU2VjdGlvbjtcblxuICAgICAgICBuZXdTbGlkZXMgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgIG9yaWdpbmFsU2xpZGVzID0gXy4kc2xpZGVyLmNoaWxkcmVuKCk7XG5cbiAgICAgICAgaWYoXy5vcHRpb25zLnJvd3MgPiAxKSB7XG5cbiAgICAgICAgICAgIHNsaWRlc1BlclNlY3Rpb24gPSBfLm9wdGlvbnMuc2xpZGVzUGVyUm93ICogXy5vcHRpb25zLnJvd3M7XG4gICAgICAgICAgICBudW1PZlNsaWRlcyA9IE1hdGguY2VpbChcbiAgICAgICAgICAgICAgICBvcmlnaW5hbFNsaWRlcy5sZW5ndGggLyBzbGlkZXNQZXJTZWN0aW9uXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBmb3IoYSA9IDA7IGEgPCBudW1PZlNsaWRlczsgYSsrKXtcbiAgICAgICAgICAgICAgICB2YXIgc2xpZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBmb3IoYiA9IDA7IGIgPCBfLm9wdGlvbnMucm93czsgYisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yKGMgPSAwOyBjIDwgXy5vcHRpb25zLnNsaWRlc1BlclJvdzsgYysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gKGEgKiBzbGlkZXNQZXJTZWN0aW9uICsgKChiICogXy5vcHRpb25zLnNsaWRlc1BlclJvdykgKyBjKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxTbGlkZXMuZ2V0KHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQob3JpZ2luYWxTbGlkZXMuZ2V0KHRhcmdldCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNsaWRlLmFwcGVuZENoaWxkKHJvdyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5ld1NsaWRlcy5hcHBlbmRDaGlsZChzbGlkZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF8uJHNsaWRlci5lbXB0eSgpLmFwcGVuZChuZXdTbGlkZXMpO1xuICAgICAgICAgICAgXy4kc2xpZGVyLmNoaWxkcmVuKCkuY2hpbGRyZW4oKS5jaGlsZHJlbigpXG4gICAgICAgICAgICAgICAgLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICd3aWR0aCc6KDEwMCAvIF8ub3B0aW9ucy5zbGlkZXNQZXJSb3cpICsgJyUnLFxuICAgICAgICAgICAgICAgICAgICAnZGlzcGxheSc6ICdpbmxpbmUtYmxvY2snXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5jaGVja1Jlc3BvbnNpdmUgPSBmdW5jdGlvbihpbml0aWFsLCBmb3JjZVVwZGF0ZSkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgIGJyZWFrcG9pbnQsIHRhcmdldEJyZWFrcG9pbnQsIHJlc3BvbmRUb1dpZHRoLCB0cmlnZ2VyQnJlYWtwb2ludCA9IGZhbHNlO1xuICAgICAgICB2YXIgc2xpZGVyV2lkdGggPSBfLiRzbGlkZXIud2lkdGgoKTtcbiAgICAgICAgdmFyIHdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGggfHwgJCh3aW5kb3cpLndpZHRoKCk7XG5cbiAgICAgICAgaWYgKF8ucmVzcG9uZFRvID09PSAnd2luZG93Jykge1xuICAgICAgICAgICAgcmVzcG9uZFRvV2lkdGggPSB3aW5kb3dXaWR0aDtcbiAgICAgICAgfSBlbHNlIGlmIChfLnJlc3BvbmRUbyA9PT0gJ3NsaWRlcicpIHtcbiAgICAgICAgICAgIHJlc3BvbmRUb1dpZHRoID0gc2xpZGVyV2lkdGg7XG4gICAgICAgIH0gZWxzZSBpZiAoXy5yZXNwb25kVG8gPT09ICdtaW4nKSB7XG4gICAgICAgICAgICByZXNwb25kVG9XaWR0aCA9IE1hdGgubWluKHdpbmRvd1dpZHRoLCBzbGlkZXJXaWR0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIF8ub3B0aW9ucy5yZXNwb25zaXZlICYmXG4gICAgICAgICAgICBfLm9wdGlvbnMucmVzcG9uc2l2ZS5sZW5ndGggJiZcbiAgICAgICAgICAgIF8ub3B0aW9ucy5yZXNwb25zaXZlICE9PSBudWxsKSB7XG5cbiAgICAgICAgICAgIHRhcmdldEJyZWFrcG9pbnQgPSBudWxsO1xuXG4gICAgICAgICAgICBmb3IgKGJyZWFrcG9pbnQgaW4gXy5icmVha3BvaW50cykge1xuICAgICAgICAgICAgICAgIGlmIChfLmJyZWFrcG9pbnRzLmhhc093blByb3BlcnR5KGJyZWFrcG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfLm9yaWdpbmFsU2V0dGluZ3MubW9iaWxlRmlyc3QgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uZFRvV2lkdGggPCBfLmJyZWFrcG9pbnRzW2JyZWFrcG9pbnRdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QnJlYWtwb2ludCA9IF8uYnJlYWtwb2ludHNbYnJlYWtwb2ludF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uZFRvV2lkdGggPiBfLmJyZWFrcG9pbnRzW2JyZWFrcG9pbnRdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QnJlYWtwb2ludCA9IF8uYnJlYWtwb2ludHNbYnJlYWtwb2ludF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0YXJnZXRCcmVha3BvaW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKF8uYWN0aXZlQnJlYWtwb2ludCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0QnJlYWtwb2ludCAhPT0gXy5hY3RpdmVCcmVha3BvaW50IHx8IGZvcmNlVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfLmFjdGl2ZUJyZWFrcG9pbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEJyZWFrcG9pbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXy5icmVha3BvaW50U2V0dGluZ3NbdGFyZ2V0QnJlYWtwb2ludF0gPT09ICd1bnNsaWNrJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8udW5zbGljayh0YXJnZXRCcmVha3BvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5vcHRpb25zID0gJC5leHRlbmQoe30sIF8ub3JpZ2luYWxTZXR0aW5ncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5icmVha3BvaW50U2V0dGluZ3NbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRCcmVha3BvaW50XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluaXRpYWwgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5jdXJyZW50U2xpZGUgPSBfLm9wdGlvbnMuaW5pdGlhbFNsaWRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLnJlZnJlc2goaW5pdGlhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyQnJlYWtwb2ludCA9IHRhcmdldEJyZWFrcG9pbnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfLmFjdGl2ZUJyZWFrcG9pbnQgPSB0YXJnZXRCcmVha3BvaW50O1xuICAgICAgICAgICAgICAgICAgICBpZiAoXy5icmVha3BvaW50U2V0dGluZ3NbdGFyZ2V0QnJlYWtwb2ludF0gPT09ICd1bnNsaWNrJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgXy51bnNsaWNrKHRhcmdldEJyZWFrcG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5vcHRpb25zID0gJC5leHRlbmQoe30sIF8ub3JpZ2luYWxTZXR0aW5ncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmJyZWFrcG9pbnRTZXR0aW5nc1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QnJlYWtwb2ludF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluaXRpYWwgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmN1cnJlbnRTbGlkZSA9IF8ub3B0aW9ucy5pbml0aWFsU2xpZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfLnJlZnJlc2goaW5pdGlhbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlckJyZWFrcG9pbnQgPSB0YXJnZXRCcmVha3BvaW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKF8uYWN0aXZlQnJlYWtwb2ludCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBfLmFjdGl2ZUJyZWFrcG9pbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBfLm9wdGlvbnMgPSBfLm9yaWdpbmFsU2V0dGluZ3M7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbml0aWFsID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfLmN1cnJlbnRTbGlkZSA9IF8ub3B0aW9ucy5pbml0aWFsU2xpZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXy5yZWZyZXNoKGluaXRpYWwpO1xuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyQnJlYWtwb2ludCA9IHRhcmdldEJyZWFrcG9pbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBvbmx5IHRyaWdnZXIgYnJlYWtwb2ludHMgZHVyaW5nIGFuIGFjdHVhbCBicmVhay4gbm90IG9uIGluaXRpYWxpemUuXG4gICAgICAgICAgICBpZiggIWluaXRpYWwgJiYgdHJpZ2dlckJyZWFrcG9pbnQgIT09IGZhbHNlICkge1xuICAgICAgICAgICAgICAgIF8uJHNsaWRlci50cmlnZ2VyKCdicmVha3BvaW50JywgW18sIHRyaWdnZXJCcmVha3BvaW50XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuY2hhbmdlU2xpZGUgPSBmdW5jdGlvbihldmVudCwgZG9udEFuaW1hdGUpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICAkdGFyZ2V0ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KSxcbiAgICAgICAgICAgIGluZGV4T2Zmc2V0LCBzbGlkZU9mZnNldCwgdW5ldmVuT2Zmc2V0O1xuXG4gICAgICAgIC8vIElmIHRhcmdldCBpcyBhIGxpbmssIHByZXZlbnQgZGVmYXVsdCBhY3Rpb24uXG4gICAgICAgIGlmKCR0YXJnZXQuaXMoJ2EnKSkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRhcmdldCBpcyBub3QgdGhlIDxsaT4gZWxlbWVudCAoaWU6IGEgY2hpbGQpLCBmaW5kIHRoZSA8bGk+LlxuICAgICAgICBpZighJHRhcmdldC5pcygnbGknKSkge1xuICAgICAgICAgICAgJHRhcmdldCA9ICR0YXJnZXQuY2xvc2VzdCgnbGknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHVuZXZlbk9mZnNldCA9IChfLnNsaWRlQ291bnQgJSBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgIT09IDApO1xuICAgICAgICBpbmRleE9mZnNldCA9IHVuZXZlbk9mZnNldCA/IDAgOiAoXy5zbGlkZUNvdW50IC0gXy5jdXJyZW50U2xpZGUpICUgXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsO1xuXG4gICAgICAgIHN3aXRjaCAoZXZlbnQuZGF0YS5tZXNzYWdlKSB7XG5cbiAgICAgICAgICAgIGNhc2UgJ3ByZXZpb3VzJzpcbiAgICAgICAgICAgICAgICBzbGlkZU9mZnNldCA9IGluZGV4T2Zmc2V0ID09PSAwID8gXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIDogXy5vcHRpb25zLnNsaWRlc1RvU2hvdyAtIGluZGV4T2Zmc2V0O1xuICAgICAgICAgICAgICAgIGlmIChfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG4gICAgICAgICAgICAgICAgICAgIF8uc2xpZGVIYW5kbGVyKF8uY3VycmVudFNsaWRlIC0gc2xpZGVPZmZzZXQsIGZhbHNlLCBkb250QW5pbWF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICduZXh0JzpcbiAgICAgICAgICAgICAgICBzbGlkZU9mZnNldCA9IGluZGV4T2Zmc2V0ID09PSAwID8gXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIDogaW5kZXhPZmZzZXQ7XG4gICAgICAgICAgICAgICAgaWYgKF8uc2xpZGVDb3VudCA+IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcbiAgICAgICAgICAgICAgICAgICAgXy5zbGlkZUhhbmRsZXIoXy5jdXJyZW50U2xpZGUgKyBzbGlkZU9mZnNldCwgZmFsc2UsIGRvbnRBbmltYXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ2luZGV4JzpcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBldmVudC5kYXRhLmluZGV4ID09PSAwID8gMCA6XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LmRhdGEuaW5kZXggfHwgJHRhcmdldC5pbmRleCgpICogXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsO1xuXG4gICAgICAgICAgICAgICAgXy5zbGlkZUhhbmRsZXIoXy5jaGVja05hdmlnYWJsZShpbmRleCksIGZhbHNlLCBkb250QW5pbWF0ZSk7XG4gICAgICAgICAgICAgICAgJHRhcmdldC5jaGlsZHJlbigpLnRyaWdnZXIoJ2ZvY3VzJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmNoZWNrTmF2aWdhYmxlID0gZnVuY3Rpb24oaW5kZXgpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICBuYXZpZ2FibGVzLCBwcmV2TmF2aWdhYmxlO1xuXG4gICAgICAgIG5hdmlnYWJsZXMgPSBfLmdldE5hdmlnYWJsZUluZGV4ZXMoKTtcbiAgICAgICAgcHJldk5hdmlnYWJsZSA9IDA7XG4gICAgICAgIGlmIChpbmRleCA+IG5hdmlnYWJsZXNbbmF2aWdhYmxlcy5sZW5ndGggLSAxXSkge1xuICAgICAgICAgICAgaW5kZXggPSBuYXZpZ2FibGVzW25hdmlnYWJsZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBuIGluIG5hdmlnYWJsZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCBuYXZpZ2FibGVzW25dKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gcHJldk5hdmlnYWJsZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByZXZOYXZpZ2FibGUgPSBuYXZpZ2FibGVzW25dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuY2xlYW5VcEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmRvdHMgJiYgXy4kZG90cyAhPT0gbnVsbCkge1xuXG4gICAgICAgICAgICAkKCdsaScsIF8uJGRvdHMpXG4gICAgICAgICAgICAgICAgLm9mZignY2xpY2suc2xpY2snLCBfLmNoYW5nZVNsaWRlKVxuICAgICAgICAgICAgICAgIC5vZmYoJ21vdXNlZW50ZXIuc2xpY2snLCAkLnByb3h5KF8uaW50ZXJydXB0LCBfLCB0cnVlKSlcbiAgICAgICAgICAgICAgICAub2ZmKCdtb3VzZWxlYXZlLnNsaWNrJywgJC5wcm94eShfLmludGVycnVwdCwgXywgZmFsc2UpKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgXy4kc2xpZGVyLm9mZignZm9jdXMuc2xpY2sgYmx1ci5zbGljaycpO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuYXJyb3dzID09PSB0cnVlICYmIF8uc2xpZGVDb3VudCA+IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcbiAgICAgICAgICAgIF8uJHByZXZBcnJvdyAmJiBfLiRwcmV2QXJyb3cub2ZmKCdjbGljay5zbGljaycsIF8uY2hhbmdlU2xpZGUpO1xuICAgICAgICAgICAgXy4kbmV4dEFycm93ICYmIF8uJG5leHRBcnJvdy5vZmYoJ2NsaWNrLnNsaWNrJywgXy5jaGFuZ2VTbGlkZSk7XG4gICAgICAgIH1cblxuICAgICAgICBfLiRsaXN0Lm9mZigndG91Y2hzdGFydC5zbGljayBtb3VzZWRvd24uc2xpY2snLCBfLnN3aXBlSGFuZGxlcik7XG4gICAgICAgIF8uJGxpc3Qub2ZmKCd0b3VjaG1vdmUuc2xpY2sgbW91c2Vtb3ZlLnNsaWNrJywgXy5zd2lwZUhhbmRsZXIpO1xuICAgICAgICBfLiRsaXN0Lm9mZigndG91Y2hlbmQuc2xpY2sgbW91c2V1cC5zbGljaycsIF8uc3dpcGVIYW5kbGVyKTtcbiAgICAgICAgXy4kbGlzdC5vZmYoJ3RvdWNoY2FuY2VsLnNsaWNrIG1vdXNlbGVhdmUuc2xpY2snLCBfLnN3aXBlSGFuZGxlcik7XG5cbiAgICAgICAgXy4kbGlzdC5vZmYoJ2NsaWNrLnNsaWNrJywgXy5jbGlja0hhbmRsZXIpO1xuXG4gICAgICAgICQoZG9jdW1lbnQpLm9mZihfLnZpc2liaWxpdHlDaGFuZ2UsIF8udmlzaWJpbGl0eSk7XG5cbiAgICAgICAgXy5jbGVhblVwU2xpZGVFdmVudHMoKTtcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmFjY2Vzc2liaWxpdHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIF8uJGxpc3Qub2ZmKCdrZXlkb3duLnNsaWNrJywgXy5rZXlIYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuZm9jdXNPblNlbGVjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgJChfLiRzbGlkZVRyYWNrKS5jaGlsZHJlbigpLm9mZignY2xpY2suc2xpY2snLCBfLnNlbGVjdEhhbmRsZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgJCh3aW5kb3cpLm9mZignb3JpZW50YXRpb25jaGFuZ2Uuc2xpY2suc2xpY2stJyArIF8uaW5zdGFuY2VVaWQsIF8ub3JpZW50YXRpb25DaGFuZ2UpO1xuXG4gICAgICAgICQod2luZG93KS5vZmYoJ3Jlc2l6ZS5zbGljay5zbGljay0nICsgXy5pbnN0YW5jZVVpZCwgXy5yZXNpemUpO1xuXG4gICAgICAgICQoJ1tkcmFnZ2FibGUhPXRydWVdJywgXy4kc2xpZGVUcmFjaykub2ZmKCdkcmFnc3RhcnQnLCBfLnByZXZlbnREZWZhdWx0KTtcblxuICAgICAgICAkKHdpbmRvdykub2ZmKCdsb2FkLnNsaWNrLnNsaWNrLScgKyBfLmluc3RhbmNlVWlkLCBfLnNldFBvc2l0aW9uKTtcbiAgICAgICAgJChkb2N1bWVudCkub2ZmKCdyZWFkeS5zbGljay5zbGljay0nICsgXy5pbnN0YW5jZVVpZCwgXy5zZXRQb3NpdGlvbik7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmNsZWFuVXBTbGlkZUV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBfLiRsaXN0Lm9mZignbW91c2VlbnRlci5zbGljaycsICQucHJveHkoXy5pbnRlcnJ1cHQsIF8sIHRydWUpKTtcbiAgICAgICAgXy4kbGlzdC5vZmYoJ21vdXNlbGVhdmUuc2xpY2snLCAkLnByb3h5KF8uaW50ZXJydXB0LCBfLCBmYWxzZSkpO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5jbGVhblVwUm93cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcywgb3JpZ2luYWxTbGlkZXM7XG5cbiAgICAgICAgaWYoXy5vcHRpb25zLnJvd3MgPiAxKSB7XG4gICAgICAgICAgICBvcmlnaW5hbFNsaWRlcyA9IF8uJHNsaWRlcy5jaGlsZHJlbigpLmNoaWxkcmVuKCk7XG4gICAgICAgICAgICBvcmlnaW5hbFNsaWRlcy5yZW1vdmVBdHRyKCdzdHlsZScpO1xuICAgICAgICAgICAgXy4kc2xpZGVyLmVtcHR5KCkuYXBwZW5kKG9yaWdpbmFsU2xpZGVzKTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5jbGlja0hhbmRsZXIgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoXy5zaG91bGRDbGljayA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbihyZWZyZXNoKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIF8uYXV0b1BsYXlDbGVhcigpO1xuXG4gICAgICAgIF8udG91Y2hPYmplY3QgPSB7fTtcblxuICAgICAgICBfLmNsZWFuVXBFdmVudHMoKTtcblxuICAgICAgICAkKCcuc2xpY2stY2xvbmVkJywgXy4kc2xpZGVyKS5kZXRhY2goKTtcblxuICAgICAgICBpZiAoXy4kZG90cykge1xuICAgICAgICAgICAgXy4kZG90cy5yZW1vdmUoKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgaWYgKCBfLiRwcmV2QXJyb3cgJiYgXy4kcHJldkFycm93Lmxlbmd0aCApIHtcblxuICAgICAgICAgICAgXy4kcHJldkFycm93XG4gICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdzbGljay1kaXNhYmxlZCBzbGljay1hcnJvdyBzbGljay1oaWRkZW4nKVxuICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdhcmlhLWhpZGRlbiBhcmlhLWRpc2FibGVkIHRhYmluZGV4JylcbiAgICAgICAgICAgICAgICAuY3NzKCdkaXNwbGF5JywnJyk7XG5cbiAgICAgICAgICAgIGlmICggXy5odG1sRXhwci50ZXN0KCBfLm9wdGlvbnMucHJldkFycm93ICkpIHtcbiAgICAgICAgICAgICAgICBfLiRwcmV2QXJyb3cucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIF8uJG5leHRBcnJvdyAmJiBfLiRuZXh0QXJyb3cubGVuZ3RoICkge1xuXG4gICAgICAgICAgICBfLiRuZXh0QXJyb3dcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ3NsaWNrLWRpc2FibGVkIHNsaWNrLWFycm93IHNsaWNrLWhpZGRlbicpXG4gICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ2FyaWEtaGlkZGVuIGFyaWEtZGlzYWJsZWQgdGFiaW5kZXgnKVxuICAgICAgICAgICAgICAgIC5jc3MoJ2Rpc3BsYXknLCcnKTtcblxuICAgICAgICAgICAgaWYgKCBfLmh0bWxFeHByLnRlc3QoIF8ub3B0aW9ucy5uZXh0QXJyb3cgKSkge1xuICAgICAgICAgICAgICAgIF8uJG5leHRBcnJvdy5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cblxuICAgICAgICBpZiAoXy4kc2xpZGVzKSB7XG5cbiAgICAgICAgICAgIF8uJHNsaWRlc1xuICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnc2xpY2stc2xpZGUgc2xpY2stYWN0aXZlIHNsaWNrLWNlbnRlciBzbGljay12aXNpYmxlIHNsaWNrLWN1cnJlbnQnKVxuICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdhcmlhLWhpZGRlbicpXG4gICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ2RhdGEtc2xpY2staW5kZXgnKVxuICAgICAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignc3R5bGUnLCAkKHRoaXMpLmRhdGEoJ29yaWdpbmFsU3R5bGluZycpKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgXy4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpLmRldGFjaCgpO1xuXG4gICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmRldGFjaCgpO1xuXG4gICAgICAgICAgICBfLiRsaXN0LmRldGFjaCgpO1xuXG4gICAgICAgICAgICBfLiRzbGlkZXIuYXBwZW5kKF8uJHNsaWRlcyk7XG4gICAgICAgIH1cblxuICAgICAgICBfLmNsZWFuVXBSb3dzKCk7XG5cbiAgICAgICAgXy4kc2xpZGVyLnJlbW92ZUNsYXNzKCdzbGljay1zbGlkZXInKTtcbiAgICAgICAgXy4kc2xpZGVyLnJlbW92ZUNsYXNzKCdzbGljay1pbml0aWFsaXplZCcpO1xuICAgICAgICBfLiRzbGlkZXIucmVtb3ZlQ2xhc3MoJ3NsaWNrLWRvdHRlZCcpO1xuXG4gICAgICAgIF8udW5zbGlja2VkID0gdHJ1ZTtcblxuICAgICAgICBpZighcmVmcmVzaCkge1xuICAgICAgICAgICAgXy4kc2xpZGVyLnRyaWdnZXIoJ2Rlc3Ryb3knLCBbX10pO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmRpc2FibGVUcmFuc2l0aW9uID0gZnVuY3Rpb24oc2xpZGUpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICB0cmFuc2l0aW9uID0ge307XG5cbiAgICAgICAgdHJhbnNpdGlvbltfLnRyYW5zaXRpb25UeXBlXSA9ICcnO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuZmFkZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIF8uJHNsaWRlVHJhY2suY3NzKHRyYW5zaXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgXy4kc2xpZGVzLmVxKHNsaWRlKS5jc3ModHJhbnNpdGlvbik7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuZmFkZVNsaWRlID0gZnVuY3Rpb24oc2xpZGVJbmRleCwgY2FsbGJhY2spIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKF8uY3NzVHJhbnNpdGlvbnMgPT09IGZhbHNlKSB7XG5cbiAgICAgICAgICAgIF8uJHNsaWRlcy5lcShzbGlkZUluZGV4KS5jc3Moe1xuICAgICAgICAgICAgICAgIHpJbmRleDogXy5vcHRpb25zLnpJbmRleFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIF8uJHNsaWRlcy5lcShzbGlkZUluZGV4KS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgICAgICB9LCBfLm9wdGlvbnMuc3BlZWQsIF8ub3B0aW9ucy5lYXNpbmcsIGNhbGxiYWNrKTtcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBfLmFwcGx5VHJhbnNpdGlvbihzbGlkZUluZGV4KTtcblxuICAgICAgICAgICAgXy4kc2xpZGVzLmVxKHNsaWRlSW5kZXgpLmNzcyh7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgICAgICB6SW5kZXg6IF8ub3B0aW9ucy56SW5kZXhcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIF8uZGlzYWJsZVRyYW5zaXRpb24oc2xpZGVJbmRleCk7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbCgpO1xuICAgICAgICAgICAgICAgIH0sIF8ub3B0aW9ucy5zcGVlZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5mYWRlU2xpZGVPdXQgPSBmdW5jdGlvbihzbGlkZUluZGV4KSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmIChfLmNzc1RyYW5zaXRpb25zID09PSBmYWxzZSkge1xuXG4gICAgICAgICAgICBfLiRzbGlkZXMuZXEoc2xpZGVJbmRleCkuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICAgICAgICB6SW5kZXg6IF8ub3B0aW9ucy56SW5kZXggLSAyXG4gICAgICAgICAgICB9LCBfLm9wdGlvbnMuc3BlZWQsIF8ub3B0aW9ucy5lYXNpbmcpO1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIF8uYXBwbHlUcmFuc2l0aW9uKHNsaWRlSW5kZXgpO1xuXG4gICAgICAgICAgICBfLiRzbGlkZXMuZXEoc2xpZGVJbmRleCkuY3NzKHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgICAgICAgIHpJbmRleDogXy5vcHRpb25zLnpJbmRleCAtIDJcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuZmlsdGVyU2xpZGVzID0gU2xpY2sucHJvdG90eXBlLnNsaWNrRmlsdGVyID0gZnVuY3Rpb24oZmlsdGVyKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmIChmaWx0ZXIgIT09IG51bGwpIHtcblxuICAgICAgICAgICAgXy4kc2xpZGVzQ2FjaGUgPSBfLiRzbGlkZXM7XG5cbiAgICAgICAgICAgIF8udW5sb2FkKCk7XG5cbiAgICAgICAgICAgIF8uJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5kZXRhY2goKTtcblxuICAgICAgICAgICAgXy4kc2xpZGVzQ2FjaGUuZmlsdGVyKGZpbHRlcikuYXBwZW5kVG8oXy4kc2xpZGVUcmFjayk7XG5cbiAgICAgICAgICAgIF8ucmVpbml0KCk7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5mb2N1c0hhbmRsZXIgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgXy4kc2xpZGVyXG4gICAgICAgICAgICAub2ZmKCdmb2N1cy5zbGljayBibHVyLnNsaWNrJylcbiAgICAgICAgICAgIC5vbignZm9jdXMuc2xpY2sgYmx1ci5zbGljaycsXG4gICAgICAgICAgICAgICAgJyo6bm90KC5zbGljay1hcnJvdyknLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHZhciAkc2YgPSAkKHRoaXMpO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgaWYoIF8ub3B0aW9ucy5wYXVzZU9uRm9jdXMgKSB7XG4gICAgICAgICAgICAgICAgICAgIF8uZm9jdXNzZWQgPSAkc2YuaXMoJzpmb2N1cycpO1xuICAgICAgICAgICAgICAgICAgICBfLmF1dG9QbGF5KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LCAwKTtcblxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmdldEN1cnJlbnQgPSBTbGljay5wcm90b3R5cGUuc2xpY2tDdXJyZW50U2xpZGUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBfLmN1cnJlbnRTbGlkZTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuZ2V0RG90Q291bnQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGJyZWFrUG9pbnQgPSAwO1xuICAgICAgICB2YXIgY291bnRlciA9IDA7XG4gICAgICAgIHZhciBwYWdlclF0eSA9IDA7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5pbmZpbml0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgd2hpbGUgKGJyZWFrUG9pbnQgPCBfLnNsaWRlQ291bnQpIHtcbiAgICAgICAgICAgICAgICArK3BhZ2VyUXR5O1xuICAgICAgICAgICAgICAgIGJyZWFrUG9pbnQgPSBjb3VudGVyICsgXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsO1xuICAgICAgICAgICAgICAgIGNvdW50ZXIgKz0gXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIDw9IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgPyBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgOiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKF8ub3B0aW9ucy5jZW50ZXJNb2RlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBwYWdlclF0eSA9IF8uc2xpZGVDb3VudDtcbiAgICAgICAgfSBlbHNlIGlmKCFfLm9wdGlvbnMuYXNOYXZGb3IpIHtcbiAgICAgICAgICAgIHBhZ2VyUXR5ID0gMSArIE1hdGguY2VpbCgoXy5zbGlkZUNvdW50IC0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykgLyBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwpO1xuICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICB3aGlsZSAoYnJlYWtQb2ludCA8IF8uc2xpZGVDb3VudCkge1xuICAgICAgICAgICAgICAgICsrcGFnZXJRdHk7XG4gICAgICAgICAgICAgICAgYnJlYWtQb2ludCA9IGNvdW50ZXIgKyBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw7XG4gICAgICAgICAgICAgICAgY291bnRlciArPSBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgPD0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdyA/IF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCA6IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3c7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGFnZXJRdHkgLSAxO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5nZXRMZWZ0ID0gZnVuY3Rpb24oc2xpZGVJbmRleCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgIHRhcmdldExlZnQsXG4gICAgICAgICAgICB2ZXJ0aWNhbEhlaWdodCxcbiAgICAgICAgICAgIHZlcnRpY2FsT2Zmc2V0ID0gMCxcbiAgICAgICAgICAgIHRhcmdldFNsaWRlO1xuXG4gICAgICAgIF8uc2xpZGVPZmZzZXQgPSAwO1xuICAgICAgICB2ZXJ0aWNhbEhlaWdodCA9IF8uJHNsaWRlcy5maXJzdCgpLm91dGVySGVpZ2h0KHRydWUpO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuaW5maW5pdGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGlmIChfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG4gICAgICAgICAgICAgICAgXy5zbGlkZU9mZnNldCA9IChfLnNsaWRlV2lkdGggKiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSAqIC0xO1xuICAgICAgICAgICAgICAgIHZlcnRpY2FsT2Zmc2V0ID0gKHZlcnRpY2FsSGVpZ2h0ICogXy5vcHRpb25zLnNsaWRlc1RvU2hvdykgKiAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfLnNsaWRlQ291bnQgJSBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgIT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoc2xpZGVJbmRleCArIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCA+IF8uc2xpZGVDb3VudCAmJiBfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzbGlkZUluZGV4ID4gXy5zbGlkZUNvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfLnNsaWRlT2Zmc2V0ID0gKChfLm9wdGlvbnMuc2xpZGVzVG9TaG93IC0gKHNsaWRlSW5kZXggLSBfLnNsaWRlQ291bnQpKSAqIF8uc2xpZGVXaWR0aCkgKiAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsT2Zmc2V0ID0gKChfLm9wdGlvbnMuc2xpZGVzVG9TaG93IC0gKHNsaWRlSW5kZXggLSBfLnNsaWRlQ291bnQpKSAqIHZlcnRpY2FsSGVpZ2h0KSAqIC0xO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5zbGlkZU9mZnNldCA9ICgoXy5zbGlkZUNvdW50ICUgXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKSAqIF8uc2xpZGVXaWR0aCkgKiAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsT2Zmc2V0ID0gKChfLnNsaWRlQ291bnQgJSBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwpICogdmVydGljYWxIZWlnaHQpICogLTE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoc2xpZGVJbmRleCArIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgPiBfLnNsaWRlQ291bnQpIHtcbiAgICAgICAgICAgICAgICBfLnNsaWRlT2Zmc2V0ID0gKChzbGlkZUluZGV4ICsgXy5vcHRpb25zLnNsaWRlc1RvU2hvdykgLSBfLnNsaWRlQ291bnQpICogXy5zbGlkZVdpZHRoO1xuICAgICAgICAgICAgICAgIHZlcnRpY2FsT2Zmc2V0ID0gKChzbGlkZUluZGV4ICsgXy5vcHRpb25zLnNsaWRlc1RvU2hvdykgLSBfLnNsaWRlQ291bnQpICogdmVydGljYWxIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy5zbGlkZUNvdW50IDw9IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcbiAgICAgICAgICAgIF8uc2xpZGVPZmZzZXQgPSAwO1xuICAgICAgICAgICAgdmVydGljYWxPZmZzZXQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5jZW50ZXJNb2RlID09PSB0cnVlICYmIF8ub3B0aW9ucy5pbmZpbml0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgXy5zbGlkZU9mZnNldCArPSBfLnNsaWRlV2lkdGggKiBNYXRoLmZsb29yKF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgLyAyKSAtIF8uc2xpZGVXaWR0aDtcbiAgICAgICAgfSBlbHNlIGlmIChfLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgXy5zbGlkZU9mZnNldCA9IDA7XG4gICAgICAgICAgICBfLnNsaWRlT2Zmc2V0ICs9IF8uc2xpZGVXaWR0aCAqIE1hdGguZmxvb3IoXy5vcHRpb25zLnNsaWRlc1RvU2hvdyAvIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy52ZXJ0aWNhbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRhcmdldExlZnQgPSAoKHNsaWRlSW5kZXggKiBfLnNsaWRlV2lkdGgpICogLTEpICsgXy5zbGlkZU9mZnNldDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldExlZnQgPSAoKHNsaWRlSW5kZXggKiB2ZXJ0aWNhbEhlaWdodCkgKiAtMSkgKyB2ZXJ0aWNhbE9mZnNldDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLm9wdGlvbnMudmFyaWFibGVXaWR0aCA9PT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICBpZiAoXy5zbGlkZUNvdW50IDw9IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgfHwgXy5vcHRpb25zLmluZmluaXRlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFNsaWRlID0gXy4kc2xpZGVUcmFjay5jaGlsZHJlbignLnNsaWNrLXNsaWRlJykuZXEoc2xpZGVJbmRleCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRhcmdldFNsaWRlID0gXy4kc2xpZGVUcmFjay5jaGlsZHJlbignLnNsaWNrLXNsaWRlJykuZXEoc2xpZGVJbmRleCArIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoXy5vcHRpb25zLnJ0bCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXRTbGlkZVswXSkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRMZWZ0ID0gKF8uJHNsaWRlVHJhY2sud2lkdGgoKSAtIHRhcmdldFNsaWRlWzBdLm9mZnNldExlZnQgLSB0YXJnZXRTbGlkZS53aWR0aCgpKSAqIC0xO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldExlZnQgPSAgMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRhcmdldExlZnQgPSB0YXJnZXRTbGlkZVswXSA/IHRhcmdldFNsaWRlWzBdLm9mZnNldExlZnQgKiAtMSA6IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChfLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChfLnNsaWRlQ291bnQgPD0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdyB8fCBfLm9wdGlvbnMuaW5maW5pdGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFNsaWRlID0gXy4kc2xpZGVUcmFjay5jaGlsZHJlbignLnNsaWNrLXNsaWRlJykuZXEoc2xpZGVJbmRleCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0U2xpZGUgPSBfLiRzbGlkZVRyYWNrLmNoaWxkcmVuKCcuc2xpY2stc2xpZGUnKS5lcShzbGlkZUluZGV4ICsgXy5vcHRpb25zLnNsaWRlc1RvU2hvdyArIDEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChfLm9wdGlvbnMucnRsID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRTbGlkZVswXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0TGVmdCA9IChfLiRzbGlkZVRyYWNrLndpZHRoKCkgLSB0YXJnZXRTbGlkZVswXS5vZmZzZXRMZWZ0IC0gdGFyZ2V0U2xpZGUud2lkdGgoKSkgKiAtMTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldExlZnQgPSAgMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldExlZnQgPSB0YXJnZXRTbGlkZVswXSA/IHRhcmdldFNsaWRlWzBdLm9mZnNldExlZnQgKiAtMSA6IDA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGFyZ2V0TGVmdCArPSAoXy4kbGlzdC53aWR0aCgpIC0gdGFyZ2V0U2xpZGUub3V0ZXJXaWR0aCgpKSAvIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0TGVmdDtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuZ2V0T3B0aW9uID0gU2xpY2sucHJvdG90eXBlLnNsaWNrR2V0T3B0aW9uID0gZnVuY3Rpb24ob3B0aW9uKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiBfLm9wdGlvbnNbb3B0aW9uXTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuZ2V0TmF2aWdhYmxlSW5kZXhlcyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgIGJyZWFrUG9pbnQgPSAwLFxuICAgICAgICAgICAgY291bnRlciA9IDAsXG4gICAgICAgICAgICBpbmRleGVzID0gW10sXG4gICAgICAgICAgICBtYXg7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5pbmZpbml0ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG1heCA9IF8uc2xpZGVDb3VudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrUG9pbnQgPSBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgKiAtMTtcbiAgICAgICAgICAgIGNvdW50ZXIgPSBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgKiAtMTtcbiAgICAgICAgICAgIG1heCA9IF8uc2xpZGVDb3VudCAqIDI7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAoYnJlYWtQb2ludCA8IG1heCkge1xuICAgICAgICAgICAgaW5kZXhlcy5wdXNoKGJyZWFrUG9pbnQpO1xuICAgICAgICAgICAgYnJlYWtQb2ludCA9IGNvdW50ZXIgKyBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw7XG4gICAgICAgICAgICBjb3VudGVyICs9IF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCA8PSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93ID8gXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIDogXy5vcHRpb25zLnNsaWRlc1RvU2hvdztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbmRleGVzO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5nZXRTbGljayA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5nZXRTbGlkZUNvdW50ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgc2xpZGVzVHJhdmVyc2VkLCBzd2lwZWRTbGlkZSwgY2VudGVyT2Zmc2V0O1xuXG4gICAgICAgIGNlbnRlck9mZnNldCA9IF8ub3B0aW9ucy5jZW50ZXJNb2RlID09PSB0cnVlID8gXy5zbGlkZVdpZHRoICogTWF0aC5mbG9vcihfLm9wdGlvbnMuc2xpZGVzVG9TaG93IC8gMikgOiAwO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuc3dpcGVUb1NsaWRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmZpbmQoJy5zbGljay1zbGlkZScpLmVhY2goZnVuY3Rpb24oaW5kZXgsIHNsaWRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNsaWRlLm9mZnNldExlZnQgLSBjZW50ZXJPZmZzZXQgKyAoJChzbGlkZSkub3V0ZXJXaWR0aCgpIC8gMikgPiAoXy5zd2lwZUxlZnQgKiAtMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpcGVkU2xpZGUgPSBzbGlkZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzbGlkZXNUcmF2ZXJzZWQgPSBNYXRoLmFicygkKHN3aXBlZFNsaWRlKS5hdHRyKCdkYXRhLXNsaWNrLWluZGV4JykgLSBfLmN1cnJlbnRTbGlkZSkgfHwgMTtcblxuICAgICAgICAgICAgcmV0dXJuIHNsaWRlc1RyYXZlcnNlZDtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5nb1RvID0gU2xpY2sucHJvdG90eXBlLnNsaWNrR29UbyA9IGZ1bmN0aW9uKHNsaWRlLCBkb250QW5pbWF0ZSkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBfLmNoYW5nZVNsaWRlKHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnaW5kZXgnLFxuICAgICAgICAgICAgICAgIGluZGV4OiBwYXJzZUludChzbGlkZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZG9udEFuaW1hdGUpO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oY3JlYXRpb24pIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKCEkKF8uJHNsaWRlcikuaGFzQ2xhc3MoJ3NsaWNrLWluaXRpYWxpemVkJykpIHtcblxuICAgICAgICAgICAgJChfLiRzbGlkZXIpLmFkZENsYXNzKCdzbGljay1pbml0aWFsaXplZCcpO1xuXG4gICAgICAgICAgICBfLmJ1aWxkUm93cygpO1xuICAgICAgICAgICAgXy5idWlsZE91dCgpO1xuICAgICAgICAgICAgXy5zZXRQcm9wcygpO1xuICAgICAgICAgICAgXy5zdGFydExvYWQoKTtcbiAgICAgICAgICAgIF8ubG9hZFNsaWRlcigpO1xuICAgICAgICAgICAgXy5pbml0aWFsaXplRXZlbnRzKCk7XG4gICAgICAgICAgICBfLnVwZGF0ZUFycm93cygpO1xuICAgICAgICAgICAgXy51cGRhdGVEb3RzKCk7XG4gICAgICAgICAgICBfLmNoZWNrUmVzcG9uc2l2ZSh0cnVlKTtcbiAgICAgICAgICAgIF8uZm9jdXNIYW5kbGVyKCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjcmVhdGlvbikge1xuICAgICAgICAgICAgXy4kc2xpZGVyLnRyaWdnZXIoJ2luaXQnLCBbX10pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5hY2Nlc3NpYmlsaXR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICBfLmluaXRBREEoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggXy5vcHRpb25zLmF1dG9wbGF5ICkge1xuXG4gICAgICAgICAgICBfLnBhdXNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgXy5hdXRvUGxheSgpO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuaW5pdEFEQSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgXyA9IHRoaXM7XG4gICAgICAgIF8uJHNsaWRlcy5hZGQoXy4kc2xpZGVUcmFjay5maW5kKCcuc2xpY2stY2xvbmVkJykpLmF0dHIoe1xuICAgICAgICAgICAgJ2FyaWEtaGlkZGVuJzogJ3RydWUnLFxuICAgICAgICAgICAgJ3RhYmluZGV4JzogJy0xJ1xuICAgICAgICB9KS5maW5kKCdhLCBpbnB1dCwgYnV0dG9uLCBzZWxlY3QnKS5hdHRyKHtcbiAgICAgICAgICAgICd0YWJpbmRleCc6ICctMSdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgXy4kc2xpZGVUcmFjay5hdHRyKCdyb2xlJywgJ2xpc3Rib3gnKTtcblxuICAgICAgICBfLiRzbGlkZXMubm90KF8uJHNsaWRlVHJhY2suZmluZCgnLnNsaWNrLWNsb25lZCcpKS5lYWNoKGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgICAgICQodGhpcykuYXR0cih7XG4gICAgICAgICAgICAgICAgJ3JvbGUnOiAnb3B0aW9uJyxcbiAgICAgICAgICAgICAgICAnYXJpYS1kZXNjcmliZWRieSc6ICdzbGljay1zbGlkZScgKyBfLmluc3RhbmNlVWlkICsgaSArICcnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKF8uJGRvdHMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIF8uJGRvdHMuYXR0cigncm9sZScsICd0YWJsaXN0JykuZmluZCgnbGknKS5lYWNoKGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoe1xuICAgICAgICAgICAgICAgICAgICAncm9sZSc6ICdwcmVzZW50YXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAnYXJpYS1zZWxlY3RlZCc6ICdmYWxzZScsXG4gICAgICAgICAgICAgICAgICAgICdhcmlhLWNvbnRyb2xzJzogJ25hdmlnYXRpb24nICsgXy5pbnN0YW5jZVVpZCArIGkgKyAnJyxcbiAgICAgICAgICAgICAgICAgICAgJ2lkJzogJ3NsaWNrLXNsaWRlJyArIF8uaW5zdGFuY2VVaWQgKyBpICsgJydcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmZpcnN0KCkuYXR0cignYXJpYS1zZWxlY3RlZCcsICd0cnVlJykuZW5kKClcbiAgICAgICAgICAgICAgICAuZmluZCgnYnV0dG9uJykuYXR0cigncm9sZScsICdidXR0b24nKS5lbmQoKVxuICAgICAgICAgICAgICAgIC5jbG9zZXN0KCdkaXYnKS5hdHRyKCdyb2xlJywgJ3Rvb2xiYXInKTtcbiAgICAgICAgfVxuICAgICAgICBfLmFjdGl2YXRlQURBKCk7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmluaXRBcnJvd0V2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmFycm93cyA9PT0gdHJ1ZSAmJiBfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG4gICAgICAgICAgICBfLiRwcmV2QXJyb3dcbiAgICAgICAgICAgICAgIC5vZmYoJ2NsaWNrLnNsaWNrJylcbiAgICAgICAgICAgICAgIC5vbignY2xpY2suc2xpY2snLCB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdwcmV2aW91cydcbiAgICAgICAgICAgICAgIH0sIF8uY2hhbmdlU2xpZGUpO1xuICAgICAgICAgICAgXy4kbmV4dEFycm93XG4gICAgICAgICAgICAgICAub2ZmKCdjbGljay5zbGljaycpXG4gICAgICAgICAgICAgICAub24oJ2NsaWNrLnNsaWNrJywge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnbmV4dCdcbiAgICAgICAgICAgICAgIH0sIF8uY2hhbmdlU2xpZGUpO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmluaXREb3RFdmVudHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5kb3RzID09PSB0cnVlICYmIF8uc2xpZGVDb3VudCA+IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcbiAgICAgICAgICAgICQoJ2xpJywgXy4kZG90cykub24oJ2NsaWNrLnNsaWNrJywge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdpbmRleCdcbiAgICAgICAgICAgIH0sIF8uY2hhbmdlU2xpZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBfLm9wdGlvbnMuZG90cyA9PT0gdHJ1ZSAmJiBfLm9wdGlvbnMucGF1c2VPbkRvdHNIb3ZlciA9PT0gdHJ1ZSApIHtcblxuICAgICAgICAgICAgJCgnbGknLCBfLiRkb3RzKVxuICAgICAgICAgICAgICAgIC5vbignbW91c2VlbnRlci5zbGljaycsICQucHJveHkoXy5pbnRlcnJ1cHQsIF8sIHRydWUpKVxuICAgICAgICAgICAgICAgIC5vbignbW91c2VsZWF2ZS5zbGljaycsICQucHJveHkoXy5pbnRlcnJ1cHQsIF8sIGZhbHNlKSk7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5pbml0U2xpZGVFdmVudHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKCBfLm9wdGlvbnMucGF1c2VPbkhvdmVyICkge1xuXG4gICAgICAgICAgICBfLiRsaXN0Lm9uKCdtb3VzZWVudGVyLnNsaWNrJywgJC5wcm94eShfLmludGVycnVwdCwgXywgdHJ1ZSkpO1xuICAgICAgICAgICAgXy4kbGlzdC5vbignbW91c2VsZWF2ZS5zbGljaycsICQucHJveHkoXy5pbnRlcnJ1cHQsIF8sIGZhbHNlKSk7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5pbml0aWFsaXplRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIF8uaW5pdEFycm93RXZlbnRzKCk7XG5cbiAgICAgICAgXy5pbml0RG90RXZlbnRzKCk7XG4gICAgICAgIF8uaW5pdFNsaWRlRXZlbnRzKCk7XG5cbiAgICAgICAgXy4kbGlzdC5vbigndG91Y2hzdGFydC5zbGljayBtb3VzZWRvd24uc2xpY2snLCB7XG4gICAgICAgICAgICBhY3Rpb246ICdzdGFydCdcbiAgICAgICAgfSwgXy5zd2lwZUhhbmRsZXIpO1xuICAgICAgICBfLiRsaXN0Lm9uKCd0b3VjaG1vdmUuc2xpY2sgbW91c2Vtb3ZlLnNsaWNrJywge1xuICAgICAgICAgICAgYWN0aW9uOiAnbW92ZSdcbiAgICAgICAgfSwgXy5zd2lwZUhhbmRsZXIpO1xuICAgICAgICBfLiRsaXN0Lm9uKCd0b3VjaGVuZC5zbGljayBtb3VzZXVwLnNsaWNrJywge1xuICAgICAgICAgICAgYWN0aW9uOiAnZW5kJ1xuICAgICAgICB9LCBfLnN3aXBlSGFuZGxlcik7XG4gICAgICAgIF8uJGxpc3Qub24oJ3RvdWNoY2FuY2VsLnNsaWNrIG1vdXNlbGVhdmUuc2xpY2snLCB7XG4gICAgICAgICAgICBhY3Rpb246ICdlbmQnXG4gICAgICAgIH0sIF8uc3dpcGVIYW5kbGVyKTtcblxuICAgICAgICBfLiRsaXN0Lm9uKCdjbGljay5zbGljaycsIF8uY2xpY2tIYW5kbGVyKTtcblxuICAgICAgICAkKGRvY3VtZW50KS5vbihfLnZpc2liaWxpdHlDaGFuZ2UsICQucHJveHkoXy52aXNpYmlsaXR5LCBfKSk7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5hY2Nlc3NpYmlsaXR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICBfLiRsaXN0Lm9uKCdrZXlkb3duLnNsaWNrJywgXy5rZXlIYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuZm9jdXNPblNlbGVjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgJChfLiRzbGlkZVRyYWNrKS5jaGlsZHJlbigpLm9uKCdjbGljay5zbGljaycsIF8uc2VsZWN0SGFuZGxlcik7XG4gICAgICAgIH1cblxuICAgICAgICAkKHdpbmRvdykub24oJ29yaWVudGF0aW9uY2hhbmdlLnNsaWNrLnNsaWNrLScgKyBfLmluc3RhbmNlVWlkLCAkLnByb3h5KF8ub3JpZW50YXRpb25DaGFuZ2UsIF8pKTtcblxuICAgICAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZS5zbGljay5zbGljay0nICsgXy5pbnN0YW5jZVVpZCwgJC5wcm94eShfLnJlc2l6ZSwgXykpO1xuXG4gICAgICAgICQoJ1tkcmFnZ2FibGUhPXRydWVdJywgXy4kc2xpZGVUcmFjaykub24oJ2RyYWdzdGFydCcsIF8ucHJldmVudERlZmF1bHQpO1xuXG4gICAgICAgICQod2luZG93KS5vbignbG9hZC5zbGljay5zbGljay0nICsgXy5pbnN0YW5jZVVpZCwgXy5zZXRQb3NpdGlvbik7XG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdyZWFkeS5zbGljay5zbGljay0nICsgXy5pbnN0YW5jZVVpZCwgXy5zZXRQb3NpdGlvbik7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmluaXRVSSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmFycm93cyA9PT0gdHJ1ZSAmJiBfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG5cbiAgICAgICAgICAgIF8uJHByZXZBcnJvdy5zaG93KCk7XG4gICAgICAgICAgICBfLiRuZXh0QXJyb3cuc2hvdygpO1xuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy5vcHRpb25zLmRvdHMgPT09IHRydWUgJiYgXy5zbGlkZUNvdW50ID4gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuXG4gICAgICAgICAgICBfLiRkb3RzLnNob3coKTtcblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmtleUhhbmRsZXIgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcbiAgICAgICAgIC8vRG9udCBzbGlkZSBpZiB0aGUgY3Vyc29yIGlzIGluc2lkZSB0aGUgZm9ybSBmaWVsZHMgYW5kIGFycm93IGtleXMgYXJlIHByZXNzZWRcbiAgICAgICAgaWYoIWV2ZW50LnRhcmdldC50YWdOYW1lLm1hdGNoKCdURVhUQVJFQXxJTlBVVHxTRUxFQ1QnKSkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDM3ICYmIF8ub3B0aW9ucy5hY2Nlc3NpYmlsaXR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgXy5jaGFuZ2VTbGlkZSh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IF8ub3B0aW9ucy5ydGwgPT09IHRydWUgPyAnbmV4dCcgOiAgJ3ByZXZpb3VzJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09IDM5ICYmIF8ub3B0aW9ucy5hY2Nlc3NpYmlsaXR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgXy5jaGFuZ2VTbGlkZSh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IF8ub3B0aW9ucy5ydGwgPT09IHRydWUgPyAncHJldmlvdXMnIDogJ25leHQnXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5sYXp5TG9hZCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgIGxvYWRSYW5nZSwgY2xvbmVSYW5nZSwgcmFuZ2VTdGFydCwgcmFuZ2VFbmQ7XG5cbiAgICAgICAgZnVuY3Rpb24gbG9hZEltYWdlcyhpbWFnZXNTY29wZSkge1xuXG4gICAgICAgICAgICAkKCdpbWdbZGF0YS1sYXp5XScsIGltYWdlc1Njb3BlKS5lYWNoKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGltYWdlID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VTb3VyY2UgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtbGF6eScpLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZVRvTG9hZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuXG4gICAgICAgICAgICAgICAgaW1hZ2VUb0xvYWQub25sb2FkID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hbmltYXRlKHsgb3BhY2l0eTogMCB9LCAxMDAsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzcmMnLCBpbWFnZVNvdXJjZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFuaW1hdGUoeyBvcGFjaXR5OiAxIH0sIDIwMCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdkYXRhLWxhenknKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnc2xpY2stbG9hZGluZycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLiRzbGlkZXIudHJpZ2dlcignbGF6eUxvYWRlZCcsIFtfLCBpbWFnZSwgaW1hZ2VTb3VyY2VdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGltYWdlVG9Mb2FkLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICBpbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoICdkYXRhLWxhenknIClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcyggJ3NsaWNrLWxvYWRpbmcnIClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcyggJ3NsaWNrLWxhenlsb2FkLWVycm9yJyApO1xuXG4gICAgICAgICAgICAgICAgICAgIF8uJHNsaWRlci50cmlnZ2VyKCdsYXp5TG9hZEVycm9yJywgWyBfLCBpbWFnZSwgaW1hZ2VTb3VyY2UgXSk7XG5cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaW1hZ2VUb0xvYWQuc3JjID0gaW1hZ2VTb3VyY2U7XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy5vcHRpb25zLmNlbnRlck1vZGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGlmIChfLm9wdGlvbnMuaW5maW5pdGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByYW5nZVN0YXJ0ID0gXy5jdXJyZW50U2xpZGUgKyAoXy5vcHRpb25zLnNsaWRlc1RvU2hvdyAvIDIgKyAxKTtcbiAgICAgICAgICAgICAgICByYW5nZUVuZCA9IHJhbmdlU3RhcnQgKyBfLm9wdGlvbnMuc2xpZGVzVG9TaG93ICsgMjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmFuZ2VTdGFydCA9IE1hdGgubWF4KDAsIF8uY3VycmVudFNsaWRlIC0gKF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgLyAyICsgMSkpO1xuICAgICAgICAgICAgICAgIHJhbmdlRW5kID0gMiArIChfLm9wdGlvbnMuc2xpZGVzVG9TaG93IC8gMiArIDEpICsgXy5jdXJyZW50U2xpZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByYW5nZVN0YXJ0ID0gXy5vcHRpb25zLmluZmluaXRlID8gXy5vcHRpb25zLnNsaWRlc1RvU2hvdyArIF8uY3VycmVudFNsaWRlIDogXy5jdXJyZW50U2xpZGU7XG4gICAgICAgICAgICByYW5nZUVuZCA9IE1hdGguY2VpbChyYW5nZVN0YXJ0ICsgXy5vcHRpb25zLnNsaWRlc1RvU2hvdyk7XG4gICAgICAgICAgICBpZiAoXy5vcHRpb25zLmZhZGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2VTdGFydCA+IDApIHJhbmdlU3RhcnQtLTtcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2VFbmQgPD0gXy5zbGlkZUNvdW50KSByYW5nZUVuZCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbG9hZFJhbmdlID0gXy4kc2xpZGVyLmZpbmQoJy5zbGljay1zbGlkZScpLnNsaWNlKHJhbmdlU3RhcnQsIHJhbmdlRW5kKTtcbiAgICAgICAgbG9hZEltYWdlcyhsb2FkUmFuZ2UpO1xuXG4gICAgICAgIGlmIChfLnNsaWRlQ291bnQgPD0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuICAgICAgICAgICAgY2xvbmVSYW5nZSA9IF8uJHNsaWRlci5maW5kKCcuc2xpY2stc2xpZGUnKTtcbiAgICAgICAgICAgIGxvYWRJbWFnZXMoY2xvbmVSYW5nZSk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICBpZiAoXy5jdXJyZW50U2xpZGUgPj0gXy5zbGlkZUNvdW50IC0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuICAgICAgICAgICAgY2xvbmVSYW5nZSA9IF8uJHNsaWRlci5maW5kKCcuc2xpY2stY2xvbmVkJykuc2xpY2UoMCwgXy5vcHRpb25zLnNsaWRlc1RvU2hvdyk7XG4gICAgICAgICAgICBsb2FkSW1hZ2VzKGNsb25lUmFuZ2UpO1xuICAgICAgICB9IGVsc2UgaWYgKF8uY3VycmVudFNsaWRlID09PSAwKSB7XG4gICAgICAgICAgICBjbG9uZVJhbmdlID0gXy4kc2xpZGVyLmZpbmQoJy5zbGljay1jbG9uZWQnKS5zbGljZShfLm9wdGlvbnMuc2xpZGVzVG9TaG93ICogLTEpO1xuICAgICAgICAgICAgbG9hZEltYWdlcyhjbG9uZVJhbmdlKTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5sb2FkU2xpZGVyID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIF8uc2V0UG9zaXRpb24oKTtcblxuICAgICAgICBfLiRzbGlkZVRyYWNrLmNzcyh7XG4gICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgIH0pO1xuXG4gICAgICAgIF8uJHNsaWRlci5yZW1vdmVDbGFzcygnc2xpY2stbG9hZGluZycpO1xuXG4gICAgICAgIF8uaW5pdFVJKCk7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5sYXp5TG9hZCA9PT0gJ3Byb2dyZXNzaXZlJykge1xuICAgICAgICAgICAgXy5wcm9ncmVzc2l2ZUxhenlMb2FkKCk7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUubmV4dCA9IFNsaWNrLnByb3RvdHlwZS5zbGlja05leHQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgXy5jaGFuZ2VTbGlkZSh7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ25leHQnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5vcmllbnRhdGlvbkNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBfLmNoZWNrUmVzcG9uc2l2ZSgpO1xuICAgICAgICBfLnNldFBvc2l0aW9uKCk7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnBhdXNlID0gU2xpY2sucHJvdG90eXBlLnNsaWNrUGF1c2UgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgXy5hdXRvUGxheUNsZWFyKCk7XG4gICAgICAgIF8ucGF1c2VkID0gdHJ1ZTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUucGxheSA9IFNsaWNrLnByb3RvdHlwZS5zbGlja1BsYXkgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgXy5hdXRvUGxheSgpO1xuICAgICAgICBfLm9wdGlvbnMuYXV0b3BsYXkgPSB0cnVlO1xuICAgICAgICBfLnBhdXNlZCA9IGZhbHNlO1xuICAgICAgICBfLmZvY3Vzc2VkID0gZmFsc2U7XG4gICAgICAgIF8uaW50ZXJydXB0ZWQgPSBmYWxzZTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUucG9zdFNsaWRlID0gZnVuY3Rpb24oaW5kZXgpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYoICFfLnVuc2xpY2tlZCApIHtcblxuICAgICAgICAgICAgXy4kc2xpZGVyLnRyaWdnZXIoJ2FmdGVyQ2hhbmdlJywgW18sIGluZGV4XSk7XG5cbiAgICAgICAgICAgIF8uYW5pbWF0aW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgIF8uc2V0UG9zaXRpb24oKTtcblxuICAgICAgICAgICAgXy5zd2lwZUxlZnQgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAoIF8ub3B0aW9ucy5hdXRvcGxheSApIHtcbiAgICAgICAgICAgICAgICBfLmF1dG9QbGF5KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChfLm9wdGlvbnMuYWNjZXNzaWJpbGl0eSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIF8uaW5pdEFEQSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUucHJldiA9IFNsaWNrLnByb3RvdHlwZS5zbGlja1ByZXYgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgXy5jaGFuZ2VTbGlkZSh7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ3ByZXZpb3VzJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnByb2dyZXNzaXZlTGF6eUxvYWQgPSBmdW5jdGlvbiggdHJ5Q291bnQgKSB7XG5cbiAgICAgICAgdHJ5Q291bnQgPSB0cnlDb3VudCB8fCAxO1xuXG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgICRpbWdzVG9Mb2FkID0gJCggJ2ltZ1tkYXRhLWxhenldJywgXy4kc2xpZGVyICksXG4gICAgICAgICAgICBpbWFnZSxcbiAgICAgICAgICAgIGltYWdlU291cmNlLFxuICAgICAgICAgICAgaW1hZ2VUb0xvYWQ7XG5cbiAgICAgICAgaWYgKCAkaW1nc1RvTG9hZC5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgIGltYWdlID0gJGltZ3NUb0xvYWQuZmlyc3QoKTtcbiAgICAgICAgICAgIGltYWdlU291cmNlID0gaW1hZ2UuYXR0cignZGF0YS1sYXp5Jyk7XG4gICAgICAgICAgICBpbWFnZVRvTG9hZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuXG4gICAgICAgICAgICBpbWFnZVRvTG9hZC5vbmxvYWQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIGltYWdlXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCAnc3JjJywgaW1hZ2VTb3VyY2UgKVxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cignZGF0YS1sYXp5JylcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdzbGljay1sb2FkaW5nJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIF8ub3B0aW9ucy5hZGFwdGl2ZUhlaWdodCA9PT0gdHJ1ZSApIHtcbiAgICAgICAgICAgICAgICAgICAgXy5zZXRQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF8uJHNsaWRlci50cmlnZ2VyKCdsYXp5TG9hZGVkJywgWyBfLCBpbWFnZSwgaW1hZ2VTb3VyY2UgXSk7XG4gICAgICAgICAgICAgICAgXy5wcm9ncmVzc2l2ZUxhenlMb2FkKCk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGltYWdlVG9Mb2FkLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIGlmICggdHJ5Q291bnQgPCAzICkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiB0cnkgdG8gbG9hZCB0aGUgaW1hZ2UgMyB0aW1lcyxcbiAgICAgICAgICAgICAgICAgICAgICogbGVhdmUgYSBzbGlnaHQgZGVsYXkgc28gd2UgZG9uJ3QgZ2V0XG4gICAgICAgICAgICAgICAgICAgICAqIHNlcnZlcnMgYmxvY2tpbmcgdGhlIHJlcXVlc3QuXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8ucHJvZ3Jlc3NpdmVMYXp5TG9hZCggdHJ5Q291bnQgKyAxICk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDUwMCApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBpbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoICdkYXRhLWxhenknIClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcyggJ3NsaWNrLWxvYWRpbmcnIClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcyggJ3NsaWNrLWxhenlsb2FkLWVycm9yJyApO1xuXG4gICAgICAgICAgICAgICAgICAgIF8uJHNsaWRlci50cmlnZ2VyKCdsYXp5TG9hZEVycm9yJywgWyBfLCBpbWFnZSwgaW1hZ2VTb3VyY2UgXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgXy5wcm9ncmVzc2l2ZUxhenlMb2FkKCk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGltYWdlVG9Mb2FkLnNyYyA9IGltYWdlU291cmNlO1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIF8uJHNsaWRlci50cmlnZ2VyKCdhbGxJbWFnZXNMb2FkZWQnLCBbIF8gXSk7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24oIGluaXRpYWxpemluZyApIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsIGN1cnJlbnRTbGlkZSwgbGFzdFZpc2libGVJbmRleDtcblxuICAgICAgICBsYXN0VmlzaWJsZUluZGV4ID0gXy5zbGlkZUNvdW50IC0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdztcblxuICAgICAgICAvLyBpbiBub24taW5maW5pdGUgc2xpZGVycywgd2UgZG9uJ3Qgd2FudCB0byBnbyBwYXN0IHRoZVxuICAgICAgICAvLyBsYXN0IHZpc2libGUgaW5kZXguXG4gICAgICAgIGlmKCAhXy5vcHRpb25zLmluZmluaXRlICYmICggXy5jdXJyZW50U2xpZGUgPiBsYXN0VmlzaWJsZUluZGV4ICkpIHtcbiAgICAgICAgICAgIF8uY3VycmVudFNsaWRlID0gbGFzdFZpc2libGVJbmRleDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIGxlc3Mgc2xpZGVzIHRoYW4gdG8gc2hvdywgZ28gdG8gc3RhcnQuXG4gICAgICAgIGlmICggXy5zbGlkZUNvdW50IDw9IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgKSB7XG4gICAgICAgICAgICBfLmN1cnJlbnRTbGlkZSA9IDA7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnRTbGlkZSA9IF8uY3VycmVudFNsaWRlO1xuXG4gICAgICAgIF8uZGVzdHJveSh0cnVlKTtcblxuICAgICAgICAkLmV4dGVuZChfLCBfLmluaXRpYWxzLCB7IGN1cnJlbnRTbGlkZTogY3VycmVudFNsaWRlIH0pO1xuXG4gICAgICAgIF8uaW5pdCgpO1xuXG4gICAgICAgIGlmKCAhaW5pdGlhbGl6aW5nICkge1xuXG4gICAgICAgICAgICBfLmNoYW5nZVNsaWRlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdpbmRleCcsXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBjdXJyZW50U2xpZGVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBmYWxzZSk7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5yZWdpc3RlckJyZWFrcG9pbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLCBicmVha3BvaW50LCBjdXJyZW50QnJlYWtwb2ludCwgbCxcbiAgICAgICAgICAgIHJlc3BvbnNpdmVTZXR0aW5ncyA9IF8ub3B0aW9ucy5yZXNwb25zaXZlIHx8IG51bGw7XG5cbiAgICAgICAgaWYgKCAkLnR5cGUocmVzcG9uc2l2ZVNldHRpbmdzKSA9PT0gJ2FycmF5JyAmJiByZXNwb25zaXZlU2V0dGluZ3MubGVuZ3RoICkge1xuXG4gICAgICAgICAgICBfLnJlc3BvbmRUbyA9IF8ub3B0aW9ucy5yZXNwb25kVG8gfHwgJ3dpbmRvdyc7XG5cbiAgICAgICAgICAgIGZvciAoIGJyZWFrcG9pbnQgaW4gcmVzcG9uc2l2ZVNldHRpbmdzICkge1xuXG4gICAgICAgICAgICAgICAgbCA9IF8uYnJlYWtwb2ludHMubGVuZ3RoLTE7XG4gICAgICAgICAgICAgICAgY3VycmVudEJyZWFrcG9pbnQgPSByZXNwb25zaXZlU2V0dGluZ3NbYnJlYWtwb2ludF0uYnJlYWtwb2ludDtcblxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zaXZlU2V0dGluZ3MuaGFzT3duUHJvcGVydHkoYnJlYWtwb2ludCkpIHtcblxuICAgICAgICAgICAgICAgICAgICAvLyBsb29wIHRocm91Z2ggdGhlIGJyZWFrcG9pbnRzIGFuZCBjdXQgb3V0IGFueSBleGlzdGluZ1xuICAgICAgICAgICAgICAgICAgICAvLyBvbmVzIHdpdGggdGhlIHNhbWUgYnJlYWtwb2ludCBudW1iZXIsIHdlIGRvbid0IHdhbnQgZHVwZXMuXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlKCBsID49IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggXy5icmVha3BvaW50c1tsXSAmJiBfLmJyZWFrcG9pbnRzW2xdID09PSBjdXJyZW50QnJlYWtwb2ludCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmJyZWFrcG9pbnRzLnNwbGljZShsLDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbC0tO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgXy5icmVha3BvaW50cy5wdXNoKGN1cnJlbnRCcmVha3BvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgXy5icmVha3BvaW50U2V0dGluZ3NbY3VycmVudEJyZWFrcG9pbnRdID0gcmVzcG9uc2l2ZVNldHRpbmdzW2JyZWFrcG9pbnRdLnNldHRpbmdzO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF8uYnJlYWtwb2ludHMuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICggXy5vcHRpb25zLm1vYmlsZUZpcnN0ICkgPyBhLWIgOiBiLWE7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnJlaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBfLiRzbGlkZXMgPVxuICAgICAgICAgICAgXy4kc2xpZGVUcmFja1xuICAgICAgICAgICAgICAgIC5jaGlsZHJlbihfLm9wdGlvbnMuc2xpZGUpXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdzbGljay1zbGlkZScpO1xuXG4gICAgICAgIF8uc2xpZGVDb3VudCA9IF8uJHNsaWRlcy5sZW5ndGg7XG5cbiAgICAgICAgaWYgKF8uY3VycmVudFNsaWRlID49IF8uc2xpZGVDb3VudCAmJiBfLmN1cnJlbnRTbGlkZSAhPT0gMCkge1xuICAgICAgICAgICAgXy5jdXJyZW50U2xpZGUgPSBfLmN1cnJlbnRTbGlkZSAtIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLnNsaWRlQ291bnQgPD0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuICAgICAgICAgICAgXy5jdXJyZW50U2xpZGUgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgXy5yZWdpc3RlckJyZWFrcG9pbnRzKCk7XG5cbiAgICAgICAgXy5zZXRQcm9wcygpO1xuICAgICAgICBfLnNldHVwSW5maW5pdGUoKTtcbiAgICAgICAgXy5idWlsZEFycm93cygpO1xuICAgICAgICBfLnVwZGF0ZUFycm93cygpO1xuICAgICAgICBfLmluaXRBcnJvd0V2ZW50cygpO1xuICAgICAgICBfLmJ1aWxkRG90cygpO1xuICAgICAgICBfLnVwZGF0ZURvdHMoKTtcbiAgICAgICAgXy5pbml0RG90RXZlbnRzKCk7XG4gICAgICAgIF8uY2xlYW5VcFNsaWRlRXZlbnRzKCk7XG4gICAgICAgIF8uaW5pdFNsaWRlRXZlbnRzKCk7XG5cbiAgICAgICAgXy5jaGVja1Jlc3BvbnNpdmUoZmFsc2UsIHRydWUpO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuZm9jdXNPblNlbGVjdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgJChfLiRzbGlkZVRyYWNrKS5jaGlsZHJlbigpLm9uKCdjbGljay5zbGljaycsIF8uc2VsZWN0SGFuZGxlcik7XG4gICAgICAgIH1cblxuICAgICAgICBfLnNldFNsaWRlQ2xhc3Nlcyh0eXBlb2YgXy5jdXJyZW50U2xpZGUgPT09ICdudW1iZXInID8gXy5jdXJyZW50U2xpZGUgOiAwKTtcblxuICAgICAgICBfLnNldFBvc2l0aW9uKCk7XG4gICAgICAgIF8uZm9jdXNIYW5kbGVyKCk7XG5cbiAgICAgICAgXy5wYXVzZWQgPSAhXy5vcHRpb25zLmF1dG9wbGF5O1xuICAgICAgICBfLmF1dG9QbGF5KCk7XG5cbiAgICAgICAgXy4kc2xpZGVyLnRyaWdnZXIoJ3JlSW5pdCcsIFtfXSk7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgIT09IF8ud2luZG93V2lkdGgpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChfLndpbmRvd0RlbGF5KTtcbiAgICAgICAgICAgIF8ud2luZG93RGVsYXkgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfLndpbmRvd1dpZHRoID0gJCh3aW5kb3cpLndpZHRoKCk7XG4gICAgICAgICAgICAgICAgXy5jaGVja1Jlc3BvbnNpdmUoKTtcbiAgICAgICAgICAgICAgICBpZiggIV8udW5zbGlja2VkICkgeyBfLnNldFBvc2l0aW9uKCk7IH1cbiAgICAgICAgICAgIH0sIDUwKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUucmVtb3ZlU2xpZGUgPSBTbGljay5wcm90b3R5cGUuc2xpY2tSZW1vdmUgPSBmdW5jdGlvbihpbmRleCwgcmVtb3ZlQmVmb3JlLCByZW1vdmVBbGwpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHR5cGVvZihpbmRleCkgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgcmVtb3ZlQmVmb3JlID0gaW5kZXg7XG4gICAgICAgICAgICBpbmRleCA9IHJlbW92ZUJlZm9yZSA9PT0gdHJ1ZSA/IDAgOiBfLnNsaWRlQ291bnQgLSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5kZXggPSByZW1vdmVCZWZvcmUgPT09IHRydWUgPyAtLWluZGV4IDogaW5kZXg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy5zbGlkZUNvdW50IDwgMSB8fCBpbmRleCA8IDAgfHwgaW5kZXggPiBfLnNsaWRlQ291bnQgLSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBfLnVubG9hZCgpO1xuXG4gICAgICAgIGlmIChyZW1vdmVBbGwgPT09IHRydWUpIHtcbiAgICAgICAgICAgIF8uJHNsaWRlVHJhY2suY2hpbGRyZW4oKS5yZW1vdmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF8uJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5lcShpbmRleCkucmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBfLiRzbGlkZXMgPSBfLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSk7XG5cbiAgICAgICAgXy4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpLmRldGFjaCgpO1xuXG4gICAgICAgIF8uJHNsaWRlVHJhY2suYXBwZW5kKF8uJHNsaWRlcyk7XG5cbiAgICAgICAgXy4kc2xpZGVzQ2FjaGUgPSBfLiRzbGlkZXM7XG5cbiAgICAgICAgXy5yZWluaXQoKTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuc2V0Q1NTID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICBwb3NpdGlvblByb3BzID0ge30sXG4gICAgICAgICAgICB4LCB5O1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMucnRsID09PSB0cnVlKSB7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IC1wb3NpdGlvbjtcbiAgICAgICAgfVxuICAgICAgICB4ID0gXy5wb3NpdGlvblByb3AgPT0gJ2xlZnQnID8gTWF0aC5jZWlsKHBvc2l0aW9uKSArICdweCcgOiAnMHB4JztcbiAgICAgICAgeSA9IF8ucG9zaXRpb25Qcm9wID09ICd0b3AnID8gTWF0aC5jZWlsKHBvc2l0aW9uKSArICdweCcgOiAnMHB4JztcblxuICAgICAgICBwb3NpdGlvblByb3BzW18ucG9zaXRpb25Qcm9wXSA9IHBvc2l0aW9uO1xuXG4gICAgICAgIGlmIChfLnRyYW5zZm9ybXNFbmFibGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgXy4kc2xpZGVUcmFjay5jc3MocG9zaXRpb25Qcm9wcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb3NpdGlvblByb3BzID0ge307XG4gICAgICAgICAgICBpZiAoXy5jc3NUcmFuc2l0aW9ucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblByb3BzW18uYW5pbVR5cGVdID0gJ3RyYW5zbGF0ZSgnICsgeCArICcsICcgKyB5ICsgJyknO1xuICAgICAgICAgICAgICAgIF8uJHNsaWRlVHJhY2suY3NzKHBvc2l0aW9uUHJvcHMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblByb3BzW18uYW5pbVR5cGVdID0gJ3RyYW5zbGF0ZTNkKCcgKyB4ICsgJywgJyArIHkgKyAnLCAwcHgpJztcbiAgICAgICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmNzcyhwb3NpdGlvblByb3BzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5zZXREaW1lbnNpb25zID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMudmVydGljYWwgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAoXy5vcHRpb25zLmNlbnRlck1vZGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBfLiRsaXN0LmNzcyh7XG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICgnMHB4ICcgKyBfLm9wdGlvbnMuY2VudGVyUGFkZGluZylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF8uJGxpc3QuaGVpZ2h0KF8uJHNsaWRlcy5maXJzdCgpLm91dGVySGVpZ2h0KHRydWUpICogXy5vcHRpb25zLnNsaWRlc1RvU2hvdyk7XG4gICAgICAgICAgICBpZiAoXy5vcHRpb25zLmNlbnRlck1vZGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBfLiRsaXN0LmNzcyh7XG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IChfLm9wdGlvbnMuY2VudGVyUGFkZGluZyArICcgMHB4JylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIF8ubGlzdFdpZHRoID0gXy4kbGlzdC53aWR0aCgpO1xuICAgICAgICBfLmxpc3RIZWlnaHQgPSBfLiRsaXN0LmhlaWdodCgpO1xuXG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy52ZXJ0aWNhbCA9PT0gZmFsc2UgJiYgXy5vcHRpb25zLnZhcmlhYmxlV2lkdGggPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBfLnNsaWRlV2lkdGggPSBNYXRoLmNlaWwoXy5saXN0V2lkdGggLyBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KTtcbiAgICAgICAgICAgIF8uJHNsaWRlVHJhY2sud2lkdGgoTWF0aC5jZWlsKChfLnNsaWRlV2lkdGggKiBfLiRzbGlkZVRyYWNrLmNoaWxkcmVuKCcuc2xpY2stc2xpZGUnKS5sZW5ndGgpKSk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChfLm9wdGlvbnMudmFyaWFibGVXaWR0aCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgXy4kc2xpZGVUcmFjay53aWR0aCg1MDAwICogXy5zbGlkZUNvdW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF8uc2xpZGVXaWR0aCA9IE1hdGguY2VpbChfLmxpc3RXaWR0aCk7XG4gICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmhlaWdodChNYXRoLmNlaWwoKF8uJHNsaWRlcy5maXJzdCgpLm91dGVySGVpZ2h0KHRydWUpICogXy4kc2xpZGVUcmFjay5jaGlsZHJlbignLnNsaWNrLXNsaWRlJykubGVuZ3RoKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG9mZnNldCA9IF8uJHNsaWRlcy5maXJzdCgpLm91dGVyV2lkdGgodHJ1ZSkgLSBfLiRzbGlkZXMuZmlyc3QoKS53aWR0aCgpO1xuICAgICAgICBpZiAoXy5vcHRpb25zLnZhcmlhYmxlV2lkdGggPT09IGZhbHNlKSBfLiRzbGlkZVRyYWNrLmNoaWxkcmVuKCcuc2xpY2stc2xpZGUnKS53aWR0aChfLnNsaWRlV2lkdGggLSBvZmZzZXQpO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5zZXRGYWRlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgdGFyZ2V0TGVmdDtcblxuICAgICAgICBfLiRzbGlkZXMuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuICAgICAgICAgICAgdGFyZ2V0TGVmdCA9IChfLnNsaWRlV2lkdGggKiBpbmRleCkgKiAtMTtcbiAgICAgICAgICAgIGlmIChfLm9wdGlvbnMucnRsID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgJChlbGVtZW50KS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHRhcmdldExlZnQsXG4gICAgICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICAgICAgekluZGV4OiBfLm9wdGlvbnMuekluZGV4IC0gMixcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKGVsZW1lbnQpLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiB0YXJnZXRMZWZ0LFxuICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgIHpJbmRleDogXy5vcHRpb25zLnpJbmRleCAtIDIsXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgXy4kc2xpZGVzLmVxKF8uY3VycmVudFNsaWRlKS5jc3Moe1xuICAgICAgICAgICAgekluZGV4OiBfLm9wdGlvbnMuekluZGV4IC0gMSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnNldEhlaWdodCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoXy5vcHRpb25zLnNsaWRlc1RvU2hvdyA9PT0gMSAmJiBfLm9wdGlvbnMuYWRhcHRpdmVIZWlnaHQgPT09IHRydWUgJiYgXy5vcHRpb25zLnZlcnRpY2FsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdmFyIHRhcmdldEhlaWdodCA9IF8uJHNsaWRlcy5lcShfLmN1cnJlbnRTbGlkZSkub3V0ZXJIZWlnaHQodHJ1ZSk7XG4gICAgICAgICAgICBfLiRsaXN0LmNzcygnaGVpZ2h0JywgdGFyZ2V0SGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5zZXRPcHRpb24gPVxuICAgIFNsaWNrLnByb3RvdHlwZS5zbGlja1NldE9wdGlvbiA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhY2NlcHRzIGFyZ3VtZW50cyBpbiBmb3JtYXQgb2Y6XG4gICAgICAgICAqXG4gICAgICAgICAqICAtIGZvciBjaGFuZ2luZyBhIHNpbmdsZSBvcHRpb24ncyB2YWx1ZTpcbiAgICAgICAgICogICAgIC5zbGljayhcInNldE9wdGlvblwiLCBvcHRpb24sIHZhbHVlLCByZWZyZXNoIClcbiAgICAgICAgICpcbiAgICAgICAgICogIC0gZm9yIGNoYW5naW5nIGEgc2V0IG9mIHJlc3BvbnNpdmUgb3B0aW9uczpcbiAgICAgICAgICogICAgIC5zbGljayhcInNldE9wdGlvblwiLCAncmVzcG9uc2l2ZScsIFt7fSwgLi4uXSwgcmVmcmVzaCApXG4gICAgICAgICAqXG4gICAgICAgICAqICAtIGZvciB1cGRhdGluZyBtdWx0aXBsZSB2YWx1ZXMgYXQgb25jZSAobm90IHJlc3BvbnNpdmUpXG4gICAgICAgICAqICAgICAuc2xpY2soXCJzZXRPcHRpb25cIiwgeyAnb3B0aW9uJzogdmFsdWUsIC4uLiB9LCByZWZyZXNoIClcbiAgICAgICAgICovXG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLCBsLCBpdGVtLCBvcHRpb24sIHZhbHVlLCByZWZyZXNoID0gZmFsc2UsIHR5cGU7XG5cbiAgICAgICAgaWYoICQudHlwZSggYXJndW1lbnRzWzBdICkgPT09ICdvYmplY3QnICkge1xuXG4gICAgICAgICAgICBvcHRpb24gPSAgYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgcmVmcmVzaCA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgICAgIHR5cGUgPSAnbXVsdGlwbGUnO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoICQudHlwZSggYXJndW1lbnRzWzBdICkgPT09ICdzdHJpbmcnICkge1xuXG4gICAgICAgICAgICBvcHRpb24gPSAgYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgdmFsdWUgPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICByZWZyZXNoID0gYXJndW1lbnRzWzJdO1xuXG4gICAgICAgICAgICBpZiAoIGFyZ3VtZW50c1swXSA9PT0gJ3Jlc3BvbnNpdmUnICYmICQudHlwZSggYXJndW1lbnRzWzFdICkgPT09ICdhcnJheScgKSB7XG5cbiAgICAgICAgICAgICAgICB0eXBlID0gJ3Jlc3BvbnNpdmUnO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCB0eXBlb2YgYXJndW1lbnRzWzFdICE9PSAndW5kZWZpbmVkJyApIHtcblxuICAgICAgICAgICAgICAgIHR5cGUgPSAnc2luZ2xlJztcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIHR5cGUgPT09ICdzaW5nbGUnICkge1xuXG4gICAgICAgICAgICBfLm9wdGlvbnNbb3B0aW9uXSA9IHZhbHVlO1xuXG5cbiAgICAgICAgfSBlbHNlIGlmICggdHlwZSA9PT0gJ211bHRpcGxlJyApIHtcblxuICAgICAgICAgICAgJC5lYWNoKCBvcHRpb24gLCBmdW5jdGlvbiggb3B0LCB2YWwgKSB7XG5cbiAgICAgICAgICAgICAgICBfLm9wdGlvbnNbb3B0XSA9IHZhbDtcblxuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICB9IGVsc2UgaWYgKCB0eXBlID09PSAncmVzcG9uc2l2ZScgKSB7XG5cbiAgICAgICAgICAgIGZvciAoIGl0ZW0gaW4gdmFsdWUgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiggJC50eXBlKCBfLm9wdGlvbnMucmVzcG9uc2l2ZSApICE9PSAnYXJyYXknICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF8ub3B0aW9ucy5yZXNwb25zaXZlID0gWyB2YWx1ZVtpdGVtXSBdO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBsID0gXy5vcHRpb25zLnJlc3BvbnNpdmUubGVuZ3RoLTE7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSByZXNwb25zaXZlIG9iamVjdCBhbmQgc3BsaWNlIG91dCBkdXBsaWNhdGVzLlxuICAgICAgICAgICAgICAgICAgICB3aGlsZSggbCA+PSAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggXy5vcHRpb25zLnJlc3BvbnNpdmVbbF0uYnJlYWtwb2ludCA9PT0gdmFsdWVbaXRlbV0uYnJlYWtwb2ludCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ub3B0aW9ucy5yZXNwb25zaXZlLnNwbGljZShsLDEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGwtLTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgXy5vcHRpb25zLnJlc3BvbnNpdmUucHVzaCggdmFsdWVbaXRlbV0gKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIHJlZnJlc2ggKSB7XG5cbiAgICAgICAgICAgIF8udW5sb2FkKCk7XG4gICAgICAgICAgICBfLnJlaW5pdCgpO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuc2V0UG9zaXRpb24gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgXy5zZXREaW1lbnNpb25zKCk7XG5cbiAgICAgICAgXy5zZXRIZWlnaHQoKTtcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmZhZGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBfLnNldENTUyhfLmdldExlZnQoXy5jdXJyZW50U2xpZGUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF8uc2V0RmFkZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgXy4kc2xpZGVyLnRyaWdnZXIoJ3NldFBvc2l0aW9uJywgW19dKTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuc2V0UHJvcHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICBib2R5U3R5bGUgPSBkb2N1bWVudC5ib2R5LnN0eWxlO1xuXG4gICAgICAgIF8ucG9zaXRpb25Qcm9wID0gXy5vcHRpb25zLnZlcnRpY2FsID09PSB0cnVlID8gJ3RvcCcgOiAnbGVmdCc7XG5cbiAgICAgICAgaWYgKF8ucG9zaXRpb25Qcm9wID09PSAndG9wJykge1xuICAgICAgICAgICAgXy4kc2xpZGVyLmFkZENsYXNzKCdzbGljay12ZXJ0aWNhbCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgXy4kc2xpZGVyLnJlbW92ZUNsYXNzKCdzbGljay12ZXJ0aWNhbCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJvZHlTdHlsZS5XZWJraXRUcmFuc2l0aW9uICE9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIGJvZHlTdHlsZS5Nb3pUcmFuc2l0aW9uICE9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIGJvZHlTdHlsZS5tc1RyYW5zaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy51c2VDU1MgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBfLmNzc1RyYW5zaXRpb25zID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggXy5vcHRpb25zLmZhZGUgKSB7XG4gICAgICAgICAgICBpZiAoIHR5cGVvZiBfLm9wdGlvbnMuekluZGV4ID09PSAnbnVtYmVyJyApIHtcbiAgICAgICAgICAgICAgICBpZiggXy5vcHRpb25zLnpJbmRleCA8IDMgKSB7XG4gICAgICAgICAgICAgICAgICAgIF8ub3B0aW9ucy56SW5kZXggPSAzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgXy5vcHRpb25zLnpJbmRleCA9IF8uZGVmYXVsdHMuekluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJvZHlTdHlsZS5PVHJhbnNmb3JtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIF8uYW5pbVR5cGUgPSAnT1RyYW5zZm9ybSc7XG4gICAgICAgICAgICBfLnRyYW5zZm9ybVR5cGUgPSAnLW8tdHJhbnNmb3JtJztcbiAgICAgICAgICAgIF8udHJhbnNpdGlvblR5cGUgPSAnT1RyYW5zaXRpb24nO1xuICAgICAgICAgICAgaWYgKGJvZHlTdHlsZS5wZXJzcGVjdGl2ZVByb3BlcnR5ID09PSB1bmRlZmluZWQgJiYgYm9keVN0eWxlLndlYmtpdFBlcnNwZWN0aXZlID09PSB1bmRlZmluZWQpIF8uYW5pbVR5cGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYm9keVN0eWxlLk1velRyYW5zZm9ybSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBfLmFuaW1UeXBlID0gJ01velRyYW5zZm9ybSc7XG4gICAgICAgICAgICBfLnRyYW5zZm9ybVR5cGUgPSAnLW1vei10cmFuc2Zvcm0nO1xuICAgICAgICAgICAgXy50cmFuc2l0aW9uVHlwZSA9ICdNb3pUcmFuc2l0aW9uJztcbiAgICAgICAgICAgIGlmIChib2R5U3R5bGUucGVyc3BlY3RpdmVQcm9wZXJ0eSA9PT0gdW5kZWZpbmVkICYmIGJvZHlTdHlsZS5Nb3pQZXJzcGVjdGl2ZSA9PT0gdW5kZWZpbmVkKSBfLmFuaW1UeXBlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJvZHlTdHlsZS53ZWJraXRUcmFuc2Zvcm0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgXy5hbmltVHlwZSA9ICd3ZWJraXRUcmFuc2Zvcm0nO1xuICAgICAgICAgICAgXy50cmFuc2Zvcm1UeXBlID0gJy13ZWJraXQtdHJhbnNmb3JtJztcbiAgICAgICAgICAgIF8udHJhbnNpdGlvblR5cGUgPSAnd2Via2l0VHJhbnNpdGlvbic7XG4gICAgICAgICAgICBpZiAoYm9keVN0eWxlLnBlcnNwZWN0aXZlUHJvcGVydHkgPT09IHVuZGVmaW5lZCAmJiBib2R5U3R5bGUud2Via2l0UGVyc3BlY3RpdmUgPT09IHVuZGVmaW5lZCkgXy5hbmltVHlwZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChib2R5U3R5bGUubXNUcmFuc2Zvcm0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgXy5hbmltVHlwZSA9ICdtc1RyYW5zZm9ybSc7XG4gICAgICAgICAgICBfLnRyYW5zZm9ybVR5cGUgPSAnLW1zLXRyYW5zZm9ybSc7XG4gICAgICAgICAgICBfLnRyYW5zaXRpb25UeXBlID0gJ21zVHJhbnNpdGlvbic7XG4gICAgICAgICAgICBpZiAoYm9keVN0eWxlLm1zVHJhbnNmb3JtID09PSB1bmRlZmluZWQpIF8uYW5pbVR5cGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYm9keVN0eWxlLnRyYW5zZm9ybSAhPT0gdW5kZWZpbmVkICYmIF8uYW5pbVR5cGUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBfLmFuaW1UeXBlID0gJ3RyYW5zZm9ybSc7XG4gICAgICAgICAgICBfLnRyYW5zZm9ybVR5cGUgPSAndHJhbnNmb3JtJztcbiAgICAgICAgICAgIF8udHJhbnNpdGlvblR5cGUgPSAndHJhbnNpdGlvbic7XG4gICAgICAgIH1cbiAgICAgICAgXy50cmFuc2Zvcm1zRW5hYmxlZCA9IF8ub3B0aW9ucy51c2VUcmFuc2Zvcm0gJiYgKF8uYW5pbVR5cGUgIT09IG51bGwgJiYgXy5hbmltVHlwZSAhPT0gZmFsc2UpO1xuICAgIH07XG5cblxuICAgIFNsaWNrLnByb3RvdHlwZS5zZXRTbGlkZUNsYXNzZXMgPSBmdW5jdGlvbihpbmRleCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgIGNlbnRlck9mZnNldCwgYWxsU2xpZGVzLCBpbmRleE9mZnNldCwgcmVtYWluZGVyO1xuXG4gICAgICAgIGFsbFNsaWRlcyA9IF8uJHNsaWRlclxuICAgICAgICAgICAgLmZpbmQoJy5zbGljay1zbGlkZScpXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ3NsaWNrLWFjdGl2ZSBzbGljay1jZW50ZXIgc2xpY2stY3VycmVudCcpXG4gICAgICAgICAgICAuYXR0cignYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuXG4gICAgICAgIF8uJHNsaWRlc1xuICAgICAgICAgICAgLmVxKGluZGV4KVxuICAgICAgICAgICAgLmFkZENsYXNzKCdzbGljay1jdXJyZW50Jyk7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5jZW50ZXJNb2RlID09PSB0cnVlKSB7XG5cbiAgICAgICAgICAgIGNlbnRlck9mZnNldCA9IE1hdGguZmxvb3IoXy5vcHRpb25zLnNsaWRlc1RvU2hvdyAvIDIpO1xuXG4gICAgICAgICAgICBpZiAoXy5vcHRpb25zLmluZmluaXRlID09PSB0cnVlKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gY2VudGVyT2Zmc2V0ICYmIGluZGV4IDw9IChfLnNsaWRlQ291bnQgLSAxKSAtIGNlbnRlck9mZnNldCkge1xuXG4gICAgICAgICAgICAgICAgICAgIF8uJHNsaWRlc1xuICAgICAgICAgICAgICAgICAgICAgICAgLnNsaWNlKGluZGV4IC0gY2VudGVyT2Zmc2V0LCBpbmRleCArIGNlbnRlck9mZnNldCArIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3NsaWNrLWFjdGl2ZScpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaW5kZXhPZmZzZXQgPSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93ICsgaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGFsbFNsaWRlc1xuICAgICAgICAgICAgICAgICAgICAgICAgLnNsaWNlKGluZGV4T2Zmc2V0IC0gY2VudGVyT2Zmc2V0ICsgMSwgaW5kZXhPZmZzZXQgKyBjZW50ZXJPZmZzZXQgKyAyKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdzbGljay1hY3RpdmUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcblxuICAgICAgICAgICAgICAgICAgICBhbGxTbGlkZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lcShhbGxTbGlkZXMubGVuZ3RoIC0gMSAtIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3NsaWNrLWNlbnRlcicpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gXy5zbGlkZUNvdW50IC0gMSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGFsbFNsaWRlc1xuICAgICAgICAgICAgICAgICAgICAgICAgLmVxKF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3NsaWNrLWNlbnRlcicpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF8uJHNsaWRlc1xuICAgICAgICAgICAgICAgIC5lcShpbmRleClcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3NsaWNrLWNlbnRlcicpO1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDw9IChfLnNsaWRlQ291bnQgLSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSkge1xuXG4gICAgICAgICAgICAgICAgXy4kc2xpZGVzXG4gICAgICAgICAgICAgICAgICAgIC5zbGljZShpbmRleCwgaW5kZXggKyBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KVxuICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3NsaWNrLWFjdGl2ZScpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFsbFNsaWRlcy5sZW5ndGggPD0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuXG4gICAgICAgICAgICAgICAgYWxsU2xpZGVzXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnc2xpY2stYWN0aXZlJylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICByZW1haW5kZXIgPSBfLnNsaWRlQ291bnQgJSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93O1xuICAgICAgICAgICAgICAgIGluZGV4T2Zmc2V0ID0gXy5vcHRpb25zLmluZmluaXRlID09PSB0cnVlID8gXy5vcHRpb25zLnNsaWRlc1RvU2hvdyArIGluZGV4IDogaW5kZXg7XG5cbiAgICAgICAgICAgICAgICBpZiAoXy5vcHRpb25zLnNsaWRlc1RvU2hvdyA9PSBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgJiYgKF8uc2xpZGVDb3VudCAtIGluZGV4KSA8IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcblxuICAgICAgICAgICAgICAgICAgICBhbGxTbGlkZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zbGljZShpbmRleE9mZnNldCAtIChfLm9wdGlvbnMuc2xpZGVzVG9TaG93IC0gcmVtYWluZGVyKSwgaW5kZXhPZmZzZXQgKyByZW1haW5kZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3NsaWNrLWFjdGl2ZScpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgYWxsU2xpZGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2xpY2UoaW5kZXhPZmZzZXQsIGluZGV4T2Zmc2V0ICsgXy5vcHRpb25zLnNsaWRlc1RvU2hvdylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnc2xpY2stYWN0aXZlJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLm9wdGlvbnMubGF6eUxvYWQgPT09ICdvbmRlbWFuZCcpIHtcbiAgICAgICAgICAgIF8ubGF6eUxvYWQoKTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5zZXR1cEluZmluaXRlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgaSwgc2xpZGVJbmRleCwgaW5maW5pdGVDb3VudDtcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmZhZGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIF8ub3B0aW9ucy5jZW50ZXJNb2RlID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy5vcHRpb25zLmluZmluaXRlID09PSB0cnVlICYmIF8ub3B0aW9ucy5mYWRlID09PSBmYWxzZSkge1xuXG4gICAgICAgICAgICBzbGlkZUluZGV4ID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKF8uc2xpZGVDb3VudCA+IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcblxuICAgICAgICAgICAgICAgIGlmIChfLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpbmZpbml0ZUNvdW50ID0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdyArIDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaW5maW5pdGVDb3VudCA9IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3c7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZm9yIChpID0gXy5zbGlkZUNvdW50OyBpID4gKF8uc2xpZGVDb3VudCAtXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZpbml0ZUNvdW50KTsgaSAtPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHNsaWRlSW5kZXggPSBpIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgJChfLiRzbGlkZXNbc2xpZGVJbmRleF0pLmNsb25lKHRydWUpLmF0dHIoJ2lkJywgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignZGF0YS1zbGljay1pbmRleCcsIHNsaWRlSW5kZXggLSBfLnNsaWRlQ291bnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAucHJlcGVuZFRvKF8uJHNsaWRlVHJhY2spLmFkZENsYXNzKCdzbGljay1jbG9uZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGluZmluaXRlQ291bnQ7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICBzbGlkZUluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgJChfLiRzbGlkZXNbc2xpZGVJbmRleF0pLmNsb25lKHRydWUpLmF0dHIoJ2lkJywgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignZGF0YS1zbGljay1pbmRleCcsIHNsaWRlSW5kZXggKyBfLnNsaWRlQ291bnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kVG8oXy4kc2xpZGVUcmFjaykuYWRkQ2xhc3MoJ3NsaWNrLWNsb25lZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmZpbmQoJy5zbGljay1jbG9uZWQnKS5maW5kKCdbaWRdJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdpZCcsICcnKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuaW50ZXJydXB0ID0gZnVuY3Rpb24oIHRvZ2dsZSApIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYoICF0b2dnbGUgKSB7XG4gICAgICAgICAgICBfLmF1dG9QbGF5KCk7XG4gICAgICAgIH1cbiAgICAgICAgXy5pbnRlcnJ1cHRlZCA9IHRvZ2dsZTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuc2VsZWN0SGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIHZhciB0YXJnZXRFbGVtZW50ID1cbiAgICAgICAgICAgICQoZXZlbnQudGFyZ2V0KS5pcygnLnNsaWNrLXNsaWRlJykgP1xuICAgICAgICAgICAgICAgICQoZXZlbnQudGFyZ2V0KSA6XG4gICAgICAgICAgICAgICAgJChldmVudC50YXJnZXQpLnBhcmVudHMoJy5zbGljay1zbGlkZScpO1xuXG4gICAgICAgIHZhciBpbmRleCA9IHBhcnNlSW50KHRhcmdldEVsZW1lbnQuYXR0cignZGF0YS1zbGljay1pbmRleCcpKTtcblxuICAgICAgICBpZiAoIWluZGV4KSBpbmRleCA9IDA7XG5cbiAgICAgICAgaWYgKF8uc2xpZGVDb3VudCA8PSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG5cbiAgICAgICAgICAgIF8uc2V0U2xpZGVDbGFzc2VzKGluZGV4KTtcbiAgICAgICAgICAgIF8uYXNOYXZGb3IoaW5kZXgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIH1cblxuICAgICAgICBfLnNsaWRlSGFuZGxlcihpbmRleCk7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnNsaWRlSGFuZGxlciA9IGZ1bmN0aW9uKGluZGV4LCBzeW5jLCBkb250QW5pbWF0ZSkge1xuXG4gICAgICAgIHZhciB0YXJnZXRTbGlkZSwgYW5pbVNsaWRlLCBvbGRTbGlkZSwgc2xpZGVMZWZ0LCB0YXJnZXRMZWZ0ID0gbnVsbCxcbiAgICAgICAgICAgIF8gPSB0aGlzLCBuYXZUYXJnZXQ7XG5cbiAgICAgICAgc3luYyA9IHN5bmMgfHwgZmFsc2U7XG5cbiAgICAgICAgaWYgKF8uYW5pbWF0aW5nID09PSB0cnVlICYmIF8ub3B0aW9ucy53YWl0Rm9yQW5pbWF0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5mYWRlID09PSB0cnVlICYmIF8uY3VycmVudFNsaWRlID09PSBpbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8uc2xpZGVDb3VudCA8PSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIF8uYXNOYXZGb3IoaW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFyZ2V0U2xpZGUgPSBpbmRleDtcbiAgICAgICAgdGFyZ2V0TGVmdCA9IF8uZ2V0TGVmdCh0YXJnZXRTbGlkZSk7XG4gICAgICAgIHNsaWRlTGVmdCA9IF8uZ2V0TGVmdChfLmN1cnJlbnRTbGlkZSk7XG5cbiAgICAgICAgXy5jdXJyZW50TGVmdCA9IF8uc3dpcGVMZWZ0ID09PSBudWxsID8gc2xpZGVMZWZ0IDogXy5zd2lwZUxlZnQ7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5pbmZpbml0ZSA9PT0gZmFsc2UgJiYgXy5vcHRpb25zLmNlbnRlck1vZGUgPT09IGZhbHNlICYmIChpbmRleCA8IDAgfHwgaW5kZXggPiBfLmdldERvdENvdW50KCkgKiBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwpKSB7XG4gICAgICAgICAgICBpZiAoXy5vcHRpb25zLmZhZGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0U2xpZGUgPSBfLmN1cnJlbnRTbGlkZTtcbiAgICAgICAgICAgICAgICBpZiAoZG9udEFuaW1hdGUgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgXy5hbmltYXRlU2xpZGUoc2xpZGVMZWZ0LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8ucG9zdFNsaWRlKHRhcmdldFNsaWRlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgXy5wb3N0U2xpZGUodGFyZ2V0U2xpZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChfLm9wdGlvbnMuaW5maW5pdGUgPT09IGZhbHNlICYmIF8ub3B0aW9ucy5jZW50ZXJNb2RlID09PSB0cnVlICYmIChpbmRleCA8IDAgfHwgaW5kZXggPiAoXy5zbGlkZUNvdW50IC0gXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKSkpIHtcbiAgICAgICAgICAgIGlmIChfLm9wdGlvbnMuZmFkZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRTbGlkZSA9IF8uY3VycmVudFNsaWRlO1xuICAgICAgICAgICAgICAgIGlmIChkb250QW5pbWF0ZSAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBfLmFuaW1hdGVTbGlkZShzbGlkZUxlZnQsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5wb3N0U2xpZGUodGFyZ2V0U2xpZGUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfLnBvc3RTbGlkZSh0YXJnZXRTbGlkZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBfLm9wdGlvbnMuYXV0b3BsYXkgKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKF8uYXV0b1BsYXlUaW1lcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFyZ2V0U2xpZGUgPCAwKSB7XG4gICAgICAgICAgICBpZiAoXy5zbGlkZUNvdW50ICUgXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgYW5pbVNsaWRlID0gXy5zbGlkZUNvdW50IC0gKF8uc2xpZGVDb3VudCAlIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFuaW1TbGlkZSA9IF8uc2xpZGVDb3VudCArIHRhcmdldFNsaWRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRhcmdldFNsaWRlID49IF8uc2xpZGVDb3VudCkge1xuICAgICAgICAgICAgaWYgKF8uc2xpZGVDb3VudCAlIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGFuaW1TbGlkZSA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFuaW1TbGlkZSA9IHRhcmdldFNsaWRlIC0gXy5zbGlkZUNvdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYW5pbVNsaWRlID0gdGFyZ2V0U2xpZGU7XG4gICAgICAgIH1cblxuICAgICAgICBfLmFuaW1hdGluZyA9IHRydWU7XG5cbiAgICAgICAgXy4kc2xpZGVyLnRyaWdnZXIoJ2JlZm9yZUNoYW5nZScsIFtfLCBfLmN1cnJlbnRTbGlkZSwgYW5pbVNsaWRlXSk7XG5cbiAgICAgICAgb2xkU2xpZGUgPSBfLmN1cnJlbnRTbGlkZTtcbiAgICAgICAgXy5jdXJyZW50U2xpZGUgPSBhbmltU2xpZGU7XG5cbiAgICAgICAgXy5zZXRTbGlkZUNsYXNzZXMoXy5jdXJyZW50U2xpZGUpO1xuXG4gICAgICAgIGlmICggXy5vcHRpb25zLmFzTmF2Rm9yICkge1xuXG4gICAgICAgICAgICBuYXZUYXJnZXQgPSBfLmdldE5hdlRhcmdldCgpO1xuICAgICAgICAgICAgbmF2VGFyZ2V0ID0gbmF2VGFyZ2V0LnNsaWNrKCdnZXRTbGljaycpO1xuXG4gICAgICAgICAgICBpZiAoIG5hdlRhcmdldC5zbGlkZUNvdW50IDw9IG5hdlRhcmdldC5vcHRpb25zLnNsaWRlc1RvU2hvdyApIHtcbiAgICAgICAgICAgICAgICBuYXZUYXJnZXQuc2V0U2xpZGVDbGFzc2VzKF8uY3VycmVudFNsaWRlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgXy51cGRhdGVEb3RzKCk7XG4gICAgICAgIF8udXBkYXRlQXJyb3dzKCk7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5mYWRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBpZiAoZG9udEFuaW1hdGUgIT09IHRydWUpIHtcblxuICAgICAgICAgICAgICAgIF8uZmFkZVNsaWRlT3V0KG9sZFNsaWRlKTtcblxuICAgICAgICAgICAgICAgIF8uZmFkZVNsaWRlKGFuaW1TbGlkZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIF8ucG9zdFNsaWRlKGFuaW1TbGlkZSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgXy5wb3N0U2xpZGUoYW5pbVNsaWRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF8uYW5pbWF0ZUhlaWdodCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRvbnRBbmltYXRlICE9PSB0cnVlKSB7XG4gICAgICAgICAgICBfLmFuaW1hdGVTbGlkZSh0YXJnZXRMZWZ0LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfLnBvc3RTbGlkZShhbmltU2xpZGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfLnBvc3RTbGlkZShhbmltU2xpZGUpO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnN0YXJ0TG9hZCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmFycm93cyA9PT0gdHJ1ZSAmJiBfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG5cbiAgICAgICAgICAgIF8uJHByZXZBcnJvdy5oaWRlKCk7XG4gICAgICAgICAgICBfLiRuZXh0QXJyb3cuaGlkZSgpO1xuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy5vcHRpb25zLmRvdHMgPT09IHRydWUgJiYgXy5zbGlkZUNvdW50ID4gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuXG4gICAgICAgICAgICBfLiRkb3RzLmhpZGUoKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgXy4kc2xpZGVyLmFkZENsYXNzKCdzbGljay1sb2FkaW5nJyk7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnN3aXBlRGlyZWN0aW9uID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIHhEaXN0LCB5RGlzdCwgciwgc3dpcGVBbmdsZSwgXyA9IHRoaXM7XG5cbiAgICAgICAgeERpc3QgPSBfLnRvdWNoT2JqZWN0LnN0YXJ0WCAtIF8udG91Y2hPYmplY3QuY3VyWDtcbiAgICAgICAgeURpc3QgPSBfLnRvdWNoT2JqZWN0LnN0YXJ0WSAtIF8udG91Y2hPYmplY3QuY3VyWTtcbiAgICAgICAgciA9IE1hdGguYXRhbjIoeURpc3QsIHhEaXN0KTtcblxuICAgICAgICBzd2lwZUFuZ2xlID0gTWF0aC5yb3VuZChyICogMTgwIC8gTWF0aC5QSSk7XG4gICAgICAgIGlmIChzd2lwZUFuZ2xlIDwgMCkge1xuICAgICAgICAgICAgc3dpcGVBbmdsZSA9IDM2MCAtIE1hdGguYWJzKHN3aXBlQW5nbGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKChzd2lwZUFuZ2xlIDw9IDQ1KSAmJiAoc3dpcGVBbmdsZSA+PSAwKSkge1xuICAgICAgICAgICAgcmV0dXJuIChfLm9wdGlvbnMucnRsID09PSBmYWxzZSA/ICdsZWZ0JyA6ICdyaWdodCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoc3dpcGVBbmdsZSA8PSAzNjApICYmIChzd2lwZUFuZ2xlID49IDMxNSkpIHtcbiAgICAgICAgICAgIHJldHVybiAoXy5vcHRpb25zLnJ0bCA9PT0gZmFsc2UgPyAnbGVmdCcgOiAncmlnaHQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHN3aXBlQW5nbGUgPj0gMTM1KSAmJiAoc3dpcGVBbmdsZSA8PSAyMjUpKSB7XG4gICAgICAgICAgICByZXR1cm4gKF8ub3B0aW9ucy5ydGwgPT09IGZhbHNlID8gJ3JpZ2h0JyA6ICdsZWZ0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF8ub3B0aW9ucy52ZXJ0aWNhbFN3aXBpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGlmICgoc3dpcGVBbmdsZSA+PSAzNSkgJiYgKHN3aXBlQW5nbGUgPD0gMTM1KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnZG93bic7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAndXAnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICd2ZXJ0aWNhbCc7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnN3aXBlRW5kID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICBzbGlkZUNvdW50LFxuICAgICAgICAgICAgZGlyZWN0aW9uO1xuXG4gICAgICAgIF8uZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgXy5pbnRlcnJ1cHRlZCA9IGZhbHNlO1xuICAgICAgICBfLnNob3VsZENsaWNrID0gKCBfLnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoID4gMTAgKSA/IGZhbHNlIDogdHJ1ZTtcblxuICAgICAgICBpZiAoIF8udG91Y2hPYmplY3QuY3VyWCA9PT0gdW5kZWZpbmVkICkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBfLnRvdWNoT2JqZWN0LmVkZ2VIaXQgPT09IHRydWUgKSB7XG4gICAgICAgICAgICBfLiRzbGlkZXIudHJpZ2dlcignZWRnZScsIFtfLCBfLnN3aXBlRGlyZWN0aW9uKCkgXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIF8udG91Y2hPYmplY3Quc3dpcGVMZW5ndGggPj0gXy50b3VjaE9iamVjdC5taW5Td2lwZSApIHtcblxuICAgICAgICAgICAgZGlyZWN0aW9uID0gXy5zd2lwZURpcmVjdGlvbigpO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKCBkaXJlY3Rpb24gKSB7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgICAgICBjYXNlICdkb3duJzpcblxuICAgICAgICAgICAgICAgICAgICBzbGlkZUNvdW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIF8ub3B0aW9ucy5zd2lwZVRvU2xpZGUgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8uY2hlY2tOYXZpZ2FibGUoIF8uY3VycmVudFNsaWRlICsgXy5nZXRTbGlkZUNvdW50KCkgKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5jdXJyZW50U2xpZGUgKyBfLmdldFNsaWRlQ291bnQoKTtcblxuICAgICAgICAgICAgICAgICAgICBfLmN1cnJlbnREaXJlY3Rpb24gPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3VwJzpcblxuICAgICAgICAgICAgICAgICAgICBzbGlkZUNvdW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIF8ub3B0aW9ucy5zd2lwZVRvU2xpZGUgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8uY2hlY2tOYXZpZ2FibGUoIF8uY3VycmVudFNsaWRlIC0gXy5nZXRTbGlkZUNvdW50KCkgKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5jdXJyZW50U2xpZGUgLSBfLmdldFNsaWRlQ291bnQoKTtcblxuICAgICAgICAgICAgICAgICAgICBfLmN1cnJlbnREaXJlY3Rpb24gPSAxO1xuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcblxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKCBkaXJlY3Rpb24gIT0gJ3ZlcnRpY2FsJyApIHtcblxuICAgICAgICAgICAgICAgIF8uc2xpZGVIYW5kbGVyKCBzbGlkZUNvdW50ICk7XG4gICAgICAgICAgICAgICAgXy50b3VjaE9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgIF8uJHNsaWRlci50cmlnZ2VyKCdzd2lwZScsIFtfLCBkaXJlY3Rpb24gXSk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBpZiAoIF8udG91Y2hPYmplY3Quc3RhcnRYICE9PSBfLnRvdWNoT2JqZWN0LmN1clggKSB7XG5cbiAgICAgICAgICAgICAgICBfLnNsaWRlSGFuZGxlciggXy5jdXJyZW50U2xpZGUgKTtcbiAgICAgICAgICAgICAgICBfLnRvdWNoT2JqZWN0ID0ge307XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnN3aXBlSGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmICgoXy5vcHRpb25zLnN3aXBlID09PSBmYWxzZSkgfHwgKCdvbnRvdWNoZW5kJyBpbiBkb2N1bWVudCAmJiBfLm9wdGlvbnMuc3dpcGUgPT09IGZhbHNlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKF8ub3B0aW9ucy5kcmFnZ2FibGUgPT09IGZhbHNlICYmIGV2ZW50LnR5cGUuaW5kZXhPZignbW91c2UnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIF8udG91Y2hPYmplY3QuZmluZ2VyQ291bnQgPSBldmVudC5vcmlnaW5hbEV2ZW50ICYmIGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlcyAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlcy5sZW5ndGggOiAxO1xuXG4gICAgICAgIF8udG91Y2hPYmplY3QubWluU3dpcGUgPSBfLmxpc3RXaWR0aCAvIF8ub3B0aW9uc1xuICAgICAgICAgICAgLnRvdWNoVGhyZXNob2xkO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMudmVydGljYWxTd2lwaW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICBfLnRvdWNoT2JqZWN0Lm1pblN3aXBlID0gXy5saXN0SGVpZ2h0IC8gXy5vcHRpb25zXG4gICAgICAgICAgICAgICAgLnRvdWNoVGhyZXNob2xkO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChldmVudC5kYXRhLmFjdGlvbikge1xuXG4gICAgICAgICAgICBjYXNlICdzdGFydCc6XG4gICAgICAgICAgICAgICAgXy5zd2lwZVN0YXJ0KGV2ZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnbW92ZSc6XG4gICAgICAgICAgICAgICAgXy5zd2lwZU1vdmUoZXZlbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdlbmQnOlxuICAgICAgICAgICAgICAgIF8uc3dpcGVFbmQoZXZlbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuc3dpcGVNb3ZlID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICBlZGdlV2FzSGl0ID0gZmFsc2UsXG4gICAgICAgICAgICBjdXJMZWZ0LCBzd2lwZURpcmVjdGlvbiwgc3dpcGVMZW5ndGgsIHBvc2l0aW9uT2Zmc2V0LCB0b3VjaGVzO1xuXG4gICAgICAgIHRvdWNoZXMgPSBldmVudC5vcmlnaW5hbEV2ZW50ICE9PSB1bmRlZmluZWQgPyBldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXMgOiBudWxsO1xuXG4gICAgICAgIGlmICghXy5kcmFnZ2luZyB8fCB0b3VjaGVzICYmIHRvdWNoZXMubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjdXJMZWZ0ID0gXy5nZXRMZWZ0KF8uY3VycmVudFNsaWRlKTtcblxuICAgICAgICBfLnRvdWNoT2JqZWN0LmN1clggPSB0b3VjaGVzICE9PSB1bmRlZmluZWQgPyB0b3VjaGVzWzBdLnBhZ2VYIDogZXZlbnQuY2xpZW50WDtcbiAgICAgICAgXy50b3VjaE9iamVjdC5jdXJZID0gdG91Y2hlcyAhPT0gdW5kZWZpbmVkID8gdG91Y2hlc1swXS5wYWdlWSA6IGV2ZW50LmNsaWVudFk7XG5cbiAgICAgICAgXy50b3VjaE9iamVjdC5zd2lwZUxlbmd0aCA9IE1hdGgucm91bmQoTWF0aC5zcXJ0KFxuICAgICAgICAgICAgTWF0aC5wb3coXy50b3VjaE9iamVjdC5jdXJYIC0gXy50b3VjaE9iamVjdC5zdGFydFgsIDIpKSk7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy52ZXJ0aWNhbFN3aXBpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgIF8udG91Y2hPYmplY3Quc3dpcGVMZW5ndGggPSBNYXRoLnJvdW5kKE1hdGguc3FydChcbiAgICAgICAgICAgICAgICBNYXRoLnBvdyhfLnRvdWNoT2JqZWN0LmN1clkgLSBfLnRvdWNoT2JqZWN0LnN0YXJ0WSwgMikpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXBlRGlyZWN0aW9uID0gXy5zd2lwZURpcmVjdGlvbigpO1xuXG4gICAgICAgIGlmIChzd2lwZURpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50Lm9yaWdpbmFsRXZlbnQgIT09IHVuZGVmaW5lZCAmJiBfLnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoID4gNCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBvc2l0aW9uT2Zmc2V0ID0gKF8ub3B0aW9ucy5ydGwgPT09IGZhbHNlID8gMSA6IC0xKSAqIChfLnRvdWNoT2JqZWN0LmN1clggPiBfLnRvdWNoT2JqZWN0LnN0YXJ0WCA/IDEgOiAtMSk7XG4gICAgICAgIGlmIChfLm9wdGlvbnMudmVydGljYWxTd2lwaW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICBwb3NpdGlvbk9mZnNldCA9IF8udG91Y2hPYmplY3QuY3VyWSA+IF8udG91Y2hPYmplY3Quc3RhcnRZID8gMSA6IC0xO1xuICAgICAgICB9XG5cblxuICAgICAgICBzd2lwZUxlbmd0aCA9IF8udG91Y2hPYmplY3Quc3dpcGVMZW5ndGg7XG5cbiAgICAgICAgXy50b3VjaE9iamVjdC5lZGdlSGl0ID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5pbmZpbml0ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmICgoXy5jdXJyZW50U2xpZGUgPT09IDAgJiYgc3dpcGVEaXJlY3Rpb24gPT09ICdyaWdodCcpIHx8IChfLmN1cnJlbnRTbGlkZSA+PSBfLmdldERvdENvdW50KCkgJiYgc3dpcGVEaXJlY3Rpb24gPT09ICdsZWZ0JykpIHtcbiAgICAgICAgICAgICAgICBzd2lwZUxlbmd0aCA9IF8udG91Y2hPYmplY3Quc3dpcGVMZW5ndGggKiBfLm9wdGlvbnMuZWRnZUZyaWN0aW9uO1xuICAgICAgICAgICAgICAgIF8udG91Y2hPYmplY3QuZWRnZUhpdCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy5vcHRpb25zLnZlcnRpY2FsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgXy5zd2lwZUxlZnQgPSBjdXJMZWZ0ICsgc3dpcGVMZW5ndGggKiBwb3NpdGlvbk9mZnNldDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF8uc3dpcGVMZWZ0ID0gY3VyTGVmdCArIChzd2lwZUxlbmd0aCAqIChfLiRsaXN0LmhlaWdodCgpIC8gXy5saXN0V2lkdGgpKSAqIHBvc2l0aW9uT2Zmc2V0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChfLm9wdGlvbnMudmVydGljYWxTd2lwaW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICBfLnN3aXBlTGVmdCA9IGN1ckxlZnQgKyBzd2lwZUxlbmd0aCAqIHBvc2l0aW9uT2Zmc2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5mYWRlID09PSB0cnVlIHx8IF8ub3B0aW9ucy50b3VjaE1vdmUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy5hbmltYXRpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgIF8uc3dpcGVMZWZ0ID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIF8uc2V0Q1NTKF8uc3dpcGVMZWZ0KTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuc3dpcGVTdGFydCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgdG91Y2hlcztcblxuICAgICAgICBfLmludGVycnVwdGVkID0gdHJ1ZTtcblxuICAgICAgICBpZiAoXy50b3VjaE9iamVjdC5maW5nZXJDb3VudCAhPT0gMSB8fCBfLnNsaWRlQ291bnQgPD0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuICAgICAgICAgICAgXy50b3VjaE9iamVjdCA9IHt9O1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50Lm9yaWdpbmFsRXZlbnQgIT09IHVuZGVmaW5lZCAmJiBldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdG91Y2hlcyA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTtcbiAgICAgICAgfVxuXG4gICAgICAgIF8udG91Y2hPYmplY3Quc3RhcnRYID0gXy50b3VjaE9iamVjdC5jdXJYID0gdG91Y2hlcyAhPT0gdW5kZWZpbmVkID8gdG91Y2hlcy5wYWdlWCA6IGV2ZW50LmNsaWVudFg7XG4gICAgICAgIF8udG91Y2hPYmplY3Quc3RhcnRZID0gXy50b3VjaE9iamVjdC5jdXJZID0gdG91Y2hlcyAhPT0gdW5kZWZpbmVkID8gdG91Y2hlcy5wYWdlWSA6IGV2ZW50LmNsaWVudFk7XG5cbiAgICAgICAgXy5kcmFnZ2luZyA9IHRydWU7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnVuZmlsdGVyU2xpZGVzID0gU2xpY2sucHJvdG90eXBlLnNsaWNrVW5maWx0ZXIgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKF8uJHNsaWRlc0NhY2hlICE9PSBudWxsKSB7XG5cbiAgICAgICAgICAgIF8udW5sb2FkKCk7XG5cbiAgICAgICAgICAgIF8uJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5kZXRhY2goKTtcblxuICAgICAgICAgICAgXy4kc2xpZGVzQ2FjaGUuYXBwZW5kVG8oXy4kc2xpZGVUcmFjayk7XG5cbiAgICAgICAgICAgIF8ucmVpbml0KCk7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS51bmxvYWQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgJCgnLnNsaWNrLWNsb25lZCcsIF8uJHNsaWRlcikucmVtb3ZlKCk7XG5cbiAgICAgICAgaWYgKF8uJGRvdHMpIHtcbiAgICAgICAgICAgIF8uJGRvdHMucmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy4kcHJldkFycm93ICYmIF8uaHRtbEV4cHIudGVzdChfLm9wdGlvbnMucHJldkFycm93KSkge1xuICAgICAgICAgICAgXy4kcHJldkFycm93LnJlbW92ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8uJG5leHRBcnJvdyAmJiBfLmh0bWxFeHByLnRlc3QoXy5vcHRpb25zLm5leHRBcnJvdykpIHtcbiAgICAgICAgICAgIF8uJG5leHRBcnJvdy5yZW1vdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF8uJHNsaWRlc1xuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdzbGljay1zbGlkZSBzbGljay1hY3RpdmUgc2xpY2stdmlzaWJsZSBzbGljay1jdXJyZW50JylcbiAgICAgICAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsICd0cnVlJylcbiAgICAgICAgICAgIC5jc3MoJ3dpZHRoJywgJycpO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS51bnNsaWNrID0gZnVuY3Rpb24oZnJvbUJyZWFrcG9pbnQpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG4gICAgICAgIF8uJHNsaWRlci50cmlnZ2VyKCd1bnNsaWNrJywgW18sIGZyb21CcmVha3BvaW50XSk7XG4gICAgICAgIF8uZGVzdHJveSgpO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS51cGRhdGVBcnJvd3MgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICBjZW50ZXJPZmZzZXQ7XG5cbiAgICAgICAgY2VudGVyT2Zmc2V0ID0gTWF0aC5mbG9vcihfLm9wdGlvbnMuc2xpZGVzVG9TaG93IC8gMik7XG5cbiAgICAgICAgaWYgKCBfLm9wdGlvbnMuYXJyb3dzID09PSB0cnVlICYmXG4gICAgICAgICAgICBfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93ICYmXG4gICAgICAgICAgICAhXy5vcHRpb25zLmluZmluaXRlICkge1xuXG4gICAgICAgICAgICBfLiRwcmV2QXJyb3cucmVtb3ZlQ2xhc3MoJ3NsaWNrLWRpc2FibGVkJykuYXR0cignYXJpYS1kaXNhYmxlZCcsICdmYWxzZScpO1xuICAgICAgICAgICAgXy4kbmV4dEFycm93LnJlbW92ZUNsYXNzKCdzbGljay1kaXNhYmxlZCcpLmF0dHIoJ2FyaWEtZGlzYWJsZWQnLCAnZmFsc2UnKTtcblxuICAgICAgICAgICAgaWYgKF8uY3VycmVudFNsaWRlID09PSAwKSB7XG5cbiAgICAgICAgICAgICAgICBfLiRwcmV2QXJyb3cuYWRkQ2xhc3MoJ3NsaWNrLWRpc2FibGVkJykuYXR0cignYXJpYS1kaXNhYmxlZCcsICd0cnVlJyk7XG4gICAgICAgICAgICAgICAgXy4kbmV4dEFycm93LnJlbW92ZUNsYXNzKCdzbGljay1kaXNhYmxlZCcpLmF0dHIoJ2FyaWEtZGlzYWJsZWQnLCAnZmFsc2UnKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmIChfLmN1cnJlbnRTbGlkZSA+PSBfLnNsaWRlQ291bnQgLSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93ICYmIF8ub3B0aW9ucy5jZW50ZXJNb2RlID09PSBmYWxzZSkge1xuXG4gICAgICAgICAgICAgICAgXy4kbmV4dEFycm93LmFkZENsYXNzKCdzbGljay1kaXNhYmxlZCcpLmF0dHIoJ2FyaWEtZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAgICAgICAgICAgICAgIF8uJHByZXZBcnJvdy5yZW1vdmVDbGFzcygnc2xpY2stZGlzYWJsZWQnKS5hdHRyKCdhcmlhLWRpc2FibGVkJywgJ2ZhbHNlJyk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXy5jdXJyZW50U2xpZGUgPj0gXy5zbGlkZUNvdW50IC0gMSAmJiBfLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICAgICAgXy4kbmV4dEFycm93LmFkZENsYXNzKCdzbGljay1kaXNhYmxlZCcpLmF0dHIoJ2FyaWEtZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAgICAgICAgICAgICAgIF8uJHByZXZBcnJvdy5yZW1vdmVDbGFzcygnc2xpY2stZGlzYWJsZWQnKS5hdHRyKCdhcmlhLWRpc2FibGVkJywgJ2ZhbHNlJyk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnVwZGF0ZURvdHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKF8uJGRvdHMgIT09IG51bGwpIHtcblxuICAgICAgICAgICAgXy4kZG90c1xuICAgICAgICAgICAgICAgIC5maW5kKCdsaScpXG4gICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdzbGljay1hY3RpdmUnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG5cbiAgICAgICAgICAgIF8uJGRvdHNcbiAgICAgICAgICAgICAgICAuZmluZCgnbGknKVxuICAgICAgICAgICAgICAgIC5lcShNYXRoLmZsb29yKF8uY3VycmVudFNsaWRlIC8gXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKSlcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3NsaWNrLWFjdGl2ZScpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS52aXNpYmlsaXR5ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmICggXy5vcHRpb25zLmF1dG9wbGF5ICkge1xuXG4gICAgICAgICAgICBpZiAoIGRvY3VtZW50W18uaGlkZGVuXSApIHtcblxuICAgICAgICAgICAgICAgIF8uaW50ZXJydXB0ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgXy5pbnRlcnJ1cHRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgICQuZm4uc2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgb3B0ID0gYXJndW1lbnRzWzBdLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSksXG4gICAgICAgICAgICBsID0gXy5sZW5ndGgsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgcmV0O1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdCA9PSAnb2JqZWN0JyB8fCB0eXBlb2Ygb3B0ID09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIF9baV0uc2xpY2sgPSBuZXcgU2xpY2soX1tpXSwgb3B0KTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXQgPSBfW2ldLnNsaWNrW29wdF0uYXBwbHkoX1tpXS5zbGljaywgYXJncyk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHJldCAhPSAndW5kZWZpbmVkJykgcmV0dXJuIHJldDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXztcbiAgICB9O1xuXG59KSk7XG4iXX0=\n"]}